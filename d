cd tools/check; \
	GO111MODULE=on go build -o ../bin/ut ut.go
cd tools/check; \
	GO111MODULE=on go build -o ../bin/xprog xprog.go
GOBIN=/Users/bba/pc/tidb/tools/bin GO111MODULE=on go install github.com/pingcap/failpoint/failpoint-ctl@2eaa328
tools/bin/ut  || { find $PWD/ -type d | grep -vE "(\.git|tools)" | xargs tools/bin/failpoint-ctl disable; exit 1; }
2024/05/17 10:34:57 maxprocs: Leaving GOMAXPROCS=10: CPU quota undefined
?   	github.com/pingcap/tidb/pkg/bindinfo/norm	[no test files]
?   	github.com/pingcap/tidb/pkg/bindinfo/internal	[no test files]
?   	github.com/pingcap/tidb/pkg/bindinfo/internal/logutil	[no test files]
ok  	github.com/pingcap/tidb/pkg/autoid_service	0.076s
ok  	github.com/pingcap/tidb/pkg/bindinfo	0.076s
ok  	github.com/pingcap/tidb/pkg/bindinfo/tests	0.076s
ok  	github.com/pingcap/tidb/pkg/bindinfo/tests/timeout	0.006s
ok  	github.com/pingcap/tidb/pkg/config	0.006s
ok  	github.com/pingcap/tidb/pkg/ddl	0.006s
ok  	github.com/pingcap/tidb/pkg/ddl/copr	0.006s
?   	github.com/pingcap/tidb/pkg/ddl/ingest/testutil	[no test files]
?   	github.com/pingcap/tidb/pkg/ddl/logutil	[no test files]
?   	github.com/pingcap/tidb/pkg/ddl/resourcegroup	[no test files]
ok  	github.com/pingcap/tidb/pkg/ddl/ingest	0.022s
ok  	github.com/pingcap/tidb/pkg/ddl/ingest/tests	0.023s
ok  	github.com/pingcap/tidb/pkg/ddl/internal/session	0.022s
ok  	github.com/pingcap/tidb/pkg/ddl/label	0.023s
ok  	github.com/pingcap/tidb/pkg/ddl/placement	0.023s
ok  	github.com/pingcap/tidb/pkg/ddl/schematracker	0.015s
ok  	github.com/pingcap/tidb/pkg/ddl/syncer	0.007s
ok  	github.com/pingcap/tidb/pkg/ddl/tests/adminpause	0.009s
ok  	github.com/pingcap/tidb/pkg/ddl/tests/fail	0.019s
ok  	github.com/pingcap/tidb/pkg/ddl/tests/fastcreatetable	0.018s
ok  	github.com/pingcap/tidb/pkg/ddl/tests/fk	0.018s
ok  	github.com/pingcap/tidb/pkg/ddl/tests/indexmerge	0.012s
ok  	github.com/pingcap/tidb/pkg/ddl/tests/metadatalock	0.011s
ok  	github.com/pingcap/tidb/pkg/ddl/tests/multivaluedindex	0.015s
ok  	github.com/pingcap/tidb/pkg/ddl/tests/partition	0.008s
ok  	github.com/pingcap/tidb/pkg/ddl/tests/resourcegroup	0.005s
?   	github.com/pingcap/tidb/pkg/ddl/testutil	[no test files]
?   	github.com/pingcap/tidb/pkg/distsql/context	[no test files]
ok  	github.com/pingcap/tidb/pkg/ddl/tests/serial	0.007s
ok  	github.com/pingcap/tidb/pkg/ddl/tests/tiflash	0.008s
ok  	github.com/pingcap/tidb/pkg/ddl/util	0.009s
ok  	github.com/pingcap/tidb/pkg/ddl/util/callback	0.011s
ok  	github.com/pingcap/tidb/pkg/distsql	0.009s
ok  	github.com/pingcap/tidb/pkg/disttask/framework/handle	0.058s
?   	github.com/pingcap/tidb/pkg/disttask/framework/mock	[no test files]
?   	github.com/pingcap/tidb/pkg/disttask/framework/mock/execute	[no test files]
ok  	github.com/pingcap/tidb/pkg/disttask/framework/integrationtests	0.013s
ok  	github.com/pingcap/tidb/pkg/disttask/framework/planner	0.006s
ok  	github.com/pingcap/tidb/pkg/disttask/framework/proto	0.007s
?   	github.com/pingcap/tidb/pkg/disttask/framework/scheduler/mock	[no test files]
ok  	github.com/pingcap/tidb/pkg/disttask/framework/scheduler	0.031s
ok  	github.com/pingcap/tidb/pkg/disttask/framework/storage	0.006s
?   	github.com/pingcap/tidb/pkg/disttask/framework/taskexecutor/execute	[no test files]
?   	github.com/pingcap/tidb/pkg/disttask/framework/testutil	[no test files]
ok  	github.com/pingcap/tidb/pkg/disttask/framework/taskexecutor	0.006s
?   	github.com/pingcap/tidb/pkg/disttask/importinto/mock	[no test files]
ok  	github.com/pingcap/tidb/pkg/disttask/importinto	0.007s
ok  	github.com/pingcap/tidb/pkg/disttask/operator	0.006s
?   	github.com/pingcap/tidb/pkg/domain/metrics	[no test files]
?   	github.com/pingcap/tidb/pkg/domain/resourcegroup	[no test files]
ok  	github.com/pingcap/tidb/pkg/domain	0.013s
ok  	github.com/pingcap/tidb/pkg/domain/globalconfigsync	0.013s
ok  	github.com/pingcap/tidb/pkg/domain/infosync	0.015s
ok  	github.com/pingcap/tidb/pkg/errctx	0.013s
ok  	github.com/pingcap/tidb/pkg/errno	0.013s
ok  	github.com/pingcap/tidb/pkg/executor	0.007s
ok  	github.com/pingcap/tidb/pkg/executor/aggfuncs	0.008s
ok  	github.com/pingcap/tidb/pkg/executor/aggregate	0.036s
?   	github.com/pingcap/tidb/pkg/executor/internal/builder	[no test files]
ok  	github.com/pingcap/tidb/pkg/executor/importer	0.010s
ok  	github.com/pingcap/tidb/pkg/executor/internal/applycache	0.015s
ok  	github.com/pingcap/tidb/pkg/executor/internal/calibrateresource	0.008s
ok  	github.com/pingcap/tidb/pkg/executor/internal/exec	0.010s
ok  	github.com/pingcap/tidb/pkg/executor/internal/mpp	0.010s
ok  	github.com/pingcap/tidb/pkg/executor/internal/pdhelper	0.017s
?   	github.com/pingcap/tidb/pkg/executor/internal/testutil	[no test files]
?   	github.com/pingcap/tidb/pkg/executor/internal/util	[no test files]
ok  	github.com/pingcap/tidb/pkg/executor/internal/querywatch	0.028s
ok  	github.com/pingcap/tidb/pkg/executor/internal/vecgroupchecker	0.006s
?   	github.com/pingcap/tidb/pkg/executor/metrics	[no test files]
ok  	github.com/pingcap/tidb/pkg/executor/join	0.011s
ok  	github.com/pingcap/tidb/pkg/executor/lockstats	0.011s
ok  	github.com/pingcap/tidb/pkg/executor/mppcoordmanager	0.014s
ok  	github.com/pingcap/tidb/pkg/executor/sortexec	0.017s
ok  	github.com/pingcap/tidb/pkg/executor/test/admintest	0.008s
ok  	github.com/pingcap/tidb/pkg/executor/test/aggregate	0.005s
ok  	github.com/pingcap/tidb/pkg/executor/test/analyzetest	0.005s
ok  	github.com/pingcap/tidb/pkg/executor/test/analyzetest/memorycontrol	0.011s
ok  	github.com/pingcap/tidb/pkg/executor/test/analyzetest/panictest	0.012s
ok  	github.com/pingcap/tidb/pkg/executor/test/autoidtest	0.012s
ok  	github.com/pingcap/tidb/pkg/executor/test/ddl	0.009s
ok  	github.com/pingcap/tidb/pkg/executor/test/distsqltest	0.009s
ok  	github.com/pingcap/tidb/pkg/executor/test/executor	0.009s
ok  	github.com/pingcap/tidb/pkg/executor/test/fktest	0.012s
ok  	github.com/pingcap/tidb/pkg/executor/test/indexmergereadtest	0.007s
ok  	github.com/pingcap/tidb/pkg/executor/test/issuetest	0.007s
ok  	github.com/pingcap/tidb/pkg/executor/test/jointest	0.014s
ok  	github.com/pingcap/tidb/pkg/executor/test/jointest/hashjoin	0.051s
ok  	github.com/pingcap/tidb/pkg/executor/test/loaddatatest	0.051s
ok  	github.com/pingcap/tidb/pkg/executor/test/loadremotetest	0.051s
ok  	github.com/pingcap/tidb/pkg/executor/test/memtest	0.036s
ok  	github.com/pingcap/tidb/pkg/executor/test/oomtest	0.036s
ok  	github.com/pingcap/tidb/pkg/executor/test/passwordtest	0.009s
ok  	github.com/pingcap/tidb/pkg/executor/test/seqtest	0.005s
ok  	github.com/pingcap/tidb/pkg/executor/test/showtest	0.006s
ok  	github.com/pingcap/tidb/pkg/executor/test/simpletest	0.119s
ok  	github.com/pingcap/tidb/pkg/executor/test/splittest	0.008s
ok  	github.com/pingcap/tidb/pkg/executor/test/tiflashtest	0.006s
ok  	github.com/pingcap/tidb/pkg/executor/test/unstabletest	0.005s
?   	github.com/pingcap/tidb/pkg/executor/unionexec	[no test files]
ok  	github.com/pingcap/tidb/pkg/executor/test/writetest	0.005s
?   	github.com/pingcap/tidb/pkg/expression/generator/helper	[no test files]
ok  	github.com/pingcap/tidb/pkg/expression	0.009s
ok  	github.com/pingcap/tidb/pkg/expression/aggregation	0.008s
ok  	github.com/pingcap/tidb/pkg/expression/context	0.009s
ok  	github.com/pingcap/tidb/pkg/expression/contextopt	0.012s
ok  	github.com/pingcap/tidb/pkg/expression/contextsession	0.014s
ok  	github.com/pingcap/tidb/pkg/expression/contextstatic	0.009s
ok  	github.com/pingcap/tidb/pkg/expression/integration_test	0.006s
ok  	github.com/pingcap/tidb/pkg/expression/test/multivaluedindex	0.007s
?   	github.com/pingcap/tidb/pkg/extension/extensionimpl	[no test files]
ok  	github.com/pingcap/tidb/pkg/extension	0.007s
?   	github.com/pingcap/tidb/pkg/infoschema/context	[no test files]
?   	github.com/pingcap/tidb/pkg/infoschema/metrics	[no test files]
ok  	github.com/pingcap/tidb/pkg/infoschema	0.016s
ok  	github.com/pingcap/tidb/pkg/infoschema/internal	0.011s
ok  	github.com/pingcap/tidb/pkg/infoschema/perfschema	0.011s
ok  	github.com/pingcap/tidb/pkg/infoschema/test/cachetest	0.013s
?   	github.com/pingcap/tidb/pkg/lock	[no test files]
?   	github.com/pingcap/tidb/pkg/lock/context	[no test files]
ok  	github.com/pingcap/tidb/pkg/infoschema/test/clustertablestest	0.009s
ok  	github.com/pingcap/tidb/pkg/infoschema/test/infoschemav2test	0.014s
ok  	github.com/pingcap/tidb/pkg/keyspace	0.016s
ok  	github.com/pingcap/tidb/pkg/kv	0.008s
ok  	github.com/pingcap/tidb/pkg/meta	0.013s
ok  	github.com/pingcap/tidb/pkg/meta/autoid	0.013s
ok  	github.com/pingcap/tidb/pkg/metrics	0.008s
?   	github.com/pingcap/tidb/pkg/param	[no test files]
?   	github.com/pingcap/tidb/pkg/planner	[no test files]
ok  	github.com/pingcap/tidb/pkg/owner	0.008s
?   	github.com/pingcap/tidb/pkg/planner/context	[no test files]
?   	github.com/pingcap/tidb/pkg/planner/contextimpl	[no test files]
ok  	github.com/pingcap/tidb/pkg/planner/cardinality	0.007s
ok  	github.com/pingcap/tidb/pkg/planner/cascades	0.007s
?   	github.com/pingcap/tidb/pkg/planner/core/base	[no test files]
ok  	github.com/pingcap/tidb/pkg/planner/core	0.013s
ok  	github.com/pingcap/tidb/pkg/planner/core/casetest	0.018s
ok  	github.com/pingcap/tidb/pkg/planner/core/casetest/binaryplan	0.008s
ok  	github.com/pingcap/tidb/pkg/planner/core/casetest/cbotest	0.009s
ok  	github.com/pingcap/tidb/pkg/planner/core/casetest/correlated	0.007s
ok  	github.com/pingcap/tidb/pkg/planner/core/casetest/dag	0.011s
ok  	github.com/pingcap/tidb/pkg/planner/core/casetest/enforcempp	0.008s
ok  	github.com/pingcap/tidb/pkg/planner/core/casetest/flatplan	0.009s
ok  	github.com/pingcap/tidb/pkg/planner/core/casetest/hint	0.015s
ok  	github.com/pingcap/tidb/pkg/planner/core/casetest/index	0.014s
ok  	github.com/pingcap/tidb/pkg/planner/core/casetest/mpp	0.031s
ok  	github.com/pingcap/tidb/pkg/planner/core/casetest/parallelapply	0.009s
ok  	github.com/pingcap/tidb/pkg/planner/core/casetest/partition	0.017s
ok  	github.com/pingcap/tidb/pkg/planner/core/casetest/physicalplantest	0.008s
ok  	github.com/pingcap/tidb/pkg/planner/core/casetest/planstats	0.008s
?   	github.com/pingcap/tidb/pkg/planner/core/cost	[no test files]
?   	github.com/pingcap/tidb/pkg/planner/core/metrics	[no test files]
?   	github.com/pingcap/tidb/pkg/planner/core/operator/baseimpl	[no test files]
ok  	github.com/pingcap/tidb/pkg/planner/core/casetest/pushdown	0.008s
ok  	github.com/pingcap/tidb/pkg/planner/core/casetest/rule	0.017s
ok  	github.com/pingcap/tidb/pkg/planner/core/casetest/scalarsubquery	0.023s
ok  	github.com/pingcap/tidb/pkg/planner/core/casetest/windows	0.016s
ok  	github.com/pingcap/tidb/pkg/planner/core/issuetest	0.021s
ok  	github.com/pingcap/tidb/pkg/planner/core/tests/prepare	0.005s
?   	github.com/pingcap/tidb/pkg/planner/property	[no test files]
?   	github.com/pingcap/tidb/pkg/planner/util/coretestsdk	[no test files]
?   	github.com/pingcap/tidb/pkg/planner/util/coreusage	[no test files]
?   	github.com/pingcap/tidb/pkg/planner/util/debugtrace	[no test files]
?   	github.com/pingcap/tidb/pkg/planner/util/costusage	[no test files]
ok  	github.com/pingcap/tidb/pkg/planner/funcdep	0.007s
ok  	github.com/pingcap/tidb/pkg/planner/implementation	0.014s
ok  	github.com/pingcap/tidb/pkg/planner/memo	0.018s
ok  	github.com/pingcap/tidb/pkg/planner/pattern	0.012s
ok  	github.com/pingcap/tidb/pkg/planner/task	0.019s
ok  	github.com/pingcap/tidb/pkg/planner/util	0.017s
?   	github.com/pingcap/tidb/pkg/planner/util/optimizetrace	[no test files]
?   	github.com/pingcap/tidb/pkg/planner/util/tablesampler	[no test files]
?   	github.com/pingcap/tidb/pkg/planner/util/utilfuncp	[no test files]
ok  	github.com/pingcap/tidb/pkg/planner/util/fixcontrol	0.006s
?   	github.com/pingcap/tidb/pkg/privilege/conn	[no test files]
?   	github.com/pingcap/tidb/pkg/privilege	[no test files]
ok  	github.com/pingcap/tidb/pkg/plugin	0.008s
ok  	github.com/pingcap/tidb/pkg/plugin/conn_ip_example	0.007s
ok  	github.com/pingcap/tidb/pkg/privilege/privileges	0.006s
ok  	github.com/pingcap/tidb/pkg/privilege/privileges/ldap	0.007s
?   	github.com/pingcap/tidb/pkg/resourcemanager/pool	[no test files]
ok  	github.com/pingcap/tidb/pkg/resourcemanager	0.006s
ok  	github.com/pingcap/tidb/pkg/resourcemanager/pool/spool	0.006s
?   	github.com/pingcap/tidb/pkg/resourcemanager/poolmanager	[no test files]
?   	github.com/pingcap/tidb/pkg/resourcemanager/scheduler	[no test files]
ok  	github.com/pingcap/tidb/pkg/resourcemanager/pool/workerpool	0.006s
ok  	github.com/pingcap/tidb/pkg/resourcemanager/util	0.007s
?   	github.com/pingcap/tidb/pkg/server/err	[no test files]
?   	github.com/pingcap/tidb/pkg/server/handler	[no test files]
ok  	github.com/pingcap/tidb/pkg/server	0.009s
ok  	github.com/pingcap/tidb/pkg/server/handler/extractorhandler	0.006s
ok  	github.com/pingcap/tidb/pkg/server/handler/optimizor	0.005s
?   	github.com/pingcap/tidb/pkg/server/handler/tikvhandler	[no test files]
?   	github.com/pingcap/tidb/pkg/server/handler/ttlhandler	[no test files]
ok  	github.com/pingcap/tidb/pkg/server/handler/tests	0.006s
ok  	github.com/pingcap/tidb/pkg/server/internal	0.007s
ok  	github.com/pingcap/tidb/pkg/server/internal/column	0.009s
?   	github.com/pingcap/tidb/pkg/server/internal/handshake	[no test files]
?   	github.com/pingcap/tidb/pkg/server/internal/resultset	[no test files]
?   	github.com/pingcap/tidb/pkg/server/internal/testserverclient	[no test files]
?   	github.com/pingcap/tidb/pkg/server/internal/testutil	[no test files]
ok  	github.com/pingcap/tidb/pkg/server/internal/dump	0.008s
ok  	github.com/pingcap/tidb/pkg/server/internal/parse	0.014s
?   	github.com/pingcap/tidb/pkg/server/metrics	[no test files]
ok  	github.com/pingcap/tidb/pkg/server/internal/util	0.012s
ok  	github.com/pingcap/tidb/pkg/server/tests	0.031s
ok  	github.com/pingcap/tidb/pkg/server/tests/commontest	0.010s
?   	github.com/pingcap/tidb/pkg/server/tests/servertestkit	[no test files]
?   	github.com/pingcap/tidb/pkg/session/metrics	[no test files]
ok  	github.com/pingcap/tidb/pkg/server/tests/cursor	0.008s
ok  	github.com/pingcap/tidb/pkg/server/tests/tls	0.019s
ok  	github.com/pingcap/tidb/pkg/session	0.014s
ok  	github.com/pingcap/tidb/pkg/session/bootstraptest	0.020s
ok  	github.com/pingcap/tidb/pkg/session/clusteredindextest	0.019s
ok  	github.com/pingcap/tidb/pkg/session/nontransactionaltest	0.011s
ok  	github.com/pingcap/tidb/pkg/session/resourcegrouptest	0.012s
?   	github.com/pingcap/tidb/pkg/session/txninfo	[no test files]
?   	github.com/pingcap/tidb/pkg/session/types	[no test files]
ok  	github.com/pingcap/tidb/pkg/session/schematest	0.097s
ok  	github.com/pingcap/tidb/pkg/session/temporarytabletest	0.081s
ok  	github.com/pingcap/tidb/pkg/session/test	0.081s
ok  	github.com/pingcap/tidb/pkg/session/test/common	0.080s
ok  	github.com/pingcap/tidb/pkg/session/test/meta	0.069s
ok  	github.com/pingcap/tidb/pkg/session/test/privileges	0.061s
ok  	github.com/pingcap/tidb/pkg/session/test/txn	0.072s
ok  	github.com/pingcap/tidb/pkg/session/test/variable	0.070s
ok  	github.com/pingcap/tidb/pkg/session/test/vars	0.054s
ok  	github.com/pingcap/tidb/pkg/sessionctx	0.019s
ok  	github.com/pingcap/tidb/pkg/sessionctx/binloginfo	0.020s
?   	github.com/pingcap/tidb/pkg/sessionctx/sysproctrack	[no test files]
?   	github.com/pingcap/tidb/pkg/sessiontxn/internal	[no test files]
?   	github.com/pingcap/tidb/pkg/sessiontxn/isolation/metrics	[no test files]
ok  	github.com/pingcap/tidb/pkg/sessionctx/sessionstates	0.014s
ok  	github.com/pingcap/tidb/pkg/sessionctx/stmtctx	0.014s
ok  	github.com/pingcap/tidb/pkg/sessionctx/variable	0.014s
ok  	github.com/pingcap/tidb/pkg/sessiontxn	0.013s
ok  	github.com/pingcap/tidb/pkg/sessiontxn/isolation	0.015s
ok  	github.com/pingcap/tidb/pkg/sessiontxn/staleread	0.013s
?   	github.com/pingcap/tidb/pkg/statistics/asyncload	[no test files]
ok  	github.com/pingcap/tidb/pkg/statistics	0.008s
ok  	github.com/pingcap/tidb/pkg/statistics/handle	0.008s
ok  	github.com/pingcap/tidb/pkg/statistics/handle/autoanalyze	0.007s
ok  	github.com/pingcap/tidb/pkg/statistics/handle/autoanalyze/exec	0.007s
?   	github.com/pingcap/tidb/pkg/statistics/handle/cache/internal	[no test files]
?   	github.com/pingcap/tidb/pkg/statistics/handle/cache/internal/mapcache	[no test files]
?   	github.com/pingcap/tidb/pkg/statistics/handle/cache/internal/metrics	[no test files]
?   	github.com/pingcap/tidb/pkg/statistics/handle/cache/internal/testutil	[no test files]
ok  	github.com/pingcap/tidb/pkg/statistics/handle/autoanalyze/priorityqueue	0.010s
ok  	github.com/pingcap/tidb/pkg/statistics/handle/autoanalyze/refresher	0.012s
ok  	github.com/pingcap/tidb/pkg/statistics/handle/cache	0.010s
ok  	github.com/pingcap/tidb/pkg/statistics/handle/cache/internal/lfu	0.013s
ok  	github.com/pingcap/tidb/pkg/statistics/handle/ddl	0.006s
?   	github.com/pingcap/tidb/pkg/statistics/handle/history	[no test files]
?   	github.com/pingcap/tidb/pkg/statistics/handle/initstats	[no test files]
?   	github.com/pingcap/tidb/pkg/statistics/handle/internal	[no test files]
?   	github.com/pingcap/tidb/pkg/statistics/handle/logutil	[no test files]
?   	github.com/pingcap/tidb/pkg/statistics/handle/metrics	[no test files]
ok  	github.com/pingcap/tidb/pkg/statistics/handle/globalstats	0.020s
ok  	github.com/pingcap/tidb/pkg/statistics/handle/handletest	0.012s
ok  	github.com/pingcap/tidb/pkg/statistics/handle/handletest/analyze	0.011s
ok  	github.com/pingcap/tidb/pkg/statistics/handle/handletest/lockstats	0.020s
ok  	github.com/pingcap/tidb/pkg/statistics/handle/handletest/statstest	0.020s
ok  	github.com/pingcap/tidb/pkg/statistics/handle/lockstats	0.021s
?   	github.com/pingcap/tidb/pkg/statistics/handle/types	[no test files]
ok  	github.com/pingcap/tidb/pkg/statistics/handle/storage	0.007s
ok  	github.com/pingcap/tidb/pkg/statistics/handle/syncload	0.007s
ok  	github.com/pingcap/tidb/pkg/statistics/handle/updatetest	0.009s
?   	github.com/pingcap/tidb/pkg/statistics/handle/util/test	[no test files]
ok  	github.com/pingcap/tidb/pkg/statistics/handle/usage	0.008s
ok  	github.com/pingcap/tidb/pkg/statistics/handle/usage/collector	0.014s
ok  	github.com/pingcap/tidb/pkg/statistics/handle/usage/indexusage	0.018s
ok  	github.com/pingcap/tidb/pkg/statistics/handle/util	0.014s
ok  	github.com/pingcap/tidb/pkg/store	0.015s
ok  	github.com/pingcap/tidb/pkg/store/copr	0.008s
?   	github.com/pingcap/tidb/pkg/store/copr/metrics	[no test files]
ok  	github.com/pingcap/tidb/pkg/store/copr/copr_test	0.007s
?   	github.com/pingcap/tidb/pkg/store/driver/backoff	[no test files]
?   	github.com/pingcap/tidb/pkg/store/driver/options	[no test files]
ok  	github.com/pingcap/tidb/pkg/store/driver	0.006s
ok  	github.com/pingcap/tidb/pkg/store/driver/error	0.007s
ok  	github.com/pingcap/tidb/pkg/store/driver/txn	0.006s
ok  	github.com/pingcap/tidb/pkg/store/gcworker	0.007s
ok  	github.com/pingcap/tidb/pkg/store/helper	0.007s
ok  	github.com/pingcap/tidb/pkg/store/mockstore	0.007s
?   	github.com/pingcap/tidb/pkg/store/mockstore/mockstorage	[no test files]
?   	github.com/pingcap/tidb/pkg/store/mockstore/unistore/client	[no test files]
?   	github.com/pingcap/tidb/pkg/store/mockstore/unistore/config	[no test files]
ok  	github.com/pingcap/tidb/pkg/store/mockstore/mockcopr	0.006s
ok  	github.com/pingcap/tidb/pkg/store/mockstore/unistore	0.006s
?   	github.com/pingcap/tidb/pkg/store/mockstore/unistore/metrics	[no test files]
?   	github.com/pingcap/tidb/pkg/store/mockstore/unistore/server	[no test files]
?   	github.com/pingcap/tidb/pkg/store/mockstore/unistore/pd	[no test files]
ok  	github.com/pingcap/tidb/pkg/store/mockstore/unistore/cophandler	0.008s
ok  	github.com/pingcap/tidb/pkg/store/mockstore/unistore/lockstore	0.008s
?   	github.com/pingcap/tidb/pkg/store/mockstore/unistore/tikv/dbreader	[no test files]
?   	github.com/pingcap/tidb/pkg/store/mockstore/unistore/tikv/kverrors	[no test files]
?   	github.com/pingcap/tidb/pkg/store/mockstore/unistore/tikv/mvcc	[no test files]
?   	github.com/pingcap/tidb/pkg/store/mockstore/unistore/tikv/pberror	[no test files]
?   	github.com/pingcap/tidb/pkg/store/pdtypes	[no test files]
ok  	github.com/pingcap/tidb/pkg/store/mockstore/unistore/tikv	0.007s
ok  	github.com/pingcap/tidb/pkg/store/mockstore/unistore/util/lockwaiter	0.009s
?   	github.com/pingcap/tidb/pkg/table/context	[no test files]
?   	github.com/pingcap/tidb/pkg/table/contextimpl	[no test files]
?   	github.com/pingcap/tidb/pkg/testkit/ddlhelper	[no test files]
?   	github.com/pingcap/tidb/pkg/testkit/external	[no test files]
?   	github.com/pingcap/tidb/pkg/testkit/testenv	[no test files]
ok  	github.com/pingcap/tidb/pkg/structure	0.007s
ok  	github.com/pingcap/tidb/pkg/table	0.013s
ok  	github.com/pingcap/tidb/pkg/table/tables	0.014s
ok  	github.com/pingcap/tidb/pkg/table/tables/test/partition	0.013s
ok  	github.com/pingcap/tidb/pkg/table/temptable	0.018s
ok  	github.com/pingcap/tidb/pkg/tablecodec	0.021s
ok  	github.com/pingcap/tidb/pkg/tablecodec/rowindexcodec	0.025s
ok  	github.com/pingcap/tidb/pkg/testkit	0.028s
?   	github.com/pingcap/tidb/pkg/testkit/testmain	[no test files]
?   	github.com/pingcap/tidb/pkg/testkit/testsetup	[no test files]
ok  	github.com/pingcap/tidb/pkg/testkit/testfork	0.008s
?   	github.com/pingcap/tidb/pkg/tidb-binlog/proto/go-binlog	[no test files]
ok  	github.com/pingcap/tidb/pkg/testkit/testutil	0.011s
ok  	github.com/pingcap/tidb/pkg/tidb-binlog/driver/reader	0.011s
ok  	github.com/pingcap/tidb/pkg/tidb-binlog/node	0.014s
ok  	github.com/pingcap/tidb/pkg/tidb-binlog/pump_client	0.011s
?   	github.com/pingcap/tidb/pkg/timer/metrics	[no test files]
ok  	github.com/pingcap/tidb/pkg/timer	0.018s
ok  	github.com/pingcap/tidb/pkg/timer/api	0.017s
ok  	github.com/pingcap/tidb/pkg/timer/runtime	0.017s
ok  	github.com/pingcap/tidb/pkg/timer/tablestore	0.018s
ok  	github.com/pingcap/tidb/pkg/ttl/cache	0.013s
ok  	github.com/pingcap/tidb/pkg/ttl/client	0.013s
ok  	github.com/pingcap/tidb/pkg/ttl/metrics	0.015s
ok  	github.com/pingcap/tidb/pkg/ttl/session	0.013s
ok  	github.com/pingcap/tidb/pkg/ttl/sqlbuilder	0.013s
ok  	github.com/pingcap/tidb/pkg/ttl/ttlworker	0.009s
ok  	github.com/pingcap/tidb/pkg/types	0.009s
ok  	github.com/pingcap/tidb/pkg/types/parser_driver	0.009s
ok  	github.com/pingcap/tidb/pkg/util	0.016s
?   	github.com/pingcap/tidb/pkg/util/breakpoint	[no test files]
?   	github.com/pingcap/tidb/pkg/util/cgmon	[no test files]
?   	github.com/pingcap/tidb/pkg/util/channel	[no test files]
ok  	github.com/pingcap/tidb/pkg/util/admin	0.009s
ok  	github.com/pingcap/tidb/pkg/util/arena	0.020s
ok  	github.com/pingcap/tidb/pkg/util/backoff	0.020s
ok  	github.com/pingcap/tidb/pkg/util/benchdaily	0.027s
ok  	github.com/pingcap/tidb/pkg/util/bitmap	0.034s
ok  	github.com/pingcap/tidb/pkg/util/cdcutil	0.021s
ok  	github.com/pingcap/tidb/pkg/util/cgroup	0.016s
ok  	github.com/pingcap/tidb/pkg/util/checksum	0.034s
ok  	github.com/pingcap/tidb/pkg/util/chunk	0.006s
ok  	github.com/pingcap/tidb/pkg/util/codec	0.006s
?   	github.com/pingcap/tidb/pkg/util/collate/ucadata/generator	[no test files]
?   	github.com/pingcap/tidb/pkg/util/collate/ucaimpl	[no test files]
?   	github.com/pingcap/tidb/pkg/util/compress	[no test files]
ok  	github.com/pingcap/tidb/pkg/util/collate	0.013s
ok  	github.com/pingcap/tidb/pkg/util/collate/ucadata	0.019s
ok  	github.com/pingcap/tidb/pkg/util/column-mapping	0.019s
ok  	github.com/pingcap/tidb/pkg/util/context	0.026s
ok  	github.com/pingcap/tidb/pkg/util/cpu	0.026s
?   	github.com/pingcap/tidb/pkg/util/cpuprofile/testutil	[no test files]
?   	github.com/pingcap/tidb/pkg/util/dbterror/exeerrors	[no test files]
ok  	github.com/pingcap/tidb/pkg/util/cpuprofile	0.015s
ok  	github.com/pingcap/tidb/pkg/util/cteutil	0.013s
ok  	github.com/pingcap/tidb/pkg/util/dbterror	0.009s
ok  	github.com/pingcap/tidb/pkg/util/dbterror/plannererrors	0.007s
?   	github.com/pingcap/tidb/pkg/util/dbutil/dbutiltest	[no test files]
?   	github.com/pingcap/tidb/pkg/util/domainutil	[no test files]
ok  	github.com/pingcap/tidb/pkg/util/dbutil	0.009s
ok  	github.com/pingcap/tidb/pkg/util/ddl-checker	0.022s
ok  	github.com/pingcap/tidb/pkg/util/deadlockhistory	0.016s
ok  	github.com/pingcap/tidb/pkg/util/disjointset	0.031s
ok  	github.com/pingcap/tidb/pkg/util/disk	0.011s
ok  	github.com/pingcap/tidb/pkg/util/disttask	0.014s
ok  	github.com/pingcap/tidb/pkg/util/encrypt	0.008s
ok  	github.com/pingcap/tidb/pkg/util/engine	0.027s
ok  	github.com/pingcap/tidb/pkg/util/etcd	0.035s
ok  	github.com/pingcap/tidb/pkg/util/execdetails	0.039s
ok  	github.com/pingcap/tidb/pkg/util/expensivequery	0.044s
ok  	github.com/pingcap/tidb/pkg/util/extsort	0.006s
ok  	github.com/pingcap/tidb/pkg/util/fastrand	0.012s
ok  	github.com/pingcap/tidb/pkg/util/filter	0.010s
ok  	github.com/pingcap/tidb/pkg/util/format	0.010s
?   	github.com/pingcap/tidb/pkg/util/gcutil	[no test files]
ok  	github.com/pingcap/tidb/pkg/util/gctuner	0.005s
?   	github.com/pingcap/tidb/pkg/util/hint	[no test files]
?   	github.com/pingcap/tidb/pkg/util/importer	[no test files]
?   	github.com/pingcap/tidb/pkg/util/israce	[no test files]
ok  	github.com/pingcap/tidb/pkg/util/generatedexpr	0.021s
ok  	github.com/pingcap/tidb/pkg/util/generic	0.008s
ok  	github.com/pingcap/tidb/pkg/util/globalconn	0.015s
ok  	github.com/pingcap/tidb/pkg/util/hack	0.021s
ok  	github.com/pingcap/tidb/pkg/util/intest	0.023s
ok  	github.com/pingcap/tidb/pkg/util/intset	0.021s
?   	github.com/pingcap/tidb/pkg/util/linter/constructor	[no test files]
?   	github.com/pingcap/tidb/pkg/util/logutil/consistency	[no test files]
?   	github.com/pingcap/tidb/pkg/util/metricsutil	[no test files]
?   	github.com/pingcap/tidb/pkg/util/nocopy	[no test files]
?   	github.com/pingcap/tidb/pkg/util/plancache	[no test files]
ok  	github.com/pingcap/tidb/pkg/util/keydecoder	0.018s
ok  	github.com/pingcap/tidb/pkg/util/kvcache	0.009s
ok  	github.com/pingcap/tidb/pkg/util/localpool	0.014s
ok  	github.com/pingcap/tidb/pkg/util/logutil	0.033s
ok  	github.com/pingcap/tidb/pkg/util/mathutil	0.043s
ok  	github.com/pingcap/tidb/pkg/util/memory	0.022s
ok  	github.com/pingcap/tidb/pkg/util/memoryusagealarm	0.036s
ok  	github.com/pingcap/tidb/pkg/util/mock	0.030s
ok  	github.com/pingcap/tidb/pkg/util/mvmap	0.063s
ok  	github.com/pingcap/tidb/pkg/util/paging	0.047s
ok  	github.com/pingcap/tidb/pkg/util/parser	0.057s
ok  	github.com/pingcap/tidb/pkg/util/password-validation	0.048s
ok  	github.com/pingcap/tidb/pkg/util/plancodec	0.011s
ok  	github.com/pingcap/tidb/pkg/util/prefetch	0.010s
ok  	github.com/pingcap/tidb/pkg/util/printer	0.012s
?   	github.com/pingcap/tidb/pkg/util/ranger/context	[no test files]
?   	github.com/pingcap/tidb/pkg/util/replayer	[no test files]
?   	github.com/pingcap/tidb/pkg/util/serialization	[no test files]
ok  	github.com/pingcap/tidb/pkg/util/profile	0.015s
ok  	github.com/pingcap/tidb/pkg/util/promutil	0.007s
ok  	github.com/pingcap/tidb/pkg/util/ranger	0.025s
ok  	github.com/pingcap/tidb/pkg/util/redact	0.018s
ok  	github.com/pingcap/tidb/pkg/util/regexpr-router	0.033s
ok  	github.com/pingcap/tidb/pkg/util/resourcegrouptag	0.033s
ok  	github.com/pingcap/tidb/pkg/util/rowDecoder	0.044s
ok  	github.com/pingcap/tidb/pkg/util/rowcodec	0.042s
ok  	github.com/pingcap/tidb/pkg/util/schemacmp	0.033s
ok  	github.com/pingcap/tidb/pkg/util/selection	0.033s
ok  	github.com/pingcap/tidb/pkg/util/sem	0.010s
ok  	github.com/pingcap/tidb/pkg/util/servermemorylimit	0.035s
ok  	github.com/pingcap/tidb/pkg/util/servicescope	0.012s
?   	github.com/pingcap/tidb/pkg/util/signal	[no test files]
?   	github.com/pingcap/tidb/pkg/util/size	[no test files]
?   	github.com/pingcap/tidb/pkg/util/skip	[no test files]
?   	github.com/pingcap/tidb/pkg/util/sli	[no test files]
ok  	github.com/pingcap/tidb/pkg/util/set	0.021s
ok  	github.com/pingcap/tidb/pkg/util/slice	0.018s
ok  	github.com/pingcap/tidb/pkg/util/sqlescape	0.017s
?   	github.com/pingcap/tidb/pkg/util/sqlexec/mock	[no test files]
?   	github.com/pingcap/tidb/pkg/util/sqlkiller	[no test files]
ok  	github.com/pingcap/tidb/pkg/util/sqlexec	0.012s
ok  	github.com/pingcap/tidb/pkg/util/stmtsummary	0.011s
ok  	github.com/pingcap/tidb/pkg/util/stmtsummary/v2	0.014s
?   	github.com/pingcap/tidb/pkg/util/syncutil	[no test files]
?   	github.com/pingcap/tidb/pkg/util/tableutil	[no test files]
?   	github.com/pingcap/tidb/pkg/util/tiflash	[no test files]
?   	github.com/pingcap/tidb/pkg/util/tiflashcompute	[no test files]
?   	github.com/pingcap/tidb/pkg/util/tikvutil	[no test files]
?   	github.com/pingcap/tidb/pkg/util/tls	[no test files]
?   	github.com/pingcap/tidb/pkg/util/topsql/collector/mock	[no test files]
ok  	github.com/pingcap/tidb/pkg/util/stmtsummary/v2/tests	0.008s
ok  	github.com/pingcap/tidb/pkg/util/stringutil	0.021s
ok  	github.com/pingcap/tidb/pkg/util/sys/linux	0.018s
ok  	github.com/pingcap/tidb/pkg/util/sys/storage	0.042s
ok  	github.com/pingcap/tidb/pkg/util/systimemon	0.029s
ok  	github.com/pingcap/tidb/pkg/util/table-filter	0.014s
ok  	github.com/pingcap/tidb/pkg/util/table-router	0.012s
ok  	github.com/pingcap/tidb/pkg/util/table-rule-selector	0.033s
ok  	github.com/pingcap/tidb/pkg/util/texttree	0.025s
ok  	github.com/pingcap/tidb/pkg/util/timeutil	0.049s
ok  	github.com/pingcap/tidb/pkg/util/topsql	0.044s
ok  	github.com/pingcap/tidb/pkg/util/topsql/collector	0.037s
?   	github.com/pingcap/tidb/pkg/util/topsql/reporter/metrics	[no test files]
?   	github.com/pingcap/tidb/pkg/util/topsql/reporter/mock	[no test files]
?   	github.com/pingcap/tidb/pkg/util/topsql/state	[no test files]
?   	github.com/pingcap/tidb/pkg/util/trxevents	[no test files]
?   	github.com/pingcap/tidb/pkg/util/versioninfo	[no test files]
?   	github.com/pingcap/tidb/tools/dashboard-linter	[no test files]
?   	github.com/pingcap/tidb/tools/fake-oauth	[no test files]
?   	github.com/pingcap/tidb/tools/gen-parquet	[no test files]
?   	github.com/pingcap/tidb/tools/patch-go	[no test files]
?   	github.com/pingcap/tidb/tools/tazel	[no test files]
ok  	github.com/pingcap/tidb/pkg/util/topsql/reporter	0.010s
ok  	github.com/pingcap/tidb/pkg/util/topsql/stmtstats	0.011s
ok  	github.com/pingcap/tidb/pkg/util/tracing	0.010s
ok  	github.com/pingcap/tidb/pkg/util/vitess	0.012s
ok  	github.com/pingcap/tidb/pkg/util/watcher	0.013s
ok  	github.com/pingcap/tidb/pkg/util/zeropool	0.010s
no test case in  pkg/bindinfo/internal
no test case in  pkg/bindinfo/internal/logutil
no test case in  pkg/bindinfo/norm
no test case in  pkg/ddl/ingest/testutil
no test case in  pkg/ddl/logutil
no test case in  pkg/ddl/resourcegroup
no test case in  pkg/ddl/testutil
no test case in  pkg/distsql/context
no test case in  pkg/disttask/framework/mock
no test case in  pkg/disttask/framework/mock/execute
no test case in  pkg/disttask/framework/scheduler/mock
no test case in  pkg/disttask/framework/taskexecutor/execute
no test case in  pkg/disttask/framework/testutil
no test case in  pkg/disttask/importinto/mock
no test case in  pkg/domain/metrics
no test case in  pkg/domain/resourcegroup
no test case in  pkg/executor/internal/builder
no test case in  pkg/executor/internal/testutil
no test case in  pkg/executor/internal/util
no test case in  pkg/executor/metrics
no test case in  pkg/executor/unionexec
no test case in  pkg/expression/generator/helper
no test case in  pkg/extension/extensionimpl
no test case in  pkg/infoschema/context
no test case in  pkg/infoschema/metrics
no test case in  pkg/lock
no test case in  pkg/lock/context
no test case in  pkg/param
no test case in  pkg/planner
no test case in  pkg/planner/context
no test case in  pkg/planner/contextimpl
no test case in  pkg/planner/core/base
no test case in  pkg/planner/core/cost
no test case in  pkg/planner/core/metrics
no test case in  pkg/planner/core/operator/baseimpl
no test case in  pkg/planner/property
no test case in  pkg/planner/util/coretestsdk
no test case in  pkg/planner/util/coreusage
no test case in  pkg/planner/util/costusage
no test case in  pkg/planner/util/debugtrace
no test case in  pkg/planner/util/optimizetrace
no test case in  pkg/planner/util/tablesampler
no test case in  pkg/planner/util/utilfuncp
no test case in  pkg/privilege
no test case in  pkg/privilege/conn
no test case in  pkg/resourcemanager/pool
no test case in  pkg/resourcemanager/poolmanager
no test case in  pkg/resourcemanager/scheduler
no test case in  pkg/server/err
no test case in  pkg/server/handler
no test case in  pkg/server/handler/tikvhandler
no test case in  pkg/server/handler/ttlhandler
no test case in  pkg/server/internal/handshake
no test case in  pkg/server/internal/resultset
no test case in  pkg/server/internal/testserverclient
no test case in  pkg/server/internal/testutil
no test case in  pkg/server/metrics
no test case in  pkg/server/tests/servertestkit
no test case in  pkg/session/metrics
no test case in  pkg/session/txninfo
no test case in  pkg/session/types
no test case in  pkg/sessionctx/sysproctrack
no test case in  pkg/sessiontxn/internal
no test case in  pkg/sessiontxn/isolation/metrics
no test case in  pkg/statistics/asyncload
no test case in  pkg/statistics/handle/cache/internal
no test case in  pkg/statistics/handle/cache/internal/mapcache
no test case in  pkg/statistics/handle/cache/internal/metrics
no test case in  pkg/statistics/handle/cache/internal/testutil
no test case in  pkg/statistics/handle/history
no test case in  pkg/statistics/handle/initstats
no test case in  pkg/statistics/handle/internal
no test case in  pkg/statistics/handle/logutil
no test case in  pkg/statistics/handle/metrics
no test case in  pkg/statistics/handle/types
no test case in  pkg/statistics/handle/util/test
no test case in  pkg/store/copr/metrics
no test case in  pkg/store/driver/backoff
no test case in  pkg/store/driver/options
no test case in  pkg/store/mockstore/mockstorage
no test case in  pkg/store/mockstore/unistore/client
no test case in  pkg/store/mockstore/unistore/config
no test case in  pkg/store/mockstore/unistore/metrics
no test case in  pkg/store/mockstore/unistore/pd
no test case in  pkg/store/mockstore/unistore/server
no test case in  pkg/store/mockstore/unistore/tikv/dbreader
no test case in  pkg/store/mockstore/unistore/tikv/kverrors
no test case in  pkg/store/mockstore/unistore/tikv/mvcc
no test case in  pkg/store/mockstore/unistore/tikv/pberror
no test case in  pkg/store/pdtypes
no test case in  pkg/table/context
no test case in  pkg/table/contextimpl
no test case in  pkg/testkit/ddlhelper
no test case in  pkg/testkit/external
no test case in  pkg/testkit/testenv
no test case in  pkg/testkit/testmain
no test case in  pkg/testkit/testsetup
no test case in  pkg/tidb-binlog/proto/go-binlog
no test case in  pkg/timer/metrics
no test case in  pkg/util/breakpoint
no test case in  pkg/util/cgmon
no test case in  pkg/util/channel
no test case in  pkg/util/collate/ucadata/generator
no test case in  pkg/util/collate/ucaimpl
no test case in  pkg/util/compress
no test case in  pkg/util/cpuprofile/testutil
no test case in  pkg/util/dbterror/exeerrors
no test case in  pkg/util/dbutil/dbutiltest
no test case in  pkg/util/domainutil
no test case in  pkg/util/gcutil
no test case in  pkg/util/hint
no test case in  pkg/util/importer
no test case in  pkg/util/israce
no test case in  pkg/util/linter/constructor
no test case in  pkg/util/logutil/consistency
no test case in  pkg/util/metricsutil
no test case in  pkg/util/nocopy
no test case in  pkg/util/plancache
no test case in  pkg/util/ranger/context
no test case in  pkg/util/replayer
no test case in  pkg/util/serialization
no test case in  pkg/util/signal
no test case in  pkg/util/size
no test case in  pkg/util/skip
no test case in  pkg/util/sli
no test case in  pkg/util/sqlexec/mock
no test case in  pkg/util/sqlkiller
no test case in  pkg/util/syncutil
no test case in  pkg/util/tableutil
no test case in  pkg/util/tiflash
no test case in  pkg/util/tiflashcompute
no test case in  pkg/util/tikvutil
no test case in  pkg/util/tls
no test case in  pkg/util/topsql/collector/mock
no test case in  pkg/util/topsql/reporter/metrics
no test case in  pkg/util/topsql/reporter/mock
no test case in  pkg/util/topsql/state
no test case in  pkg/util/trxevents
no test case in  pkg/util/versioninfo
no test case in  tools/dashboard-linter
no test case in  tools/fake-oauth
no test case in  tools/gen-parquet
no test case in  tools/patch-go
no test case in  tools/tazel
building task finish, parallelism=20, count=5191, takes=10m5.728194458s
[FAIL]  pkg/executor/test/tiflashtest TestDisaggregatedTiFlashGeneratedColumn
err=exit status 2
[2024/05/17 10:47:03.357 +08:00] [INFO] [store_cache.go:510] ["change store resolve state"] [store=1] [addr=store1] [from=unresolved] [to=resolved] [liveness-state=reachable]
[2024/05/17 10:47:03.357 +08:00] [INFO] [store_cache.go:510] ["change store resolve state"] [store=4] [addr=tiflash0] [from=unresolved] [to=resolved] [liveness-state=reachable]
[2024/05/17 10:47:03.357 +08:00] [INFO] [store_cache.go:510] ["change store resolve state"] [store=6] [addr=tiflash1] [from=unresolved] [to=resolved] [liveness-state=reachable]
[2024/05/17 10:47:03.361 +08:00] [INFO] [ddl_api.go:1141] ["Automatically convert BLOB(65535) to MEDIUMBLOB"] [category=ddl]
[2024/05/17 10:47:03.361 +08:00] [INFO] [ddl_api.go:1141] ["Automatically convert BLOB(65535) to MEDIUMBLOB"] [category=ddl]
[2024/05/17 10:47:03.362 +08:00] [INFO] [ddl_api.go:1141] ["Automatically convert BLOB(65535) to MEDIUMBLOB"] [category=ddl]
[2024/05/17 10:47:03.362 +08:00] [INFO] [ddl_api.go:1141] ["Automatically convert BLOB(65535) to MEDIUMBLOB"] [category=ddl]
[2024/05/17 10:47:03.363 +08:00] [INFO] [ddl_api.go:1141] ["Automatically convert BLOB(65535) to MEDIUMBLOB"] [category=ddl]
[2024/05/17 10:47:03.364 +08:00] [INFO] [tidb.go:80] ["new domain"] [store=11efcdca-b15e-41fc-8d97-6e8fadff4ca7] ["ddl lease"=500ms] ["stats lease"=-1ns]
[2024/05/17 10:47:03.368 +08:00] [WARN] [controller.go:198] ["[resource group controller] server does not save config, load config failed"]
[2024/05/17 10:47:03.368 +08:00] [INFO] [controller.go:185] ["load resource controller config"] [config="{\"degraded-mode-wait-duration\":\"0s\",\"ltb-max-wait-duration\":\"30s\",\"wait-retry-interval\":\"50ms\",\"wait-retry-times\":10,\"request-unit\":{\"read-base-cost\":0.125,\"read-per-batch-base-cost\":0.5,\"read-cost-per-byte\":0.0000152587890625,\"write-base-cost\":1,\"write-per-batch-base-cost\":1,\"write-cost-per-byte\":0.0009765625,\"read-cpu-ms-cost\":0.3333333333333333},\"enable-controller-trace-log\":\"false\"}"] [ru-config="{\"ReadBaseCost\":0.125,\"ReadPerBatchBaseCost\":0.5,\"ReadBytesCost\":0.0000152587890625,\"WriteBaseCost\":1,\"WritePerBatchBaseCost\":1,\"WriteBytesCost\":0.0009765625,\"CPUMsCost\":0.3333333333333333,\"LTBMaxWaitDuration\":30000000000,\"WaitRetryInterval\":50000000,\"WaitRetryTimes\":10,\"DegradedModeWaitDuration\":0}"]
[2024/05/17 10:47:03.368 +08:00] [WARN] [domain.go:302] ["failed to get schema version"] [error="There is no Write MVCC info for the schema version"] [errorVerbose="There is no Write MVCC info for the schema version\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).getTimestampForSchemaVersionWithNonEmptyDiff\n\t/Users/bba/pc/tidb/pkg/domain/domain.go:405\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).loadInfoSchema\n\t/Users/bba/pc/tidb/pkg/domain/domain.go:300\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).Reload\n\t/Users/bba/pc/tidb/pkg/domain/domain.go:676\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).Init\n\t/Users/bba/pc/tidb/pkg/domain/domain.go:1330\ngithub.com/pingcap/tidb/pkg/session.(*domainMap).Get.func1\n\t/Users/bba/pc/tidb/pkg/session/tidb.go:92\ngithub.com/pingcap/tidb/pkg/util.RunWithRetry\n\t/Users/bba/pc/tidb/pkg/util/misc.go:70\ngithub.com/pingcap/tidb/pkg/session.(*domainMap).Get\n\t/Users/bba/pc/tidb/pkg/session/tidb.go:79\ngithub.com/pingcap/tidb/pkg/session.createSessionWithOpt\n\t/Users/bba/pc/tidb/pkg/session/session.go:3634\ngithub.com/pingcap/tidb/pkg/session.createSession\n\t/Users/bba/pc/tidb/pkg/session/session.go:3626\ngithub.com/pingcap/tidb/pkg/session.runInBootstrapSession\n\t/Users/bba/pc/tidb/pkg/session/session.go:3576\ngithub.com/pingcap/tidb/pkg/session.bootstrapSessionImpl\n\t/Users/bba/pc/tidb/pkg/session/session.go:3352\ngithub.com/pingcap/tidb/pkg/session.BootstrapSession\n\t/Users/bba/pc/tidb/pkg/session/session.go:3318\ngithub.com/pingcap/tidb/pkg/testkit.bootstrap\n\t/Users/bba/pc/tidb/pkg/testkit/mockstore.go:294\ngithub.com/pingcap/tidb/pkg/testkit.CreateMockStoreAndDomain\n\t/Users/bba/pc/tidb/pkg/testkit/mockstore.go:265\ngithub.com/pingcap/tidb/pkg/testkit.CreateMockStore\n\t/Users/bba/pc/tidb/pkg/testkit/mockstore.go:72\ngithub.com/pingcap/tidb/pkg/executor/test/tiflashtest.TestDisaggregatedTiFlashGeneratedColumn\n\t/Users/bba/pc/tidb/pkg/executor/test/tiflashtest/tiflash_test.go:1561\ntesting.tRunner\n\t/Users/bba/.gvm/gos/go1.21.0/src/testing/testing.go:1595\nruntime.goexit\n\t/Users/bba/.gvm/gos/go1.21.0/src/runtime/asm_arm64.s:1197"] [version=0]
[2024/05/17 10:47:03.375 +08:00] [INFO] [domain.go:385] ["full load InfoSchema success"] [currentSchemaVersion=0] [neededSchemaVersion=0] ["start time"=6.366291ms]
[2024/05/17 10:47:03.376 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=0] ["schema version"=0]
[2024/05/17 10:47:03.376 +08:00] [INFO] [domain.go:705] ["full load and reset schema validator"]
[2024/05/17 10:47:03.376 +08:00] [INFO] [ddl.go:818] ["start DDL"] [category=ddl] [ID=d6e0063e-1b91-4e8e-8144-6349b75371bf] [runWorker=true]
[2024/05/17 10:47:03.376 +08:00] [INFO] [ddl.go:777] ["start delRangeManager OK"] [category=ddl] ["is a emulator"=true]
[2024/05/17 10:47:03.376 +08:00] [WARN] [env.go:51] ["initialize environment failed"] [category=ddl-ingest] ["storage limitation"="only support TiKV storage"] ["current storage"=unistore] ["lightning is initialized"=false]
[2024/05/17 10:47:03.376 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=loadSchemaInLoop]
[2024/05/17 10:47:03.376 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=mdlCheckLoop]
[2024/05/17 10:47:03.376 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=topNSlowQueryLoop]
[2024/05/17 10:47:03.376 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=infoSyncerKeeper]
[2024/05/17 10:47:03.376 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=globalConfigSyncerKeeper]
[2024/05/17 10:47:03.376 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=runawayStartLoop]
[2024/05/17 10:47:03.376 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=requestUnitsWriterLoop]
[2024/05/17 10:47:03.376 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=topologySyncerKeeper]
[2024/05/17 10:47:03.376 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=closestReplicaReadCheckLoop]
[2024/05/17 10:47:03.376 +08:00] [WARN] [domain.go:1396] ["pd / etcd client not provided, won't begin Advancer."]
[2024/05/17 10:47:03.379 +08:00] [INFO] [delete_range.go:172] ["start delRange emulator"] [category=ddl]
[2024/05/17 10:47:03.379 +08:00] [INFO] [job_table.go:334] ["get global state and global state change"] [category=ddl] [oldState=false] [currState=false]
[2024/05/17 10:47:03.379 +08:00] [INFO] [runaway.go:149] ["try to start runaway manager loop"]
[2024/05/17 10:47:03.379 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=requestUnitsWriterLoop]
[2024/05/17 10:47:03.429 +08:00] [INFO] [job_table.go:334] ["get global state and global state change"] [category=ddl] [oldState=false] [currState=false]
[2024/05/17 10:47:03.429 +08:00] [INFO] [job_table.go:349] ["the owner sets owner operator value"] [category=ddl] [ownerOp=none]
[2024/05/17 10:47:03.580 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=0] [cur_db=mysql] [sql="CREATE DATABASE IF NOT EXISTS test"] [user=]
[2024/05/17 10:47:03.582 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:3, Type:create schema, State:queueing, SchemaState:none, SchemaID:2, TableID:0, RowCount:0, ArgLen:1, start time: 2024-05-17 10:47:03.581 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:47:03.582 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:3, Type:create schema, State:queueing, SchemaState:none, SchemaID:2, TableID:0, RowCount:0, ArgLen:1, start time: 2024-05-17 10:47:03.581 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE DATABASE IF NOT EXISTS test"]
[2024/05/17 10:47:03.588 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=3] [category=ddl] [job="ID:3, Type:create schema, State:queueing, SchemaState:none, SchemaID:2, TableID:0, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:03.581 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:03.596 +08:00] [INFO] [domain.go:385] ["full load InfoSchema success"] [currentSchemaVersion=0] [neededSchemaVersion=1] ["start time"=6.793583ms]
[2024/05/17 10:47:03.597 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816565799714816] ["schema version"=1]
[2024/05/17 10:47:03.597 +08:00] [INFO] [domain.go:705] ["full load and reset schema validator"]
[2024/05/17 10:47:03.598 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:47:03.598 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=3] [version=1]
[2024/05/17 10:47:03.599 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=1] ["take time"=10.0175ms] [job="ID:3, Type:create schema, State:done, SchemaState:public, SchemaID:2, TableID:0, RowCount:0, ArgLen:1, start time: 2024-05-17 10:47:03.581 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:03.602 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=3] [job="ID:3, Type:create schema, State:synced, SchemaState:public, SchemaID:2, TableID:0, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:03.581 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:03.604 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=3]
[2024/05/17 10:47:03.604 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:47:03.604 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816565799714816] ["schema version"=1]
[2024/05/17 10:47:03.604 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=1] [cur_db=mysql] [sql="CREATE DATABASE IF NOT EXISTS `mysql`"] [user=]
[2024/05/17 10:47:03.605 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=1] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.user (\n\t\tHost\t\t\t\t\tCHAR(255),\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tauthentication_string\tTEXT,\n\t\tplugin\t\t\t\t\tCHAR(64),\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tProcess_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_db_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tSuper_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_user_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_slave_priv\t    \tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_client_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_role_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_role_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAccount_locked\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShutdown_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReload_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tFILE_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tConfig_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_Tablespace_Priv  ENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPassword_reuse_history  smallint unsigned DEFAULT NULL,\n\t\tPassword_reuse_time     smallint unsigned DEFAULT NULL,\n\t\tUser_attributes\t\t\tjson,\n\t\tToken_issuer\t\t\tVARCHAR(255),\n\t\tPassword_expired\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPassword_last_changed\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP(),\n\t\tPassword_lifetime\t\tSMALLINT UNSIGNED DEFAULT NULL,\n\t\tPRIMARY KEY (Host, User));"] [user=]
[2024/05/17 10:47:03.607 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:5, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:4, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:03.605 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:47:03.607 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:5, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:4, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:03.605 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.user (\n\t\tHost\t\t\t\t\tCHAR(255),\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tauthentication_string\tTEXT,\n\t\tplugin\t\t\t\t\tCHAR(64),\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tProcess_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_db_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tSuper_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_user_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_slave_priv\t    \tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_client_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_role_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_role_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAccount_locked\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShutdown_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReload_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tFILE_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tConfig_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_Tablespace_Priv  ENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPassword_reuse_history  smallint unsigned DEFAULT NULL,\n\t\tPassword_reuse_time     smallint unsigned DEFAULT NULL,\n\t\tUser_attributes\t\t\tjson,\n\t\tToken_issuer\t\t\tVARCHAR(255),\n\t\tPassword_expired\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPassword_last_changed\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP(),\n\t\tPassword_lifetime\t\tSMALLINT UNSIGNED DEFAULT NULL,\n\t\tPRIMARY KEY (Host, User));"]
[2024/05/17 10:47:03.610 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=5] [category=ddl] [job="ID:5, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:4, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:03.605 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:03.615 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816565806268416] ["schema version"=2]
[2024/05/17 10:47:03.615 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=1] [neededSchemaVersion=2] ["start time"=753.458µs] [gotSchemaVersion=2] [phyTblIDs="[4]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:47:03.616 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:47:03.616 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=5] [version=2]
[2024/05/17 10:47:03.617 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=2] ["take time"=2.476083ms] [job="ID:5, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:4, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:03.605 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:03.626 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=5] [job="ID:5, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:4, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:03.605 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:03.629 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=5]
[2024/05/17 10:47:03.629 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:47:03.630 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816565806268416] ["schema version"=2]
[2024/05/17 10:47:03.630 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=2] [cur_db=mysql] [sql="CREATE TABLE  IF NOT EXISTS mysql.password_history (\n         Host char(255)  NOT NULL DEFAULT '',\n         User char(32)  NOT NULL DEFAULT '',\n         Password_timestamp timestamp(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6),\n         Password text,\n         PRIMARY KEY (Host,User,Password_timestamp )\n        ) COMMENT='Password history for user accounts' "] [user=]
[2024/05/17 10:47:03.633 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816565806268416] ["schema version"=2]
[2024/05/17 10:47:03.634 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:7, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:6, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:03.633 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:47:03.634 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:7, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:6, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:03.633 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE  IF NOT EXISTS mysql.password_history (\n         Host char(255)  NOT NULL DEFAULT '',\n         User char(32)  NOT NULL DEFAULT '',\n         Password_timestamp timestamp(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6),\n         Password text,\n         PRIMARY KEY (Host,User,Password_timestamp )\n        ) COMMENT='Password history for user accounts' "]
[2024/05/17 10:47:03.640 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=7] [category=ddl] [job="ID:7, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:6, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:03.633 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:03.643 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816565813870592] ["schema version"=3]
[2024/05/17 10:47:03.643 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=2] [neededSchemaVersion=3] ["start time"=205.667µs] [gotSchemaVersion=3] [phyTblIDs="[6]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:47:03.644 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:47:03.644 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=7] [version=3]
[2024/05/17 10:47:03.645 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=3] ["take time"=2.170292ms] [job="ID:7, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:6, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:03.633 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:03.649 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=7] [job="ID:7, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:6, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:03.633 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:03.651 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=7]
[2024/05/17 10:47:03.651 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:47:03.651 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816565813870592] ["schema version"=3]
[2024/05/17 10:47:03.651 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=3] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.global_priv (Host CHAR(255) NOT NULL DEFAULT '',User CHAR(80) NOT NULL DEFAULT '',Priv LONGTEXT NOT NULL DEFAULT '',PRIMARY KEY (Host, User))"] [user=]
[2024/05/17 10:47:03.652 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:9, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:8, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:03.651 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:47:03.652 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:9, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:8, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:03.651 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.global_priv (Host CHAR(255) NOT NULL DEFAULT '',User CHAR(80) NOT NULL DEFAULT '',Priv LONGTEXT NOT NULL DEFAULT '',PRIMARY KEY (Host, User))"]
[2024/05/17 10:47:03.655 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=9] [category=ddl] [job="ID:9, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:8, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:03.651 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:03.656 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816565817278465] ["schema version"=4]
[2024/05/17 10:47:03.656 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=3] [neededSchemaVersion=4] ["start time"=156.208µs] [gotSchemaVersion=4] [phyTblIDs="[8]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:47:03.657 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:47:03.657 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=9] [version=4]
[2024/05/17 10:47:03.658 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=4] ["take time"=2.004708ms] [job="ID:9, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:8, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:03.651 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:03.662 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=9] [job="ID:9, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:8, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:03.651 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:03.663 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=9]
[2024/05/17 10:47:03.663 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:47:03.663 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816565817278465] ["schema version"=4]
[2024/05/17 10:47:03.664 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=4] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.db (\n\t\tHost\t\t\t\t\tCHAR(255),\n\t\tDB\t\t\t\t\t\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv \t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (Host, DB, User));"] [user=]
[2024/05/17 10:47:03.665 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:11, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:10, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:03.664 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:47:03.665 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:11, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:10, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:03.664 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.db (\n\t\tHost\t\t\t\t\tCHAR(255),\n\t\tDB\t\t\t\t\t\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv \t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (Host, DB, User));"]
[2024/05/17 10:47:03.668 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=11] [category=ddl] [job="ID:11, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:10, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:03.664 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:03.670 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816565820948480] ["schema version"=5]
[2024/05/17 10:47:03.670 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=4] [neededSchemaVersion=5] ["start time"=427.875µs] [gotSchemaVersion=5] [phyTblIDs="[10]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:47:03.671 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:47:03.671 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=11] [version=5]
[2024/05/17 10:47:03.672 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=5] ["take time"=2.010417ms] [job="ID:11, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:10, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:03.664 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:03.676 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=11] [job="ID:11, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:10, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:03.664 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:03.678 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=11]
[2024/05/17 10:47:03.678 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:47:03.678 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816565820948480] ["schema version"=5]
[2024/05/17 10:47:03.678 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=5] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tables_priv (\n\t\tHost\t\tCHAR(255),\n\t\tDB\t\t\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tGrantor\t\tCHAR(77),\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tTable_priv\tSET('Select','Insert','Update','Delete','Create','Drop','Grant','Index','Alter','Create View','Show View','Trigger','References'),\n\t\tColumn_priv\tSET('Select','Insert','Update','References'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name));"] [user=]
[2024/05/17 10:47:03.679 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:13, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:12, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:03.678 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:47:03.679 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:13, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:12, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:03.678 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tables_priv (\n\t\tHost\t\tCHAR(255),\n\t\tDB\t\t\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tGrantor\t\tCHAR(77),\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tTable_priv\tSET('Select','Insert','Update','Delete','Create','Drop','Grant','Index','Alter','Create View','Show View','Trigger','References'),\n\t\tColumn_priv\tSET('Select','Insert','Update','References'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name));"]
[2024/05/17 10:47:03.682 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=13] [category=ddl] [job="ID:13, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:12, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:03.678 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:03.683 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816565824356352] ["schema version"=6]
[2024/05/17 10:47:03.683 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=5] [neededSchemaVersion=6] ["start time"=223.375µs] [gotSchemaVersion=6] [phyTblIDs="[12]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:47:03.684 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:47:03.684 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=13] [version=6]
[2024/05/17 10:47:03.685 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=6] ["take time"=2.338417ms] [job="ID:13, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:12, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:03.678 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:03.688 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=13] [job="ID:13, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:12, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:03.678 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:03.689 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=13]
[2024/05/17 10:47:03.689 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:47:03.689 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816565824356352] ["schema version"=6]
[2024/05/17 10:47:03.689 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=6] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.columns_priv(\n\t\tHost\t\tCHAR(255),\n\t\tDB\t\t\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tColumn_name\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tColumn_priv\tSET('Select','Insert','Update','References'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name, Column_name));"] [user=]
[2024/05/17 10:47:03.691 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:15, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:14, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:03.69 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:47:03.691 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:15, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:14, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:03.69 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.columns_priv(\n\t\tHost\t\tCHAR(255),\n\t\tDB\t\t\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tColumn_name\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tColumn_priv\tSET('Select','Insert','Update','References'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name, Column_name));"]
[2024/05/17 10:47:03.694 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=15] [category=ddl] [job="ID:15, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:14, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:03.69 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:03.696 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816565827502080] ["schema version"=7]
[2024/05/17 10:47:03.696 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=6] [neededSchemaVersion=7] ["start time"=242.333µs] [gotSchemaVersion=7] [phyTblIDs="[14]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:47:03.696 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:47:03.696 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=15] [version=7]
[2024/05/17 10:47:03.697 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=7] ["take time"=2.011ms] [job="ID:15, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:14, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:03.69 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:03.701 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=15] [job="ID:15, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:14, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:03.69 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:03.702 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=15]
[2024/05/17 10:47:03.702 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:47:03.702 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816565827502080] ["schema version"=7]
[2024/05/17 10:47:03.702 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=7] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.GLOBAL_VARIABLES(\n\t\tVARIABLE_NAME  VARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE VARCHAR(16383) DEFAULT NULL);"] [user=]
[2024/05/17 10:47:03.703 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:17, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:16, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:03.703 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:47:03.703 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:17, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:16, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:03.703 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.GLOBAL_VARIABLES(\n\t\tVARIABLE_NAME  VARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE VARCHAR(16383) DEFAULT NULL);"]
[2024/05/17 10:47:03.706 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=17] [category=ddl] [job="ID:17, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:16, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:03.703 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:03.707 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816565830647808] ["schema version"=8]
[2024/05/17 10:47:03.707 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=7] [neededSchemaVersion=8] ["start time"=143.875µs] [gotSchemaVersion=8] [phyTblIDs="[16]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:47:03.708 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:47:03.708 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=17] [version=8]
[2024/05/17 10:47:03.709 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=8] ["take time"=2.003708ms] [job="ID:17, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:16, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:03.703 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:03.712 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=17] [job="ID:17, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:16, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:03.703 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:03.713 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=17]
[2024/05/17 10:47:03.713 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:47:03.714 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816565830647808] ["schema version"=8]
[2024/05/17 10:47:03.714 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=8] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb(\n\t\tVARIABLE_NAME  \tVARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE \tVARCHAR(1024) DEFAULT NULL,\n\t\tCOMMENT \t\tVARCHAR(1024));"] [user=]
[2024/05/17 10:47:03.715 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:19, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:18, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:03.714 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:47:03.715 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:19, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:18, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:03.714 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb(\n\t\tVARIABLE_NAME  \tVARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE \tVARCHAR(1024) DEFAULT NULL,\n\t\tCOMMENT \t\tVARCHAR(1024));"]
[2024/05/17 10:47:03.718 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=19] [category=ddl] [job="ID:19, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:18, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:03.714 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:03.719 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816565833531400] ["schema version"=9]
[2024/05/17 10:47:03.719 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=8] [neededSchemaVersion=9] ["start time"=211.75µs] [gotSchemaVersion=9] [phyTblIDs="[18]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:47:03.719 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:47:03.719 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=19] [version=9]
[2024/05/17 10:47:03.721 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=9] ["take time"=2.708ms] [job="ID:19, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:18, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:03.714 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:03.724 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=19] [job="ID:19, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:18, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:03.714 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:03.725 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=19]
[2024/05/17 10:47:03.725 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:47:03.725 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816565833531400] ["schema version"=9]
[2024/05/17 10:47:03.725 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=9] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.help_topic (\n  \t\thelp_topic_id \t\tINT(10) UNSIGNED NOT NULL,\n  \t\tname \t\t\t\tCHAR(64) NOT NULL,\n  \t\thelp_category_id \tSMALLINT(5) UNSIGNED NOT NULL,\n  \t\tdescription \t\tTEXT NOT NULL,\n  \t\texample \t\t\tTEXT NOT NULL,\n  \t\turl \t\t\t\tTEXT NOT NULL,\n  \t\tPRIMARY KEY (help_topic_id) clustered,\n  \t\tUNIQUE KEY name (name)\n\t\t) ENGINE=InnoDB DEFAULT CHARSET=utf8 STATS_PERSISTENT=0 COMMENT='help topics';"] [user=]
[2024/05/17 10:47:03.727 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:21, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:20, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:03.726 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:47:03.727 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:21, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:20, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:03.726 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.help_topic (\n  \t\thelp_topic_id \t\tINT(10) UNSIGNED NOT NULL,\n  \t\tname \t\t\t\tCHAR(64) NOT NULL,\n  \t\thelp_category_id \tSMALLINT(5) UNSIGNED NOT NULL,\n  \t\tdescription \t\tTEXT NOT NULL,\n  \t\texample \t\t\tTEXT NOT NULL,\n  \t\turl \t\t\t\tTEXT NOT NULL,\n  \t\tPRIMARY KEY (help_topic_id) clustered,\n  \t\tUNIQUE KEY name (name)\n\t\t) ENGINE=InnoDB DEFAULT CHARSET=utf8 STATS_PERSISTENT=0 COMMENT='help topics';"]
[2024/05/17 10:47:03.729 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=21] [category=ddl] [job="ID:21, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:20, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:03.726 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:03.731 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816565836939264] ["schema version"=10]
[2024/05/17 10:47:03.731 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=9] [neededSchemaVersion=10] ["start time"=198.25µs] [gotSchemaVersion=10] [phyTblIDs="[20]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:47:03.732 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:47:03.732 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=21] [version=10]
[2024/05/17 10:47:03.733 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=10] ["take time"=2.014791ms] [job="ID:21, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:20, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:03.726 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:03.736 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=21] [job="ID:21, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:20, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:03.726 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:03.738 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=21]
[2024/05/17 10:47:03.738 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:47:03.738 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816565836939264] ["schema version"=10]
[2024/05/17 10:47:03.738 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=10] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_meta (\n\t\tversion \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\ttable_id \t\tBIGINT(64) NOT NULL,\n\t\tmodify_count\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcount \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tsnapshot        BIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tINDEX idx_ver(version),\n\t\tUNIQUE INDEX tbl(table_id)\n\t);"] [user=]
[2024/05/17 10:47:03.739 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:23, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:22, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:03.738 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:47:03.739 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:23, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:22, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:03.738 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_meta (\n\t\tversion \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\ttable_id \t\tBIGINT(64) NOT NULL,\n\t\tmodify_count\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcount \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tsnapshot        BIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tINDEX idx_ver(version),\n\t\tUNIQUE INDEX tbl(table_id)\n\t);"]
[2024/05/17 10:47:03.742 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=23] [category=ddl] [job="ID:23, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:22, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:03.738 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:03.743 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816565840084992] ["schema version"=11]
[2024/05/17 10:47:03.743 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=10] [neededSchemaVersion=11] ["start time"=187.792µs] [gotSchemaVersion=11] [phyTblIDs="[22]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:47:03.744 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:47:03.744 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=23] [version=11]
[2024/05/17 10:47:03.745 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=11] ["take time"=2.006292ms] [job="ID:23, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:22, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:03.738 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:03.748 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=23] [job="ID:23, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:22, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:03.738 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:03.750 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=23]
[2024/05/17 10:47:03.750 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:47:03.750 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816565840084992] ["schema version"=11]
[2024/05/17 10:47:03.750 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=11] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_histograms (\n\t\ttable_id \t\t\tBIGINT(64) NOT NULL,\n\t\tis_index \t\t\tTINYINT(2) NOT NULL,\n\t\thist_id \t\t\tBIGINT(64) NOT NULL,\n\t\tdistinct_count \t\tBIGINT(64) NOT NULL,\n\t\tnull_count \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\ttot_col_size \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tmodify_count \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tversion \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tcm_sketch \t\t\tBLOB(6291456),\n\t\tstats_ver \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tflag \t\t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcorrelation \t\tDOUBLE NOT NULL DEFAULT 0,\n\t\tlast_analyze_pos \tLONGBLOB DEFAULT NULL,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id)\n\t);"] [user=]
[2024/05/17 10:47:03.750 +08:00] [INFO] [ddl_api.go:1141] ["Automatically convert BLOB(6291456) to MEDIUMBLOB"] [category=ddl]
[2024/05/17 10:47:03.752 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:25, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:24, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:03.751 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:47:03.752 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:25, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:24, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:03.751 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_histograms (\n\t\ttable_id \t\t\tBIGINT(64) NOT NULL,\n\t\tis_index \t\t\tTINYINT(2) NOT NULL,\n\t\thist_id \t\t\tBIGINT(64) NOT NULL,\n\t\tdistinct_count \t\tBIGINT(64) NOT NULL,\n\t\tnull_count \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\ttot_col_size \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tmodify_count \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tversion \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tcm_sketch \t\t\tBLOB(6291456),\n\t\tstats_ver \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tflag \t\t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcorrelation \t\tDOUBLE NOT NULL DEFAULT 0,\n\t\tlast_analyze_pos \tLONGBLOB DEFAULT NULL,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id)\n\t);"]
[2024/05/17 10:47:03.755 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=25] [category=ddl] [job="ID:25, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:24, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:03.751 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:03.757 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816565843492866] ["schema version"=12]
[2024/05/17 10:47:03.757 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=11] [neededSchemaVersion=12] ["start time"=292.584µs] [gotSchemaVersion=12] [phyTblIDs="[24]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:47:03.757 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:47:03.757 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=25] [version=12]
[2024/05/17 10:47:03.758 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=12] ["take time"=2.005375ms] [job="ID:25, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:24, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:03.751 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:03.763 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=25] [job="ID:25, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:24, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:03.751 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:03.765 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=25]
[2024/05/17 10:47:03.765 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:47:03.766 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816565843492866] ["schema version"=12]
[2024/05/17 10:47:03.766 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=12] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_buckets (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tbucket_id \tBIGINT(64) NOT NULL,\n\t\tcount \t\tBIGINT(64) NOT NULL,\n\t\trepeats \tBIGINT(64) NOT NULL,\n\t\tupper_bound LONGBLOB NOT NULL,\n\t\tlower_bound LONGBLOB ,\n\t\tndv         BIGINT NOT NULL DEFAULT 0,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id, bucket_id)\n\t);"] [user=]
[2024/05/17 10:47:03.767 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:27, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:26, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:03.766 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:47:03.767 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:27, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:26, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:03.766 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_buckets (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tbucket_id \tBIGINT(64) NOT NULL,\n\t\tcount \t\tBIGINT(64) NOT NULL,\n\t\trepeats \tBIGINT(64) NOT NULL,\n\t\tupper_bound LONGBLOB NOT NULL,\n\t\tlower_bound LONGBLOB ,\n\t\tndv         BIGINT NOT NULL DEFAULT 0,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id, bucket_id)\n\t);"]
[2024/05/17 10:47:03.773 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=27] [category=ddl] [job="ID:27, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:26, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:03.766 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:03.776 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816565848473600] ["schema version"=13]
[2024/05/17 10:47:03.776 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=12] [neededSchemaVersion=13] ["start time"=360.334µs] [gotSchemaVersion=13] [phyTblIDs="[26]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:47:03.777 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:47:03.777 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=27] [version=13]
[2024/05/17 10:47:03.778 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=13] ["take time"=2.956625ms] [job="ID:27, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:26, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:03.766 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:03.786 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=27] [job="ID:27, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:26, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:03.766 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:03.790 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=27]
[2024/05/17 10:47:03.790 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:47:03.790 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816565848473600] ["schema version"=13]
[2024/05/17 10:47:03.790 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=13] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_index (job_id, element_id)\n\t);"] [user=]
[2024/05/17 10:47:03.791 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:29, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:28, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:03.791 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:47:03.792 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:29, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:28, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:03.791 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_index (job_id, element_id)\n\t);"]
[2024/05/17 10:47:03.797 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=29] [category=ddl] [job="ID:29, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:28, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:03.791 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:03.798 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816565854502913] ["schema version"=14]
[2024/05/17 10:47:03.798 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=13] [neededSchemaVersion=14] ["start time"=217.917µs] [gotSchemaVersion=14] [phyTblIDs="[28]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:47:03.799 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:47:03.799 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=29] [version=14]
[2024/05/17 10:47:03.801 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=14] ["take time"=2.644875ms] [job="ID:29, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:28, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:03.791 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:03.804 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=29] [job="ID:29, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:28, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:03.791 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:03.805 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=29]
[2024/05/17 10:47:03.805 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:47:03.805 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816565854502913] ["schema version"=14]
[2024/05/17 10:47:03.805 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=14] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range_done (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_done_index (job_id, element_id)\n\t);"] [user=]
[2024/05/17 10:47:03.807 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:31, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:30, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:03.806 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:47:03.807 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:31, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:30, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:03.806 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range_done (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_done_index (job_id, element_id)\n\t);"]
[2024/05/17 10:47:03.810 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=31] [category=ddl] [job="ID:31, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:30, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:03.806 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:03.811 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816565857910784] ["schema version"=15]
[2024/05/17 10:47:03.811 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=14] [neededSchemaVersion=15] ["start time"=204.834µs] [gotSchemaVersion=15] [phyTblIDs="[30]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:47:03.812 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:47:03.812 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=31] [version=15]
[2024/05/17 10:47:03.813 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=15] ["take time"=2.021208ms] [job="ID:31, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:30, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:03.806 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:03.816 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=31] [job="ID:31, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:30, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:03.806 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:03.818 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=31]
[2024/05/17 10:47:03.818 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:47:03.818 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816565857910784] ["schema version"=15]
[2024/05/17 10:47:03.818 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=15] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_feedback (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tfeedback \tBLOB NOT NULL,\n\t\tINDEX hist(table_id, is_index, hist_id)\n\t);"] [user=]
[2024/05/17 10:47:03.819 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:33, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:32, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:03.819 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:47:03.819 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:33, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:32, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:03.819 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_feedback (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tfeedback \tBLOB NOT NULL,\n\t\tINDEX hist(table_id, is_index, hist_id)\n\t);"]
[2024/05/17 10:47:03.822 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=33] [category=ddl] [job="ID:33, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:32, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:03.819 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:03.823 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816565861056513] ["schema version"=16]
[2024/05/17 10:47:03.823 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=15] [neededSchemaVersion=16] ["start time"=174.333µs] [gotSchemaVersion=16] [phyTblIDs="[32]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:47:03.824 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:47:03.824 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=33] [version=16]
[2024/05/17 10:47:03.826 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=16] ["take time"=2.599583ms] [job="ID:33, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:32, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:03.819 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:03.829 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=33] [job="ID:33, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:32, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:03.819 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:03.830 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=33]
[2024/05/17 10:47:03.830 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:47:03.830 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816565861056513] ["schema version"=16]
[2024/05/17 10:47:03.830 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=16] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.role_edges (\n\t\tFROM_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tFROM_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tWITH_ADMIN_OPTION \tENUM('N','Y') CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (FROM_HOST,FROM_USER,TO_HOST,TO_USER)\n\t);"] [user=]
[2024/05/17 10:47:03.832 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:35, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:34, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:03.831 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:47:03.832 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:35, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:34, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:03.831 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.role_edges (\n\t\tFROM_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tFROM_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tWITH_ADMIN_OPTION \tENUM('N','Y') CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (FROM_HOST,FROM_USER,TO_HOST,TO_USER)\n\t);"]
[2024/05/17 10:47:03.835 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=35] [category=ddl] [job="ID:35, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:34, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:03.831 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:03.836 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816565864464385] ["schema version"=17]
[2024/05/17 10:47:03.836 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=16] [neededSchemaVersion=17] ["start time"=203.25µs] [gotSchemaVersion=17] [phyTblIDs="[34]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:47:03.837 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:47:03.837 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=35] [version=17]
[2024/05/17 10:47:03.839 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=17] ["take time"=2.496042ms] [job="ID:35, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:34, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:03.831 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:03.841 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=35] [job="ID:35, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:34, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:03.831 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:03.843 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=35]
[2024/05/17 10:47:03.843 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:47:03.843 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816565864464385] ["schema version"=17]
[2024/05/17 10:47:03.843 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=17] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.default_roles (\n\t\tHOST \t\t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tUSER \t\t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tDEFAULT_ROLE_HOST \tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '%',\n\t\tDEFAULT_ROLE_USER \tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tPRIMARY KEY (HOST,USER,DEFAULT_ROLE_HOST,DEFAULT_ROLE_USER)\n\t)"] [user=]
[2024/05/17 10:47:03.845 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:37, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:36, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:03.844 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:47:03.845 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:37, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:36, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:03.844 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.default_roles (\n\t\tHOST \t\t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tUSER \t\t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tDEFAULT_ROLE_HOST \tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '%',\n\t\tDEFAULT_ROLE_USER \tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tPRIMARY KEY (HOST,USER,DEFAULT_ROLE_HOST,DEFAULT_ROLE_USER)\n\t)"]
[2024/05/17 10:47:03.848 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=37] [category=ddl] [job="ID:37, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:36, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:03.844 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:03.849 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816565867872257] ["schema version"=18]
[2024/05/17 10:47:03.850 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=17] [neededSchemaVersion=18] ["start time"=196.375µs] [gotSchemaVersion=18] [phyTblIDs="[36]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:47:03.850 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:47:03.850 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=37] [version=18]
[2024/05/17 10:47:03.852 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=18] ["take time"=2.3935ms] [job="ID:37, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:36, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:03.844 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:03.854 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=37] [job="ID:37, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:36, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:03.844 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:03.856 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=37]
[2024/05/17 10:47:03.856 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:47:03.856 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816565867872257] ["schema version"=18]
[2024/05/17 10:47:03.856 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=18] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.bind_info (\n\t\toriginal_sql TEXT NOT NULL,\n\t\tbind_sql TEXT NOT NULL,\n\t\tdefault_db TEXT NOT NULL,\n\t\tstatus TEXT NOT NULL,\n\t\tcreate_time TIMESTAMP(3) NOT NULL,\n\t\tupdate_time TIMESTAMP(3) NOT NULL,\n\t\tcharset TEXT NOT NULL,\n\t\tcollation TEXT NOT NULL,\n\t\tsource VARCHAR(10) NOT NULL DEFAULT 'unknown',\n\t\tsql_digest varchar(64),\n\t\tplan_digest varchar(64),\n\t\tINDEX sql_index(original_sql(700),default_db(68)) COMMENT \"accelerate the speed when add global binding query\",\n\t\tINDEX time_index(update_time) COMMENT \"accelerate the speed when querying with last update time\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"] [user=]
[2024/05/17 10:47:03.857 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:39, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:38, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:03.857 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:47:03.857 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:39, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:38, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:03.857 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.bind_info (\n\t\toriginal_sql TEXT NOT NULL,\n\t\tbind_sql TEXT NOT NULL,\n\t\tdefault_db TEXT NOT NULL,\n\t\tstatus TEXT NOT NULL,\n\t\tcreate_time TIMESTAMP(3) NOT NULL,\n\t\tupdate_time TIMESTAMP(3) NOT NULL,\n\t\tcharset TEXT NOT NULL,\n\t\tcollation TEXT NOT NULL,\n\t\tsource VARCHAR(10) NOT NULL DEFAULT 'unknown',\n\t\tsql_digest varchar(64),\n\t\tplan_digest varchar(64),\n\t\tINDEX sql_index(original_sql(700),default_db(68)) COMMENT \"accelerate the speed when add global binding query\",\n\t\tINDEX time_index(update_time) COMMENT \"accelerate the speed when querying with last update time\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"]
[2024/05/17 10:47:03.861 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=39] [category=ddl] [job="ID:39, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:38, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:03.857 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:03.862 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816565871280128] ["schema version"=19]
[2024/05/17 10:47:03.862 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=18] [neededSchemaVersion=19] ["start time"=289.334µs] [gotSchemaVersion=19] [phyTblIDs="[38]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:47:03.863 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:47:03.863 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=39] [version=19]
[2024/05/17 10:47:03.864 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=19] ["take time"=2.09425ms] [job="ID:39, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:38, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:03.857 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:03.868 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=39] [job="ID:39, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:38, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:03.857 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:03.869 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=39]
[2024/05/17 10:47:03.869 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:47:03.870 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816565871280128] ["schema version"=19]
[2024/05/17 10:47:03.870 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=19] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_top_n (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tvalue \t\tLONGBLOB,\n\t\tcount \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\tINDEX tbl(table_id, is_index, hist_id)\n\t);"] [user=]
[2024/05/17 10:47:03.871 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:41, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:40, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:03.871 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:47:03.872 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:41, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:40, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:03.871 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_top_n (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tvalue \t\tLONGBLOB,\n\t\tcount \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\tINDEX tbl(table_id, is_index, hist_id)\n\t);"]
[2024/05/17 10:47:03.875 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=41] [category=ddl] [job="ID:41, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:40, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:03.871 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:03.876 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816565874950144] ["schema version"=20]
[2024/05/17 10:47:03.876 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=19] [neededSchemaVersion=20] ["start time"=207.542µs] [gotSchemaVersion=20] [phyTblIDs="[40]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:47:03.877 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:47:03.877 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=41] [version=20]
[2024/05/17 10:47:03.878 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=20] ["take time"=2.401958ms] [job="ID:41, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:40, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:03.871 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:03.879 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816565874950144] ["schema version"=20]
[2024/05/17 10:47:03.881 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=41] [job="ID:41, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:40, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:03.871 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:03.883 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=41]
[2024/05/17 10:47:03.883 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:47:03.883 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816565874950144] ["schema version"=20]
[2024/05/17 10:47:03.883 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=20] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.expr_pushdown_blacklist (\n\t\tname \t\tCHAR(100) NOT NULL,\n\t\tstore_type \tCHAR(100) NOT NULL DEFAULT 'tikv,tiflash,tidb',\n\t\treason \t\tVARCHAR(200)\n\t);"] [user=]
[2024/05/17 10:47:03.884 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:43, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:42, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:03.884 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:47:03.884 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:43, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:42, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:03.884 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.expr_pushdown_blacklist (\n\t\tname \t\tCHAR(100) NOT NULL,\n\t\tstore_type \tCHAR(100) NOT NULL DEFAULT 'tikv,tiflash,tidb',\n\t\treason \t\tVARCHAR(200)\n\t);"]
[2024/05/17 10:47:03.887 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=43] [category=ddl] [job="ID:43, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:42, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:03.884 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:03.888 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816565878095872] ["schema version"=21]
[2024/05/17 10:47:03.888 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=20] [neededSchemaVersion=21] ["start time"=130.292µs] [gotSchemaVersion=21] [phyTblIDs="[42]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:47:03.888 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:47:03.889 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=43] [version=21]
[2024/05/17 10:47:03.890 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=21] ["take time"=2.397042ms] [job="ID:43, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:42, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:03.884 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:03.893 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=43] [job="ID:43, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:42, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:03.884 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:03.895 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=43]
[2024/05/17 10:47:03.895 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:47:03.895 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816565878095872] ["schema version"=21]
[2024/05/17 10:47:03.895 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=21] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.opt_rule_blacklist (\n\t\tname \tCHAR(100) NOT NULL\n\t);"] [user=]
[2024/05/17 10:47:03.896 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:45, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:44, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:03.895 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:47:03.896 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:45, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:44, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:03.895 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.opt_rule_blacklist (\n\t\tname \tCHAR(100) NOT NULL\n\t);"]
[2024/05/17 10:47:03.899 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=45] [category=ddl] [job="ID:45, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:44, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:03.895 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:03.900 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816565881241600] ["schema version"=22]
[2024/05/17 10:47:03.900 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=21] [neededSchemaVersion=22] ["start time"=136.25µs] [gotSchemaVersion=22] [phyTblIDs="[44]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:47:03.901 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:47:03.901 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=45] [version=22]
[2024/05/17 10:47:03.903 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=22] ["take time"=2.641625ms] [job="ID:45, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:44, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:03.895 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:03.905 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=45] [job="ID:45, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:44, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:03.895 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:03.907 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=45]
[2024/05/17 10:47:03.907 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:47:03.907 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816565881241600] ["schema version"=22]
[2024/05/17 10:47:03.907 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=22] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_extended (\n\t\tname varchar(32) NOT NULL,\n\t\ttype tinyint(4) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tcolumn_ids varchar(32) NOT NULL,\n\t\tstats blob DEFAULT NULL,\n\t\tversion bigint(64) unsigned NOT NULL,\n\t\tstatus tinyint(4) NOT NULL,\n\t\tPRIMARY KEY(name, table_id),\n\t\tKEY idx_1 (table_id, status, version),\n\t\tKEY idx_2 (status, version)\n\t);"] [user=]
[2024/05/17 10:47:03.908 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:47, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:46, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:03.908 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:47:03.908 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:47, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:46, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:03.908 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_extended (\n\t\tname varchar(32) NOT NULL,\n\t\ttype tinyint(4) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tcolumn_ids varchar(32) NOT NULL,\n\t\tstats blob DEFAULT NULL,\n\t\tversion bigint(64) unsigned NOT NULL,\n\t\tstatus tinyint(4) NOT NULL,\n\t\tPRIMARY KEY(name, table_id),\n\t\tKEY idx_1 (table_id, status, version),\n\t\tKEY idx_2 (status, version)\n\t);"]
[2024/05/17 10:47:03.911 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=47] [category=ddl] [job="ID:47, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:46, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:03.908 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:03.913 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816565884387331] ["schema version"=23]
[2024/05/17 10:47:03.913 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=22] [neededSchemaVersion=23] ["start time"=309µs] [gotSchemaVersion=23] [phyTblIDs="[46]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:47:03.914 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:47:03.914 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=47] [version=23]
[2024/05/17 10:47:03.915 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=23] ["take time"=2.174584ms] [job="ID:47, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:46, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:03.908 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:03.918 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=47] [job="ID:47, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:46, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:03.908 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:03.920 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=47]
[2024/05/17 10:47:03.920 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:47:03.920 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816565884387331] ["schema version"=23]
[2024/05/17 10:47:03.920 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=23] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_fm_sketch (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tvalue \t\tLONGBLOB,\n\t\tINDEX tbl(table_id, is_index, hist_id)\n\t);"] [user=]
[2024/05/17 10:47:03.921 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:49, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:48, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:03.921 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:47:03.921 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:49, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:48, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:03.921 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_fm_sketch (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tvalue \t\tLONGBLOB,\n\t\tINDEX tbl(table_id, is_index, hist_id)\n\t);"]
[2024/05/17 10:47:03.926 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=49] [category=ddl] [job="ID:49, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:48, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:03.921 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:03.928 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816565888319488] ["schema version"=24]
[2024/05/17 10:47:03.928 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=23] [neededSchemaVersion=24] ["start time"=250.833µs] [gotSchemaVersion=24] [phyTblIDs="[48]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:47:03.929 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:47:03.929 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=49] [version=24]
[2024/05/17 10:47:03.931 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=24] ["take time"=3.100875ms] [job="ID:49, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:48, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:03.921 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:03.938 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=49] [job="ID:49, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:48, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:03.921 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:03.940 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=49]
[2024/05/17 10:47:03.940 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:47:03.940 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816565888319488] ["schema version"=24]
[2024/05/17 10:47:03.940 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=24] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.global_grants (\n\t\tUSER char(32) NOT NULL DEFAULT '',\n\t\tHOST char(255) NOT NULL DEFAULT '',\n\t\tPRIV char(32) NOT NULL DEFAULT '',\n\t\tWITH_GRANT_OPTION enum('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (USER,HOST,PRIV)\n\t);"] [user=]
[2024/05/17 10:47:03.943 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:51, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:50, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:03.942 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:47:03.943 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:51, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:50, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:03.942 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.global_grants (\n\t\tUSER char(32) NOT NULL DEFAULT '',\n\t\tHOST char(255) NOT NULL DEFAULT '',\n\t\tPRIV char(32) NOT NULL DEFAULT '',\n\t\tWITH_GRANT_OPTION enum('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (USER,HOST,PRIV)\n\t);"]
[2024/05/17 10:47:03.949 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=51] [category=ddl] [job="ID:51, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:50, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:03.942 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:03.950 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816565894348801] ["schema version"=25]
[2024/05/17 10:47:03.950 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=24] [neededSchemaVersion=25] ["start time"=258µs] [gotSchemaVersion=25] [phyTblIDs="[50]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:47:03.951 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:47:03.951 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=51] [version=25]
[2024/05/17 10:47:03.955 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=25] ["take time"=4.978583ms] [job="ID:51, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:50, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:03.942 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:03.959 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=51] [job="ID:51, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:50, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:03.942 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:03.960 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=51]
[2024/05/17 10:47:03.960 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:47:03.960 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816565894348801] ["schema version"=25]
[2024/05/17 10:47:03.960 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=25] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.capture_plan_baselines_blacklist (\n\t\tid bigint(64) auto_increment,\n\t\tfilter_type varchar(32) NOT NULL COMMENT \"type of the filter, only db, table and frequency supported now\",\n\t\tfilter_value varchar(32) NOT NULL,\n\t\tkey idx(filter_type),\n\t\tprimary key(id)\n\t);"] [user=]
[2024/05/17 10:47:03.961 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:53, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:52, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:03.961 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:47:03.961 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:53, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:52, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:03.961 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.capture_plan_baselines_blacklist (\n\t\tid bigint(64) auto_increment,\n\t\tfilter_type varchar(32) NOT NULL COMMENT \"type of the filter, only db, table and frequency supported now\",\n\t\tfilter_value varchar(32) NOT NULL,\n\t\tkey idx(filter_type),\n\t\tprimary key(id)\n\t);"]
[2024/05/17 10:47:03.964 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=53] [category=ddl] [job="ID:53, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:52, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:03.961 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:03.965 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816565898280960] ["schema version"=26]
[2024/05/17 10:47:03.965 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=25] [neededSchemaVersion=26] ["start time"=200.875µs] [gotSchemaVersion=26] [phyTblIDs="[52]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:47:03.966 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:47:03.966 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=53] [version=26]
[2024/05/17 10:47:03.967 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=26] ["take time"=2.390125ms] [job="ID:53, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:52, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:03.961 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:03.970 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=53] [job="ID:53, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:52, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:03.961 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:03.972 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=53]
[2024/05/17 10:47:03.972 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:47:03.972 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816565898280960] ["schema version"=26]
[2024/05/17 10:47:03.972 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=26] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.column_stats_usage (\n\t\ttable_id BIGINT(64) NOT NULL,\n\t\tcolumn_id BIGINT(64) NOT NULL,\n\t\tlast_used_at TIMESTAMP,\n\t\tlast_analyzed_at TIMESTAMP,\n\t\tPRIMARY KEY (table_id, column_id) CLUSTERED\n\t);"] [user=]
[2024/05/17 10:47:03.973 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:55, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:54, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:03.973 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:47:03.973 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:55, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:54, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:03.973 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.column_stats_usage (\n\t\ttable_id BIGINT(64) NOT NULL,\n\t\tcolumn_id BIGINT(64) NOT NULL,\n\t\tlast_used_at TIMESTAMP,\n\t\tlast_analyzed_at TIMESTAMP,\n\t\tPRIMARY KEY (table_id, column_id) CLUSTERED\n\t);"]
[2024/05/17 10:47:03.976 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=55] [category=ddl] [job="ID:55, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:54, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:03.973 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:03.978 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816565901426690] ["schema version"=27]
[2024/05/17 10:47:03.978 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=26] [neededSchemaVersion=27] ["start time"=222.792µs] [gotSchemaVersion=27] [phyTblIDs="[54]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:47:03.978 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:47:03.978 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=55] [version=27]
[2024/05/17 10:47:03.980 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=27] ["take time"=2.597875ms] [job="ID:55, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:54, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:03.973 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:03.983 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=55] [job="ID:55, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:54, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:03.973 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:03.985 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=55]
[2024/05/17 10:47:03.985 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:47:03.985 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816565901426690] ["schema version"=27]
[2024/05/17 10:47:03.985 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=27] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.table_cache_meta (\n\t\ttid bigint(11) NOT NULL DEFAULT 0,\n\t\tlock_type enum('NONE','READ', 'INTEND', 'WRITE') NOT NULL DEFAULT 'NONE',\n\t\tlease bigint(20) NOT NULL DEFAULT 0,\n\t\toldReadLease bigint(20) NOT NULL DEFAULT 0,\n\t\tPRIMARY KEY (tid)\n\t);"] [user=]
[2024/05/17 10:47:03.986 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:57, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:56, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:03.985 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:47:03.986 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:57, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:56, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:03.985 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.table_cache_meta (\n\t\ttid bigint(11) NOT NULL DEFAULT 0,\n\t\tlock_type enum('NONE','READ', 'INTEND', 'WRITE') NOT NULL DEFAULT 'NONE',\n\t\tlease bigint(20) NOT NULL DEFAULT 0,\n\t\toldReadLease bigint(20) NOT NULL DEFAULT 0,\n\t\tPRIMARY KEY (tid)\n\t);"]
[2024/05/17 10:47:03.990 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=57] [category=ddl] [job="ID:57, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:56, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:03.985 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:03.991 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816565904834568] ["schema version"=28]
[2024/05/17 10:47:03.991 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=27] [neededSchemaVersion=28] ["start time"=157.625µs] [gotSchemaVersion=28] [phyTblIDs="[56]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:47:03.991 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:47:03.991 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=57] [version=28]
[2024/05/17 10:47:03.993 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=28] ["take time"=2.080292ms] [job="ID:57, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:56, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:03.985 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:03.997 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=57] [job="ID:57, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:56, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:03.985 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:03.998 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=57]
[2024/05/17 10:47:03.998 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:47:03.999 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816565904834568] ["schema version"=28]
[2024/05/17 10:47:03.999 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=28] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.analyze_options (\n\t\ttable_id BIGINT(64) NOT NULL,\n\t\tsample_num BIGINT(64) NOT NULL DEFAULT 0,\n\t\tsample_rate DOUBLE NOT NULL DEFAULT -1,\n\t\tbuckets BIGINT(64) NOT NULL DEFAULT 0,\n\t\ttopn BIGINT(64) NOT NULL DEFAULT -1,\n\t\tcolumn_choice enum('DEFAULT','ALL','PREDICATE','LIST') NOT NULL DEFAULT 'DEFAULT',\n\t\tcolumn_ids TEXT(19372),\n\t\tPRIMARY KEY (table_id) CLUSTERED\n\t);"] [user=]
[2024/05/17 10:47:03.999 +08:00] [INFO] [ddl_api.go:1141] ["Automatically convert BLOB(19372) to MEDIUMBLOB"] [category=ddl]
[2024/05/17 10:47:04.000 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:59, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:58, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:03.999 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:47:04.000 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:59, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:58, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:03.999 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.analyze_options (\n\t\ttable_id BIGINT(64) NOT NULL,\n\t\tsample_num BIGINT(64) NOT NULL DEFAULT 0,\n\t\tsample_rate DOUBLE NOT NULL DEFAULT -1,\n\t\tbuckets BIGINT(64) NOT NULL DEFAULT 0,\n\t\ttopn BIGINT(64) NOT NULL DEFAULT -1,\n\t\tcolumn_choice enum('DEFAULT','ALL','PREDICATE','LIST') NOT NULL DEFAULT 'DEFAULT',\n\t\tcolumn_ids TEXT(19372),\n\t\tPRIMARY KEY (table_id) CLUSTERED\n\t);"]
[2024/05/17 10:47:04.003 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=59] [category=ddl] [job="ID:59, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:58, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:03.999 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:04.005 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816565908504578] ["schema version"=29]
[2024/05/17 10:47:04.005 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=28] [neededSchemaVersion=29] ["start time"=204.792µs] [gotSchemaVersion=29] [phyTblIDs="[58]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:47:04.005 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:47:04.005 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=59] [version=29]
[2024/05/17 10:47:04.006 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=29] ["take time"=2.01475ms] [job="ID:59, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:58, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:03.999 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:04.010 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=59] [job="ID:59, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:58, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:03.999 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:04.012 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=59]
[2024/05/17 10:47:04.012 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:47:04.012 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816565908504578] ["schema version"=29]
[2024/05/17 10:47:04.012 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=29] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_history (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tstats_data longblob NOT NULL,\n\t\tseq_no bigint(64) NOT NULL comment 'sequence number of the gzipped data slice',\n\t\tversion bigint(64) NOT NULL comment 'stats version which corresponding to stats:version in EXPLAIN',\n\t\tcreate_time datetime(6) NOT NULL,\n\t\tUNIQUE KEY table_version_seq (table_id, version, seq_no),\n\t\tKEY table_create_time (table_id, create_time, seq_no),\n    \tKEY idx_create_time (create_time)\n\t);"] [user=]
[2024/05/17 10:47:04.014 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:61, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:60, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:04.013 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:47:04.014 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:61, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:60, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:04.013 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_history (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tstats_data longblob NOT NULL,\n\t\tseq_no bigint(64) NOT NULL comment 'sequence number of the gzipped data slice',\n\t\tversion bigint(64) NOT NULL comment 'stats version which corresponding to stats:version in EXPLAIN',\n\t\tcreate_time datetime(6) NOT NULL,\n\t\tUNIQUE KEY table_version_seq (table_id, version, seq_no),\n\t\tKEY table_create_time (table_id, create_time, seq_no),\n    \tKEY idx_create_time (create_time)\n\t);"]
[2024/05/17 10:47:04.017 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=61] [category=ddl] [job="ID:61, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:60, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:04.013 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:04.018 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816565912174592] ["schema version"=30]
[2024/05/17 10:47:04.018 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=29] [neededSchemaVersion=30] ["start time"=222.125µs] [gotSchemaVersion=30] [phyTblIDs="[60]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:47:04.019 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:47:04.019 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=61] [version=30]
[2024/05/17 10:47:04.020 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=30] ["take time"=2.003666ms] [job="ID:61, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:60, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:04.013 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:04.024 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=61] [job="ID:61, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:60, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:04.013 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:04.025 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=61]
[2024/05/17 10:47:04.025 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:47:04.026 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816565912174592] ["schema version"=30]
[2024/05/17 10:47:04.026 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=30] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_meta_history (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tmodify_count bigint(64) NOT NULL,\n\t\tcount bigint(64) NOT NULL,\n\t\tversion bigint(64) NOT NULL comment 'stats version which corresponding to stats:version in EXPLAIN',\n    \tsource varchar(40) NOT NULL,\n\t\tcreate_time datetime(6) NOT NULL,\n\t\tUNIQUE KEY table_version (table_id, version),\n\t\tKEY table_create_time (table_id, create_time),\n    \tKEY idx_create_time (create_time)\n\t);"] [user=]
[2024/05/17 10:47:04.027 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:63, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:62, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:04.026 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:47:04.027 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:63, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:62, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:04.026 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_meta_history (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tmodify_count bigint(64) NOT NULL,\n\t\tcount bigint(64) NOT NULL,\n\t\tversion bigint(64) NOT NULL comment 'stats version which corresponding to stats:version in EXPLAIN',\n    \tsource varchar(40) NOT NULL,\n\t\tcreate_time datetime(6) NOT NULL,\n\t\tUNIQUE KEY table_version (table_id, version),\n\t\tKEY table_create_time (table_id, create_time),\n    \tKEY idx_create_time (create_time)\n\t);"]
[2024/05/17 10:47:04.030 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=63] [category=ddl] [job="ID:63, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:62, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:04.026 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:04.031 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816565915582464] ["schema version"=31]
[2024/05/17 10:47:04.031 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=30] [neededSchemaVersion=31] ["start time"=244.583µs] [gotSchemaVersion=31] [phyTblIDs="[62]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:47:04.032 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:47:04.032 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=63] [version=31]
[2024/05/17 10:47:04.033 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=31] ["take time"=2.011791ms] [job="ID:63, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:62, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:04.026 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:04.037 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=63] [job="ID:63, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:62, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:04.026 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:04.038 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=63]
[2024/05/17 10:47:04.038 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:47:04.038 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816565915582464] ["schema version"=31]
[2024/05/17 10:47:04.039 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=31] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.analyze_jobs (\n\t\tid BIGINT(64) UNSIGNED NOT NULL AUTO_INCREMENT,\n\t\tupdate_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\ttable_schema CHAR(64) NOT NULL DEFAULT '',\n\t\ttable_name CHAR(64) NOT NULL DEFAULT '',\n\t\tpartition_name CHAR(64) NOT NULL DEFAULT '',\n\t\tjob_info TEXT NOT NULL,\n\t\tprocessed_rows BIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tstart_time TIMESTAMP,\n\t\tend_time TIMESTAMP,\n\t\tstate ENUM('pending', 'running', 'finished', 'failed') NOT NULL,\n\t\tfail_reason TEXT,\n\t\tinstance VARCHAR(512) NOT NULL comment 'address of the TiDB instance executing the analyze job',\n\t\tprocess_id BIGINT(64) UNSIGNED comment 'ID of the process executing the analyze job',\n\t\tPRIMARY KEY (id),\n\t\tKEY (update_time)\n\t);"] [user=]
[2024/05/17 10:47:04.040 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:65, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:64, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:04.039 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:47:04.040 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:65, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:64, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:04.039 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.analyze_jobs (\n\t\tid BIGINT(64) UNSIGNED NOT NULL AUTO_INCREMENT,\n\t\tupdate_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\ttable_schema CHAR(64) NOT NULL DEFAULT '',\n\t\ttable_name CHAR(64) NOT NULL DEFAULT '',\n\t\tpartition_name CHAR(64) NOT NULL DEFAULT '',\n\t\tjob_info TEXT NOT NULL,\n\t\tprocessed_rows BIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tstart_time TIMESTAMP,\n\t\tend_time TIMESTAMP,\n\t\tstate ENUM('pending', 'running', 'finished', 'failed') NOT NULL,\n\t\tfail_reason TEXT,\n\t\tinstance VARCHAR(512) NOT NULL comment 'address of the TiDB instance executing the analyze job',\n\t\tprocess_id BIGINT(64) UNSIGNED comment 'ID of the process executing the analyze job',\n\t\tPRIMARY KEY (id),\n\t\tKEY (update_time)\n\t);"]
[2024/05/17 10:47:04.043 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=65] [category=ddl] [job="ID:65, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:64, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:04.039 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:04.045 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816565918990337] ["schema version"=32]
[2024/05/17 10:47:04.045 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=31] [neededSchemaVersion=32] ["start time"=309.125µs] [gotSchemaVersion=32] [phyTblIDs="[64]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:47:04.045 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:47:04.045 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=65] [version=32]
[2024/05/17 10:47:04.046 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=32] ["take time"=2.008ms] [job="ID:65, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:64, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:04.039 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:04.050 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=65] [job="ID:65, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:64, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:04.039 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:04.052 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=65]
[2024/05/17 10:47:04.052 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:47:04.052 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816565918990337] ["schema version"=32]
[2024/05/17 10:47:04.052 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=32] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.advisory_locks (\n\t\tlock_name VARCHAR(64) NOT NULL PRIMARY KEY\n\t);"] [user=]
[2024/05/17 10:47:04.054 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:67, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:66, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:04.053 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:47:04.054 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:67, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:66, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:04.053 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.advisory_locks (\n\t\tlock_name VARCHAR(64) NOT NULL PRIMARY KEY\n\t);"]
[2024/05/17 10:47:04.056 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=67] [category=ddl] [job="ID:67, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:66, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:04.053 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:04.057 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816565922398208] ["schema version"=33]
[2024/05/17 10:47:04.057 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=32] [neededSchemaVersion=33] ["start time"=109.25µs] [gotSchemaVersion=33] [phyTblIDs="[66]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:47:04.057 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:47:04.057 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=67] [version=33]
[2024/05/17 10:47:04.059 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=33] ["take time"=2.41675ms] [job="ID:67, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:66, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:04.053 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:04.061 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=67] [job="ID:67, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:66, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:04.053 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:04.063 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=67]
[2024/05/17 10:47:04.063 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:47:04.063 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816565922398208] ["schema version"=33]
[2024/05/17 10:47:04.065 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:69, Type:create view, State:queueing, SchemaState:none, SchemaID:1, TableID:68, RowCount:0, ArgLen:3, start time: 2024-05-17 10:47:04.064 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:47:04.065 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:69, Type:create view, State:queueing, SchemaState:none, SchemaID:1, TableID:68, RowCount:0, ArgLen:3, start time: 2024-05-17 10:47:04.064 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE OR REPLACE VIEW mysql.tidb_mdl_view as (\n\t\tSELECT tidb_mdl_info.job_id,\n\t\t\tJSON_UNQUOTE(JSON_EXTRACT(cast(cast(job_meta as char) as json), \"$.schema_name\")) as db_name,\n\t\t\tJSON_UNQUOTE(JSON_EXTRACT(cast(cast(job_meta as char) as json), \"$.table_name\")) as table_name,\n\t\t\tJSON_UNQUOTE(JSON_EXTRACT(cast(cast(job_meta as char) as json), \"$.query\")) as query,\n\t\t\tsession_id,\n\t\t\tcluster_tidb_trx.start_time,\n\t\t\ttidb_decode_sql_digests(all_sql_digests, 4096) AS SQL_DIGESTS\n\t\tFROM mysql.tidb_ddl_job,\n\t\t\tmysql.tidb_mdl_info,\n\t\t\tinformation_schema.cluster_tidb_trx\n\t\tWHERE tidb_ddl_job.job_id=tidb_mdl_info.job_id\n\t\t\tAND CONCAT(',', tidb_mdl_info.table_ids, ',') REGEXP CONCAT(',(', REPLACE(cluster_tidb_trx.related_table_ids, ',', '|'), '),') != 0\n\t);"]
[2024/05/17 10:47:04.068 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=69] [category=ddl] [job="ID:69, Type:create view, State:queueing, SchemaState:none, SchemaID:1, TableID:68, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:04.064 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:04.069 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816565925543936] ["schema version"=34]
[2024/05/17 10:47:04.069 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=33] [neededSchemaVersion=34] ["start time"=193.25µs] [gotSchemaVersion=34] [phyTblIDs="[68]"] [actionTypes="[21]"] [diffTypes="[\"create view\"]"]
[2024/05/17 10:47:04.070 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:47:04.070 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=69] [version=34]
[2024/05/17 10:47:04.071 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=34] ["take time"=2.661792ms] [job="ID:69, Type:create view, State:done, SchemaState:public, SchemaID:1, TableID:68, RowCount:0, ArgLen:3, start time: 2024-05-17 10:47:04.064 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:04.074 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=69] [job="ID:69, Type:create view, State:synced, SchemaState:public, SchemaID:1, TableID:68, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:04.064 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:04.075 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=69]
[2024/05/17 10:47:04.075 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:47:04.075 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816565925543936] ["schema version"=34]
[2024/05/17 10:47:04.075 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=34] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.plan_replayer_status (\n\t\tsql_digest VARCHAR(128),\n\t\tplan_digest VARCHAR(128),\n\t\torigin_sql TEXT,\n\t\ttoken VARCHAR(128),\n\t\tupdate_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\tfail_reason TEXT,\n\t\tinstance VARCHAR(512) NOT NULL comment 'address of the TiDB instance executing the plan replayer job');"] [user=]
[2024/05/17 10:47:04.076 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:71, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:70, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:04.076 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:47:04.076 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:71, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:70, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:04.076 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.plan_replayer_status (\n\t\tsql_digest VARCHAR(128),\n\t\tplan_digest VARCHAR(128),\n\t\torigin_sql TEXT,\n\t\ttoken VARCHAR(128),\n\t\tupdate_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\tfail_reason TEXT,\n\t\tinstance VARCHAR(512) NOT NULL comment 'address of the TiDB instance executing the plan replayer job');"]
[2024/05/17 10:47:04.079 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=71] [category=ddl] [job="ID:71, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:70, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:04.076 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:04.080 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816565928427520] ["schema version"=35]
[2024/05/17 10:47:04.080 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=34] [neededSchemaVersion=35] ["start time"=179.708µs] [gotSchemaVersion=35] [phyTblIDs="[70]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:47:04.081 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:47:04.081 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=71] [version=35]
[2024/05/17 10:47:04.083 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=35] ["take time"=2.632875ms] [job="ID:71, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:70, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:04.076 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:04.085 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=71] [job="ID:71, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:70, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:04.076 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:04.087 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=71]
[2024/05/17 10:47:04.087 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:47:04.087 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816565928427520] ["schema version"=35]
[2024/05/17 10:47:04.087 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=35] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.plan_replayer_task (\n\t\tsql_digest VARCHAR(128) NOT NULL,\n\t\tplan_digest VARCHAR(128) NOT NULL,\n\t\tupdate_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\tPRIMARY KEY (sql_digest,plan_digest));"] [user=]
[2024/05/17 10:47:04.090 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:73, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:72, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:04.089 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:47:04.090 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:73, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:72, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:04.089 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.plan_replayer_task (\n\t\tsql_digest VARCHAR(128) NOT NULL,\n\t\tplan_digest VARCHAR(128) NOT NULL,\n\t\tupdate_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\tPRIMARY KEY (sql_digest,plan_digest));"]
[2024/05/17 10:47:04.094 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=73] [category=ddl] [job="ID:73, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:72, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:04.089 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:04.096 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816565932621826] ["schema version"=36]
[2024/05/17 10:47:04.096 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=35] [neededSchemaVersion=36] ["start time"=211.875µs] [gotSchemaVersion=36] [phyTblIDs="[72]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:47:04.097 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:47:04.097 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=73] [version=36]
[2024/05/17 10:47:04.099 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=36] ["take time"=3.264042ms] [job="ID:73, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:72, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:04.089 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:04.105 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=73] [job="ID:73, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:72, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:04.089 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:04.109 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=73]
[2024/05/17 10:47:04.109 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:47:04.109 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816565932621826] ["schema version"=36]
[2024/05/17 10:47:04.109 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=36] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_table_locked(\n\t\ttable_id bigint(64) NOT NULL,\n\t\tmodify_count bigint(64) NOT NULL DEFAULT 0,\n\t\tcount bigint(64) NOT NULL DEFAULT 0,\n\t\tversion bigint(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tPRIMARY KEY (table_id));"] [user=]
[2024/05/17 10:47:04.110 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:75, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:74, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:04.109 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:47:04.110 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:75, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:74, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:04.109 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_table_locked(\n\t\ttable_id bigint(64) NOT NULL,\n\t\tmodify_count bigint(64) NOT NULL DEFAULT 0,\n\t\tcount bigint(64) NOT NULL DEFAULT 0,\n\t\tversion bigint(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tPRIMARY KEY (table_id));"]
[2024/05/17 10:47:04.116 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=75] [category=ddl] [job="ID:75, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:74, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:04.109 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:04.117 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816565938126848] ["schema version"=37]
[2024/05/17 10:47:04.117 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=36] [neededSchemaVersion=37] ["start time"=202.833µs] [gotSchemaVersion=37] [phyTblIDs="[74]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:47:04.118 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:47:04.118 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=75] [version=37]
[2024/05/17 10:47:04.119 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=37] ["take time"=2.335584ms] [job="ID:75, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:74, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:04.109 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:04.125 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=75] [job="ID:75, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:74, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:04.109 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:04.127 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=75]
[2024/05/17 10:47:04.127 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:47:04.127 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816565938126848] ["schema version"=37]
[2024/05/17 10:47:04.127 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=37] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_ttl_table_status (\n\t\ttable_id bigint(64) PRIMARY KEY,\n        parent_table_id bigint(64),\n        table_statistics text DEFAULT NULL,\n\t\tlast_job_id varchar(64) DEFAULT NULL,\n\t\tlast_job_start_time timestamp NULL DEFAULT NULL,\n\t\tlast_job_finish_time timestamp NULL DEFAULT NULL,\n\t\tlast_job_ttl_expire timestamp NULL DEFAULT NULL,\n        last_job_summary text DEFAULT NULL,\n\t\tcurrent_job_id varchar(64) DEFAULT NULL,\n\t\tcurrent_job_owner_id varchar(64) DEFAULT NULL,\n\t\tcurrent_job_owner_addr varchar(256) DEFAULT NULL,\n\t\tcurrent_job_owner_hb_time timestamp,\n\t\tcurrent_job_start_time timestamp NULL DEFAULT NULL,\n\t\tcurrent_job_ttl_expire timestamp NULL DEFAULT NULL,\n\t\tcurrent_job_state text DEFAULT NULL,\n\t\tcurrent_job_status varchar(64) DEFAULT NULL,\n  \t\tcurrent_job_status_update_time timestamp NULL DEFAULT NULL);"] [user=]
[2024/05/17 10:47:04.128 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:77, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:76, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:04.127 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:47:04.128 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:77, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:76, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:04.127 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_ttl_table_status (\n\t\ttable_id bigint(64) PRIMARY KEY,\n        parent_table_id bigint(64),\n        table_statistics text DEFAULT NULL,\n\t\tlast_job_id varchar(64) DEFAULT NULL,\n\t\tlast_job_start_time timestamp NULL DEFAULT NULL,\n\t\tlast_job_finish_time timestamp NULL DEFAULT NULL,\n\t\tlast_job_ttl_expire timestamp NULL DEFAULT NULL,\n        last_job_summary text DEFAULT NULL,\n\t\tcurrent_job_id varchar(64) DEFAULT NULL,\n\t\tcurrent_job_owner_id varchar(64) DEFAULT NULL,\n\t\tcurrent_job_owner_addr varchar(256) DEFAULT NULL,\n\t\tcurrent_job_owner_hb_time timestamp,\n\t\tcurrent_job_start_time timestamp NULL DEFAULT NULL,\n\t\tcurrent_job_ttl_expire timestamp NULL DEFAULT NULL,\n\t\tcurrent_job_state text DEFAULT NULL,\n\t\tcurrent_job_status varchar(64) DEFAULT NULL,\n  \t\tcurrent_job_status_update_time timestamp NULL DEFAULT NULL);"]
[2024/05/17 10:47:04.129 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816565938126848] ["schema version"=37]
[2024/05/17 10:47:04.132 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=77] [category=ddl] [job="ID:77, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:76, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:04.127 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:04.134 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816565942321152] ["schema version"=38]
[2024/05/17 10:47:04.134 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=37] [neededSchemaVersion=38] ["start time"=346.708µs] [gotSchemaVersion=38] [phyTblIDs="[76]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:47:04.134 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:47:04.134 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=77] [version=38]
[2024/05/17 10:47:04.136 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=38] ["take time"=2.517416ms] [job="ID:77, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:76, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:04.127 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:04.138 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=77] [job="ID:77, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:76, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:04.127 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:04.140 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=77]
[2024/05/17 10:47:04.140 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:47:04.140 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816565942321152] ["schema version"=38]
[2024/05/17 10:47:04.141 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=38] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_ttl_task (\n\t\tjob_id varchar(64) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tscan_id int NOT NULL,\n\t\tscan_range_start BLOB,\n\t\tscan_range_end BLOB,\n\t\texpire_time timestamp NOT NULL,\n\t\towner_id varchar(64) DEFAULT NULL,\n\t\towner_addr varchar(64) DEFAULT NULL,\n\t\towner_hb_time timestamp DEFAULT NULL,\n\t\tstatus varchar(64) DEFAULT 'waiting',\n\t\tstatus_update_time timestamp NULL DEFAULT NULL,\n\t\tstate text,\n\t\tcreated_time timestamp NOT NULL,\n\t\tprimary key(job_id, scan_id),\n\t\tkey(created_time));"] [user=]
[2024/05/17 10:47:04.142 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:79, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:78, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:04.141 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:47:04.142 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:79, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:78, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:04.141 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_ttl_task (\n\t\tjob_id varchar(64) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tscan_id int NOT NULL,\n\t\tscan_range_start BLOB,\n\t\tscan_range_end BLOB,\n\t\texpire_time timestamp NOT NULL,\n\t\towner_id varchar(64) DEFAULT NULL,\n\t\towner_addr varchar(64) DEFAULT NULL,\n\t\towner_hb_time timestamp DEFAULT NULL,\n\t\tstatus varchar(64) DEFAULT 'waiting',\n\t\tstatus_update_time timestamp NULL DEFAULT NULL,\n\t\tstate text,\n\t\tcreated_time timestamp NOT NULL,\n\t\tprimary key(job_id, scan_id),\n\t\tkey(created_time));"]
[2024/05/17 10:47:04.145 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=79] [category=ddl] [job="ID:79, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:78, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:04.141 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:04.147 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816565945729025] ["schema version"=39]
[2024/05/17 10:47:04.147 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=38] [neededSchemaVersion=39] ["start time"=350.292µs] [gotSchemaVersion=39] [phyTblIDs="[78]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:47:04.147 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:47:04.147 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=79] [version=39]
[2024/05/17 10:47:04.149 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=39] ["take time"=2.195042ms] [job="ID:79, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:78, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:04.141 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:04.152 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=79] [job="ID:79, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:78, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:04.141 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:04.154 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=79]
[2024/05/17 10:47:04.154 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:47:04.154 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816565945729025] ["schema version"=39]
[2024/05/17 10:47:04.154 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=39] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_ttl_job_history (\n\t\tjob_id varchar(64) PRIMARY KEY,\n\t\ttable_id bigint(64) NOT NULL,\n        parent_table_id bigint(64) NOT NULL,\n    \ttable_schema varchar(64) NOT NULL,\n\t\ttable_name varchar(64) NOT NULL,\n    \tpartition_name varchar(64) DEFAULT NULL,\n\t\tcreate_time timestamp NOT NULL,\n\t\tfinish_time timestamp NOT NULL,\n\t\tttl_expire timestamp NOT NULL,\n        summary_text text,\n\t\texpired_rows bigint(64) DEFAULT NULL,\n    \tdeleted_rows bigint(64) DEFAULT NULL,\n    \terror_delete_rows bigint(64) DEFAULT NULL,\n    \tstatus varchar(64) NOT NULL,\n    \tkey(table_schema, table_name, create_time),\n    \tkey(parent_table_id, create_time),\n    \tkey(create_time)\n\t);"] [user=]
[2024/05/17 10:47:04.155 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:81, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:80, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:04.154 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:47:04.155 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:81, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:80, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:04.154 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_ttl_job_history (\n\t\tjob_id varchar(64) PRIMARY KEY,\n\t\ttable_id bigint(64) NOT NULL,\n        parent_table_id bigint(64) NOT NULL,\n    \ttable_schema varchar(64) NOT NULL,\n\t\ttable_name varchar(64) NOT NULL,\n    \tpartition_name varchar(64) DEFAULT NULL,\n\t\tcreate_time timestamp NOT NULL,\n\t\tfinish_time timestamp NOT NULL,\n\t\tttl_expire timestamp NOT NULL,\n        summary_text text,\n\t\texpired_rows bigint(64) DEFAULT NULL,\n    \tdeleted_rows bigint(64) DEFAULT NULL,\n    \terror_delete_rows bigint(64) DEFAULT NULL,\n    \tstatus varchar(64) NOT NULL,\n    \tkey(table_schema, table_name, create_time),\n    \tkey(parent_table_id, create_time),\n    \tkey(create_time)\n\t);"]
[2024/05/17 10:47:04.158 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=81] [category=ddl] [job="ID:81, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:80, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:04.154 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:04.160 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816565949399040] ["schema version"=40]
[2024/05/17 10:47:04.160 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=39] [neededSchemaVersion=40] ["start time"=347.458µs] [gotSchemaVersion=40] [phyTblIDs="[80]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:47:04.160 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:47:04.160 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=81] [version=40]
[2024/05/17 10:47:04.162 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=40] ["take time"=2.412209ms] [job="ID:81, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:80, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:04.154 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:04.165 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=81] [job="ID:81, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:80, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:04.154 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:04.167 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=81]
[2024/05/17 10:47:04.167 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:47:04.167 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816565949399040] ["schema version"=40]
[2024/05/17 10:47:04.167 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=40] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_global_task (\n\t\tid BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n    \ttask_key VARCHAR(256) NOT NULL,\n\t\ttype VARCHAR(256) NOT NULL,\n\t\tdispatcher_id VARCHAR(261),\n\t\tstate VARCHAR(64) NOT NULL,\n\t\tpriority INT DEFAULT 1,\n\t\tcreate_time TIMESTAMP,\n\t\tstart_time TIMESTAMP,\n\t\tstate_update_time TIMESTAMP,\n\t\tend_time TIMESTAMP,\n\t\tmeta LONGBLOB,\n\t\tconcurrency INT(11),\n\t\tstep INT(11),\n\t\ttarget_scope VARCHAR(256) DEFAULT \"\",\n\t\terror BLOB,\n\t\tkey(state),\n      \tUNIQUE KEY task_key(task_key)\n\t);"] [user=]
[2024/05/17 10:47:04.169 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:83, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:82, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:04.168 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:47:04.169 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:83, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:82, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:04.168 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_global_task (\n\t\tid BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n    \ttask_key VARCHAR(256) NOT NULL,\n\t\ttype VARCHAR(256) NOT NULL,\n\t\tdispatcher_id VARCHAR(261),\n\t\tstate VARCHAR(64) NOT NULL,\n\t\tpriority INT DEFAULT 1,\n\t\tcreate_time TIMESTAMP,\n\t\tstart_time TIMESTAMP,\n\t\tstate_update_time TIMESTAMP,\n\t\tend_time TIMESTAMP,\n\t\tmeta LONGBLOB,\n\t\tconcurrency INT(11),\n\t\tstep INT(11),\n\t\ttarget_scope VARCHAR(256) DEFAULT \"\",\n\t\terror BLOB,\n\t\tkey(state),\n      \tUNIQUE KEY task_key(task_key)\n\t);"]
[2024/05/17 10:47:04.172 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=83] [category=ddl] [job="ID:83, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:82, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:04.168 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:04.174 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816565952806912] ["schema version"=41]
[2024/05/17 10:47:04.174 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=40] [neededSchemaVersion=41] ["start time"=340.667µs] [gotSchemaVersion=41] [phyTblIDs="[82]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:47:04.174 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:47:04.174 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=83] [version=41]
[2024/05/17 10:47:04.175 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=41] ["take time"=2.003667ms] [job="ID:83, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:82, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:04.168 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:04.179 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=83] [job="ID:83, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:82, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:04.168 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:04.181 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=83]
[2024/05/17 10:47:04.181 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:47:04.181 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816565952806912] ["schema version"=41]
[2024/05/17 10:47:04.181 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=41] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_global_task_history (\n\t\tid BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n    \ttask_key VARCHAR(256) NOT NULL,\n\t\ttype VARCHAR(256) NOT NULL,\n\t\tdispatcher_id VARCHAR(261),\n\t\tstate VARCHAR(64) NOT NULL,\n\t\tpriority INT DEFAULT 1,\n\t\tcreate_time TIMESTAMP,\n\t\tstart_time TIMESTAMP,\n\t\tstate_update_time TIMESTAMP,\n\t\tend_time TIMESTAMP,\n\t\tmeta LONGBLOB,\n\t\tconcurrency INT(11),\n\t\tstep INT(11),\n\t\ttarget_scope VARCHAR(256) DEFAULT \"\",\n\t\terror BLOB,\n\t\tkey(state),\n      \tUNIQUE KEY task_key(task_key)\n\t);"] [user=]
[2024/05/17 10:47:04.182 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:85, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:84, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:04.181 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:47:04.182 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:85, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:84, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:04.181 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_global_task_history (\n\t\tid BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n    \ttask_key VARCHAR(256) NOT NULL,\n\t\ttype VARCHAR(256) NOT NULL,\n\t\tdispatcher_id VARCHAR(261),\n\t\tstate VARCHAR(64) NOT NULL,\n\t\tpriority INT DEFAULT 1,\n\t\tcreate_time TIMESTAMP,\n\t\tstart_time TIMESTAMP,\n\t\tstate_update_time TIMESTAMP,\n\t\tend_time TIMESTAMP,\n\t\tmeta LONGBLOB,\n\t\tconcurrency INT(11),\n\t\tstep INT(11),\n\t\ttarget_scope VARCHAR(256) DEFAULT \"\",\n\t\terror BLOB,\n\t\tkey(state),\n      \tUNIQUE KEY task_key(task_key)\n\t);"]
[2024/05/17 10:47:04.185 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=85] [category=ddl] [job="ID:85, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:84, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:04.181 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:04.187 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816565956214786] ["schema version"=42]
[2024/05/17 10:47:04.187 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=41] [neededSchemaVersion=42] ["start time"=310.833µs] [gotSchemaVersion=42] [phyTblIDs="[84]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:47:04.187 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:47:04.187 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=85] [version=42]
[2024/05/17 10:47:04.189 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=42] ["take time"=2.628333ms] [job="ID:85, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:84, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:04.181 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:04.192 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=85] [job="ID:85, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:84, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:04.181 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:04.193 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=85]
[2024/05/17 10:47:04.193 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:47:04.193 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816565956214786] ["schema version"=42]
[2024/05/17 10:47:04.194 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=42] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_import_jobs (\n\t\tid bigint(64) NOT NULL AUTO_INCREMENT,\n\t\tcreate_time TIMESTAMP(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6),\n\t\tstart_time TIMESTAMP(6) NULL DEFAULT NULL,\n\t\tupdate_time TIMESTAMP(6) NULL DEFAULT NULL,\n\t\tend_time TIMESTAMP(6) NULL DEFAULT NULL,\n\t\ttable_schema VARCHAR(64) NOT NULL,\n\t\ttable_name VARCHAR(64) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tcreated_by VARCHAR(300) NOT NULL,\n\t\tparameters text NOT NULL,\n\t\tsource_file_size bigint(64) NOT NULL,\n\t\tstatus VARCHAR(64) NOT NULL,\n\t\tstep VARCHAR(64) NOT NULL,\n\t\tsummary text DEFAULT NULL,\n\t\terror_message TEXT DEFAULT NULL,\n\t\tPRIMARY KEY (id),\n\t\tKEY (created_by),\n\t\tKEY (status));"] [user=]
[2024/05/17 10:47:04.195 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:87, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:86, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:04.194 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:47:04.195 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:87, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:86, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:04.194 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_import_jobs (\n\t\tid bigint(64) NOT NULL AUTO_INCREMENT,\n\t\tcreate_time TIMESTAMP(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6),\n\t\tstart_time TIMESTAMP(6) NULL DEFAULT NULL,\n\t\tupdate_time TIMESTAMP(6) NULL DEFAULT NULL,\n\t\tend_time TIMESTAMP(6) NULL DEFAULT NULL,\n\t\ttable_schema VARCHAR(64) NOT NULL,\n\t\ttable_name VARCHAR(64) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tcreated_by VARCHAR(300) NOT NULL,\n\t\tparameters text NOT NULL,\n\t\tsource_file_size bigint(64) NOT NULL,\n\t\tstatus VARCHAR(64) NOT NULL,\n\t\tstep VARCHAR(64) NOT NULL,\n\t\tsummary text DEFAULT NULL,\n\t\terror_message TEXT DEFAULT NULL,\n\t\tPRIMARY KEY (id),\n\t\tKEY (created_by),\n\t\tKEY (status));"]
[2024/05/17 10:47:04.198 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=87] [category=ddl] [job="ID:87, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:86, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:04.194 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:04.199 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816565959622656] ["schema version"=43]
[2024/05/17 10:47:04.199 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=42] [neededSchemaVersion=43] ["start time"=332.75µs] [gotSchemaVersion=43] [phyTblIDs="[86]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:47:04.200 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:47:04.200 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=87] [version=43]
[2024/05/17 10:47:04.201 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=43] ["take time"=2.164125ms] [job="ID:87, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:86, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:04.194 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:04.203 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=87] [job="ID:87, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:86, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:04.194 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:04.205 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=87]
[2024/05/17 10:47:04.205 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:47:04.205 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816565959622656] ["schema version"=43]
[2024/05/17 10:47:04.205 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=43] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_runaway_watch (\n\t\tid BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n\t\tresource_group_name varchar(32) not null,\n\t\tstart_time datetime(6) NOT NULL,\n\t\tend_time datetime(6),\n\t\twatch bigint(10) NOT NULL,\n\t\twatch_text TEXT NOT NULL,\n\t\tsource varchar(512) NOT NULL,\n\t\taction bigint(10),\n\t\tINDEX sql_index(resource_group_name,watch_text(700)) COMMENT \"accelerate the speed when select quarantined query\",\n\t\tINDEX time_index(end_time) COMMENT \"accelerate the speed when querying with active watch\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"] [user=]
[2024/05/17 10:47:04.206 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:89, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:88, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:04.206 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:47:04.206 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:89, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:88, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:04.206 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_runaway_watch (\n\t\tid BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n\t\tresource_group_name varchar(32) not null,\n\t\tstart_time datetime(6) NOT NULL,\n\t\tend_time datetime(6),\n\t\twatch bigint(10) NOT NULL,\n\t\twatch_text TEXT NOT NULL,\n\t\tsource varchar(512) NOT NULL,\n\t\taction bigint(10),\n\t\tINDEX sql_index(resource_group_name,watch_text(700)) COMMENT \"accelerate the speed when select quarantined query\",\n\t\tINDEX time_index(end_time) COMMENT \"accelerate the speed when querying with active watch\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"]
[2024/05/17 10:47:04.209 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=89] [category=ddl] [job="ID:89, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:88, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:04.206 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:04.210 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816565962506240] ["schema version"=44]
[2024/05/17 10:47:04.210 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=43] [neededSchemaVersion=44] ["start time"=235.917µs] [gotSchemaVersion=44] [phyTblIDs="[88]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:47:04.211 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:47:04.211 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=89] [version=44]
[2024/05/17 10:47:04.212 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=44] ["take time"=2.219625ms] [job="ID:89, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:88, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:04.206 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:04.214 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=89] [job="ID:89, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:88, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:04.206 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:04.216 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=89]
[2024/05/17 10:47:04.216 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:47:04.216 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816565962506240] ["schema version"=44]
[2024/05/17 10:47:04.216 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=44] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_runaway_queries (\n\t\tresource_group_name varchar(32) not null,\n\t\ttime TIMESTAMP NOT NULL,\n\t\tmatch_type varchar(12) NOT NULL,\n\t\taction varchar(12) NOT NULL,\n\t\toriginal_sql TEXT NOT NULL,\n\t\tplan_digest TEXT NOT NULL,\n\t\ttidb_server varchar(512),\n\t\tINDEX plan_index(plan_digest(64)) COMMENT \"accelerate the speed when select runaway query\",\n\t\tINDEX time_index(time) COMMENT \"accelerate the speed when querying with active watch\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"] [user=]
[2024/05/17 10:47:04.217 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:91, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:90, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:04.216 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:47:04.217 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:91, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:90, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:04.216 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_runaway_queries (\n\t\tresource_group_name varchar(32) not null,\n\t\ttime TIMESTAMP NOT NULL,\n\t\tmatch_type varchar(12) NOT NULL,\n\t\taction varchar(12) NOT NULL,\n\t\toriginal_sql TEXT NOT NULL,\n\t\tplan_digest TEXT NOT NULL,\n\t\ttidb_server varchar(512),\n\t\tINDEX plan_index(plan_digest(64)) COMMENT \"accelerate the speed when select runaway query\",\n\t\tINDEX time_index(time) COMMENT \"accelerate the speed when querying with active watch\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"]
[2024/05/17 10:47:04.219 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=91] [category=ddl] [job="ID:91, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:90, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:04.216 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:04.220 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816565965127680] ["schema version"=45]
[2024/05/17 10:47:04.220 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=44] [neededSchemaVersion=45] ["start time"=205.042µs] [gotSchemaVersion=45] [phyTblIDs="[90]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:47:04.221 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:47:04.221 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=91] [version=45]
[2024/05/17 10:47:04.222 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=45] ["take time"=2.274ms] [job="ID:91, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:90, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:04.216 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:04.224 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=91] [job="ID:91, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:90, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:04.216 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:04.226 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=91]
[2024/05/17 10:47:04.226 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:47:04.226 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816565965127680] ["schema version"=45]
[2024/05/17 10:47:04.226 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=45] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS `mysql`.`tidb_timers` (\n\t\tID BIGINT(64) UNSIGNED NOT NULL AUTO_INCREMENT,\n\t\tNAMESPACE VARCHAR(256) NOT NULL,\n\t\tTIMER_KEY VARCHAR(256) NOT NULL,\n\t\tTIMER_DATA BLOB,\n\t\tTIMEZONE VARCHAR(64) NOT NULL,\n\t\tSCHED_POLICY_TYPE VARCHAR(32) NOT NULL,\n\t\tSCHED_POLICY_EXPR VARCHAR(256) NOT NULL,\n\t\tHOOK_CLASS VARCHAR(64) NOT NULL,\n\t\tWATERMARK TIMESTAMP DEFAULT NULL,\n\t\tENABLE TINYINT(2) NOT NULL,\n\t\tTIMER_EXT JSON NOT NULL,\n\t\tEVENT_STATUS VARCHAR(32) NOT NULL,\n\t\tEVENT_ID VARCHAR(64) NOT NULL,\n\t\tEVENT_DATA BLOB,\n\t\tEVENT_START TIMESTAMP DEFAULT NULL,\n\t\tSUMMARY_DATA BLOB,\n\t\tCREATE_TIME TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,\n\t\tUPDATE_TIME TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\tVERSION BIGINT(64) UNSIGNED NOT NULL,\n\t\tPRIMARY KEY (ID),\n\t\tUNIQUE KEY timer_key(NAMESPACE, TIMER_KEY),\n\t\tKEY hook_class(HOOK_CLASS)\n\t)"] [user=]
[2024/05/17 10:47:04.228 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:93, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:92, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:04.227 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:47:04.228 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:93, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:92, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:04.227 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS `mysql`.`tidb_timers` (\n\t\tID BIGINT(64) UNSIGNED NOT NULL AUTO_INCREMENT,\n\t\tNAMESPACE VARCHAR(256) NOT NULL,\n\t\tTIMER_KEY VARCHAR(256) NOT NULL,\n\t\tTIMER_DATA BLOB,\n\t\tTIMEZONE VARCHAR(64) NOT NULL,\n\t\tSCHED_POLICY_TYPE VARCHAR(32) NOT NULL,\n\t\tSCHED_POLICY_EXPR VARCHAR(256) NOT NULL,\n\t\tHOOK_CLASS VARCHAR(64) NOT NULL,\n\t\tWATERMARK TIMESTAMP DEFAULT NULL,\n\t\tENABLE TINYINT(2) NOT NULL,\n\t\tTIMER_EXT JSON NOT NULL,\n\t\tEVENT_STATUS VARCHAR(32) NOT NULL,\n\t\tEVENT_ID VARCHAR(64) NOT NULL,\n\t\tEVENT_DATA BLOB,\n\t\tEVENT_START TIMESTAMP DEFAULT NULL,\n\t\tSUMMARY_DATA BLOB,\n\t\tCREATE_TIME TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,\n\t\tUPDATE_TIME TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\tVERSION BIGINT(64) UNSIGNED NOT NULL,\n\t\tPRIMARY KEY (ID),\n\t\tUNIQUE KEY timer_key(NAMESPACE, TIMER_KEY),\n\t\tKEY hook_class(HOOK_CLASS)\n\t)"]
[2024/05/17 10:47:04.230 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=93] [category=ddl] [job="ID:93, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:92, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:04.227 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:04.232 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816565968273408] ["schema version"=46]
[2024/05/17 10:47:04.232 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=45] [neededSchemaVersion=46] ["start time"=382.667µs] [gotSchemaVersion=46] [phyTblIDs="[92]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:47:04.233 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:47:04.233 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=93] [version=46]
[2024/05/17 10:47:04.234 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=46] ["take time"=2.402542ms] [job="ID:93, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:92, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:04.227 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:04.237 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=93] [job="ID:93, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:92, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:04.227 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:04.239 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=93]
[2024/05/17 10:47:04.239 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:47:04.239 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816565968273408] ["schema version"=46]
[2024/05/17 10:47:04.239 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=46] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_runaway_watch_done (\n\t\tid BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n\t\trecord_id BIGINT(20) not null,\n\t\tresource_group_name varchar(32) not null,\n\t\tstart_time datetime(6) NOT NULL,\n\t\tend_time datetime(6),\n\t\twatch bigint(10) NOT NULL,\n\t\twatch_text TEXT NOT NULL,\n\t\tsource varchar(512) NOT NULL,\n\t\taction bigint(10),\n\t\tdone_time TIMESTAMP(6) NOT NULL\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"] [user=]
[2024/05/17 10:47:04.240 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:95, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:94, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:04.24 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:47:04.240 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:95, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:94, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:04.24 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_runaway_watch_done (\n\t\tid BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n\t\trecord_id BIGINT(20) not null,\n\t\tresource_group_name varchar(32) not null,\n\t\tstart_time datetime(6) NOT NULL,\n\t\tend_time datetime(6),\n\t\twatch bigint(10) NOT NULL,\n\t\twatch_text TEXT NOT NULL,\n\t\tsource varchar(512) NOT NULL,\n\t\taction bigint(10),\n\t\tdone_time TIMESTAMP(6) NOT NULL\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"]
[2024/05/17 10:47:04.243 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=95] [category=ddl] [job="ID:95, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:94, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:04.24 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:04.245 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816565971681280] ["schema version"=47]
[2024/05/17 10:47:04.245 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=46] [neededSchemaVersion=47] ["start time"=372.125µs] [gotSchemaVersion=47] [phyTblIDs="[94]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:47:04.246 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:47:04.246 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=95] [version=47]
[2024/05/17 10:47:04.249 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=47] ["take time"=3.969333ms] [job="ID:95, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:94, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:04.24 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:04.254 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=95] [job="ID:95, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:94, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:04.24 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:04.257 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=95]
[2024/05/17 10:47:04.257 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:47:04.257 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816565971681280] ["schema version"=47]
[2024/05/17 10:47:04.257 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=47] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.dist_framework_meta (\n        host VARCHAR(261) NOT NULL PRIMARY KEY,\n        role VARCHAR(64),\n        cpu_count int default 0,\n        keyspace_id bigint(8) NOT NULL DEFAULT -1\n    );"] [user=]
[2024/05/17 10:47:04.260 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:97, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:96, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:04.259 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:47:04.260 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:97, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:96, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:04.259 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.dist_framework_meta (\n        host VARCHAR(261) NOT NULL PRIMARY KEY,\n        role VARCHAR(64),\n        cpu_count int default 0,\n        keyspace_id bigint(8) NOT NULL DEFAULT -1\n    );"]
[2024/05/17 10:47:04.265 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=97] [category=ddl] [job="ID:97, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:96, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:04.259 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:04.266 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816565977186305] ["schema version"=48]
[2024/05/17 10:47:04.266 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=47] [neededSchemaVersion=48] ["start time"=259.25µs] [gotSchemaVersion=48] [phyTblIDs="[96]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:47:04.267 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:47:04.267 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=97] [version=48]
[2024/05/17 10:47:04.271 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=48] ["take time"=4.648875ms] [job="ID:97, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:96, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:04.259 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:04.275 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=97] [job="ID:97, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:96, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:04.259 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:04.280 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=97]
[2024/05/17 10:47:04.280 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:47:04.280 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816565977186305] ["schema version"=48]
[2024/05/17 10:47:04.280 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=48] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.request_unit_by_group (\n\t\tstart_time TIMESTAMP(6) NOT NULL,\n\t\tend_time TIMESTAMP(6) NOT NULL,\n\t\tresource_group VARCHAR(32) NOT null,\n\t\ttotal_ru bigint(64) UNSIGNED NOT NULL,\n\t\tPRIMARY KEY (start_time, end_time, resource_group),\n\t\tKEY (resource_group)\n\t);"] [user=]
[2024/05/17 10:47:04.281 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:99, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:98, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:04.28 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:47:04.281 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:99, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:98, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:04.28 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.request_unit_by_group (\n\t\tstart_time TIMESTAMP(6) NOT NULL,\n\t\tend_time TIMESTAMP(6) NOT NULL,\n\t\tresource_group VARCHAR(32) NOT null,\n\t\ttotal_ru bigint(64) UNSIGNED NOT NULL,\n\t\tPRIMARY KEY (start_time, end_time, resource_group),\n\t\tKEY (resource_group)\n\t);"]
[2024/05/17 10:47:04.283 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=99] [category=ddl] [job="ID:99, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:98, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:04.28 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:04.285 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816565981904899] ["schema version"=49]
[2024/05/17 10:47:04.285 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=48] [neededSchemaVersion=49] ["start time"=207.541µs] [gotSchemaVersion=49] [phyTblIDs="[98]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:47:04.285 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:47:04.285 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=99] [version=49]
[2024/05/17 10:47:04.287 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=49] ["take time"=2.388042ms] [job="ID:99, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:98, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:04.28 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:04.289 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=99] [job="ID:99, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:98, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:04.28 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:04.290 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=99]
[2024/05/17 10:47:04.290 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:47:04.290 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816565981904899] ["schema version"=49]
[2024/05/17 10:47:04.290 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=49] [cur_db=mysql] [sql="CREATE DATABASE IF NOT EXISTS sys;"] [user=]
[2024/05/17 10:47:04.291 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:101, Type:create schema, State:queueing, SchemaState:none, SchemaID:100, TableID:0, RowCount:0, ArgLen:1, start time: 2024-05-17 10:47:04.291 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:47:04.291 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:101, Type:create schema, State:queueing, SchemaState:none, SchemaID:100, TableID:0, RowCount:0, ArgLen:1, start time: 2024-05-17 10:47:04.291 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE DATABASE IF NOT EXISTS sys;"]
[2024/05/17 10:47:04.294 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=101] [category=ddl] [job="ID:101, Type:create schema, State:queueing, SchemaState:none, SchemaID:100, TableID:0, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:04.291 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:04.294 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816565984526345] ["schema version"=50]
[2024/05/17 10:47:04.294 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=49] [neededSchemaVersion=50] ["start time"=46.334µs] [gotSchemaVersion=50] [phyTblIDs="[]"] [actionTypes="[]"] [diffTypes="[\"create schema\"]"]
[2024/05/17 10:47:04.295 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:47:04.295 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=101] [version=50]
[2024/05/17 10:47:04.296 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=50] ["take time"=2.058875ms] [job="ID:101, Type:create schema, State:done, SchemaState:public, SchemaID:100, TableID:0, RowCount:0, ArgLen:1, start time: 2024-05-17 10:47:04.291 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:04.299 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=101] [job="ID:101, Type:create schema, State:synced, SchemaState:public, SchemaID:100, TableID:0, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:04.291 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:04.300 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=101]
[2024/05/17 10:47:04.300 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:47:04.300 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816565984526345] ["schema version"=50]
[2024/05/17 10:47:04.302 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:103, Type:create view, State:queueing, SchemaState:none, SchemaID:100, TableID:102, RowCount:0, ArgLen:3, start time: 2024-05-17 10:47:04.301 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:47:04.302 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:103, Type:create view, State:queueing, SchemaState:none, SchemaID:100, TableID:102, RowCount:0, ArgLen:3, start time: 2024-05-17 10:47:04.301 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE OR REPLACE VIEW sys.schema_unused_indexes AS\n\t\tSELECT\n\t\t\ttable_schema as object_schema,\n\t\t\ttable_name as object_name,\n\t\t\tindex_name\n\t\tFROM information_schema.cluster_tidb_index_usage\n\t\tWHERE\n\t\t\ttable_schema not in ('sys', 'mysql', 'INFORMATION_SCHEMA', 'PERFORMANCE_SCHEMA') and\n\t\t\tindex_name != 'PRIMARY'\n\t\tGROUP BY table_schema, table_name, index_name\n\t\tHAVING\n\t\t\tsum(last_access_time) is null;"]
[2024/05/17 10:47:04.305 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=103] [category=ddl] [job="ID:103, Type:create view, State:queueing, SchemaState:none, SchemaID:100, TableID:102, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:04.301 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:04.306 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816565987672064] ["schema version"=51]
[2024/05/17 10:47:04.306 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=50] [neededSchemaVersion=51] ["start time"=127.708µs] [gotSchemaVersion=51] [phyTblIDs="[102]"] [actionTypes="[21]"] [diffTypes="[\"create view\"]"]
[2024/05/17 10:47:04.306 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:47:04.306 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=103] [version=51]
[2024/05/17 10:47:04.308 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=51] ["take time"=2.018958ms] [job="ID:103, Type:create view, State:done, SchemaState:public, SchemaID:100, TableID:102, RowCount:0, ArgLen:3, start time: 2024-05-17 10:47:04.301 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:04.311 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=103] [job="ID:103, Type:create view, State:synced, SchemaState:public, SchemaID:100, TableID:102, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:04.301 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:04.312 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=103]
[2024/05/17 10:47:04.312 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:47:04.312 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816565987672064] ["schema version"=51]
[2024/05/17 10:47:04.322 +08:00] [INFO] [bootstrap.go:745] ["bootstrap successful"] ["take time"=946.11975ms]
[2024/05/17 10:47:04.323 +08:00] [INFO] [mock.go:106] ["owner manager is canceled"] [category=ddl] [ID=d6e0063e-1b91-4e8e-8144-6349b75371bf] [ownerKey=/tidb/ddl/fg/owner]
[2024/05/17 10:47:04.323 +08:00] [INFO] [ddl_workerpool.go:82] ["closing workerPool"] [category=ddl]
[2024/05/17 10:47:04.323 +08:00] [INFO] [ddl_worker.go:188] ["DDL worker closed"] [worker="worker 2, tp add index"] [category=ddl] ["take time"=708ns]
[2024/05/17 10:47:04.323 +08:00] [INFO] [ddl_workerpool.go:82] ["closing workerPool"] [category=ddl]
[2024/05/17 10:47:04.323 +08:00] [INFO] [ddl_worker.go:188] ["DDL worker closed"] [worker="worker 1, tp general"] [category=ddl] ["take time"=416ns]
[2024/05/17 10:47:04.323 +08:00] [INFO] [ddl_workerpool.go:82] ["closing workerPool"] [category=ddl]
[2024/05/17 10:47:04.323 +08:00] [INFO] [delete_range.go:162] ["closing delRange"] [category=ddl]
[2024/05/17 10:47:04.323 +08:00] [INFO] [session_pool.go:99] ["closing session pool"] [category=ddl]
[2024/05/17 10:47:04.323 +08:00] [INFO] [ddl.go:951] ["DDL closed"] [category=ddl] [ID=d6e0063e-1b91-4e8e-8144-6349b75371bf] ["take time"=1.250666ms]
[2024/05/17 10:47:04.323 +08:00] [INFO] [ddl.go:769] ["stop DDL"] [category=ddl] [ID=d6e0063e-1b91-4e8e-8144-6349b75371bf]
[2024/05/17 10:47:04.324 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=mdlCheckLoop]
[2024/05/17 10:47:04.324 +08:00] [INFO] [domain.go:977] ["loadSchemaInLoop exited."]
[2024/05/17 10:47:04.324 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=loadSchemaInLoop]
[2024/05/17 10:47:04.324 +08:00] [INFO] [domain.go:831] ["topologySyncerKeeper exited."]
[2024/05/17 10:47:04.324 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=topologySyncerKeeper]
[2024/05/17 10:47:04.324 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=runawayStartLoop]
[2024/05/17 10:47:04.324 +08:00] [INFO] [domain.go:807] ["globalConfigSyncerKeeper exited."]
[2024/05/17 10:47:04.324 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=globalConfigSyncerKeeper]
[2024/05/17 10:47:04.324 +08:00] [INFO] [domain.go:781] ["infoSyncerKeeper exited."]
[2024/05/17 10:47:04.324 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=infoSyncerKeeper]
[2024/05/17 10:47:04.324 +08:00] [INFO] [domain.go:753] ["topNSlowQueryLoop exited."]
[2024/05/17 10:47:04.324 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=topNSlowQueryLoop]
[2024/05/17 10:47:04.324 +08:00] [INFO] [domain.go:1431] ["closestReplicaReadCheckLoop exited."]
[2024/05/17 10:47:04.324 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=closestReplicaReadCheckLoop]
[2024/05/17 10:47:04.324 +08:00] [INFO] [domain.go:1144] ["domain closed"] ["take time"=1.5325ms]
[2024/05/17 10:47:04.324 +08:00] [INFO] [tidb.go:80] ["new domain"] [store=11efcdca-b15e-41fc-8d97-6e8fadff4ca7] ["ddl lease"=500ms] ["stats lease"=-1ns]
[2024/05/17 10:47:04.325 +08:00] [WARN] [controller.go:198] ["[resource group controller] server does not save config, load config failed"]
[2024/05/17 10:47:04.325 +08:00] [INFO] [controller.go:185] ["load resource controller config"] [config="{\"degraded-mode-wait-duration\":\"0s\",\"ltb-max-wait-duration\":\"30s\",\"wait-retry-interval\":\"50ms\",\"wait-retry-times\":10,\"request-unit\":{\"read-base-cost\":0.125,\"read-per-batch-base-cost\":0.5,\"read-cost-per-byte\":0.0000152587890625,\"write-base-cost\":1,\"write-per-batch-base-cost\":1,\"write-cost-per-byte\":0.0009765625,\"read-cpu-ms-cost\":0.3333333333333333},\"enable-controller-trace-log\":\"false\"}"] [ru-config="{\"ReadBaseCost\":0.125,\"ReadPerBatchBaseCost\":0.5,\"ReadBytesCost\":0.0000152587890625,\"WriteBaseCost\":1,\"WritePerBatchBaseCost\":1,\"WriteBytesCost\":0.0009765625,\"CPUMsCost\":0.3333333333333333,\"LTBMaxWaitDuration\":30000000000,\"WaitRetryInterval\":50000000,\"WaitRetryTimes\":10,\"DegradedModeWaitDuration\":0}"]
[2024/05/17 10:47:04.336 +08:00] [INFO] [domain.go:385] ["full load InfoSchema success"] [currentSchemaVersion=0] [neededSchemaVersion=51] ["start time"=10.166541ms]
[2024/05/17 10:47:04.340 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816565987672064] ["schema version"=51]
[2024/05/17 10:47:04.340 +08:00] [INFO] [domain.go:705] ["full load and reset schema validator"]
[2024/05/17 10:47:04.340 +08:00] [INFO] [ddl.go:818] ["start DDL"] [category=ddl] [ID=0cc65a83-d62f-4ca7-9b48-acf6771d837f] [runWorker=true]
[2024/05/17 10:47:04.340 +08:00] [INFO] [ddl.go:777] ["start delRangeManager OK"] [category=ddl] ["is a emulator"=true]
[2024/05/17 10:47:04.340 +08:00] [WARN] [env.go:51] ["initialize environment failed"] [category=ddl-ingest] ["storage limitation"="only support TiKV storage"] ["current storage"=unistore] ["lightning is initialized"=false]
[2024/05/17 10:47:04.340 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=loadSchemaInLoop]
[2024/05/17 10:47:04.340 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=mdlCheckLoop]
[2024/05/17 10:47:04.340 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=topNSlowQueryLoop]
[2024/05/17 10:47:04.340 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=infoSyncerKeeper]
[2024/05/17 10:47:04.340 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=globalConfigSyncerKeeper]
[2024/05/17 10:47:04.340 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=runawayStartLoop]
[2024/05/17 10:47:04.340 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=requestUnitsWriterLoop]
[2024/05/17 10:47:04.340 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=topologySyncerKeeper]
[2024/05/17 10:47:04.340 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=closestReplicaReadCheckLoop]
[2024/05/17 10:47:04.340 +08:00] [WARN] [domain.go:1396] ["pd / etcd client not provided, won't begin Advancer."]
[2024/05/17 10:47:04.342 +08:00] [INFO] [delete_range.go:172] ["start delRange emulator"] [category=ddl]
[2024/05/17 10:47:04.342 +08:00] [INFO] [job_table.go:334] ["get global state and global state change"] [category=ddl] [oldState=false] [currState=false]
[2024/05/17 10:47:04.342 +08:00] [INFO] [runaway.go:149] ["try to start runaway manager loop"]
[2024/05/17 10:47:04.342 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=requestUnitsWriterLoop]
[2024/05/17 10:47:04.359 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=globalBindHandleWorkerLoop]
[2024/05/17 10:47:04.359 +08:00] [WARN] [sysvar_cache.go:49] ["sysvar cache is empty, triggering rebuild"]
[2024/05/17 10:47:04.360 +08:00] [INFO] [sysvar.go:2748] ["set resource control"] [enable=true]
[2024/05/17 10:47:04.361 +08:00] [INFO] [controller.go:447] ["[resource group controller] create resource group cost controller"] [name=default]
[2024/05/17 10:47:04.364 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=loadPrivilegeInLoop]
[2024/05/17 10:47:04.365 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=LoadSysVarCacheLoop]
[2024/05/17 10:47:04.366 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=dumpFileGcChecker]
[2024/05/17 10:47:04.366 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=indexUsageWorker]
[2024/05/17 10:47:04.366 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=quitStatsOwner]
[2024/05/17 10:47:04.366 +08:00] [INFO] [domain.go:2340] ["start load stats sub workers"] ["worker count"=5]
[2024/05/17 10:47:04.366 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=loadSigningCertLoop]
[2024/05/17 10:47:04.366 +08:00] [INFO] [manager.go:113] ["build task executor manager"] [server-id=:4000] [total-cpu=1] [total-mem=32GiB]
[2024/05/17 10:47:04.366 +08:00] [INFO] [domain.go:2140] ["dumpFileGcChecker started"]
[2024/05/17 10:47:04.367 +08:00] [INFO] [task_manager.go:217] ["scale ttl worker"] [ttl-worker=job-manager] [ttl-worker=task-manager] [originalCount=0] [newCount=4]
[2024/05/17 10:47:04.367 +08:00] [INFO] [task_manager.go:217] ["scale ttl worker"] [ttl-worker=job-manager] [ttl-worker=task-manager] [originalCount=0] [newCount=4]
[2024/05/17 10:47:04.369 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=distTaskFrameworkLoop]
[2024/05/17 10:47:04.370 +08:00] [INFO] [manager.go:146] ["task executor manager start"] [server-id=:4000]
[2024/05/17 10:47:04.370 +08:00] [INFO] [domain.go:1595] ["dist task executor manager started"]
[2024/05/17 10:47:04.370 +08:00] [INFO] [set.go:170] ["set global var"] [conn=1] [name=tidb_schema_cache_size] [val=1024]
[2024/05/17 10:47:04.371 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=1] [schemaVersion=51] [cur_db=test] [sql="drop table if exists t1;"] [user=]
[2024/05/17 10:47:04.371 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=1] [schemaVersion=51] [cur_db=test] [sql="create table t1(c1 varchar(100), c2 varchar(100) AS (lower(c1)));"] [user=]
[2024/05/17 10:47:04.372 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:105, Type:create table, State:queueing, SchemaState:none, SchemaID:2, TableID:104, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:04.372 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:47:04.372 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:105, Type:create table, State:queueing, SchemaState:none, SchemaID:2, TableID:104, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:04.372 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="create table t1(c1 varchar(100), c2 varchar(100) AS (lower(c1)));"]
[2024/05/17 10:47:04.392 +08:00] [INFO] [job_table.go:334] ["get global state and global state change"] [category=ddl] [oldState=false] [currState=false]
[2024/05/17 10:47:04.392 +08:00] [INFO] [job_table.go:349] ["the owner sets owner operator value"] [category=ddl] [ownerOp=none]
[2024/05/17 10:47:04.396 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=105] [conn=1] [category=ddl] [job="ID:105, Type:create table, State:queueing, SchemaState:none, SchemaID:2, TableID:104, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:04.372 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:04.397 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816566011527168] ["schema version"=52]
[2024/05/17 10:47:04.397 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=51] [neededSchemaVersion=52] ["start time"=429.542µs] [gotSchemaVersion=52] [phyTblIDs="[104]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:47:04.398 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=105] [version=52]
[2024/05/17 10:47:04.399 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=52] ["take time"=2.265625ms] [job="ID:105, Type:create table, State:done, SchemaState:public, SchemaID:2, TableID:104, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:04.372 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:04.403 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=105] [conn=1] [job="ID:105, Type:create table, State:synced, SchemaState:public, SchemaID:2, TableID:104, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:04.372 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:04.405 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=105]
[2024/05/17 10:47:04.405 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:47:04.405 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816566011527168] ["schema version"=52]
[2024/05/17 10:47:04.405 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=1] [schemaVersion=52] [cur_db=test] [sql="alter table t1 set tiflash replica 1;"] [user=]
[2024/05/17 10:47:04.406 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:106, Type:set tiflash replica, State:queueing, SchemaState:none, SchemaID:2, TableID:104, RowCount:0, ArgLen:1, start time: 2024-05-17 10:47:04.406 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:47:04.406 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:106, Type:set tiflash replica, State:queueing, SchemaState:none, SchemaID:2, TableID:104, RowCount:0, ArgLen:1, start time: 2024-05-17 10:47:04.406 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="alter table t1 set tiflash replica 1;"]
[2024/05/17 10:47:04.409 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=106] [conn=1] [category=ddl] [job="ID:106, Type:set tiflash replica, State:queueing, SchemaState:none, SchemaID:2, TableID:104, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:04.406 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:04.409 +08:00] [INFO] [table.go:1391] ["Set TiFlash replica pd rule"] [category=ddl] [tableID=104]
[2024/05/17 10:47:04.409 +08:00] [INFO] [info.go:1211] [ConfigureTiFlashPDForTable] [tableID=104] [count=1]
[2024/05/17 10:47:04.410 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816566014935042] ["schema version"=53]
[2024/05/17 10:47:04.410 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=52] [neededSchemaVersion=53] ["start time"=156.208µs] [gotSchemaVersion=53] [phyTblIDs="[]"] [actionTypes="[]"] [diffTypes="[]"]
[2024/05/17 10:47:04.411 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=106] [version=53]
[2024/05/17 10:47:04.412 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=53] ["take time"=2.022583ms] [job="ID:106, Type:set tiflash replica, State:done, SchemaState:public, SchemaID:2, TableID:104, RowCount:0, ArgLen:1, start time: 2024-05-17 10:47:04.406 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:04.416 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=106] [conn=1] [job="ID:106, Type:set tiflash replica, State:synced, SchemaState:public, SchemaID:2, TableID:104, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:04.406 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:04.418 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=106]
[2024/05/17 10:47:04.418 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:47:04.418 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816566014935042] ["schema version"=53]
[2024/05/17 10:47:04.418 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816566014935042] ["schema version"=53]
[2024/05/17 10:47:04.419 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:107, Type:update tiflash replica status, State:queueing, SchemaState:none, SchemaID:2, TableID:104, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:04.419 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:47:04.419 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:107, Type:update tiflash replica status, State:queueing, SchemaState:none, SchemaID:2, TableID:104, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:04.419 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query=]
[2024/05/17 10:47:04.423 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=107] [conn=1] [category=ddl] [job="ID:107, Type:update tiflash replica status, State:queueing, SchemaState:none, SchemaID:2, TableID:104, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:04.419 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:04.423 +08:00] [INFO] [table.go:1486] ["TiFlash replica available"] [category=ddl] [tableID=104]
[2024/05/17 10:47:04.424 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816566018605056] ["schema version"=54]
[2024/05/17 10:47:04.424 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=53] [neededSchemaVersion=54] ["start time"=185.75µs] [gotSchemaVersion=54] [phyTblIDs="[]"] [actionTypes="[]"] [diffTypes="[]"]
[2024/05/17 10:47:04.425 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=107] [version=54]
[2024/05/17 10:47:04.426 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=54] ["take time"=2.256708ms] [job="ID:107, Type:update tiflash replica status, State:done, SchemaState:public, SchemaID:2, TableID:104, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:04.419 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:04.430 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=107] [conn=1] [job="ID:107, Type:update tiflash replica status, State:synced, SchemaState:public, SchemaID:2, TableID:104, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:04.419 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:04.433 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=107]
[2024/05/17 10:47:04.433 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:47:04.433 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816566018605056] ["schema version"=54]
[2024/05/17 10:47:04.434 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=1] [schemaVersion=54] [cur_db=test] [sql="drop table if exists t2;"] [user=]
[2024/05/17 10:47:04.434 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=1] [schemaVersion=54] [cur_db=test] [sql="create table t2(c1 int, c2 varchar(100));"] [user=]
[2024/05/17 10:47:04.436 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:109, Type:create table, State:queueing, SchemaState:none, SchemaID:2, TableID:108, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:04.435 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:47:04.436 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:109, Type:create table, State:queueing, SchemaState:none, SchemaID:2, TableID:108, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:04.435 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="create table t2(c1 int, c2 varchar(100));"]
[2024/05/17 10:47:04.444 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=109] [conn=1] [category=ddl] [job="ID:109, Type:create table, State:queueing, SchemaState:none, SchemaID:2, TableID:108, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:04.435 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:04.445 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816566024110080] ["schema version"=55]
[2024/05/17 10:47:04.445 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=54] [neededSchemaVersion=55] ["start time"=173.125µs] [gotSchemaVersion=55] [phyTblIDs="[108]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:47:04.447 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=109] [version=55]
[2024/05/17 10:47:04.449 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=55] ["take time"=4.007542ms] [job="ID:109, Type:create table, State:done, SchemaState:public, SchemaID:2, TableID:108, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:04.435 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:04.458 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=109] [conn=1] [job="ID:109, Type:create table, State:synced, SchemaState:public, SchemaID:2, TableID:108, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:04.435 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:04.460 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=109]
[2024/05/17 10:47:04.460 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:47:04.460 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816566024110080] ["schema version"=55]
[2024/05/17 10:47:04.461 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=1] [schemaVersion=55] [cur_db=test] [sql="alter table t2 set tiflash replica 1;"] [user=]
[2024/05/17 10:47:04.463 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:110, Type:set tiflash replica, State:queueing, SchemaState:none, SchemaID:2, TableID:108, RowCount:0, ArgLen:1, start time: 2024-05-17 10:47:04.462 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:47:04.463 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:110, Type:set tiflash replica, State:queueing, SchemaState:none, SchemaID:2, TableID:108, RowCount:0, ArgLen:1, start time: 2024-05-17 10:47:04.462 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="alter table t2 set tiflash replica 1;"]
[2024/05/17 10:47:04.467 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=110] [conn=1] [category=ddl] [job="ID:110, Type:set tiflash replica, State:queueing, SchemaState:none, SchemaID:2, TableID:108, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:04.462 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:04.467 +08:00] [INFO] [table.go:1391] ["Set TiFlash replica pd rule"] [category=ddl] [tableID=108]
[2024/05/17 10:47:04.467 +08:00] [INFO] [info.go:1211] [ConfigureTiFlashPDForTable] [tableID=108] [count=1]
[2024/05/17 10:47:04.468 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816566029877254] ["schema version"=56]
[2024/05/17 10:47:04.468 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=55] [neededSchemaVersion=56] ["start time"=125.417µs] [gotSchemaVersion=56] [phyTblIDs="[]"] [actionTypes="[]"] [diffTypes="[]"]
[2024/05/17 10:47:04.468 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=110] [version=56]
[2024/05/17 10:47:04.469 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=56] ["take time"=2.01775ms] [job="ID:110, Type:set tiflash replica, State:done, SchemaState:public, SchemaID:2, TableID:108, RowCount:0, ArgLen:1, start time: 2024-05-17 10:47:04.462 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:04.474 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=110] [conn=1] [job="ID:110, Type:set tiflash replica, State:synced, SchemaState:public, SchemaID:2, TableID:108, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:04.462 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:04.475 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=110]
[2024/05/17 10:47:04.475 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:47:04.476 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816566029877254] ["schema version"=56]
[2024/05/17 10:47:04.476 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816566029877254] ["schema version"=56]
[2024/05/17 10:47:04.477 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:111, Type:update tiflash replica status, State:queueing, SchemaState:none, SchemaID:2, TableID:108, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:04.476 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:47:04.477 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:111, Type:update tiflash replica status, State:queueing, SchemaState:none, SchemaID:2, TableID:108, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:04.476 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query=]
[2024/05/17 10:47:04.480 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=111] [conn=1] [category=ddl] [job="ID:111, Type:update tiflash replica status, State:queueing, SchemaState:none, SchemaID:2, TableID:108, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:04.476 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:04.480 +08:00] [INFO] [table.go:1486] ["TiFlash replica available"] [category=ddl] [tableID=108]
[2024/05/17 10:47:04.481 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816566033547266] ["schema version"=57]
[2024/05/17 10:47:04.481 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=56] [neededSchemaVersion=57] ["start time"=140.541µs] [gotSchemaVersion=57] [phyTblIDs="[]"] [actionTypes="[]"] [diffTypes="[]"]
[2024/05/17 10:47:04.482 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=111] [version=57]
[2024/05/17 10:47:04.483 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=57] ["take time"=2.178125ms] [job="ID:111, Type:update tiflash replica status, State:done, SchemaState:public, SchemaID:2, TableID:108, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:04.476 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:04.488 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=111] [conn=1] [job="ID:111, Type:update tiflash replica status, State:synced, SchemaState:public, SchemaID:2, TableID:108, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:04.476 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:04.489 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=111]
[2024/05/17 10:47:04.489 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:47:04.490 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816566033547266] ["schema version"=57]
[2024/05/17 10:47:04.490 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=1] [schemaVersion=57] [cur_db=test] [sql="alter table t2 add index idx2((lower(c2)));"] [user=]
[2024/05/17 10:47:04.491 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:112, Type:add index, State:queueing, SchemaState:none, SchemaID:2, TableID:108, RowCount:0, ArgLen:6, start time: 2024-05-17 10:47:04.49 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false, UniqueWarnings:0; "] [table=true]
[2024/05/17 10:47:04.491 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:112, Type:add index, State:queueing, SchemaState:none, SchemaID:2, TableID:108, RowCount:0, ArgLen:6, start time: 2024-05-17 10:47:04.49 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false, UniqueWarnings:0"] [query="alter table t2 add index idx2((lower(c2)));"]
[2024/05/17 10:47:04.496 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 4, tp add index"] [category=ddl] [jobID=112] [conn=1] [category=ddl] [job="ID:112, Type:add index, State:queueing, SchemaState:none, SchemaID:2, TableID:108, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:04.49 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false, UniqueWarnings:0"]
[2024/05/17 10:47:04.496 +08:00] [INFO] [index.go:652] ["run add index job"] [category=ddl] [job="ID:112, Type:add index, State:running, SchemaState:none, SchemaID:2, TableID:108, RowCount:0, ArgLen:6, start time: 2024-05-17 10:47:04.49 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false, UniqueWarnings:0"] [indexInfo="{\"id\":1,\"idx_name\":{\"O\":\"idx2\",\"L\":\"idx2\"},\"tbl_name\":{\"O\":\"\",\"L\":\"\"},\"idx_cols\":[{\"name\":{\"O\":\"_V$_idx2_0\",\"L\":\"_v$_idx2_0\"},\"offset\":2,\"length\":-1}],\"state\":0,\"backfill_state\":0,\"comment\":\"\",\"index_type\":1,\"is_unique\":false,\"is_primary\":false,\"is_invisible\":false,\"is_global\":false,\"mv_index\":false}"]
[2024/05/17 10:47:04.496 +08:00] [INFO] [index.go:815] ["fallback to txn-merge backfill process"] [category=ddl] ["lightning env initialized"=false]
[2024/05/17 10:47:04.497 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816566037741568] ["schema version"=58]
[2024/05/17 10:47:04.497 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=57] [neededSchemaVersion=58] ["start time"=215.334µs] [gotSchemaVersion=58] [phyTblIDs="[108]"] [actionTypes="[7]"] [diffTypes="[\"add index\"]"]
[2024/05/17 10:47:04.497 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=112] [version=58]
[2024/05/17 10:47:04.499 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=58] ["take time"=2.667042ms] [job="ID:112, Type:add index, State:running, SchemaState:delete only, SchemaID:2, TableID:108, RowCount:0, ArgLen:6, start time: 2024-05-17 10:47:04.49 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false, UniqueWarnings:0"]
[2024/05/17 10:47:04.502 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 4, tp add index"] [category=ddl] [jobID=112] [conn=1] [category=ddl] [job="ID:112, Type:add index, State:running, SchemaState:delete only, SchemaID:2, TableID:108, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:04.49 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false, UniqueWarnings:0"]
[2024/05/17 10:47:04.503 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816566039314433] ["schema version"=59]
[2024/05/17 10:47:04.503 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=58] [neededSchemaVersion=59] ["start time"=192.875µs] [gotSchemaVersion=59] [phyTblIDs="[108]"] [actionTypes="[7]"] [diffTypes="[\"add index\"]"]
[2024/05/17 10:47:04.504 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=112] [version=59]
[2024/05/17 10:47:04.505 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=59] ["take time"=2.572917ms] [job="ID:112, Type:add index, State:running, SchemaState:write only, SchemaID:2, TableID:108, RowCount:0, ArgLen:6, start time: 2024-05-17 10:47:04.49 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false, UniqueWarnings:0"]
[2024/05/17 10:47:04.509 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 4, tp add index"] [category=ddl] [jobID=112] [conn=1] [category=ddl] [job="ID:112, Type:add index, State:running, SchemaState:write only, SchemaID:2, TableID:108, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:04.49 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false, UniqueWarnings:0"]
[2024/05/17 10:47:04.511 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816566041149442] ["schema version"=60]
[2024/05/17 10:47:04.511 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=59] [neededSchemaVersion=60] ["start time"=250.833µs] [gotSchemaVersion=60] [phyTblIDs="[108]"] [actionTypes="[7]"] [diffTypes="[\"add index\"]"]
[2024/05/17 10:47:04.511 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=112] [version=60]
[2024/05/17 10:47:04.512 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=60] ["take time"=2.023334ms] [job="ID:112, Type:add index, State:running, SchemaState:write reorganization, SchemaID:2, TableID:108, RowCount:0, ArgLen:6, start time: 2024-05-17 10:47:04.49 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false, UniqueWarnings:0"]
[2024/05/17 10:47:04.516 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 4, tp add index"] [category=ddl] [jobID=112] [conn=1] [category=ddl] [job="ID:112, Type:add index, State:running, SchemaState:write reorganization, SchemaID:2, TableID:108, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:04.49 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false, UniqueWarnings:0"]
[2024/05/17 10:47:04.516 +08:00] [INFO] [index.go:855] ["index backfill state running"] [category=ddl] ["job ID"=112] [table=t2] ["ingest mode"=false] [index=idx2]
[2024/05/17 10:47:04.517 +08:00] [INFO] [reorg.go:726] ["job get table range"] [category=ddl] [jobID=112] [physicalTableID=108] [startKey=74800000000000006c5f728000000000000001] [endKey=74800000000000006c5f72800000000000000200]
[2024/05/17 10:47:04.518 +08:00] [INFO] [ddl_worker.go:1423] ["schema version doesn't change"] [category=ddl] [jobID=112]
[2024/05/17 10:47:04.521 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 4, tp add index"] [category=ddl] [jobID=112] [conn=1] [category=ddl] [job="ID:112, Type:add index, State:running, SchemaState:write reorganization, SchemaID:2, TableID:108, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:04.49 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:449816566042722307, LocalMode: false, UniqueWarnings:0"]
[2024/05/17 10:47:04.521 +08:00] [INFO] [index.go:855] ["index backfill state running"] [category=ddl] ["job ID"=112] [table=t2] ["ingest mode"=false] [index=idx2]
[2024/05/17 10:47:04.522 +08:00] [INFO] [index.go:1940] ["start to add table index"] [category=ddl] [job="ID:112, Type:add index, State:running, SchemaState:write reorganization, SchemaID:2, TableID:108, RowCount:0, ArgLen:6, start time: 2024-05-17 10:47:04.49 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:449816566042722307, LocalMode: false, UniqueWarnings:0"] [reorgInfo="CurrElementType:_idx_,CurrElementID:1,StartKey:74800000000000006c5f728000000000000001,EndKey:74800000000000006c5f72800000000000000200,First:false,PhysicalTableID:108,Ingest mode:false"]
[2024/05/17 10:47:04.523 +08:00] [INFO] [backfilling.go:416] ["split table range from PD"] [category=ddl] [physicalTableID=108] ["start key"=74800000000000006c5f728000000000000001] ["end key"=74800000000000006c5f72800000000000000200]
[2024/05/17 10:47:04.524 +08:00] [INFO] [backfilling.go:698] ["start backfill workers to reorg record"] [category=ddl] [type="add index"] [workerCnt=4] [regionCnt=1] [startKey=74800000000000006c5f728000000000000001] [endKey=74800000000000006c5f72800000000000000200]
[2024/05/17 10:47:04.524 +08:00] [INFO] [backfilling.go:475] ["get backfill range task, change end key"] [category=ddl] [id=1] [pTbl=108] ["end key"=74800000000000006c5f72800000000000000200] ["current end key"=74800000000000006c5f72800000000000000200]
[2024/05/17 10:47:04.524 +08:00] [INFO] [backfilling.go:330] ["backfill worker finish task"] [category=ddl] [worker="backfill-worker 0, tp add index"] [task="taskID: 1, physicalTableID: 108, range: [74800000000000006c5f728000000000000001, 74800000000000006c5f72800000000000000200), jobID: 112"] ["added count"=2] ["scan count"=2] ["next key"=74800000000000006c5f72800000000000000200] ["take time"=192.834µs]
[2024/05/17 10:47:04.524 +08:00] [INFO] [backfilling.go:369] ["backfill worker exit"] [category=ddl] [worker="backfill-worker 0, tp add index"] [jobID=112]
[2024/05/17 10:47:04.524 +08:00] [INFO] [backfilling.go:369] ["backfill worker exit"] [category=ddl] [worker="backfill-worker 3, tp add index"] [jobID=112]
[2024/05/17 10:47:04.524 +08:00] [INFO] [backfilling.go:369] ["backfill worker exit"] [category=ddl] [worker="backfill-worker 2, tp add index"] [jobID=112]
[2024/05/17 10:47:04.524 +08:00] [INFO] [backfilling.go:369] ["backfill worker exit"] [category=ddl] [worker="backfill-worker 1, tp add index"] [jobID=112]
[2024/05/17 10:47:04.524 +08:00] [INFO] [backfilling.go:638] ["backfill workers successfully processed"] [category=ddl] [element=ID:1,TypeKey:_idx_] ["total added count"=2] ["start key"=74800000000000006c5f728000000000000001]
[2024/05/17 10:47:04.524 +08:00] [INFO] [reorg.go:232] ["run reorg job done"] [category=ddl] ["handled rows"=2]
[2024/05/17 10:47:04.551 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816566051897344] ["schema version"=61]
[2024/05/17 10:47:04.551 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=60] [neededSchemaVersion=61] ["start time"=228.25µs] [gotSchemaVersion=61] [phyTblIDs="[108]"] [actionTypes="[7]"] [diffTypes="[\"add index\"]"]
[2024/05/17 10:47:04.552 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=112] [version=61]
[2024/05/17 10:47:04.553 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=61] ["take time"=2.007958ms] [job="ID:112, Type:add index, State:running, SchemaState:write reorganization, SchemaID:2, TableID:108, RowCount:2, ArgLen:6, start time: 2024-05-17 10:47:04.49 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:449816566042722307, LocalMode: false, UniqueWarnings:0"]
[2024/05/17 10:47:04.556 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 4, tp add index"] [category=ddl] [jobID=112] [conn=1] [category=ddl] [job="ID:112, Type:add index, State:running, SchemaState:write reorganization, SchemaID:2, TableID:108, RowCount:2, ArgLen:0, start time: 2024-05-17 10:47:04.49 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:449816566042722307, LocalMode: false, UniqueWarnings:0"]
[2024/05/17 10:47:04.556 +08:00] [INFO] [index.go:883] ["index backfill state ready to merge"] [category=ddl] ["job ID"=112] [table=t2] [index=idx2]
[2024/05/17 10:47:04.557 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816566053470208] ["schema version"=62]
[2024/05/17 10:47:04.557 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=61] [neededSchemaVersion=62] ["start time"=218.25µs] [gotSchemaVersion=62] [phyTblIDs="[108]"] [actionTypes="[7]"] [diffTypes="[\"add index\"]"]
[2024/05/17 10:47:04.558 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=112] [version=62]
[2024/05/17 10:47:04.559 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=62] ["take time"=2.063583ms] [job="ID:112, Type:add index, State:running, SchemaState:write reorganization, SchemaID:2, TableID:108, RowCount:2, ArgLen:6, start time: 2024-05-17 10:47:04.49 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false, UniqueWarnings:0"]
[2024/05/17 10:47:04.562 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 4, tp add index"] [category=ddl] [jobID=112] [conn=1] [category=ddl] [job="ID:112, Type:add index, State:running, SchemaState:write reorganization, SchemaID:2, TableID:108, RowCount:2, ArgLen:0, start time: 2024-05-17 10:47:04.49 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false, UniqueWarnings:0"]
[2024/05/17 10:47:04.562 +08:00] [INFO] [reorg.go:726] ["job get table range"] [category=ddl] [jobID=112] [physicalTableID=108] [startKey=74800000000000006c5f69ffff000000000001] [endKey=74800000000000006c5f69ffff000000000001ff]
[2024/05/17 10:47:04.564 +08:00] [INFO] [ddl_worker.go:1423] ["schema version doesn't change"] [category=ddl] [jobID=112]
[2024/05/17 10:47:04.566 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 4, tp add index"] [category=ddl] [jobID=112] [conn=1] [category=ddl] [job="ID:112, Type:add index, State:running, SchemaState:write reorganization, SchemaID:2, TableID:108, RowCount:2, ArgLen:0, start time: 2024-05-17 10:47:04.49 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:449816566054780931, LocalMode: false, UniqueWarnings:0"]
[2024/05/17 10:47:04.567 +08:00] [INFO] [index.go:1937] ["start to merge temp index"] [category=ddl] [job="ID:112, Type:add index, State:running, SchemaState:write reorganization, SchemaID:2, TableID:108, RowCount:2, ArgLen:6, start time: 2024-05-17 10:47:04.49 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:449816566054780931, LocalMode: false, UniqueWarnings:0"] [reorgInfo="CurrElementType:_idx_,CurrElementID:1,StartKey:74800000000000006c5f69ffff000000000001,EndKey:74800000000000006c5f69ffff000000000001ff,First:false,PhysicalTableID:108,Ingest mode:false"]
[2024/05/17 10:47:04.568 +08:00] [INFO] [backfilling.go:416] ["split table range from PD"] [category=ddl] [physicalTableID=108] ["start key"=74800000000000006c5f69ffff000000000001] ["end key"=74800000000000006c5f69ffff000000000001ff]
[2024/05/17 10:47:04.568 +08:00] [INFO] [backfilling.go:698] ["start backfill workers to reorg record"] [category=ddl] [type="merge temporary index"] [workerCnt=4] [regionCnt=1] [startKey=74800000000000006c5f69ffff000000000001] [endKey=74800000000000006c5f69ffff000000000001ff]
[2024/05/17 10:47:04.569 +08:00] [INFO] [backfilling.go:475] ["get backfill range task, change end key"] [category=ddl] [id=1] [pTbl=108] ["end key"=74800000000000006c5f69ffff000000000001ff] ["current end key"=74800000000000006c5f69ffff00000000000100]
[2024/05/17 10:47:04.569 +08:00] [INFO] [backfilling.go:369] ["backfill worker exit"] [category=ddl] [worker="backfill-worker 1, tp merge temporary index"] [jobID=112]
[2024/05/17 10:47:04.569 +08:00] [INFO] [backfilling.go:330] ["backfill worker finish task"] [category=ddl] [worker="backfill-worker 0, tp merge temporary index"] [task="taskID: 1, physicalTableID: 108, range: [74800000000000006c5f69ffff000000000001, 74800000000000006c5f69ffff00000000000100), jobID: 112"] ["added count"=0] ["scan count"=0] ["next key"=74800000000000006c5f69ffff0000000000010000] ["take time"=37.458µs]
[2024/05/17 10:47:04.569 +08:00] [INFO] [backfilling.go:369] ["backfill worker exit"] [category=ddl] [worker="backfill-worker 0, tp merge temporary index"] [jobID=112]
[2024/05/17 10:47:04.569 +08:00] [INFO] [backfilling.go:369] ["backfill worker exit"] [category=ddl] [worker="backfill-worker 3, tp merge temporary index"] [jobID=112]
[2024/05/17 10:47:04.569 +08:00] [INFO] [backfilling.go:369] ["backfill worker exit"] [category=ddl] [worker="backfill-worker 2, tp merge temporary index"] [jobID=112]
[2024/05/17 10:47:04.569 +08:00] [INFO] [backfilling.go:638] ["backfill workers successfully processed"] [category=ddl] [element=ID:1,TypeKey:_idx_] ["total added count"=2] ["start key"=74800000000000006c5f69ffff000000000001]
[2024/05/17 10:47:04.569 +08:00] [INFO] [reorg.go:232] ["run reorg job done"] [category=ddl] ["handled rows"=2]
[2024/05/17 10:47:04.591 +08:00] [INFO] [index.go:779] ["run add index job done"] [category=ddl] [charset=utf8mb4] [collation=utf8mb4_bin]
[2024/05/17 10:47:04.592 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816566062383106] ["schema version"=63]
[2024/05/17 10:47:04.592 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=62] [neededSchemaVersion=63] ["start time"=226.792µs] [gotSchemaVersion=63] [phyTblIDs="[108]"] [actionTypes="[7]"] [diffTypes="[\"add index\"]"]
[2024/05/17 10:47:04.592 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816566062383106] ["schema version"=63]
[2024/05/17 10:47:04.594 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=112] [version=63]
[2024/05/17 10:47:04.595 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=63] ["take time"=4.01975ms] [job="ID:112, Type:add index, State:done, SchemaState:public, SchemaID:2, TableID:108, RowCount:2, ArgLen:3, start time: 2024-05-17 10:47:04.49 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:449816566054780931, LocalMode: false, UniqueWarnings:0"]
[2024/05/17 10:47:04.599 +08:00] [INFO] [delete_range.go:422] ["insert into delete-range indices"] [category=ddl] [jobID=112] [tableID=108] [indexIDs="[9223090561878065153]"] [comment="add index: physical table ID(s)"]
[2024/05/17 10:47:04.599 +08:00] [INFO] [delete_range.go:112] ["add job into delete-range table"] [category=ddl] [jobID=112] [jobType="add index"]
[2024/05/17 10:47:04.599 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 4, tp add index"] [category=ddl] [jobID=112] [conn=1] [job="ID:112, Type:add index, State:synced, SchemaState:public, SchemaID:2, TableID:108, RowCount:2, ArgLen:3, start time: 2024-05-17 10:47:04.49 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:449816566054780931, LocalMode: false, UniqueWarnings:0"]
[2024/05/17 10:47:04.603 +08:00] [INFO] [delete_range.go:259] ["delRange emulator complete task"] [category=ddl] [category=ddl] [jobID=112] [elementID=1] [startKey=74800000000000006c5f69ffff000000000001] [endKey=74800000000000006c5f69ffff000000000002]
[2024/05/17 10:47:04.608 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=112]
[2024/05/17 10:47:04.608 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:47:04.608 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816566062383106] ["schema version"=63]
[2024/05/17 10:47:04.685 +08:00] [WARN] [infoschema_v3.go:59] ["table not equal"] [tbl1="{\"id\":108,\"name\":{\"O\":\"t2\",\"L\":\"t2\"},\"charset\":\"utf8mb4\",\"collate\":\"utf8mb4_bin\",\"cols\":[{\"id\":1,\"name\":{\"O\":\"c1\",\"L\":\"c1\"},\"offset\":0,\"origin_default\":null,\"origin_default_bit\":null,\"default\":null,\"default_bit\":null,\"default_is_expr\":false,\"generated_expr_string\":\"\",\"generated_stored\":false,\"dependences\":null,\"type\":{\"Tp\":3,\"Flag\":0,\"Flen\":11,\"Decimal\":0,\"Charset\":\"binary\",\"Collate\":\"binary\",\"Elems\":null,\"ElemsIsBinaryLit\":null,\"Array\":false},\"state\":5,\"comment\":\"\",\"hidden\":false,\"change_state_info\":null,\"version\":2},{\"id\":2,\"name\":{\"O\":\"c2\",\"L\":\"c2\"},\"offset\":1,\"origin_default\":null,\"origin_default_bit\":null,\"default\":null,\"default_bit\":null,\"default_is_expr\":false,\"generated_expr_string\":\"\",\"generated_stored\":false,\"dependences\":null,\"type\":{\"Tp\":15,\"Flag\":0,\"Flen\":100,\"Decimal\":0,\"Charset\":\"utf8mb4\",\"Collate\":\"utf8mb4_bin\",\"Elems\":null,\"ElemsIsBinaryLit\":null,\"Array\":false},\"state\":5,\"comment\":\"\",\"hidden\":false,\"change_state_info\":null,\"version\":2},{\"id\":3,\"name\":{\"O\":\"_V$_idx2_0\",\"L\":\"_v$_idx2_0\"},\"offset\":2,\"origin_default\":null,\"origin_default_bit\":null,\"default\":null,\"default_bit\":null,\"default_is_expr\":false,\"generated_expr_string\":\"lower(`c2`)\",\"generated_stored\":false,\"dependences\":{\"c2\":{}},\"type\":{\"Tp\":253,\"Flag\":8,\"Flen\":100,\"Decimal\":-1,\"Charset\":\"utf8mb4\",\"Collate\":\"utf8mb4_bin\",\"Elems\":null,\"ElemsIsBinaryLit\":null,\"Array\":false},\"state\":5,\"comment\":\"\",\"hidden\":true,\"change_state_info\":null,\"version\":2}],\"index_info\":[{\"id\":1,\"idx_name\":{\"O\":\"idx2\",\"L\":\"idx2\"},\"tbl_name\":{\"O\":\"\",\"L\":\"\"},\"idx_cols\":[{\"name\":{\"O\":\"_V$_idx2_0\",\"L\":\"_v$_idx2_0\"},\"offset\":2,\"length\":-1}],\"state\":5,\"backfill_state\":0,\"comment\":\"\",\"index_type\":1,\"is_unique\":false,\"is_primary\":false,\"is_invisible\":false,\"is_global\":false,\"mv_index\":false}],\"constraint_info\":null,\"fk_info\":null,\"state\":5,\"pk_is_handle\":false,\"is_common_handle\":false,\"common_handle_version\":0,\"comment\":\"\",\"auto_inc_id\":0,\"auto_id_cache\":0,\"auto_rand_id\":0,\"max_col_id\":3,\"max_idx_id\":1,\"max_fk_id\":0,\"max_cst_id\":0,\"update_timestamp\":449816566055829507,\"ShardRowIDBits\":0,\"max_shard_row_id_bits\":0,\"auto_random_bits\":0,\"auto_random_range_bits\":0,\"pre_split_regions\":0,\"partition\":null,\"compression\":\"\",\"view\":null,\"sequence\":null,\"Lock\":null,\"version\":5,\"tiflash_replica\":null,\"is_columnar\":false,\"temp_table_type\":0,\"cache_table_status\":0,\"policy_ref_info\":null,\"stats_options\":null,\"exchange_partition_info\":null,\"ttl_info\":null,\"revision\":8}"] [tbl2="{\"id\":108,\"name\":{\"O\":\"t2\",\"L\":\"t2\"},\"charset\":\"utf8mb4\",\"collate\":\"utf8mb4_bin\",\"cols\":[{\"id\":1,\"name\":{\"O\":\"c1\",\"L\":\"c1\"},\"offset\":0,\"origin_default\":null,\"origin_default_bit\":null,\"default\":null,\"default_bit\":null,\"default_is_expr\":false,\"generated_expr_string\":\"\",\"generated_stored\":false,\"dependences\":null,\"type\":{\"Tp\":3,\"Flag\":0,\"Flen\":11,\"Decimal\":0,\"Charset\":\"binary\",\"Collate\":\"binary\",\"Elems\":null,\"ElemsIsBinaryLit\":null,\"Array\":false},\"state\":5,\"comment\":\"\",\"hidden\":false,\"change_state_info\":null,\"version\":2},{\"id\":2,\"name\":{\"O\":\"c2\",\"L\":\"c2\"},\"offset\":1,\"origin_default\":null,\"origin_default_bit\":null,\"default\":null,\"default_bit\":null,\"default_is_expr\":false,\"generated_expr_string\":\"\",\"generated_stored\":false,\"dependences\":null,\"type\":{\"Tp\":15,\"Flag\":0,\"Flen\":100,\"Decimal\":0,\"Charset\":\"utf8mb4\",\"Collate\":\"utf8mb4_bin\",\"Elems\":null,\"ElemsIsBinaryLit\":null,\"Array\":false},\"state\":5,\"comment\":\"\",\"hidden\":false,\"change_state_info\":null,\"version\":2},{\"id\":3,\"name\":{\"O\":\"_V$_idx2_0\",\"L\":\"_v$_idx2_0\"},\"offset\":2,\"origin_default\":null,\"origin_default_bit\":null,\"default\":null,\"default_bit\":null,\"default_is_expr\":false,\"generated_expr_string\":\"lower(`c2`)\",\"generated_stored\":false,\"dependences\":{\"c2\":{}},\"type\":{\"Tp\":253,\"Flag\":8388616,\"Flen\":100,\"Decimal\":-1,\"Charset\":\"utf8mb4\",\"Collate\":\"utf8mb4_bin\",\"Elems\":null,\"ElemsIsBinaryLit\":null,\"Array\":false},\"state\":5,\"comment\":\"\",\"hidden\":true,\"change_state_info\":null,\"version\":2}],\"index_info\":[{\"id\":1,\"idx_name\":{\"O\":\"idx2\",\"L\":\"idx2\"},\"tbl_name\":{\"O\":\"\",\"L\":\"\"},\"idx_cols\":[{\"name\":{\"O\":\"_V$_idx2_0\",\"L\":\"_v$_idx2_0\"},\"offset\":2,\"length\":-1}],\"state\":5,\"backfill_state\":0,\"comment\":\"\",\"index_type\":1,\"is_unique\":false,\"is_primary\":false,\"is_invisible\":false,\"is_global\":false,\"mv_index\":false}],\"constraint_info\":null,\"fk_info\":null,\"state\":5,\"pk_is_handle\":false,\"is_common_handle\":false,\"common_handle_version\":0,\"comment\":\"\",\"auto_inc_id\":0,\"auto_id_cache\":0,\"auto_rand_id\":0,\"max_col_id\":3,\"max_idx_id\":1,\"max_fk_id\":0,\"max_cst_id\":0,\"update_timestamp\":449816566055829507,\"ShardRowIDBits\":0,\"max_shard_row_id_bits\":0,\"auto_random_bits\":0,\"auto_random_range_bits\":0,\"pre_split_regions\":0,\"partition\":null,\"compression\":\"\",\"view\":null,\"sequence\":null,\"Lock\":null,\"version\":5,\"tiflash_replica\":null,\"is_columnar\":false,\"temp_table_type\":0,\"cache_table_status\":0,\"policy_ref_info\":null,\"stats_options\":null,\"exchange_partition_info\":null,\"ttl_info\":null,\"revision\":8}"]
[2024/05/17 10:47:04.687 +08:00] [INFO] [mock.go:106] ["owner manager is canceled"] [category=ddl] [ID=0cc65a83-d62f-4ca7-9b48-acf6771d837f] [ownerKey=/tidb/ddl/fg/owner]
[2024/05/17 10:47:04.687 +08:00] [INFO] [ddl_workerpool.go:82] ["closing workerPool"] [category=ddl]
[2024/05/17 10:47:04.687 +08:00] [INFO] [ddl_worker.go:188] ["DDL worker closed"] [worker="worker 4, tp add index"] [category=ddl] ["take time"=1µs]
[2024/05/17 10:47:04.687 +08:00] [INFO] [ddl_workerpool.go:82] ["closing workerPool"] [category=ddl]
[2024/05/17 10:47:04.687 +08:00] [INFO] [ddl_worker.go:188] ["DDL worker closed"] [worker="worker 3, tp general"] [category=ddl] ["take time"=417ns]
[2024/05/17 10:47:04.687 +08:00] [INFO] [ddl_workerpool.go:82] ["closing workerPool"] [category=ddl]
[2024/05/17 10:47:04.687 +08:00] [INFO] [delete_range.go:162] ["closing delRange"] [category=ddl]
[2024/05/17 10:47:04.687 +08:00] [INFO] [session_pool.go:99] ["closing session pool"] [category=ddl]
[2024/05/17 10:47:04.687 +08:00] [INFO] [ddl.go:951] ["DDL closed"] [category=ddl] [ID=0cc65a83-d62f-4ca7-9b48-acf6771d837f] ["take time"=2.023125ms]
[2024/05/17 10:47:04.687 +08:00] [INFO] [ddl.go:769] ["stop DDL"] [category=ddl] [ID=0cc65a83-d62f-4ca7-9b48-acf6771d837f]
[2024/05/17 10:47:04.687 +08:00] [INFO] [domain.go:1096] ["stopping ttlJobManager"]
[2024/05/17 10:47:04.687 +08:00] [INFO] [task_manager.go:194] ["shrink ttl worker"] [ttl-worker=job-manager] [ttl-worker=task-manager] [originalCount=4] [newCount=0]
[2024/05/17 10:47:04.688 +08:00] [INFO] [scan.go:309] ["ttlScanWorker loop exited."]
[2024/05/17 10:47:04.688 +08:00] [INFO] [scan.go:309] ["ttlScanWorker loop exited."]
[2024/05/17 10:47:04.688 +08:00] [INFO] [scan.go:309] ["ttlScanWorker loop exited."]
[2024/05/17 10:47:04.688 +08:00] [INFO] [scan.go:309] ["ttlScanWorker loop exited."]
[2024/05/17 10:47:04.688 +08:00] [INFO] [task_manager.go:194] ["shrink ttl worker"] [ttl-worker=job-manager] [ttl-worker=task-manager] [originalCount=4] [newCount=0]
[2024/05/17 10:47:04.688 +08:00] [INFO] [del.go:261] ["ttlDeleteWorker loop exited."]
[2024/05/17 10:47:04.688 +08:00] [INFO] [del.go:261] ["ttlDeleteWorker loop exited."]
[2024/05/17 10:47:04.688 +08:00] [INFO] [del.go:261] ["ttlDeleteWorker loop exited."]
[2024/05/17 10:47:04.688 +08:00] [INFO] [del.go:261] ["ttlDeleteWorker loop exited."]
[2024/05/17 10:47:04.688 +08:00] [INFO] [job_manager.go:174] ["ttlJobManager loop exited."] [ttl-worker=job-manager]
[2024/05/17 10:47:04.688 +08:00] [INFO] [domain.go:1107] ["ttlJobManager exited."]
[2024/05/17 10:47:04.688 +08:00] [INFO] [manager.go:280] ["recoverMetaLoop done"] [server-id=:4000]
[2024/05/17 10:47:04.688 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=mdlCheckLoop]
[2024/05/17 10:47:04.688 +08:00] [INFO] [domain.go:977] ["loadSchemaInLoop exited."]
[2024/05/17 10:47:04.688 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=loadSchemaInLoop]
[2024/05/17 10:47:04.688 +08:00] [INFO] [domain.go:1597] ["stopping dist task executor manager"]
[2024/05/17 10:47:04.688 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=loadSigningCertLoop]
[2024/05/17 10:47:04.688 +08:00] [INFO] [stats_syncload.go:216] ["SubLoadWorker exited."]
[2024/05/17 10:47:04.688 +08:00] [INFO] [stats_syncload.go:216] ["SubLoadWorker exited."]
[2024/05/17 10:47:04.688 +08:00] [INFO] [stats_syncload.go:216] ["SubLoadWorker exited."]
[2024/05/17 10:47:04.688 +08:00] [INFO] [stats_syncload.go:216] ["SubLoadWorker exited."]
[2024/05/17 10:47:04.688 +08:00] [INFO] [stats_syncload.go:216] ["SubLoadWorker exited."]
[2024/05/17 10:47:04.688 +08:00] [INFO] [mock.go:106] ["owner manager is canceled"] [category=ddl] [ID=0cc65a83-d62f-4ca7-9b48-acf6771d837f] [ownerKey=/tidb/stats/owner]
[2024/05/17 10:47:04.688 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=quitStatsOwner]
[2024/05/17 10:47:04.688 +08:00] [INFO] [domain.go:2423] ["indexUsageWorker exited."]
[2024/05/17 10:47:04.688 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=indexUsageWorker]
[2024/05/17 10:47:04.688 +08:00] [INFO] [domain.go:2144] ["dumpFileGcChecker exited."]
[2024/05/17 10:47:04.688 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=dumpFileGcChecker]
[2024/05/17 10:47:04.688 +08:00] [INFO] [domain.go:1820] ["LoadSysVarCacheLoop exited."]
[2024/05/17 10:47:04.688 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=LoadSysVarCacheLoop]
[2024/05/17 10:47:04.688 +08:00] [INFO] [domain.go:1770] ["loadPrivilegeInLoop exited."]
[2024/05/17 10:47:04.688 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=loadPrivilegeInLoop]
[2024/05/17 10:47:04.688 +08:00] [INFO] [mock.go:106] ["owner manager is canceled"] [category=ddl] [ID=0cc65a83-d62f-4ca7-9b48-acf6771d837f] [ownerKey=/tidb/bindinfo/owner]
[2024/05/17 10:47:04.688 +08:00] [INFO] [domain.go:1959] ["globalBindHandleWorkerLoop exited."]
[2024/05/17 10:47:04.688 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=globalBindHandleWorkerLoop]
[2024/05/17 10:47:04.688 +08:00] [INFO] [domain.go:831] ["topologySyncerKeeper exited."]
[2024/05/17 10:47:04.688 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=topologySyncerKeeper]
[2024/05/17 10:47:04.688 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=runawayStartLoop]
[2024/05/17 10:47:04.688 +08:00] [INFO] [domain.go:807] ["globalConfigSyncerKeeper exited."]
[2024/05/17 10:47:04.688 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=globalConfigSyncerKeeper]
[2024/05/17 10:47:04.688 +08:00] [INFO] [domain.go:781] ["infoSyncerKeeper exited."]
[2024/05/17 10:47:04.688 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=infoSyncerKeeper]
[2024/05/17 10:47:04.688 +08:00] [INFO] [domain.go:753] ["topNSlowQueryLoop exited."]
[2024/05/17 10:47:04.688 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=topNSlowQueryLoop]
[2024/05/17 10:47:04.688 +08:00] [INFO] [domain.go:1431] ["closestReplicaReadCheckLoop exited."]
[2024/05/17 10:47:04.688 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=closestReplicaReadCheckLoop]
[2024/05/17 10:47:04.688 +08:00] [INFO] [manager.go:179] ["handle tasks loop done"] [server-id=:4000]
[2024/05/17 10:47:04.688 +08:00] [INFO] [domain.go:1599] ["dist task executor manager stopped"]
[2024/05/17 10:47:04.688 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=distTaskFrameworkLoop]
[2024/05/17 10:47:04.688 +08:00] [INFO] [domain.go:1144] ["domain closed"] ["take time"=2.569166ms]
[2024/05/17 10:47:04.694 +08:00] [INFO] [db.go:567] ["Closing database"]
[2024/05/17 10:47:04.694 +08:00] [INFO] [db.go:592] ["Memtable flushed"]
[2024/05/17 10:47:04.694 +08:00] [INFO] [db.go:596] ["Compaction finished"]
[2024/05/17 10:47:04.694 +08:00] [INFO] [db.go:615] ["BlobManager finished"]
[2024/05/17 10:47:04.694 +08:00] [INFO] [db.go:619] ["ResourceManager finished"]
[2024/05/17 10:47:04.694 +08:00] [INFO] [db.go:625] ["Waiting for closer"]
--- FAIL: TestDisaggregatedTiFlashGeneratedColumn (1.37s)
panic: inconsistent infoschema [recovered]
	panic: inconsistent infoschema [recovered]
	panic: inconsistent infoschema

goroutine 100 [running]:
testing.tRunner.func1.2({0x1067442e0, 0x107028ed0})
	/Users/bba/.gvm/gos/go1.21.0/src/testing/testing.go:1545 +0x1c8
testing.tRunner.func1()
	/Users/bba/.gvm/gos/go1.21.0/src/testing/testing.go:1548 +0x360
panic({0x1067442e0?, 0x107028ed0?})
	/Users/bba/.gvm/gos/go1.21.0/src/runtime/panic.go:914 +0x218
github.com/pingcap/tidb/pkg/executor.(*ExecStmt).Exec.func1()
	/Users/bba/pc/tidb/pkg/executor/adapter.go:452 +0x41c
panic({0x1067442e0?, 0x107028ed0?})
	/Users/bba/.gvm/gos/go1.21.0/src/runtime/panic.go:914 +0x218
github.com/pingcap/tidb/pkg/infoschema.(*InfoschemaV3).TableByID(0x14007ce1df0, 0x1057a0ef0?)
	/Users/bba/pc/tidb/pkg/infoschema/infoschema_v3.go:201 +0xb8
github.com/pingcap/tidb/pkg/infoschema.(*SessionExtendedInfoSchema).TableByID(0x1400c962e10, 0x6c)
	/Users/bba/pc/tidb/pkg/infoschema/infoschema.go:760 +0x90
github.com/pingcap/tidb/pkg/executor.buildTableReq(0x1400c98c540, 0x3, {0x1400c97cdc0, 0x1, 0x1400c97ceb0?})
	/Users/bba/pc/tidb/pkg/executor/builder.go:3674 +0x160
github.com/pingcap/tidb/pkg/executor.buildNoRangeIndexLookUpReader(0x1400c98c540, 0x1400c97e1c0)
	/Users/bba/pc/tidb/pkg/executor/builder.go:3742 +0xc4
github.com/pingcap/tidb/pkg/executor.(*executorBuilder).buildIndexLookUpReader(0x1400c98c540, 0x1400c97e1c0)
	/Users/bba/pc/tidb/pkg/executor/builder.go:3803 +0xa4
github.com/pingcap/tidb/pkg/executor.(*executorBuilder).build(0x1400c98c540, {0x10708db40?, 0x1400c97e1c0?})
	/Users/bba/pc/tidb/pkg/executor/builder.go:294 +0xb5c
github.com/pingcap/tidb/pkg/executor.(*executorBuilder).buildProjection(0x1400c98c540, 0x1400c8e6ee0)
	/Users/bba/pc/tidb/pkg/executor/builder.go:1775 +0x64
github.com/pingcap/tidb/pkg/executor.(*executorBuilder).build(0x1400c98c540, {0x10708d690?, 0x1400c8e6ee0?})
	/Users/bba/pc/tidb/pkg/executor/builder.go:276 +0xa0c
github.com/pingcap/tidb/pkg/executor.(*executorBuilder).buildExplain(0x1400c98c540, 0x1400c9648f0)
	/Users/bba/pc/tidb/pkg/executor/builder.go:1229 +0x1ac
github.com/pingcap/tidb/pkg/executor.(*executorBuilder).build(0x1070e10d0?, {0x10708ea40?, 0x1400c9648f0?})
	/Users/bba/pc/tidb/pkg/executor/builder.go:194 +0x43c
github.com/pingcap/tidb/pkg/executor.(*ExecStmt).buildExecutor(0x1400c930960)
	/Users/bba/pc/tidb/pkg/executor/adapter.go:1172 +0x164
github.com/pingcap/tidb/pkg/executor.(*ExecStmt).Exec(0x1400c930960, {0x10706a308, 0x1400c963bf0})
	/Users/bba/pc/tidb/pkg/executor/adapter.go:522 +0x710
github.com/pingcap/tidb/pkg/session.runStmt({0x10706a260, 0x10a0ca3e0}, 0x14008a59440, {0x10707b820, 0x1400c930960?})
	/Users/bba/pc/tidb/pkg/session/session.go:2285 +0x338
github.com/pingcap/tidb/pkg/session.(*session).ExecuteStmt(0x14008a59440, {0x10706a260?, 0x10a0ca3e0?}, {0x10707fac0, 0x1400c933d50?})
	/Users/bba/pc/tidb/pkg/session/session.go:2146 +0xd94
github.com/pingcap/tidb/pkg/testkit.(*TestKit).ExecWithContext(0x140077574a0, {0x10706a260, 0x10a0ca3e0}, {0x1400c976370, 0x44}, {0x0, 0x0, 0x0})
	/Users/bba/pc/tidb/pkg/testkit/testkit.go:384 +0x734
github.com/pingcap/tidb/pkg/testkit.(*TestKit).MustQueryWithContext(0x140077574a0, {0x10706a260, 0x10a0ca3e0}, {0x1400c976370, 0x44}, {0x0, 0x0, 0x0})
	/Users/bba/pc/tidb/pkg/testkit/testkit.go:195 +0xc8
github.com/pingcap/tidb/pkg/testkit.(*TestKit).MustQuery(0x105bdc112?, {0x1400c976370?, 0x14007985da8?}, {0x0?, 0x1?, 0x0?})
	/Users/bba/pc/tidb/pkg/testkit/testkit.go:173 +0x78
github.com/pingcap/tidb/pkg/executor/test/tiflashtest.TestDisaggregatedTiFlashGeneratedColumn.func1(0x0)
	/Users/bba/pc/tidb/pkg/executor/test/tiflashtest/tiflash_test.go:1601 +0x2b4
github.com/pingcap/tidb/pkg/executor/test/tiflashtest.TestDisaggregatedTiFlashGeneratedColumn(0x14000c9a340)
	/Users/bba/pc/tidb/pkg/executor/test/tiflashtest/tiflash_test.go:1668 +0x4e0
testing.tRunner(0x14000c9a340, 0x10701bb78)
	/Users/bba/.gvm/gos/go1.21.0/src/testing/testing.go:1595 +0xe8
created by testing.(*T).Run in goroutine 1
	/Users/bba/.gvm/gos/go1.21.0/src/testing/testing.go:1648 +0x33c
[FAIL]  pkg/ddl TestModifyColumnCharset
err=exit status 2
[2024/05/17 10:47:26.071 +08:00] [INFO] [store_cache.go:510] ["change store resolve state"] [store=1] [addr=store1] [from=unresolved] [to=resolved] [liveness-state=reachable]
[2024/05/17 10:47:26.072 +08:00] [INFO] [ddl_api.go:1141] ["Automatically convert BLOB(65535) to MEDIUMBLOB"] [category=ddl]
[2024/05/17 10:47:26.072 +08:00] [INFO] [ddl_api.go:1141] ["Automatically convert BLOB(65535) to MEDIUMBLOB"] [category=ddl]
[2024/05/17 10:47:26.072 +08:00] [INFO] [ddl_api.go:1141] ["Automatically convert BLOB(65535) to MEDIUMBLOB"] [category=ddl]
[2024/05/17 10:47:26.072 +08:00] [INFO] [ddl_api.go:1141] ["Automatically convert BLOB(65535) to MEDIUMBLOB"] [category=ddl]
[2024/05/17 10:47:26.073 +08:00] [INFO] [ddl_api.go:1141] ["Automatically convert BLOB(65535) to MEDIUMBLOB"] [category=ddl]
[2024/05/17 10:47:26.074 +08:00] [INFO] [tidb.go:80] ["new domain"] [store=1f268bfa-a77e-4afd-9b69-c516277e9b6c] ["ddl lease"=500ms] ["stats lease"=-1ns]
[2024/05/17 10:47:26.077 +08:00] [WARN] [controller.go:198] ["[resource group controller] server does not save config, load config failed"]
[2024/05/17 10:47:26.077 +08:00] [INFO] [controller.go:185] ["load resource controller config"] [config="{\"degraded-mode-wait-duration\":\"0s\",\"ltb-max-wait-duration\":\"30s\",\"wait-retry-interval\":\"50ms\",\"wait-retry-times\":10,\"request-unit\":{\"read-base-cost\":0.125,\"read-per-batch-base-cost\":0.5,\"read-cost-per-byte\":0.0000152587890625,\"write-base-cost\":1,\"write-per-batch-base-cost\":1,\"write-cost-per-byte\":0.0009765625,\"read-cpu-ms-cost\":0.3333333333333333},\"enable-controller-trace-log\":\"false\"}"] [ru-config="{\"ReadBaseCost\":0.125,\"ReadPerBatchBaseCost\":0.5,\"ReadBytesCost\":0.0000152587890625,\"WriteBaseCost\":1,\"WritePerBatchBaseCost\":1,\"WriteBytesCost\":0.0009765625,\"CPUMsCost\":0.3333333333333333,\"LTBMaxWaitDuration\":30000000000,\"WaitRetryInterval\":50000000,\"WaitRetryTimes\":10,\"DegradedModeWaitDuration\":0}"]
[2024/05/17 10:47:26.077 +08:00] [WARN] [domain.go:302] ["failed to get schema version"] [error="There is no Write MVCC info for the schema version"] [errorVerbose="There is no Write MVCC info for the schema version\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).getTimestampForSchemaVersionWithNonEmptyDiff\n\t/Users/bba/pc/tidb/pkg/domain/domain.go:405\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).loadInfoSchema\n\t/Users/bba/pc/tidb/pkg/domain/domain.go:300\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).Reload\n\t/Users/bba/pc/tidb/pkg/domain/domain.go:676\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).Init\n\t/Users/bba/pc/tidb/pkg/domain/domain.go:1330\ngithub.com/pingcap/tidb/pkg/session.(*domainMap).Get.func1\n\t/Users/bba/pc/tidb/pkg/session/tidb.go:92\ngithub.com/pingcap/tidb/pkg/util.RunWithRetry\n\t/Users/bba/pc/tidb/pkg/util/misc.go:70\ngithub.com/pingcap/tidb/pkg/session.(*domainMap).Get\n\t/Users/bba/pc/tidb/pkg/session/tidb.go:79\ngithub.com/pingcap/tidb/pkg/session.createSessionWithOpt\n\t/Users/bba/pc/tidb/pkg/session/session.go:3634\ngithub.com/pingcap/tidb/pkg/session.createSession\n\t/Users/bba/pc/tidb/pkg/session/session.go:3626\ngithub.com/pingcap/tidb/pkg/session.runInBootstrapSession\n\t/Users/bba/pc/tidb/pkg/session/session.go:3576\ngithub.com/pingcap/tidb/pkg/session.bootstrapSessionImpl\n\t/Users/bba/pc/tidb/pkg/session/session.go:3352\ngithub.com/pingcap/tidb/pkg/session.BootstrapSession\n\t/Users/bba/pc/tidb/pkg/session/session.go:3318\ngithub.com/pingcap/tidb/pkg/testkit.bootstrap\n\t/Users/bba/pc/tidb/pkg/testkit/mockstore.go:294\ngithub.com/pingcap/tidb/pkg/testkit.CreateMockStoreAndDomain\n\t/Users/bba/pc/tidb/pkg/testkit/mockstore.go:265\ngithub.com/pingcap/tidb/pkg/testkit.CreateMockStore\n\t/Users/bba/pc/tidb/pkg/testkit/mockstore.go:72\ngithub.com/pingcap/tidb/pkg/ddl_test.TestModifyColumnCharset\n\t/Users/bba/pc/tidb/pkg/ddl/modify_column_test.go:406\ntesting.tRunner\n\t/Users/bba/.gvm/gos/go1.21.0/src/testing/testing.go:1595\nruntime.goexit\n\t/Users/bba/.gvm/gos/go1.21.0/src/runtime/asm_arm64.s:1197"] [version=0]
[2024/05/17 10:47:26.085 +08:00] [INFO] [domain.go:385] ["full load InfoSchema success"] [currentSchemaVersion=0] [neededSchemaVersion=0] ["start time"=8.100625ms]
[2024/05/17 10:47:26.087 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=0] ["schema version"=0]
[2024/05/17 10:47:26.087 +08:00] [INFO] [domain.go:705] ["full load and reset schema validator"]
[2024/05/17 10:47:26.087 +08:00] [INFO] [ddl.go:818] ["start DDL"] [category=ddl] [ID=5a00f956-28da-47b6-abad-2deab8110637] [runWorker=true]
[2024/05/17 10:47:26.090 +08:00] [INFO] [ddl.go:777] ["start delRangeManager OK"] [category=ddl] ["is a emulator"=true]
[2024/05/17 10:47:26.090 +08:00] [WARN] [env.go:51] ["initialize environment failed"] [category=ddl-ingest] ["storage limitation"="only support TiKV storage"] ["current storage"=unistore] ["lightning is initialized"=false]
[2024/05/17 10:47:26.090 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=loadSchemaInLoop]
[2024/05/17 10:47:26.090 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=mdlCheckLoop]
[2024/05/17 10:47:26.090 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=topNSlowQueryLoop]
[2024/05/17 10:47:26.090 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=infoSyncerKeeper]
[2024/05/17 10:47:26.090 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=globalConfigSyncerKeeper]
[2024/05/17 10:47:26.090 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=runawayStartLoop]
[2024/05/17 10:47:26.090 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=requestUnitsWriterLoop]
[2024/05/17 10:47:26.090 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=topologySyncerKeeper]
[2024/05/17 10:47:26.090 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=closestReplicaReadCheckLoop]
[2024/05/17 10:47:26.090 +08:00] [WARN] [domain.go:1396] ["pd / etcd client not provided, won't begin Advancer."]
[2024/05/17 10:47:26.091 +08:00] [INFO] [delete_range.go:172] ["start delRange emulator"] [category=ddl]
[2024/05/17 10:47:26.091 +08:00] [INFO] [job_table.go:334] ["get global state and global state change"] [category=ddl] [oldState=false] [currState=false]
[2024/05/17 10:47:26.091 +08:00] [INFO] [runaway.go:149] ["try to start runaway manager loop"]
[2024/05/17 10:47:26.091 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=requestUnitsWriterLoop]
[2024/05/17 10:47:26.141 +08:00] [INFO] [job_table.go:334] ["get global state and global state change"] [category=ddl] [oldState=false] [currState=false]
[2024/05/17 10:47:26.142 +08:00] [INFO] [job_table.go:349] ["the owner sets owner operator value"] [category=ddl] [ownerOp=none]
[2024/05/17 10:47:26.292 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=0] [cur_db=mysql] [sql="CREATE DATABASE IF NOT EXISTS test"] [user=]
[2024/05/17 10:47:26.294 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:3, Type:create schema, State:queueing, SchemaState:none, SchemaID:2, TableID:0, RowCount:0, ArgLen:1, start time: 2024-05-17 10:47:26.294 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:47:26.294 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:3, Type:create schema, State:queueing, SchemaState:none, SchemaID:2, TableID:0, RowCount:0, ArgLen:1, start time: 2024-05-17 10:47:26.294 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE DATABASE IF NOT EXISTS test"]
[2024/05/17 10:47:26.300 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=3] [category=ddl] [job="ID:3, Type:create schema, State:queueing, SchemaState:none, SchemaID:2, TableID:0, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:26.294 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:26.308 +08:00] [INFO] [domain.go:385] ["full load InfoSchema success"] [currentSchemaVersion=0] [neededSchemaVersion=1] ["start time"=7.559334ms]
[2024/05/17 10:47:26.309 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816571753267203] ["schema version"=1]
[2024/05/17 10:47:26.309 +08:00] [INFO] [domain.go:705] ["full load and reset schema validator"]
[2024/05/17 10:47:26.310 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:47:26.310 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=3] [version=1]
[2024/05/17 10:47:26.310 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=1] ["take time"=9.410834ms] [job="ID:3, Type:create schema, State:done, SchemaState:public, SchemaID:2, TableID:0, RowCount:0, ArgLen:1, start time: 2024-05-17 10:47:26.294 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:26.310 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816571753267203] ["schema version"=1]
[2024/05/17 10:47:26.313 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=3] [job="ID:3, Type:create schema, State:synced, SchemaState:public, SchemaID:2, TableID:0, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:26.294 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:26.314 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816571753267203] ["schema version"=1]
[2024/05/17 10:47:26.314 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=3]
[2024/05/17 10:47:26.314 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:47:26.314 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816571753267203] ["schema version"=1]
[2024/05/17 10:47:26.314 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=1] [cur_db=mysql] [sql="CREATE DATABASE IF NOT EXISTS `mysql`"] [user=]
[2024/05/17 10:47:26.314 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=1] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.user (\n\t\tHost\t\t\t\t\tCHAR(255),\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tauthentication_string\tTEXT,\n\t\tplugin\t\t\t\t\tCHAR(64),\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tProcess_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_db_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tSuper_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_user_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_slave_priv\t    \tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_client_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_role_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_role_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAccount_locked\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShutdown_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReload_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tFILE_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tConfig_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_Tablespace_Priv  ENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPassword_reuse_history  smallint unsigned DEFAULT NULL,\n\t\tPassword_reuse_time     smallint unsigned DEFAULT NULL,\n\t\tUser_attributes\t\t\tjson,\n\t\tToken_issuer\t\t\tVARCHAR(255),\n\t\tPassword_expired\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPassword_last_changed\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP(),\n\t\tPassword_lifetime\t\tSMALLINT UNSIGNED DEFAULT NULL,\n\t\tPRIMARY KEY (Host, User));"] [user=]
[2024/05/17 10:47:26.316 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:5, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:4, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:26.315 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:47:26.317 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:5, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:4, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:26.315 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.user (\n\t\tHost\t\t\t\t\tCHAR(255),\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tauthentication_string\tTEXT,\n\t\tplugin\t\t\t\t\tCHAR(64),\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tProcess_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_db_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tSuper_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_user_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_slave_priv\t    \tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_client_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_role_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_role_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAccount_locked\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShutdown_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReload_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tFILE_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tConfig_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_Tablespace_Priv  ENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPassword_reuse_history  smallint unsigned DEFAULT NULL,\n\t\tPassword_reuse_time     smallint unsigned DEFAULT NULL,\n\t\tUser_attributes\t\t\tjson,\n\t\tToken_issuer\t\t\tVARCHAR(255),\n\t\tPassword_expired\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPassword_last_changed\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP(),\n\t\tPassword_lifetime\t\tSMALLINT UNSIGNED DEFAULT NULL,\n\t\tPRIMARY KEY (Host, User));"]
[2024/05/17 10:47:26.321 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=5] [category=ddl] [job="ID:5, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:4, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:26.315 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:26.331 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816571760869376] ["schema version"=2]
[2024/05/17 10:47:26.331 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=1] [neededSchemaVersion=2] ["start time"=1.329708ms] [gotSchemaVersion=2] [phyTblIDs="[4]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:47:26.333 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:47:26.333 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=5] [version=2]
[2024/05/17 10:47:26.334 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=2] ["take time"=4.784833ms] [job="ID:5, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:4, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:26.315 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:26.335 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816571760869376] ["schema version"=2]
[2024/05/17 10:47:26.342 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=5] [job="ID:5, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:4, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:26.315 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:26.344 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816571760869376] ["schema version"=2]
[2024/05/17 10:47:26.346 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816571760869376] ["schema version"=2]
[2024/05/17 10:47:26.346 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=5]
[2024/05/17 10:47:26.346 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:47:26.346 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816571760869376] ["schema version"=2]
[2024/05/17 10:47:26.346 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=2] [cur_db=mysql] [sql="CREATE TABLE  IF NOT EXISTS mysql.password_history (\n         Host char(255)  NOT NULL DEFAULT '',\n         User char(32)  NOT NULL DEFAULT '',\n         Password_timestamp timestamp(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6),\n         Password text,\n         PRIMARY KEY (Host,User,Password_timestamp )\n        ) COMMENT='Password history for user accounts' "] [user=]
[2024/05/17 10:47:26.348 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:7, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:6, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:26.347 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:47:26.348 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:7, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:6, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:26.347 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE  IF NOT EXISTS mysql.password_history (\n         Host char(255)  NOT NULL DEFAULT '',\n         User char(32)  NOT NULL DEFAULT '',\n         Password_timestamp timestamp(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6),\n         Password text,\n         PRIMARY KEY (Host,User,Password_timestamp )\n        ) COMMENT='Password history for user accounts' "]
[2024/05/17 10:47:26.351 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=7] [category=ddl] [job="ID:7, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:6, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:26.347 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:26.352 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816571766898690] ["schema version"=3]
[2024/05/17 10:47:26.352 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=2] [neededSchemaVersion=3] ["start time"=169.917µs] [gotSchemaVersion=3] [phyTblIDs="[6]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:47:26.353 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:47:26.353 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=7] [version=3]
[2024/05/17 10:47:26.354 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=3] ["take time"=2.009375ms] [job="ID:7, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:6, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:26.347 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:26.355 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816571766898690] ["schema version"=3]
[2024/05/17 10:47:26.358 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=7] [job="ID:7, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:6, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:26.347 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:26.359 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816571766898690] ["schema version"=3]
[2024/05/17 10:47:26.359 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=7]
[2024/05/17 10:47:26.359 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:47:26.359 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816571766898690] ["schema version"=3]
[2024/05/17 10:47:26.360 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=3] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.global_priv (Host CHAR(255) NOT NULL DEFAULT '',User CHAR(80) NOT NULL DEFAULT '',Priv LONGTEXT NOT NULL DEFAULT '',PRIMARY KEY (Host, User))"] [user=]
[2024/05/17 10:47:26.360 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:9, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:8, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:26.36 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:47:26.360 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:9, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:8, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:26.36 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.global_priv (Host CHAR(255) NOT NULL DEFAULT '',User CHAR(80) NOT NULL DEFAULT '',Priv LONGTEXT NOT NULL DEFAULT '',PRIMARY KEY (Host, User))"]
[2024/05/17 10:47:26.363 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=9] [category=ddl] [job="ID:9, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:8, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:26.36 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:26.365 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816571770306560] ["schema version"=4]
[2024/05/17 10:47:26.365 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=3] [neededSchemaVersion=4] ["start time"=164.458µs] [gotSchemaVersion=4] [phyTblIDs="[8]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:47:26.366 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:47:26.366 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=9] [version=4]
[2024/05/17 10:47:26.367 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=4] ["take time"=2.041916ms] [job="ID:9, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:8, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:26.36 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:26.367 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816571770306560] ["schema version"=4]
[2024/05/17 10:47:26.371 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=9] [job="ID:9, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:8, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:26.36 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:26.372 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816571770306560] ["schema version"=4]
[2024/05/17 10:47:26.372 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=9]
[2024/05/17 10:47:26.372 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:47:26.372 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816571770306560] ["schema version"=4]
[2024/05/17 10:47:26.372 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=4] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.db (\n\t\tHost\t\t\t\t\tCHAR(255),\n\t\tDB\t\t\t\t\t\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv \t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (Host, DB, User));"] [user=]
[2024/05/17 10:47:26.375 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:11, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:10, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:26.373 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:47:26.375 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:11, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:10, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:26.373 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.db (\n\t\tHost\t\t\t\t\tCHAR(255),\n\t\tDB\t\t\t\t\t\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv \t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (Host, DB, User));"]
[2024/05/17 10:47:26.379 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=11] [category=ddl] [job="ID:11, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:10, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:26.373 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:26.383 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816571775025152] ["schema version"=5]
[2024/05/17 10:47:26.383 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=4] [neededSchemaVersion=5] ["start time"=476.667µs] [gotSchemaVersion=5] [phyTblIDs="[10]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:47:26.384 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:47:26.384 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=11] [version=5]
[2024/05/17 10:47:26.385 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=5] ["take time"=2.306625ms] [job="ID:11, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:10, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:26.373 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:26.386 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816571775025152] ["schema version"=5]
[2024/05/17 10:47:26.392 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=11] [job="ID:11, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:10, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:26.373 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:26.394 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816571775025152] ["schema version"=5]
[2024/05/17 10:47:26.395 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=11]
[2024/05/17 10:47:26.395 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:47:26.395 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816571775025152] ["schema version"=5]
[2024/05/17 10:47:26.396 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=5] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tables_priv (\n\t\tHost\t\tCHAR(255),\n\t\tDB\t\t\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tGrantor\t\tCHAR(77),\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tTable_priv\tSET('Select','Insert','Update','Delete','Create','Drop','Grant','Index','Alter','Create View','Show View','Trigger','References'),\n\t\tColumn_priv\tSET('Select','Insert','Update','References'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name));"] [user=]
[2024/05/17 10:47:26.398 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:13, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:12, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:26.397 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:47:26.398 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:13, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:12, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:26.397 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tables_priv (\n\t\tHost\t\tCHAR(255),\n\t\tDB\t\t\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tGrantor\t\tCHAR(77),\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tTable_priv\tSET('Select','Insert','Update','Delete','Create','Drop','Grant','Index','Alter','Create View','Show View','Trigger','References'),\n\t\tColumn_priv\tSET('Select','Insert','Update','References'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name));"]
[2024/05/17 10:47:26.404 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=13] [category=ddl] [job="ID:13, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:12, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:26.397 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:26.407 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816571781054464] ["schema version"=6]
[2024/05/17 10:47:26.407 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=5] [neededSchemaVersion=6] ["start time"=321.959µs] [gotSchemaVersion=6] [phyTblIDs="[12]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:47:26.407 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:47:26.407 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=13] [version=6]
[2024/05/17 10:47:26.408 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=6] ["take time"=2.089625ms] [job="ID:13, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:12, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:26.397 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:26.410 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816571781054464] ["schema version"=6]
[2024/05/17 10:47:26.414 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=13] [job="ID:13, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:12, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:26.397 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:26.416 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816571781054464] ["schema version"=6]
[2024/05/17 10:47:26.416 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=13]
[2024/05/17 10:47:26.416 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:47:26.416 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816571781054464] ["schema version"=6]
[2024/05/17 10:47:26.416 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=6] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.columns_priv(\n\t\tHost\t\tCHAR(255),\n\t\tDB\t\t\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tColumn_name\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tColumn_priv\tSET('Select','Insert','Update','References'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name, Column_name));"] [user=]
[2024/05/17 10:47:26.418 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:15, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:14, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:26.417 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:47:26.418 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:15, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:14, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:26.417 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.columns_priv(\n\t\tHost\t\tCHAR(255),\n\t\tDB\t\t\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tColumn_name\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tColumn_priv\tSET('Select','Insert','Update','References'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name, Column_name));"]
[2024/05/17 10:47:26.421 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=15] [category=ddl] [job="ID:15, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:14, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:26.417 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:26.423 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816571785248770] ["schema version"=7]
[2024/05/17 10:47:26.423 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=6] [neededSchemaVersion=7] ["start time"=223.5µs] [gotSchemaVersion=7] [phyTblIDs="[14]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:47:26.423 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:47:26.423 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=15] [version=7]
[2024/05/17 10:47:26.424 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=7] ["take time"=2.004625ms] [job="ID:15, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:14, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:26.417 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:26.425 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816571785248770] ["schema version"=7]
[2024/05/17 10:47:26.428 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=15] [job="ID:15, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:14, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:26.417 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:26.430 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816571785248770] ["schema version"=7]
[2024/05/17 10:47:26.431 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=15]
[2024/05/17 10:47:26.431 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:47:26.431 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816571785248770] ["schema version"=7]
[2024/05/17 10:47:26.431 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=7] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.GLOBAL_VARIABLES(\n\t\tVARIABLE_NAME  VARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE VARCHAR(16383) DEFAULT NULL);"] [user=]
[2024/05/17 10:47:26.432 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:17, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:16, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:26.431 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:47:26.432 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:17, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:16, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:26.431 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.GLOBAL_VARIABLES(\n\t\tVARIABLE_NAME  VARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE VARCHAR(16383) DEFAULT NULL);"]
[2024/05/17 10:47:26.435 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=17] [category=ddl] [job="ID:17, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:16, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:26.431 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:26.437 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816571788918788] ["schema version"=8]
[2024/05/17 10:47:26.437 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=7] [neededSchemaVersion=8] ["start time"=189.666µs] [gotSchemaVersion=8] [phyTblIDs="[16]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:47:26.438 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:47:26.438 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=17] [version=8]
[2024/05/17 10:47:26.439 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=8] ["take time"=2.916458ms] [job="ID:17, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:16, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:26.431 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:26.440 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816571788918788] ["schema version"=8]
[2024/05/17 10:47:26.447 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=17] [job="ID:17, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:16, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:26.431 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:26.450 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816571788918788] ["schema version"=8]
[2024/05/17 10:47:26.450 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=17]
[2024/05/17 10:47:26.450 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:47:26.451 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816571788918788] ["schema version"=8]
[2024/05/17 10:47:26.451 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=8] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb(\n\t\tVARIABLE_NAME  \tVARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE \tVARCHAR(1024) DEFAULT NULL,\n\t\tCOMMENT \t\tVARCHAR(1024));"] [user=]
[2024/05/17 10:47:26.452 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:19, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:18, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:26.451 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:47:26.452 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:19, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:18, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:26.451 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb(\n\t\tVARIABLE_NAME  \tVARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE \tVARCHAR(1024) DEFAULT NULL,\n\t\tCOMMENT \t\tVARCHAR(1024));"]
[2024/05/17 10:47:26.456 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=19] [category=ddl] [job="ID:19, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:18, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:26.451 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:26.458 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816571794423811] ["schema version"=9]
[2024/05/17 10:47:26.458 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=8] [neededSchemaVersion=9] ["start time"=174.583µs] [gotSchemaVersion=9] [phyTblIDs="[18]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:47:26.458 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:47:26.458 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=19] [version=9]
[2024/05/17 10:47:26.460 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=9] ["take time"=2.639959ms] [job="ID:19, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:18, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:26.451 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:26.461 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816571794423811] ["schema version"=9]
[2024/05/17 10:47:26.463 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=19] [job="ID:19, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:18, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:26.451 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:26.465 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816571794423811] ["schema version"=9]
[2024/05/17 10:47:26.465 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=19]
[2024/05/17 10:47:26.465 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:47:26.465 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816571794423811] ["schema version"=9]
[2024/05/17 10:47:26.465 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=9] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.help_topic (\n  \t\thelp_topic_id \t\tINT(10) UNSIGNED NOT NULL,\n  \t\tname \t\t\t\tCHAR(64) NOT NULL,\n  \t\thelp_category_id \tSMALLINT(5) UNSIGNED NOT NULL,\n  \t\tdescription \t\tTEXT NOT NULL,\n  \t\texample \t\t\tTEXT NOT NULL,\n  \t\turl \t\t\t\tTEXT NOT NULL,\n  \t\tPRIMARY KEY (help_topic_id) clustered,\n  \t\tUNIQUE KEY name (name)\n\t\t) ENGINE=InnoDB DEFAULT CHARSET=utf8 STATS_PERSISTENT=0 COMMENT='help topics';"] [user=]
[2024/05/17 10:47:26.466 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:21, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:20, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:26.466 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:47:26.466 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:21, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:20, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:26.466 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.help_topic (\n  \t\thelp_topic_id \t\tINT(10) UNSIGNED NOT NULL,\n  \t\tname \t\t\t\tCHAR(64) NOT NULL,\n  \t\thelp_category_id \tSMALLINT(5) UNSIGNED NOT NULL,\n  \t\tdescription \t\tTEXT NOT NULL,\n  \t\texample \t\t\tTEXT NOT NULL,\n  \t\turl \t\t\t\tTEXT NOT NULL,\n  \t\tPRIMARY KEY (help_topic_id) clustered,\n  \t\tUNIQUE KEY name (name)\n\t\t) ENGINE=InnoDB DEFAULT CHARSET=utf8 STATS_PERSISTENT=0 COMMENT='help topics';"]
[2024/05/17 10:47:26.470 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=21] [category=ddl] [job="ID:21, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:20, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:26.466 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:26.472 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816571798093825] ["schema version"=10]
[2024/05/17 10:47:26.472 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=9] [neededSchemaVersion=10] ["start time"=224.666µs] [gotSchemaVersion=10] [phyTblIDs="[20]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:47:26.472 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:47:26.472 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=21] [version=10]
[2024/05/17 10:47:26.474 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=10] ["take time"=2.624ms] [job="ID:21, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:20, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:26.466 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:26.475 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816571798093825] ["schema version"=10]
[2024/05/17 10:47:26.477 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=21] [job="ID:21, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:20, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:26.466 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:26.479 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816571798093825] ["schema version"=10]
[2024/05/17 10:47:26.479 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=21]
[2024/05/17 10:47:26.479 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:47:26.479 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816571798093825] ["schema version"=10]
[2024/05/17 10:47:26.479 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=10] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_meta (\n\t\tversion \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\ttable_id \t\tBIGINT(64) NOT NULL,\n\t\tmodify_count\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcount \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tsnapshot        BIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tINDEX idx_ver(version),\n\t\tUNIQUE INDEX tbl(table_id)\n\t);"] [user=]
[2024/05/17 10:47:26.481 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:23, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:22, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:26.48 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:47:26.481 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:23, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:22, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:26.48 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_meta (\n\t\tversion \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\ttable_id \t\tBIGINT(64) NOT NULL,\n\t\tmodify_count\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcount \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tsnapshot        BIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tINDEX idx_ver(version),\n\t\tUNIQUE INDEX tbl(table_id)\n\t);"]
[2024/05/17 10:47:26.484 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=23] [category=ddl] [job="ID:23, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:22, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:26.48 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:26.486 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816571802025984] ["schema version"=11]
[2024/05/17 10:47:26.486 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=10] [neededSchemaVersion=11] ["start time"=212.084µs] [gotSchemaVersion=11] [phyTblIDs="[22]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:47:26.486 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:47:26.486 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=23] [version=11]
[2024/05/17 10:47:26.488 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=11] ["take time"=2.006041ms] [job="ID:23, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:22, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:26.48 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:26.488 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816571802025984] ["schema version"=11]
[2024/05/17 10:47:26.493 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=23] [job="ID:23, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:22, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:26.48 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:26.496 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816571802025984] ["schema version"=11]
[2024/05/17 10:47:26.496 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=23]
[2024/05/17 10:47:26.496 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:47:26.496 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816571802025984] ["schema version"=11]
[2024/05/17 10:47:26.497 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=11] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_histograms (\n\t\ttable_id \t\t\tBIGINT(64) NOT NULL,\n\t\tis_index \t\t\tTINYINT(2) NOT NULL,\n\t\thist_id \t\t\tBIGINT(64) NOT NULL,\n\t\tdistinct_count \t\tBIGINT(64) NOT NULL,\n\t\tnull_count \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\ttot_col_size \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tmodify_count \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tversion \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tcm_sketch \t\t\tBLOB(6291456),\n\t\tstats_ver \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tflag \t\t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcorrelation \t\tDOUBLE NOT NULL DEFAULT 0,\n\t\tlast_analyze_pos \tLONGBLOB DEFAULT NULL,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id)\n\t);"] [user=]
[2024/05/17 10:47:26.497 +08:00] [INFO] [ddl_api.go:1141] ["Automatically convert BLOB(6291456) to MEDIUMBLOB"] [category=ddl]
[2024/05/17 10:47:26.505 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:25, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:24, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:26.501 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:47:26.505 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:25, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:24, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:26.501 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_histograms (\n\t\ttable_id \t\t\tBIGINT(64) NOT NULL,\n\t\tis_index \t\t\tTINYINT(2) NOT NULL,\n\t\thist_id \t\t\tBIGINT(64) NOT NULL,\n\t\tdistinct_count \t\tBIGINT(64) NOT NULL,\n\t\tnull_count \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\ttot_col_size \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tmodify_count \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tversion \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tcm_sketch \t\t\tBLOB(6291456),\n\t\tstats_ver \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tflag \t\t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcorrelation \t\tDOUBLE NOT NULL DEFAULT 0,\n\t\tlast_analyze_pos \tLONGBLOB DEFAULT NULL,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id)\n\t);"]
[2024/05/17 10:47:26.508 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=25] [category=ddl] [job="ID:25, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:24, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:26.501 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:26.510 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816571808317440] ["schema version"=12]
[2024/05/17 10:47:26.510 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=11] [neededSchemaVersion=12] ["start time"=321.083µs] [gotSchemaVersion=12] [phyTblIDs="[24]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:47:26.511 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:47:26.511 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=25] [version=12]
[2024/05/17 10:47:26.512 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=12] ["take time"=2.126708ms] [job="ID:25, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:24, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:26.501 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:26.513 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816571808317440] ["schema version"=12]
[2024/05/17 10:47:26.516 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=25] [job="ID:25, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:24, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:26.501 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:26.518 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816571808317440] ["schema version"=12]
[2024/05/17 10:47:26.518 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=25]
[2024/05/17 10:47:26.518 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:47:26.518 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816571808317440] ["schema version"=12]
[2024/05/17 10:47:26.518 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=12] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_buckets (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tbucket_id \tBIGINT(64) NOT NULL,\n\t\tcount \t\tBIGINT(64) NOT NULL,\n\t\trepeats \tBIGINT(64) NOT NULL,\n\t\tupper_bound LONGBLOB NOT NULL,\n\t\tlower_bound LONGBLOB ,\n\t\tndv         BIGINT NOT NULL DEFAULT 0,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id, bucket_id)\n\t);"] [user=]
[2024/05/17 10:47:26.520 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:27, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:26, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:26.519 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:47:26.520 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:27, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:26, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:26.519 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_buckets (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tbucket_id \tBIGINT(64) NOT NULL,\n\t\tcount \t\tBIGINT(64) NOT NULL,\n\t\trepeats \tBIGINT(64) NOT NULL,\n\t\tupper_bound LONGBLOB NOT NULL,\n\t\tlower_bound LONGBLOB ,\n\t\tndv         BIGINT NOT NULL DEFAULT 0,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id, bucket_id)\n\t);"]
[2024/05/17 10:47:26.523 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=27] [category=ddl] [job="ID:27, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:26, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:26.519 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:26.525 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816571811987458] ["schema version"=13]
[2024/05/17 10:47:26.525 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=12] [neededSchemaVersion=13] ["start time"=265.125µs] [gotSchemaVersion=13] [phyTblIDs="[26]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:47:26.525 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:47:26.525 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=27] [version=13]
[2024/05/17 10:47:26.528 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=13] ["take time"=3.429125ms] [job="ID:27, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:26, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:26.519 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:26.529 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816571811987458] ["schema version"=13]
[2024/05/17 10:47:26.533 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=27] [job="ID:27, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:26, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:26.519 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:26.536 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816571811987458] ["schema version"=13]
[2024/05/17 10:47:26.536 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=27]
[2024/05/17 10:47:26.536 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:47:26.536 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816571811987458] ["schema version"=13]
[2024/05/17 10:47:26.537 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=13] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_index (job_id, element_id)\n\t);"] [user=]
[2024/05/17 10:47:26.540 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:29, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:28, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:26.538 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:47:26.540 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:29, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:28, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:26.538 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_index (job_id, element_id)\n\t);"]
[2024/05/17 10:47:26.547 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=29] [category=ddl] [job="ID:29, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:28, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:26.538 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:26.550 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816571818803200] ["schema version"=14]
[2024/05/17 10:47:26.550 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=13] [neededSchemaVersion=14] ["start time"=284.917µs] [gotSchemaVersion=14] [phyTblIDs="[28]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:47:26.551 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:47:26.551 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=29] [version=14]
[2024/05/17 10:47:26.553 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=14] ["take time"=3.373334ms] [job="ID:29, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:28, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:26.538 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:26.554 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816571818803200] ["schema version"=14]
[2024/05/17 10:47:26.563 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=29] [job="ID:29, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:28, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:26.538 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:26.565 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816571818803200] ["schema version"=14]
[2024/05/17 10:47:26.565 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=29]
[2024/05/17 10:47:26.565 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:47:26.565 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816571818803200] ["schema version"=14]
[2024/05/17 10:47:26.565 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=14] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range_done (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_done_index (job_id, element_id)\n\t);"] [user=]
[2024/05/17 10:47:26.569 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:31, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:30, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:26.566 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:47:26.569 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:31, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:30, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:26.566 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range_done (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_done_index (job_id, element_id)\n\t);"]
[2024/05/17 10:47:26.573 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=31] [category=ddl] [job="ID:31, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:30, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:26.566 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:26.575 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816571825356800] ["schema version"=15]
[2024/05/17 10:47:26.575 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=14] [neededSchemaVersion=15] ["start time"=247.458µs] [gotSchemaVersion=15] [phyTblIDs="[30]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:47:26.576 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:47:26.576 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=31] [version=15]
[2024/05/17 10:47:26.577 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=15] ["take time"=2.24525ms] [job="ID:31, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:30, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:26.566 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:26.578 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816571825356800] ["schema version"=15]
[2024/05/17 10:47:26.583 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=31] [job="ID:31, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:30, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:26.566 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:26.584 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816571825356800] ["schema version"=15]
[2024/05/17 10:47:26.585 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=31]
[2024/05/17 10:47:26.585 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:47:26.585 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816571825356800] ["schema version"=15]
[2024/05/17 10:47:26.585 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=15] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_feedback (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tfeedback \tBLOB NOT NULL,\n\t\tINDEX hist(table_id, is_index, hist_id)\n\t);"] [user=]
[2024/05/17 10:47:26.586 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:33, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:32, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:26.585 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:47:26.586 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:33, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:32, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:26.585 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_feedback (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tfeedback \tBLOB NOT NULL,\n\t\tINDEX hist(table_id, is_index, hist_id)\n\t);"]
[2024/05/17 10:47:26.589 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=33] [category=ddl] [job="ID:33, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:32, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:26.585 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:26.591 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816571829551104] ["schema version"=16]
[2024/05/17 10:47:26.591 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=15] [neededSchemaVersion=16] ["start time"=195.208µs] [gotSchemaVersion=16] [phyTblIDs="[32]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:47:26.592 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816571829551104] ["schema version"=16]
[2024/05/17 10:47:26.592 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:47:26.592 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=33] [version=16]
[2024/05/17 10:47:26.593 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=16] ["take time"=2.72425ms] [job="ID:33, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:32, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:26.585 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:26.596 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816571829551104] ["schema version"=16]
[2024/05/17 10:47:26.600 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=33] [job="ID:33, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:32, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:26.585 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:26.603 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816571829551104] ["schema version"=16]
[2024/05/17 10:47:26.603 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=33]
[2024/05/17 10:47:26.603 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:47:26.603 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816571829551104] ["schema version"=16]
[2024/05/17 10:47:26.603 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=16] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.role_edges (\n\t\tFROM_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tFROM_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tWITH_ADMIN_OPTION \tENUM('N','Y') CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (FROM_HOST,FROM_USER,TO_HOST,TO_USER)\n\t);"] [user=]
[2024/05/17 10:47:26.606 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:35, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:34, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:26.606 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:47:26.607 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:35, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:34, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:26.606 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.role_edges (\n\t\tFROM_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tFROM_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tWITH_ADMIN_OPTION \tENUM('N','Y') CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (FROM_HOST,FROM_USER,TO_HOST,TO_USER)\n\t);"]
[2024/05/17 10:47:26.611 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=35] [category=ddl] [job="ID:35, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:34, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:26.606 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:26.613 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816571835056130] ["schema version"=17]
[2024/05/17 10:47:26.613 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=16] [neededSchemaVersion=17] ["start time"=278.667µs] [gotSchemaVersion=17] [phyTblIDs="[34]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:47:26.615 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:47:26.615 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=35] [version=17]
[2024/05/17 10:47:26.615 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=17] ["take time"=2.020792ms] [job="ID:35, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:34, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:26.606 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:26.617 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816571835056130] ["schema version"=17]
[2024/05/17 10:47:26.620 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=35] [job="ID:35, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:34, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:26.606 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:26.623 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816571835056130] ["schema version"=17]
[2024/05/17 10:47:26.623 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=35]
[2024/05/17 10:47:26.623 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:47:26.623 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816571835056130] ["schema version"=17]
[2024/05/17 10:47:26.623 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=17] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.default_roles (\n\t\tHOST \t\t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tUSER \t\t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tDEFAULT_ROLE_HOST \tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '%',\n\t\tDEFAULT_ROLE_USER \tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tPRIMARY KEY (HOST,USER,DEFAULT_ROLE_HOST,DEFAULT_ROLE_USER)\n\t)"] [user=]
[2024/05/17 10:47:26.625 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:37, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:36, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:26.624 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:47:26.625 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:37, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:36, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:26.624 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.default_roles (\n\t\tHOST \t\t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tUSER \t\t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tDEFAULT_ROLE_HOST \tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '%',\n\t\tDEFAULT_ROLE_USER \tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tPRIMARY KEY (HOST,USER,DEFAULT_ROLE_HOST,DEFAULT_ROLE_USER)\n\t)"]
[2024/05/17 10:47:26.630 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=37] [category=ddl] [job="ID:37, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:36, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:26.624 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:26.632 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816571840036865] ["schema version"=18]
[2024/05/17 10:47:26.632 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=17] [neededSchemaVersion=18] ["start time"=182.125µs] [gotSchemaVersion=18] [phyTblIDs="[36]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:47:26.632 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:47:26.632 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=37] [version=18]
[2024/05/17 10:47:26.634 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=18] ["take time"=2.005417ms] [job="ID:37, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:36, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:26.624 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:26.634 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816571840036865] ["schema version"=18]
[2024/05/17 10:47:26.640 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=37] [job="ID:37, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:36, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:26.624 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:26.642 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816571840036865] ["schema version"=18]
[2024/05/17 10:47:26.642 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=37]
[2024/05/17 10:47:26.642 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:47:26.642 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816571840036865] ["schema version"=18]
[2024/05/17 10:47:26.643 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=18] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.bind_info (\n\t\toriginal_sql TEXT NOT NULL,\n\t\tbind_sql TEXT NOT NULL,\n\t\tdefault_db TEXT NOT NULL,\n\t\tstatus TEXT NOT NULL,\n\t\tcreate_time TIMESTAMP(3) NOT NULL,\n\t\tupdate_time TIMESTAMP(3) NOT NULL,\n\t\tcharset TEXT NOT NULL,\n\t\tcollation TEXT NOT NULL,\n\t\tsource VARCHAR(10) NOT NULL DEFAULT 'unknown',\n\t\tsql_digest varchar(64),\n\t\tplan_digest varchar(64),\n\t\tINDEX sql_index(original_sql(700),default_db(68)) COMMENT \"accelerate the speed when add global binding query\",\n\t\tINDEX time_index(update_time) COMMENT \"accelerate the speed when querying with last update time\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"] [user=]
[2024/05/17 10:47:26.644 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:39, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:38, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:26.643 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:47:26.644 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:39, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:38, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:26.643 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.bind_info (\n\t\toriginal_sql TEXT NOT NULL,\n\t\tbind_sql TEXT NOT NULL,\n\t\tdefault_db TEXT NOT NULL,\n\t\tstatus TEXT NOT NULL,\n\t\tcreate_time TIMESTAMP(3) NOT NULL,\n\t\tupdate_time TIMESTAMP(3) NOT NULL,\n\t\tcharset TEXT NOT NULL,\n\t\tcollation TEXT NOT NULL,\n\t\tsource VARCHAR(10) NOT NULL DEFAULT 'unknown',\n\t\tsql_digest varchar(64),\n\t\tplan_digest varchar(64),\n\t\tINDEX sql_index(original_sql(700),default_db(68)) COMMENT \"accelerate the speed when add global binding query\",\n\t\tINDEX time_index(update_time) COMMENT \"accelerate the speed when querying with last update time\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"]
[2024/05/17 10:47:26.648 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=39] [category=ddl] [job="ID:39, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:38, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:26.643 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:26.651 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816571845279744] ["schema version"=19]
[2024/05/17 10:47:26.651 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=18] [neededSchemaVersion=19] ["start time"=305.916µs] [gotSchemaVersion=19] [phyTblIDs="[38]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:47:26.652 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:47:26.652 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=39] [version=19]
[2024/05/17 10:47:26.653 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=19] ["take time"=2.010083ms] [job="ID:39, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:38, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:26.643 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:26.654 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816571845279744] ["schema version"=19]
[2024/05/17 10:47:26.657 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=39] [job="ID:39, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:38, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:26.643 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:26.660 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816571845279744] ["schema version"=19]
[2024/05/17 10:47:26.660 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=39]
[2024/05/17 10:47:26.660 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:47:26.660 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816571845279744] ["schema version"=19]
[2024/05/17 10:47:26.661 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=19] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_top_n (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tvalue \t\tLONGBLOB,\n\t\tcount \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\tINDEX tbl(table_id, is_index, hist_id)\n\t);"] [user=]
[2024/05/17 10:47:26.662 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:41, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:40, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:26.662 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:47:26.662 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:41, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:40, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:26.662 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_top_n (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tvalue \t\tLONGBLOB,\n\t\tcount \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\tINDEX tbl(table_id, is_index, hist_id)\n\t);"]
[2024/05/17 10:47:26.665 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=41] [category=ddl] [job="ID:41, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:40, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:26.662 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:26.667 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816571849211908] ["schema version"=20]
[2024/05/17 10:47:26.667 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=19] [neededSchemaVersion=20] ["start time"=189.875µs] [gotSchemaVersion=20] [phyTblIDs="[40]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:47:26.667 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:47:26.667 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=41] [version=20]
[2024/05/17 10:47:26.668 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=20] ["take time"=2.011042ms] [job="ID:41, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:40, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:26.662 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:26.669 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816571849211908] ["schema version"=20]
[2024/05/17 10:47:26.672 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=41] [job="ID:41, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:40, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:26.662 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:26.674 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816571849211908] ["schema version"=20]
[2024/05/17 10:47:26.674 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=41]
[2024/05/17 10:47:26.674 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:47:26.674 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816571849211908] ["schema version"=20]
[2024/05/17 10:47:26.674 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=20] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.expr_pushdown_blacklist (\n\t\tname \t\tCHAR(100) NOT NULL,\n\t\tstore_type \tCHAR(100) NOT NULL DEFAULT 'tikv,tiflash,tidb',\n\t\treason \t\tVARCHAR(200)\n\t);"] [user=]
[2024/05/17 10:47:26.675 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:43, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:42, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:26.675 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:47:26.675 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:43, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:42, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:26.675 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.expr_pushdown_blacklist (\n\t\tname \t\tCHAR(100) NOT NULL,\n\t\tstore_type \tCHAR(100) NOT NULL DEFAULT 'tikv,tiflash,tidb',\n\t\treason \t\tVARCHAR(200)\n\t);"]
[2024/05/17 10:47:26.679 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=43] [category=ddl] [job="ID:43, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:42, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:26.675 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:26.680 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816571852881920] ["schema version"=21]
[2024/05/17 10:47:26.680 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=20] [neededSchemaVersion=21] ["start time"=166.75µs] [gotSchemaVersion=21] [phyTblIDs="[42]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:47:26.681 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:47:26.681 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=43] [version=21]
[2024/05/17 10:47:26.682 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=21] ["take time"=2.499875ms] [job="ID:43, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:42, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:26.675 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:26.683 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816571852881920] ["schema version"=21]
[2024/05/17 10:47:26.686 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=43] [job="ID:43, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:42, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:26.675 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:26.687 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816571852881920] ["schema version"=21]
[2024/05/17 10:47:26.687 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=43]
[2024/05/17 10:47:26.687 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:47:26.687 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816571852881920] ["schema version"=21]
[2024/05/17 10:47:26.688 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=21] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.opt_rule_blacklist (\n\t\tname \tCHAR(100) NOT NULL\n\t);"] [user=]
[2024/05/17 10:47:26.689 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:45, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:44, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:26.688 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:47:26.689 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:45, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:44, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:26.688 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.opt_rule_blacklist (\n\t\tname \tCHAR(100) NOT NULL\n\t);"]
[2024/05/17 10:47:26.692 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=45] [category=ddl] [job="ID:45, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:44, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:26.688 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:26.693 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816571856289792] ["schema version"=22]
[2024/05/17 10:47:26.693 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=21] [neededSchemaVersion=22] ["start time"=112.125µs] [gotSchemaVersion=22] [phyTblIDs="[44]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:47:26.694 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:47:26.694 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=45] [version=22]
[2024/05/17 10:47:26.695 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=22] ["take time"=2.063042ms] [job="ID:45, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:44, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:26.688 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:26.695 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816571856289792] ["schema version"=22]
[2024/05/17 10:47:26.699 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=45] [job="ID:45, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:44, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:26.688 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:26.700 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816571856289792] ["schema version"=22]
[2024/05/17 10:47:26.701 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=45]
[2024/05/17 10:47:26.701 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:47:26.701 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816571856289792] ["schema version"=22]
[2024/05/17 10:47:26.701 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=22] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_extended (\n\t\tname varchar(32) NOT NULL,\n\t\ttype tinyint(4) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tcolumn_ids varchar(32) NOT NULL,\n\t\tstats blob DEFAULT NULL,\n\t\tversion bigint(64) unsigned NOT NULL,\n\t\tstatus tinyint(4) NOT NULL,\n\t\tPRIMARY KEY(name, table_id),\n\t\tKEY idx_1 (table_id, status, version),\n\t\tKEY idx_2 (status, version)\n\t);"] [user=]
[2024/05/17 10:47:26.703 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:47, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:46, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:26.701 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:47:26.703 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:47, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:46, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:26.701 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_extended (\n\t\tname varchar(32) NOT NULL,\n\t\ttype tinyint(4) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tcolumn_ids varchar(32) NOT NULL,\n\t\tstats blob DEFAULT NULL,\n\t\tversion bigint(64) unsigned NOT NULL,\n\t\tstatus tinyint(4) NOT NULL,\n\t\tPRIMARY KEY(name, table_id),\n\t\tKEY idx_1 (table_id, status, version),\n\t\tKEY idx_2 (status, version)\n\t);"]
[2024/05/17 10:47:26.706 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=47] [category=ddl] [job="ID:47, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:46, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:26.701 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:26.708 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816571860221952] ["schema version"=23]
[2024/05/17 10:47:26.708 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=22] [neededSchemaVersion=23] ["start time"=265.5µs] [gotSchemaVersion=23] [phyTblIDs="[46]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:47:26.709 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:47:26.709 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=47] [version=23]
[2024/05/17 10:47:26.710 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=23] ["take time"=2.026708ms] [job="ID:47, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:46, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:26.701 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:26.710 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816571860221952] ["schema version"=23]
[2024/05/17 10:47:26.714 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=47] [job="ID:47, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:46, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:26.701 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:26.716 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816571860221952] ["schema version"=23]
[2024/05/17 10:47:26.716 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=47]
[2024/05/17 10:47:26.716 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:47:26.716 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816571860221952] ["schema version"=23]
[2024/05/17 10:47:26.716 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=23] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_fm_sketch (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tvalue \t\tLONGBLOB,\n\t\tINDEX tbl(table_id, is_index, hist_id)\n\t);"] [user=]
[2024/05/17 10:47:26.718 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:49, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:48, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:26.717 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:47:26.718 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:49, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:48, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:26.717 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_fm_sketch (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tvalue \t\tLONGBLOB,\n\t\tINDEX tbl(table_id, is_index, hist_id)\n\t);"]
[2024/05/17 10:47:26.721 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=49] [category=ddl] [job="ID:49, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:48, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:26.717 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:26.722 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816571863891968] ["schema version"=24]
[2024/05/17 10:47:26.722 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=23] [neededSchemaVersion=24] ["start time"=173.959µs] [gotSchemaVersion=24] [phyTblIDs="[48]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:47:26.722 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:47:26.722 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=49] [version=24]
[2024/05/17 10:47:26.724 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=24] ["take time"=2.522417ms] [job="ID:49, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:48, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:26.717 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:26.725 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816571863891968] ["schema version"=24]
[2024/05/17 10:47:26.727 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=49] [job="ID:49, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:48, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:26.717 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:26.729 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816571863891968] ["schema version"=24]
[2024/05/17 10:47:26.729 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=49]
[2024/05/17 10:47:26.729 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:47:26.729 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816571863891968] ["schema version"=24]
[2024/05/17 10:47:26.729 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=24] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.global_grants (\n\t\tUSER char(32) NOT NULL DEFAULT '',\n\t\tHOST char(255) NOT NULL DEFAULT '',\n\t\tPRIV char(32) NOT NULL DEFAULT '',\n\t\tWITH_GRANT_OPTION enum('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (USER,HOST,PRIV)\n\t);"] [user=]
[2024/05/17 10:47:26.731 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:51, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:50, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:26.73 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:47:26.731 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:51, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:50, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:26.73 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.global_grants (\n\t\tUSER char(32) NOT NULL DEFAULT '',\n\t\tHOST char(255) NOT NULL DEFAULT '',\n\t\tPRIV char(32) NOT NULL DEFAULT '',\n\t\tWITH_GRANT_OPTION enum('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (USER,HOST,PRIV)\n\t);"]
[2024/05/17 10:47:26.734 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=51] [category=ddl] [job="ID:51, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:50, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:26.73 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:26.735 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816571867299840] ["schema version"=25]
[2024/05/17 10:47:26.735 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=24] [neededSchemaVersion=25] ["start time"=174.75µs] [gotSchemaVersion=25] [phyTblIDs="[50]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:47:26.736 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:47:26.736 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=51] [version=25]
[2024/05/17 10:47:26.737 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=25] ["take time"=2.006584ms] [job="ID:51, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:50, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:26.73 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:26.737 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816571867299840] ["schema version"=25]
[2024/05/17 10:47:26.741 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=51] [job="ID:51, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:50, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:26.73 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:26.743 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816571867299840] ["schema version"=25]
[2024/05/17 10:47:26.743 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=51]
[2024/05/17 10:47:26.743 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:47:26.743 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816571867299840] ["schema version"=25]
[2024/05/17 10:47:26.743 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=25] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.capture_plan_baselines_blacklist (\n\t\tid bigint(64) auto_increment,\n\t\tfilter_type varchar(32) NOT NULL COMMENT \"type of the filter, only db, table and frequency supported now\",\n\t\tfilter_value varchar(32) NOT NULL,\n\t\tkey idx(filter_type),\n\t\tprimary key(id)\n\t);"] [user=]
[2024/05/17 10:47:26.744 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:53, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:52, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:26.744 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:47:26.744 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:53, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:52, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:26.744 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.capture_plan_baselines_blacklist (\n\t\tid bigint(64) auto_increment,\n\t\tfilter_type varchar(32) NOT NULL COMMENT \"type of the filter, only db, table and frequency supported now\",\n\t\tfilter_value varchar(32) NOT NULL,\n\t\tkey idx(filter_type),\n\t\tprimary key(id)\n\t);"]
[2024/05/17 10:47:26.748 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=53] [category=ddl] [job="ID:53, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:52, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:26.744 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:26.749 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816571870707720] ["schema version"=26]
[2024/05/17 10:47:26.749 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=25] [neededSchemaVersion=26] ["start time"=173.792µs] [gotSchemaVersion=26] [phyTblIDs="[52]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:47:26.749 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:47:26.749 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=53] [version=26]
[2024/05/17 10:47:26.751 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=26] ["take time"=2.004208ms] [job="ID:53, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:52, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:26.744 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:26.751 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816571870707720] ["schema version"=26]
[2024/05/17 10:47:26.754 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=53] [job="ID:53, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:52, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:26.744 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:26.755 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816571870707720] ["schema version"=26]
[2024/05/17 10:47:26.756 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=53]
[2024/05/17 10:47:26.756 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:47:26.756 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816571870707720] ["schema version"=26]
[2024/05/17 10:47:26.756 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=26] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.column_stats_usage (\n\t\ttable_id BIGINT(64) NOT NULL,\n\t\tcolumn_id BIGINT(64) NOT NULL,\n\t\tlast_used_at TIMESTAMP,\n\t\tlast_analyzed_at TIMESTAMP,\n\t\tPRIMARY KEY (table_id, column_id) CLUSTERED\n\t);"] [user=]
[2024/05/17 10:47:26.757 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:55, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:54, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:26.757 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:47:26.757 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:55, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:54, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:26.757 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.column_stats_usage (\n\t\ttable_id BIGINT(64) NOT NULL,\n\t\tcolumn_id BIGINT(64) NOT NULL,\n\t\tlast_used_at TIMESTAMP,\n\t\tlast_analyzed_at TIMESTAMP,\n\t\tPRIMARY KEY (table_id, column_id) CLUSTERED\n\t);"]
[2024/05/17 10:47:26.761 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=55] [category=ddl] [job="ID:55, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:54, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:26.757 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:26.762 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816571874377728] ["schema version"=27]
[2024/05/17 10:47:26.762 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=26] [neededSchemaVersion=27] ["start time"=194.708µs] [gotSchemaVersion=27] [phyTblIDs="[54]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:47:26.763 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:47:26.763 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=55] [version=27]
[2024/05/17 10:47:26.764 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=27] ["take time"=2.025625ms] [job="ID:55, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:54, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:26.757 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:26.765 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816571874377728] ["schema version"=27]
[2024/05/17 10:47:26.770 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=55] [job="ID:55, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:54, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:26.757 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:26.773 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816571874377728] ["schema version"=27]
[2024/05/17 10:47:26.773 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=55]
[2024/05/17 10:47:26.773 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:47:26.773 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816571874377728] ["schema version"=27]
[2024/05/17 10:47:26.773 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=27] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.table_cache_meta (\n\t\ttid bigint(11) NOT NULL DEFAULT 0,\n\t\tlock_type enum('NONE','READ', 'INTEND', 'WRITE') NOT NULL DEFAULT 'NONE',\n\t\tlease bigint(20) NOT NULL DEFAULT 0,\n\t\toldReadLease bigint(20) NOT NULL DEFAULT 0,\n\t\tPRIMARY KEY (tid)\n\t);"] [user=]
[2024/05/17 10:47:26.776 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:57, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:56, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:26.775 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:47:26.776 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:57, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:56, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:26.775 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.table_cache_meta (\n\t\ttid bigint(11) NOT NULL DEFAULT 0,\n\t\tlock_type enum('NONE','READ', 'INTEND', 'WRITE') NOT NULL DEFAULT 'NONE',\n\t\tlease bigint(20) NOT NULL DEFAULT 0,\n\t\toldReadLease bigint(20) NOT NULL DEFAULT 0,\n\t\tPRIMARY KEY (tid)\n\t);"]
[2024/05/17 10:47:26.782 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=57] [category=ddl] [job="ID:57, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:56, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:26.775 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:26.786 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816571880669184] ["schema version"=28]
[2024/05/17 10:47:26.786 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=27] [neededSchemaVersion=28] ["start time"=256.125µs] [gotSchemaVersion=28] [phyTblIDs="[56]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:47:26.787 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:47:26.787 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=57] [version=28]
[2024/05/17 10:47:26.792 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=28] ["take time"=6.271459ms] [job="ID:57, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:56, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:26.775 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:26.793 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816571880669184] ["schema version"=28]
[2024/05/17 10:47:26.800 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=57] [job="ID:57, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:56, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:26.775 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:26.802 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816571880669184] ["schema version"=28]
[2024/05/17 10:47:26.802 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=57]
[2024/05/17 10:47:26.802 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:47:26.802 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816571880669184] ["schema version"=28]
[2024/05/17 10:47:26.802 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=28] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.analyze_options (\n\t\ttable_id BIGINT(64) NOT NULL,\n\t\tsample_num BIGINT(64) NOT NULL DEFAULT 0,\n\t\tsample_rate DOUBLE NOT NULL DEFAULT -1,\n\t\tbuckets BIGINT(64) NOT NULL DEFAULT 0,\n\t\ttopn BIGINT(64) NOT NULL DEFAULT -1,\n\t\tcolumn_choice enum('DEFAULT','ALL','PREDICATE','LIST') NOT NULL DEFAULT 'DEFAULT',\n\t\tcolumn_ids TEXT(19372),\n\t\tPRIMARY KEY (table_id) CLUSTERED\n\t);"] [user=]
[2024/05/17 10:47:26.802 +08:00] [INFO] [ddl_api.go:1141] ["Automatically convert BLOB(19372) to MEDIUMBLOB"] [category=ddl]
[2024/05/17 10:47:26.804 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:59, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:58, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:26.803 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:47:26.804 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:59, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:58, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:26.803 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.analyze_options (\n\t\ttable_id BIGINT(64) NOT NULL,\n\t\tsample_num BIGINT(64) NOT NULL DEFAULT 0,\n\t\tsample_rate DOUBLE NOT NULL DEFAULT -1,\n\t\tbuckets BIGINT(64) NOT NULL DEFAULT 0,\n\t\ttopn BIGINT(64) NOT NULL DEFAULT -1,\n\t\tcolumn_choice enum('DEFAULT','ALL','PREDICATE','LIST') NOT NULL DEFAULT 'DEFAULT',\n\t\tcolumn_ids TEXT(19372),\n\t\tPRIMARY KEY (table_id) CLUSTERED\n\t);"]
[2024/05/17 10:47:26.809 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=59] [category=ddl] [job="ID:59, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:58, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:26.803 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:26.811 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816571887222784] ["schema version"=29]
[2024/05/17 10:47:26.811 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=28] [neededSchemaVersion=29] ["start time"=251.958µs] [gotSchemaVersion=29] [phyTblIDs="[58]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:47:26.812 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:47:26.812 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=59] [version=29]
[2024/05/17 10:47:26.813 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=29] ["take time"=2.208375ms] [job="ID:59, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:58, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:26.803 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:26.814 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816571887222784] ["schema version"=29]
[2024/05/17 10:47:26.818 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=59] [job="ID:59, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:58, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:26.803 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:26.820 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816571887222784] ["schema version"=29]
[2024/05/17 10:47:26.820 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=59]
[2024/05/17 10:47:26.820 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:47:26.820 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816571887222784] ["schema version"=29]
[2024/05/17 10:47:26.820 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=29] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_history (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tstats_data longblob NOT NULL,\n\t\tseq_no bigint(64) NOT NULL comment 'sequence number of the gzipped data slice',\n\t\tversion bigint(64) NOT NULL comment 'stats version which corresponding to stats:version in EXPLAIN',\n\t\tcreate_time datetime(6) NOT NULL,\n\t\tUNIQUE KEY table_version_seq (table_id, version, seq_no),\n\t\tKEY table_create_time (table_id, create_time, seq_no),\n    \tKEY idx_create_time (create_time)\n\t);"] [user=]
[2024/05/17 10:47:26.822 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:61, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:60, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:26.821 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:47:26.822 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:61, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:60, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:26.821 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_history (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tstats_data longblob NOT NULL,\n\t\tseq_no bigint(64) NOT NULL comment 'sequence number of the gzipped data slice',\n\t\tversion bigint(64) NOT NULL comment 'stats version which corresponding to stats:version in EXPLAIN',\n\t\tcreate_time datetime(6) NOT NULL,\n\t\tUNIQUE KEY table_version_seq (table_id, version, seq_no),\n\t\tKEY table_create_time (table_id, create_time, seq_no),\n    \tKEY idx_create_time (create_time)\n\t);"]
[2024/05/17 10:47:26.826 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=61] [category=ddl] [job="ID:61, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:60, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:26.821 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:26.830 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816571891941376] ["schema version"=30]
[2024/05/17 10:47:26.830 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=29] [neededSchemaVersion=30] ["start time"=262.458µs] [gotSchemaVersion=30] [phyTblIDs="[60]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:47:26.831 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:47:26.831 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=61] [version=30]
[2024/05/17 10:47:26.832 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=30] ["take time"=2.745292ms] [job="ID:61, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:60, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:26.821 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:26.834 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816571891941376] ["schema version"=30]
[2024/05/17 10:47:26.840 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=61] [job="ID:61, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:60, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:26.821 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:26.841 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816571891941376] ["schema version"=30]
[2024/05/17 10:47:26.841 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=61]
[2024/05/17 10:47:26.841 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:47:26.841 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816571891941376] ["schema version"=30]
[2024/05/17 10:47:26.842 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=30] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_meta_history (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tmodify_count bigint(64) NOT NULL,\n\t\tcount bigint(64) NOT NULL,\n\t\tversion bigint(64) NOT NULL comment 'stats version which corresponding to stats:version in EXPLAIN',\n    \tsource varchar(40) NOT NULL,\n\t\tcreate_time datetime(6) NOT NULL,\n\t\tUNIQUE KEY table_version (table_id, version),\n\t\tKEY table_create_time (table_id, create_time),\n    \tKEY idx_create_time (create_time)\n\t);"] [user=]
[2024/05/17 10:47:26.842 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816571891941376] ["schema version"=30]
[2024/05/17 10:47:26.844 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:63, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:62, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:26.843 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:47:26.844 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:63, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:62, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:26.843 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_meta_history (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tmodify_count bigint(64) NOT NULL,\n\t\tcount bigint(64) NOT NULL,\n\t\tversion bigint(64) NOT NULL comment 'stats version which corresponding to stats:version in EXPLAIN',\n    \tsource varchar(40) NOT NULL,\n\t\tcreate_time datetime(6) NOT NULL,\n\t\tUNIQUE KEY table_version (table_id, version),\n\t\tKEY table_create_time (table_id, create_time),\n    \tKEY idx_create_time (create_time)\n\t);"]
[2024/05/17 10:47:26.847 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=63] [category=ddl] [job="ID:63, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:62, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:26.843 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:26.849 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816571896922113] ["schema version"=31]
[2024/05/17 10:47:26.849 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=30] [neededSchemaVersion=31] ["start time"=370.666µs] [gotSchemaVersion=31] [phyTblIDs="[62]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:47:26.850 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:47:26.850 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=63] [version=31]
[2024/05/17 10:47:26.851 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=31] ["take time"=2.698042ms] [job="ID:63, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:62, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:26.843 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:26.852 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816571896922113] ["schema version"=31]
[2024/05/17 10:47:26.855 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=63] [job="ID:63, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:62, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:26.843 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:26.857 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816571896922113] ["schema version"=31]
[2024/05/17 10:47:26.857 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=63]
[2024/05/17 10:47:26.857 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:47:26.857 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816571896922113] ["schema version"=31]
[2024/05/17 10:47:26.857 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=31] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.analyze_jobs (\n\t\tid BIGINT(64) UNSIGNED NOT NULL AUTO_INCREMENT,\n\t\tupdate_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\ttable_schema CHAR(64) NOT NULL DEFAULT '',\n\t\ttable_name CHAR(64) NOT NULL DEFAULT '',\n\t\tpartition_name CHAR(64) NOT NULL DEFAULT '',\n\t\tjob_info TEXT NOT NULL,\n\t\tprocessed_rows BIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tstart_time TIMESTAMP,\n\t\tend_time TIMESTAMP,\n\t\tstate ENUM('pending', 'running', 'finished', 'failed') NOT NULL,\n\t\tfail_reason TEXT,\n\t\tinstance VARCHAR(512) NOT NULL comment 'address of the TiDB instance executing the analyze job',\n\t\tprocess_id BIGINT(64) UNSIGNED comment 'ID of the process executing the analyze job',\n\t\tPRIMARY KEY (id),\n\t\tKEY (update_time)\n\t);"] [user=]
[2024/05/17 10:47:26.860 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:65, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:64, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:26.859 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:47:26.860 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:65, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:64, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:26.859 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.analyze_jobs (\n\t\tid BIGINT(64) UNSIGNED NOT NULL AUTO_INCREMENT,\n\t\tupdate_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\ttable_schema CHAR(64) NOT NULL DEFAULT '',\n\t\ttable_name CHAR(64) NOT NULL DEFAULT '',\n\t\tpartition_name CHAR(64) NOT NULL DEFAULT '',\n\t\tjob_info TEXT NOT NULL,\n\t\tprocessed_rows BIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tstart_time TIMESTAMP,\n\t\tend_time TIMESTAMP,\n\t\tstate ENUM('pending', 'running', 'finished', 'failed') NOT NULL,\n\t\tfail_reason TEXT,\n\t\tinstance VARCHAR(512) NOT NULL comment 'address of the TiDB instance executing the analyze job',\n\t\tprocess_id BIGINT(64) UNSIGNED comment 'ID of the process executing the analyze job',\n\t\tPRIMARY KEY (id),\n\t\tKEY (update_time)\n\t);"]
[2024/05/17 10:47:26.864 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=65] [category=ddl] [job="ID:65, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:64, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:26.859 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:26.868 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816571901902848] ["schema version"=32]
[2024/05/17 10:47:26.868 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=31] [neededSchemaVersion=32] ["start time"=928.792µs] [gotSchemaVersion=32] [phyTblIDs="[64]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:47:26.868 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:47:26.869 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=65] [version=32]
[2024/05/17 10:47:26.870 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=32] ["take time"=2.961125ms] [job="ID:65, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:64, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:26.859 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:26.870 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816571901902848] ["schema version"=32]
[2024/05/17 10:47:26.875 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=65] [job="ID:65, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:64, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:26.859 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:26.877 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816571901902848] ["schema version"=32]
[2024/05/17 10:47:26.877 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=65]
[2024/05/17 10:47:26.877 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:47:26.877 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816571901902848] ["schema version"=32]
[2024/05/17 10:47:26.877 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=32] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.advisory_locks (\n\t\tlock_name VARCHAR(64) NOT NULL PRIMARY KEY\n\t);"] [user=]
[2024/05/17 10:47:26.881 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:67, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:66, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:26.878 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:47:26.881 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:67, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:66, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:26.878 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.advisory_locks (\n\t\tlock_name VARCHAR(64) NOT NULL PRIMARY KEY\n\t);"]
[2024/05/17 10:47:26.885 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=67] [category=ddl] [job="ID:67, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:66, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:26.878 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:26.887 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816571906883587] ["schema version"=33]
[2024/05/17 10:47:26.887 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=32] [neededSchemaVersion=33] ["start time"=158.792µs] [gotSchemaVersion=33] [phyTblIDs="[66]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:47:26.887 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:47:26.887 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=67] [version=33]
[2024/05/17 10:47:26.889 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=33] ["take time"=2.077625ms] [job="ID:67, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:66, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:26.878 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:26.889 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816571906883587] ["schema version"=33]
[2024/05/17 10:47:26.892 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=67] [job="ID:67, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:66, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:26.878 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:26.893 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816571906883587] ["schema version"=33]
[2024/05/17 10:47:26.893 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=67]
[2024/05/17 10:47:26.893 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:47:26.894 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816571906883587] ["schema version"=33]
[2024/05/17 10:47:26.895 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:69, Type:create view, State:queueing, SchemaState:none, SchemaID:1, TableID:68, RowCount:0, ArgLen:3, start time: 2024-05-17 10:47:26.895 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:47:26.895 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:69, Type:create view, State:queueing, SchemaState:none, SchemaID:1, TableID:68, RowCount:0, ArgLen:3, start time: 2024-05-17 10:47:26.895 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE OR REPLACE VIEW mysql.tidb_mdl_view as (\n\t\tSELECT tidb_mdl_info.job_id,\n\t\t\tJSON_UNQUOTE(JSON_EXTRACT(cast(cast(job_meta as char) as json), \"$.schema_name\")) as db_name,\n\t\t\tJSON_UNQUOTE(JSON_EXTRACT(cast(cast(job_meta as char) as json), \"$.table_name\")) as table_name,\n\t\t\tJSON_UNQUOTE(JSON_EXTRACT(cast(cast(job_meta as char) as json), \"$.query\")) as query,\n\t\t\tsession_id,\n\t\t\tcluster_tidb_trx.start_time,\n\t\t\ttidb_decode_sql_digests(all_sql_digests, 4096) AS SQL_DIGESTS\n\t\tFROM mysql.tidb_ddl_job,\n\t\t\tmysql.tidb_mdl_info,\n\t\t\tinformation_schema.cluster_tidb_trx\n\t\tWHERE tidb_ddl_job.job_id=tidb_mdl_info.job_id\n\t\t\tAND CONCAT(',', tidb_mdl_info.table_ids, ',') REGEXP CONCAT(',(', REPLACE(cluster_tidb_trx.related_table_ids, ',', '|'), '),') != 0\n\t);"]
[2024/05/17 10:47:26.898 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=69] [category=ddl] [job="ID:69, Type:create view, State:queueing, SchemaState:none, SchemaID:1, TableID:68, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:26.895 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:26.901 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816571910553600] ["schema version"=34]
[2024/05/17 10:47:26.901 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=33] [neededSchemaVersion=34] ["start time"=231.166µs] [gotSchemaVersion=34] [phyTblIDs="[68]"] [actionTypes="[21]"] [diffTypes="[\"create view\"]"]
[2024/05/17 10:47:26.901 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:47:26.901 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=69] [version=34]
[2024/05/17 10:47:26.902 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=34] ["take time"=2.013ms] [job="ID:69, Type:create view, State:done, SchemaState:public, SchemaID:1, TableID:68, RowCount:0, ArgLen:3, start time: 2024-05-17 10:47:26.895 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:26.903 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816571910553600] ["schema version"=34]
[2024/05/17 10:47:26.908 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=69] [job="ID:69, Type:create view, State:synced, SchemaState:public, SchemaID:1, TableID:68, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:26.895 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:26.910 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816571910553600] ["schema version"=34]
[2024/05/17 10:47:26.910 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=69]
[2024/05/17 10:47:26.910 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:47:26.910 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816571910553600] ["schema version"=34]
[2024/05/17 10:47:26.910 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=34] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.plan_replayer_status (\n\t\tsql_digest VARCHAR(128),\n\t\tplan_digest VARCHAR(128),\n\t\torigin_sql TEXT,\n\t\ttoken VARCHAR(128),\n\t\tupdate_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\tfail_reason TEXT,\n\t\tinstance VARCHAR(512) NOT NULL comment 'address of the TiDB instance executing the plan replayer job');"] [user=]
[2024/05/17 10:47:26.912 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:71, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:70, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:26.911 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:47:26.912 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:71, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:70, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:26.911 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.plan_replayer_status (\n\t\tsql_digest VARCHAR(128),\n\t\tplan_digest VARCHAR(128),\n\t\torigin_sql TEXT,\n\t\ttoken VARCHAR(128),\n\t\tupdate_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\tfail_reason TEXT,\n\t\tinstance VARCHAR(512) NOT NULL comment 'address of the TiDB instance executing the plan replayer job');"]
[2024/05/17 10:47:26.915 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=71] [category=ddl] [job="ID:71, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:70, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:26.911 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:26.916 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816571914747904] ["schema version"=35]
[2024/05/17 10:47:26.916 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=34] [neededSchemaVersion=35] ["start time"=193.875µs] [gotSchemaVersion=35] [phyTblIDs="[70]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:47:26.917 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:47:26.917 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=71] [version=35]
[2024/05/17 10:47:26.918 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=35] ["take time"=2.398083ms] [job="ID:71, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:70, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:26.911 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:26.919 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816571914747904] ["schema version"=35]
[2024/05/17 10:47:26.921 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=71] [job="ID:71, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:70, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:26.911 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:26.922 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816571914747904] ["schema version"=35]
[2024/05/17 10:47:26.922 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=71]
[2024/05/17 10:47:26.922 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:47:26.922 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816571914747904] ["schema version"=35]
[2024/05/17 10:47:26.923 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=35] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.plan_replayer_task (\n\t\tsql_digest VARCHAR(128) NOT NULL,\n\t\tplan_digest VARCHAR(128) NOT NULL,\n\t\tupdate_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\tPRIMARY KEY (sql_digest,plan_digest));"] [user=]
[2024/05/17 10:47:26.925 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:73, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:72, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:26.924 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:47:26.925 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:73, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:72, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:26.924 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.plan_replayer_task (\n\t\tsql_digest VARCHAR(128) NOT NULL,\n\t\tplan_digest VARCHAR(128) NOT NULL,\n\t\tupdate_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\tPRIMARY KEY (sql_digest,plan_digest));"]
[2024/05/17 10:47:26.929 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=73] [category=ddl] [job="ID:73, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:72, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:26.924 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:26.930 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816571918417920] ["schema version"=36]
[2024/05/17 10:47:26.930 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=35] [neededSchemaVersion=36] ["start time"=169.959µs] [gotSchemaVersion=36] [phyTblIDs="[72]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:47:26.931 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:47:26.931 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=73] [version=36]
[2024/05/17 10:47:26.932 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=36] ["take time"=2.006042ms] [job="ID:73, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:72, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:26.924 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:26.932 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816571918417920] ["schema version"=36]
[2024/05/17 10:47:26.935 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=73] [job="ID:73, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:72, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:26.924 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:26.937 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816571918417920] ["schema version"=36]
[2024/05/17 10:47:26.937 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=73]
[2024/05/17 10:47:26.937 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:47:26.937 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816571918417920] ["schema version"=36]
[2024/05/17 10:47:26.937 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=36] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_table_locked(\n\t\ttable_id bigint(64) NOT NULL,\n\t\tmodify_count bigint(64) NOT NULL DEFAULT 0,\n\t\tcount bigint(64) NOT NULL DEFAULT 0,\n\t\tversion bigint(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tPRIMARY KEY (table_id));"] [user=]
[2024/05/17 10:47:26.938 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:75, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:74, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:26.938 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:47:26.938 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:75, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:74, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:26.938 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_table_locked(\n\t\ttable_id bigint(64) NOT NULL,\n\t\tmodify_count bigint(64) NOT NULL DEFAULT 0,\n\t\tcount bigint(64) NOT NULL DEFAULT 0,\n\t\tversion bigint(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tPRIMARY KEY (table_id));"]
[2024/05/17 10:47:26.942 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=75] [category=ddl] [job="ID:75, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:74, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:26.938 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:26.943 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816571921825792] ["schema version"=37]
[2024/05/17 10:47:26.943 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=36] [neededSchemaVersion=37] ["start time"=270.583µs] [gotSchemaVersion=37] [phyTblIDs="[74]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:47:26.944 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:47:26.944 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=75] [version=37]
[2024/05/17 10:47:26.945 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=37] ["take time"=2.653875ms] [job="ID:75, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:74, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:26.938 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:26.946 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816571921825792] ["schema version"=37]
[2024/05/17 10:47:26.949 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=75] [job="ID:75, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:74, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:26.938 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:26.951 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816571921825792] ["schema version"=37]
[2024/05/17 10:47:26.951 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=75]
[2024/05/17 10:47:26.951 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:47:26.951 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816571921825792] ["schema version"=37]
[2024/05/17 10:47:26.952 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=37] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_ttl_table_status (\n\t\ttable_id bigint(64) PRIMARY KEY,\n        parent_table_id bigint(64),\n        table_statistics text DEFAULT NULL,\n\t\tlast_job_id varchar(64) DEFAULT NULL,\n\t\tlast_job_start_time timestamp NULL DEFAULT NULL,\n\t\tlast_job_finish_time timestamp NULL DEFAULT NULL,\n\t\tlast_job_ttl_expire timestamp NULL DEFAULT NULL,\n        last_job_summary text DEFAULT NULL,\n\t\tcurrent_job_id varchar(64) DEFAULT NULL,\n\t\tcurrent_job_owner_id varchar(64) DEFAULT NULL,\n\t\tcurrent_job_owner_addr varchar(256) DEFAULT NULL,\n\t\tcurrent_job_owner_hb_time timestamp,\n\t\tcurrent_job_start_time timestamp NULL DEFAULT NULL,\n\t\tcurrent_job_ttl_expire timestamp NULL DEFAULT NULL,\n\t\tcurrent_job_state text DEFAULT NULL,\n\t\tcurrent_job_status varchar(64) DEFAULT NULL,\n  \t\tcurrent_job_status_update_time timestamp NULL DEFAULT NULL);"] [user=]
[2024/05/17 10:47:26.953 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:77, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:76, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:26.952 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:47:26.953 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:77, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:76, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:26.952 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_ttl_table_status (\n\t\ttable_id bigint(64) PRIMARY KEY,\n        parent_table_id bigint(64),\n        table_statistics text DEFAULT NULL,\n\t\tlast_job_id varchar(64) DEFAULT NULL,\n\t\tlast_job_start_time timestamp NULL DEFAULT NULL,\n\t\tlast_job_finish_time timestamp NULL DEFAULT NULL,\n\t\tlast_job_ttl_expire timestamp NULL DEFAULT NULL,\n        last_job_summary text DEFAULT NULL,\n\t\tcurrent_job_id varchar(64) DEFAULT NULL,\n\t\tcurrent_job_owner_id varchar(64) DEFAULT NULL,\n\t\tcurrent_job_owner_addr varchar(256) DEFAULT NULL,\n\t\tcurrent_job_owner_hb_time timestamp,\n\t\tcurrent_job_start_time timestamp NULL DEFAULT NULL,\n\t\tcurrent_job_ttl_expire timestamp NULL DEFAULT NULL,\n\t\tcurrent_job_state text DEFAULT NULL,\n\t\tcurrent_job_status varchar(64) DEFAULT NULL,\n  \t\tcurrent_job_status_update_time timestamp NULL DEFAULT NULL);"]
[2024/05/17 10:47:26.958 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=77] [category=ddl] [job="ID:77, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:76, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:26.952 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:26.960 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816571926282240] ["schema version"=38]
[2024/05/17 10:47:26.960 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=37] [neededSchemaVersion=38] ["start time"=370.125µs] [gotSchemaVersion=38] [phyTblIDs="[76]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:47:26.961 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:47:26.961 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=77] [version=38]
[2024/05/17 10:47:26.963 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=38] ["take time"=2.454959ms] [job="ID:77, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:76, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:26.952 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:26.963 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816571926282240] ["schema version"=38]
[2024/05/17 10:47:26.968 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=77] [job="ID:77, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:76, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:26.952 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:26.973 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816571926282240] ["schema version"=38]
[2024/05/17 10:47:26.973 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=77]
[2024/05/17 10:47:26.973 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:47:26.973 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816571926282240] ["schema version"=38]
[2024/05/17 10:47:26.973 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=38] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_ttl_task (\n\t\tjob_id varchar(64) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tscan_id int NOT NULL,\n\t\tscan_range_start BLOB,\n\t\tscan_range_end BLOB,\n\t\texpire_time timestamp NOT NULL,\n\t\towner_id varchar(64) DEFAULT NULL,\n\t\towner_addr varchar(64) DEFAULT NULL,\n\t\towner_hb_time timestamp DEFAULT NULL,\n\t\tstatus varchar(64) DEFAULT 'waiting',\n\t\tstatus_update_time timestamp NULL DEFAULT NULL,\n\t\tstate text,\n\t\tcreated_time timestamp NOT NULL,\n\t\tprimary key(job_id, scan_id),\n\t\tkey(created_time));"] [user=]
[2024/05/17 10:47:26.976 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:79, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:78, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:26.975 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:47:26.976 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:79, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:78, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:26.975 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_ttl_task (\n\t\tjob_id varchar(64) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tscan_id int NOT NULL,\n\t\tscan_range_start BLOB,\n\t\tscan_range_end BLOB,\n\t\texpire_time timestamp NOT NULL,\n\t\towner_id varchar(64) DEFAULT NULL,\n\t\towner_addr varchar(64) DEFAULT NULL,\n\t\towner_hb_time timestamp DEFAULT NULL,\n\t\tstatus varchar(64) DEFAULT 'waiting',\n\t\tstatus_update_time timestamp NULL DEFAULT NULL,\n\t\tstate text,\n\t\tcreated_time timestamp NOT NULL,\n\t\tprimary key(job_id, scan_id),\n\t\tkey(created_time));"]
[2024/05/17 10:47:26.981 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=79] [category=ddl] [job="ID:79, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:78, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:26.975 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:26.983 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816571932049410] ["schema version"=39]
[2024/05/17 10:47:26.983 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=38] [neededSchemaVersion=39] ["start time"=383.416µs] [gotSchemaVersion=39] [phyTblIDs="[78]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:47:26.984 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:47:26.984 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=79] [version=39]
[2024/05/17 10:47:26.985 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=39] ["take time"=2.12725ms] [job="ID:79, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:78, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:26.975 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:26.985 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816571932049410] ["schema version"=39]
[2024/05/17 10:47:26.989 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=79] [job="ID:79, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:78, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:26.975 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:26.992 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816571932049410] ["schema version"=39]
[2024/05/17 10:47:26.992 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=79]
[2024/05/17 10:47:26.992 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:47:26.992 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816571932049410] ["schema version"=39]
[2024/05/17 10:47:26.992 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=39] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_ttl_job_history (\n\t\tjob_id varchar(64) PRIMARY KEY,\n\t\ttable_id bigint(64) NOT NULL,\n        parent_table_id bigint(64) NOT NULL,\n    \ttable_schema varchar(64) NOT NULL,\n\t\ttable_name varchar(64) NOT NULL,\n    \tpartition_name varchar(64) DEFAULT NULL,\n\t\tcreate_time timestamp NOT NULL,\n\t\tfinish_time timestamp NOT NULL,\n\t\tttl_expire timestamp NOT NULL,\n        summary_text text,\n\t\texpired_rows bigint(64) DEFAULT NULL,\n    \tdeleted_rows bigint(64) DEFAULT NULL,\n    \terror_delete_rows bigint(64) DEFAULT NULL,\n    \tstatus varchar(64) NOT NULL,\n    \tkey(table_schema, table_name, create_time),\n    \tkey(parent_table_id, create_time),\n    \tkey(create_time)\n\t);"] [user=]
[2024/05/17 10:47:26.995 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:81, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:80, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:26.994 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:47:26.995 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:81, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:80, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:26.994 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_ttl_job_history (\n\t\tjob_id varchar(64) PRIMARY KEY,\n\t\ttable_id bigint(64) NOT NULL,\n        parent_table_id bigint(64) NOT NULL,\n    \ttable_schema varchar(64) NOT NULL,\n\t\ttable_name varchar(64) NOT NULL,\n    \tpartition_name varchar(64) DEFAULT NULL,\n\t\tcreate_time timestamp NOT NULL,\n\t\tfinish_time timestamp NOT NULL,\n\t\tttl_expire timestamp NOT NULL,\n        summary_text text,\n\t\texpired_rows bigint(64) DEFAULT NULL,\n    \tdeleted_rows bigint(64) DEFAULT NULL,\n    \terror_delete_rows bigint(64) DEFAULT NULL,\n    \tstatus varchar(64) NOT NULL,\n    \tkey(table_schema, table_name, create_time),\n    \tkey(parent_table_id, create_time),\n    \tkey(create_time)\n\t);"]
[2024/05/17 10:47:26.999 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=81] [category=ddl] [job="ID:81, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:80, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:26.994 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:27.002 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816571937030144] ["schema version"=40]
[2024/05/17 10:47:27.002 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=39] [neededSchemaVersion=40] ["start time"=410.375µs] [gotSchemaVersion=40] [phyTblIDs="[80]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:47:27.003 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:47:27.003 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=81] [version=40]
[2024/05/17 10:47:27.004 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=40] ["take time"=2.791875ms] [job="ID:81, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:80, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:26.994 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:27.005 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816571937030144] ["schema version"=40]
[2024/05/17 10:47:27.009 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=81] [job="ID:81, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:80, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:26.994 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:27.011 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816571937030144] ["schema version"=40]
[2024/05/17 10:47:27.011 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=81]
[2024/05/17 10:47:27.011 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:47:27.011 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816571937030144] ["schema version"=40]
[2024/05/17 10:47:27.011 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=40] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_global_task (\n\t\tid BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n    \ttask_key VARCHAR(256) NOT NULL,\n\t\ttype VARCHAR(256) NOT NULL,\n\t\tdispatcher_id VARCHAR(261),\n\t\tstate VARCHAR(64) NOT NULL,\n\t\tpriority INT DEFAULT 1,\n\t\tcreate_time TIMESTAMP,\n\t\tstart_time TIMESTAMP,\n\t\tstate_update_time TIMESTAMP,\n\t\tend_time TIMESTAMP,\n\t\tmeta LONGBLOB,\n\t\tconcurrency INT(11),\n\t\tstep INT(11),\n\t\ttarget_scope VARCHAR(256) DEFAULT \"\",\n\t\terror BLOB,\n\t\tkey(state),\n      \tUNIQUE KEY task_key(task_key)\n\t);"] [user=]
[2024/05/17 10:47:27.013 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:83, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:82, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:27.012 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:47:27.013 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:83, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:82, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:27.012 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_global_task (\n\t\tid BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n    \ttask_key VARCHAR(256) NOT NULL,\n\t\ttype VARCHAR(256) NOT NULL,\n\t\tdispatcher_id VARCHAR(261),\n\t\tstate VARCHAR(64) NOT NULL,\n\t\tpriority INT DEFAULT 1,\n\t\tcreate_time TIMESTAMP,\n\t\tstart_time TIMESTAMP,\n\t\tstate_update_time TIMESTAMP,\n\t\tend_time TIMESTAMP,\n\t\tmeta LONGBLOB,\n\t\tconcurrency INT(11),\n\t\tstep INT(11),\n\t\ttarget_scope VARCHAR(256) DEFAULT \"\",\n\t\terror BLOB,\n\t\tkey(state),\n      \tUNIQUE KEY task_key(task_key)\n\t);"]
[2024/05/17 10:47:27.020 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=83] [category=ddl] [job="ID:83, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:82, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:27.012 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:27.025 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816571943059456] ["schema version"=41]
[2024/05/17 10:47:27.025 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=40] [neededSchemaVersion=41] ["start time"=517.5µs] [gotSchemaVersion=41] [phyTblIDs="[82]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:47:27.026 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:47:27.026 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=83] [version=41]
[2024/05/17 10:47:27.028 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=41] ["take time"=4.00775ms] [job="ID:83, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:82, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:27.012 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:27.030 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816571943059456] ["schema version"=41]
[2024/05/17 10:47:27.037 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=83] [job="ID:83, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:82, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:27.012 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:27.041 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816571943059456] ["schema version"=41]
[2024/05/17 10:47:27.042 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=83]
[2024/05/17 10:47:27.042 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:47:27.042 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816571943059456] ["schema version"=41]
[2024/05/17 10:47:27.042 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=41] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_global_task_history (\n\t\tid BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n    \ttask_key VARCHAR(256) NOT NULL,\n\t\ttype VARCHAR(256) NOT NULL,\n\t\tdispatcher_id VARCHAR(261),\n\t\tstate VARCHAR(64) NOT NULL,\n\t\tpriority INT DEFAULT 1,\n\t\tcreate_time TIMESTAMP,\n\t\tstart_time TIMESTAMP,\n\t\tstate_update_time TIMESTAMP,\n\t\tend_time TIMESTAMP,\n\t\tmeta LONGBLOB,\n\t\tconcurrency INT(11),\n\t\tstep INT(11),\n\t\ttarget_scope VARCHAR(256) DEFAULT \"\",\n\t\terror BLOB,\n\t\tkey(state),\n      \tUNIQUE KEY task_key(task_key)\n\t);"] [user=]
[2024/05/17 10:47:27.045 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:85, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:84, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:27.043 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:47:27.047 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:85, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:84, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:27.043 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_global_task_history (\n\t\tid BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n    \ttask_key VARCHAR(256) NOT NULL,\n\t\ttype VARCHAR(256) NOT NULL,\n\t\tdispatcher_id VARCHAR(261),\n\t\tstate VARCHAR(64) NOT NULL,\n\t\tpriority INT DEFAULT 1,\n\t\tcreate_time TIMESTAMP,\n\t\tstart_time TIMESTAMP,\n\t\tstate_update_time TIMESTAMP,\n\t\tend_time TIMESTAMP,\n\t\tmeta LONGBLOB,\n\t\tconcurrency INT(11),\n\t\tstep INT(11),\n\t\ttarget_scope VARCHAR(256) DEFAULT \"\",\n\t\terror BLOB,\n\t\tkey(state),\n      \tUNIQUE KEY task_key(task_key)\n\t);"]
[2024/05/17 10:47:27.052 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=85] [category=ddl] [job="ID:85, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:84, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:27.043 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:27.056 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816571951448064] ["schema version"=42]
[2024/05/17 10:47:27.056 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=41] [neededSchemaVersion=42] ["start time"=386.416µs] [gotSchemaVersion=42] [phyTblIDs="[84]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:47:27.057 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:47:27.057 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=85] [version=42]
[2024/05/17 10:47:27.058 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=42] ["take time"=2.305ms] [job="ID:85, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:84, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:27.043 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:27.059 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816571951448064] ["schema version"=42]
[2024/05/17 10:47:27.063 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=85] [job="ID:85, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:84, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:27.043 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:27.064 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816571951448064] ["schema version"=42]
[2024/05/17 10:47:27.065 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=85]
[2024/05/17 10:47:27.065 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:47:27.065 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816571951448064] ["schema version"=42]
[2024/05/17 10:47:27.065 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=42] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_import_jobs (\n\t\tid bigint(64) NOT NULL AUTO_INCREMENT,\n\t\tcreate_time TIMESTAMP(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6),\n\t\tstart_time TIMESTAMP(6) NULL DEFAULT NULL,\n\t\tupdate_time TIMESTAMP(6) NULL DEFAULT NULL,\n\t\tend_time TIMESTAMP(6) NULL DEFAULT NULL,\n\t\ttable_schema VARCHAR(64) NOT NULL,\n\t\ttable_name VARCHAR(64) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tcreated_by VARCHAR(300) NOT NULL,\n\t\tparameters text NOT NULL,\n\t\tsource_file_size bigint(64) NOT NULL,\n\t\tstatus VARCHAR(64) NOT NULL,\n\t\tstep VARCHAR(64) NOT NULL,\n\t\tsummary text DEFAULT NULL,\n\t\terror_message TEXT DEFAULT NULL,\n\t\tPRIMARY KEY (id),\n\t\tKEY (created_by),\n\t\tKEY (status));"] [user=]
[2024/05/17 10:47:27.066 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:87, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:86, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:27.065 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:47:27.067 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:87, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:86, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:27.065 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_import_jobs (\n\t\tid bigint(64) NOT NULL AUTO_INCREMENT,\n\t\tcreate_time TIMESTAMP(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6),\n\t\tstart_time TIMESTAMP(6) NULL DEFAULT NULL,\n\t\tupdate_time TIMESTAMP(6) NULL DEFAULT NULL,\n\t\tend_time TIMESTAMP(6) NULL DEFAULT NULL,\n\t\ttable_schema VARCHAR(64) NOT NULL,\n\t\ttable_name VARCHAR(64) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tcreated_by VARCHAR(300) NOT NULL,\n\t\tparameters text NOT NULL,\n\t\tsource_file_size bigint(64) NOT NULL,\n\t\tstatus VARCHAR(64) NOT NULL,\n\t\tstep VARCHAR(64) NOT NULL,\n\t\tsummary text DEFAULT NULL,\n\t\terror_message TEXT DEFAULT NULL,\n\t\tPRIMARY KEY (id),\n\t\tKEY (created_by),\n\t\tKEY (status));"]
[2024/05/17 10:47:27.071 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=87] [category=ddl] [job="ID:87, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:86, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:27.065 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:27.073 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816571955904512] ["schema version"=43]
[2024/05/17 10:47:27.074 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=42] [neededSchemaVersion=43] ["start time"=372.042µs] [gotSchemaVersion=43] [phyTblIDs="[86]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:47:27.074 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:47:27.074 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=87] [version=43]
[2024/05/17 10:47:27.076 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=43] ["take time"=2.805042ms] [job="ID:87, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:86, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:27.065 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:27.076 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816571955904512] ["schema version"=43]
[2024/05/17 10:47:27.080 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=87] [job="ID:87, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:86, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:27.065 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:27.082 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816571955904512] ["schema version"=43]
[2024/05/17 10:47:27.082 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=87]
[2024/05/17 10:47:27.082 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:47:27.082 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816571955904512] ["schema version"=43]
[2024/05/17 10:47:27.082 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=43] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_runaway_watch (\n\t\tid BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n\t\tresource_group_name varchar(32) not null,\n\t\tstart_time datetime(6) NOT NULL,\n\t\tend_time datetime(6),\n\t\twatch bigint(10) NOT NULL,\n\t\twatch_text TEXT NOT NULL,\n\t\tsource varchar(512) NOT NULL,\n\t\taction bigint(10),\n\t\tINDEX sql_index(resource_group_name,watch_text(700)) COMMENT \"accelerate the speed when select quarantined query\",\n\t\tINDEX time_index(end_time) COMMENT \"accelerate the speed when querying with active watch\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"] [user=]
[2024/05/17 10:47:27.086 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:89, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:88, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:27.083 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:47:27.086 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:89, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:88, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:27.083 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_runaway_watch (\n\t\tid BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n\t\tresource_group_name varchar(32) not null,\n\t\tstart_time datetime(6) NOT NULL,\n\t\tend_time datetime(6),\n\t\twatch bigint(10) NOT NULL,\n\t\twatch_text TEXT NOT NULL,\n\t\tsource varchar(512) NOT NULL,\n\t\taction bigint(10),\n\t\tINDEX sql_index(resource_group_name,watch_text(700)) COMMENT \"accelerate the speed when select quarantined query\",\n\t\tINDEX time_index(end_time) COMMENT \"accelerate the speed when querying with active watch\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"]
[2024/05/17 10:47:27.089 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=89] [category=ddl] [job="ID:89, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:88, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:27.083 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:27.091 +08:00] [WARN] [runaway.go:166] ["failed to start runaway manager loop, please check whether the bootstrap or update is finished"] [error="[schema:1146]Table 'mysql.tidb_runaway_watch' doesn't exist"] [errorVerbose="[schema:1146]Table 'mysql.tidb_runaway_watch' doesn't exist\ngithub.com/pingcap/errors.AddStack\n\t/Users/bba/.gvm/pkgsets/go1.21.0/global/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20240318064555-6bd07397691f/errors.go:178\ngithub.com/pingcap/errors.Trace\n\t/Users/bba/.gvm/pkgsets/go1.21.0/global/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20240318064555-6bd07397691f/juju_adaptor.go:15\ngithub.com/pingcap/tidb/pkg/planner/core.Preprocess\n\t/Users/bba/pc/tidb/pkg/planner/core/preprocess.go:141\ngithub.com/pingcap/tidb/pkg/executor.(*Compiler).Compile\n\t/Users/bba/pc/tidb/pkg/executor/compiler.go:67\ngithub.com/pingcap/tidb/pkg/session.(*session).ExecuteStmt\n\t/Users/bba/pc/tidb/pkg/session/session.go:2094\ngithub.com/pingcap/tidb/pkg/session.(*session).ExecuteInternalStmt\n\t/Users/bba/pc/tidb/pkg/session/session.go:1998\ngithub.com/pingcap/tidb/pkg/session.(*session).ExecRestrictedSQL.func1\n\t/Users/bba/pc/tidb/pkg/session/session.go:1963\ngithub.com/pingcap/tidb/pkg/session.(*session).withRestrictedSQLExecutor\n\t/Users/bba/pc/tidb/pkg/session/session.go:1949\ngithub.com/pingcap/tidb/pkg/session.(*session).ExecRestrictedSQL\n\t/Users/bba/pc/tidb/pkg/session/session.go:1953\ngithub.com/pingcap/tidb/pkg/domain.(*SystemTableReader).Read\n\t/Users/bba/pc/tidb/pkg/domain/runaway.go:655\ngithub.com/pingcap/tidb/pkg/domain.getRunawayWatchRecord\n\t/Users/bba/pc/tidb/pkg/domain/runaway.go:543\ngithub.com/pingcap/tidb/pkg/domain.(*runawaySyncer).getWatchRecord\n\t/Users/bba/pc/tidb/pkg/domain/runaway.go:526\ngithub.com/pingcap/tidb/pkg/domain.(*runawaySyncer).getNewWatchRecords\n\t/Users/bba/pc/tidb/pkg/domain/runaway.go:509\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).updateNewAndDoneWatch\n\t/Users/bba/pc/tidb/pkg/domain/runaway.go:177\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).runawayStartLoop\n\t/Users/bba/pc/tidb/pkg/domain/runaway.go:156\ngithub.com/pingcap/tidb/pkg/util.(*WaitGroupEnhancedWrapper).Run.func1\n\t/Users/bba/pc/tidb/pkg/util/wait_group_wrapper.go:99\nruntime.goexit\n\t/Users/bba/.gvm/gos/go1.21.0/src/runtime/asm_arm64.s:1197"]
[2024/05/17 10:47:27.092 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816571960885248] ["schema version"=44]
[2024/05/17 10:47:27.092 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=43] [neededSchemaVersion=44] ["start time"=263.375µs] [gotSchemaVersion=44] [phyTblIDs="[88]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:47:27.093 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816571960885248] ["schema version"=44]
[2024/05/17 10:47:27.093 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:47:27.093 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=89] [version=44]
[2024/05/17 10:47:27.094 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=44] ["take time"=2.191833ms] [job="ID:89, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:88, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:27.083 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:27.095 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816571960885248] ["schema version"=44]
[2024/05/17 10:47:27.099 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=89] [job="ID:89, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:88, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:27.083 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:27.101 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816571960885248] ["schema version"=44]
[2024/05/17 10:47:27.102 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=89]
[2024/05/17 10:47:27.102 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:47:27.102 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816571960885248] ["schema version"=44]
[2024/05/17 10:47:27.102 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=44] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_runaway_queries (\n\t\tresource_group_name varchar(32) not null,\n\t\ttime TIMESTAMP NOT NULL,\n\t\tmatch_type varchar(12) NOT NULL,\n\t\taction varchar(12) NOT NULL,\n\t\toriginal_sql TEXT NOT NULL,\n\t\tplan_digest TEXT NOT NULL,\n\t\ttidb_server varchar(512),\n\t\tINDEX plan_index(plan_digest(64)) COMMENT \"accelerate the speed when select runaway query\",\n\t\tINDEX time_index(time) COMMENT \"accelerate the speed when querying with active watch\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"] [user=]
[2024/05/17 10:47:27.104 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:91, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:90, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:27.103 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:47:27.104 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:91, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:90, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:27.103 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_runaway_queries (\n\t\tresource_group_name varchar(32) not null,\n\t\ttime TIMESTAMP NOT NULL,\n\t\tmatch_type varchar(12) NOT NULL,\n\t\taction varchar(12) NOT NULL,\n\t\toriginal_sql TEXT NOT NULL,\n\t\tplan_digest TEXT NOT NULL,\n\t\ttidb_server varchar(512),\n\t\tINDEX plan_index(plan_digest(64)) COMMENT \"accelerate the speed when select runaway query\",\n\t\tINDEX time_index(time) COMMENT \"accelerate the speed when querying with active watch\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"]
[2024/05/17 10:47:27.107 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=91] [category=ddl] [job="ID:91, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:90, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:27.103 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:27.109 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816571965341696] ["schema version"=45]
[2024/05/17 10:47:27.109 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=44] [neededSchemaVersion=45] ["start time"=278.625µs] [gotSchemaVersion=45] [phyTblIDs="[90]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:47:27.110 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:47:27.110 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=91] [version=45]
[2024/05/17 10:47:27.111 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=45] ["take time"=2.296833ms] [job="ID:91, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:90, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:27.103 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:27.112 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816571965341696] ["schema version"=45]
[2024/05/17 10:47:27.115 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=91] [job="ID:91, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:90, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:27.103 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:27.117 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816571965341696] ["schema version"=45]
[2024/05/17 10:47:27.117 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=91]
[2024/05/17 10:47:27.117 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:47:27.117 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816571965341696] ["schema version"=45]
[2024/05/17 10:47:27.117 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=45] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS `mysql`.`tidb_timers` (\n\t\tID BIGINT(64) UNSIGNED NOT NULL AUTO_INCREMENT,\n\t\tNAMESPACE VARCHAR(256) NOT NULL,\n\t\tTIMER_KEY VARCHAR(256) NOT NULL,\n\t\tTIMER_DATA BLOB,\n\t\tTIMEZONE VARCHAR(64) NOT NULL,\n\t\tSCHED_POLICY_TYPE VARCHAR(32) NOT NULL,\n\t\tSCHED_POLICY_EXPR VARCHAR(256) NOT NULL,\n\t\tHOOK_CLASS VARCHAR(64) NOT NULL,\n\t\tWATERMARK TIMESTAMP DEFAULT NULL,\n\t\tENABLE TINYINT(2) NOT NULL,\n\t\tTIMER_EXT JSON NOT NULL,\n\t\tEVENT_STATUS VARCHAR(32) NOT NULL,\n\t\tEVENT_ID VARCHAR(64) NOT NULL,\n\t\tEVENT_DATA BLOB,\n\t\tEVENT_START TIMESTAMP DEFAULT NULL,\n\t\tSUMMARY_DATA BLOB,\n\t\tCREATE_TIME TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,\n\t\tUPDATE_TIME TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\tVERSION BIGINT(64) UNSIGNED NOT NULL,\n\t\tPRIMARY KEY (ID),\n\t\tUNIQUE KEY timer_key(NAMESPACE, TIMER_KEY),\n\t\tKEY hook_class(HOOK_CLASS)\n\t)"] [user=]
[2024/05/17 10:47:27.119 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:93, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:92, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:27.118 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:47:27.119 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:93, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:92, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:27.118 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS `mysql`.`tidb_timers` (\n\t\tID BIGINT(64) UNSIGNED NOT NULL AUTO_INCREMENT,\n\t\tNAMESPACE VARCHAR(256) NOT NULL,\n\t\tTIMER_KEY VARCHAR(256) NOT NULL,\n\t\tTIMER_DATA BLOB,\n\t\tTIMEZONE VARCHAR(64) NOT NULL,\n\t\tSCHED_POLICY_TYPE VARCHAR(32) NOT NULL,\n\t\tSCHED_POLICY_EXPR VARCHAR(256) NOT NULL,\n\t\tHOOK_CLASS VARCHAR(64) NOT NULL,\n\t\tWATERMARK TIMESTAMP DEFAULT NULL,\n\t\tENABLE TINYINT(2) NOT NULL,\n\t\tTIMER_EXT JSON NOT NULL,\n\t\tEVENT_STATUS VARCHAR(32) NOT NULL,\n\t\tEVENT_ID VARCHAR(64) NOT NULL,\n\t\tEVENT_DATA BLOB,\n\t\tEVENT_START TIMESTAMP DEFAULT NULL,\n\t\tSUMMARY_DATA BLOB,\n\t\tCREATE_TIME TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,\n\t\tUPDATE_TIME TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\tVERSION BIGINT(64) UNSIGNED NOT NULL,\n\t\tPRIMARY KEY (ID),\n\t\tUNIQUE KEY timer_key(NAMESPACE, TIMER_KEY),\n\t\tKEY hook_class(HOOK_CLASS)\n\t)"]
[2024/05/17 10:47:27.123 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=93] [category=ddl] [job="ID:93, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:92, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:27.118 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:27.125 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816571969273856] ["schema version"=46]
[2024/05/17 10:47:27.125 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=45] [neededSchemaVersion=46] ["start time"=420.25µs] [gotSchemaVersion=46] [phyTblIDs="[92]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:47:27.126 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:47:27.126 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=93] [version=46]
[2024/05/17 10:47:27.127 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=46] ["take time"=2.117125ms] [job="ID:93, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:92, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:27.118 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:27.127 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816571969273856] ["schema version"=46]
[2024/05/17 10:47:27.131 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=93] [job="ID:93, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:92, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:27.118 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:27.133 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816571969273856] ["schema version"=46]
[2024/05/17 10:47:27.133 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=93]
[2024/05/17 10:47:27.133 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:47:27.134 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816571969273856] ["schema version"=46]
[2024/05/17 10:47:27.134 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=46] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_runaway_watch_done (\n\t\tid BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n\t\trecord_id BIGINT(20) not null,\n\t\tresource_group_name varchar(32) not null,\n\t\tstart_time datetime(6) NOT NULL,\n\t\tend_time datetime(6),\n\t\twatch bigint(10) NOT NULL,\n\t\twatch_text TEXT NOT NULL,\n\t\tsource varchar(512) NOT NULL,\n\t\taction bigint(10),\n\t\tdone_time TIMESTAMP(6) NOT NULL\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"] [user=]
[2024/05/17 10:47:27.136 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:95, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:94, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:27.135 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:47:27.136 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:95, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:94, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:27.135 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_runaway_watch_done (\n\t\tid BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n\t\trecord_id BIGINT(20) not null,\n\t\tresource_group_name varchar(32) not null,\n\t\tstart_time datetime(6) NOT NULL,\n\t\tend_time datetime(6),\n\t\twatch bigint(10) NOT NULL,\n\t\twatch_text TEXT NOT NULL,\n\t\tsource varchar(512) NOT NULL,\n\t\taction bigint(10),\n\t\tdone_time TIMESTAMP(6) NOT NULL\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"]
[2024/05/17 10:47:27.139 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=95] [category=ddl] [job="ID:95, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:94, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:27.135 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:27.141 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816571973468162] ["schema version"=47]
[2024/05/17 10:47:27.141 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=46] [neededSchemaVersion=47] ["start time"=265.958µs] [gotSchemaVersion=47] [phyTblIDs="[94]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:47:27.141 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:47:27.141 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=95] [version=47]
[2024/05/17 10:47:27.142 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=47] ["take time"=2.063334ms] [job="ID:95, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:94, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:27.135 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:27.143 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816571973468162] ["schema version"=47]
[2024/05/17 10:47:27.146 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=95] [job="ID:95, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:94, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:27.135 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:27.148 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816571973468162] ["schema version"=47]
[2024/05/17 10:47:27.148 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=95]
[2024/05/17 10:47:27.148 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:47:27.148 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816571973468162] ["schema version"=47]
[2024/05/17 10:47:27.148 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=47] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.dist_framework_meta (\n        host VARCHAR(261) NOT NULL PRIMARY KEY,\n        role VARCHAR(64),\n        cpu_count int default 0,\n        keyspace_id bigint(8) NOT NULL DEFAULT -1\n    );"] [user=]
[2024/05/17 10:47:27.149 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:97, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:96, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:27.149 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:47:27.149 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:97, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:96, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:27.149 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.dist_framework_meta (\n        host VARCHAR(261) NOT NULL PRIMARY KEY,\n        role VARCHAR(64),\n        cpu_count int default 0,\n        keyspace_id bigint(8) NOT NULL DEFAULT -1\n    );"]
[2024/05/17 10:47:27.152 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=97] [category=ddl] [job="ID:97, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:96, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:27.149 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:27.154 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816571977138176] ["schema version"=48]
[2024/05/17 10:47:27.154 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=47] [neededSchemaVersion=48] ["start time"=198.417µs] [gotSchemaVersion=48] [phyTblIDs="[96]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:47:27.155 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:47:27.155 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=97] [version=48]
[2024/05/17 10:47:27.156 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=48] ["take time"=2.0235ms] [job="ID:97, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:96, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:27.149 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:27.156 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816571977138176] ["schema version"=48]
[2024/05/17 10:47:27.160 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=97] [job="ID:97, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:96, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:27.149 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:27.161 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816571977138176] ["schema version"=48]
[2024/05/17 10:47:27.161 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=97]
[2024/05/17 10:47:27.161 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:47:27.161 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816571977138176] ["schema version"=48]
[2024/05/17 10:47:27.162 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=48] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.request_unit_by_group (\n\t\tstart_time TIMESTAMP(6) NOT NULL,\n\t\tend_time TIMESTAMP(6) NOT NULL,\n\t\tresource_group VARCHAR(32) NOT null,\n\t\ttotal_ru bigint(64) UNSIGNED NOT NULL,\n\t\tPRIMARY KEY (start_time, end_time, resource_group),\n\t\tKEY (resource_group)\n\t);"] [user=]
[2024/05/17 10:47:27.163 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:99, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:98, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:27.162 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:47:27.163 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:99, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:98, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:27.162 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.request_unit_by_group (\n\t\tstart_time TIMESTAMP(6) NOT NULL,\n\t\tend_time TIMESTAMP(6) NOT NULL,\n\t\tresource_group VARCHAR(32) NOT null,\n\t\ttotal_ru bigint(64) UNSIGNED NOT NULL,\n\t\tPRIMARY KEY (start_time, end_time, resource_group),\n\t\tKEY (resource_group)\n\t);"]
[2024/05/17 10:47:27.166 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=99] [category=ddl] [job="ID:99, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:98, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:27.162 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:27.167 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816571980546048] ["schema version"=49]
[2024/05/17 10:47:27.167 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=48] [neededSchemaVersion=49] ["start time"=218.833µs] [gotSchemaVersion=49] [phyTblIDs="[98]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:47:27.168 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:47:27.168 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=99] [version=49]
[2024/05/17 10:47:27.169 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=49] ["take time"=2.105833ms] [job="ID:99, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:98, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:27.162 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:27.170 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816571980546048] ["schema version"=49]
[2024/05/17 10:47:27.173 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=99] [job="ID:99, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:98, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:27.162 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:27.175 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816571980546048] ["schema version"=49]
[2024/05/17 10:47:27.175 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=99]
[2024/05/17 10:47:27.175 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:47:27.175 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816571980546048] ["schema version"=49]
[2024/05/17 10:47:27.175 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=49] [cur_db=mysql] [sql="CREATE DATABASE IF NOT EXISTS sys;"] [user=]
[2024/05/17 10:47:27.177 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:101, Type:create schema, State:queueing, SchemaState:none, SchemaID:100, TableID:0, RowCount:0, ArgLen:1, start time: 2024-05-17 10:47:27.176 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:47:27.177 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:101, Type:create schema, State:queueing, SchemaState:none, SchemaID:100, TableID:0, RowCount:0, ArgLen:1, start time: 2024-05-17 10:47:27.176 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE DATABASE IF NOT EXISTS sys;"]
[2024/05/17 10:47:27.180 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=101] [category=ddl] [job="ID:101, Type:create schema, State:queueing, SchemaState:none, SchemaID:100, TableID:0, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:27.176 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:27.182 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816571984216066] ["schema version"=50]
[2024/05/17 10:47:27.182 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=49] [neededSchemaVersion=50] ["start time"=59.542µs] [gotSchemaVersion=50] [phyTblIDs="[]"] [actionTypes="[]"] [diffTypes="[\"create schema\"]"]
[2024/05/17 10:47:27.182 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:47:27.182 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=101] [version=50]
[2024/05/17 10:47:27.184 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=50] ["take time"=2.494125ms] [job="ID:101, Type:create schema, State:done, SchemaState:public, SchemaID:100, TableID:0, RowCount:0, ArgLen:1, start time: 2024-05-17 10:47:27.176 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:27.185 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816571984216066] ["schema version"=50]
[2024/05/17 10:47:27.187 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=101] [job="ID:101, Type:create schema, State:synced, SchemaState:public, SchemaID:100, TableID:0, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:27.176 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:27.189 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816571984216066] ["schema version"=50]
[2024/05/17 10:47:27.189 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=101]
[2024/05/17 10:47:27.189 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:47:27.189 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816571984216066] ["schema version"=50]
[2024/05/17 10:47:27.190 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:103, Type:create view, State:queueing, SchemaState:none, SchemaID:100, TableID:102, RowCount:0, ArgLen:3, start time: 2024-05-17 10:47:27.19 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:47:27.190 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:103, Type:create view, State:queueing, SchemaState:none, SchemaID:100, TableID:102, RowCount:0, ArgLen:3, start time: 2024-05-17 10:47:27.19 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE OR REPLACE VIEW sys.schema_unused_indexes AS\n\t\tSELECT\n\t\t\ttable_schema as object_schema,\n\t\t\ttable_name as object_name,\n\t\t\tindex_name\n\t\tFROM information_schema.cluster_tidb_index_usage\n\t\tWHERE\n\t\t\ttable_schema not in ('sys', 'mysql', 'INFORMATION_SCHEMA', 'PERFORMANCE_SCHEMA') and\n\t\t\tindex_name != 'PRIMARY'\n\t\tGROUP BY table_schema, table_name, index_name\n\t\tHAVING\n\t\t\tsum(last_access_time) is null;"]
[2024/05/17 10:47:27.194 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=103] [category=ddl] [job="ID:103, Type:create view, State:queueing, SchemaState:none, SchemaID:100, TableID:102, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:27.19 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:27.195 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816571987886080] ["schema version"=51]
[2024/05/17 10:47:27.195 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=50] [neededSchemaVersion=51] ["start time"=169.833µs] [gotSchemaVersion=51] [phyTblIDs="[102]"] [actionTypes="[21]"] [diffTypes="[\"create view\"]"]
[2024/05/17 10:47:27.196 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:47:27.196 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=103] [version=51]
[2024/05/17 10:47:27.197 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=51] ["take time"=2.132625ms] [job="ID:103, Type:create view, State:done, SchemaState:public, SchemaID:100, TableID:102, RowCount:0, ArgLen:3, start time: 2024-05-17 10:47:27.19 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:27.197 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816571987886080] ["schema version"=51]
[2024/05/17 10:47:27.201 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=103] [job="ID:103, Type:create view, State:synced, SchemaState:public, SchemaID:100, TableID:102, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:27.19 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:27.202 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816571987886080] ["schema version"=51]
[2024/05/17 10:47:27.203 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=103]
[2024/05/17 10:47:27.203 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:47:27.203 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816571987886080] ["schema version"=51]
[2024/05/17 10:47:27.213 +08:00] [INFO] [bootstrap.go:745] ["bootstrap successful"] ["take time"=1.122535292s]
[2024/05/17 10:47:27.214 +08:00] [INFO] [mock.go:106] ["owner manager is canceled"] [category=ddl] [ID=5a00f956-28da-47b6-abad-2deab8110637] [ownerKey=/tidb/ddl/fg/owner]
[2024/05/17 10:47:27.214 +08:00] [INFO] [ddl_workerpool.go:82] ["closing workerPool"] [category=ddl]
[2024/05/17 10:47:27.214 +08:00] [INFO] [ddl_worker.go:188] ["DDL worker closed"] [worker="worker 2, tp add index"] [category=ddl] ["take time"=792ns]
[2024/05/17 10:47:27.214 +08:00] [INFO] [ddl_workerpool.go:82] ["closing workerPool"] [category=ddl]
[2024/05/17 10:47:27.214 +08:00] [INFO] [ddl_worker.go:188] ["DDL worker closed"] [worker="worker 1, tp general"] [category=ddl] ["take time"=333ns]
[2024/05/17 10:47:27.214 +08:00] [INFO] [ddl_workerpool.go:82] ["closing workerPool"] [category=ddl]
[2024/05/17 10:47:27.214 +08:00] [INFO] [delete_range.go:162] ["closing delRange"] [category=ddl]
[2024/05/17 10:47:27.214 +08:00] [INFO] [session_pool.go:99] ["closing session pool"] [category=ddl]
[2024/05/17 10:47:27.215 +08:00] [INFO] [ddl.go:951] ["DDL closed"] [category=ddl] [ID=5a00f956-28da-47b6-abad-2deab8110637] ["take time"=1.664ms]
[2024/05/17 10:47:27.215 +08:00] [INFO] [ddl.go:769] ["stop DDL"] [category=ddl] [ID=5a00f956-28da-47b6-abad-2deab8110637]
[2024/05/17 10:47:27.215 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=mdlCheckLoop]
[2024/05/17 10:47:27.215 +08:00] [INFO] [domain.go:977] ["loadSchemaInLoop exited."]
[2024/05/17 10:47:27.215 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=loadSchemaInLoop]
[2024/05/17 10:47:27.215 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=runawayStartLoop]
[2024/05/17 10:47:27.215 +08:00] [INFO] [domain.go:831] ["topologySyncerKeeper exited."]
[2024/05/17 10:47:27.215 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=topologySyncerKeeper]
[2024/05/17 10:47:27.215 +08:00] [INFO] [domain.go:807] ["globalConfigSyncerKeeper exited."]
[2024/05/17 10:47:27.215 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=globalConfigSyncerKeeper]
[2024/05/17 10:47:27.215 +08:00] [INFO] [domain.go:781] ["infoSyncerKeeper exited."]
[2024/05/17 10:47:27.215 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=infoSyncerKeeper]
[2024/05/17 10:47:27.215 +08:00] [INFO] [domain.go:753] ["topNSlowQueryLoop exited."]
[2024/05/17 10:47:27.215 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=topNSlowQueryLoop]
[2024/05/17 10:47:27.215 +08:00] [INFO] [domain.go:1431] ["closestReplicaReadCheckLoop exited."]
[2024/05/17 10:47:27.215 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=closestReplicaReadCheckLoop]
[2024/05/17 10:47:27.215 +08:00] [INFO] [domain.go:1144] ["domain closed"] ["take time"=1.764791ms]
[2024/05/17 10:47:27.215 +08:00] [INFO] [tidb.go:80] ["new domain"] [store=1f268bfa-a77e-4afd-9b69-c516277e9b6c] ["ddl lease"=500ms] ["stats lease"=-1ns]
[2024/05/17 10:47:27.216 +08:00] [WARN] [controller.go:198] ["[resource group controller] server does not save config, load config failed"]
[2024/05/17 10:47:27.216 +08:00] [INFO] [controller.go:185] ["load resource controller config"] [config="{\"degraded-mode-wait-duration\":\"0s\",\"ltb-max-wait-duration\":\"30s\",\"wait-retry-interval\":\"50ms\",\"wait-retry-times\":10,\"request-unit\":{\"read-base-cost\":0.125,\"read-per-batch-base-cost\":0.5,\"read-cost-per-byte\":0.0000152587890625,\"write-base-cost\":1,\"write-per-batch-base-cost\":1,\"write-cost-per-byte\":0.0009765625,\"read-cpu-ms-cost\":0.3333333333333333},\"enable-controller-trace-log\":\"false\"}"] [ru-config="{\"ReadBaseCost\":0.125,\"ReadPerBatchBaseCost\":0.5,\"ReadBytesCost\":0.0000152587890625,\"WriteBaseCost\":1,\"WritePerBatchBaseCost\":1,\"WriteBytesCost\":0.0009765625,\"CPUMsCost\":0.3333333333333333,\"LTBMaxWaitDuration\":30000000000,\"WaitRetryInterval\":50000000,\"WaitRetryTimes\":10,\"DegradedModeWaitDuration\":0}"]
[2024/05/17 10:47:27.227 +08:00] [INFO] [domain.go:385] ["full load InfoSchema success"] [currentSchemaVersion=0] [neededSchemaVersion=51] ["start time"=10.099709ms]
[2024/05/17 10:47:27.231 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816571987886080] ["schema version"=51]
[2024/05/17 10:47:27.231 +08:00] [INFO] [domain.go:705] ["full load and reset schema validator"]
[2024/05/17 10:47:27.231 +08:00] [INFO] [ddl.go:818] ["start DDL"] [category=ddl] [ID=049754c9-f5de-417c-a627-c2d87ca09da9] [runWorker=true]
[2024/05/17 10:47:27.231 +08:00] [INFO] [ddl.go:777] ["start delRangeManager OK"] [category=ddl] ["is a emulator"=true]
[2024/05/17 10:47:27.231 +08:00] [WARN] [env.go:51] ["initialize environment failed"] [category=ddl-ingest] ["storage limitation"="only support TiKV storage"] ["current storage"=unistore] ["lightning is initialized"=false]
[2024/05/17 10:47:27.231 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=loadSchemaInLoop]
[2024/05/17 10:47:27.231 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=mdlCheckLoop]
[2024/05/17 10:47:27.231 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=topNSlowQueryLoop]
[2024/05/17 10:47:27.231 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=infoSyncerKeeper]
[2024/05/17 10:47:27.231 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=globalConfigSyncerKeeper]
[2024/05/17 10:47:27.231 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=runawayStartLoop]
[2024/05/17 10:47:27.231 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=requestUnitsWriterLoop]
[2024/05/17 10:47:27.231 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=topologySyncerKeeper]
[2024/05/17 10:47:27.231 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=closestReplicaReadCheckLoop]
[2024/05/17 10:47:27.231 +08:00] [WARN] [domain.go:1396] ["pd / etcd client not provided, won't begin Advancer."]
[2024/05/17 10:47:27.239 +08:00] [INFO] [delete_range.go:172] ["start delRange emulator"] [category=ddl]
[2024/05/17 10:47:27.239 +08:00] [INFO] [job_table.go:334] ["get global state and global state change"] [category=ddl] [oldState=false] [currState=false]
[2024/05/17 10:47:27.239 +08:00] [INFO] [runaway.go:149] ["try to start runaway manager loop"]
[2024/05/17 10:47:27.239 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=requestUnitsWriterLoop]
[2024/05/17 10:47:27.271 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=globalBindHandleWorkerLoop]
[2024/05/17 10:47:27.271 +08:00] [WARN] [sysvar_cache.go:49] ["sysvar cache is empty, triggering rebuild"]
[2024/05/17 10:47:27.272 +08:00] [INFO] [sysvar.go:2748] ["set resource control"] [enable=true]
[2024/05/17 10:47:27.272 +08:00] [INFO] [controller.go:447] ["[resource group controller] create resource group cost controller"] [name=default]
[2024/05/17 10:47:27.276 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=loadPrivilegeInLoop]
[2024/05/17 10:47:27.277 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=LoadSysVarCacheLoop]
[2024/05/17 10:47:27.277 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=dumpFileGcChecker]
[2024/05/17 10:47:27.277 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=indexUsageWorker]
[2024/05/17 10:47:27.277 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=quitStatsOwner]
[2024/05/17 10:47:27.277 +08:00] [INFO] [domain.go:2340] ["start load stats sub workers"] ["worker count"=5]
[2024/05/17 10:47:27.277 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=loadSigningCertLoop]
[2024/05/17 10:47:27.277 +08:00] [INFO] [manager.go:113] ["build task executor manager"] [server-id=:4000] [total-cpu=1] [total-mem=32GiB]
[2024/05/17 10:47:27.278 +08:00] [INFO] [domain.go:2140] ["dumpFileGcChecker started"]
[2024/05/17 10:47:27.278 +08:00] [INFO] [task_manager.go:217] ["scale ttl worker"] [ttl-worker=job-manager] [ttl-worker=task-manager] [originalCount=0] [newCount=4]
[2024/05/17 10:47:27.278 +08:00] [INFO] [task_manager.go:217] ["scale ttl worker"] [ttl-worker=job-manager] [ttl-worker=task-manager] [originalCount=0] [newCount=4]
[2024/05/17 10:47:27.280 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=distTaskFrameworkLoop]
[2024/05/17 10:47:27.282 +08:00] [INFO] [manager.go:146] ["task executor manager start"] [server-id=:4000]
[2024/05/17 10:47:27.282 +08:00] [INFO] [domain.go:1595] ["dist task executor manager started"]
[2024/05/17 10:47:27.283 +08:00] [INFO] [set.go:170] ["set global var"] [conn=1] [name=tidb_schema_cache_size] [val=1024]
[2024/05/17 10:47:27.283 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=1] [schemaVersion=51] [cur_db=test] [sql="create table t_mcc(a varchar(8) charset utf8, b varchar(8) charset utf8)"] [user=]
[2024/05/17 10:47:27.284 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:105, Type:create table, State:queueing, SchemaState:none, SchemaID:2, TableID:104, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:27.284 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:47:27.285 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:105, Type:create table, State:queueing, SchemaState:none, SchemaID:2, TableID:104, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:27.284 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="create table t_mcc(a varchar(8) charset utf8, b varchar(8) charset utf8)"]
[2024/05/17 10:47:27.304 +08:00] [INFO] [job_table.go:334] ["get global state and global state change"] [category=ddl] [oldState=false] [currState=false]
[2024/05/17 10:47:27.304 +08:00] [INFO] [job_table.go:349] ["the owner sets owner operator value"] [category=ddl] [ownerOp=none]
[2024/05/17 10:47:27.308 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=105] [conn=1] [category=ddl] [job="ID:105, Type:create table, State:queueing, SchemaState:none, SchemaID:2, TableID:104, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:27.284 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:27.309 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816572017770497] ["schema version"=52]
[2024/05/17 10:47:27.309 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=51] [neededSchemaVersion=52] ["start time"=109.459µs] [gotSchemaVersion=52] [phyTblIDs="[104]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:47:27.310 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=105] [version=52]
[2024/05/17 10:47:27.311 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=52] ["take time"=2.070125ms] [job="ID:105, Type:create table, State:done, SchemaState:public, SchemaID:2, TableID:104, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:27.284 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:27.312 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816572017770497] ["schema version"=52]
[2024/05/17 10:47:27.315 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=105] [conn=1] [job="ID:105, Type:create table, State:synced, SchemaState:public, SchemaID:2, TableID:104, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:27.284 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:27.317 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816572017770497] ["schema version"=52]
[2024/05/17 10:47:27.317 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=105]
[2024/05/17 10:47:27.317 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:47:27.317 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816572017770497] ["schema version"=52]
[2024/05/17 10:47:27.317 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=1] [schemaVersion=52] [cur_db=test] [sql="alter table t_mcc modify column a varchar(8);"] [user=]
[2024/05/17 10:47:27.319 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:106, Type:modify column, State:queueing, SchemaState:none, SchemaID:2, TableID:104, RowCount:0, ArgLen:5, start time: 2024-05-17 10:47:27.318 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false, UniqueWarnings:0; "] [table=true]
[2024/05/17 10:47:27.319 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:106, Type:modify column, State:queueing, SchemaState:none, SchemaID:2, TableID:104, RowCount:0, ArgLen:5, start time: 2024-05-17 10:47:27.318 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false, UniqueWarnings:0"] [query="alter table t_mcc modify column a varchar(8);"]
[2024/05/17 10:47:27.322 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=106] [conn=1] [category=ddl] [job="ID:106, Type:modify column, State:queueing, SchemaState:none, SchemaID:2, TableID:104, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:27.318 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false, UniqueWarnings:0"]
[2024/05/17 10:47:27.323 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816572021440512] ["schema version"=53]
[2024/05/17 10:47:27.323 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=52] [neededSchemaVersion=53] ["start time"=119.5µs] [gotSchemaVersion=53] [phyTblIDs="[104]"] [actionTypes="[12]"] [diffTypes="[\"modify column\"]"]
[2024/05/17 10:47:27.324 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=106] [version=53]
[2024/05/17 10:47:27.325 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=53] ["take time"=2.059208ms] [job="ID:106, Type:modify column, State:done, SchemaState:public, SchemaID:2, TableID:104, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:27.318 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false, UniqueWarnings:0"]
[2024/05/17 10:47:27.325 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816572021440512] ["schema version"=53]
[2024/05/17 10:47:27.329 +08:00] [INFO] [delete_range.go:112] ["add job into delete-range table"] [category=ddl] [jobID=106] [jobType="modify column"]
[2024/05/17 10:47:27.329 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=106] [conn=1] [job="ID:106, Type:modify column, State:synced, SchemaState:public, SchemaID:2, TableID:104, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:27.318 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false, UniqueWarnings:0"]
[2024/05/17 10:47:27.333 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816572021440512] ["schema version"=53]
[2024/05/17 10:47:27.336 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=106]
[2024/05/17 10:47:27.336 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:47:27.336 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816572021440512] ["schema version"=53]
[2024/05/17 10:47:27.336 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816572021440512] ["schema version"=53]
[2024/05/17 10:47:27.336 +08:00] [WARN] [infoschema_v3.go:59] ["table not equal"] [tbl1="{\"id\":104,\"name\":{\"O\":\"t_mcc\",\"L\":\"t_mcc\"},\"charset\":\"utf8mb4\",\"collate\":\"utf8mb4_bin\",\"cols\":[{\"id\":1,\"name\":{\"O\":\"a\",\"L\":\"a\"},\"offset\":0,\"origin_default\":null,\"origin_default_bit\":null,\"default\":null,\"default_bit\":null,\"default_is_expr\":false,\"generated_expr_string\":\"\",\"generated_stored\":false,\"dependences\":null,\"type\":{\"Tp\":15,\"Flag\":0,\"Flen\":8,\"Decimal\":0,\"Charset\":\"utf8mb4\",\"Collate\":\"utf8mb4_bin\",\"Elems\":null,\"ElemsIsBinaryLit\":null,\"Array\":false},\"state\":5,\"comment\":\"\",\"hidden\":false,\"change_state_info\":null,\"version\":2},{\"id\":2,\"name\":{\"O\":\"b\",\"L\":\"b\"},\"offset\":1,\"origin_default\":null,\"origin_default_bit\":null,\"default\":null,\"default_bit\":null,\"default_is_expr\":false,\"generated_expr_string\":\"\",\"generated_stored\":false,\"dependences\":null,\"type\":{\"Tp\":15,\"Flag\":0,\"Flen\":8,\"Decimal\":0,\"Charset\":\"utf8\",\"Collate\":\"utf8_bin\",\"Elems\":null,\"ElemsIsBinaryLit\":null,\"Array\":false},\"state\":5,\"comment\":\"\",\"hidden\":false,\"change_state_info\":null,\"version\":2}],\"index_info\":null,\"constraint_info\":null,\"fk_info\":null,\"state\":5,\"pk_is_handle\":false,\"is_common_handle\":false,\"common_handle_version\":0,\"comment\":\"\",\"auto_inc_id\":0,\"auto_id_cache\":0,\"auto_rand_id\":0,\"max_col_id\":2,\"max_idx_id\":0,\"max_fk_id\":0,\"max_cst_id\":0,\"update_timestamp\":449816572021178370,\"ShardRowIDBits\":0,\"max_shard_row_id_bits\":0,\"auto_random_bits\":0,\"auto_random_range_bits\":0,\"pre_split_regions\":0,\"partition\":null,\"compression\":\"\",\"view\":null,\"sequence\":null,\"Lock\":null,\"version\":5,\"tiflash_replica\":null,\"is_columnar\":false,\"temp_table_type\":0,\"cache_table_status\":0,\"policy_ref_info\":null,\"stats_options\":null,\"exchange_partition_info\":null,\"ttl_info\":null,\"revision\":1}"] [tbl2="{\"id\":104,\"name\":{\"O\":\"t_mcc\",\"L\":\"t_mcc\"},\"charset\":\"utf8mb4\",\"collate\":\"utf8mb4_bin\",\"cols\":[{\"id\":1,\"name\":{\"O\":\"a\",\"L\":\"a\"},\"offset\":0,\"origin_default\":null,\"origin_default_bit\":null,\"default\":null,\"default_bit\":null,\"default_is_expr\":false,\"generated_expr_string\":\"\",\"generated_stored\":false,\"dependences\":null,\"type\":{\"Tp\":15,\"Flag\":0,\"Flen\":8,\"Decimal\":0,\"Charset\":\"utf8mb4\",\"Collate\":\"utf8mb4_bin\",\"Elems\":null,\"ElemsIsBinaryLit\":null,\"Array\":false},\"state\":5,\"comment\":\"\",\"hidden\":false,\"change_state_info\":null,\"version\":2},{\"id\":2,\"name\":{\"O\":\"b\",\"L\":\"b\"},\"offset\":1,\"origin_default\":null,\"origin_default_bit\":null,\"default\":null,\"default_bit\":null,\"default_is_expr\":false,\"generated_expr_string\":\"\",\"generated_stored\":false,\"dependences\":null,\"type\":{\"Tp\":15,\"Flag\":0,\"Flen\":8,\"Decimal\":0,\"Charset\":\"utf8\",\"Collate\":\"utf8_bin\",\"Elems\":null,\"ElemsIsBinaryLit\":null,\"Array\":false},\"state\":5,\"comment\":\"\",\"hidden\":false,\"change_state_info\":null,\"version\":2}],\"index_info\":null,\"constraint_info\":null,\"fk_info\":null,\"state\":5,\"pk_is_handle\":false,\"is_common_handle\":false,\"common_handle_version\":0,\"comment\":\"\",\"auto_inc_id\":0,\"auto_id_cache\":0,\"auto_rand_id\":0,\"max_col_id\":2,\"max_idx_id\":0,\"max_fk_id\":0,\"max_cst_id\":0,\"update_timestamp\":449816572021178370,\"ShardRowIDBits\":0,\"max_shard_row_id_bits\":0,\"auto_random_bits\":0,\"auto_random_range_bits\":0,\"pre_split_regions\":0,\"partition\":null,\"compression\":\"\",\"view\":null,\"sequence\":null,\"Lock\":null,\"version\":0,\"tiflash_replica\":null,\"is_columnar\":false,\"temp_table_type\":0,\"cache_table_status\":0,\"policy_ref_info\":null,\"stats_options\":null,\"exchange_partition_info\":null,\"ttl_info\":null,\"revision\":1}"]
[2024/05/17 10:47:27.336 +08:00] [INFO] [mock.go:106] ["owner manager is canceled"] [category=ddl] [ID=049754c9-f5de-417c-a627-c2d87ca09da9] [ownerKey=/tidb/ddl/fg/owner]
[2024/05/17 10:47:27.336 +08:00] [INFO] [ddl_workerpool.go:82] ["closing workerPool"] [category=ddl]
[2024/05/17 10:47:27.336 +08:00] [INFO] [ddl_worker.go:188] ["DDL worker closed"] [worker="worker 4, tp add index"] [category=ddl] ["take time"=625ns]
[2024/05/17 10:47:27.336 +08:00] [INFO] [ddl_workerpool.go:82] ["closing workerPool"] [category=ddl]
[2024/05/17 10:47:27.336 +08:00] [INFO] [ddl_worker.go:188] ["DDL worker closed"] [worker="worker 3, tp general"] [category=ddl] ["take time"=500ns]
[2024/05/17 10:47:27.336 +08:00] [INFO] [ddl_workerpool.go:82] ["closing workerPool"] [category=ddl]
[2024/05/17 10:47:27.336 +08:00] [INFO] [delete_range.go:162] ["closing delRange"] [category=ddl]
[2024/05/17 10:47:27.336 +08:00] [INFO] [session_pool.go:99] ["closing session pool"] [category=ddl]
[2024/05/17 10:47:27.336 +08:00] [INFO] [ddl.go:951] ["DDL closed"] [category=ddl] [ID=049754c9-f5de-417c-a627-c2d87ca09da9] ["take time"=184.167µs]
[2024/05/17 10:47:27.336 +08:00] [INFO] [ddl.go:769] ["stop DDL"] [category=ddl] [ID=049754c9-f5de-417c-a627-c2d87ca09da9]
[2024/05/17 10:47:27.336 +08:00] [INFO] [domain.go:1096] ["stopping ttlJobManager"]
[2024/05/17 10:47:27.336 +08:00] [INFO] [task_manager.go:194] ["shrink ttl worker"] [ttl-worker=job-manager] [ttl-worker=task-manager] [originalCount=4] [newCount=0]
[2024/05/17 10:47:27.336 +08:00] [INFO] [scan.go:309] ["ttlScanWorker loop exited."]
[2024/05/17 10:47:27.336 +08:00] [INFO] [scan.go:309] ["ttlScanWorker loop exited."]
[2024/05/17 10:47:27.336 +08:00] [INFO] [scan.go:309] ["ttlScanWorker loop exited."]
[2024/05/17 10:47:27.336 +08:00] [INFO] [scan.go:309] ["ttlScanWorker loop exited."]
[2024/05/17 10:47:27.336 +08:00] [INFO] [task_manager.go:194] ["shrink ttl worker"] [ttl-worker=job-manager] [ttl-worker=task-manager] [originalCount=4] [newCount=0]
[2024/05/17 10:47:27.336 +08:00] [INFO] [del.go:261] ["ttlDeleteWorker loop exited."]
[2024/05/17 10:47:27.336 +08:00] [INFO] [del.go:261] ["ttlDeleteWorker loop exited."]
[2024/05/17 10:47:27.336 +08:00] [INFO] [del.go:261] ["ttlDeleteWorker loop exited."]
[2024/05/17 10:47:27.336 +08:00] [INFO] [del.go:261] ["ttlDeleteWorker loop exited."]
[2024/05/17 10:47:27.337 +08:00] [INFO] [job_manager.go:174] ["ttlJobManager loop exited."] [ttl-worker=job-manager]
[2024/05/17 10:47:27.337 +08:00] [INFO] [domain.go:1107] ["ttlJobManager exited."]
[2024/05/17 10:47:27.337 +08:00] [INFO] [manager.go:280] ["recoverMetaLoop done"] [server-id=:4000]
[2024/05/17 10:47:27.337 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=mdlCheckLoop]
[2024/05/17 10:47:27.337 +08:00] [INFO] [domain.go:977] ["loadSchemaInLoop exited."]
[2024/05/17 10:47:27.337 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=loadSchemaInLoop]
[2024/05/17 10:47:27.337 +08:00] [INFO] [domain.go:1597] ["stopping dist task executor manager"]
[2024/05/17 10:47:27.337 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=loadSigningCertLoop]
[2024/05/17 10:47:27.337 +08:00] [INFO] [stats_syncload.go:216] ["SubLoadWorker exited."]
[2024/05/17 10:47:27.337 +08:00] [INFO] [stats_syncload.go:216] ["SubLoadWorker exited."]
[2024/05/17 10:47:27.337 +08:00] [INFO] [stats_syncload.go:216] ["SubLoadWorker exited."]
[2024/05/17 10:47:27.337 +08:00] [INFO] [stats_syncload.go:216] ["SubLoadWorker exited."]
[2024/05/17 10:47:27.337 +08:00] [INFO] [stats_syncload.go:216] ["SubLoadWorker exited."]
[2024/05/17 10:47:27.337 +08:00] [INFO] [mock.go:106] ["owner manager is canceled"] [category=ddl] [ID=049754c9-f5de-417c-a627-c2d87ca09da9] [ownerKey=/tidb/stats/owner]
[2024/05/17 10:47:27.337 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=quitStatsOwner]
[2024/05/17 10:47:27.337 +08:00] [INFO] [domain.go:2423] ["indexUsageWorker exited."]
[2024/05/17 10:47:27.337 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=indexUsageWorker]
[2024/05/17 10:47:27.337 +08:00] [INFO] [domain.go:2144] ["dumpFileGcChecker exited."]
[2024/05/17 10:47:27.337 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=dumpFileGcChecker]
[2024/05/17 10:47:27.337 +08:00] [INFO] [domain.go:1820] ["LoadSysVarCacheLoop exited."]
[2024/05/17 10:47:27.337 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=LoadSysVarCacheLoop]
[2024/05/17 10:47:27.337 +08:00] [INFO] [domain.go:1770] ["loadPrivilegeInLoop exited."]
[2024/05/17 10:47:27.337 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=loadPrivilegeInLoop]
[2024/05/17 10:47:27.337 +08:00] [INFO] [mock.go:106] ["owner manager is canceled"] [category=ddl] [ID=049754c9-f5de-417c-a627-c2d87ca09da9] [ownerKey=/tidb/bindinfo/owner]
[2024/05/17 10:47:27.337 +08:00] [INFO] [domain.go:1959] ["globalBindHandleWorkerLoop exited."]
[2024/05/17 10:47:27.337 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=globalBindHandleWorkerLoop]
[2024/05/17 10:47:27.337 +08:00] [INFO] [domain.go:831] ["topologySyncerKeeper exited."]
[2024/05/17 10:47:27.337 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=topologySyncerKeeper]
[2024/05/17 10:47:27.337 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=runawayStartLoop]
[2024/05/17 10:47:27.337 +08:00] [INFO] [domain.go:807] ["globalConfigSyncerKeeper exited."]
[2024/05/17 10:47:27.337 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=globalConfigSyncerKeeper]
[2024/05/17 10:47:27.337 +08:00] [INFO] [domain.go:781] ["infoSyncerKeeper exited."]
[2024/05/17 10:47:27.337 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=infoSyncerKeeper]
[2024/05/17 10:47:27.337 +08:00] [INFO] [domain.go:753] ["topNSlowQueryLoop exited."]
[2024/05/17 10:47:27.337 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=topNSlowQueryLoop]
[2024/05/17 10:47:27.337 +08:00] [INFO] [domain.go:1431] ["closestReplicaReadCheckLoop exited."]
[2024/05/17 10:47:27.337 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=closestReplicaReadCheckLoop]
[2024/05/17 10:47:27.337 +08:00] [INFO] [manager.go:179] ["handle tasks loop done"] [server-id=:4000]
[2024/05/17 10:47:27.337 +08:00] [INFO] [domain.go:1599] ["dist task executor manager stopped"]
[2024/05/17 10:47:27.337 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=distTaskFrameworkLoop]
[2024/05/17 10:47:27.337 +08:00] [INFO] [domain.go:1144] ["domain closed"] ["take time"=774.209µs]
[2024/05/17 10:47:27.343 +08:00] [INFO] [db.go:567] ["Closing database"]
[2024/05/17 10:47:27.343 +08:00] [INFO] [db.go:592] ["Memtable flushed"]
[2024/05/17 10:47:27.343 +08:00] [INFO] [db.go:596] ["Compaction finished"]
[2024/05/17 10:47:27.343 +08:00] [INFO] [db.go:615] ["BlobManager finished"]
[2024/05/17 10:47:27.343 +08:00] [INFO] [db.go:619] ["ResourceManager finished"]
[2024/05/17 10:47:27.343 +08:00] [INFO] [db.go:625] ["Waiting for closer"]
--- FAIL: TestModifyColumnCharset (1.30s)
panic: inconsistent infoschema [recovered]
	panic: inconsistent infoschema [recovered]
	panic: inconsistent infoschema

goroutine 54 [running]:
testing.tRunner.func1.2({0x108665800, 0x108f69100})
	/Users/bba/.gvm/gos/go1.21.0/src/testing/testing.go:1545 +0x1c8
testing.tRunner.func1()
	/Users/bba/.gvm/gos/go1.21.0/src/testing/testing.go:1548 +0x360
panic({0x108665800?, 0x108f69100?})
	/Users/bba/.gvm/gos/go1.21.0/src/runtime/panic.go:914 +0x218
github.com/pingcap/tidb/pkg/executor.(*Compiler).Compile.func1()
	/Users/bba/pc/tidb/pkg/executor/compiler.go:57 +0x360
panic({0x108665800?, 0x108f69100?})
	/Users/bba/.gvm/gos/go1.21.0/src/runtime/panic.go:914 +0x218
github.com/pingcap/tidb/pkg/infoschema.(*InfoschemaV3).TableByName(0x140058ea640, {{0x10795aaaf?, 0x80d8cd75ae433?}, {0x10795aaaf?, 0x14005e75038?}}, {{0x107a324ae?, 0x14005e75038?}, {0x107a324ae?, 0x14005e75098?}})
	/Users/bba/pc/tidb/pkg/infoschema/infoschema_v3.go:216 +0x128
github.com/pingcap/tidb/pkg/infoschema.(*SessionExtendedInfoSchema).TableByName(0x140064baa20, {{0x10795aaaf?, 0x317a2a08534e?}, {0x10795aaaf?, 0x6700014005e751a8?}}, {{0x107a324ae?, 0x14005e751d8?}, {0x107a324ae?, 0x14005e75258?}})
	/Users/bba/pc/tidb/pkg/infoschema/infoschema.go:719 +0x138
github.com/pingcap/tidb/pkg/planner/core.(*preprocessor).tableByName(0x1400629ae70, 0x140054b04e0)
	/Users/bba/pc/tidb/pkg/planner/core/preprocess.go:495 +0x150
github.com/pingcap/tidb/pkg/planner/core.(*preprocessor).handleTableName(0x1400629ae70, 0x140054b04e0)
	/Users/bba/pc/tidb/pkg/planner/core/preprocess.go:1550 +0x120
github.com/pingcap/tidb/pkg/planner/core.(*preprocessor).Leave(0x1400629ae70, {0x108fb8510?, 0x140054b04e0?})
	/Users/bba/pc/tidb/pkg/planner/core/preprocess.go:596 +0x1a0
github.com/pingcap/tidb/pkg/parser/ast.(*TableName).Accept(0x1400629ae70?, {0x108f90e68, 0x1400629ae70})
	/Users/bba/pc/tidb/pkg/parser/ast/dml.go:452 +0x12c
github.com/pingcap/tidb/pkg/parser/ast.(*AlterTableStmt).Accept(0x108fabe88?, {0x108f90e68, 0x1400629ae70})
	/Users/bba/pc/tidb/pkg/parser/ast/ddl.go:3803 +0x64
github.com/pingcap/tidb/pkg/planner/core.Preprocess({0x108fabe88, 0x140064ba990}, {0x1090230e0, 0x1400b73eb40}, {0x108fbba30, 0x14006acc540}, {0x14005e756b8, 0x2, 0x14005e755c8?})
	/Users/bba/pc/tidb/pkg/planner/core/preprocess.go:138 +0x19c
github.com/pingcap/tidb/pkg/executor.(*Compiler).Compile(0x14005e75990, {0x108fabe88?, 0x140064ba990?}, {0x108fc10f0?, 0x14006acc540})
	/Users/bba/pc/tidb/pkg/executor/compiler.go:67 +0x1d8
github.com/pingcap/tidb/pkg/session.(*session).ExecuteStmt(0x1400b73eb40, {0x108fabe88?, 0x140064ba990?}, {0x108fc10f0, 0x14006acc540?})
	/Users/bba/pc/tidb/pkg/session/session.go:2094 +0x70c
github.com/pingcap/tidb/pkg/testkit.(*TestKit).ExecWithContext(0x14006ab7810, {0x108fabe88, 0x140064ba990}, {0x107a324a2, 0x2d}, {0x0, 0x0, 0x0})
	/Users/bba/pc/tidb/pkg/testkit/testkit.go:384 +0x734
github.com/pingcap/tidb/pkg/testkit.(*TestKit).MustExecWithContext(0x14006ab7810, {0x108fabe88?, 0x140064ba990?}, {0x107a324a2, 0x2d}, {0x0, 0x0, 0x0})
	/Users/bba/pc/tidb/pkg/testkit/testkit.go:156 +0x40
github.com/pingcap/tidb/pkg/testkit.(*TestKit).MustExec(0x14006ab7810, {0x107a324a2, 0x2d}, {0x0, 0x0, 0x0})
	/Users/bba/pc/tidb/pkg/testkit/testkit.go:151 +0xac
github.com/pingcap/tidb/pkg/ddl_test.TestModifyColumnCharset(0x1400050b798?)
	/Users/bba/pc/tidb/pkg/ddl/modify_column_test.go:423 +0x170
testing.tRunner(0x14000bf2d00, 0x108f5b600)
	/Users/bba/.gvm/gos/go1.21.0/src/testing/testing.go:1595 +0xe8
created by testing.(*T).Run in goroutine 1
	/Users/bba/.gvm/gos/go1.21.0/src/testing/testing.go:1648 +0x33c
[FAIL]  pkg/ddl/tests/fail TestHalfwayCancelOperations
err=exit status 1
[2024/05/17 10:47:27.777 +08:00] [INFO] [store_cache.go:510] ["change store resolve state"] [store=1] [addr=store1] [from=unresolved] [to=resolved] [liveness-state=reachable]
[2024/05/17 10:47:27.787 +08:00] [INFO] [ddl_api.go:1141] ["Automatically convert BLOB(65535) to MEDIUMBLOB"] [category=ddl]
[2024/05/17 10:47:27.788 +08:00] [INFO] [ddl_api.go:1141] ["Automatically convert BLOB(65535) to MEDIUMBLOB"] [category=ddl]
[2024/05/17 10:47:27.790 +08:00] [INFO] [ddl_api.go:1141] ["Automatically convert BLOB(65535) to MEDIUMBLOB"] [category=ddl]
[2024/05/17 10:47:27.790 +08:00] [INFO] [ddl_api.go:1141] ["Automatically convert BLOB(65535) to MEDIUMBLOB"] [category=ddl]
[2024/05/17 10:47:27.795 +08:00] [INFO] [ddl_api.go:1141] ["Automatically convert BLOB(65535) to MEDIUMBLOB"] [category=ddl]
[2024/05/17 10:47:27.798 +08:00] [INFO] [tidb.go:80] ["new domain"] [store=5cb658c3-2ed8-4ad4-a201-6e2c97796f9f] ["ddl lease"=200ms] ["stats lease"=3s]
[2024/05/17 10:47:27.809 +08:00] [WARN] [controller.go:198] ["[resource group controller] server does not save config, load config failed"]
[2024/05/17 10:47:27.809 +08:00] [INFO] [controller.go:185] ["load resource controller config"] [config="{\"degraded-mode-wait-duration\":\"0s\",\"ltb-max-wait-duration\":\"30s\",\"wait-retry-interval\":\"50ms\",\"wait-retry-times\":10,\"request-unit\":{\"read-base-cost\":0.125,\"read-per-batch-base-cost\":0.5,\"read-cost-per-byte\":0.0000152587890625,\"write-base-cost\":1,\"write-per-batch-base-cost\":1,\"write-cost-per-byte\":0.0009765625,\"read-cpu-ms-cost\":0.3333333333333333},\"enable-controller-trace-log\":\"false\"}"] [ru-config="{\"ReadBaseCost\":0.125,\"ReadPerBatchBaseCost\":0.5,\"ReadBytesCost\":0.0000152587890625,\"WriteBaseCost\":1,\"WritePerBatchBaseCost\":1,\"WriteBytesCost\":0.0009765625,\"CPUMsCost\":0.3333333333333333,\"LTBMaxWaitDuration\":30000000000,\"WaitRetryInterval\":50000000,\"WaitRetryTimes\":10,\"DegradedModeWaitDuration\":0}"]
[2024/05/17 10:47:27.810 +08:00] [WARN] [domain.go:302] ["failed to get schema version"] [error="There is no Write MVCC info for the schema version"] [errorVerbose="There is no Write MVCC info for the schema version\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).getTimestampForSchemaVersionWithNonEmptyDiff\n\t/Users/bba/pc/tidb/pkg/domain/domain.go:405\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).loadInfoSchema\n\t/Users/bba/pc/tidb/pkg/domain/domain.go:300\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).Reload\n\t/Users/bba/pc/tidb/pkg/domain/domain.go:676\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).Init\n\t/Users/bba/pc/tidb/pkg/domain/domain.go:1330\ngithub.com/pingcap/tidb/pkg/session.(*domainMap).Get.func1\n\t/Users/bba/pc/tidb/pkg/session/tidb.go:92\ngithub.com/pingcap/tidb/pkg/util.RunWithRetry\n\t/Users/bba/pc/tidb/pkg/util/misc.go:70\ngithub.com/pingcap/tidb/pkg/session.(*domainMap).Get\n\t/Users/bba/pc/tidb/pkg/session/tidb.go:79\ngithub.com/pingcap/tidb/pkg/session.createSessionWithOpt\n\t/Users/bba/pc/tidb/pkg/session/session.go:3634\ngithub.com/pingcap/tidb/pkg/session.createSession\n\t/Users/bba/pc/tidb/pkg/session/session.go:3626\ngithub.com/pingcap/tidb/pkg/session.runInBootstrapSession\n\t/Users/bba/pc/tidb/pkg/session/session.go:3576\ngithub.com/pingcap/tidb/pkg/session.bootstrapSessionImpl\n\t/Users/bba/pc/tidb/pkg/session/session.go:3352\ngithub.com/pingcap/tidb/pkg/session.BootstrapSession\n\t/Users/bba/pc/tidb/pkg/session/session.go:3318\ngithub.com/pingcap/tidb/pkg/ddl/tests/fail_test.createFailDBSuite\n\t/Users/bba/pc/tidb/pkg/ddl/tests/fail/fail_db_test.go:60\ngithub.com/pingcap/tidb/pkg/ddl/tests/fail_test.TestHalfwayCancelOperations\n\t/Users/bba/pc/tidb/pkg/ddl/tests/fail/fail_db_test.go:74\ntesting.tRunner\n\t/Users/bba/.gvm/gos/go1.21.0/src/testing/testing.go:1595\nruntime.goexit\n\t/Users/bba/.gvm/gos/go1.21.0/src/runtime/asm_arm64.s:1197"] [version=0]
[2024/05/17 10:47:27.819 +08:00] [INFO] [domain.go:385] ["full load InfoSchema success"] [currentSchemaVersion=0] [neededSchemaVersion=0] ["start time"=7.895166ms]
[2024/05/17 10:47:27.820 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=0] ["schema version"=0]
[2024/05/17 10:47:27.820 +08:00] [INFO] [domain.go:705] ["full load and reset schema validator"]
[2024/05/17 10:47:27.821 +08:00] [INFO] [ddl.go:818] ["start DDL"] [category=ddl] [ID=2bcd77f6-29a0-4c06-91e8-954e372100fd] [runWorker=true]
[2024/05/17 10:47:27.821 +08:00] [INFO] [ddl.go:777] ["start delRangeManager OK"] [category=ddl] ["is a emulator"=true]
[2024/05/17 10:47:27.822 +08:00] [WARN] [env.go:51] ["initialize environment failed"] [category=ddl-ingest] ["storage limitation"="only support TiKV storage"] ["current storage"=unistore] ["lightning is initialized"=false]
[2024/05/17 10:47:27.822 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=loadSchemaInLoop]
[2024/05/17 10:47:27.822 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=mdlCheckLoop]
[2024/05/17 10:47:27.822 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=topNSlowQueryLoop]
[2024/05/17 10:47:27.823 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=infoSyncerKeeper]
[2024/05/17 10:47:27.823 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=globalConfigSyncerKeeper]
[2024/05/17 10:47:27.823 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=runawayStartLoop]
[2024/05/17 10:47:27.823 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=requestUnitsWriterLoop]
[2024/05/17 10:47:27.823 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=topologySyncerKeeper]
[2024/05/17 10:47:27.823 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=closestReplicaReadCheckLoop]
[2024/05/17 10:47:27.823 +08:00] [WARN] [domain.go:1396] ["pd / etcd client not provided, won't begin Advancer."]
[2024/05/17 10:47:27.843 +08:00] [INFO] [delete_range.go:172] ["start delRange emulator"] [category=ddl]
[2024/05/17 10:47:27.844 +08:00] [INFO] [job_table.go:334] ["get global state and global state change"] [category=ddl] [oldState=false] [currState=false]
[2024/05/17 10:47:27.846 +08:00] [INFO] [runaway.go:149] ["try to start runaway manager loop"]
[2024/05/17 10:47:27.846 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=requestUnitsWriterLoop]
[2024/05/17 10:47:27.847 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=0] [cur_db=mysql] [sql="CREATE DATABASE IF NOT EXISTS test"] [user=]
[2024/05/17 10:47:27.873 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:3, Type:create schema, State:queueing, SchemaState:none, SchemaID:2, TableID:0, RowCount:0, ArgLen:1, start time: 2024-05-17 10:47:27.868 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:47:27.873 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:3, Type:create schema, State:queueing, SchemaState:none, SchemaID:2, TableID:0, RowCount:0, ArgLen:1, start time: 2024-05-17 10:47:27.868 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE DATABASE IF NOT EXISTS test"]
[2024/05/17 10:47:27.895 +08:00] [INFO] [job_table.go:334] ["get global state and global state change"] [category=ddl] [oldState=false] [currState=false]
[2024/05/17 10:47:27.895 +08:00] [INFO] [job_table.go:349] ["the owner sets owner operator value"] [category=ddl] [ownerOp=none]
[2024/05/17 10:47:27.925 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=3] [category=ddl] [job="ID:3, Type:create schema, State:queueing, SchemaState:none, SchemaID:2, TableID:0, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:27.868 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:27.935 +08:00] [INFO] [domain.go:385] ["full load InfoSchema success"] [currentSchemaVersion=0] [neededSchemaVersion=1] ["start time"=6.629792ms]
[2024/05/17 10:47:27.936 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816572180037632] ["schema version"=1]
[2024/05/17 10:47:27.936 +08:00] [INFO] [domain.go:705] ["full load and reset schema validator"]
[2024/05/17 10:47:27.938 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:47:27.938 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=3] [version=1]
[2024/05/17 10:47:27.939 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=1] ["take time"=10.590125ms] [job="ID:3, Type:create schema, State:done, SchemaState:public, SchemaID:2, TableID:0, RowCount:0, ArgLen:1, start time: 2024-05-17 10:47:27.868 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:27.947 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=3] [job="ID:3, Type:create schema, State:synced, SchemaState:public, SchemaID:2, TableID:0, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:27.868 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:27.948 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816572180037632] ["schema version"=1]
[2024/05/17 10:47:27.953 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=3]
[2024/05/17 10:47:27.953 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:47:27.953 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816572180037632] ["schema version"=1]
[2024/05/17 10:47:27.953 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=1] [cur_db=mysql] [sql="CREATE DATABASE IF NOT EXISTS `mysql`"] [user=]
[2024/05/17 10:47:27.954 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=1] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.user (\n\t\tHost\t\t\t\t\tCHAR(255),\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tauthentication_string\tTEXT,\n\t\tplugin\t\t\t\t\tCHAR(64),\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tProcess_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_db_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tSuper_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_user_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_slave_priv\t    \tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_client_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_role_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_role_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAccount_locked\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShutdown_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReload_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tFILE_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tConfig_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_Tablespace_Priv  ENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPassword_reuse_history  smallint unsigned DEFAULT NULL,\n\t\tPassword_reuse_time     smallint unsigned DEFAULT NULL,\n\t\tUser_attributes\t\t\tjson,\n\t\tToken_issuer\t\t\tVARCHAR(255),\n\t\tPassword_expired\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPassword_last_changed\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP(),\n\t\tPassword_lifetime\t\tSMALLINT UNSIGNED DEFAULT NULL,\n\t\tPRIMARY KEY (Host, User));"] [user=]
[2024/05/17 10:47:27.957 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:5, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:4, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:27.955 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:47:27.957 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:5, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:4, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:27.955 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.user (\n\t\tHost\t\t\t\t\tCHAR(255),\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tauthentication_string\tTEXT,\n\t\tplugin\t\t\t\t\tCHAR(64),\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tProcess_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_db_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tSuper_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_user_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_slave_priv\t    \tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_client_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_role_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_role_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAccount_locked\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShutdown_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReload_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tFILE_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tConfig_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_Tablespace_Priv  ENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPassword_reuse_history  smallint unsigned DEFAULT NULL,\n\t\tPassword_reuse_time     smallint unsigned DEFAULT NULL,\n\t\tUser_attributes\t\t\tjson,\n\t\tToken_issuer\t\t\tVARCHAR(255),\n\t\tPassword_expired\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPassword_last_changed\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP(),\n\t\tPassword_lifetime\t\tSMALLINT UNSIGNED DEFAULT NULL,\n\t\tPRIMARY KEY (Host, User));"]
[2024/05/17 10:47:27.961 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=5] [category=ddl] [job="ID:5, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:4, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:27.955 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:27.967 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816572189999104] ["schema version"=2]
[2024/05/17 10:47:27.967 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=1] [neededSchemaVersion=2] ["start time"=797.209µs] [gotSchemaVersion=2] [phyTblIDs="[4]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:47:27.967 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:47:27.967 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=5] [version=2]
[2024/05/17 10:47:27.969 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=2] ["take time"=2.984792ms] [job="ID:5, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:4, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:27.955 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:27.979 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=5] [job="ID:5, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:4, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:27.955 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:27.987 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=5]
[2024/05/17 10:47:27.987 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:47:27.987 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816572189999104] ["schema version"=2]
[2024/05/17 10:47:27.988 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=2] [cur_db=mysql] [sql="CREATE TABLE  IF NOT EXISTS mysql.password_history (\n         Host char(255)  NOT NULL DEFAULT '',\n         User char(32)  NOT NULL DEFAULT '',\n         Password_timestamp timestamp(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6),\n         Password text,\n         PRIMARY KEY (Host,User,Password_timestamp )\n        ) COMMENT='Password history for user accounts' "] [user=]
[2024/05/17 10:47:27.992 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:7, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:6, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:27.991 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:47:27.992 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:7, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:6, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:27.991 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE  IF NOT EXISTS mysql.password_history (\n         Host char(255)  NOT NULL DEFAULT '',\n         User char(32)  NOT NULL DEFAULT '',\n         Password_timestamp timestamp(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6),\n         Password text,\n         PRIMARY KEY (Host,User,Password_timestamp )\n        ) COMMENT='Password history for user accounts' "]
[2024/05/17 10:47:28.001 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=7] [category=ddl] [job="ID:7, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:6, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:27.991 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:28.003 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816572199436288] ["schema version"=3]
[2024/05/17 10:47:28.003 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=2] [neededSchemaVersion=3] ["start time"=319.083µs] [gotSchemaVersion=3] [phyTblIDs="[6]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:47:28.006 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:47:28.006 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=7] [version=3]
[2024/05/17 10:47:28.007 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=3] ["take time"=4.854208ms] [job="ID:7, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:6, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:27.991 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:28.012 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=7] [job="ID:7, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:6, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:27.991 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:28.013 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=7]
[2024/05/17 10:47:28.013 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:47:28.013 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816572199436288] ["schema version"=3]
[2024/05/17 10:47:28.013 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=3] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.global_priv (Host CHAR(255) NOT NULL DEFAULT '',User CHAR(80) NOT NULL DEFAULT '',Priv LONGTEXT NOT NULL DEFAULT '',PRIMARY KEY (Host, User))"] [user=]
[2024/05/17 10:47:28.014 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:9, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:8, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:28.014 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:47:28.015 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:9, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:8, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:28.014 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.global_priv (Host CHAR(255) NOT NULL DEFAULT '',User CHAR(80) NOT NULL DEFAULT '',Priv LONGTEXT NOT NULL DEFAULT '',PRIMARY KEY (Host, User))"]
[2024/05/17 10:47:28.018 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=9] [category=ddl] [job="ID:9, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:8, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:28.014 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:28.019 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816572203892737] ["schema version"=4]
[2024/05/17 10:47:28.019 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=3] [neededSchemaVersion=4] ["start time"=164.917µs] [gotSchemaVersion=4] [phyTblIDs="[8]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:47:28.020 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:47:28.020 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=9] [version=4]
[2024/05/17 10:47:28.021 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=4] ["take time"=2.005333ms] [job="ID:9, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:8, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:28.014 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:28.026 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=9] [job="ID:9, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:8, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:28.014 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:28.030 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=9]
[2024/05/17 10:47:28.030 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:47:28.030 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816572203892737] ["schema version"=4]
[2024/05/17 10:47:28.031 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=4] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.db (\n\t\tHost\t\t\t\t\tCHAR(255),\n\t\tDB\t\t\t\t\t\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv \t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (Host, DB, User));"] [user=]
[2024/05/17 10:47:28.034 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:11, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:10, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:28.032 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:47:28.034 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:11, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:10, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:28.032 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.db (\n\t\tHost\t\t\t\t\tCHAR(255),\n\t\tDB\t\t\t\t\t\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv \t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (Host, DB, User));"]
[2024/05/17 10:47:28.038 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=11] [category=ddl] [job="ID:11, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:10, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:28.032 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:28.042 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816572209659904] ["schema version"=5]
[2024/05/17 10:47:28.042 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=4] [neededSchemaVersion=5] ["start time"=463.667µs] [gotSchemaVersion=5] [phyTblIDs="[10]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:47:28.043 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:47:28.043 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=11] [version=5]
[2024/05/17 10:47:28.044 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=5] ["take time"=2.278708ms] [job="ID:11, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:10, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:28.032 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:28.048 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816572209659904] ["schema version"=5]
[2024/05/17 10:47:28.051 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=11] [job="ID:11, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:10, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:28.032 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:28.054 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=11]
[2024/05/17 10:47:28.054 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:47:28.054 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816572209659904] ["schema version"=5]
[2024/05/17 10:47:28.054 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=5] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tables_priv (\n\t\tHost\t\tCHAR(255),\n\t\tDB\t\t\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tGrantor\t\tCHAR(77),\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tTable_priv\tSET('Select','Insert','Update','Delete','Create','Drop','Grant','Index','Alter','Create View','Show View','Trigger','References'),\n\t\tColumn_priv\tSET('Select','Insert','Update','References'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name));"] [user=]
[2024/05/17 10:47:28.055 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:13, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:12, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:28.055 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:47:28.055 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:13, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:12, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:28.055 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tables_priv (\n\t\tHost\t\tCHAR(255),\n\t\tDB\t\t\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tGrantor\t\tCHAR(77),\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tTable_priv\tSET('Select','Insert','Update','Delete','Create','Drop','Grant','Index','Alter','Create View','Show View','Trigger','References'),\n\t\tColumn_priv\tSET('Select','Insert','Update','References'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name));"]
[2024/05/17 10:47:28.058 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=13] [category=ddl] [job="ID:13, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:12, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:28.055 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:28.061 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816572214640640] ["schema version"=6]
[2024/05/17 10:47:28.061 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=5] [neededSchemaVersion=6] ["start time"=252.333µs] [gotSchemaVersion=6] [phyTblIDs="[12]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:47:28.061 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:47:28.061 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=13] [version=6]
[2024/05/17 10:47:28.062 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=6] ["take time"=2.004792ms] [job="ID:13, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:12, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:28.055 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:28.066 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=13] [job="ID:13, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:12, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:28.055 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:28.067 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=13]
[2024/05/17 10:47:28.068 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:47:28.068 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816572214640640] ["schema version"=6]
[2024/05/17 10:47:28.068 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=6] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.columns_priv(\n\t\tHost\t\tCHAR(255),\n\t\tDB\t\t\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tColumn_name\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tColumn_priv\tSET('Select','Insert','Update','References'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name, Column_name));"] [user=]
[2024/05/17 10:47:28.069 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:15, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:14, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:28.069 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:47:28.069 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:15, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:14, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:28.069 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.columns_priv(\n\t\tHost\t\tCHAR(255),\n\t\tDB\t\t\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tColumn_name\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tColumn_priv\tSET('Select','Insert','Update','References'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name, Column_name));"]
[2024/05/17 10:47:28.073 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=15] [category=ddl] [job="ID:15, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:14, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:28.069 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:28.075 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816572218310657] ["schema version"=7]
[2024/05/17 10:47:28.075 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=6] [neededSchemaVersion=7] ["start time"=262.25µs] [gotSchemaVersion=7] [phyTblIDs="[14]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:47:28.075 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:47:28.075 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=15] [version=7]
[2024/05/17 10:47:28.077 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=7] ["take time"=2.056584ms] [job="ID:15, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:14, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:28.069 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:28.082 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=15] [job="ID:15, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:14, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:28.069 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:28.085 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=15]
[2024/05/17 10:47:28.085 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:47:28.085 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816572218310657] ["schema version"=7]
[2024/05/17 10:47:28.085 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=7] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.GLOBAL_VARIABLES(\n\t\tVARIABLE_NAME  VARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE VARCHAR(16383) DEFAULT NULL);"] [user=]
[2024/05/17 10:47:28.086 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:17, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:16, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:28.085 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:47:28.086 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:17, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:16, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:28.085 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.GLOBAL_VARIABLES(\n\t\tVARIABLE_NAME  VARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE VARCHAR(16383) DEFAULT NULL);"]
[2024/05/17 10:47:28.090 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=17] [category=ddl] [job="ID:17, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:16, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:28.085 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:28.091 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816572222767105] ["schema version"=8]
[2024/05/17 10:47:28.091 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=7] [neededSchemaVersion=8] ["start time"=158.292µs] [gotSchemaVersion=8] [phyTblIDs="[16]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:47:28.092 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:47:28.092 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=17] [version=8]
[2024/05/17 10:47:28.093 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=8] ["take time"=2.172ms] [job="ID:17, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:16, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:28.085 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:28.097 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=17] [job="ID:17, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:16, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:28.085 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:28.099 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=17]
[2024/05/17 10:47:28.099 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:47:28.099 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816572222767105] ["schema version"=8]
[2024/05/17 10:47:28.099 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=8] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb(\n\t\tVARIABLE_NAME  \tVARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE \tVARCHAR(1024) DEFAULT NULL,\n\t\tCOMMENT \t\tVARCHAR(1024));"] [user=]
[2024/05/17 10:47:28.100 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:19, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:18, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:28.1 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:47:28.100 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:19, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:18, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:28.1 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb(\n\t\tVARIABLE_NAME  \tVARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE \tVARCHAR(1024) DEFAULT NULL,\n\t\tCOMMENT \t\tVARCHAR(1024));"]
[2024/05/17 10:47:28.105 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=19] [category=ddl] [job="ID:19, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:18, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:28.1 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:28.106 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816572226699264] ["schema version"=9]
[2024/05/17 10:47:28.106 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=8] [neededSchemaVersion=9] ["start time"=199.917µs] [gotSchemaVersion=9] [phyTblIDs="[18]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:47:28.107 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:47:28.107 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=19] [version=9]
[2024/05/17 10:47:28.108 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=9] ["take time"=2.103209ms] [job="ID:19, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:18, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:28.1 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:28.112 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=19] [job="ID:19, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:18, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:28.1 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:28.114 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=19]
[2024/05/17 10:47:28.114 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:47:28.114 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816572226699264] ["schema version"=9]
[2024/05/17 10:47:28.114 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=9] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.help_topic (\n  \t\thelp_topic_id \t\tINT(10) UNSIGNED NOT NULL,\n  \t\tname \t\t\t\tCHAR(64) NOT NULL,\n  \t\thelp_category_id \tSMALLINT(5) UNSIGNED NOT NULL,\n  \t\tdescription \t\tTEXT NOT NULL,\n  \t\texample \t\t\tTEXT NOT NULL,\n  \t\turl \t\t\t\tTEXT NOT NULL,\n  \t\tPRIMARY KEY (help_topic_id) clustered,\n  \t\tUNIQUE KEY name (name)\n\t\t) ENGINE=InnoDB DEFAULT CHARSET=utf8 STATS_PERSISTENT=0 COMMENT='help topics';"] [user=]
[2024/05/17 10:47:28.116 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:21, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:20, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:28.115 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:47:28.116 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:21, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:20, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:28.115 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.help_topic (\n  \t\thelp_topic_id \t\tINT(10) UNSIGNED NOT NULL,\n  \t\tname \t\t\t\tCHAR(64) NOT NULL,\n  \t\thelp_category_id \tSMALLINT(5) UNSIGNED NOT NULL,\n  \t\tdescription \t\tTEXT NOT NULL,\n  \t\texample \t\t\tTEXT NOT NULL,\n  \t\turl \t\t\t\tTEXT NOT NULL,\n  \t\tPRIMARY KEY (help_topic_id) clustered,\n  \t\tUNIQUE KEY name (name)\n\t\t) ENGINE=InnoDB DEFAULT CHARSET=utf8 STATS_PERSISTENT=0 COMMENT='help topics';"]
[2024/05/17 10:47:28.120 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=21] [category=ddl] [job="ID:21, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:20, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:28.115 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:28.122 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816572230631425] ["schema version"=10]
[2024/05/17 10:47:28.122 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=9] [neededSchemaVersion=10] ["start time"=215µs] [gotSchemaVersion=10] [phyTblIDs="[20]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:47:28.122 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:47:28.122 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=21] [version=10]
[2024/05/17 10:47:28.124 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=10] ["take time"=2.009542ms] [job="ID:21, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:20, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:28.115 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:28.128 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=21] [job="ID:21, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:20, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:28.115 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:28.130 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=21]
[2024/05/17 10:47:28.130 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:47:28.130 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816572230631425] ["schema version"=10]
[2024/05/17 10:47:28.130 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=10] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_meta (\n\t\tversion \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\ttable_id \t\tBIGINT(64) NOT NULL,\n\t\tmodify_count\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcount \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tsnapshot        BIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tINDEX idx_ver(version),\n\t\tUNIQUE INDEX tbl(table_id)\n\t);"] [user=]
[2024/05/17 10:47:28.132 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:23, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:22, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:28.131 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:47:28.132 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:23, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:22, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:28.131 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_meta (\n\t\tversion \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\ttable_id \t\tBIGINT(64) NOT NULL,\n\t\tmodify_count\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcount \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tsnapshot        BIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tINDEX idx_ver(version),\n\t\tUNIQUE INDEX tbl(table_id)\n\t);"]
[2024/05/17 10:47:28.135 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=23] [category=ddl] [job="ID:23, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:22, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:28.131 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:28.137 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816572234563585] ["schema version"=11]
[2024/05/17 10:47:28.137 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=10] [neededSchemaVersion=11] ["start time"=287.167µs] [gotSchemaVersion=11] [phyTblIDs="[22]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:47:28.137 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:47:28.137 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=23] [version=11]
[2024/05/17 10:47:28.139 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=11] ["take time"=2.09225ms] [job="ID:23, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:22, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:28.131 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:28.143 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=23] [job="ID:23, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:22, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:28.131 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:28.145 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=23]
[2024/05/17 10:47:28.145 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:47:28.145 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816572234563585] ["schema version"=11]
[2024/05/17 10:47:28.145 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=11] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_histograms (\n\t\ttable_id \t\t\tBIGINT(64) NOT NULL,\n\t\tis_index \t\t\tTINYINT(2) NOT NULL,\n\t\thist_id \t\t\tBIGINT(64) NOT NULL,\n\t\tdistinct_count \t\tBIGINT(64) NOT NULL,\n\t\tnull_count \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\ttot_col_size \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tmodify_count \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tversion \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tcm_sketch \t\t\tBLOB(6291456),\n\t\tstats_ver \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tflag \t\t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcorrelation \t\tDOUBLE NOT NULL DEFAULT 0,\n\t\tlast_analyze_pos \tLONGBLOB DEFAULT NULL,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id)\n\t);"] [user=]
[2024/05/17 10:47:28.145 +08:00] [INFO] [ddl_api.go:1141] ["Automatically convert BLOB(6291456) to MEDIUMBLOB"] [category=ddl]
[2024/05/17 10:47:28.146 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816572234563585] ["schema version"=11]
[2024/05/17 10:47:28.147 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:25, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:24, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:28.146 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:47:28.147 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:25, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:24, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:28.146 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_histograms (\n\t\ttable_id \t\t\tBIGINT(64) NOT NULL,\n\t\tis_index \t\t\tTINYINT(2) NOT NULL,\n\t\thist_id \t\t\tBIGINT(64) NOT NULL,\n\t\tdistinct_count \t\tBIGINT(64) NOT NULL,\n\t\tnull_count \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\ttot_col_size \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tmodify_count \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tversion \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tcm_sketch \t\t\tBLOB(6291456),\n\t\tstats_ver \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tflag \t\t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcorrelation \t\tDOUBLE NOT NULL DEFAULT 0,\n\t\tlast_analyze_pos \tLONGBLOB DEFAULT NULL,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id)\n\t);"]
[2024/05/17 10:47:28.151 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=25] [category=ddl] [job="ID:25, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:24, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:28.146 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:28.153 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816572239020032] ["schema version"=12]
[2024/05/17 10:47:28.153 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=11] [neededSchemaVersion=12] ["start time"=317.375µs] [gotSchemaVersion=12] [phyTblIDs="[24]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:47:28.154 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:47:28.154 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=25] [version=12]
[2024/05/17 10:47:28.155 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=12] ["take time"=2.078625ms] [job="ID:25, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:24, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:28.146 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:28.164 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=25] [job="ID:25, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:24, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:28.146 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:28.168 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=25]
[2024/05/17 10:47:28.168 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:47:28.168 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816572239020032] ["schema version"=12]
[2024/05/17 10:47:28.169 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=12] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_buckets (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tbucket_id \tBIGINT(64) NOT NULL,\n\t\tcount \t\tBIGINT(64) NOT NULL,\n\t\trepeats \tBIGINT(64) NOT NULL,\n\t\tupper_bound LONGBLOB NOT NULL,\n\t\tlower_bound LONGBLOB ,\n\t\tndv         BIGINT NOT NULL DEFAULT 0,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id, bucket_id)\n\t);"] [user=]
[2024/05/17 10:47:28.171 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:27, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:26, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:28.171 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:47:28.172 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:27, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:26, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:28.171 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_buckets (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tbucket_id \tBIGINT(64) NOT NULL,\n\t\tcount \t\tBIGINT(64) NOT NULL,\n\t\trepeats \tBIGINT(64) NOT NULL,\n\t\tupper_bound LONGBLOB NOT NULL,\n\t\tlower_bound LONGBLOB ,\n\t\tndv         BIGINT NOT NULL DEFAULT 0,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id, bucket_id)\n\t);"]
[2024/05/17 10:47:28.178 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=27] [category=ddl] [job="ID:27, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:26, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:28.171 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:28.182 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816572246097920] ["schema version"=13]
[2024/05/17 10:47:28.182 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=12] [neededSchemaVersion=13] ["start time"=279.292µs] [gotSchemaVersion=13] [phyTblIDs="[26]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:47:28.183 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:47:28.183 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=27] [version=13]
[2024/05/17 10:47:28.184 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=13] ["take time"=2.07ms] [job="ID:27, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:26, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:28.171 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:28.188 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=27] [job="ID:27, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:26, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:28.171 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:28.190 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=27]
[2024/05/17 10:47:28.190 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:47:28.190 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816572246097920] ["schema version"=13]
[2024/05/17 10:47:28.190 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=13] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_index (job_id, element_id)\n\t);"] [user=]
[2024/05/17 10:47:28.191 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:29, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:28, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:28.191 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:47:28.191 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:29, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:28, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:28.191 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_index (job_id, element_id)\n\t);"]
[2024/05/17 10:47:28.195 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=29] [category=ddl] [job="ID:29, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:28, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:28.191 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:28.196 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816572250292224] ["schema version"=14]
[2024/05/17 10:47:28.196 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=13] [neededSchemaVersion=14] ["start time"=208.209µs] [gotSchemaVersion=14] [phyTblIDs="[28]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:47:28.197 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:47:28.197 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=29] [version=14]
[2024/05/17 10:47:28.198 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=14] ["take time"=2.023083ms] [job="ID:29, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:28, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:28.191 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:28.201 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=29] [job="ID:29, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:28, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:28.191 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:28.203 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=29]
[2024/05/17 10:47:28.203 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:47:28.203 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816572250292224] ["schema version"=14]
[2024/05/17 10:47:28.203 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=14] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range_done (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_done_index (job_id, element_id)\n\t);"] [user=]
[2024/05/17 10:47:28.204 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:31, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:30, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:28.204 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:47:28.204 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:31, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:30, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:28.204 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range_done (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_done_index (job_id, element_id)\n\t);"]
[2024/05/17 10:47:28.208 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=31] [category=ddl] [job="ID:31, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:30, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:28.204 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:28.209 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816572253700096] ["schema version"=15]
[2024/05/17 10:47:28.209 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=14] [neededSchemaVersion=15] ["start time"=191.417µs] [gotSchemaVersion=15] [phyTblIDs="[30]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:47:28.210 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:47:28.210 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=31] [version=15]
[2024/05/17 10:47:28.212 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=15] ["take time"=2.926208ms] [job="ID:31, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:30, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:28.204 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:28.216 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=31] [job="ID:31, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:30, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:28.204 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:28.217 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=31]
[2024/05/17 10:47:28.217 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:47:28.218 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816572253700096] ["schema version"=15]
[2024/05/17 10:47:28.218 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=15] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_feedback (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tfeedback \tBLOB NOT NULL,\n\t\tINDEX hist(table_id, is_index, hist_id)\n\t);"] [user=]
[2024/05/17 10:47:28.219 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:33, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:32, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:28.218 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:47:28.219 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:33, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:32, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:28.218 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_feedback (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tfeedback \tBLOB NOT NULL,\n\t\tINDEX hist(table_id, is_index, hist_id)\n\t);"]
[2024/05/17 10:47:28.222 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=33] [category=ddl] [job="ID:33, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:32, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:28.218 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:28.224 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816572257632256] ["schema version"=16]
[2024/05/17 10:47:28.224 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=15] [neededSchemaVersion=16] ["start time"=233.417µs] [gotSchemaVersion=16] [phyTblIDs="[32]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:47:28.225 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:47:28.225 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=33] [version=16]
[2024/05/17 10:47:28.226 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=16] ["take time"=2.558375ms] [job="ID:33, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:32, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:28.218 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:28.232 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=33] [job="ID:33, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:32, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:28.218 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:28.233 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=33]
[2024/05/17 10:47:28.233 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:47:28.233 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816572257632256] ["schema version"=16]
[2024/05/17 10:47:28.234 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=16] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.role_edges (\n\t\tFROM_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tFROM_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tWITH_ADMIN_OPTION \tENUM('N','Y') CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (FROM_HOST,FROM_USER,TO_HOST,TO_USER)\n\t);"] [user=]
[2024/05/17 10:47:28.235 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:35, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:34, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:28.234 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:47:28.235 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:35, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:34, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:28.234 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.role_edges (\n\t\tFROM_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tFROM_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tWITH_ADMIN_OPTION \tENUM('N','Y') CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (FROM_HOST,FROM_USER,TO_HOST,TO_USER)\n\t);"]
[2024/05/17 10:47:28.238 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=35] [category=ddl] [job="ID:35, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:34, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:28.234 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:28.239 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816572261564417] ["schema version"=17]
[2024/05/17 10:47:28.239 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=16] [neededSchemaVersion=17] ["start time"=211µs] [gotSchemaVersion=17] [phyTblIDs="[34]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:47:28.240 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:47:28.240 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=35] [version=17]
[2024/05/17 10:47:28.241 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=17] ["take time"=2.023625ms] [job="ID:35, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:34, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:28.234 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:28.245 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=35] [job="ID:35, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:34, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:28.234 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:28.246 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816572261564417] ["schema version"=17]
[2024/05/17 10:47:28.247 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=35]
[2024/05/17 10:47:28.247 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:47:28.247 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816572261564417] ["schema version"=17]
[2024/05/17 10:47:28.247 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=17] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.default_roles (\n\t\tHOST \t\t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tUSER \t\t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tDEFAULT_ROLE_HOST \tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '%',\n\t\tDEFAULT_ROLE_USER \tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tPRIMARY KEY (HOST,USER,DEFAULT_ROLE_HOST,DEFAULT_ROLE_USER)\n\t)"] [user=]
[2024/05/17 10:47:28.248 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:37, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:36, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:28.248 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:47:28.248 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:37, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:36, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:28.248 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.default_roles (\n\t\tHOST \t\t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tUSER \t\t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tDEFAULT_ROLE_HOST \tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '%',\n\t\tDEFAULT_ROLE_USER \tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tPRIMARY KEY (HOST,USER,DEFAULT_ROLE_HOST,DEFAULT_ROLE_USER)\n\t)"]
[2024/05/17 10:47:28.251 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=37] [category=ddl] [job="ID:37, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:36, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:28.248 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:28.253 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816572265234432] ["schema version"=18]
[2024/05/17 10:47:28.253 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=17] [neededSchemaVersion=18] ["start time"=187.75µs] [gotSchemaVersion=18] [phyTblIDs="[36]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:47:28.253 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:47:28.253 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=37] [version=18]
[2024/05/17 10:47:28.255 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=18] ["take time"=2.864833ms] [job="ID:37, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:36, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:28.248 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:28.258 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=37] [job="ID:37, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:36, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:28.248 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:28.260 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=37]
[2024/05/17 10:47:28.260 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:47:28.260 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816572265234432] ["schema version"=18]
[2024/05/17 10:47:28.260 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=18] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.bind_info (\n\t\toriginal_sql TEXT NOT NULL,\n\t\tbind_sql TEXT NOT NULL,\n\t\tdefault_db TEXT NOT NULL,\n\t\tstatus TEXT NOT NULL,\n\t\tcreate_time TIMESTAMP(3) NOT NULL,\n\t\tupdate_time TIMESTAMP(3) NOT NULL,\n\t\tcharset TEXT NOT NULL,\n\t\tcollation TEXT NOT NULL,\n\t\tsource VARCHAR(10) NOT NULL DEFAULT 'unknown',\n\t\tsql_digest varchar(64),\n\t\tplan_digest varchar(64),\n\t\tINDEX sql_index(original_sql(700),default_db(68)) COMMENT \"accelerate the speed when add global binding query\",\n\t\tINDEX time_index(update_time) COMMENT \"accelerate the speed when querying with last update time\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"] [user=]
[2024/05/17 10:47:28.262 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:39, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:38, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:28.261 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:47:28.262 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:39, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:38, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:28.261 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.bind_info (\n\t\toriginal_sql TEXT NOT NULL,\n\t\tbind_sql TEXT NOT NULL,\n\t\tdefault_db TEXT NOT NULL,\n\t\tstatus TEXT NOT NULL,\n\t\tcreate_time TIMESTAMP(3) NOT NULL,\n\t\tupdate_time TIMESTAMP(3) NOT NULL,\n\t\tcharset TEXT NOT NULL,\n\t\tcollation TEXT NOT NULL,\n\t\tsource VARCHAR(10) NOT NULL DEFAULT 'unknown',\n\t\tsql_digest varchar(64),\n\t\tplan_digest varchar(64),\n\t\tINDEX sql_index(original_sql(700),default_db(68)) COMMENT \"accelerate the speed when add global binding query\",\n\t\tINDEX time_index(update_time) COMMENT \"accelerate the speed when querying with last update time\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"]
[2024/05/17 10:47:28.265 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=39] [category=ddl] [job="ID:39, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:38, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:28.261 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:28.267 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816572268904448] ["schema version"=19]
[2024/05/17 10:47:28.267 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=18] [neededSchemaVersion=19] ["start time"=293µs] [gotSchemaVersion=19] [phyTblIDs="[38]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:47:28.268 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:47:28.268 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=39] [version=19]
[2024/05/17 10:47:28.269 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=19] ["take time"=2.018041ms] [job="ID:39, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:38, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:28.261 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:28.273 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=39] [job="ID:39, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:38, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:28.261 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:28.275 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=39]
[2024/05/17 10:47:28.275 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:47:28.275 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816572268904448] ["schema version"=19]
[2024/05/17 10:47:28.277 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=19] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_top_n (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tvalue \t\tLONGBLOB,\n\t\tcount \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\tINDEX tbl(table_id, is_index, hist_id)\n\t);"] [user=]
[2024/05/17 10:47:28.278 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:41, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:40, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:28.278 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:47:28.278 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:41, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:40, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:28.278 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_top_n (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tvalue \t\tLONGBLOB,\n\t\tcount \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\tINDEX tbl(table_id, is_index, hist_id)\n\t);"]
[2024/05/17 10:47:28.281 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=41] [category=ddl] [job="ID:41, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:40, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:28.278 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:28.282 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816572272836608] ["schema version"=20]
[2024/05/17 10:47:28.282 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=19] [neededSchemaVersion=20] ["start time"=176.125µs] [gotSchemaVersion=20] [phyTblIDs="[40]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:47:28.283 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:47:28.283 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=41] [version=20]
[2024/05/17 10:47:28.285 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=20] ["take time"=2.648792ms] [job="ID:41, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:40, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:28.278 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:28.287 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=41] [job="ID:41, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:40, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:28.278 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:28.289 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=41]
[2024/05/17 10:47:28.289 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:47:28.289 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816572272836608] ["schema version"=20]
[2024/05/17 10:47:28.289 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=20] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.expr_pushdown_blacklist (\n\t\tname \t\tCHAR(100) NOT NULL,\n\t\tstore_type \tCHAR(100) NOT NULL DEFAULT 'tikv,tiflash,tidb',\n\t\treason \t\tVARCHAR(200)\n\t);"] [user=]
[2024/05/17 10:47:28.290 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:43, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:42, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:28.289 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:47:28.290 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:43, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:42, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:28.289 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.expr_pushdown_blacklist (\n\t\tname \t\tCHAR(100) NOT NULL,\n\t\tstore_type \tCHAR(100) NOT NULL DEFAULT 'tikv,tiflash,tidb',\n\t\treason \t\tVARCHAR(200)\n\t);"]
[2024/05/17 10:47:28.293 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=43] [category=ddl] [job="ID:43, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:42, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:28.289 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:28.294 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816572275982336] ["schema version"=21]
[2024/05/17 10:47:28.294 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=20] [neededSchemaVersion=21] ["start time"=154.458µs] [gotSchemaVersion=21] [phyTblIDs="[42]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:47:28.295 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:47:28.295 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=43] [version=21]
[2024/05/17 10:47:28.296 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=21] ["take time"=2.095667ms] [job="ID:43, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:42, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:28.289 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:28.300 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=43] [job="ID:43, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:42, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:28.289 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:28.301 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=43]
[2024/05/17 10:47:28.301 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:47:28.301 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816572275982336] ["schema version"=21]
[2024/05/17 10:47:28.301 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=21] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.opt_rule_blacklist (\n\t\tname \tCHAR(100) NOT NULL\n\t);"] [user=]
[2024/05/17 10:47:28.302 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:45, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:44, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:28.302 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:47:28.303 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:45, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:44, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:28.302 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.opt_rule_blacklist (\n\t\tname \tCHAR(100) NOT NULL\n\t);"]
[2024/05/17 10:47:28.306 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=45] [category=ddl] [job="ID:45, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:44, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:28.302 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:28.307 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816572279390208] ["schema version"=22]
[2024/05/17 10:47:28.307 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=21] [neededSchemaVersion=22] ["start time"=107.209µs] [gotSchemaVersion=22] [phyTblIDs="[44]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:47:28.307 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:47:28.307 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=45] [version=22]
[2024/05/17 10:47:28.309 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=22] ["take time"=2.481334ms] [job="ID:45, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:44, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:28.302 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:28.312 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=45] [job="ID:45, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:44, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:28.302 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:28.314 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=45]
[2024/05/17 10:47:28.314 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:47:28.314 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816572279390208] ["schema version"=22]
[2024/05/17 10:47:28.315 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=22] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_extended (\n\t\tname varchar(32) NOT NULL,\n\t\ttype tinyint(4) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tcolumn_ids varchar(32) NOT NULL,\n\t\tstats blob DEFAULT NULL,\n\t\tversion bigint(64) unsigned NOT NULL,\n\t\tstatus tinyint(4) NOT NULL,\n\t\tPRIMARY KEY(name, table_id),\n\t\tKEY idx_1 (table_id, status, version),\n\t\tKEY idx_2 (status, version)\n\t);"] [user=]
[2024/05/17 10:47:28.317 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:47, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:46, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:28.316 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:47:28.317 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:47, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:46, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:28.316 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_extended (\n\t\tname varchar(32) NOT NULL,\n\t\ttype tinyint(4) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tcolumn_ids varchar(32) NOT NULL,\n\t\tstats blob DEFAULT NULL,\n\t\tversion bigint(64) unsigned NOT NULL,\n\t\tstatus tinyint(4) NOT NULL,\n\t\tPRIMARY KEY(name, table_id),\n\t\tKEY idx_1 (table_id, status, version),\n\t\tKEY idx_2 (status, version)\n\t);"]
[2024/05/17 10:47:28.323 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=47] [category=ddl] [job="ID:47, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:46, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:28.316 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:28.325 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816572284108800] ["schema version"=23]
[2024/05/17 10:47:28.325 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=22] [neededSchemaVersion=23] ["start time"=355.167µs] [gotSchemaVersion=23] [phyTblIDs="[46]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:47:28.327 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:47:28.327 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=47] [version=23]
[2024/05/17 10:47:28.329 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=23] ["take time"=4.176916ms] [job="ID:47, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:46, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:28.316 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:28.338 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=47] [job="ID:47, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:46, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:28.316 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:28.340 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=47]
[2024/05/17 10:47:28.340 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:47:28.340 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816572284108800] ["schema version"=23]
[2024/05/17 10:47:28.340 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=23] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_fm_sketch (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tvalue \t\tLONGBLOB,\n\t\tINDEX tbl(table_id, is_index, hist_id)\n\t);"] [user=]
[2024/05/17 10:47:28.342 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:49, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:48, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:28.341 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:47:28.342 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:49, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:48, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:28.341 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_fm_sketch (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tvalue \t\tLONGBLOB,\n\t\tINDEX tbl(table_id, is_index, hist_id)\n\t);"]
[2024/05/17 10:47:28.346 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816572284108800] ["schema version"=23]
[2024/05/17 10:47:28.348 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=49] [category=ddl] [job="ID:49, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:48, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:28.341 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:28.349 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816572290400256] ["schema version"=24]
[2024/05/17 10:47:28.349 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=23] [neededSchemaVersion=24] ["start time"=189.209µs] [gotSchemaVersion=24] [phyTblIDs="[48]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:47:28.350 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:47:28.350 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=49] [version=24]
[2024/05/17 10:47:28.351 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=24] ["take time"=2.277ms] [job="ID:49, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:48, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:28.341 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:28.354 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=49] [job="ID:49, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:48, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:28.341 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:28.355 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=49]
[2024/05/17 10:47:28.355 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:47:28.355 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816572290400256] ["schema version"=24]
[2024/05/17 10:47:28.355 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=24] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.global_grants (\n\t\tUSER char(32) NOT NULL DEFAULT '',\n\t\tHOST char(255) NOT NULL DEFAULT '',\n\t\tPRIV char(32) NOT NULL DEFAULT '',\n\t\tWITH_GRANT_OPTION enum('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (USER,HOST,PRIV)\n\t);"] [user=]
[2024/05/17 10:47:28.356 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:51, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:50, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:28.356 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:47:28.356 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:51, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:50, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:28.356 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.global_grants (\n\t\tUSER char(32) NOT NULL DEFAULT '',\n\t\tHOST char(255) NOT NULL DEFAULT '',\n\t\tPRIV char(32) NOT NULL DEFAULT '',\n\t\tWITH_GRANT_OPTION enum('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (USER,HOST,PRIV)\n\t);"]
[2024/05/17 10:47:28.359 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=51] [category=ddl] [job="ID:51, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:50, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:28.356 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:28.361 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816572293283844] ["schema version"=25]
[2024/05/17 10:47:28.361 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=24] [neededSchemaVersion=25] ["start time"=170.417µs] [gotSchemaVersion=25] [phyTblIDs="[50]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:47:28.361 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:47:28.361 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=51] [version=25]
[2024/05/17 10:47:28.363 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=25] ["take time"=2.409583ms] [job="ID:51, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:50, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:28.356 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:28.366 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=51] [job="ID:51, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:50, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:28.356 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:28.367 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=51]
[2024/05/17 10:47:28.367 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:47:28.367 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816572293283844] ["schema version"=25]
[2024/05/17 10:47:28.367 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=25] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.capture_plan_baselines_blacklist (\n\t\tid bigint(64) auto_increment,\n\t\tfilter_type varchar(32) NOT NULL COMMENT \"type of the filter, only db, table and frequency supported now\",\n\t\tfilter_value varchar(32) NOT NULL,\n\t\tkey idx(filter_type),\n\t\tprimary key(id)\n\t);"] [user=]
[2024/05/17 10:47:28.368 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:53, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:52, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:28.368 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:47:28.368 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:53, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:52, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:28.368 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.capture_plan_baselines_blacklist (\n\t\tid bigint(64) auto_increment,\n\t\tfilter_type varchar(32) NOT NULL COMMENT \"type of the filter, only db, table and frequency supported now\",\n\t\tfilter_value varchar(32) NOT NULL,\n\t\tkey idx(filter_type),\n\t\tprimary key(id)\n\t);"]
[2024/05/17 10:47:28.371 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=53] [category=ddl] [job="ID:53, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:52, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:28.368 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:28.373 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816572296429568] ["schema version"=26]
[2024/05/17 10:47:28.373 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=25] [neededSchemaVersion=26] ["start time"=169.5µs] [gotSchemaVersion=26] [phyTblIDs="[52]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:47:28.373 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:47:28.373 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=53] [version=26]
[2024/05/17 10:47:28.375 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=26] ["take time"=2.511417ms] [job="ID:53, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:52, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:28.368 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:28.377 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=53] [job="ID:53, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:52, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:28.368 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:28.379 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=53]
[2024/05/17 10:47:28.379 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:47:28.379 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816572296429568] ["schema version"=26]
[2024/05/17 10:47:28.379 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=26] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.column_stats_usage (\n\t\ttable_id BIGINT(64) NOT NULL,\n\t\tcolumn_id BIGINT(64) NOT NULL,\n\t\tlast_used_at TIMESTAMP,\n\t\tlast_analyzed_at TIMESTAMP,\n\t\tPRIMARY KEY (table_id, column_id) CLUSTERED\n\t);"] [user=]
[2024/05/17 10:47:28.380 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:55, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:54, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:28.379 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:47:28.380 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:55, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:54, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:28.379 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.column_stats_usage (\n\t\ttable_id BIGINT(64) NOT NULL,\n\t\tcolumn_id BIGINT(64) NOT NULL,\n\t\tlast_used_at TIMESTAMP,\n\t\tlast_analyzed_at TIMESTAMP,\n\t\tPRIMARY KEY (table_id, column_id) CLUSTERED\n\t);"]
[2024/05/17 10:47:28.382 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=55] [category=ddl] [job="ID:55, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:54, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:28.379 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:28.384 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816572299313158] ["schema version"=27]
[2024/05/17 10:47:28.384 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=26] [neededSchemaVersion=27] ["start time"=185.167µs] [gotSchemaVersion=27] [phyTblIDs="[54]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:47:28.384 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:47:28.384 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=55] [version=27]
[2024/05/17 10:47:28.385 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=27] ["take time"=2.006417ms] [job="ID:55, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:54, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:28.379 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:28.389 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=55] [job="ID:55, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:54, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:28.379 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:28.390 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=55]
[2024/05/17 10:47:28.390 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:47:28.390 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816572299313158] ["schema version"=27]
[2024/05/17 10:47:28.390 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=27] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.table_cache_meta (\n\t\ttid bigint(11) NOT NULL DEFAULT 0,\n\t\tlock_type enum('NONE','READ', 'INTEND', 'WRITE') NOT NULL DEFAULT 'NONE',\n\t\tlease bigint(20) NOT NULL DEFAULT 0,\n\t\toldReadLease bigint(20) NOT NULL DEFAULT 0,\n\t\tPRIMARY KEY (tid)\n\t);"] [user=]
[2024/05/17 10:47:28.391 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:57, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:56, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:28.391 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:47:28.391 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:57, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:56, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:28.391 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.table_cache_meta (\n\t\ttid bigint(11) NOT NULL DEFAULT 0,\n\t\tlock_type enum('NONE','READ', 'INTEND', 'WRITE') NOT NULL DEFAULT 'NONE',\n\t\tlease bigint(20) NOT NULL DEFAULT 0,\n\t\toldReadLease bigint(20) NOT NULL DEFAULT 0,\n\t\tPRIMARY KEY (tid)\n\t);"]
[2024/05/17 10:47:28.394 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=57] [category=ddl] [job="ID:57, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:56, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:28.391 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:28.395 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816572302458880] ["schema version"=28]
[2024/05/17 10:47:28.395 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=27] [neededSchemaVersion=28] ["start time"=157.458µs] [gotSchemaVersion=28] [phyTblIDs="[56]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:47:28.396 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:47:28.396 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=57] [version=28]
[2024/05/17 10:47:28.397 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=28] ["take time"=2.00375ms] [job="ID:57, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:56, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:28.391 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:28.400 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=57] [job="ID:57, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:56, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:28.391 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:28.402 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=57]
[2024/05/17 10:47:28.402 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:47:28.402 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816572302458880] ["schema version"=28]
[2024/05/17 10:47:28.402 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=28] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.analyze_options (\n\t\ttable_id BIGINT(64) NOT NULL,\n\t\tsample_num BIGINT(64) NOT NULL DEFAULT 0,\n\t\tsample_rate DOUBLE NOT NULL DEFAULT -1,\n\t\tbuckets BIGINT(64) NOT NULL DEFAULT 0,\n\t\ttopn BIGINT(64) NOT NULL DEFAULT -1,\n\t\tcolumn_choice enum('DEFAULT','ALL','PREDICATE','LIST') NOT NULL DEFAULT 'DEFAULT',\n\t\tcolumn_ids TEXT(19372),\n\t\tPRIMARY KEY (table_id) CLUSTERED\n\t);"] [user=]
[2024/05/17 10:47:28.402 +08:00] [INFO] [ddl_api.go:1141] ["Automatically convert BLOB(19372) to MEDIUMBLOB"] [category=ddl]
[2024/05/17 10:47:28.403 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:59, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:58, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:28.403 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:47:28.403 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:59, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:58, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:28.403 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.analyze_options (\n\t\ttable_id BIGINT(64) NOT NULL,\n\t\tsample_num BIGINT(64) NOT NULL DEFAULT 0,\n\t\tsample_rate DOUBLE NOT NULL DEFAULT -1,\n\t\tbuckets BIGINT(64) NOT NULL DEFAULT 0,\n\t\ttopn BIGINT(64) NOT NULL DEFAULT -1,\n\t\tcolumn_choice enum('DEFAULT','ALL','PREDICATE','LIST') NOT NULL DEFAULT 'DEFAULT',\n\t\tcolumn_ids TEXT(19372),\n\t\tPRIMARY KEY (table_id) CLUSTERED\n\t);"]
[2024/05/17 10:47:28.406 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=59] [category=ddl] [job="ID:59, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:58, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:28.403 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:28.407 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816572305604609] ["schema version"=29]
[2024/05/17 10:47:28.407 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=28] [neededSchemaVersion=29] ["start time"=211.333µs] [gotSchemaVersion=29] [phyTblIDs="[58]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:47:28.408 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:47:28.408 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=59] [version=29]
[2024/05/17 10:47:28.409 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=29] ["take time"=2.004375ms] [job="ID:59, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:58, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:28.403 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:28.413 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=59] [job="ID:59, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:58, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:28.403 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:28.415 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=59]
[2024/05/17 10:47:28.415 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:47:28.415 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816572305604609] ["schema version"=29]
[2024/05/17 10:47:28.415 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=29] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_history (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tstats_data longblob NOT NULL,\n\t\tseq_no bigint(64) NOT NULL comment 'sequence number of the gzipped data slice',\n\t\tversion bigint(64) NOT NULL comment 'stats version which corresponding to stats:version in EXPLAIN',\n\t\tcreate_time datetime(6) NOT NULL,\n\t\tUNIQUE KEY table_version_seq (table_id, version, seq_no),\n\t\tKEY table_create_time (table_id, create_time, seq_no),\n    \tKEY idx_create_time (create_time)\n\t);"] [user=]
[2024/05/17 10:47:28.416 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:61, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:60, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:28.415 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:47:28.416 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:61, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:60, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:28.415 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_history (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tstats_data longblob NOT NULL,\n\t\tseq_no bigint(64) NOT NULL comment 'sequence number of the gzipped data slice',\n\t\tversion bigint(64) NOT NULL comment 'stats version which corresponding to stats:version in EXPLAIN',\n\t\tcreate_time datetime(6) NOT NULL,\n\t\tUNIQUE KEY table_version_seq (table_id, version, seq_no),\n\t\tKEY table_create_time (table_id, create_time, seq_no),\n    \tKEY idx_create_time (create_time)\n\t);"]
[2024/05/17 10:47:28.419 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=61] [category=ddl] [job="ID:61, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:60, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:28.415 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:28.421 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816572309012482] ["schema version"=30]
[2024/05/17 10:47:28.421 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=29] [neededSchemaVersion=30] ["start time"=224.541µs] [gotSchemaVersion=30] [phyTblIDs="[60]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:47:28.421 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:47:28.421 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=61] [version=30]
[2024/05/17 10:47:28.423 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=30] ["take time"=2.698666ms] [job="ID:61, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:60, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:28.415 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:28.426 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=61] [job="ID:61, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:60, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:28.415 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:28.428 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=61]
[2024/05/17 10:47:28.428 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:47:28.428 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816572309012482] ["schema version"=30]
[2024/05/17 10:47:28.428 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=30] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_meta_history (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tmodify_count bigint(64) NOT NULL,\n\t\tcount bigint(64) NOT NULL,\n\t\tversion bigint(64) NOT NULL comment 'stats version which corresponding to stats:version in EXPLAIN',\n    \tsource varchar(40) NOT NULL,\n\t\tcreate_time datetime(6) NOT NULL,\n\t\tUNIQUE KEY table_version (table_id, version),\n\t\tKEY table_create_time (table_id, create_time),\n    \tKEY idx_create_time (create_time)\n\t);"] [user=]
[2024/05/17 10:47:28.429 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:63, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:62, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:28.429 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:47:28.429 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:63, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:62, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:28.429 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_meta_history (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tmodify_count bigint(64) NOT NULL,\n\t\tcount bigint(64) NOT NULL,\n\t\tversion bigint(64) NOT NULL comment 'stats version which corresponding to stats:version in EXPLAIN',\n    \tsource varchar(40) NOT NULL,\n\t\tcreate_time datetime(6) NOT NULL,\n\t\tUNIQUE KEY table_version (table_id, version),\n\t\tKEY table_create_time (table_id, create_time),\n    \tKEY idx_create_time (create_time)\n\t);"]
[2024/05/17 10:47:28.432 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=63] [category=ddl] [job="ID:63, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:62, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:28.429 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:28.433 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816572312420354] ["schema version"=31]
[2024/05/17 10:47:28.433 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=30] [neededSchemaVersion=31] ["start time"=235.041µs] [gotSchemaVersion=31] [phyTblIDs="[62]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:47:28.434 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:47:28.434 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=63] [version=31]
[2024/05/17 10:47:28.435 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=31] ["take time"=2.13475ms] [job="ID:63, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:62, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:28.429 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:28.440 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=63] [job="ID:63, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:62, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:28.429 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:28.441 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=63]
[2024/05/17 10:47:28.441 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:47:28.441 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816572312420354] ["schema version"=31]
[2024/05/17 10:47:28.442 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=31] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.analyze_jobs (\n\t\tid BIGINT(64) UNSIGNED NOT NULL AUTO_INCREMENT,\n\t\tupdate_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\ttable_schema CHAR(64) NOT NULL DEFAULT '',\n\t\ttable_name CHAR(64) NOT NULL DEFAULT '',\n\t\tpartition_name CHAR(64) NOT NULL DEFAULT '',\n\t\tjob_info TEXT NOT NULL,\n\t\tprocessed_rows BIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tstart_time TIMESTAMP,\n\t\tend_time TIMESTAMP,\n\t\tstate ENUM('pending', 'running', 'finished', 'failed') NOT NULL,\n\t\tfail_reason TEXT,\n\t\tinstance VARCHAR(512) NOT NULL comment 'address of the TiDB instance executing the analyze job',\n\t\tprocess_id BIGINT(64) UNSIGNED comment 'ID of the process executing the analyze job',\n\t\tPRIMARY KEY (id),\n\t\tKEY (update_time)\n\t);"] [user=]
[2024/05/17 10:47:28.443 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:65, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:64, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:28.442 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:47:28.443 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:65, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:64, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:28.442 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.analyze_jobs (\n\t\tid BIGINT(64) UNSIGNED NOT NULL AUTO_INCREMENT,\n\t\tupdate_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\ttable_schema CHAR(64) NOT NULL DEFAULT '',\n\t\ttable_name CHAR(64) NOT NULL DEFAULT '',\n\t\tpartition_name CHAR(64) NOT NULL DEFAULT '',\n\t\tjob_info TEXT NOT NULL,\n\t\tprocessed_rows BIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tstart_time TIMESTAMP,\n\t\tend_time TIMESTAMP,\n\t\tstate ENUM('pending', 'running', 'finished', 'failed') NOT NULL,\n\t\tfail_reason TEXT,\n\t\tinstance VARCHAR(512) NOT NULL comment 'address of the TiDB instance executing the analyze job',\n\t\tprocess_id BIGINT(64) UNSIGNED comment 'ID of the process executing the analyze job',\n\t\tPRIMARY KEY (id),\n\t\tKEY (update_time)\n\t);"]
[2024/05/17 10:47:28.447 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816572312420354] ["schema version"=31]
[2024/05/17 10:47:28.447 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=65] [category=ddl] [job="ID:65, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:64, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:28.442 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:28.450 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816572316614656] ["schema version"=32]
[2024/05/17 10:47:28.450 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=31] [neededSchemaVersion=32] ["start time"=328.041µs] [gotSchemaVersion=32] [phyTblIDs="[64]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:47:28.450 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:47:28.450 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=65] [version=32]
[2024/05/17 10:47:28.451 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=32] ["take time"=2.066ms] [job="ID:65, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:64, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:28.442 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:28.455 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=65] [job="ID:65, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:64, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:28.442 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:28.457 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=65]
[2024/05/17 10:47:28.457 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:47:28.457 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816572316614656] ["schema version"=32]
[2024/05/17 10:47:28.457 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=32] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.advisory_locks (\n\t\tlock_name VARCHAR(64) NOT NULL PRIMARY KEY\n\t);"] [user=]
[2024/05/17 10:47:28.458 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:67, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:66, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:28.457 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:47:28.458 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:67, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:66, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:28.457 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.advisory_locks (\n\t\tlock_name VARCHAR(64) NOT NULL PRIMARY KEY\n\t);"]
[2024/05/17 10:47:28.462 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=67] [category=ddl] [job="ID:67, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:66, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:28.457 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:28.463 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816572320284672] ["schema version"=33]
[2024/05/17 10:47:28.463 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=32] [neededSchemaVersion=33] ["start time"=133.375µs] [gotSchemaVersion=33] [phyTblIDs="[66]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:47:28.463 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:47:28.463 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=67] [version=33]
[2024/05/17 10:47:28.465 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=33] ["take time"=2.643ms] [job="ID:67, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:66, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:28.457 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:28.468 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=67] [job="ID:67, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:66, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:28.457 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:28.470 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=67]
[2024/05/17 10:47:28.470 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:47:28.470 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816572320284672] ["schema version"=33]
[2024/05/17 10:47:28.475 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:69, Type:create view, State:queueing, SchemaState:none, SchemaID:1, TableID:68, RowCount:0, ArgLen:3, start time: 2024-05-17 10:47:28.474 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:47:28.475 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:69, Type:create view, State:queueing, SchemaState:none, SchemaID:1, TableID:68, RowCount:0, ArgLen:3, start time: 2024-05-17 10:47:28.474 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE OR REPLACE VIEW mysql.tidb_mdl_view as (\n\t\tSELECT tidb_mdl_info.job_id,\n\t\t\tJSON_UNQUOTE(JSON_EXTRACT(cast(cast(job_meta as char) as json), \"$.schema_name\")) as db_name,\n\t\t\tJSON_UNQUOTE(JSON_EXTRACT(cast(cast(job_meta as char) as json), \"$.table_name\")) as table_name,\n\t\t\tJSON_UNQUOTE(JSON_EXTRACT(cast(cast(job_meta as char) as json), \"$.query\")) as query,\n\t\t\tsession_id,\n\t\t\tcluster_tidb_trx.start_time,\n\t\t\ttidb_decode_sql_digests(all_sql_digests, 4096) AS SQL_DIGESTS\n\t\tFROM mysql.tidb_ddl_job,\n\t\t\tmysql.tidb_mdl_info,\n\t\t\tinformation_schema.cluster_tidb_trx\n\t\tWHERE tidb_ddl_job.job_id=tidb_mdl_info.job_id\n\t\t\tAND CONCAT(',', tidb_mdl_info.table_ids, ',') REGEXP CONCAT(',(', REPLACE(cluster_tidb_trx.related_table_ids, ',', '|'), '),') != 0\n\t);"]
[2024/05/17 10:47:28.482 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=69] [category=ddl] [job="ID:69, Type:create view, State:queueing, SchemaState:none, SchemaID:1, TableID:68, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:28.474 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:28.484 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816572325527552] ["schema version"=34]
[2024/05/17 10:47:28.484 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=33] [neededSchemaVersion=34] ["start time"=276.667µs] [gotSchemaVersion=34] [phyTblIDs="[68]"] [actionTypes="[21]"] [diffTypes="[\"create view\"]"]
[2024/05/17 10:47:28.485 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:47:28.485 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=69] [version=34]
[2024/05/17 10:47:28.490 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=34] ["take time"=6.978875ms] [job="ID:69, Type:create view, State:done, SchemaState:public, SchemaID:1, TableID:68, RowCount:0, ArgLen:3, start time: 2024-05-17 10:47:28.474 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:28.496 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=69] [job="ID:69, Type:create view, State:synced, SchemaState:public, SchemaID:1, TableID:68, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:28.474 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:28.498 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=69]
[2024/05/17 10:47:28.498 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:47:28.498 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816572325527552] ["schema version"=34]
[2024/05/17 10:47:28.498 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=34] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.plan_replayer_status (\n\t\tsql_digest VARCHAR(128),\n\t\tplan_digest VARCHAR(128),\n\t\torigin_sql TEXT,\n\t\ttoken VARCHAR(128),\n\t\tupdate_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\tfail_reason TEXT,\n\t\tinstance VARCHAR(512) NOT NULL comment 'address of the TiDB instance executing the plan replayer job');"] [user=]
[2024/05/17 10:47:28.499 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:71, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:70, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:28.499 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:47:28.499 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:71, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:70, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:28.499 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.plan_replayer_status (\n\t\tsql_digest VARCHAR(128),\n\t\tplan_digest VARCHAR(128),\n\t\torigin_sql TEXT,\n\t\ttoken VARCHAR(128),\n\t\tupdate_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\tfail_reason TEXT,\n\t\tinstance VARCHAR(512) NOT NULL comment 'address of the TiDB instance executing the plan replayer job');"]
[2024/05/17 10:47:28.506 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=71] [category=ddl] [job="ID:71, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:70, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:28.499 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:28.508 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816572331819010] ["schema version"=35]
[2024/05/17 10:47:28.508 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=34] [neededSchemaVersion=35] ["start time"=326.291µs] [gotSchemaVersion=35] [phyTblIDs="[70]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:47:28.509 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:47:28.509 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=71] [version=35]
[2024/05/17 10:47:28.511 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=35] ["take time"=3.572042ms] [job="ID:71, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:70, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:28.499 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:28.515 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=71] [job="ID:71, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:70, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:28.499 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:28.517 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=71]
[2024/05/17 10:47:28.517 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:47:28.517 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816572331819010] ["schema version"=35]
[2024/05/17 10:47:28.517 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=35] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.plan_replayer_task (\n\t\tsql_digest VARCHAR(128) NOT NULL,\n\t\tplan_digest VARCHAR(128) NOT NULL,\n\t\tupdate_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\tPRIMARY KEY (sql_digest,plan_digest));"] [user=]
[2024/05/17 10:47:28.518 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:73, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:72, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:28.517 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:47:28.518 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:73, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:72, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:28.517 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.plan_replayer_task (\n\t\tsql_digest VARCHAR(128) NOT NULL,\n\t\tplan_digest VARCHAR(128) NOT NULL,\n\t\tupdate_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\tPRIMARY KEY (sql_digest,plan_digest));"]
[2024/05/17 10:47:28.521 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=73] [category=ddl] [job="ID:73, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:72, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:28.517 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:28.522 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816572335489032] ["schema version"=36]
[2024/05/17 10:47:28.522 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=35] [neededSchemaVersion=36] ["start time"=167.375µs] [gotSchemaVersion=36] [phyTblIDs="[72]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:47:28.522 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:47:28.522 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=73] [version=36]
[2024/05/17 10:47:28.524 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=36] ["take time"=2.62875ms] [job="ID:73, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:72, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:28.517 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:28.526 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=73] [job="ID:73, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:72, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:28.517 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:28.528 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=73]
[2024/05/17 10:47:28.528 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:47:28.528 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816572335489032] ["schema version"=36]
[2024/05/17 10:47:28.528 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=36] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_table_locked(\n\t\ttable_id bigint(64) NOT NULL,\n\t\tmodify_count bigint(64) NOT NULL DEFAULT 0,\n\t\tcount bigint(64) NOT NULL DEFAULT 0,\n\t\tversion bigint(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tPRIMARY KEY (table_id));"] [user=]
[2024/05/17 10:47:28.529 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:75, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:74, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:28.529 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:47:28.529 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:75, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:74, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:28.529 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_table_locked(\n\t\ttable_id bigint(64) NOT NULL,\n\t\tmodify_count bigint(64) NOT NULL DEFAULT 0,\n\t\tcount bigint(64) NOT NULL DEFAULT 0,\n\t\tversion bigint(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tPRIMARY KEY (table_id));"]
[2024/05/17 10:47:28.532 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=75] [category=ddl] [job="ID:75, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:74, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:28.529 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:28.533 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816572338634752] ["schema version"=37]
[2024/05/17 10:47:28.533 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=36] [neededSchemaVersion=37] ["start time"=143.625µs] [gotSchemaVersion=37] [phyTblIDs="[74]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:47:28.534 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:47:28.534 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=75] [version=37]
[2024/05/17 10:47:28.535 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=37] ["take time"=2.4035ms] [job="ID:75, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:74, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:28.529 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:28.538 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=75] [job="ID:75, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:74, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:28.529 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:28.540 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=75]
[2024/05/17 10:47:28.540 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:47:28.540 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816572338634752] ["schema version"=37]
[2024/05/17 10:47:28.540 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=37] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_ttl_table_status (\n\t\ttable_id bigint(64) PRIMARY KEY,\n        parent_table_id bigint(64),\n        table_statistics text DEFAULT NULL,\n\t\tlast_job_id varchar(64) DEFAULT NULL,\n\t\tlast_job_start_time timestamp NULL DEFAULT NULL,\n\t\tlast_job_finish_time timestamp NULL DEFAULT NULL,\n\t\tlast_job_ttl_expire timestamp NULL DEFAULT NULL,\n        last_job_summary text DEFAULT NULL,\n\t\tcurrent_job_id varchar(64) DEFAULT NULL,\n\t\tcurrent_job_owner_id varchar(64) DEFAULT NULL,\n\t\tcurrent_job_owner_addr varchar(256) DEFAULT NULL,\n\t\tcurrent_job_owner_hb_time timestamp,\n\t\tcurrent_job_start_time timestamp NULL DEFAULT NULL,\n\t\tcurrent_job_ttl_expire timestamp NULL DEFAULT NULL,\n\t\tcurrent_job_state text DEFAULT NULL,\n\t\tcurrent_job_status varchar(64) DEFAULT NULL,\n  \t\tcurrent_job_status_update_time timestamp NULL DEFAULT NULL);"] [user=]
[2024/05/17 10:47:28.541 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:77, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:76, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:28.541 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:47:28.541 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:77, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:76, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:28.541 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_ttl_table_status (\n\t\ttable_id bigint(64) PRIMARY KEY,\n        parent_table_id bigint(64),\n        table_statistics text DEFAULT NULL,\n\t\tlast_job_id varchar(64) DEFAULT NULL,\n\t\tlast_job_start_time timestamp NULL DEFAULT NULL,\n\t\tlast_job_finish_time timestamp NULL DEFAULT NULL,\n\t\tlast_job_ttl_expire timestamp NULL DEFAULT NULL,\n        last_job_summary text DEFAULT NULL,\n\t\tcurrent_job_id varchar(64) DEFAULT NULL,\n\t\tcurrent_job_owner_id varchar(64) DEFAULT NULL,\n\t\tcurrent_job_owner_addr varchar(256) DEFAULT NULL,\n\t\tcurrent_job_owner_hb_time timestamp,\n\t\tcurrent_job_start_time timestamp NULL DEFAULT NULL,\n\t\tcurrent_job_ttl_expire timestamp NULL DEFAULT NULL,\n\t\tcurrent_job_state text DEFAULT NULL,\n\t\tcurrent_job_status varchar(64) DEFAULT NULL,\n  \t\tcurrent_job_status_update_time timestamp NULL DEFAULT NULL);"]
[2024/05/17 10:47:28.544 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=77] [category=ddl] [job="ID:77, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:76, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:28.541 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:28.546 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816572342042624] ["schema version"=38]
[2024/05/17 10:47:28.546 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=37] [neededSchemaVersion=38] ["start time"=337.083µs] [gotSchemaVersion=38] [phyTblIDs="[76]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:47:28.547 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816572342042624] ["schema version"=38]
[2024/05/17 10:47:28.547 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:47:28.547 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=77] [version=38]
[2024/05/17 10:47:28.548 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=38] ["take time"=2.669875ms] [job="ID:77, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:76, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:28.541 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:28.552 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=77] [job="ID:77, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:76, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:28.541 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:28.554 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=77]
[2024/05/17 10:47:28.554 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:47:28.554 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816572342042624] ["schema version"=38]
[2024/05/17 10:47:28.554 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=38] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_ttl_task (\n\t\tjob_id varchar(64) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tscan_id int NOT NULL,\n\t\tscan_range_start BLOB,\n\t\tscan_range_end BLOB,\n\t\texpire_time timestamp NOT NULL,\n\t\towner_id varchar(64) DEFAULT NULL,\n\t\towner_addr varchar(64) DEFAULT NULL,\n\t\towner_hb_time timestamp DEFAULT NULL,\n\t\tstatus varchar(64) DEFAULT 'waiting',\n\t\tstatus_update_time timestamp NULL DEFAULT NULL,\n\t\tstate text,\n\t\tcreated_time timestamp NOT NULL,\n\t\tprimary key(job_id, scan_id),\n\t\tkey(created_time));"] [user=]
[2024/05/17 10:47:28.555 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:79, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:78, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:28.555 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:47:28.555 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:79, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:78, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:28.555 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_ttl_task (\n\t\tjob_id varchar(64) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tscan_id int NOT NULL,\n\t\tscan_range_start BLOB,\n\t\tscan_range_end BLOB,\n\t\texpire_time timestamp NOT NULL,\n\t\towner_id varchar(64) DEFAULT NULL,\n\t\towner_addr varchar(64) DEFAULT NULL,\n\t\towner_hb_time timestamp DEFAULT NULL,\n\t\tstatus varchar(64) DEFAULT 'waiting',\n\t\tstatus_update_time timestamp NULL DEFAULT NULL,\n\t\tstate text,\n\t\tcreated_time timestamp NOT NULL,\n\t\tprimary key(job_id, scan_id),\n\t\tkey(created_time));"]
[2024/05/17 10:47:28.559 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=79] [category=ddl] [job="ID:79, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:78, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:28.555 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:28.561 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816572345712640] ["schema version"=39]
[2024/05/17 10:47:28.561 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=38] [neededSchemaVersion=39] ["start time"=315.625µs] [gotSchemaVersion=39] [phyTblIDs="[78]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:47:28.562 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:47:28.562 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=79] [version=39]
[2024/05/17 10:47:28.563 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=39] ["take time"=2.809708ms] [job="ID:79, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:78, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:28.555 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:28.567 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=79] [job="ID:79, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:78, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:28.555 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:28.568 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=79]
[2024/05/17 10:47:28.568 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:47:28.568 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816572345712640] ["schema version"=39]
[2024/05/17 10:47:28.569 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=39] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_ttl_job_history (\n\t\tjob_id varchar(64) PRIMARY KEY,\n\t\ttable_id bigint(64) NOT NULL,\n        parent_table_id bigint(64) NOT NULL,\n    \ttable_schema varchar(64) NOT NULL,\n\t\ttable_name varchar(64) NOT NULL,\n    \tpartition_name varchar(64) DEFAULT NULL,\n\t\tcreate_time timestamp NOT NULL,\n\t\tfinish_time timestamp NOT NULL,\n\t\tttl_expire timestamp NOT NULL,\n        summary_text text,\n\t\texpired_rows bigint(64) DEFAULT NULL,\n    \tdeleted_rows bigint(64) DEFAULT NULL,\n    \terror_delete_rows bigint(64) DEFAULT NULL,\n    \tstatus varchar(64) NOT NULL,\n    \tkey(table_schema, table_name, create_time),\n    \tkey(parent_table_id, create_time),\n    \tkey(create_time)\n\t);"] [user=]
[2024/05/17 10:47:28.570 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:81, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:80, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:28.569 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:47:28.570 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:81, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:80, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:28.569 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_ttl_job_history (\n\t\tjob_id varchar(64) PRIMARY KEY,\n\t\ttable_id bigint(64) NOT NULL,\n        parent_table_id bigint(64) NOT NULL,\n    \ttable_schema varchar(64) NOT NULL,\n\t\ttable_name varchar(64) NOT NULL,\n    \tpartition_name varchar(64) DEFAULT NULL,\n\t\tcreate_time timestamp NOT NULL,\n\t\tfinish_time timestamp NOT NULL,\n\t\tttl_expire timestamp NOT NULL,\n        summary_text text,\n\t\texpired_rows bigint(64) DEFAULT NULL,\n    \tdeleted_rows bigint(64) DEFAULT NULL,\n    \terror_delete_rows bigint(64) DEFAULT NULL,\n    \tstatus varchar(64) NOT NULL,\n    \tkey(table_schema, table_name, create_time),\n    \tkey(parent_table_id, create_time),\n    \tkey(create_time)\n\t);"]
[2024/05/17 10:47:28.574 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=81] [category=ddl] [job="ID:81, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:80, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:28.569 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:28.576 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816572349644801] ["schema version"=40]
[2024/05/17 10:47:28.576 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=39] [neededSchemaVersion=40] ["start time"=379.375µs] [gotSchemaVersion=40] [phyTblIDs="[80]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:47:28.577 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:47:28.577 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=81] [version=40]
[2024/05/17 10:47:28.578 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=40] ["take time"=2.057833ms] [job="ID:81, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:80, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:28.569 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:28.581 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=81] [job="ID:81, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:80, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:28.569 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:28.583 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=81]
[2024/05/17 10:47:28.584 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:47:28.584 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816572349644801] ["schema version"=40]
[2024/05/17 10:47:28.584 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=40] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_global_task (\n\t\tid BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n    \ttask_key VARCHAR(256) NOT NULL,\n\t\ttype VARCHAR(256) NOT NULL,\n\t\tdispatcher_id VARCHAR(261),\n\t\tstate VARCHAR(64) NOT NULL,\n\t\tpriority INT DEFAULT 1,\n\t\tcreate_time TIMESTAMP,\n\t\tstart_time TIMESTAMP,\n\t\tstate_update_time TIMESTAMP,\n\t\tend_time TIMESTAMP,\n\t\tmeta LONGBLOB,\n\t\tconcurrency INT(11),\n\t\tstep INT(11),\n\t\ttarget_scope VARCHAR(256) DEFAULT \"\",\n\t\terror BLOB,\n\t\tkey(state),\n      \tUNIQUE KEY task_key(task_key)\n\t);"] [user=]
[2024/05/17 10:47:28.585 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:83, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:82, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:28.585 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:47:28.585 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:83, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:82, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:28.585 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_global_task (\n\t\tid BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n    \ttask_key VARCHAR(256) NOT NULL,\n\t\ttype VARCHAR(256) NOT NULL,\n\t\tdispatcher_id VARCHAR(261),\n\t\tstate VARCHAR(64) NOT NULL,\n\t\tpriority INT DEFAULT 1,\n\t\tcreate_time TIMESTAMP,\n\t\tstart_time TIMESTAMP,\n\t\tstate_update_time TIMESTAMP,\n\t\tend_time TIMESTAMP,\n\t\tmeta LONGBLOB,\n\t\tconcurrency INT(11),\n\t\tstep INT(11),\n\t\ttarget_scope VARCHAR(256) DEFAULT \"\",\n\t\terror BLOB,\n\t\tkey(state),\n      \tUNIQUE KEY task_key(task_key)\n\t);"]
[2024/05/17 10:47:28.588 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=83] [category=ddl] [job="ID:83, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:82, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:28.585 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:28.590 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816572353576960] ["schema version"=41]
[2024/05/17 10:47:28.590 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=40] [neededSchemaVersion=41] ["start time"=330.917µs] [gotSchemaVersion=41] [phyTblIDs="[82]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:47:28.591 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:47:28.591 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=83] [version=41]
[2024/05/17 10:47:28.592 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=41] ["take time"=2.010125ms] [job="ID:83, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:82, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:28.585 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:28.595 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=83] [job="ID:83, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:82, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:28.585 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:28.597 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=83]
[2024/05/17 10:47:28.597 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:47:28.598 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816572353576960] ["schema version"=41]
[2024/05/17 10:47:28.598 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=41] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_global_task_history (\n\t\tid BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n    \ttask_key VARCHAR(256) NOT NULL,\n\t\ttype VARCHAR(256) NOT NULL,\n\t\tdispatcher_id VARCHAR(261),\n\t\tstate VARCHAR(64) NOT NULL,\n\t\tpriority INT DEFAULT 1,\n\t\tcreate_time TIMESTAMP,\n\t\tstart_time TIMESTAMP,\n\t\tstate_update_time TIMESTAMP,\n\t\tend_time TIMESTAMP,\n\t\tmeta LONGBLOB,\n\t\tconcurrency INT(11),\n\t\tstep INT(11),\n\t\ttarget_scope VARCHAR(256) DEFAULT \"\",\n\t\terror BLOB,\n\t\tkey(state),\n      \tUNIQUE KEY task_key(task_key)\n\t);"] [user=]
[2024/05/17 10:47:28.612 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:85, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:84, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:28.602 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:47:28.612 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:85, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:84, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:28.602 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_global_task_history (\n\t\tid BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n    \ttask_key VARCHAR(256) NOT NULL,\n\t\ttype VARCHAR(256) NOT NULL,\n\t\tdispatcher_id VARCHAR(261),\n\t\tstate VARCHAR(64) NOT NULL,\n\t\tpriority INT DEFAULT 1,\n\t\tcreate_time TIMESTAMP,\n\t\tstart_time TIMESTAMP,\n\t\tstate_update_time TIMESTAMP,\n\t\tend_time TIMESTAMP,\n\t\tmeta LONGBLOB,\n\t\tconcurrency INT(11),\n\t\tstep INT(11),\n\t\ttarget_scope VARCHAR(256) DEFAULT \"\",\n\t\terror BLOB,\n\t\tkey(state),\n      \tUNIQUE KEY task_key(task_key)\n\t);"]
[2024/05/17 10:47:28.617 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=85] [category=ddl] [job="ID:85, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:84, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:28.602 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:28.619 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816572360916992] ["schema version"=42]
[2024/05/17 10:47:28.619 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=41] [neededSchemaVersion=42] ["start time"=330.625µs] [gotSchemaVersion=42] [phyTblIDs="[84]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:47:28.619 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:47:28.619 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=85] [version=42]
[2024/05/17 10:47:28.620 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=42] ["take time"=2.004375ms] [job="ID:85, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:84, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:28.602 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:28.624 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=85] [job="ID:85, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:84, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:28.602 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:28.626 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=85]
[2024/05/17 10:47:28.626 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:47:28.626 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816572360916992] ["schema version"=42]
[2024/05/17 10:47:28.626 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=42] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_import_jobs (\n\t\tid bigint(64) NOT NULL AUTO_INCREMENT,\n\t\tcreate_time TIMESTAMP(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6),\n\t\tstart_time TIMESTAMP(6) NULL DEFAULT NULL,\n\t\tupdate_time TIMESTAMP(6) NULL DEFAULT NULL,\n\t\tend_time TIMESTAMP(6) NULL DEFAULT NULL,\n\t\ttable_schema VARCHAR(64) NOT NULL,\n\t\ttable_name VARCHAR(64) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tcreated_by VARCHAR(300) NOT NULL,\n\t\tparameters text NOT NULL,\n\t\tsource_file_size bigint(64) NOT NULL,\n\t\tstatus VARCHAR(64) NOT NULL,\n\t\tstep VARCHAR(64) NOT NULL,\n\t\tsummary text DEFAULT NULL,\n\t\terror_message TEXT DEFAULT NULL,\n\t\tPRIMARY KEY (id),\n\t\tKEY (created_by),\n\t\tKEY (status));"] [user=]
[2024/05/17 10:47:28.628 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:87, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:86, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:28.627 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:47:28.628 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:87, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:86, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:28.627 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_import_jobs (\n\t\tid bigint(64) NOT NULL AUTO_INCREMENT,\n\t\tcreate_time TIMESTAMP(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6),\n\t\tstart_time TIMESTAMP(6) NULL DEFAULT NULL,\n\t\tupdate_time TIMESTAMP(6) NULL DEFAULT NULL,\n\t\tend_time TIMESTAMP(6) NULL DEFAULT NULL,\n\t\ttable_schema VARCHAR(64) NOT NULL,\n\t\ttable_name VARCHAR(64) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tcreated_by VARCHAR(300) NOT NULL,\n\t\tparameters text NOT NULL,\n\t\tsource_file_size bigint(64) NOT NULL,\n\t\tstatus VARCHAR(64) NOT NULL,\n\t\tstep VARCHAR(64) NOT NULL,\n\t\tsummary text DEFAULT NULL,\n\t\terror_message TEXT DEFAULT NULL,\n\t\tPRIMARY KEY (id),\n\t\tKEY (created_by),\n\t\tKEY (status));"]
[2024/05/17 10:47:28.631 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=87] [category=ddl] [job="ID:87, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:86, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:28.627 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:28.634 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816572364849152] ["schema version"=43]
[2024/05/17 10:47:28.634 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=42] [neededSchemaVersion=43] ["start time"=537.417µs] [gotSchemaVersion=43] [phyTblIDs="[86]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:47:28.634 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:47:28.634 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=87] [version=43]
[2024/05/17 10:47:28.636 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=43] ["take time"=2.678208ms] [job="ID:87, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:86, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:28.627 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:28.640 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=87] [job="ID:87, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:86, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:28.627 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:28.642 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=87]
[2024/05/17 10:47:28.642 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:47:28.642 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816572364849152] ["schema version"=43]
[2024/05/17 10:47:28.642 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=43] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_runaway_watch (\n\t\tid BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n\t\tresource_group_name varchar(32) not null,\n\t\tstart_time datetime(6) NOT NULL,\n\t\tend_time datetime(6),\n\t\twatch bigint(10) NOT NULL,\n\t\twatch_text TEXT NOT NULL,\n\t\tsource varchar(512) NOT NULL,\n\t\taction bigint(10),\n\t\tINDEX sql_index(resource_group_name,watch_text(700)) COMMENT \"accelerate the speed when select quarantined query\",\n\t\tINDEX time_index(end_time) COMMENT \"accelerate the speed when querying with active watch\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"] [user=]
[2024/05/17 10:47:28.643 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:89, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:88, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:28.643 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:47:28.643 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:89, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:88, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:28.643 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_runaway_watch (\n\t\tid BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n\t\tresource_group_name varchar(32) not null,\n\t\tstart_time datetime(6) NOT NULL,\n\t\tend_time datetime(6),\n\t\twatch bigint(10) NOT NULL,\n\t\twatch_text TEXT NOT NULL,\n\t\tsource varchar(512) NOT NULL,\n\t\taction bigint(10),\n\t\tINDEX sql_index(resource_group_name,watch_text(700)) COMMENT \"accelerate the speed when select quarantined query\",\n\t\tINDEX time_index(end_time) COMMENT \"accelerate the speed when querying with active watch\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"]
[2024/05/17 10:47:28.647 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=89] [category=ddl] [job="ID:89, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:88, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:28.643 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:28.648 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816572364849152] ["schema version"=43]
[2024/05/17 10:47:28.649 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816572369043458] ["schema version"=44]
[2024/05/17 10:47:28.649 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=43] [neededSchemaVersion=44] ["start time"=271.917µs] [gotSchemaVersion=44] [phyTblIDs="[88]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:47:28.650 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:47:28.650 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=89] [version=44]
[2024/05/17 10:47:28.651 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=44] ["take time"=2.00375ms] [job="ID:89, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:88, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:28.643 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:28.654 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=89] [job="ID:89, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:88, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:28.643 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:28.656 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=89]
[2024/05/17 10:47:28.656 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:47:28.656 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816572369043458] ["schema version"=44]
[2024/05/17 10:47:28.656 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=44] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_runaway_queries (\n\t\tresource_group_name varchar(32) not null,\n\t\ttime TIMESTAMP NOT NULL,\n\t\tmatch_type varchar(12) NOT NULL,\n\t\taction varchar(12) NOT NULL,\n\t\toriginal_sql TEXT NOT NULL,\n\t\tplan_digest TEXT NOT NULL,\n\t\ttidb_server varchar(512),\n\t\tINDEX plan_index(plan_digest(64)) COMMENT \"accelerate the speed when select runaway query\",\n\t\tINDEX time_index(time) COMMENT \"accelerate the speed when querying with active watch\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"] [user=]
[2024/05/17 10:47:28.657 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:91, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:90, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:28.657 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:47:28.657 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:91, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:90, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:28.657 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_runaway_queries (\n\t\tresource_group_name varchar(32) not null,\n\t\ttime TIMESTAMP NOT NULL,\n\t\tmatch_type varchar(12) NOT NULL,\n\t\taction varchar(12) NOT NULL,\n\t\toriginal_sql TEXT NOT NULL,\n\t\tplan_digest TEXT NOT NULL,\n\t\ttidb_server varchar(512),\n\t\tINDEX plan_index(plan_digest(64)) COMMENT \"accelerate the speed when select runaway query\",\n\t\tINDEX time_index(time) COMMENT \"accelerate the speed when querying with active watch\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"]
[2024/05/17 10:47:28.661 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=91] [category=ddl] [job="ID:91, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:90, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:28.657 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:28.664 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816572372713472] ["schema version"=45]
[2024/05/17 10:47:28.664 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=44] [neededSchemaVersion=45] ["start time"=329.833µs] [gotSchemaVersion=45] [phyTblIDs="[90]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:47:28.665 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:47:28.665 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=91] [version=45]
[2024/05/17 10:47:28.667 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=45] ["take time"=4.056917ms] [job="ID:91, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:90, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:28.657 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:28.674 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=91] [job="ID:91, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:90, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:28.657 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:28.676 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=91]
[2024/05/17 10:47:28.676 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:47:28.676 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816572372713472] ["schema version"=45]
[2024/05/17 10:47:28.677 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=45] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS `mysql`.`tidb_timers` (\n\t\tID BIGINT(64) UNSIGNED NOT NULL AUTO_INCREMENT,\n\t\tNAMESPACE VARCHAR(256) NOT NULL,\n\t\tTIMER_KEY VARCHAR(256) NOT NULL,\n\t\tTIMER_DATA BLOB,\n\t\tTIMEZONE VARCHAR(64) NOT NULL,\n\t\tSCHED_POLICY_TYPE VARCHAR(32) NOT NULL,\n\t\tSCHED_POLICY_EXPR VARCHAR(256) NOT NULL,\n\t\tHOOK_CLASS VARCHAR(64) NOT NULL,\n\t\tWATERMARK TIMESTAMP DEFAULT NULL,\n\t\tENABLE TINYINT(2) NOT NULL,\n\t\tTIMER_EXT JSON NOT NULL,\n\t\tEVENT_STATUS VARCHAR(32) NOT NULL,\n\t\tEVENT_ID VARCHAR(64) NOT NULL,\n\t\tEVENT_DATA BLOB,\n\t\tEVENT_START TIMESTAMP DEFAULT NULL,\n\t\tSUMMARY_DATA BLOB,\n\t\tCREATE_TIME TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,\n\t\tUPDATE_TIME TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\tVERSION BIGINT(64) UNSIGNED NOT NULL,\n\t\tPRIMARY KEY (ID),\n\t\tUNIQUE KEY timer_key(NAMESPACE, TIMER_KEY),\n\t\tKEY hook_class(HOOK_CLASS)\n\t)"] [user=]
[2024/05/17 10:47:28.680 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:93, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:92, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:28.679 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:47:28.680 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:93, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:92, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:28.679 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS `mysql`.`tidb_timers` (\n\t\tID BIGINT(64) UNSIGNED NOT NULL AUTO_INCREMENT,\n\t\tNAMESPACE VARCHAR(256) NOT NULL,\n\t\tTIMER_KEY VARCHAR(256) NOT NULL,\n\t\tTIMER_DATA BLOB,\n\t\tTIMEZONE VARCHAR(64) NOT NULL,\n\t\tSCHED_POLICY_TYPE VARCHAR(32) NOT NULL,\n\t\tSCHED_POLICY_EXPR VARCHAR(256) NOT NULL,\n\t\tHOOK_CLASS VARCHAR(64) NOT NULL,\n\t\tWATERMARK TIMESTAMP DEFAULT NULL,\n\t\tENABLE TINYINT(2) NOT NULL,\n\t\tTIMER_EXT JSON NOT NULL,\n\t\tEVENT_STATUS VARCHAR(32) NOT NULL,\n\t\tEVENT_ID VARCHAR(64) NOT NULL,\n\t\tEVENT_DATA BLOB,\n\t\tEVENT_START TIMESTAMP DEFAULT NULL,\n\t\tSUMMARY_DATA BLOB,\n\t\tCREATE_TIME TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,\n\t\tUPDATE_TIME TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\tVERSION BIGINT(64) UNSIGNED NOT NULL,\n\t\tPRIMARY KEY (ID),\n\t\tUNIQUE KEY timer_key(NAMESPACE, TIMER_KEY),\n\t\tKEY hook_class(HOOK_CLASS)\n\t)"]
[2024/05/17 10:47:28.686 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=93] [category=ddl] [job="ID:93, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:92, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:28.679 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:28.689 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816572379267072] ["schema version"=46]
[2024/05/17 10:47:28.689 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=45] [neededSchemaVersion=46] ["start time"=573.292µs] [gotSchemaVersion=46] [phyTblIDs="[92]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:47:28.692 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:47:28.692 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=93] [version=46]
[2024/05/17 10:47:28.694 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=46] ["take time"=5.029834ms] [job="ID:93, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:92, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:28.679 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:28.699 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=93] [job="ID:93, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:92, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:28.679 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:28.702 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=93]
[2024/05/17 10:47:28.702 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:47:28.702 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816572379267072] ["schema version"=46]
[2024/05/17 10:47:28.702 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=46] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_runaway_watch_done (\n\t\tid BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n\t\trecord_id BIGINT(20) not null,\n\t\tresource_group_name varchar(32) not null,\n\t\tstart_time datetime(6) NOT NULL,\n\t\tend_time datetime(6),\n\t\twatch bigint(10) NOT NULL,\n\t\twatch_text TEXT NOT NULL,\n\t\tsource varchar(512) NOT NULL,\n\t\taction bigint(10),\n\t\tdone_time TIMESTAMP(6) NOT NULL\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"] [user=]
[2024/05/17 10:47:28.703 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:95, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:94, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:28.703 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:47:28.703 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:95, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:94, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:28.703 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_runaway_watch_done (\n\t\tid BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n\t\trecord_id BIGINT(20) not null,\n\t\tresource_group_name varchar(32) not null,\n\t\tstart_time datetime(6) NOT NULL,\n\t\tend_time datetime(6),\n\t\twatch bigint(10) NOT NULL,\n\t\twatch_text TEXT NOT NULL,\n\t\tsource varchar(512) NOT NULL,\n\t\taction bigint(10),\n\t\tdone_time TIMESTAMP(6) NOT NULL\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"]
[2024/05/17 10:47:28.707 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=95] [category=ddl] [job="ID:95, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:94, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:28.703 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:28.709 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816572384509952] ["schema version"=47]
[2024/05/17 10:47:28.709 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=46] [neededSchemaVersion=47] ["start time"=269.458µs] [gotSchemaVersion=47] [phyTblIDs="[94]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:47:28.710 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:47:28.710 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=95] [version=47]
[2024/05/17 10:47:28.711 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=47] ["take time"=2.008ms] [job="ID:95, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:94, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:28.703 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:28.714 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=95] [job="ID:95, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:94, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:28.703 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:28.716 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=95]
[2024/05/17 10:47:28.716 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:47:28.716 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816572384509952] ["schema version"=47]
[2024/05/17 10:47:28.716 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=47] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.dist_framework_meta (\n        host VARCHAR(261) NOT NULL PRIMARY KEY,\n        role VARCHAR(64),\n        cpu_count int default 0,\n        keyspace_id bigint(8) NOT NULL DEFAULT -1\n    );"] [user=]
[2024/05/17 10:47:28.717 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:97, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:96, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:28.717 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:47:28.717 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:97, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:96, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:28.717 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.dist_framework_meta (\n        host VARCHAR(261) NOT NULL PRIMARY KEY,\n        role VARCHAR(64),\n        cpu_count int default 0,\n        keyspace_id bigint(8) NOT NULL DEFAULT -1\n    );"]
[2024/05/17 10:47:28.720 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=97] [category=ddl] [job="ID:97, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:96, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:28.717 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:28.721 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816572387917824] ["schema version"=48]
[2024/05/17 10:47:28.721 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=47] [neededSchemaVersion=48] ["start time"=162.791µs] [gotSchemaVersion=48] [phyTblIDs="[96]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:47:28.721 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:47:28.721 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=97] [version=48]
[2024/05/17 10:47:28.723 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=48] ["take time"=2.291ms] [job="ID:97, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:96, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:28.717 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:28.725 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=97] [job="ID:97, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:96, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:28.717 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:28.727 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=97]
[2024/05/17 10:47:28.727 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:47:28.727 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816572387917824] ["schema version"=48]
[2024/05/17 10:47:28.727 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=48] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.request_unit_by_group (\n\t\tstart_time TIMESTAMP(6) NOT NULL,\n\t\tend_time TIMESTAMP(6) NOT NULL,\n\t\tresource_group VARCHAR(32) NOT null,\n\t\ttotal_ru bigint(64) UNSIGNED NOT NULL,\n\t\tPRIMARY KEY (start_time, end_time, resource_group),\n\t\tKEY (resource_group)\n\t);"] [user=]
[2024/05/17 10:47:28.729 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:99, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:98, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:28.728 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:47:28.730 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:99, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:98, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:28.728 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.request_unit_by_group (\n\t\tstart_time TIMESTAMP(6) NOT NULL,\n\t\tend_time TIMESTAMP(6) NOT NULL,\n\t\tresource_group VARCHAR(32) NOT null,\n\t\ttotal_ru bigint(64) UNSIGNED NOT NULL,\n\t\tPRIMARY KEY (start_time, end_time, resource_group),\n\t\tKEY (resource_group)\n\t);"]
[2024/05/17 10:47:28.733 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=99] [category=ddl] [job="ID:99, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:98, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:28.728 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:28.734 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816572391063560] ["schema version"=49]
[2024/05/17 10:47:28.734 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=48] [neededSchemaVersion=49] ["start time"=201.625µs] [gotSchemaVersion=49] [phyTblIDs="[98]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:47:28.734 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:47:28.734 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=99] [version=49]
[2024/05/17 10:47:28.736 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=49] ["take time"=2.680375ms] [job="ID:99, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:98, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:28.728 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:28.739 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=99] [job="ID:99, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:98, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:28.728 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:28.741 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=99]
[2024/05/17 10:47:28.741 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:47:28.741 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816572391063560] ["schema version"=49]
[2024/05/17 10:47:28.741 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=49] [cur_db=mysql] [sql="CREATE DATABASE IF NOT EXISTS sys;"] [user=]
[2024/05/17 10:47:28.742 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:101, Type:create schema, State:queueing, SchemaState:none, SchemaID:100, TableID:0, RowCount:0, ArgLen:1, start time: 2024-05-17 10:47:28.742 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:47:28.742 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:101, Type:create schema, State:queueing, SchemaState:none, SchemaID:100, TableID:0, RowCount:0, ArgLen:1, start time: 2024-05-17 10:47:28.742 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE DATABASE IF NOT EXISTS sys;"]
[2024/05/17 10:47:28.746 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=101] [category=ddl] [job="ID:101, Type:create schema, State:queueing, SchemaState:none, SchemaID:100, TableID:0, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:28.742 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:28.748 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816572394733570] ["schema version"=50]
[2024/05/17 10:47:28.748 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=49] [neededSchemaVersion=50] ["start time"=49.375µs] [gotSchemaVersion=50] [phyTblIDs="[]"] [actionTypes="[]"] [diffTypes="[\"create schema\"]"]
[2024/05/17 10:47:28.748 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816572394733570] ["schema version"=50]
[2024/05/17 10:47:28.749 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:47:28.749 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=101] [version=50]
[2024/05/17 10:47:28.749 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=50] ["take time"=2.092917ms] [job="ID:101, Type:create schema, State:done, SchemaState:public, SchemaID:100, TableID:0, RowCount:0, ArgLen:1, start time: 2024-05-17 10:47:28.742 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:28.754 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=101] [job="ID:101, Type:create schema, State:synced, SchemaState:public, SchemaID:100, TableID:0, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:28.742 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:28.756 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=101]
[2024/05/17 10:47:28.756 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:47:28.756 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816572394733570] ["schema version"=50]
[2024/05/17 10:47:28.759 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:103, Type:create view, State:queueing, SchemaState:none, SchemaID:100, TableID:102, RowCount:0, ArgLen:3, start time: 2024-05-17 10:47:28.759 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:47:28.759 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:103, Type:create view, State:queueing, SchemaState:none, SchemaID:100, TableID:102, RowCount:0, ArgLen:3, start time: 2024-05-17 10:47:28.759 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE OR REPLACE VIEW sys.schema_unused_indexes AS\n\t\tSELECT\n\t\t\ttable_schema as object_schema,\n\t\t\ttable_name as object_name,\n\t\t\tindex_name\n\t\tFROM information_schema.cluster_tidb_index_usage\n\t\tWHERE\n\t\t\ttable_schema not in ('sys', 'mysql', 'INFORMATION_SCHEMA', 'PERFORMANCE_SCHEMA') and\n\t\t\tindex_name != 'PRIMARY'\n\t\tGROUP BY table_schema, table_name, index_name\n\t\tHAVING\n\t\t\tsum(last_access_time) is null;"]
[2024/05/17 10:47:28.763 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=103] [category=ddl] [job="ID:103, Type:create view, State:queueing, SchemaState:none, SchemaID:100, TableID:102, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:28.759 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:28.764 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816572399190016] ["schema version"=51]
[2024/05/17 10:47:28.764 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=50] [neededSchemaVersion=51] ["start time"=145µs] [gotSchemaVersion=51] [phyTblIDs="[102]"] [actionTypes="[21]"] [diffTypes="[\"create view\"]"]
[2024/05/17 10:47:28.765 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:47:28.765 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=103] [version=51]
[2024/05/17 10:47:28.766 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=51] ["take time"=2.00425ms] [job="ID:103, Type:create view, State:done, SchemaState:public, SchemaID:100, TableID:102, RowCount:0, ArgLen:3, start time: 2024-05-17 10:47:28.759 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:28.769 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=103] [job="ID:103, Type:create view, State:synced, SchemaState:public, SchemaID:100, TableID:102, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:28.759 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:28.771 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=103]
[2024/05/17 10:47:28.771 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:47:28.771 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816572399190016] ["schema version"=51]
[2024/05/17 10:47:28.781 +08:00] [INFO] [bootstrap.go:745] ["bootstrap successful"] ["take time"=957.699875ms]
[2024/05/17 10:47:28.782 +08:00] [INFO] [mock.go:106] ["owner manager is canceled"] [category=ddl] [ID=2bcd77f6-29a0-4c06-91e8-954e372100fd] [ownerKey=/tidb/ddl/fg/owner]
[2024/05/17 10:47:28.783 +08:00] [INFO] [ddl_workerpool.go:82] ["closing workerPool"] [category=ddl]
[2024/05/17 10:47:28.783 +08:00] [INFO] [ddl_worker.go:188] ["DDL worker closed"] [worker="worker 2, tp add index"] [category=ddl] ["take time"=917ns]
[2024/05/17 10:47:28.783 +08:00] [INFO] [ddl_workerpool.go:82] ["closing workerPool"] [category=ddl]
[2024/05/17 10:47:28.783 +08:00] [INFO] [ddl_worker.go:188] ["DDL worker closed"] [worker="worker 1, tp general"] [category=ddl] ["take time"=209ns]
[2024/05/17 10:47:28.783 +08:00] [INFO] [ddl_workerpool.go:82] ["closing workerPool"] [category=ddl]
[2024/05/17 10:47:28.783 +08:00] [INFO] [delete_range.go:162] ["closing delRange"] [category=ddl]
[2024/05/17 10:47:28.783 +08:00] [INFO] [session_pool.go:99] ["closing session pool"] [category=ddl]
[2024/05/17 10:47:28.784 +08:00] [INFO] [ddl.go:951] ["DDL closed"] [category=ddl] [ID=2bcd77f6-29a0-4c06-91e8-954e372100fd] ["take time"=2.7505ms]
[2024/05/17 10:47:28.784 +08:00] [INFO] [ddl.go:769] ["stop DDL"] [category=ddl] [ID=2bcd77f6-29a0-4c06-91e8-954e372100fd]
[2024/05/17 10:47:28.784 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=mdlCheckLoop]
[2024/05/17 10:47:28.784 +08:00] [INFO] [domain.go:977] ["loadSchemaInLoop exited."]
[2024/05/17 10:47:28.784 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=loadSchemaInLoop]
[2024/05/17 10:47:28.784 +08:00] [INFO] [domain.go:831] ["topologySyncerKeeper exited."]
[2024/05/17 10:47:28.784 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=topologySyncerKeeper]
[2024/05/17 10:47:28.784 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=runawayStartLoop]
[2024/05/17 10:47:28.784 +08:00] [INFO] [domain.go:807] ["globalConfigSyncerKeeper exited."]
[2024/05/17 10:47:28.784 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=globalConfigSyncerKeeper]
[2024/05/17 10:47:28.784 +08:00] [INFO] [domain.go:781] ["infoSyncerKeeper exited."]
[2024/05/17 10:47:28.784 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=infoSyncerKeeper]
[2024/05/17 10:47:28.784 +08:00] [INFO] [domain.go:753] ["topNSlowQueryLoop exited."]
[2024/05/17 10:47:28.784 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=topNSlowQueryLoop]
[2024/05/17 10:47:28.784 +08:00] [INFO] [domain.go:1431] ["closestReplicaReadCheckLoop exited."]
[2024/05/17 10:47:28.784 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=closestReplicaReadCheckLoop]
[2024/05/17 10:47:28.785 +08:00] [INFO] [domain.go:1144] ["domain closed"] ["take time"=3.259625ms]
[2024/05/17 10:47:28.785 +08:00] [INFO] [tidb.go:80] ["new domain"] [store=5cb658c3-2ed8-4ad4-a201-6e2c97796f9f] ["ddl lease"=200ms] ["stats lease"=3s]
[2024/05/17 10:47:28.786 +08:00] [WARN] [controller.go:198] ["[resource group controller] server does not save config, load config failed"]
[2024/05/17 10:47:28.786 +08:00] [INFO] [controller.go:185] ["load resource controller config"] [config="{\"degraded-mode-wait-duration\":\"0s\",\"ltb-max-wait-duration\":\"30s\",\"wait-retry-interval\":\"50ms\",\"wait-retry-times\":10,\"request-unit\":{\"read-base-cost\":0.125,\"read-per-batch-base-cost\":0.5,\"read-cost-per-byte\":0.0000152587890625,\"write-base-cost\":1,\"write-per-batch-base-cost\":1,\"write-cost-per-byte\":0.0009765625,\"read-cpu-ms-cost\":0.3333333333333333},\"enable-controller-trace-log\":\"false\"}"] [ru-config="{\"ReadBaseCost\":0.125,\"ReadPerBatchBaseCost\":0.5,\"ReadBytesCost\":0.0000152587890625,\"WriteBaseCost\":1,\"WritePerBatchBaseCost\":1,\"WriteBytesCost\":0.0009765625,\"CPUMsCost\":0.3333333333333333,\"LTBMaxWaitDuration\":30000000000,\"WaitRetryInterval\":50000000,\"WaitRetryTimes\":10,\"DegradedModeWaitDuration\":0}"]
[2024/05/17 10:47:28.797 +08:00] [INFO] [domain.go:385] ["full load InfoSchema success"] [currentSchemaVersion=0] [neededSchemaVersion=51] ["start time"=10.830291ms]
[2024/05/17 10:47:28.801 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816572399190016] ["schema version"=51]
[2024/05/17 10:47:28.801 +08:00] [INFO] [domain.go:705] ["full load and reset schema validator"]
[2024/05/17 10:47:28.801 +08:00] [INFO] [ddl.go:818] ["start DDL"] [category=ddl] [ID=c04cdc87-d82f-4fe4-b7f2-a7860a9530ed] [runWorker=true]
[2024/05/17 10:47:28.801 +08:00] [INFO] [ddl.go:777] ["start delRangeManager OK"] [category=ddl] ["is a emulator"=true]
[2024/05/17 10:47:28.802 +08:00] [WARN] [env.go:51] ["initialize environment failed"] [category=ddl-ingest] ["storage limitation"="only support TiKV storage"] ["current storage"=unistore] ["lightning is initialized"=false]
[2024/05/17 10:47:28.802 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=loadSchemaInLoop]
[2024/05/17 10:47:28.802 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=mdlCheckLoop]
[2024/05/17 10:47:28.802 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=topNSlowQueryLoop]
[2024/05/17 10:47:28.802 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=infoSyncerKeeper]
[2024/05/17 10:47:28.802 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=globalConfigSyncerKeeper]
[2024/05/17 10:47:28.802 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=runawayStartLoop]
[2024/05/17 10:47:28.802 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=requestUnitsWriterLoop]
[2024/05/17 10:47:28.802 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=topologySyncerKeeper]
[2024/05/17 10:47:28.802 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=closestReplicaReadCheckLoop]
[2024/05/17 10:47:28.802 +08:00] [WARN] [domain.go:1396] ["pd / etcd client not provided, won't begin Advancer."]
[2024/05/17 10:47:28.806 +08:00] [INFO] [delete_range.go:172] ["start delRange emulator"] [category=ddl]
[2024/05/17 10:47:28.806 +08:00] [INFO] [job_table.go:334] ["get global state and global state change"] [category=ddl] [oldState=false] [currState=false]
[2024/05/17 10:47:28.806 +08:00] [INFO] [runaway.go:149] ["try to start runaway manager loop"]
[2024/05/17 10:47:28.806 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=requestUnitsWriterLoop]
[2024/05/17 10:47:28.822 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=globalBindHandleWorkerLoop]
[2024/05/17 10:47:28.822 +08:00] [WARN] [sysvar_cache.go:49] ["sysvar cache is empty, triggering rebuild"]
[2024/05/17 10:47:28.824 +08:00] [INFO] [sysvar.go:2748] ["set resource control"] [enable=true]
[2024/05/17 10:47:28.824 +08:00] [INFO] [controller.go:447] ["[resource group controller] create resource group cost controller"] [name=default]
[2024/05/17 10:47:28.830 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=loadPrivilegeInLoop]
[2024/05/17 10:47:28.831 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=LoadSysVarCacheLoop]
[2024/05/17 10:47:28.831 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=PlanReplayerTaskCollectHandle]
[2024/05/17 10:47:28.831 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=PlanReplayerTaskDumpHandle]
[2024/05/17 10:47:28.831 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=dumpFileGcChecker]
[2024/05/17 10:47:28.831 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=HistoricalStatsWorker]
[2024/05/17 10:47:28.833 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=loadStatsWorker]
[2024/05/17 10:47:28.833 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=indexUsageWorker]
[2024/05/17 10:47:28.833 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=updateStatsWorker]
[2024/05/17 10:47:28.833 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=autoAnalyzeWorker]
[2024/05/17 10:47:28.833 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=analyzeJobsCleanupWorker]
[2024/05/17 10:47:28.833 +08:00] [INFO] [domain.go:2340] ["start load stats sub workers"] ["worker count"=5]
[2024/05/17 10:47:28.834 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=loadSigningCertLoop]
[2024/05/17 10:47:28.834 +08:00] [INFO] [manager.go:113] ["build task executor manager"] [server-id=:4000] [total-cpu=1] [total-mem=32GiB]
[2024/05/17 10:47:28.837 +08:00] [INFO] [domain.go:2086] ["PlanReplayerTaskCollectHandle started"]
[2024/05/17 10:47:28.837 +08:00] [INFO] [domain.go:2108] ["PlanReplayerTaskDumpHandle started"]
[2024/05/17 10:47:28.837 +08:00] [INFO] [plan_replayer.go:409] ["planReplayerTaskDumpWorker started."]
[2024/05/17 10:47:28.837 +08:00] [INFO] [domain.go:2140] ["dumpFileGcChecker started"]
[2024/05/17 10:47:28.837 +08:00] [INFO] [domain.go:2173] ["HistoricalStatsWorker started"]
[2024/05/17 10:47:28.838 +08:00] [INFO] [domain.go:2460] ["updateStatsWorker started."]
[2024/05/17 10:47:28.840 +08:00] [INFO] [task_manager.go:217] ["scale ttl worker"] [ttl-worker=job-manager] [ttl-worker=task-manager] [originalCount=0] [newCount=4]
[2024/05/17 10:47:28.840 +08:00] [INFO] [task_manager.go:217] ["scale ttl worker"] [ttl-worker=job-manager] [ttl-worker=task-manager] [originalCount=0] [newCount=4]
[2024/05/17 10:47:28.843 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=distTaskFrameworkLoop]
[2024/05/17 10:47:28.847 +08:00] [INFO] [manager.go:146] ["task executor manager start"] [server-id=:4000]
[2024/05/17 10:47:28.847 +08:00] [INFO] [domain.go:1595] ["dist task executor manager started"]
[2024/05/17 10:47:28.848 +08:00] [INFO] [set.go:170] ["set global var"] [conn=1] [name=tidb_schema_cache_size] [val=1024]
[2024/05/17 10:47:28.848 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=1] [schemaVersion=51] [cur_db=] [sql="create database cancel_job_db"] [user=]
[2024/05/17 10:47:28.849 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:105, Type:create schema, State:queueing, SchemaState:none, SchemaID:104, TableID:0, RowCount:0, ArgLen:1, start time: 2024-05-17 10:47:28.849 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:47:28.849 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:105, Type:create schema, State:queueing, SchemaState:none, SchemaID:104, TableID:0, RowCount:0, ArgLen:1, start time: 2024-05-17 10:47:28.849 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="create database cancel_job_db"]
[2024/05/17 10:47:28.850 +08:00] [INFO] [domain.go:2379] ["init stats info time"] [lite=true] ["take time"=12.488792ms]
[2024/05/17 10:47:28.862 +08:00] [INFO] [job_table.go:334] ["get global state and global state change"] [category=ddl] [oldState=false] [currState=false]
[2024/05/17 10:47:28.862 +08:00] [INFO] [job_table.go:349] ["the owner sets owner operator value"] [category=ddl] [ownerOp=none]
[2024/05/17 10:47:28.874 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=105] [conn=1] [category=ddl] [job="ID:105, Type:create schema, State:queueing, SchemaState:none, SchemaID:104, TableID:0, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:28.849 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:28.875 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816572428288001] ["schema version"=52]
[2024/05/17 10:47:28.875 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=51] [neededSchemaVersion=52] ["start time"=47.125µs] [gotSchemaVersion=52] [phyTblIDs="[]"] [actionTypes="[]"] [diffTypes="[\"create schema\"]"]
[2024/05/17 10:47:28.876 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:47:28.876 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=105] [version=52]
[2024/05/17 10:47:28.877 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=52] ["take time"=2.043875ms] [job="ID:105, Type:create schema, State:done, SchemaState:public, SchemaID:104, TableID:0, RowCount:0, ArgLen:1, start time: 2024-05-17 10:47:28.849 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:28.883 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=105] [conn=1] [job="ID:105, Type:create schema, State:synced, SchemaState:public, SchemaID:104, TableID:0, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:28.849 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:28.886 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=105]
[2024/05/17 10:47:28.886 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:47:28.886 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816572428288001] ["schema version"=52]
[2024/05/17 10:47:28.886 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=1] [schemaVersion=52] [cur_db=cancel_job_db] [sql="create table t(a int)"] [user=]
[2024/05/17 10:47:28.888 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:107, Type:create table, State:queueing, SchemaState:none, SchemaID:104, TableID:106, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:28.888 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:47:28.888 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:107, Type:create table, State:queueing, SchemaState:none, SchemaID:104, TableID:106, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:28.888 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="create table t(a int)"]
[2024/05/17 10:47:28.895 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=107] [conn=1] [category=ddl] [job="ID:107, Type:create table, State:queueing, SchemaState:none, SchemaID:104, TableID:106, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:28.888 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:28.896 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816572433793024] ["schema version"=53]
[2024/05/17 10:47:28.896 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=52] [neededSchemaVersion=53] ["start time"=152.709µs] [gotSchemaVersion=53] [phyTblIDs="[106]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:47:28.897 +08:00] [INFO] [ddl.go:78] ["Handle ddl event"] [category=stats] [event="(Event Type: create table, Schema ID: 104, Table ID: 106, Table Name: t"]
[2024/05/17 10:47:28.900 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:47:28.900 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=107] [version=53]
[2024/05/17 10:47:28.901 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=53] ["take time"=5.390667ms] [job="ID:107, Type:create table, State:done, SchemaState:public, SchemaID:104, TableID:106, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:28.888 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:28.906 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=107] [conn=1] [job="ID:107, Type:create table, State:synced, SchemaState:public, SchemaID:104, TableID:106, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:28.888 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:28.906 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816572433793024] ["schema version"=53]
[2024/05/17 10:47:28.908 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=107]
[2024/05/17 10:47:28.908 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:47:28.908 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816572433793024] ["schema version"=53]
[2024/05/17 10:47:28.909 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=1] [schemaVersion=53] [cur_db=cancel_job_db] [sql="truncate table t"] [user=]
[2024/05/17 10:47:28.911 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:109, Type:truncate table, State:queueing, SchemaState:none, SchemaID:104, TableID:106, RowCount:0, ArgLen:3, start time: 2024-05-17 10:47:28.91 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:47:28.911 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:109, Type:truncate table, State:queueing, SchemaState:none, SchemaID:104, TableID:106, RowCount:0, ArgLen:3, start time: 2024-05-17 10:47:28.91 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="truncate table t"]
[2024/05/17 10:47:28.914 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=109] [conn=1] [category=ddl] [job="ID:109, Type:truncate table, State:queueing, SchemaState:none, SchemaID:104, TableID:106, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:28.91 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:28.914 +08:00] [INFO] [ddl_worker.go:1171] ["DDL job is cancelled normally"] [worker="worker 3, tp general"] [category=ddl] [jobID=109] [conn=1] [error="occur an error after dropping table"] [errorVerbose="occur an error after dropping table\ngithub.com/pingcap/tidb/pkg/ddl.(*worker).onTruncateTable\n\t/Users/bba/pc/tidb/pkg/ddl/table.go:754\ngithub.com/pingcap/tidb/pkg/ddl.(*worker).runDDLJob\n\t/Users/bba/pc/tidb/pkg/ddl/ddl_worker.go:1295\ngithub.com/pingcap/tidb/pkg/ddl.(*worker).HandleDDLJobTable\n\t/Users/bba/pc/tidb/pkg/ddl/ddl_worker.go:968\ngithub.com/pingcap/tidb/pkg/ddl.(*ddl).delivery2Worker.func1\n\t/Users/bba/pc/tidb/pkg/ddl/job_table.go:462\ngithub.com/pingcap/tidb/pkg/util.(*WaitGroupWrapper).Run.func1\n\t/Users/bba/pc/tidb/pkg/util/wait_group_wrapper.go:157\nruntime.goexit\n\t/Users/bba/.gvm/gos/go1.21.0/src/runtime/asm_arm64.s:1197"]
[2024/05/17 10:47:28.915 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=109] [conn=1] [job="ID:109, Type:truncate table, State:cancelled, SchemaState:none, SchemaID:104, TableID:106, RowCount:0, ArgLen:3, start time: 2024-05-17 10:47:28.91 +0800 CST, Err:[ddl:-1]occur an error after dropping table, ErrCount:1, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:28.916 +08:00] [INFO] [ddl.go:1292] ["DDL job is failed"] [category=ddl] [jobID=109]
[2024/05/17 10:47:28.916 +08:00] [INFO] [tidb.go:269] ["rollbackTxn called due to ddl/autocommit failure"]
[2024/05/17 10:47:28.916 +08:00] [WARN] [session.go:2158] ["run statement failed"] [schemaVersion=53] [error="[ddl:-1]occur an error after dropping table"] [errorVerbose="[ddl:-1]occur an error after dropping table\ngithub.com/pingcap/errors.AddStack\n\t/Users/bba/.gvm/pkgsets/go1.21.0/global/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20240318064555-6bd07397691f/errors.go:178\ngithub.com/pingcap/errors.Trace\n\t/Users/bba/.gvm/pkgsets/go1.21.0/global/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20240318064555-6bd07397691f/juju_adaptor.go:15\ngithub.com/pingcap/tidb/pkg/ddl.(*ddl).DoDDLJob\n\t/Users/bba/pc/tidb/pkg/ddl/ddl.go:1293\ngithub.com/pingcap/tidb/pkg/ddl.(*ddl).TruncateTable\n\t/Users/bba/pc/tidb/pkg/ddl/ddl_api.go:7137\ngithub.com/pingcap/tidb/pkg/executor.(*DDLExec).executeTruncateTable\n\t/Users/bba/pc/tidb/pkg/executor/ddl.go:244\ngithub.com/pingcap/tidb/pkg/executor.(*DDLExec).Next\n\t/Users/bba/pc/tidb/pkg/executor/ddl.go:191\ngithub.com/pingcap/tidb/pkg/executor/internal/exec.Next\n\t/Users/bba/pc/tidb/pkg/executor/internal/exec/executor.go:410\ngithub.com/pingcap/tidb/pkg/executor.(*ExecStmt).next\n\t/Users/bba/pc/tidb/pkg/executor/adapter.go:1211\ngithub.com/pingcap/tidb/pkg/executor.(*ExecStmt).handleNoDelayExecutor\n\t/Users/bba/pc/tidb/pkg/executor/adapter.go:960\ngithub.com/pingcap/tidb/pkg/executor.(*ExecStmt).handleNoDelay\n\t/Users/bba/pc/tidb/pkg/executor/adapter.go:794\ngithub.com/pingcap/tidb/pkg/executor.(*ExecStmt).Exec\n\t/Users/bba/pc/tidb/pkg/executor/adapter.go:559\ngithub.com/pingcap/tidb/pkg/session.runStmt\n\t/Users/bba/pc/tidb/pkg/session/session.go:2285\ngithub.com/pingcap/tidb/pkg/session.(*session).ExecuteStmt\n\t/Users/bba/pc/tidb/pkg/session/session.go:2146\ngithub.com/pingcap/tidb/pkg/testkit.(*TestKit).ExecWithContext\n\t/Users/bba/pc/tidb/pkg/testkit/testkit.go:384\ngithub.com/pingcap/tidb/pkg/testkit.(*TestKit).Exec\n\t/Users/bba/pc/tidb/pkg/testkit/testkit.go:357\ngithub.com/pingcap/tidb/pkg/ddl/tests/fail_test.TestHalfwayCancelOperations\n\t/Users/bba/pc/tidb/pkg/ddl/tests/fail/fail_db_test.go:86\ntesting.tRunner\n\t/Users/bba/.gvm/gos/go1.21.0/src/testing/testing.go:1595\nruntime.goexit\n\t/Users/bba/.gvm/gos/go1.21.0/src/runtime/asm_arm64.s:1197"] [session="{\n  \"currDBName\": \"cancel_job_db\",\n  \"id\": 1,\n  \"status\": 2,\n  \"strictMode\": true,\n  \"user\": null\n}"]
[2024/05/17 10:47:28.919 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=1] [schemaVersion=53] [cur_db=cancel_job_db] [sql="alter table t comment 'test1'"] [user=]
[2024/05/17 10:47:28.920 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:110, Type:modify table comment, State:queueing, SchemaState:none, SchemaID:104, TableID:106, RowCount:0, ArgLen:1, start time: 2024-05-17 10:47:28.919 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:47:28.920 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:110, Type:modify table comment, State:queueing, SchemaState:none, SchemaID:104, TableID:106, RowCount:0, ArgLen:1, start time: 2024-05-17 10:47:28.919 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="alter table t comment 'test1'"]
[2024/05/17 10:47:28.923 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=110] [conn=1] [category=ddl] [job="ID:110, Type:modify table comment, State:queueing, SchemaState:none, SchemaID:104, TableID:106, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:28.919 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:28.925 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816572441133059] ["schema version"=54]
[2024/05/17 10:47:28.925 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=53] [neededSchemaVersion=54] ["start time"=112.583µs] [gotSchemaVersion=54] [phyTblIDs="[106]"] [actionTypes="[17]"] [diffTypes="[\"modify table comment\"]"]
[2024/05/17 10:47:28.925 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:47:28.925 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=110] [version=54]
[2024/05/17 10:47:28.927 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=54] ["take time"=2.651208ms] [job="ID:110, Type:modify table comment, State:done, SchemaState:public, SchemaID:104, TableID:106, RowCount:0, ArgLen:1, start time: 2024-05-17 10:47:28.919 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:28.930 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=110] [conn=1] [job="ID:110, Type:modify table comment, State:synced, SchemaState:public, SchemaID:104, TableID:106, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:28.919 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:28.932 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=110]
[2024/05/17 10:47:28.932 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:47:28.932 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816572441133059] ["schema version"=54]
[2024/05/17 10:47:28.932 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:47:28.932 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816572441133059] ["schema version"=54]
[2024/05/17 10:47:28.933 +08:00] [INFO] [set.go:170] ["set global var"] [conn=2] [name=tidb_schema_cache_size] [val=1024]
[2024/05/17 10:47:28.934 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=2] [schemaVersion=54] [cur_db=cancel_job_db] [sql="create table tx(a int)"] [user=]
[2024/05/17 10:47:28.935 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:112, Type:create table, State:queueing, SchemaState:none, SchemaID:104, TableID:111, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:28.935 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:47:28.935 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:112, Type:create table, State:queueing, SchemaState:none, SchemaID:104, TableID:111, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:28.935 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="create table tx(a int)"]
[2024/05/17 10:47:28.939 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=112] [conn=2] [category=ddl] [job="ID:112, Type:create table, State:queueing, SchemaState:none, SchemaID:104, TableID:111, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:28.935 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:28.940 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816572445327360] ["schema version"=55]
[2024/05/17 10:47:28.940 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=54] [neededSchemaVersion=55] ["start time"=116.958µs] [gotSchemaVersion=55] [phyTblIDs="[111]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:47:28.941 +08:00] [INFO] [ddl.go:78] ["Handle ddl event"] [category=stats] [event="(Event Type: create table, Schema ID: 104, Table ID: 111, Table Name: tx"]
[2024/05/17 10:47:28.942 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:47:28.942 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=112] [version=55]
[2024/05/17 10:47:28.942 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=55] ["take time"=2.007708ms] [job="ID:112, Type:create table, State:done, SchemaState:public, SchemaID:104, TableID:111, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:28.935 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:28.945 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=112] [conn=2] [job="ID:112, Type:create table, State:synced, SchemaState:public, SchemaID:104, TableID:111, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:28.935 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:28.947 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=112]
[2024/05/17 10:47:28.947 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:47:28.947 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816572445327360] ["schema version"=55]
[2024/05/17 10:47:28.947 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=2] [schemaVersion=55] [cur_db=cancel_job_db] [sql="rename table tx to ty"] [user=]
[2024/05/17 10:47:28.948 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:113, Type:rename table, State:queueing, SchemaState:none, SchemaID:104, TableID:111, RowCount:0, ArgLen:3, start time: 2024-05-17 10:47:28.948 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:47:28.948 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:113, Type:rename table, State:queueing, SchemaState:none, SchemaID:104, TableID:111, RowCount:0, ArgLen:3, start time: 2024-05-17 10:47:28.948 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="rename table tx to ty"]
[2024/05/17 10:47:28.951 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=113] [conn=2] [category=ddl] [job="ID:113, Type:rename table, State:queueing, SchemaState:none, SchemaID:104, TableID:111, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:28.948 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:28.951 +08:00] [INFO] [ddl_worker.go:1171] ["DDL job is cancelled normally"] [worker="worker 3, tp general"] [category=ddl] [jobID=113] [conn=2] [error="occur an error after renaming table"] [errorVerbose="occur an error after renaming table\ngithub.com/pingcap/tidb/pkg/ddl.checkAndRenameTables\n\t/Users/bba/pc/tidb/pkg/ddl/table.go:1125\ngithub.com/pingcap/tidb/pkg/ddl.onRenameTable\n\t/Users/bba/pc/tidb/pkg/ddl/table.go:1054\ngithub.com/pingcap/tidb/pkg/ddl.(*worker).runDDLJob\n\t/Users/bba/pc/tidb/pkg/ddl/ddl_worker.go:1301\ngithub.com/pingcap/tidb/pkg/ddl.(*worker).HandleDDLJobTable\n\t/Users/bba/pc/tidb/pkg/ddl/ddl_worker.go:968\ngithub.com/pingcap/tidb/pkg/ddl.(*ddl).delivery2Worker.func1\n\t/Users/bba/pc/tidb/pkg/ddl/job_table.go:462\ngithub.com/pingcap/tidb/pkg/util.(*WaitGroupWrapper).Run.func1\n\t/Users/bba/pc/tidb/pkg/util/wait_group_wrapper.go:157\nruntime.goexit\n\t/Users/bba/.gvm/gos/go1.21.0/src/runtime/asm_arm64.s:1197"]
[2024/05/17 10:47:28.951 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=113] [conn=2] [job="ID:113, Type:rename table, State:cancelled, SchemaState:none, SchemaID:104, TableID:111, RowCount:0, ArgLen:3, start time: 2024-05-17 10:47:28.948 +0800 CST, Err:[ddl:-1]occur an error after renaming table, ErrCount:1, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:28.953 +08:00] [INFO] [ddl.go:1292] ["DDL job is failed"] [category=ddl] [jobID=113]
[2024/05/17 10:47:28.953 +08:00] [INFO] [tidb.go:269] ["rollbackTxn called due to ddl/autocommit failure"]
[2024/05/17 10:47:28.953 +08:00] [WARN] [session.go:2158] ["run statement failed"] [schemaVersion=55] [error="[ddl:-1]occur an error after renaming table"] [errorVerbose="[ddl:-1]occur an error after renaming table\ngithub.com/pingcap/errors.AddStack\n\t/Users/bba/.gvm/pkgsets/go1.21.0/global/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20240318064555-6bd07397691f/errors.go:178\ngithub.com/pingcap/errors.Trace\n\t/Users/bba/.gvm/pkgsets/go1.21.0/global/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20240318064555-6bd07397691f/juju_adaptor.go:15\ngithub.com/pingcap/tidb/pkg/ddl.(*ddl).DoDDLJob\n\t/Users/bba/pc/tidb/pkg/ddl/ddl.go:1293\ngithub.com/pingcap/tidb/pkg/ddl.(*ddl).renameTable\n\t/Users/bba/pc/tidb/pkg/ddl/ddl_api.go:7211\ngithub.com/pingcap/tidb/pkg/ddl.(*ddl).RenameTable\n\t/Users/bba/pc/tidb/pkg/ddl/ddl_api.go:7161\ngithub.com/pingcap/tidb/pkg/executor.(*DDLExec).executeRenameTable\n\t/Users/bba/pc/tidb/pkg/executor/ddl.go:254\ngithub.com/pingcap/tidb/pkg/executor.(*DDLExec).Next\n\t/Users/bba/pc/tidb/pkg/executor/ddl.go:189\ngithub.com/pingcap/tidb/pkg/executor/internal/exec.Next\n\t/Users/bba/pc/tidb/pkg/executor/internal/exec/executor.go:410\ngithub.com/pingcap/tidb/pkg/executor.(*ExecStmt).next\n\t/Users/bba/pc/tidb/pkg/executor/adapter.go:1211\ngithub.com/pingcap/tidb/pkg/executor.(*ExecStmt).handleNoDelayExecutor\n\t/Users/bba/pc/tidb/pkg/executor/adapter.go:960\ngithub.com/pingcap/tidb/pkg/executor.(*ExecStmt).handleNoDelay\n\t/Users/bba/pc/tidb/pkg/executor/adapter.go:794\ngithub.com/pingcap/tidb/pkg/executor.(*ExecStmt).Exec\n\t/Users/bba/pc/tidb/pkg/executor/adapter.go:559\ngithub.com/pingcap/tidb/pkg/session.runStmt\n\t/Users/bba/pc/tidb/pkg/session/session.go:2285\ngithub.com/pingcap/tidb/pkg/session.(*session).ExecuteStmt\n\t/Users/bba/pc/tidb/pkg/session/session.go:2146\ngithub.com/pingcap/tidb/pkg/testkit.(*TestKit).ExecWithContext\n\t/Users/bba/pc/tidb/pkg/testkit/testkit.go:384\ngithub.com/pingcap/tidb/pkg/testkit.(*TestKit).Exec\n\t/Users/bba/pc/tidb/pkg/testkit/testkit.go:357\ngithub.com/pingcap/tidb/pkg/testkit.(*TestKit).ExecToErr\n\t/Users/bba/pc/tidb/pkg/testkit/testkit.go:430\ngithub.com/pingcap/tidb/pkg/ddl/tests/fail_test.TestHalfwayCancelOperations\n\t/Users/bba/pc/tidb/pkg/ddl/tests/fail/fail_db_test.go:107\ntesting.tRunner\n\t/Users/bba/.gvm/gos/go1.21.0/src/testing/testing.go:1595\nruntime.goexit\n\t/Users/bba/.gvm/gos/go1.21.0/src/runtime/asm_arm64.s:1197"] [session="{\n  \"currDBName\": \"cancel_job_db\",\n  \"id\": 2,\n  \"status\": 2,\n  \"strictMode\": true,\n  \"user\": null\n}"]
[2024/05/17 10:47:28.953 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=2] [schemaVersion=55] [cur_db=cancel_job_db] [sql="create table ty(a int)"] [user=]
[2024/05/17 10:47:28.954 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:115, Type:create table, State:queueing, SchemaState:none, SchemaID:104, TableID:114, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:28.954 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:47:28.954 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:115, Type:create table, State:queueing, SchemaState:none, SchemaID:104, TableID:114, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:28.954 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="create table ty(a int)"]
[2024/05/17 10:47:28.957 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=115] [conn=2] [category=ddl] [job="ID:115, Type:create table, State:queueing, SchemaState:none, SchemaID:104, TableID:114, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:28.954 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:28.958 +08:00] [INFO] [ddl.go:78] ["Handle ddl event"] [category=stats] [event="(Event Type: create table, Schema ID: 104, Table ID: 114, Table Name: ty"]
[2024/05/17 10:47:28.959 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816572450308098] ["schema version"=56]
[2024/05/17 10:47:28.959 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=55] [neededSchemaVersion=56] ["start time"=107.792µs] [gotSchemaVersion=56] [phyTblIDs="[114]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:47:28.960 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:47:28.960 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=115] [version=56]
[2024/05/17 10:47:28.961 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=56] ["take time"=2.005083ms] [job="ID:115, Type:create table, State:done, SchemaState:public, SchemaID:104, TableID:114, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:28.954 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:28.965 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=115] [conn=2] [job="ID:115, Type:create table, State:synced, SchemaState:public, SchemaID:104, TableID:114, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:28.954 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:28.968 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=115]
[2024/05/17 10:47:28.968 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:47:28.968 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816572450308098] ["schema version"=56]
[2024/05/17 10:47:28.969 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=2] [schemaVersion=56] [cur_db=cancel_job_db] [sql="rename table ty to tz, tx to ty"] [user=]
[2024/05/17 10:47:28.970 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:116, Type:rename tables, State:queueing, SchemaState:none, SchemaID:104, TableID:114, RowCount:0, ArgLen:6, start time: 2024-05-17 10:47:28.969 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:47:28.970 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:116, Type:rename tables, State:queueing, SchemaState:none, SchemaID:104, TableID:114, RowCount:0, ArgLen:6, start time: 2024-05-17 10:47:28.969 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="rename table ty to tz, tx to ty"]
[2024/05/17 10:47:28.973 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=116] [conn=2] [category=ddl] [job="ID:116, Type:rename tables, State:queueing, SchemaState:none, SchemaID:104, TableID:114, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:28.969 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:28.974 +08:00] [INFO] [ddl_worker.go:1171] ["DDL job is cancelled normally"] [worker="worker 3, tp general"] [category=ddl] [jobID=116] [conn=2] [error="occur an error after renaming table"] [errorVerbose="occur an error after renaming table\ngithub.com/pingcap/tidb/pkg/ddl.checkAndRenameTables\n\t/Users/bba/pc/tidb/pkg/ddl/table.go:1125\ngithub.com/pingcap/tidb/pkg/ddl.onRenameTables\n\t/Users/bba/pc/tidb/pkg/ddl/table.go:1096\ngithub.com/pingcap/tidb/pkg/ddl.(*worker).runDDLJob\n\t/Users/bba/pc/tidb/pkg/ddl/ddl_worker.go:1329\ngithub.com/pingcap/tidb/pkg/ddl.(*worker).HandleDDLJobTable\n\t/Users/bba/pc/tidb/pkg/ddl/ddl_worker.go:968\ngithub.com/pingcap/tidb/pkg/ddl.(*ddl).delivery2Worker.func1\n\t/Users/bba/pc/tidb/pkg/ddl/job_table.go:462\ngithub.com/pingcap/tidb/pkg/util.(*WaitGroupWrapper).Run.func1\n\t/Users/bba/pc/tidb/pkg/util/wait_group_wrapper.go:157\nruntime.goexit\n\t/Users/bba/.gvm/gos/go1.21.0/src/runtime/asm_arm64.s:1197"]
[2024/05/17 10:47:28.974 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=116] [conn=2] [job="ID:116, Type:rename tables, State:cancelled, SchemaState:none, SchemaID:104, TableID:111, RowCount:0, ArgLen:6, start time: 2024-05-17 10:47:28.969 +0800 CST, Err:[ddl:-1]occur an error after renaming table, ErrCount:1, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:28.977 +08:00] [INFO] [ddl.go:1292] ["DDL job is failed"] [category=ddl] [jobID=116]
[2024/05/17 10:47:28.977 +08:00] [INFO] [tidb.go:269] ["rollbackTxn called due to ddl/autocommit failure"]
[2024/05/17 10:47:28.977 +08:00] [WARN] [session.go:2158] ["run statement failed"] [schemaVersion=56] [error="[ddl:-1]occur an error after renaming table"] [errorVerbose="[ddl:-1]occur an error after renaming table\ngithub.com/pingcap/errors.AddStack\n\t/Users/bba/.gvm/pkgsets/go1.21.0/global/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20240318064555-6bd07397691f/errors.go:178\ngithub.com/pingcap/errors.Trace\n\t/Users/bba/.gvm/pkgsets/go1.21.0/global/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20240318064555-6bd07397691f/juju_adaptor.go:15\ngithub.com/pingcap/tidb/pkg/ddl.(*ddl).DoDDLJob\n\t/Users/bba/pc/tidb/pkg/ddl/ddl.go:1293\ngithub.com/pingcap/tidb/pkg/ddl.(*ddl).renameTables\n\t/Users/bba/pc/tidb/pkg/ddl/ddl_api.go:7269\ngithub.com/pingcap/tidb/pkg/ddl.(*ddl).RenameTable\n\t/Users/bba/pc/tidb/pkg/ddl/ddl_api.go:7171\ngithub.com/pingcap/tidb/pkg/executor.(*DDLExec).executeRenameTable\n\t/Users/bba/pc/tidb/pkg/executor/ddl.go:254\ngithub.com/pingcap/tidb/pkg/executor.(*DDLExec).Next\n\t/Users/bba/pc/tidb/pkg/executor/ddl.go:189\ngithub.com/pingcap/tidb/pkg/executor/internal/exec.Next\n\t/Users/bba/pc/tidb/pkg/executor/internal/exec/executor.go:410\ngithub.com/pingcap/tidb/pkg/executor.(*ExecStmt).next\n\t/Users/bba/pc/tidb/pkg/executor/adapter.go:1211\ngithub.com/pingcap/tidb/pkg/executor.(*ExecStmt).handleNoDelayExecutor\n\t/Users/bba/pc/tidb/pkg/executor/adapter.go:960\ngithub.com/pingcap/tidb/pkg/executor.(*ExecStmt).handleNoDelay\n\t/Users/bba/pc/tidb/pkg/executor/adapter.go:794\ngithub.com/pingcap/tidb/pkg/executor.(*ExecStmt).Exec\n\t/Users/bba/pc/tidb/pkg/executor/adapter.go:559\ngithub.com/pingcap/tidb/pkg/session.runStmt\n\t/Users/bba/pc/tidb/pkg/session/session.go:2285\ngithub.com/pingcap/tidb/pkg/session.(*session).ExecuteStmt\n\t/Users/bba/pc/tidb/pkg/session/session.go:2146\ngithub.com/pingcap/tidb/pkg/testkit.(*TestKit).ExecWithContext\n\t/Users/bba/pc/tidb/pkg/testkit/testkit.go:384\ngithub.com/pingcap/tidb/pkg/testkit.(*TestKit).Exec\n\t/Users/bba/pc/tidb/pkg/testkit/testkit.go:357\ngithub.com/pingcap/tidb/pkg/testkit.(*TestKit).ExecToErr\n\t/Users/bba/pc/tidb/pkg/testkit/testkit.go:430\ngithub.com/pingcap/tidb/pkg/ddl/tests/fail_test.TestHalfwayCancelOperations\n\t/Users/bba/pc/tidb/pkg/ddl/tests/fail/fail_db_test.go:111\ntesting.tRunner\n\t/Users/bba/.gvm/gos/go1.21.0/src/testing/testing.go:1595\nruntime.goexit\n\t/Users/bba/.gvm/gos/go1.21.0/src/runtime/asm_arm64.s:1197"] [session="{\n  \"currDBName\": \"cancel_job_db\",\n  \"id\": 2,\n  \"status\": 2,\n  \"strictMode\": true,\n  \"user\": null\n}"]
[2024/05/17 10:47:28.977 +08:00] [WARN] [session.go:2116] ["compile SQL failed"] [error="[schema:1146]Table 'cancel_job_db.tz' doesn't exist"] [errorVerbose="[schema:1146]Table 'cancel_job_db.tz' doesn't exist\ngithub.com/pingcap/errors.AddStack\n\t/Users/bba/.gvm/pkgsets/go1.21.0/global/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20240318064555-6bd07397691f/errors.go:178\ngithub.com/pingcap/errors.Trace\n\t/Users/bba/.gvm/pkgsets/go1.21.0/global/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20240318064555-6bd07397691f/juju_adaptor.go:15\ngithub.com/pingcap/tidb/pkg/planner/core.Preprocess\n\t/Users/bba/pc/tidb/pkg/planner/core/preprocess.go:141\ngithub.com/pingcap/tidb/pkg/executor.(*Compiler).Compile\n\t/Users/bba/pc/tidb/pkg/executor/compiler.go:67\ngithub.com/pingcap/tidb/pkg/session.(*session).ExecuteStmt\n\t/Users/bba/pc/tidb/pkg/session/session.go:2094\ngithub.com/pingcap/tidb/pkg/testkit.(*TestKit).ExecWithContext\n\t/Users/bba/pc/tidb/pkg/testkit/testkit.go:384\ngithub.com/pingcap/tidb/pkg/testkit.(*TestKit).Exec\n\t/Users/bba/pc/tidb/pkg/testkit/testkit.go:357\ngithub.com/pingcap/tidb/pkg/testkit.(*TestKit).ExecToErr\n\t/Users/bba/pc/tidb/pkg/testkit/testkit.go:430\ngithub.com/pingcap/tidb/pkg/ddl/tests/fail_test.TestHalfwayCancelOperations\n\t/Users/bba/pc/tidb/pkg/ddl/tests/fail/fail_db_test.go:113\ntesting.tRunner\n\t/Users/bba/.gvm/gos/go1.21.0/src/testing/testing.go:1595\nruntime.goexit\n\t/Users/bba/.gvm/gos/go1.21.0/src/runtime/asm_arm64.s:1197"] [SQL="select * from tz"]
[2024/05/17 10:47:28.977 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=2] [schemaVersion=56] [cur_db=cancel_job_db] [sql="rename table tx to ty, ty to tz"] [user=]
[2024/05/17 10:47:28.977 +08:00] [INFO] [tidb.go:269] ["rollbackTxn called due to ddl/autocommit failure"]
[2024/05/17 10:47:28.977 +08:00] [WARN] [session.go:2158] ["run statement failed"] [schemaVersion=56] [error="[schema:1050]Table 'cancel_job_db.ty' already exists"] [errorVerbose="[schema:1050]Table 'cancel_job_db.ty' already exists\ngithub.com/pingcap/errors.AddStack\n\t/Users/bba/.gvm/pkgsets/go1.21.0/global/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20240318064555-6bd07397691f/errors.go:178\ngithub.com/pingcap/errors.(*Error).GenWithStackByArgs\n\t/Users/bba/.gvm/pkgsets/go1.21.0/global/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20240318064555-6bd07397691f/normalize.go:175\ngithub.com/pingcap/tidb/pkg/ddl.ExtractTblInfos\n\t/Users/bba/pc/tidb/pkg/ddl/ddl_api.go:7315\ngithub.com/pingcap/tidb/pkg/ddl.(*ddl).renameTables\n\t/Users/bba/pc/tidb/pkg/ddl/ddl_api.go:7232\ngithub.com/pingcap/tidb/pkg/ddl.(*ddl).RenameTable\n\t/Users/bba/pc/tidb/pkg/ddl/ddl_api.go:7171\ngithub.com/pingcap/tidb/pkg/executor.(*DDLExec).executeRenameTable\n\t/Users/bba/pc/tidb/pkg/executor/ddl.go:254\ngithub.com/pingcap/tidb/pkg/executor.(*DDLExec).Next\n\t/Users/bba/pc/tidb/pkg/executor/ddl.go:189\ngithub.com/pingcap/tidb/pkg/executor/internal/exec.Next\n\t/Users/bba/pc/tidb/pkg/executor/internal/exec/executor.go:410\ngithub.com/pingcap/tidb/pkg/executor.(*ExecStmt).next\n\t/Users/bba/pc/tidb/pkg/executor/adapter.go:1211\ngithub.com/pingcap/tidb/pkg/executor.(*ExecStmt).handleNoDelayExecutor\n\t/Users/bba/pc/tidb/pkg/executor/adapter.go:960\ngithub.com/pingcap/tidb/pkg/executor.(*ExecStmt).handleNoDelay\n\t/Users/bba/pc/tidb/pkg/executor/adapter.go:794\ngithub.com/pingcap/tidb/pkg/executor.(*ExecStmt).Exec\n\t/Users/bba/pc/tidb/pkg/executor/adapter.go:559\ngithub.com/pingcap/tidb/pkg/session.runStmt\n\t/Users/bba/pc/tidb/pkg/session/session.go:2285\ngithub.com/pingcap/tidb/pkg/session.(*session).ExecuteStmt\n\t/Users/bba/pc/tidb/pkg/session/session.go:2146\ngithub.com/pingcap/tidb/pkg/testkit.(*TestKit).ExecWithContext\n\t/Users/bba/pc/tidb/pkg/testkit/testkit.go:384\ngithub.com/pingcap/tidb/pkg/testkit.(*TestKit).Exec\n\t/Users/bba/pc/tidb/pkg/testkit/testkit.go:357\ngithub.com/pingcap/tidb/pkg/testkit.(*TestKit).ExecToErr\n\t/Users/bba/pc/tidb/pkg/testkit/testkit.go:430\ngithub.com/pingcap/tidb/pkg/ddl/tests/fail_test.TestHalfwayCancelOperations\n\t/Users/bba/pc/tidb/pkg/ddl/tests/fail/fail_db_test.go:115\ntesting.tRunner\n\t/Users/bba/.gvm/gos/go1.21.0/src/testing/testing.go:1595\nruntime.goexit\n\t/Users/bba/.gvm/gos/go1.21.0/src/runtime/asm_arm64.s:1197"] [session="{\n  \"currDBName\": \"cancel_job_db\",\n  \"id\": 2,\n  \"status\": 2,\n  \"strictMode\": true,\n  \"user\": null\n}"]
[2024/05/17 10:47:28.979 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=2] [schemaVersion=56] [cur_db=cancel_job_db] [sql="alter table tx comment 'tx'"] [user=]
[2024/05/17 10:47:28.980 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:117, Type:modify table comment, State:queueing, SchemaState:none, SchemaID:104, TableID:111, RowCount:0, ArgLen:1, start time: 2024-05-17 10:47:28.979 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:47:28.980 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:117, Type:modify table comment, State:queueing, SchemaState:none, SchemaID:104, TableID:111, RowCount:0, ArgLen:1, start time: 2024-05-17 10:47:28.979 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="alter table tx comment 'tx'"]
[2024/05/17 10:47:28.983 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=117] [conn=2] [category=ddl] [job="ID:117, Type:modify table comment, State:queueing, SchemaState:none, SchemaID:104, TableID:111, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:28.979 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:28.984 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816572456861696] ["schema version"=57]
[2024/05/17 10:47:28.984 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=56] [neededSchemaVersion=57] ["start time"=111.125µs] [gotSchemaVersion=57] [phyTblIDs="[111]"] [actionTypes="[17]"] [diffTypes="[\"modify table comment\"]"]
[2024/05/17 10:47:28.985 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:47:28.985 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=117] [version=57]
[2024/05/17 10:47:28.987 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=57] ["take time"=3.078917ms] [job="ID:117, Type:modify table comment, State:done, SchemaState:public, SchemaID:104, TableID:111, RowCount:0, ArgLen:1, start time: 2024-05-17 10:47:28.979 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:28.991 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=117] [conn=2] [job="ID:117, Type:modify table comment, State:synced, SchemaState:public, SchemaID:104, TableID:111, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:28.979 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:28.993 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=117]
[2024/05/17 10:47:28.993 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:47:28.993 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816572456861696] ["schema version"=57]
[2024/05/17 10:47:28.993 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:47:28.993 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816572456861696] ["schema version"=57]
[2024/05/17 10:47:28.994 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=3] [schemaVersion=57] [cur_db=cancel_job_db] [sql="create table pt(a int) partition by hash (a) partitions 2"] [user=]
[2024/05/17 10:47:28.999 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:121, Type:create table, State:queueing, SchemaState:none, SchemaID:104, TableID:118, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:28.997 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:47:28.999 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:121, Type:create table, State:queueing, SchemaState:none, SchemaID:104, TableID:118, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:28.997 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="create table pt(a int) partition by hash (a) partitions 2"]
[2024/05/17 10:47:29.002 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=121] [conn=3] [category=ddl] [job="ID:121, Type:create table, State:queueing, SchemaState:none, SchemaID:104, TableID:118, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:28.997 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:29.006 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816572461842438] ["schema version"=58]
[2024/05/17 10:47:29.006 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=57] [neededSchemaVersion=58] ["start time"=2.498917ms] [gotSchemaVersion=58] [phyTblIDs="[118,119,120]"] [actionTypes="[3,3,3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:47:29.007 +08:00] [INFO] [ddl.go:78] ["Handle ddl event"] [category=stats] [event="(Event Type: create table, Schema ID: 104, Table ID: 118, Table Name: pt"]
[2024/05/17 10:47:29.008 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816572461842438] ["schema version"=58]
[2024/05/17 10:47:29.008 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:47:29.008 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=121] [version=58]
[2024/05/17 10:47:29.010 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=58] ["take time"=6.29025ms] [job="ID:121, Type:create table, State:done, SchemaState:public, SchemaID:104, TableID:118, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:28.997 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:29.013 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=121] [conn=3] [job="ID:121, Type:create table, State:synced, SchemaState:public, SchemaID:104, TableID:118, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:28.997 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:29.016 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=121]
[2024/05/17 10:47:29.016 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:47:29.016 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816572461842438] ["schema version"=58]
[2024/05/17 10:47:29.017 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=3] [schemaVersion=58] [cur_db=cancel_job_db] [sql="create table nt(a int)"] [user=]
[2024/05/17 10:47:29.020 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:123, Type:create table, State:queueing, SchemaState:none, SchemaID:104, TableID:122, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:29.019 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:47:29.020 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:123, Type:create table, State:queueing, SchemaState:none, SchemaID:104, TableID:122, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:29.019 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="create table nt(a int)"]
[2024/05/17 10:47:29.025 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=123] [conn=3] [category=ddl] [job="ID:123, Type:create table, State:queueing, SchemaState:none, SchemaID:104, TableID:122, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:29.019 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:29.027 +08:00] [INFO] [ddl.go:78] ["Handle ddl event"] [category=stats] [event="(Event Type: create table, Schema ID: 104, Table ID: 122, Table Name: nt"]
[2024/05/17 10:47:29.028 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816572468396033] ["schema version"=59]
[2024/05/17 10:47:29.028 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=58] [neededSchemaVersion=59] ["start time"=112.5µs] [gotSchemaVersion=59] [phyTblIDs="[122]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:47:29.029 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:47:29.029 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=123] [version=59]
[2024/05/17 10:47:29.030 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=59] ["take time"=2.037333ms] [job="ID:123, Type:create table, State:done, SchemaState:public, SchemaID:104, TableID:122, RowCount:0, ArgLen:2, start time: 2024-05-17 10:47:29.019 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:29.034 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=123] [conn=3] [job="ID:123, Type:create table, State:synced, SchemaState:public, SchemaID:104, TableID:122, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:29.019 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:29.037 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=123]
[2024/05/17 10:47:29.037 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:47:29.037 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816572468396033] ["schema version"=59]
[2024/05/17 10:47:29.038 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=3] [schemaVersion=59] [cur_db=cancel_job_db] [sql="alter table pt exchange partition p1 with table nt"] [user=]
[2024/05/17 10:47:29.040 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:124, Type:exchange partition, State:queueing, SchemaState:none, SchemaID:104, TableID:122, RowCount:0, ArgLen:5, start time: 2024-05-17 10:47:29.039 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:47:29.041 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:124, Type:exchange partition, State:queueing, SchemaState:none, SchemaID:104, TableID:122, RowCount:0, ArgLen:5, start time: 2024-05-17 10:47:29.039 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="alter table pt exchange partition p1 with table nt"]
[2024/05/17 10:47:29.045 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=124] [conn=3] [category=ddl] [job="ID:124, Type:exchange partition, State:queueing, SchemaState:none, SchemaID:104, TableID:122, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:29.039 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:29.048 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816572473638912] ["schema version"=60]
[2024/05/17 10:47:29.048 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=59] [neededSchemaVersion=60] ["start time"=134.75µs] [gotSchemaVersion=60] [phyTblIDs="[122]"] [actionTypes="[42]"] [diffTypes="[\"exchange partition\"]"]
[2024/05/17 10:47:29.049 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:47:29.049 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=124] [version=60]
[2024/05/17 10:47:29.050 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=60] ["take time"=2.231708ms] [job="ID:124, Type:exchange partition, State:running, SchemaState:write only, SchemaID:104, TableID:122, RowCount:0, ArgLen:5, start time: 2024-05-17 10:47:29.039 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:29.055 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=124] [conn=3] [category=ddl] [job="ID:124, Type:exchange partition, State:running, SchemaState:write only, SchemaID:104, TableID:122, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:29.039 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:29.058 +08:00] [WARN] [ddl_worker.go:1174] ["run DDL job error"] [worker="worker 3, tp general"] [category=ddl] [jobID=124] [conn=3] [error="occur an error after updating partition id"] [errorVerbose="occur an error after updating partition id\ngithub.com/pingcap/tidb/pkg/ddl.(*worker).onExchangeTablePartition\n\t/Users/bba/pc/tidb/pkg/ddl/partition.go:2674\ngithub.com/pingcap/tidb/pkg/ddl.(*worker).runDDLJob\n\t/Users/bba/pc/tidb/pkg/ddl/ddl_worker.go:1273\ngithub.com/pingcap/tidb/pkg/ddl.(*worker).HandleDDLJobTable\n\t/Users/bba/pc/tidb/pkg/ddl/ddl_worker.go:968\ngithub.com/pingcap/tidb/pkg/ddl.(*ddl).delivery2Worker.func1\n\t/Users/bba/pc/tidb/pkg/ddl/job_table.go:462\ngithub.com/pingcap/tidb/pkg/util.(*WaitGroupWrapper).Run.func1\n\t/Users/bba/pc/tidb/pkg/util/wait_group_wrapper.go:157\nruntime.goexit\n\t/Users/bba/.gvm/gos/go1.21.0/src/runtime/asm_arm64.s:1197"]
[2024/05/17 10:47:29.060 +08:00] [INFO] [ddl_worker.go:1023] ["run DDL job failed, sleeps a while then retries it."] [worker="worker 3, tp general"] [category=ddl] [jobID=124] [conn=3] [waitTime=1µs] [error="occur an error after updating partition id"] [errorVerbose="occur an error after updating partition id\ngithub.com/pingcap/tidb/pkg/ddl.(*worker).onExchangeTablePartition\n\t/Users/bba/pc/tidb/pkg/ddl/partition.go:2674\ngithub.com/pingcap/tidb/pkg/ddl.(*worker).runDDLJob\n\t/Users/bba/pc/tidb/pkg/ddl/ddl_worker.go:1273\ngithub.com/pingcap/tidb/pkg/ddl.(*worker).HandleDDLJobTable\n\t/Users/bba/pc/tidb/pkg/ddl/ddl_worker.go:968\ngithub.com/pingcap/tidb/pkg/ddl.(*ddl).delivery2Worker.func1\n\t/Users/bba/pc/tidb/pkg/ddl/job_table.go:462\ngithub.com/pingcap/tidb/pkg/util.(*WaitGroupWrapper).Run.func1\n\t/Users/bba/pc/tidb/pkg/util/wait_group_wrapper.go:157\nruntime.goexit\n\t/Users/bba/.gvm/gos/go1.21.0/src/runtime/asm_arm64.s:1197"]
[2024/05/17 10:47:29.060 +08:00] [INFO] [ddl_worker.go:1423] ["schema version doesn't change"] [category=ddl] [jobID=124]
[2024/05/17 10:47:29.063 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=124] [conn=3] [category=ddl] [job="ID:124, Type:exchange partition, State:running, SchemaState:write only, SchemaID:104, TableID:122, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:29.039 +0800 CST, Err:[ddl:-1]occur an error after updating partition id, ErrCount:1, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:29.063 +08:00] [WARN] [ddl_worker.go:1174] ["run DDL job error"] [worker="worker 3, tp general"] [category=ddl] [jobID=124] [conn=3] [error="occur an error after updating partition id"] [errorVerbose="occur an error after updating partition id\ngithub.com/pingcap/tidb/pkg/ddl.(*worker).onExchangeTablePartition\n\t/Users/bba/pc/tidb/pkg/ddl/partition.go:2674\ngithub.com/pingcap/tidb/pkg/ddl.(*worker).runDDLJob\n\t/Users/bba/pc/tidb/pkg/ddl/ddl_worker.go:1273\ngithub.com/pingcap/tidb/pkg/ddl.(*worker).HandleDDLJobTable\n\t/Users/bba/pc/tidb/pkg/ddl/ddl_worker.go:968\ngithub.com/pingcap/tidb/pkg/ddl.(*ddl).delivery2Worker.func1\n\t/Users/bba/pc/tidb/pkg/ddl/job_table.go:462\ngithub.com/pingcap/tidb/pkg/util.(*WaitGroupWrapper).Run.func1\n\t/Users/bba/pc/tidb/pkg/util/wait_group_wrapper.go:157\nruntime.goexit\n\t/Users/bba/.gvm/gos/go1.21.0/src/runtime/asm_arm64.s:1197"]
[2024/05/17 10:47:29.064 +08:00] [INFO] [ddl_worker.go:1423] ["schema version doesn't change"] [category=ddl] [jobID=124]
[2024/05/17 10:47:29.067 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=124] [conn=3] [category=ddl] [job="ID:124, Type:exchange partition, State:running, SchemaState:write only, SchemaID:104, TableID:122, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:29.039 +0800 CST, Err:[ddl:-1]occur an error after updating partition id, ErrCount:2, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:29.068 +08:00] [WARN] [ddl_worker.go:1174] ["run DDL job error"] [worker="worker 3, tp general"] [category=ddl] [jobID=124] [conn=3] [error="occur an error after updating partition id"] [errorVerbose="occur an error after updating partition id\ngithub.com/pingcap/tidb/pkg/ddl.(*worker).onExchangeTablePartition\n\t/Users/bba/pc/tidb/pkg/ddl/partition.go:2674\ngithub.com/pingcap/tidb/pkg/ddl.(*worker).runDDLJob\n\t/Users/bba/pc/tidb/pkg/ddl/ddl_worker.go:1273\ngithub.com/pingcap/tidb/pkg/ddl.(*worker).HandleDDLJobTable\n\t/Users/bba/pc/tidb/pkg/ddl/ddl_worker.go:968\ngithub.com/pingcap/tidb/pkg/ddl.(*ddl).delivery2Worker.func1\n\t/Users/bba/pc/tidb/pkg/ddl/job_table.go:462\ngithub.com/pingcap/tidb/pkg/util.(*WaitGroupWrapper).Run.func1\n\t/Users/bba/pc/tidb/pkg/util/wait_group_wrapper.go:157\nruntime.goexit\n\t/Users/bba/.gvm/gos/go1.21.0/src/runtime/asm_arm64.s:1197"]
[2024/05/17 10:47:29.068 +08:00] [INFO] [ddl_worker.go:1423] ["schema version doesn't change"] [category=ddl] [jobID=124]
[2024/05/17 10:47:29.072 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=124] [conn=3] [category=ddl] [job="ID:124, Type:exchange partition, State:running, SchemaState:write only, SchemaID:104, TableID:122, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:29.039 +0800 CST, Err:[ddl:-1]occur an error after updating partition id, ErrCount:3, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:29.073 +08:00] [WARN] [ddl_worker.go:1174] ["run DDL job error"] [worker="worker 3, tp general"] [category=ddl] [jobID=124] [conn=3] [error="occur an error after updating partition id"] [errorVerbose="occur an error after updating partition id\ngithub.com/pingcap/tidb/pkg/ddl.(*worker).onExchangeTablePartition\n\t/Users/bba/pc/tidb/pkg/ddl/partition.go:2674\ngithub.com/pingcap/tidb/pkg/ddl.(*worker).runDDLJob\n\t/Users/bba/pc/tidb/pkg/ddl/ddl_worker.go:1273\ngithub.com/pingcap/tidb/pkg/ddl.(*worker).HandleDDLJobTable\n\t/Users/bba/pc/tidb/pkg/ddl/ddl_worker.go:968\ngithub.com/pingcap/tidb/pkg/ddl.(*ddl).delivery2Worker.func1\n\t/Users/bba/pc/tidb/pkg/ddl/job_table.go:462\ngithub.com/pingcap/tidb/pkg/util.(*WaitGroupWrapper).Run.func1\n\t/Users/bba/pc/tidb/pkg/util/wait_group_wrapper.go:157\nruntime.goexit\n\t/Users/bba/.gvm/gos/go1.21.0/src/runtime/asm_arm64.s:1197"]
[2024/05/17 10:47:29.073 +08:00] [WARN] [ddl_worker.go:1182] ["DDL job error count exceed the limit, cancelling it now"] [worker="worker 3, tp general"] [category=ddl] [jobID=124] [conn=3] [errorCountLimit=3]
[2024/05/17 10:47:29.076 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=124] [conn=3] [category=ddl] [job="ID:124, Type:exchange partition, State:cancelling, SchemaState:write only, SchemaID:104, TableID:122, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:29.039 +0800 CST, Err:[ddl:-1]occur an error after updating partition id, ErrCount:4, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:29.079 +08:00] [ERROR] [domain.go:361] ["failed to load schema diff"] [error="[schema:1146]Table '(Schema ID 104).(Table ID 120)' doesn't exist"] [errorVerbose="[schema:1146]Table '(Schema ID 104).(Table ID 120)' doesn't exist\ngithub.com/pingcap/errors.AddStack\n\t/Users/bba/.gvm/pkgsets/go1.21.0/global/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20240318064555-6bd07397691f/errors.go:178\ngithub.com/pingcap/errors.Trace\n\t/Users/bba/.gvm/pkgsets/go1.21.0/global/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20240318064555-6bd07397691f/juju_adaptor.go:15\ngithub.com/pingcap/tidb/pkg/infoschema.(*Builder).applyTableUpdate\n\t/Users/bba/pc/tidb/pkg/infoschema/builder.go:435\ngithub.com/pingcap/tidb/pkg/infoschema.applyTableUpdate\n\t/Users/bba/pc/tidb/pkg/infoschema/infoschema_v2.go:755\ngithub.com/pingcap/tidb/pkg/infoschema.applyExchangeTablePartition\n\t/Users/bba/pc/tidb/pkg/infoschema/builder.go:222\ngithub.com/pingcap/tidb/pkg/infoschema.(*Builder).ApplyDiff\n\t/Users/bba/pc/tidb/pkg/infoschema/builder.go:98\ngithub.com/pingcap/tidb/pkg/infoschema.(*BuilderV3).ApplyDiff\n\t/Users/bba/pc/tidb/pkg/infoschema/infov3_builder.go:99\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).tryLoadSchemaDiffs\n\t/Users/bba/pc/tidb/pkg/domain/domain.go:541\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).loadInfoSchema\n\t/Users/bba/pc/tidb/pkg/domain/domain.go:346\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).Reload\n\t/Users/bba/pc/tidb/pkg/domain/domain.go:676\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).loadSchemaInLoop\n\t/Users/bba/pc/tidb/pkg/domain/domain.go:989\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).Init.func2\n\t/Users/bba/pc/tidb/pkg/domain/domain.go:1357\ngithub.com/pingcap/tidb/pkg/util.(*WaitGroupEnhancedWrapper).Run.func1\n\t/Users/bba/pc/tidb/pkg/util/wait_group_wrapper.go:99\nruntime.goexit\n\t/Users/bba/.gvm/gos/go1.21.0/src/runtime/asm_arm64.s:1197"] [stack="github.com/pingcap/tidb/pkg/domain.(*Domain).loadInfoSchema\n\t/Users/bba/pc/tidb/pkg/domain/domain.go:361\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).Reload\n\t/Users/bba/pc/tidb/pkg/domain/domain.go:676\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).loadSchemaInLoop\n\t/Users/bba/pc/tidb/pkg/domain/domain.go:989\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).Init.func2\n\t/Users/bba/pc/tidb/pkg/domain/domain.go:1357\ngithub.com/pingcap/tidb/pkg/util.(*WaitGroupEnhancedWrapper).Run.func1\n\t/Users/bba/pc/tidb/pkg/util/wait_group_wrapper.go:99"]
[2024/05/17 10:47:29.090 +08:00] [INFO] [domain.go:385] ["full load InfoSchema success"] [currentSchemaVersion=60] [neededSchemaVersion=61] ["start time"=11.574333ms]
[2024/05/17 10:47:29.095 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816572481503232] ["schema version"=61]
[2024/05/17 10:47:29.095 +08:00] [INFO] [domain.go:705] ["full load and reset schema validator"]
[2024/05/17 10:47:29.096 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:47:29.096 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=124] [version=61]
[2024/05/17 10:47:29.097 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=61] ["take time"=18.81175ms] [job="ID:124, Type:exchange partition, State:rollback done, SchemaState:public, SchemaID:104, TableID:122, RowCount:0, ArgLen:5, start time: 2024-05-17 10:47:29.039 +0800 CST, Err:[ddl:-1]occur an error after updating partition id, ErrCount:4, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:29.101 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=124] [conn=3] [job="ID:124, Type:exchange partition, State:rollback done, SchemaState:public, SchemaID:104, TableID:122, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:29.039 +0800 CST, Err:[ddl:-1]occur an error after updating partition id, ErrCount:4, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:29.103 +08:00] [INFO] [ddl_worker.go:1423] ["schema version doesn't change"] [category=ddl] [jobID=124]
[2024/05/17 10:47:29.103 +08:00] [INFO] [ddl.go:1292] ["DDL job is failed"] [category=ddl] [jobID=124]
[2024/05/17 10:47:29.103 +08:00] [INFO] [tidb.go:269] ["rollbackTxn called due to ddl/autocommit failure"]
[2024/05/17 10:47:29.103 +08:00] [WARN] [session.go:2158] ["run statement failed"] [schemaVersion=59] [error="[ddl:-1]occur an error after updating partition id"] [errorVerbose="[ddl:-1]occur an error after updating partition id\ngithub.com/pingcap/errors.AddStack\n\t/Users/bba/.gvm/pkgsets/go1.21.0/global/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20240318064555-6bd07397691f/errors.go:178\ngithub.com/pingcap/errors.Trace\n\t/Users/bba/.gvm/pkgsets/go1.21.0/global/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20240318064555-6bd07397691f/juju_adaptor.go:15\ngithub.com/pingcap/tidb/pkg/ddl.(*ddl).DoDDLJob\n\t/Users/bba/pc/tidb/pkg/ddl/ddl.go:1293\ngithub.com/pingcap/tidb/pkg/ddl.(*ddl).ExchangeTablePartition\n\t/Users/bba/pc/tidb/pkg/ddl/ddl_api.go:5338\ngithub.com/pingcap/tidb/pkg/ddl.(*ddl).AlterTable\n\t/Users/bba/pc/tidb/pkg/ddl/ddl_api.go:3932\ngithub.com/pingcap/tidb/pkg/executor.(*DDLExec).executeAlterTable\n\t/Users/bba/pc/tidb/pkg/executor/ddl.go:388\ngithub.com/pingcap/tidb/pkg/executor.(*DDLExec).Next\n\t/Users/bba/pc/tidb/pkg/executor/ddl.go:152\ngithub.com/pingcap/tidb/pkg/executor/internal/exec.Next\n\t/Users/bba/pc/tidb/pkg/executor/internal/exec/executor.go:410\ngithub.com/pingcap/tidb/pkg/executor.(*ExecStmt).next\n\t/Users/bba/pc/tidb/pkg/executor/adapter.go:1211\ngithub.com/pingcap/tidb/pkg/executor.(*ExecStmt).handleNoDelayExecutor\n\t/Users/bba/pc/tidb/pkg/executor/adapter.go:960\ngithub.com/pingcap/tidb/pkg/executor.(*ExecStmt).handleNoDelay\n\t/Users/bba/pc/tidb/pkg/executor/adapter.go:794\ngithub.com/pingcap/tidb/pkg/executor.(*ExecStmt).Exec\n\t/Users/bba/pc/tidb/pkg/executor/adapter.go:559\ngithub.com/pingcap/tidb/pkg/session.runStmt\n\t/Users/bba/pc/tidb/pkg/session/session.go:2285\ngithub.com/pingcap/tidb/pkg/session.(*session).ExecuteStmt\n\t/Users/bba/pc/tidb/pkg/session/session.go:2146\ngithub.com/pingcap/tidb/pkg/testkit.(*TestKit).ExecWithContext\n\t/Users/bba/pc/tidb/pkg/testkit/testkit.go:384\ngithub.com/pingcap/tidb/pkg/testkit.(*TestKit).Exec\n\t/Users/bba/pc/tidb/pkg/testkit/testkit.go:357\ngithub.com/pingcap/tidb/pkg/testkit.(*TestKit).ExecToErr\n\t/Users/bba/pc/tidb/pkg/testkit/testkit.go:430\ngithub.com/pingcap/tidb/pkg/ddl/tests/fail_test.TestHalfwayCancelOperations\n\t/Users/bba/pc/tidb/pkg/ddl/tests/fail/fail_db_test.go:142\ntesting.tRunner\n\t/Users/bba/.gvm/gos/go1.21.0/src/testing/testing.go:1595\nruntime.goexit\n\t/Users/bba/.gvm/gos/go1.21.0/src/runtime/asm_arm64.s:1197"] [session="{\n  \"currDBName\": \"cancel_job_db\",\n  \"id\": 3,\n  \"status\": 2,\n  \"strictMode\": true,\n  \"user\": null\n}"]
[2024/05/17 10:47:29.105 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=3] [schemaVersion=61] [cur_db=cancel_job_db] [sql="alter table pt comment 'pt'"] [user=]
[2024/05/17 10:47:29.106 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:125, Type:modify table comment, State:queueing, SchemaState:none, SchemaID:104, TableID:118, RowCount:0, ArgLen:1, start time: 2024-05-17 10:47:29.106 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:47:29.106 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:125, Type:modify table comment, State:queueing, SchemaState:none, SchemaID:104, TableID:118, RowCount:0, ArgLen:1, start time: 2024-05-17 10:47:29.106 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="alter table pt comment 'pt'"]
[2024/05/17 10:47:29.106 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816572481503232] ["schema version"=61]
[2024/05/17 10:47:29.111 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=125] [conn=3] [category=ddl] [job="ID:125, Type:modify table comment, State:queueing, SchemaState:none, SchemaID:104, TableID:118, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:29.106 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:29.115 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816572490678272] ["schema version"=62]
[2024/05/17 10:47:29.115 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=61] [neededSchemaVersion=62] ["start time"=2.565708ms] [gotSchemaVersion=62] [phyTblIDs="[118,119,120]"] [actionTypes="[17,17,17]"] [diffTypes="[\"modify table comment\"]"]
[2024/05/17 10:47:29.116 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:47:29.116 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=125] [version=62]
[2024/05/17 10:47:29.117 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=62] ["take time"=4.809541ms] [job="ID:125, Type:modify table comment, State:done, SchemaState:public, SchemaID:104, TableID:118, RowCount:0, ArgLen:1, start time: 2024-05-17 10:47:29.106 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:29.122 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=125] [conn=3] [job="ID:125, Type:modify table comment, State:synced, SchemaState:public, SchemaID:104, TableID:118, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:29.106 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:29.124 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=125]
[2024/05/17 10:47:29.124 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:47:29.124 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816572490678272] ["schema version"=62]
[2024/05/17 10:47:29.124 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:47:29.124 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816572490678272] ["schema version"=62]
[2024/05/17 10:47:29.126 +08:00] [INFO] [set.go:170] ["set global var"] [conn=4] [name=tidb_schema_cache_size] [val=1024]
[2024/05/17 10:47:29.126 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=4] [schemaVersion=62] [cur_db=cancel_job_db] [sql="drop database cancel_job_db"] [user=]
[2024/05/17 10:47:29.128 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:126, Type:drop schema, State:queueing, SchemaState:public, SchemaID:104, TableID:0, RowCount:0, ArgLen:1, start time: 2024-05-17 10:47:29.127 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:47:29.128 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:126, Type:drop schema, State:queueing, SchemaState:public, SchemaID:104, TableID:0, RowCount:0, ArgLen:1, start time: 2024-05-17 10:47:29.127 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="drop database cancel_job_db"]
[2024/05/17 10:47:29.131 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=126] [conn=4] [category=ddl] [job="ID:126, Type:drop schema, State:queueing, SchemaState:public, SchemaID:104, TableID:0, RowCount:0, ArgLen:0, start time: 2024-05-17 10:47:29.127 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:47:29.133 +08:00] [INFO] [domain.go:977] ["loadSchemaInLoop exited."]
[2024/05/17 10:47:29.134 +08:00] [ERROR] [misc.go:114] ["panic in the recoverable goroutine"] [label=domain] [funcInfo=loadSchemaInLoop] [r="len(rs1) != len(rs2)"] [stack="github.com/pingcap/tidb/pkg/util.Recover\n\t/Users/bba/pc/tidb/pkg/util/misc.go:118\nruntime.gopanic\n\t/Users/bba/.gvm/gos/go1.21.0/src/runtime/panic.go:914\ngithub.com/pingcap/tidb/pkg/infoschema.(*BuilderV3).ApplyDiff\n\t/Users/bba/pc/tidb/pkg/infoschema/infov3_builder.go:108\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).tryLoadSchemaDiffs\n\t/Users/bba/pc/tidb/pkg/domain/domain.go:541\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).loadInfoSchema\n\t/Users/bba/pc/tidb/pkg/domain/domain.go:346\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).Reload\n\t/Users/bba/pc/tidb/pkg/domain/domain.go:676\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).loadSchemaInLoop\n\t/Users/bba/pc/tidb/pkg/domain/domain.go:989\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).Init.func2\n\t/Users/bba/pc/tidb/pkg/domain/domain.go:1357\ngithub.com/pingcap/tidb/pkg/util.(*WaitGroupEnhancedWrapper).Run.func1\n\t/Users/bba/pc/tidb/pkg/util/wait_group_wrapper.go:99"] [stack="github.com/pingcap/tidb/pkg/util.Recover\n\t/Users/bba/pc/tidb/pkg/util/misc.go:114\nruntime.gopanic\n\t/Users/bba/.gvm/gos/go1.21.0/src/runtime/panic.go:914\ngithub.com/pingcap/tidb/pkg/infoschema.(*BuilderV3).ApplyDiff\n\t/Users/bba/pc/tidb/pkg/infoschema/infov3_builder.go:108\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).tryLoadSchemaDiffs\n\t/Users/bba/pc/tidb/pkg/domain/domain.go:541\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).loadInfoSchema\n\t/Users/bba/pc/tidb/pkg/domain/domain.go:346\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).Reload\n\t/Users/bba/pc/tidb/pkg/domain/domain.go:676\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).loadSchemaInLoop\n\t/Users/bba/pc/tidb/pkg/domain/domain.go:989\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).Init.func2\n\t/Users/bba/pc/tidb/pkg/domain/domain.go:1357\ngithub.com/pingcap/tidb/pkg/util.(*WaitGroupEnhancedWrapper).Run.func1\n\t/Users/bba/pc/tidb/pkg/util/wait_group_wrapper.go:99"]
[2024/05/17 10:47:29.808 +08:00] [INFO] [runaway.go:158] ["preparations for the runaway manager are finished and start runaway manager loop"]
[2024/05/17 10:47:29.808 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=runawayRecordFlushLoop]
[2024/05/17 10:47:29.808 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=runawayWatchSyncLoop]
[2024/05/17 10:47:29.808 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=runawayStartLoop]
[2024/05/17 10:47:29.841 +08:00] [INFO] [runtime.go:160] ["TimerGroupRuntime loop started"] [groupID=ttl]
[2024/05/17 10:47:29.841 +08:00] [INFO] [runtime.go:402] ["create watch chan if possible for timer runtime"] [groupID=ttl] [storeSupportWatch=true]
[2024/05/17 10:47:29.863 +08:00] [INFO] [slots.go:205] ["initialize slot capacity"] [capacity=1]
[2024/05/17 10:47:29.866 +08:00] [INFO] [scheduler_manager.go:200] ["schedule task loop start"] [server-id=:4000]
[2024/05/17 10:47:29.866 +08:00] [INFO] [scheduler_manager.go:312] ["subtask table gc loop start"] [server-id=:4000]
[2024/05/17 10:47:29.866 +08:00] [INFO] [scheduler_manager.go:373] ["cleanup loop start"] [server-id=:4000]
[2024/05/17 10:47:29.866 +08:00] [INFO] [scheduler_manager.go:453] ["collect loop start"] [server-id=:4000]
[2024/05/17 10:47:30.807 +08:00] [INFO] [info.go:1142] [SetTiFlashGroupConfig]
[FAIL]  pkg/executor/test/ddl TestShardRowIDBits
err=exit status 1
PASS
goleak: Errors on successful test run: found unexpected goroutines:
[Goroutine 11 in state select, with go.opencensus.io/stats/view.(*worker).start on top of the stack:
go.opencensus.io/stats/view.(*worker).start(0x1400050b200)
	/Users/bba/.gvm/pkgsets/go1.21.0/global/pkg/mod/go.opencensus.io@v0.24.0/stats/view/worker.go:292 +0x88
created by go.opencensus.io/stats/view.init.0 in goroutine 1
	/Users/bba/.gvm/pkgsets/go1.21.0/global/pkg/mod/go.opencensus.io@v0.24.0/stats/view/worker.go:34 +0x98
]
[FAIL]  pkg/planner/core TestTooLongBinaryPlan
err=exit status 2
[2024/05/17 10:49:47.037 +08:00] [INFO] [store_cache.go:510] ["change store resolve state"] [store=1] [addr=store1] [from=unresolved] [to=resolved] [liveness-state=reachable]
[2024/05/17 10:49:47.039 +08:00] [INFO] [ddl_api.go:1141] ["Automatically convert BLOB(65535) to MEDIUMBLOB"] [category=ddl]
[2024/05/17 10:49:47.039 +08:00] [INFO] [ddl_api.go:1141] ["Automatically convert BLOB(65535) to MEDIUMBLOB"] [category=ddl]
[2024/05/17 10:49:47.040 +08:00] [INFO] [ddl_api.go:1141] ["Automatically convert BLOB(65535) to MEDIUMBLOB"] [category=ddl]
[2024/05/17 10:49:47.040 +08:00] [INFO] [ddl_api.go:1141] ["Automatically convert BLOB(65535) to MEDIUMBLOB"] [category=ddl]
[2024/05/17 10:49:47.041 +08:00] [INFO] [ddl_api.go:1141] ["Automatically convert BLOB(65535) to MEDIUMBLOB"] [category=ddl]
[2024/05/17 10:49:47.042 +08:00] [INFO] [tidb.go:80] ["new domain"] [store=1016571c-4a63-4268-be81-83c970b8e69e] ["ddl lease"=500ms] ["stats lease"=-1ns]
[2024/05/17 10:49:47.046 +08:00] [WARN] [controller.go:198] ["[resource group controller] server does not save config, load config failed"]
[2024/05/17 10:49:47.046 +08:00] [INFO] [controller.go:185] ["load resource controller config"] [config="{\"degraded-mode-wait-duration\":\"0s\",\"ltb-max-wait-duration\":\"30s\",\"wait-retry-interval\":\"50ms\",\"wait-retry-times\":10,\"request-unit\":{\"read-base-cost\":0.125,\"read-per-batch-base-cost\":0.5,\"read-cost-per-byte\":0.0000152587890625,\"write-base-cost\":1,\"write-per-batch-base-cost\":1,\"write-cost-per-byte\":0.0009765625,\"read-cpu-ms-cost\":0.3333333333333333},\"enable-controller-trace-log\":\"false\"}"] [ru-config="{\"ReadBaseCost\":0.125,\"ReadPerBatchBaseCost\":0.5,\"ReadBytesCost\":0.0000152587890625,\"WriteBaseCost\":1,\"WritePerBatchBaseCost\":1,\"WriteBytesCost\":0.0009765625,\"CPUMsCost\":0.3333333333333333,\"LTBMaxWaitDuration\":30000000000,\"WaitRetryInterval\":50000000,\"WaitRetryTimes\":10,\"DegradedModeWaitDuration\":0}"]
[2024/05/17 10:49:47.046 +08:00] [WARN] [domain.go:302] ["failed to get schema version"] [error="There is no Write MVCC info for the schema version"] [version=0]
[2024/05/17 10:49:47.052 +08:00] [INFO] [domain.go:385] ["full load InfoSchema success"] [currentSchemaVersion=0] [neededSchemaVersion=0] ["start time"=6.37075ms]
[2024/05/17 10:49:47.053 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=0] ["schema version"=0]
[2024/05/17 10:49:47.053 +08:00] [INFO] [domain.go:705] ["full load and reset schema validator"]
[2024/05/17 10:49:47.053 +08:00] [INFO] [ddl.go:818] ["start DDL"] [category=ddl] [ID=176333c5-8a94-4a0c-93be-a9fb5b057c8d] [runWorker=true]
[2024/05/17 10:49:47.053 +08:00] [INFO] [ddl.go:777] ["start delRangeManager OK"] [category=ddl] ["is a emulator"=true]
[2024/05/17 10:49:47.053 +08:00] [WARN] [env.go:51] ["initialize environment failed"] [category=ddl-ingest] ["storage limitation"="only support TiKV storage"] ["current storage"=unistore] ["lightning is initialized"=false]
[2024/05/17 10:49:47.053 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=loadSchemaInLoop]
[2024/05/17 10:49:47.053 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=mdlCheckLoop]
[2024/05/17 10:49:47.053 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=topNSlowQueryLoop]
[2024/05/17 10:49:47.053 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=infoSyncerKeeper]
[2024/05/17 10:49:47.053 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=globalConfigSyncerKeeper]
[2024/05/17 10:49:47.053 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=runawayStartLoop]
[2024/05/17 10:49:47.053 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=requestUnitsWriterLoop]
[2024/05/17 10:49:47.053 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=topologySyncerKeeper]
[2024/05/17 10:49:47.053 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=closestReplicaReadCheckLoop]
[2024/05/17 10:49:47.053 +08:00] [WARN] [domain.go:1396] ["pd / etcd client not provided, won't begin Advancer."]
[2024/05/17 10:49:47.054 +08:00] [INFO] [delete_range.go:172] ["start delRange emulator"] [category=ddl]
[2024/05/17 10:49:47.054 +08:00] [INFO] [job_table.go:334] ["get global state and global state change"] [category=ddl] [oldState=false] [currState=false]
[2024/05/17 10:49:47.054 +08:00] [INFO] [runaway.go:149] ["try to start runaway manager loop"]
[2024/05/17 10:49:47.054 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=requestUnitsWriterLoop]
[2024/05/17 10:49:47.104 +08:00] [INFO] [job_table.go:334] ["get global state and global state change"] [category=ddl] [oldState=false] [currState=false]
[2024/05/17 10:49:47.105 +08:00] [INFO] [job_table.go:349] ["the owner sets owner operator value"] [category=ddl] [ownerOp=none]
[2024/05/17 10:49:47.255 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=0] [cur_db=mysql] [sql="CREATE DATABASE IF NOT EXISTS test"] [user=]
[2024/05/17 10:49:47.257 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:3, Type:create schema, State:queueing, SchemaState:none, SchemaID:2, TableID:0, RowCount:0, ArgLen:1, start time: 2024-05-17 10:49:47.256 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:49:47.257 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:3, Type:create schema, State:queueing, SchemaState:none, SchemaID:2, TableID:0, RowCount:0, ArgLen:1, start time: 2024-05-17 10:49:47.256 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE DATABASE IF NOT EXISTS test"]
[2024/05/17 10:49:47.261 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=3] [category=ddl] [job="ID:3, Type:create schema, State:queueing, SchemaState:none, SchemaID:2, TableID:0, RowCount:0, ArgLen:0, start time: 2024-05-17 10:49:47.256 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:49:47.268 +08:00] [INFO] [domain.go:385] ["full load InfoSchema success"] [currentSchemaVersion=0] [neededSchemaVersion=1] ["start time"=6.6285ms]
[2024/05/17 10:49:47.269 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608705609728] ["schema version"=1]
[2024/05/17 10:49:47.269 +08:00] [INFO] [domain.go:705] ["full load and reset schema validator"]
[2024/05/17 10:49:47.270 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:49:47.270 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=3] [version=1]
[2024/05/17 10:49:47.270 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=1] ["take time"=8.317916ms] [job="ID:3, Type:create schema, State:done, SchemaState:public, SchemaID:2, TableID:0, RowCount:0, ArgLen:1, start time: 2024-05-17 10:49:47.256 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:49:47.273 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=3] [job="ID:3, Type:create schema, State:synced, SchemaState:public, SchemaID:2, TableID:0, RowCount:0, ArgLen:0, start time: 2024-05-17 10:49:47.256 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:49:47.275 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=3]
[2024/05/17 10:49:47.275 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:49:47.275 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608705609728] ["schema version"=1]
[2024/05/17 10:49:47.275 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=1] [cur_db=mysql] [sql="CREATE DATABASE IF NOT EXISTS `mysql`"] [user=]
[2024/05/17 10:49:47.275 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=1] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.user (\n\t\tHost\t\t\t\t\tCHAR(255),\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tauthentication_string\tTEXT,\n\t\tplugin\t\t\t\t\tCHAR(64),\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tProcess_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_db_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tSuper_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_user_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_slave_priv\t    \tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_client_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_role_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_role_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAccount_locked\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShutdown_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReload_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tFILE_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tConfig_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_Tablespace_Priv  ENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPassword_reuse_history  smallint unsigned DEFAULT NULL,\n\t\tPassword_reuse_time     smallint unsigned DEFAULT NULL,\n\t\tUser_attributes\t\t\tjson,\n\t\tToken_issuer\t\t\tVARCHAR(255),\n\t\tPassword_expired\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPassword_last_changed\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP(),\n\t\tPassword_lifetime\t\tSMALLINT UNSIGNED DEFAULT NULL,\n\t\tPRIMARY KEY (Host, User));"] [user=]
[2024/05/17 10:49:47.277 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:5, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:4, RowCount:0, ArgLen:2, start time: 2024-05-17 10:49:47.276 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:49:47.277 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:5, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:4, RowCount:0, ArgLen:2, start time: 2024-05-17 10:49:47.276 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.user (\n\t\tHost\t\t\t\t\tCHAR(255),\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tauthentication_string\tTEXT,\n\t\tplugin\t\t\t\t\tCHAR(64),\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tProcess_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_db_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tSuper_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_user_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_slave_priv\t    \tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_client_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_role_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_role_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAccount_locked\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShutdown_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReload_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tFILE_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tConfig_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_Tablespace_Priv  ENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPassword_reuse_history  smallint unsigned DEFAULT NULL,\n\t\tPassword_reuse_time     smallint unsigned DEFAULT NULL,\n\t\tUser_attributes\t\t\tjson,\n\t\tToken_issuer\t\t\tVARCHAR(255),\n\t\tPassword_expired\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPassword_last_changed\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP(),\n\t\tPassword_lifetime\t\tSMALLINT UNSIGNED DEFAULT NULL,\n\t\tPRIMARY KEY (Host, User));"]
[2024/05/17 10:49:47.281 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=5] [category=ddl] [job="ID:5, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:4, RowCount:0, ArgLen:0, start time: 2024-05-17 10:49:47.276 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:49:47.285 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608711376896] ["schema version"=2]
[2024/05/17 10:49:47.285 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=1] [neededSchemaVersion=2] ["start time"=1.380542ms] [gotSchemaVersion=2] [phyTblIDs="[4]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:49:47.287 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:49:47.287 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=5] [version=2]
[2024/05/17 10:49:47.289 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=2] ["take time"=5.465916ms] [job="ID:5, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:4, RowCount:0, ArgLen:2, start time: 2024-05-17 10:49:47.276 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:49:47.298 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=5] [job="ID:5, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:4, RowCount:0, ArgLen:0, start time: 2024-05-17 10:49:47.276 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:49:47.303 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=5]
[2024/05/17 10:49:47.303 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:49:47.303 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608711376896] ["schema version"=2]
[2024/05/17 10:49:47.303 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=2] [cur_db=mysql] [sql="CREATE TABLE  IF NOT EXISTS mysql.password_history (\n         Host char(255)  NOT NULL DEFAULT '',\n         User char(32)  NOT NULL DEFAULT '',\n         Password_timestamp timestamp(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6),\n         Password text,\n         PRIMARY KEY (Host,User,Password_timestamp )\n        ) COMMENT='Password history for user accounts' "] [user=]
[2024/05/17 10:49:47.304 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:7, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:6, RowCount:0, ArgLen:2, start time: 2024-05-17 10:49:47.304 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:49:47.304 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:7, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:6, RowCount:0, ArgLen:2, start time: 2024-05-17 10:49:47.304 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE  IF NOT EXISTS mysql.password_history (\n         Host char(255)  NOT NULL DEFAULT '',\n         User char(32)  NOT NULL DEFAULT '',\n         Password_timestamp timestamp(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6),\n         Password text,\n         PRIMARY KEY (Host,User,Password_timestamp )\n        ) COMMENT='Password history for user accounts' "]
[2024/05/17 10:49:47.305 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608711376896] ["schema version"=2]
[2024/05/17 10:49:47.309 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=7] [category=ddl] [job="ID:7, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:6, RowCount:0, ArgLen:0, start time: 2024-05-17 10:49:47.304 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:49:47.310 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608718192643] ["schema version"=3]
[2024/05/17 10:49:47.310 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=2] [neededSchemaVersion=3] ["start time"=190.5µs] [gotSchemaVersion=3] [phyTblIDs="[6]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:49:47.311 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:49:47.311 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=7] [version=3]
[2024/05/17 10:49:47.312 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=3] ["take time"=2.012917ms] [job="ID:7, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:6, RowCount:0, ArgLen:2, start time: 2024-05-17 10:49:47.304 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:49:47.316 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=7] [job="ID:7, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:6, RowCount:0, ArgLen:0, start time: 2024-05-17 10:49:47.304 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:49:47.317 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=7]
[2024/05/17 10:49:47.317 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:49:47.317 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608718192643] ["schema version"=3]
[2024/05/17 10:49:47.317 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=3] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.global_priv (Host CHAR(255) NOT NULL DEFAULT '',User CHAR(80) NOT NULL DEFAULT '',Priv LONGTEXT NOT NULL DEFAULT '',PRIMARY KEY (Host, User))"] [user=]
[2024/05/17 10:49:47.318 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:9, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:8, RowCount:0, ArgLen:2, start time: 2024-05-17 10:49:47.318 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:49:47.318 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:9, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:8, RowCount:0, ArgLen:2, start time: 2024-05-17 10:49:47.318 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.global_priv (Host CHAR(255) NOT NULL DEFAULT '',User CHAR(80) NOT NULL DEFAULT '',Priv LONGTEXT NOT NULL DEFAULT '',PRIMARY KEY (Host, User))"]
[2024/05/17 10:49:47.321 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=9] [category=ddl] [job="ID:9, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:8, RowCount:0, ArgLen:0, start time: 2024-05-17 10:49:47.318 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:49:47.322 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608721338372] ["schema version"=4]
[2024/05/17 10:49:47.322 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=3] [neededSchemaVersion=4] ["start time"=149.208µs] [gotSchemaVersion=4] [phyTblIDs="[8]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:49:47.323 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:49:47.323 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=9] [version=4]
[2024/05/17 10:49:47.324 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=4] ["take time"=2.072875ms] [job="ID:9, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:8, RowCount:0, ArgLen:2, start time: 2024-05-17 10:49:47.318 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:49:47.328 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=9] [job="ID:9, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:8, RowCount:0, ArgLen:0, start time: 2024-05-17 10:49:47.318 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:49:47.330 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=9]
[2024/05/17 10:49:47.330 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:49:47.330 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608721338372] ["schema version"=4]
[2024/05/17 10:49:47.331 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=4] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.db (\n\t\tHost\t\t\t\t\tCHAR(255),\n\t\tDB\t\t\t\t\t\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv \t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (Host, DB, User));"] [user=]
[2024/05/17 10:49:47.333 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:11, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:10, RowCount:0, ArgLen:2, start time: 2024-05-17 10:49:47.331 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:49:47.333 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:11, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:10, RowCount:0, ArgLen:2, start time: 2024-05-17 10:49:47.331 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.db (\n\t\tHost\t\t\t\t\tCHAR(255),\n\t\tDB\t\t\t\t\t\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv \t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (Host, DB, User));"]
[2024/05/17 10:49:47.336 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=11] [category=ddl] [job="ID:11, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:10, RowCount:0, ArgLen:0, start time: 2024-05-17 10:49:47.331 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:49:47.339 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608725532672] ["schema version"=5]
[2024/05/17 10:49:47.339 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=4] [neededSchemaVersion=5] ["start time"=435.542µs] [gotSchemaVersion=5] [phyTblIDs="[10]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:49:47.339 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:49:47.339 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=11] [version=5]
[2024/05/17 10:49:47.341 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=5] ["take time"=2.324584ms] [job="ID:11, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:10, RowCount:0, ArgLen:2, start time: 2024-05-17 10:49:47.331 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:49:47.344 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=11] [job="ID:11, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:10, RowCount:0, ArgLen:0, start time: 2024-05-17 10:49:47.331 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:49:47.347 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=11]
[2024/05/17 10:49:47.347 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:49:47.347 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608725532672] ["schema version"=5]
[2024/05/17 10:49:47.347 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=5] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tables_priv (\n\t\tHost\t\tCHAR(255),\n\t\tDB\t\t\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tGrantor\t\tCHAR(77),\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tTable_priv\tSET('Select','Insert','Update','Delete','Create','Drop','Grant','Index','Alter','Create View','Show View','Trigger','References'),\n\t\tColumn_priv\tSET('Select','Insert','Update','References'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name));"] [user=]
[2024/05/17 10:49:47.348 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:13, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:12, RowCount:0, ArgLen:2, start time: 2024-05-17 10:49:47.347 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:49:47.348 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:13, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:12, RowCount:0, ArgLen:2, start time: 2024-05-17 10:49:47.347 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tables_priv (\n\t\tHost\t\tCHAR(255),\n\t\tDB\t\t\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tGrantor\t\tCHAR(77),\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tTable_priv\tSET('Select','Insert','Update','Delete','Create','Drop','Grant','Index','Alter','Create View','Show View','Trigger','References'),\n\t\tColumn_priv\tSET('Select','Insert','Update','References'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name));"]
[2024/05/17 10:49:47.351 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=13] [category=ddl] [job="ID:13, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:12, RowCount:0, ArgLen:0, start time: 2024-05-17 10:49:47.347 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:49:47.352 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608729202688] ["schema version"=6]
[2024/05/17 10:49:47.352 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=5] [neededSchemaVersion=6] ["start time"=250.083µs] [gotSchemaVersion=6] [phyTblIDs="[12]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:49:47.353 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:49:47.353 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=13] [version=6]
[2024/05/17 10:49:47.355 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=6] ["take time"=2.439459ms] [job="ID:13, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:12, RowCount:0, ArgLen:2, start time: 2024-05-17 10:49:47.347 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:49:47.358 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=13] [job="ID:13, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:12, RowCount:0, ArgLen:0, start time: 2024-05-17 10:49:47.347 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:49:47.360 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=13]
[2024/05/17 10:49:47.360 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:49:47.360 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608729202688] ["schema version"=6]
[2024/05/17 10:49:47.360 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=6] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.columns_priv(\n\t\tHost\t\tCHAR(255),\n\t\tDB\t\t\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tColumn_name\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tColumn_priv\tSET('Select','Insert','Update','References'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name, Column_name));"] [user=]
[2024/05/17 10:49:47.361 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:15, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:14, RowCount:0, ArgLen:2, start time: 2024-05-17 10:49:47.361 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:49:47.361 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:15, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:14, RowCount:0, ArgLen:2, start time: 2024-05-17 10:49:47.361 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.columns_priv(\n\t\tHost\t\tCHAR(255),\n\t\tDB\t\t\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tColumn_name\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tColumn_priv\tSET('Select','Insert','Update','References'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name, Column_name));"]
[2024/05/17 10:49:47.364 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=15] [category=ddl] [job="ID:15, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:14, RowCount:0, ArgLen:0, start time: 2024-05-17 10:49:47.361 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:49:47.366 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608732610566] ["schema version"=7]
[2024/05/17 10:49:47.366 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=6] [neededSchemaVersion=7] ["start time"=218µs] [gotSchemaVersion=7] [phyTblIDs="[14]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:49:47.366 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:49:47.366 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=15] [version=7]
[2024/05/17 10:49:47.368 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=7] ["take time"=2.531042ms] [job="ID:15, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:14, RowCount:0, ArgLen:2, start time: 2024-05-17 10:49:47.361 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:49:47.371 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=15] [job="ID:15, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:14, RowCount:0, ArgLen:0, start time: 2024-05-17 10:49:47.361 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:49:47.373 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=15]
[2024/05/17 10:49:47.373 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:49:47.373 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608732610566] ["schema version"=7]
[2024/05/17 10:49:47.373 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=7] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.GLOBAL_VARIABLES(\n\t\tVARIABLE_NAME  VARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE VARCHAR(16383) DEFAULT NULL);"] [user=]
[2024/05/17 10:49:47.374 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:17, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:16, RowCount:0, ArgLen:2, start time: 2024-05-17 10:49:47.373 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:49:47.374 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:17, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:16, RowCount:0, ArgLen:2, start time: 2024-05-17 10:49:47.373 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.GLOBAL_VARIABLES(\n\t\tVARIABLE_NAME  VARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE VARCHAR(16383) DEFAULT NULL);"]
[2024/05/17 10:49:47.377 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=17] [category=ddl] [job="ID:17, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:16, RowCount:0, ArgLen:0, start time: 2024-05-17 10:49:47.373 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:49:47.378 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608736018432] ["schema version"=8]
[2024/05/17 10:49:47.378 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=7] [neededSchemaVersion=8] ["start time"=150.5µs] [gotSchemaVersion=8] [phyTblIDs="[16]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:49:47.379 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:49:47.379 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=17] [version=8]
[2024/05/17 10:49:47.380 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=8] ["take time"=2.004917ms] [job="ID:17, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:16, RowCount:0, ArgLen:2, start time: 2024-05-17 10:49:47.373 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:49:47.383 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=17] [job="ID:17, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:16, RowCount:0, ArgLen:0, start time: 2024-05-17 10:49:47.373 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:49:47.384 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=17]
[2024/05/17 10:49:47.385 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:49:47.385 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608736018432] ["schema version"=8]
[2024/05/17 10:49:47.385 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=8] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb(\n\t\tVARIABLE_NAME  \tVARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE \tVARCHAR(1024) DEFAULT NULL,\n\t\tCOMMENT \t\tVARCHAR(1024));"] [user=]
[2024/05/17 10:49:47.386 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:19, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:18, RowCount:0, ArgLen:2, start time: 2024-05-17 10:49:47.385 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:49:47.386 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:19, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:18, RowCount:0, ArgLen:2, start time: 2024-05-17 10:49:47.385 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb(\n\t\tVARIABLE_NAME  \tVARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE \tVARCHAR(1024) DEFAULT NULL,\n\t\tCOMMENT \t\tVARCHAR(1024));"]
[2024/05/17 10:49:47.389 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=19] [category=ddl] [job="ID:19, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:18, RowCount:0, ArgLen:0, start time: 2024-05-17 10:49:47.385 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:49:47.390 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608739164162] ["schema version"=9]
[2024/05/17 10:49:47.390 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=8] [neededSchemaVersion=9] ["start time"=170.75µs] [gotSchemaVersion=9] [phyTblIDs="[18]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:49:47.391 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:49:47.391 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=19] [version=9]
[2024/05/17 10:49:47.392 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=9] ["take time"=2.038833ms] [job="ID:19, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:18, RowCount:0, ArgLen:2, start time: 2024-05-17 10:49:47.385 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:49:47.396 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=19] [job="ID:19, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:18, RowCount:0, ArgLen:0, start time: 2024-05-17 10:49:47.385 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:49:47.398 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=19]
[2024/05/17 10:49:47.398 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:49:47.398 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608739164162] ["schema version"=9]
[2024/05/17 10:49:47.399 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=9] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.help_topic (\n  \t\thelp_topic_id \t\tINT(10) UNSIGNED NOT NULL,\n  \t\tname \t\t\t\tCHAR(64) NOT NULL,\n  \t\thelp_category_id \tSMALLINT(5) UNSIGNED NOT NULL,\n  \t\tdescription \t\tTEXT NOT NULL,\n  \t\texample \t\t\tTEXT NOT NULL,\n  \t\turl \t\t\t\tTEXT NOT NULL,\n  \t\tPRIMARY KEY (help_topic_id) clustered,\n  \t\tUNIQUE KEY name (name)\n\t\t) ENGINE=InnoDB DEFAULT CHARSET=utf8 STATS_PERSISTENT=0 COMMENT='help topics';"] [user=]
[2024/05/17 10:49:47.401 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:21, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:20, RowCount:0, ArgLen:2, start time: 2024-05-17 10:49:47.4 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:49:47.401 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:21, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:20, RowCount:0, ArgLen:2, start time: 2024-05-17 10:49:47.4 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.help_topic (\n  \t\thelp_topic_id \t\tINT(10) UNSIGNED NOT NULL,\n  \t\tname \t\t\t\tCHAR(64) NOT NULL,\n  \t\thelp_category_id \tSMALLINT(5) UNSIGNED NOT NULL,\n  \t\tdescription \t\tTEXT NOT NULL,\n  \t\texample \t\t\tTEXT NOT NULL,\n  \t\turl \t\t\t\tTEXT NOT NULL,\n  \t\tPRIMARY KEY (help_topic_id) clustered,\n  \t\tUNIQUE KEY name (name)\n\t\t) ENGINE=InnoDB DEFAULT CHARSET=utf8 STATS_PERSISTENT=0 COMMENT='help topics';"]
[2024/05/17 10:49:47.404 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=21] [category=ddl] [job="ID:21, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:20, RowCount:0, ArgLen:0, start time: 2024-05-17 10:49:47.4 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:49:47.405 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608743096322] ["schema version"=10]
[2024/05/17 10:49:47.405 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=9] [neededSchemaVersion=10] ["start time"=190.042µs] [gotSchemaVersion=10] [phyTblIDs="[20]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:49:47.406 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:49:47.406 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=21] [version=10]
[2024/05/17 10:49:47.408 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=10] ["take time"=2.507ms] [job="ID:21, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:20, RowCount:0, ArgLen:2, start time: 2024-05-17 10:49:47.4 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:49:47.411 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=21] [job="ID:21, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:20, RowCount:0, ArgLen:0, start time: 2024-05-17 10:49:47.4 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:49:47.412 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=21]
[2024/05/17 10:49:47.412 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:49:47.412 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608743096322] ["schema version"=10]
[2024/05/17 10:49:47.412 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=10] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_meta (\n\t\tversion \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\ttable_id \t\tBIGINT(64) NOT NULL,\n\t\tmodify_count\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcount \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tsnapshot        BIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tINDEX idx_ver(version),\n\t\tUNIQUE INDEX tbl(table_id)\n\t);"] [user=]
[2024/05/17 10:49:47.413 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:23, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:22, RowCount:0, ArgLen:2, start time: 2024-05-17 10:49:47.413 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:49:47.413 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:23, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:22, RowCount:0, ArgLen:2, start time: 2024-05-17 10:49:47.413 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_meta (\n\t\tversion \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\ttable_id \t\tBIGINT(64) NOT NULL,\n\t\tmodify_count\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcount \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tsnapshot        BIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tINDEX idx_ver(version),\n\t\tUNIQUE INDEX tbl(table_id)\n\t);"]
[2024/05/17 10:49:47.416 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=23] [category=ddl] [job="ID:23, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:22, RowCount:0, ArgLen:0, start time: 2024-05-17 10:49:47.413 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:49:47.418 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608746242050] ["schema version"=11]
[2024/05/17 10:49:47.418 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=10] [neededSchemaVersion=11] ["start time"=217.666µs] [gotSchemaVersion=11] [phyTblIDs="[22]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:49:47.418 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:49:47.418 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=23] [version=11]
[2024/05/17 10:49:47.419 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=11] ["take time"=2.050459ms] [job="ID:23, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:22, RowCount:0, ArgLen:2, start time: 2024-05-17 10:49:47.413 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:49:47.423 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=23] [job="ID:23, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:22, RowCount:0, ArgLen:0, start time: 2024-05-17 10:49:47.413 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:49:47.425 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=23]
[2024/05/17 10:49:47.425 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:49:47.425 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608746242050] ["schema version"=11]
[2024/05/17 10:49:47.425 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=11] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_histograms (\n\t\ttable_id \t\t\tBIGINT(64) NOT NULL,\n\t\tis_index \t\t\tTINYINT(2) NOT NULL,\n\t\thist_id \t\t\tBIGINT(64) NOT NULL,\n\t\tdistinct_count \t\tBIGINT(64) NOT NULL,\n\t\tnull_count \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\ttot_col_size \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tmodify_count \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tversion \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tcm_sketch \t\t\tBLOB(6291456),\n\t\tstats_ver \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tflag \t\t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcorrelation \t\tDOUBLE NOT NULL DEFAULT 0,\n\t\tlast_analyze_pos \tLONGBLOB DEFAULT NULL,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id)\n\t);"] [user=]
[2024/05/17 10:49:47.425 +08:00] [INFO] [ddl_api.go:1141] ["Automatically convert BLOB(6291456) to MEDIUMBLOB"] [category=ddl]
[2024/05/17 10:49:47.427 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:25, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:24, RowCount:0, ArgLen:2, start time: 2024-05-17 10:49:47.426 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:49:47.427 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:25, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:24, RowCount:0, ArgLen:2, start time: 2024-05-17 10:49:47.426 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_histograms (\n\t\ttable_id \t\t\tBIGINT(64) NOT NULL,\n\t\tis_index \t\t\tTINYINT(2) NOT NULL,\n\t\thist_id \t\t\tBIGINT(64) NOT NULL,\n\t\tdistinct_count \t\tBIGINT(64) NOT NULL,\n\t\tnull_count \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\ttot_col_size \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tmodify_count \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tversion \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tcm_sketch \t\t\tBLOB(6291456),\n\t\tstats_ver \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tflag \t\t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcorrelation \t\tDOUBLE NOT NULL DEFAULT 0,\n\t\tlast_analyze_pos \tLONGBLOB DEFAULT NULL,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id)\n\t);"]
[2024/05/17 10:49:47.431 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=25] [category=ddl] [job="ID:25, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:24, RowCount:0, ArgLen:0, start time: 2024-05-17 10:49:47.426 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:49:47.434 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608750436352] ["schema version"=12]
[2024/05/17 10:49:47.434 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=11] [neededSchemaVersion=12] ["start time"=441.041µs] [gotSchemaVersion=12] [phyTblIDs="[24]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:49:47.435 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:49:47.435 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=25] [version=12]
[2024/05/17 10:49:47.435 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=12] ["take time"=2.00725ms] [job="ID:25, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:24, RowCount:0, ArgLen:2, start time: 2024-05-17 10:49:47.426 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:49:47.441 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=25] [job="ID:25, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:24, RowCount:0, ArgLen:0, start time: 2024-05-17 10:49:47.426 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:49:47.444 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=25]
[2024/05/17 10:49:47.444 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:49:47.444 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608750436352] ["schema version"=12]
[2024/05/17 10:49:47.445 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=12] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_buckets (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tbucket_id \tBIGINT(64) NOT NULL,\n\t\tcount \t\tBIGINT(64) NOT NULL,\n\t\trepeats \tBIGINT(64) NOT NULL,\n\t\tupper_bound LONGBLOB NOT NULL,\n\t\tlower_bound LONGBLOB ,\n\t\tndv         BIGINT NOT NULL DEFAULT 0,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id, bucket_id)\n\t);"] [user=]
[2024/05/17 10:49:47.447 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:27, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:26, RowCount:0, ArgLen:2, start time: 2024-05-17 10:49:47.445 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:49:47.447 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:27, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:26, RowCount:0, ArgLen:2, start time: 2024-05-17 10:49:47.445 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_buckets (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tbucket_id \tBIGINT(64) NOT NULL,\n\t\tcount \t\tBIGINT(64) NOT NULL,\n\t\trepeats \tBIGINT(64) NOT NULL,\n\t\tupper_bound LONGBLOB NOT NULL,\n\t\tlower_bound LONGBLOB ,\n\t\tndv         BIGINT NOT NULL DEFAULT 0,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id, bucket_id)\n\t);"]
[2024/05/17 10:49:47.453 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=27] [category=ddl] [job="ID:27, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:26, RowCount:0, ArgLen:0, start time: 2024-05-17 10:49:47.445 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:49:47.455 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608756203520] ["schema version"=13]
[2024/05/17 10:49:47.455 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=12] [neededSchemaVersion=13] ["start time"=344µs] [gotSchemaVersion=13] [phyTblIDs="[26]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:49:47.457 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:49:47.458 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=27] [version=13]
[2024/05/17 10:49:47.459 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=13] ["take time"=4.253ms] [job="ID:27, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:26, RowCount:0, ArgLen:2, start time: 2024-05-17 10:49:47.445 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:49:47.464 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=27] [job="ID:27, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:26, RowCount:0, ArgLen:0, start time: 2024-05-17 10:49:47.445 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:49:47.466 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=27]
[2024/05/17 10:49:47.466 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:49:47.466 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608756203520] ["schema version"=13]
[2024/05/17 10:49:47.466 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=13] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_index (job_id, element_id)\n\t);"] [user=]
[2024/05/17 10:49:47.467 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:29, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:28, RowCount:0, ArgLen:2, start time: 2024-05-17 10:49:47.467 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:49:47.467 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:29, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:28, RowCount:0, ArgLen:2, start time: 2024-05-17 10:49:47.467 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_index (job_id, element_id)\n\t);"]
[2024/05/17 10:49:47.470 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=29] [category=ddl] [job="ID:29, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:28, RowCount:0, ArgLen:0, start time: 2024-05-17 10:49:47.467 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:49:47.472 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608760397830] ["schema version"=14]
[2024/05/17 10:49:47.472 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=13] [neededSchemaVersion=14] ["start time"=194.333µs] [gotSchemaVersion=14] [phyTblIDs="[28]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:49:47.472 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:49:47.472 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=29] [version=14]
[2024/05/17 10:49:47.473 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=14] ["take time"=2.033292ms] [job="ID:29, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:28, RowCount:0, ArgLen:2, start time: 2024-05-17 10:49:47.467 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:49:47.477 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=29] [job="ID:29, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:28, RowCount:0, ArgLen:0, start time: 2024-05-17 10:49:47.467 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:49:47.479 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=29]
[2024/05/17 10:49:47.479 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:49:47.479 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608760397830] ["schema version"=14]
[2024/05/17 10:49:47.479 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=14] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range_done (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_done_index (job_id, element_id)\n\t);"] [user=]
[2024/05/17 10:49:47.480 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:31, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:30, RowCount:0, ArgLen:2, start time: 2024-05-17 10:49:47.479 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:49:47.480 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:31, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:30, RowCount:0, ArgLen:2, start time: 2024-05-17 10:49:47.479 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range_done (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_done_index (job_id, element_id)\n\t);"]
[2024/05/17 10:49:47.483 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=31] [category=ddl] [job="ID:31, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:30, RowCount:0, ArgLen:0, start time: 2024-05-17 10:49:47.479 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:49:47.484 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608763543560] ["schema version"=15]
[2024/05/17 10:49:47.484 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=14] [neededSchemaVersion=15] ["start time"=168.083µs] [gotSchemaVersion=15] [phyTblIDs="[30]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:49:47.484 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:49:47.484 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=31] [version=15]
[2024/05/17 10:49:47.486 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=15] ["take time"=2.459ms] [job="ID:31, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:30, RowCount:0, ArgLen:2, start time: 2024-05-17 10:49:47.479 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:49:47.489 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=31] [job="ID:31, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:30, RowCount:0, ArgLen:0, start time: 2024-05-17 10:49:47.479 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:49:47.491 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=31]
[2024/05/17 10:49:47.491 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:49:47.491 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608763543560] ["schema version"=15]
[2024/05/17 10:49:47.491 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=15] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_feedback (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tfeedback \tBLOB NOT NULL,\n\t\tINDEX hist(table_id, is_index, hist_id)\n\t);"] [user=]
[2024/05/17 10:49:47.492 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:33, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:32, RowCount:0, ArgLen:2, start time: 2024-05-17 10:49:47.491 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:49:47.492 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:33, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:32, RowCount:0, ArgLen:2, start time: 2024-05-17 10:49:47.491 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_feedback (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tfeedback \tBLOB NOT NULL,\n\t\tINDEX hist(table_id, is_index, hist_id)\n\t);"]
[2024/05/17 10:49:47.495 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=33] [category=ddl] [job="ID:33, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:32, RowCount:0, ArgLen:0, start time: 2024-05-17 10:49:47.491 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:49:47.496 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608766951425] ["schema version"=16]
[2024/05/17 10:49:47.496 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=15] [neededSchemaVersion=16] ["start time"=166.667µs] [gotSchemaVersion=16] [phyTblIDs="[32]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:49:47.497 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:49:47.497 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=33] [version=16]
[2024/05/17 10:49:47.498 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=16] ["take time"=2.004875ms] [job="ID:33, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:32, RowCount:0, ArgLen:2, start time: 2024-05-17 10:49:47.491 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:49:47.502 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=33] [job="ID:33, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:32, RowCount:0, ArgLen:0, start time: 2024-05-17 10:49:47.491 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:49:47.503 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=33]
[2024/05/17 10:49:47.503 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:49:47.503 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608766951425] ["schema version"=16]
[2024/05/17 10:49:47.504 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=16] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.role_edges (\n\t\tFROM_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tFROM_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tWITH_ADMIN_OPTION \tENUM('N','Y') CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (FROM_HOST,FROM_USER,TO_HOST,TO_USER)\n\t);"] [user=]
[2024/05/17 10:49:47.505 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:35, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:34, RowCount:0, ArgLen:2, start time: 2024-05-17 10:49:47.504 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:49:47.505 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:35, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:34, RowCount:0, ArgLen:2, start time: 2024-05-17 10:49:47.504 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.role_edges (\n\t\tFROM_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tFROM_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tWITH_ADMIN_OPTION \tENUM('N','Y') CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (FROM_HOST,FROM_USER,TO_HOST,TO_USER)\n\t);"]
[2024/05/17 10:49:47.508 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=35] [category=ddl] [job="ID:35, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:34, RowCount:0, ArgLen:0, start time: 2024-05-17 10:49:47.504 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:49:47.509 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608770359296] ["schema version"=17]
[2024/05/17 10:49:47.509 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=16] [neededSchemaVersion=17] ["start time"=204.833µs] [gotSchemaVersion=17] [phyTblIDs="[34]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:49:47.510 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:49:47.510 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=35] [version=17]
[2024/05/17 10:49:47.511 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=17] ["take time"=2.005ms] [job="ID:35, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:34, RowCount:0, ArgLen:2, start time: 2024-05-17 10:49:47.504 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:49:47.514 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=35] [job="ID:35, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:34, RowCount:0, ArgLen:0, start time: 2024-05-17 10:49:47.504 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:49:47.516 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=35]
[2024/05/17 10:49:47.516 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:49:47.516 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608770359296] ["schema version"=17]
[2024/05/17 10:49:47.516 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=17] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.default_roles (\n\t\tHOST \t\t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tUSER \t\t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tDEFAULT_ROLE_HOST \tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '%',\n\t\tDEFAULT_ROLE_USER \tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tPRIMARY KEY (HOST,USER,DEFAULT_ROLE_HOST,DEFAULT_ROLE_USER)\n\t)"] [user=]
[2024/05/17 10:49:47.517 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:37, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:36, RowCount:0, ArgLen:2, start time: 2024-05-17 10:49:47.517 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:49:47.517 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:37, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:36, RowCount:0, ArgLen:2, start time: 2024-05-17 10:49:47.517 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.default_roles (\n\t\tHOST \t\t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tUSER \t\t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tDEFAULT_ROLE_HOST \tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '%',\n\t\tDEFAULT_ROLE_USER \tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tPRIMARY KEY (HOST,USER,DEFAULT_ROLE_HOST,DEFAULT_ROLE_USER)\n\t)"]
[2024/05/17 10:49:47.520 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=37] [category=ddl] [job="ID:37, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:36, RowCount:0, ArgLen:0, start time: 2024-05-17 10:49:47.517 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:49:47.521 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608773505029] ["schema version"=18]
[2024/05/17 10:49:47.522 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=17] [neededSchemaVersion=18] ["start time"=181.167µs] [gotSchemaVersion=18] [phyTblIDs="[36]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:49:47.522 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:49:47.522 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=37] [version=18]
[2024/05/17 10:49:47.523 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=18] ["take time"=2.004208ms] [job="ID:37, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:36, RowCount:0, ArgLen:2, start time: 2024-05-17 10:49:47.517 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:49:47.527 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=37] [job="ID:37, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:36, RowCount:0, ArgLen:0, start time: 2024-05-17 10:49:47.517 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:49:47.529 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=37]
[2024/05/17 10:49:47.529 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:49:47.529 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608773505029] ["schema version"=18]
[2024/05/17 10:49:47.529 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=18] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.bind_info (\n\t\toriginal_sql TEXT NOT NULL,\n\t\tbind_sql TEXT NOT NULL,\n\t\tdefault_db TEXT NOT NULL,\n\t\tstatus TEXT NOT NULL,\n\t\tcreate_time TIMESTAMP(3) NOT NULL,\n\t\tupdate_time TIMESTAMP(3) NOT NULL,\n\t\tcharset TEXT NOT NULL,\n\t\tcollation TEXT NOT NULL,\n\t\tsource VARCHAR(10) NOT NULL DEFAULT 'unknown',\n\t\tsql_digest varchar(64),\n\t\tplan_digest varchar(64),\n\t\tINDEX sql_index(original_sql(700),default_db(68)) COMMENT \"accelerate the speed when add global binding query\",\n\t\tINDEX time_index(update_time) COMMENT \"accelerate the speed when querying with last update time\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"] [user=]
[2024/05/17 10:49:47.530 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:39, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:38, RowCount:0, ArgLen:2, start time: 2024-05-17 10:49:47.53 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:49:47.530 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:39, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:38, RowCount:0, ArgLen:2, start time: 2024-05-17 10:49:47.53 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.bind_info (\n\t\toriginal_sql TEXT NOT NULL,\n\t\tbind_sql TEXT NOT NULL,\n\t\tdefault_db TEXT NOT NULL,\n\t\tstatus TEXT NOT NULL,\n\t\tcreate_time TIMESTAMP(3) NOT NULL,\n\t\tupdate_time TIMESTAMP(3) NOT NULL,\n\t\tcharset TEXT NOT NULL,\n\t\tcollation TEXT NOT NULL,\n\t\tsource VARCHAR(10) NOT NULL DEFAULT 'unknown',\n\t\tsql_digest varchar(64),\n\t\tplan_digest varchar(64),\n\t\tINDEX sql_index(original_sql(700),default_db(68)) COMMENT \"accelerate the speed when add global binding query\",\n\t\tINDEX time_index(update_time) COMMENT \"accelerate the speed when querying with last update time\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"]
[2024/05/17 10:49:47.534 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=39] [category=ddl] [job="ID:39, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:38, RowCount:0, ArgLen:0, start time: 2024-05-17 10:49:47.53 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:49:47.536 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608777175040] ["schema version"=19]
[2024/05/17 10:49:47.536 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=18] [neededSchemaVersion=19] ["start time"=315.083µs] [gotSchemaVersion=19] [phyTblIDs="[38]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:49:47.536 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:49:47.536 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=39] [version=19]
[2024/05/17 10:49:47.537 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=19] ["take time"=2.038ms] [job="ID:39, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:38, RowCount:0, ArgLen:2, start time: 2024-05-17 10:49:47.53 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:49:47.541 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=39] [job="ID:39, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:38, RowCount:0, ArgLen:0, start time: 2024-05-17 10:49:47.53 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:49:47.544 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=39]
[2024/05/17 10:49:47.544 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:49:47.544 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608777175040] ["schema version"=19]
[2024/05/17 10:49:47.544 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=19] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_top_n (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tvalue \t\tLONGBLOB,\n\t\tcount \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\tINDEX tbl(table_id, is_index, hist_id)\n\t);"] [user=]
[2024/05/17 10:49:47.545 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:41, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:40, RowCount:0, ArgLen:2, start time: 2024-05-17 10:49:47.545 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:49:47.545 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:41, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:40, RowCount:0, ArgLen:2, start time: 2024-05-17 10:49:47.545 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_top_n (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tvalue \t\tLONGBLOB,\n\t\tcount \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\tINDEX tbl(table_id, is_index, hist_id)\n\t);"]
[2024/05/17 10:49:47.549 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=41] [category=ddl] [job="ID:41, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:40, RowCount:0, ArgLen:0, start time: 2024-05-17 10:49:47.545 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:49:47.550 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608781107200] ["schema version"=20]
[2024/05/17 10:49:47.550 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=19] [neededSchemaVersion=20] ["start time"=180.834µs] [gotSchemaVersion=20] [phyTblIDs="[40]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:49:47.550 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:49:47.550 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=41] [version=20]
[2024/05/17 10:49:47.552 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=20] ["take time"=2.0055ms] [job="ID:41, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:40, RowCount:0, ArgLen:2, start time: 2024-05-17 10:49:47.545 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:49:47.555 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=41] [job="ID:41, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:40, RowCount:0, ArgLen:0, start time: 2024-05-17 10:49:47.545 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:49:47.556 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608781107200] ["schema version"=20]
[2024/05/17 10:49:47.557 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=41]
[2024/05/17 10:49:47.557 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:49:47.557 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608781107200] ["schema version"=20]
[2024/05/17 10:49:47.557 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=20] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.expr_pushdown_blacklist (\n\t\tname \t\tCHAR(100) NOT NULL,\n\t\tstore_type \tCHAR(100) NOT NULL DEFAULT 'tikv,tiflash,tidb',\n\t\treason \t\tVARCHAR(200)\n\t);"] [user=]
[2024/05/17 10:49:47.559 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:43, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:42, RowCount:0, ArgLen:2, start time: 2024-05-17 10:49:47.558 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:49:47.559 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:43, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:42, RowCount:0, ArgLen:2, start time: 2024-05-17 10:49:47.558 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.expr_pushdown_blacklist (\n\t\tname \t\tCHAR(100) NOT NULL,\n\t\tstore_type \tCHAR(100) NOT NULL DEFAULT 'tikv,tiflash,tidb',\n\t\treason \t\tVARCHAR(200)\n\t);"]
[2024/05/17 10:49:47.562 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=43] [category=ddl] [job="ID:43, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:42, RowCount:0, ArgLen:0, start time: 2024-05-17 10:49:47.558 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:49:47.563 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608784515075] ["schema version"=21]
[2024/05/17 10:49:47.564 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=20] [neededSchemaVersion=21] ["start time"=197.792µs] [gotSchemaVersion=21] [phyTblIDs="[42]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:49:47.564 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:49:47.564 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=43] [version=21]
[2024/05/17 10:49:47.565 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=21] ["take time"=2.016875ms] [job="ID:43, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:42, RowCount:0, ArgLen:2, start time: 2024-05-17 10:49:47.558 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:49:47.569 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=43] [job="ID:43, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:42, RowCount:0, ArgLen:0, start time: 2024-05-17 10:49:47.558 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:49:47.570 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=43]
[2024/05/17 10:49:47.570 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:49:47.570 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608784515075] ["schema version"=21]
[2024/05/17 10:49:47.570 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=21] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.opt_rule_blacklist (\n\t\tname \tCHAR(100) NOT NULL\n\t);"] [user=]
[2024/05/17 10:49:47.571 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:45, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:44, RowCount:0, ArgLen:2, start time: 2024-05-17 10:49:47.571 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:49:47.571 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:45, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:44, RowCount:0, ArgLen:2, start time: 2024-05-17 10:49:47.571 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.opt_rule_blacklist (\n\t\tname \tCHAR(100) NOT NULL\n\t);"]
[2024/05/17 10:49:47.574 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=45] [category=ddl] [job="ID:45, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:44, RowCount:0, ArgLen:0, start time: 2024-05-17 10:49:47.571 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:49:47.575 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608787660800] ["schema version"=22]
[2024/05/17 10:49:47.575 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=21] [neededSchemaVersion=22] ["start time"=115.834µs] [gotSchemaVersion=22] [phyTblIDs="[44]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:49:47.576 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:49:47.576 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=45] [version=22]
[2024/05/17 10:49:47.577 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=22] ["take time"=2.014916ms] [job="ID:45, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:44, RowCount:0, ArgLen:2, start time: 2024-05-17 10:49:47.571 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:49:47.581 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=45] [job="ID:45, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:44, RowCount:0, ArgLen:0, start time: 2024-05-17 10:49:47.571 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:49:47.582 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=45]
[2024/05/17 10:49:47.582 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:49:47.582 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608787660800] ["schema version"=22]
[2024/05/17 10:49:47.582 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=22] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_extended (\n\t\tname varchar(32) NOT NULL,\n\t\ttype tinyint(4) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tcolumn_ids varchar(32) NOT NULL,\n\t\tstats blob DEFAULT NULL,\n\t\tversion bigint(64) unsigned NOT NULL,\n\t\tstatus tinyint(4) NOT NULL,\n\t\tPRIMARY KEY(name, table_id),\n\t\tKEY idx_1 (table_id, status, version),\n\t\tKEY idx_2 (status, version)\n\t);"] [user=]
[2024/05/17 10:49:47.583 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:47, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:46, RowCount:0, ArgLen:2, start time: 2024-05-17 10:49:47.583 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:49:47.583 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:47, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:46, RowCount:0, ArgLen:2, start time: 2024-05-17 10:49:47.583 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_extended (\n\t\tname varchar(32) NOT NULL,\n\t\ttype tinyint(4) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tcolumn_ids varchar(32) NOT NULL,\n\t\tstats blob DEFAULT NULL,\n\t\tversion bigint(64) unsigned NOT NULL,\n\t\tstatus tinyint(4) NOT NULL,\n\t\tPRIMARY KEY(name, table_id),\n\t\tKEY idx_1 (table_id, status, version),\n\t\tKEY idx_2 (status, version)\n\t);"]
[2024/05/17 10:49:47.586 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=47] [category=ddl] [job="ID:47, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:46, RowCount:0, ArgLen:0, start time: 2024-05-17 10:49:47.583 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:49:47.587 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608790806528] ["schema version"=23]
[2024/05/17 10:49:47.587 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=22] [neededSchemaVersion=23] ["start time"=246.583µs] [gotSchemaVersion=23] [phyTblIDs="[46]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:49:47.588 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:49:47.588 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=47] [version=23]
[2024/05/17 10:49:47.590 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=23] ["take time"=2.368792ms] [job="ID:47, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:46, RowCount:0, ArgLen:2, start time: 2024-05-17 10:49:47.583 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:49:47.593 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=47] [job="ID:47, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:46, RowCount:0, ArgLen:0, start time: 2024-05-17 10:49:47.583 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:49:47.596 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=47]
[2024/05/17 10:49:47.596 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:49:47.596 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608790806528] ["schema version"=23]
[2024/05/17 10:49:47.596 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=23] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_fm_sketch (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tvalue \t\tLONGBLOB,\n\t\tINDEX tbl(table_id, is_index, hist_id)\n\t);"] [user=]
[2024/05/17 10:49:47.599 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:49, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:48, RowCount:0, ArgLen:2, start time: 2024-05-17 10:49:47.598 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:49:47.599 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:49, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:48, RowCount:0, ArgLen:2, start time: 2024-05-17 10:49:47.598 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_fm_sketch (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tvalue \t\tLONGBLOB,\n\t\tINDEX tbl(table_id, is_index, hist_id)\n\t);"]
[2024/05/17 10:49:47.605 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=49] [category=ddl] [job="ID:49, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:48, RowCount:0, ArgLen:0, start time: 2024-05-17 10:49:47.598 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:49:47.606 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608795787265] ["schema version"=24]
[2024/05/17 10:49:47.606 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=23] [neededSchemaVersion=24] ["start time"=245.75µs] [gotSchemaVersion=24] [phyTblIDs="[48]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:49:47.607 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:49:47.607 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=49] [version=24]
[2024/05/17 10:49:47.610 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=24] ["take time"=4.037375ms] [job="ID:49, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:48, RowCount:0, ArgLen:2, start time: 2024-05-17 10:49:47.598 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:49:47.617 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=49] [job="ID:49, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:48, RowCount:0, ArgLen:0, start time: 2024-05-17 10:49:47.598 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:49:47.618 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=49]
[2024/05/17 10:49:47.618 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:49:47.618 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608795787265] ["schema version"=24]
[2024/05/17 10:49:47.619 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=24] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.global_grants (\n\t\tUSER char(32) NOT NULL DEFAULT '',\n\t\tHOST char(255) NOT NULL DEFAULT '',\n\t\tPRIV char(32) NOT NULL DEFAULT '',\n\t\tWITH_GRANT_OPTION enum('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (USER,HOST,PRIV)\n\t);"] [user=]
[2024/05/17 10:49:47.620 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:51, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:50, RowCount:0, ArgLen:2, start time: 2024-05-17 10:49:47.619 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:49:47.620 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:51, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:50, RowCount:0, ArgLen:2, start time: 2024-05-17 10:49:47.619 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.global_grants (\n\t\tUSER char(32) NOT NULL DEFAULT '',\n\t\tHOST char(255) NOT NULL DEFAULT '',\n\t\tPRIV char(32) NOT NULL DEFAULT '',\n\t\tWITH_GRANT_OPTION enum('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (USER,HOST,PRIV)\n\t);"]
[2024/05/17 10:49:47.624 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=51] [category=ddl] [job="ID:51, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:50, RowCount:0, ArgLen:0, start time: 2024-05-17 10:49:47.619 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:49:47.626 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608801030144] ["schema version"=25]
[2024/05/17 10:49:47.626 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=24] [neededSchemaVersion=25] ["start time"=221.583µs] [gotSchemaVersion=25] [phyTblIDs="[50]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:49:47.627 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:49:47.627 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=51] [version=25]
[2024/05/17 10:49:47.628 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=25] ["take time"=2.051125ms] [job="ID:51, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:50, RowCount:0, ArgLen:2, start time: 2024-05-17 10:49:47.619 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:49:47.632 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=51] [job="ID:51, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:50, RowCount:0, ArgLen:0, start time: 2024-05-17 10:49:47.619 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:49:47.634 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=51]
[2024/05/17 10:49:47.634 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:49:47.634 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608801030144] ["schema version"=25]
[2024/05/17 10:49:47.634 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=25] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.capture_plan_baselines_blacklist (\n\t\tid bigint(64) auto_increment,\n\t\tfilter_type varchar(32) NOT NULL COMMENT \"type of the filter, only db, table and frequency supported now\",\n\t\tfilter_value varchar(32) NOT NULL,\n\t\tkey idx(filter_type),\n\t\tprimary key(id)\n\t);"] [user=]
[2024/05/17 10:49:47.635 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:53, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:52, RowCount:0, ArgLen:2, start time: 2024-05-17 10:49:47.634 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:49:47.635 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:53, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:52, RowCount:0, ArgLen:2, start time: 2024-05-17 10:49:47.634 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.capture_plan_baselines_blacklist (\n\t\tid bigint(64) auto_increment,\n\t\tfilter_type varchar(32) NOT NULL COMMENT \"type of the filter, only db, table and frequency supported now\",\n\t\tfilter_value varchar(32) NOT NULL,\n\t\tkey idx(filter_type),\n\t\tprimary key(id)\n\t);"]
[2024/05/17 10:49:47.638 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=53] [category=ddl] [job="ID:53, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:52, RowCount:0, ArgLen:0, start time: 2024-05-17 10:49:47.634 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:49:47.639 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608804438016] ["schema version"=26]
[2024/05/17 10:49:47.639 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=25] [neededSchemaVersion=26] ["start time"=172.25µs] [gotSchemaVersion=26] [phyTblIDs="[52]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:49:47.640 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:49:47.640 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=53] [version=26]
[2024/05/17 10:49:47.642 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=26] ["take time"=2.672667ms] [job="ID:53, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:52, RowCount:0, ArgLen:2, start time: 2024-05-17 10:49:47.634 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:49:47.644 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=53] [job="ID:53, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:52, RowCount:0, ArgLen:0, start time: 2024-05-17 10:49:47.634 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:49:47.646 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=53]
[2024/05/17 10:49:47.646 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:49:47.646 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608804438016] ["schema version"=26]
[2024/05/17 10:49:47.646 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=26] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.column_stats_usage (\n\t\ttable_id BIGINT(64) NOT NULL,\n\t\tcolumn_id BIGINT(64) NOT NULL,\n\t\tlast_used_at TIMESTAMP,\n\t\tlast_analyzed_at TIMESTAMP,\n\t\tPRIMARY KEY (table_id, column_id) CLUSTERED\n\t);"] [user=]
[2024/05/17 10:49:47.648 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:55, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:54, RowCount:0, ArgLen:2, start time: 2024-05-17 10:49:47.647 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:49:47.648 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:55, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:54, RowCount:0, ArgLen:2, start time: 2024-05-17 10:49:47.647 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.column_stats_usage (\n\t\ttable_id BIGINT(64) NOT NULL,\n\t\tcolumn_id BIGINT(64) NOT NULL,\n\t\tlast_used_at TIMESTAMP,\n\t\tlast_analyzed_at TIMESTAMP,\n\t\tPRIMARY KEY (table_id, column_id) CLUSTERED\n\t);"]
[2024/05/17 10:49:47.650 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=55] [category=ddl] [job="ID:55, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:54, RowCount:0, ArgLen:0, start time: 2024-05-17 10:49:47.647 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:49:47.652 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608807583750] ["schema version"=27]
[2024/05/17 10:49:47.652 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=26] [neededSchemaVersion=27] ["start time"=159µs] [gotSchemaVersion=27] [phyTblIDs="[54]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:49:47.652 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:49:47.652 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=55] [version=27]
[2024/05/17 10:49:47.654 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=27] ["take time"=2.478125ms] [job="ID:55, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:54, RowCount:0, ArgLen:2, start time: 2024-05-17 10:49:47.647 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:49:47.656 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=55] [job="ID:55, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:54, RowCount:0, ArgLen:0, start time: 2024-05-17 10:49:47.647 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:49:47.658 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=55]
[2024/05/17 10:49:47.658 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:49:47.658 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608807583750] ["schema version"=27]
[2024/05/17 10:49:47.658 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=27] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.table_cache_meta (\n\t\ttid bigint(11) NOT NULL DEFAULT 0,\n\t\tlock_type enum('NONE','READ', 'INTEND', 'WRITE') NOT NULL DEFAULT 'NONE',\n\t\tlease bigint(20) NOT NULL DEFAULT 0,\n\t\toldReadLease bigint(20) NOT NULL DEFAULT 0,\n\t\tPRIMARY KEY (tid)\n\t);"] [user=]
[2024/05/17 10:49:47.659 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:57, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:56, RowCount:0, ArgLen:2, start time: 2024-05-17 10:49:47.658 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:49:47.659 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:57, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:56, RowCount:0, ArgLen:2, start time: 2024-05-17 10:49:47.658 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.table_cache_meta (\n\t\ttid bigint(11) NOT NULL DEFAULT 0,\n\t\tlock_type enum('NONE','READ', 'INTEND', 'WRITE') NOT NULL DEFAULT 'NONE',\n\t\tlease bigint(20) NOT NULL DEFAULT 0,\n\t\toldReadLease bigint(20) NOT NULL DEFAULT 0,\n\t\tPRIMARY KEY (tid)\n\t);"]
[2024/05/17 10:49:47.662 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=57] [category=ddl] [job="ID:57, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:56, RowCount:0, ArgLen:0, start time: 2024-05-17 10:49:47.658 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:49:47.663 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608810729472] ["schema version"=28]
[2024/05/17 10:49:47.663 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=27] [neededSchemaVersion=28] ["start time"=160.333µs] [gotSchemaVersion=28] [phyTblIDs="[56]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:49:47.663 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:49:47.663 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=57] [version=28]
[2024/05/17 10:49:47.665 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=28] ["take time"=2.600625ms] [job="ID:57, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:56, RowCount:0, ArgLen:2, start time: 2024-05-17 10:49:47.658 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:49:47.668 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=57] [job="ID:57, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:56, RowCount:0, ArgLen:0, start time: 2024-05-17 10:49:47.658 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:49:47.669 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=57]
[2024/05/17 10:49:47.669 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:49:47.669 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608810729472] ["schema version"=28]
[2024/05/17 10:49:47.670 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=28] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.analyze_options (\n\t\ttable_id BIGINT(64) NOT NULL,\n\t\tsample_num BIGINT(64) NOT NULL DEFAULT 0,\n\t\tsample_rate DOUBLE NOT NULL DEFAULT -1,\n\t\tbuckets BIGINT(64) NOT NULL DEFAULT 0,\n\t\ttopn BIGINT(64) NOT NULL DEFAULT -1,\n\t\tcolumn_choice enum('DEFAULT','ALL','PREDICATE','LIST') NOT NULL DEFAULT 'DEFAULT',\n\t\tcolumn_ids TEXT(19372),\n\t\tPRIMARY KEY (table_id) CLUSTERED\n\t);"] [user=]
[2024/05/17 10:49:47.670 +08:00] [INFO] [ddl_api.go:1141] ["Automatically convert BLOB(19372) to MEDIUMBLOB"] [category=ddl]
[2024/05/17 10:49:47.671 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:59, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:58, RowCount:0, ArgLen:2, start time: 2024-05-17 10:49:47.67 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:49:47.671 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:59, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:58, RowCount:0, ArgLen:2, start time: 2024-05-17 10:49:47.67 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.analyze_options (\n\t\ttable_id BIGINT(64) NOT NULL,\n\t\tsample_num BIGINT(64) NOT NULL DEFAULT 0,\n\t\tsample_rate DOUBLE NOT NULL DEFAULT -1,\n\t\tbuckets BIGINT(64) NOT NULL DEFAULT 0,\n\t\ttopn BIGINT(64) NOT NULL DEFAULT -1,\n\t\tcolumn_choice enum('DEFAULT','ALL','PREDICATE','LIST') NOT NULL DEFAULT 'DEFAULT',\n\t\tcolumn_ids TEXT(19372),\n\t\tPRIMARY KEY (table_id) CLUSTERED\n\t);"]
[2024/05/17 10:49:47.674 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=59] [category=ddl] [job="ID:59, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:58, RowCount:0, ArgLen:0, start time: 2024-05-17 10:49:47.67 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:49:47.675 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608813875200] ["schema version"=29]
[2024/05/17 10:49:47.675 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=28] [neededSchemaVersion=29] ["start time"=201.25µs] [gotSchemaVersion=29] [phyTblIDs="[58]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:49:47.676 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:49:47.676 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=59] [version=29]
[2024/05/17 10:49:47.678 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=29] ["take time"=2.496917ms] [job="ID:59, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:58, RowCount:0, ArgLen:2, start time: 2024-05-17 10:49:47.67 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:49:47.680 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=59] [job="ID:59, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:58, RowCount:0, ArgLen:0, start time: 2024-05-17 10:49:47.67 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:49:47.682 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=59]
[2024/05/17 10:49:47.682 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:49:47.682 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608813875200] ["schema version"=29]
[2024/05/17 10:49:47.682 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=29] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_history (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tstats_data longblob NOT NULL,\n\t\tseq_no bigint(64) NOT NULL comment 'sequence number of the gzipped data slice',\n\t\tversion bigint(64) NOT NULL comment 'stats version which corresponding to stats:version in EXPLAIN',\n\t\tcreate_time datetime(6) NOT NULL,\n\t\tUNIQUE KEY table_version_seq (table_id, version, seq_no),\n\t\tKEY table_create_time (table_id, create_time, seq_no),\n    \tKEY idx_create_time (create_time)\n\t);"] [user=]
[2024/05/17 10:49:47.683 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:61, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:60, RowCount:0, ArgLen:2, start time: 2024-05-17 10:49:47.682 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:49:47.683 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:61, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:60, RowCount:0, ArgLen:2, start time: 2024-05-17 10:49:47.682 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_history (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tstats_data longblob NOT NULL,\n\t\tseq_no bigint(64) NOT NULL comment 'sequence number of the gzipped data slice',\n\t\tversion bigint(64) NOT NULL comment 'stats version which corresponding to stats:version in EXPLAIN',\n\t\tcreate_time datetime(6) NOT NULL,\n\t\tUNIQUE KEY table_version_seq (table_id, version, seq_no),\n\t\tKEY table_create_time (table_id, create_time, seq_no),\n    \tKEY idx_create_time (create_time)\n\t);"]
[2024/05/17 10:49:47.686 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=61] [category=ddl] [job="ID:61, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:60, RowCount:0, ArgLen:0, start time: 2024-05-17 10:49:47.682 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:49:47.688 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608817283072] ["schema version"=30]
[2024/05/17 10:49:47.688 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=29] [neededSchemaVersion=30] ["start time"=236.375µs] [gotSchemaVersion=30] [phyTblIDs="[60]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:49:47.689 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:49:47.689 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=61] [version=30]
[2024/05/17 10:49:47.690 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=30] ["take time"=2.062834ms] [job="ID:61, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:60, RowCount:0, ArgLen:2, start time: 2024-05-17 10:49:47.682 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:49:47.694 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=61] [job="ID:61, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:60, RowCount:0, ArgLen:0, start time: 2024-05-17 10:49:47.682 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:49:47.696 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=61]
[2024/05/17 10:49:47.696 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:49:47.696 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608817283072] ["schema version"=30]
[2024/05/17 10:49:47.696 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=30] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_meta_history (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tmodify_count bigint(64) NOT NULL,\n\t\tcount bigint(64) NOT NULL,\n\t\tversion bigint(64) NOT NULL comment 'stats version which corresponding to stats:version in EXPLAIN',\n    \tsource varchar(40) NOT NULL,\n\t\tcreate_time datetime(6) NOT NULL,\n\t\tUNIQUE KEY table_version (table_id, version),\n\t\tKEY table_create_time (table_id, create_time),\n    \tKEY idx_create_time (create_time)\n\t);"] [user=]
[2024/05/17 10:49:47.697 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:63, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:62, RowCount:0, ArgLen:2, start time: 2024-05-17 10:49:47.696 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:49:47.697 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:63, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:62, RowCount:0, ArgLen:2, start time: 2024-05-17 10:49:47.696 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_meta_history (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tmodify_count bigint(64) NOT NULL,\n\t\tcount bigint(64) NOT NULL,\n\t\tversion bigint(64) NOT NULL comment 'stats version which corresponding to stats:version in EXPLAIN',\n    \tsource varchar(40) NOT NULL,\n\t\tcreate_time datetime(6) NOT NULL,\n\t\tUNIQUE KEY table_version (table_id, version),\n\t\tKEY table_create_time (table_id, create_time),\n    \tKEY idx_create_time (create_time)\n\t);"]
[2024/05/17 10:49:47.700 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=63] [category=ddl] [job="ID:63, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:62, RowCount:0, ArgLen:0, start time: 2024-05-17 10:49:47.696 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:49:47.702 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608820953088] ["schema version"=31]
[2024/05/17 10:49:47.702 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=30] [neededSchemaVersion=31] ["start time"=241.333µs] [gotSchemaVersion=31] [phyTblIDs="[62]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:49:47.703 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:49:47.703 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=63] [version=31]
[2024/05/17 10:49:47.704 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=31] ["take time"=2.056333ms] [job="ID:63, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:62, RowCount:0, ArgLen:2, start time: 2024-05-17 10:49:47.696 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:49:47.707 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=63] [job="ID:63, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:62, RowCount:0, ArgLen:0, start time: 2024-05-17 10:49:47.696 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:49:47.708 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=63]
[2024/05/17 10:49:47.708 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:49:47.708 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608820953088] ["schema version"=31]
[2024/05/17 10:49:47.709 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=31] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.analyze_jobs (\n\t\tid BIGINT(64) UNSIGNED NOT NULL AUTO_INCREMENT,\n\t\tupdate_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\ttable_schema CHAR(64) NOT NULL DEFAULT '',\n\t\ttable_name CHAR(64) NOT NULL DEFAULT '',\n\t\tpartition_name CHAR(64) NOT NULL DEFAULT '',\n\t\tjob_info TEXT NOT NULL,\n\t\tprocessed_rows BIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tstart_time TIMESTAMP,\n\t\tend_time TIMESTAMP,\n\t\tstate ENUM('pending', 'running', 'finished', 'failed') NOT NULL,\n\t\tfail_reason TEXT,\n\t\tinstance VARCHAR(512) NOT NULL comment 'address of the TiDB instance executing the analyze job',\n\t\tprocess_id BIGINT(64) UNSIGNED comment 'ID of the process executing the analyze job',\n\t\tPRIMARY KEY (id),\n\t\tKEY (update_time)\n\t);"] [user=]
[2024/05/17 10:49:47.710 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:65, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:64, RowCount:0, ArgLen:2, start time: 2024-05-17 10:49:47.71 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:49:47.710 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:65, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:64, RowCount:0, ArgLen:2, start time: 2024-05-17 10:49:47.71 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.analyze_jobs (\n\t\tid BIGINT(64) UNSIGNED NOT NULL AUTO_INCREMENT,\n\t\tupdate_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\ttable_schema CHAR(64) NOT NULL DEFAULT '',\n\t\ttable_name CHAR(64) NOT NULL DEFAULT '',\n\t\tpartition_name CHAR(64) NOT NULL DEFAULT '',\n\t\tjob_info TEXT NOT NULL,\n\t\tprocessed_rows BIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tstart_time TIMESTAMP,\n\t\tend_time TIMESTAMP,\n\t\tstate ENUM('pending', 'running', 'finished', 'failed') NOT NULL,\n\t\tfail_reason TEXT,\n\t\tinstance VARCHAR(512) NOT NULL comment 'address of the TiDB instance executing the analyze job',\n\t\tprocess_id BIGINT(64) UNSIGNED comment 'ID of the process executing the analyze job',\n\t\tPRIMARY KEY (id),\n\t\tKEY (update_time)\n\t);"]
[2024/05/17 10:49:47.713 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=65] [category=ddl] [job="ID:65, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:64, RowCount:0, ArgLen:0, start time: 2024-05-17 10:49:47.71 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:49:47.715 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608824360960] ["schema version"=32]
[2024/05/17 10:49:47.715 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=31] [neededSchemaVersion=32] ["start time"=299.958µs] [gotSchemaVersion=32] [phyTblIDs="[64]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:49:47.716 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:49:47.716 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=65] [version=32]
[2024/05/17 10:49:47.717 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=32] ["take time"=2.581042ms] [job="ID:65, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:64, RowCount:0, ArgLen:2, start time: 2024-05-17 10:49:47.71 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:49:47.720 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=65] [job="ID:65, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:64, RowCount:0, ArgLen:0, start time: 2024-05-17 10:49:47.71 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:49:47.722 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=65]
[2024/05/17 10:49:47.722 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:49:47.722 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608824360960] ["schema version"=32]
[2024/05/17 10:49:47.722 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=32] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.advisory_locks (\n\t\tlock_name VARCHAR(64) NOT NULL PRIMARY KEY\n\t);"] [user=]
[2024/05/17 10:49:47.723 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:67, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:66, RowCount:0, ArgLen:2, start time: 2024-05-17 10:49:47.723 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:49:47.723 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:67, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:66, RowCount:0, ArgLen:2, start time: 2024-05-17 10:49:47.723 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.advisory_locks (\n\t\tlock_name VARCHAR(64) NOT NULL PRIMARY KEY\n\t);"]
[2024/05/17 10:49:47.727 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=67] [category=ddl] [job="ID:67, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:66, RowCount:0, ArgLen:0, start time: 2024-05-17 10:49:47.723 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:49:47.728 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608827768832] ["schema version"=33]
[2024/05/17 10:49:47.728 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=32] [neededSchemaVersion=33] ["start time"=145.916µs] [gotSchemaVersion=33] [phyTblIDs="[66]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:49:47.729 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:49:47.729 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=67] [version=33]
[2024/05/17 10:49:47.730 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=33] ["take time"=2.021709ms] [job="ID:67, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:66, RowCount:0, ArgLen:2, start time: 2024-05-17 10:49:47.723 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:49:47.734 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=67] [job="ID:67, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:66, RowCount:0, ArgLen:0, start time: 2024-05-17 10:49:47.723 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:49:47.735 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=67]
[2024/05/17 10:49:47.735 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:49:47.735 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608827768832] ["schema version"=33]
[2024/05/17 10:49:47.739 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:69, Type:create view, State:queueing, SchemaState:none, SchemaID:1, TableID:68, RowCount:0, ArgLen:3, start time: 2024-05-17 10:49:47.738 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:49:47.739 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:69, Type:create view, State:queueing, SchemaState:none, SchemaID:1, TableID:68, RowCount:0, ArgLen:3, start time: 2024-05-17 10:49:47.738 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE OR REPLACE VIEW mysql.tidb_mdl_view as (\n\t\tSELECT tidb_mdl_info.job_id,\n\t\t\tJSON_UNQUOTE(JSON_EXTRACT(cast(cast(job_meta as char) as json), \"$.schema_name\")) as db_name,\n\t\t\tJSON_UNQUOTE(JSON_EXTRACT(cast(cast(job_meta as char) as json), \"$.table_name\")) as table_name,\n\t\t\tJSON_UNQUOTE(JSON_EXTRACT(cast(cast(job_meta as char) as json), \"$.query\")) as query,\n\t\t\tsession_id,\n\t\t\tcluster_tidb_trx.start_time,\n\t\t\ttidb_decode_sql_digests(all_sql_digests, 4096) AS SQL_DIGESTS\n\t\tFROM mysql.tidb_ddl_job,\n\t\t\tmysql.tidb_mdl_info,\n\t\t\tinformation_schema.cluster_tidb_trx\n\t\tWHERE tidb_ddl_job.job_id=tidb_mdl_info.job_id\n\t\t\tAND CONCAT(',', tidb_mdl_info.table_ids, ',') REGEXP CONCAT(',(', REPLACE(cluster_tidb_trx.related_table_ids, ',', '|'), '),') != 0\n\t);"]
[2024/05/17 10:49:47.742 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=69] [category=ddl] [job="ID:69, Type:create view, State:queueing, SchemaState:none, SchemaID:1, TableID:68, RowCount:0, ArgLen:0, start time: 2024-05-17 10:49:47.738 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:49:47.744 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608831700992] ["schema version"=34]
[2024/05/17 10:49:47.744 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=33] [neededSchemaVersion=34] ["start time"=203.958µs] [gotSchemaVersion=34] [phyTblIDs="[68]"] [actionTypes="[21]"] [diffTypes="[\"create view\"]"]
[2024/05/17 10:49:47.744 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:49:47.744 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=69] [version=34]
[2024/05/17 10:49:47.746 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=34] ["take time"=2.655833ms] [job="ID:69, Type:create view, State:done, SchemaState:public, SchemaID:1, TableID:68, RowCount:0, ArgLen:3, start time: 2024-05-17 10:49:47.738 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:49:47.749 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=69] [job="ID:69, Type:create view, State:synced, SchemaState:public, SchemaID:1, TableID:68, RowCount:0, ArgLen:0, start time: 2024-05-17 10:49:47.738 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:49:47.751 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=69]
[2024/05/17 10:49:47.751 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:49:47.751 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608831700992] ["schema version"=34]
[2024/05/17 10:49:47.751 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=34] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.plan_replayer_status (\n\t\tsql_digest VARCHAR(128),\n\t\tplan_digest VARCHAR(128),\n\t\torigin_sql TEXT,\n\t\ttoken VARCHAR(128),\n\t\tupdate_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\tfail_reason TEXT,\n\t\tinstance VARCHAR(512) NOT NULL comment 'address of the TiDB instance executing the plan replayer job');"] [user=]
[2024/05/17 10:49:47.752 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:71, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:70, RowCount:0, ArgLen:2, start time: 2024-05-17 10:49:47.752 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:49:47.752 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:71, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:70, RowCount:0, ArgLen:2, start time: 2024-05-17 10:49:47.752 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.plan_replayer_status (\n\t\tsql_digest VARCHAR(128),\n\t\tplan_digest VARCHAR(128),\n\t\torigin_sql TEXT,\n\t\ttoken VARCHAR(128),\n\t\tupdate_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\tfail_reason TEXT,\n\t\tinstance VARCHAR(512) NOT NULL comment 'address of the TiDB instance executing the plan replayer job');"]
[2024/05/17 10:49:47.758 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=71] [category=ddl] [job="ID:71, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:70, RowCount:0, ArgLen:0, start time: 2024-05-17 10:49:47.752 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:49:47.760 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608836157440] ["schema version"=35]
[2024/05/17 10:49:47.760 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=34] [neededSchemaVersion=35] ["start time"=287.541µs] [gotSchemaVersion=35] [phyTblIDs="[70]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:49:47.761 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:49:47.761 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=71] [version=35]
[2024/05/17 10:49:47.764 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=35] ["take time"=3.949042ms] [job="ID:71, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:70, RowCount:0, ArgLen:2, start time: 2024-05-17 10:49:47.752 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:49:47.770 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=71] [job="ID:71, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:70, RowCount:0, ArgLen:0, start time: 2024-05-17 10:49:47.752 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:49:47.774 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=71]
[2024/05/17 10:49:47.774 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:49:47.774 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608836157440] ["schema version"=35]
[2024/05/17 10:49:47.775 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=35] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.plan_replayer_task (\n\t\tsql_digest VARCHAR(128) NOT NULL,\n\t\tplan_digest VARCHAR(128) NOT NULL,\n\t\tupdate_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\tPRIMARY KEY (sql_digest,plan_digest));"] [user=]
[2024/05/17 10:49:47.780 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:73, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:72, RowCount:0, ArgLen:2, start time: 2024-05-17 10:49:47.777 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:49:47.780 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:73, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:72, RowCount:0, ArgLen:2, start time: 2024-05-17 10:49:47.777 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.plan_replayer_task (\n\t\tsql_digest VARCHAR(128) NOT NULL,\n\t\tplan_digest VARCHAR(128) NOT NULL,\n\t\tupdate_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\tPRIMARY KEY (sql_digest,plan_digest));"]
[2024/05/17 10:49:47.784 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=73] [category=ddl] [job="ID:73, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:72, RowCount:0, ArgLen:0, start time: 2024-05-17 10:49:47.777 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:49:47.788 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608843235328] ["schema version"=36]
[2024/05/17 10:49:47.788 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=35] [neededSchemaVersion=36] ["start time"=205.75µs] [gotSchemaVersion=36] [phyTblIDs="[72]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:49:47.788 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:49:47.789 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=73] [version=36]
[2024/05/17 10:49:47.790 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=36] ["take time"=2.044083ms] [job="ID:73, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:72, RowCount:0, ArgLen:2, start time: 2024-05-17 10:49:47.777 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:49:47.794 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=73] [job="ID:73, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:72, RowCount:0, ArgLen:0, start time: 2024-05-17 10:49:47.777 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:49:47.796 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=73]
[2024/05/17 10:49:47.796 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:49:47.796 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608843235328] ["schema version"=36]
[2024/05/17 10:49:47.796 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=36] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_table_locked(\n\t\ttable_id bigint(64) NOT NULL,\n\t\tmodify_count bigint(64) NOT NULL DEFAULT 0,\n\t\tcount bigint(64) NOT NULL DEFAULT 0,\n\t\tversion bigint(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tPRIMARY KEY (table_id));"] [user=]
[2024/05/17 10:49:47.797 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:75, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:74, RowCount:0, ArgLen:2, start time: 2024-05-17 10:49:47.797 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:49:47.797 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:75, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:74, RowCount:0, ArgLen:2, start time: 2024-05-17 10:49:47.797 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_table_locked(\n\t\ttable_id bigint(64) NOT NULL,\n\t\tmodify_count bigint(64) NOT NULL DEFAULT 0,\n\t\tcount bigint(64) NOT NULL DEFAULT 0,\n\t\tversion bigint(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tPRIMARY KEY (table_id));"]
[2024/05/17 10:49:47.800 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=75] [category=ddl] [job="ID:75, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:74, RowCount:0, ArgLen:0, start time: 2024-05-17 10:49:47.797 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:49:47.801 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608846905344] ["schema version"=37]
[2024/05/17 10:49:47.801 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=36] [neededSchemaVersion=37] ["start time"=174.417µs] [gotSchemaVersion=37] [phyTblIDs="[74]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:49:47.802 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:49:47.802 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=75] [version=37]
[2024/05/17 10:49:47.803 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=37] ["take time"=2.380959ms] [job="ID:75, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:74, RowCount:0, ArgLen:2, start time: 2024-05-17 10:49:47.797 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:49:47.805 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608846905344] ["schema version"=37]
[2024/05/17 10:49:47.807 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=75] [job="ID:75, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:74, RowCount:0, ArgLen:0, start time: 2024-05-17 10:49:47.797 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:49:47.808 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=75]
[2024/05/17 10:49:47.808 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:49:47.808 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608846905344] ["schema version"=37]
[2024/05/17 10:49:47.808 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=37] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_ttl_table_status (\n\t\ttable_id bigint(64) PRIMARY KEY,\n        parent_table_id bigint(64),\n        table_statistics text DEFAULT NULL,\n\t\tlast_job_id varchar(64) DEFAULT NULL,\n\t\tlast_job_start_time timestamp NULL DEFAULT NULL,\n\t\tlast_job_finish_time timestamp NULL DEFAULT NULL,\n\t\tlast_job_ttl_expire timestamp NULL DEFAULT NULL,\n        last_job_summary text DEFAULT NULL,\n\t\tcurrent_job_id varchar(64) DEFAULT NULL,\n\t\tcurrent_job_owner_id varchar(64) DEFAULT NULL,\n\t\tcurrent_job_owner_addr varchar(256) DEFAULT NULL,\n\t\tcurrent_job_owner_hb_time timestamp,\n\t\tcurrent_job_start_time timestamp NULL DEFAULT NULL,\n\t\tcurrent_job_ttl_expire timestamp NULL DEFAULT NULL,\n\t\tcurrent_job_state text DEFAULT NULL,\n\t\tcurrent_job_status varchar(64) DEFAULT NULL,\n  \t\tcurrent_job_status_update_time timestamp NULL DEFAULT NULL);"] [user=]
[2024/05/17 10:49:47.810 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:77, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:76, RowCount:0, ArgLen:2, start time: 2024-05-17 10:49:47.809 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:49:47.810 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:77, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:76, RowCount:0, ArgLen:2, start time: 2024-05-17 10:49:47.809 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_ttl_table_status (\n\t\ttable_id bigint(64) PRIMARY KEY,\n        parent_table_id bigint(64),\n        table_statistics text DEFAULT NULL,\n\t\tlast_job_id varchar(64) DEFAULT NULL,\n\t\tlast_job_start_time timestamp NULL DEFAULT NULL,\n\t\tlast_job_finish_time timestamp NULL DEFAULT NULL,\n\t\tlast_job_ttl_expire timestamp NULL DEFAULT NULL,\n        last_job_summary text DEFAULT NULL,\n\t\tcurrent_job_id varchar(64) DEFAULT NULL,\n\t\tcurrent_job_owner_id varchar(64) DEFAULT NULL,\n\t\tcurrent_job_owner_addr varchar(256) DEFAULT NULL,\n\t\tcurrent_job_owner_hb_time timestamp,\n\t\tcurrent_job_start_time timestamp NULL DEFAULT NULL,\n\t\tcurrent_job_ttl_expire timestamp NULL DEFAULT NULL,\n\t\tcurrent_job_state text DEFAULT NULL,\n\t\tcurrent_job_status varchar(64) DEFAULT NULL,\n  \t\tcurrent_job_status_update_time timestamp NULL DEFAULT NULL);"]
[2024/05/17 10:49:47.813 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=77] [category=ddl] [job="ID:77, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:76, RowCount:0, ArgLen:0, start time: 2024-05-17 10:49:47.809 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:49:47.816 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608850575360] ["schema version"=38]
[2024/05/17 10:49:47.816 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=37] [neededSchemaVersion=38] ["start time"=359.834µs] [gotSchemaVersion=38] [phyTblIDs="[76]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:49:47.816 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:49:47.816 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=77] [version=38]
[2024/05/17 10:49:47.817 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=38] ["take time"=2.038709ms] [job="ID:77, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:76, RowCount:0, ArgLen:2, start time: 2024-05-17 10:49:47.809 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:49:47.821 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=77] [job="ID:77, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:76, RowCount:0, ArgLen:0, start time: 2024-05-17 10:49:47.809 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:49:47.823 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=77]
[2024/05/17 10:49:47.823 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:49:47.823 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608850575360] ["schema version"=38]
[2024/05/17 10:49:47.824 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=38] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_ttl_task (\n\t\tjob_id varchar(64) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tscan_id int NOT NULL,\n\t\tscan_range_start BLOB,\n\t\tscan_range_end BLOB,\n\t\texpire_time timestamp NOT NULL,\n\t\towner_id varchar(64) DEFAULT NULL,\n\t\towner_addr varchar(64) DEFAULT NULL,\n\t\towner_hb_time timestamp DEFAULT NULL,\n\t\tstatus varchar(64) DEFAULT 'waiting',\n\t\tstatus_update_time timestamp NULL DEFAULT NULL,\n\t\tstate text,\n\t\tcreated_time timestamp NOT NULL,\n\t\tprimary key(job_id, scan_id),\n\t\tkey(created_time));"] [user=]
[2024/05/17 10:49:47.825 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:79, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:78, RowCount:0, ArgLen:2, start time: 2024-05-17 10:49:47.824 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:49:47.825 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:79, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:78, RowCount:0, ArgLen:2, start time: 2024-05-17 10:49:47.824 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_ttl_task (\n\t\tjob_id varchar(64) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tscan_id int NOT NULL,\n\t\tscan_range_start BLOB,\n\t\tscan_range_end BLOB,\n\t\texpire_time timestamp NOT NULL,\n\t\towner_id varchar(64) DEFAULT NULL,\n\t\towner_addr varchar(64) DEFAULT NULL,\n\t\towner_hb_time timestamp DEFAULT NULL,\n\t\tstatus varchar(64) DEFAULT 'waiting',\n\t\tstatus_update_time timestamp NULL DEFAULT NULL,\n\t\tstate text,\n\t\tcreated_time timestamp NOT NULL,\n\t\tprimary key(job_id, scan_id),\n\t\tkey(created_time));"]
[2024/05/17 10:49:47.828 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=79] [category=ddl] [job="ID:79, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:78, RowCount:0, ArgLen:0, start time: 2024-05-17 10:49:47.824 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:49:47.830 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608854507520] ["schema version"=39]
[2024/05/17 10:49:47.830 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=38] [neededSchemaVersion=39] ["start time"=311.833µs] [gotSchemaVersion=39] [phyTblIDs="[78]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:49:47.831 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:49:47.831 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=79] [version=39]
[2024/05/17 10:49:47.832 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=39] ["take time"=2.038875ms] [job="ID:79, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:78, RowCount:0, ArgLen:2, start time: 2024-05-17 10:49:47.824 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:49:47.835 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=79] [job="ID:79, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:78, RowCount:0, ArgLen:0, start time: 2024-05-17 10:49:47.824 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:49:47.837 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=79]
[2024/05/17 10:49:47.837 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:49:47.837 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608854507520] ["schema version"=39]
[2024/05/17 10:49:47.837 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=39] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_ttl_job_history (\n\t\tjob_id varchar(64) PRIMARY KEY,\n\t\ttable_id bigint(64) NOT NULL,\n        parent_table_id bigint(64) NOT NULL,\n    \ttable_schema varchar(64) NOT NULL,\n\t\ttable_name varchar(64) NOT NULL,\n    \tpartition_name varchar(64) DEFAULT NULL,\n\t\tcreate_time timestamp NOT NULL,\n\t\tfinish_time timestamp NOT NULL,\n\t\tttl_expire timestamp NOT NULL,\n        summary_text text,\n\t\texpired_rows bigint(64) DEFAULT NULL,\n    \tdeleted_rows bigint(64) DEFAULT NULL,\n    \terror_delete_rows bigint(64) DEFAULT NULL,\n    \tstatus varchar(64) NOT NULL,\n    \tkey(table_schema, table_name, create_time),\n    \tkey(parent_table_id, create_time),\n    \tkey(create_time)\n\t);"] [user=]
[2024/05/17 10:49:47.839 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:81, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:80, RowCount:0, ArgLen:2, start time: 2024-05-17 10:49:47.838 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:49:47.839 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:81, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:80, RowCount:0, ArgLen:2, start time: 2024-05-17 10:49:47.838 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_ttl_job_history (\n\t\tjob_id varchar(64) PRIMARY KEY,\n\t\ttable_id bigint(64) NOT NULL,\n        parent_table_id bigint(64) NOT NULL,\n    \ttable_schema varchar(64) NOT NULL,\n\t\ttable_name varchar(64) NOT NULL,\n    \tpartition_name varchar(64) DEFAULT NULL,\n\t\tcreate_time timestamp NOT NULL,\n\t\tfinish_time timestamp NOT NULL,\n\t\tttl_expire timestamp NOT NULL,\n        summary_text text,\n\t\texpired_rows bigint(64) DEFAULT NULL,\n    \tdeleted_rows bigint(64) DEFAULT NULL,\n    \terror_delete_rows bigint(64) DEFAULT NULL,\n    \tstatus varchar(64) NOT NULL,\n    \tkey(table_schema, table_name, create_time),\n    \tkey(parent_table_id, create_time),\n    \tkey(create_time)\n\t);"]
[2024/05/17 10:49:47.842 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=81] [category=ddl] [job="ID:81, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:80, RowCount:0, ArgLen:0, start time: 2024-05-17 10:49:47.838 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:49:47.844 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608857915392] ["schema version"=40]
[2024/05/17 10:49:47.844 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=39] [neededSchemaVersion=40] ["start time"=385.375µs] [gotSchemaVersion=40] [phyTblIDs="[80]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:49:47.845 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:49:47.845 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=81] [version=40]
[2024/05/17 10:49:47.846 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=40] ["take time"=2.535208ms] [job="ID:81, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:80, RowCount:0, ArgLen:2, start time: 2024-05-17 10:49:47.838 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:49:47.849 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=81] [job="ID:81, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:80, RowCount:0, ArgLen:0, start time: 2024-05-17 10:49:47.838 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:49:47.851 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=81]
[2024/05/17 10:49:47.851 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:49:47.851 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608857915392] ["schema version"=40]
[2024/05/17 10:49:47.852 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=40] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_global_task (\n\t\tid BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n    \ttask_key VARCHAR(256) NOT NULL,\n\t\ttype VARCHAR(256) NOT NULL,\n\t\tdispatcher_id VARCHAR(261),\n\t\tstate VARCHAR(64) NOT NULL,\n\t\tpriority INT DEFAULT 1,\n\t\tcreate_time TIMESTAMP,\n\t\tstart_time TIMESTAMP,\n\t\tstate_update_time TIMESTAMP,\n\t\tend_time TIMESTAMP,\n\t\tmeta LONGBLOB,\n\t\tconcurrency INT(11),\n\t\tstep INT(11),\n\t\ttarget_scope VARCHAR(256) DEFAULT \"\",\n\t\terror BLOB,\n\t\tkey(state),\n      \tUNIQUE KEY task_key(task_key)\n\t);"] [user=]
[2024/05/17 10:49:47.853 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:83, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:82, RowCount:0, ArgLen:2, start time: 2024-05-17 10:49:47.852 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:49:47.853 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:83, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:82, RowCount:0, ArgLen:2, start time: 2024-05-17 10:49:47.852 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_global_task (\n\t\tid BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n    \ttask_key VARCHAR(256) NOT NULL,\n\t\ttype VARCHAR(256) NOT NULL,\n\t\tdispatcher_id VARCHAR(261),\n\t\tstate VARCHAR(64) NOT NULL,\n\t\tpriority INT DEFAULT 1,\n\t\tcreate_time TIMESTAMP,\n\t\tstart_time TIMESTAMP,\n\t\tstate_update_time TIMESTAMP,\n\t\tend_time TIMESTAMP,\n\t\tmeta LONGBLOB,\n\t\tconcurrency INT(11),\n\t\tstep INT(11),\n\t\ttarget_scope VARCHAR(256) DEFAULT \"\",\n\t\terror BLOB,\n\t\tkey(state),\n      \tUNIQUE KEY task_key(task_key)\n\t);"]
[2024/05/17 10:49:47.856 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=83] [category=ddl] [job="ID:83, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:82, RowCount:0, ArgLen:0, start time: 2024-05-17 10:49:47.852 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:49:47.858 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608861847552] ["schema version"=41]
[2024/05/17 10:49:47.858 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=40] [neededSchemaVersion=41] ["start time"=328.209µs] [gotSchemaVersion=41] [phyTblIDs="[82]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:49:47.859 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:49:47.859 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=83] [version=41]
[2024/05/17 10:49:47.860 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=41] ["take time"=2.011ms] [job="ID:83, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:82, RowCount:0, ArgLen:2, start time: 2024-05-17 10:49:47.852 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:49:47.863 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=83] [job="ID:83, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:82, RowCount:0, ArgLen:0, start time: 2024-05-17 10:49:47.852 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:49:47.864 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=83]
[2024/05/17 10:49:47.865 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:49:47.865 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608861847552] ["schema version"=41]
[2024/05/17 10:49:47.865 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=41] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_global_task_history (\n\t\tid BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n    \ttask_key VARCHAR(256) NOT NULL,\n\t\ttype VARCHAR(256) NOT NULL,\n\t\tdispatcher_id VARCHAR(261),\n\t\tstate VARCHAR(64) NOT NULL,\n\t\tpriority INT DEFAULT 1,\n\t\tcreate_time TIMESTAMP,\n\t\tstart_time TIMESTAMP,\n\t\tstate_update_time TIMESTAMP,\n\t\tend_time TIMESTAMP,\n\t\tmeta LONGBLOB,\n\t\tconcurrency INT(11),\n\t\tstep INT(11),\n\t\ttarget_scope VARCHAR(256) DEFAULT \"\",\n\t\terror BLOB,\n\t\tkey(state),\n      \tUNIQUE KEY task_key(task_key)\n\t);"] [user=]
[2024/05/17 10:49:47.866 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:85, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:84, RowCount:0, ArgLen:2, start time: 2024-05-17 10:49:47.865 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:49:47.866 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:85, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:84, RowCount:0, ArgLen:2, start time: 2024-05-17 10:49:47.865 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_global_task_history (\n\t\tid BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n    \ttask_key VARCHAR(256) NOT NULL,\n\t\ttype VARCHAR(256) NOT NULL,\n\t\tdispatcher_id VARCHAR(261),\n\t\tstate VARCHAR(64) NOT NULL,\n\t\tpriority INT DEFAULT 1,\n\t\tcreate_time TIMESTAMP,\n\t\tstart_time TIMESTAMP,\n\t\tstate_update_time TIMESTAMP,\n\t\tend_time TIMESTAMP,\n\t\tmeta LONGBLOB,\n\t\tconcurrency INT(11),\n\t\tstep INT(11),\n\t\ttarget_scope VARCHAR(256) DEFAULT \"\",\n\t\terror BLOB,\n\t\tkey(state),\n      \tUNIQUE KEY task_key(task_key)\n\t);"]
[2024/05/17 10:49:47.869 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=85] [category=ddl] [job="ID:85, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:84, RowCount:0, ArgLen:0, start time: 2024-05-17 10:49:47.865 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:49:47.871 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608865255424] ["schema version"=42]
[2024/05/17 10:49:47.871 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=41] [neededSchemaVersion=42] ["start time"=338.292µs] [gotSchemaVersion=42] [phyTblIDs="[84]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:49:47.872 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:49:47.872 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=85] [version=42]
[2024/05/17 10:49:47.873 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=42] ["take time"=2.00325ms] [job="ID:85, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:84, RowCount:0, ArgLen:2, start time: 2024-05-17 10:49:47.865 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:49:47.877 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=85] [job="ID:85, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:84, RowCount:0, ArgLen:0, start time: 2024-05-17 10:49:47.865 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:49:47.879 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=85]
[2024/05/17 10:49:47.879 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:49:47.879 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608865255424] ["schema version"=42]
[2024/05/17 10:49:47.879 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=42] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_import_jobs (\n\t\tid bigint(64) NOT NULL AUTO_INCREMENT,\n\t\tcreate_time TIMESTAMP(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6),\n\t\tstart_time TIMESTAMP(6) NULL DEFAULT NULL,\n\t\tupdate_time TIMESTAMP(6) NULL DEFAULT NULL,\n\t\tend_time TIMESTAMP(6) NULL DEFAULT NULL,\n\t\ttable_schema VARCHAR(64) NOT NULL,\n\t\ttable_name VARCHAR(64) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tcreated_by VARCHAR(300) NOT NULL,\n\t\tparameters text NOT NULL,\n\t\tsource_file_size bigint(64) NOT NULL,\n\t\tstatus VARCHAR(64) NOT NULL,\n\t\tstep VARCHAR(64) NOT NULL,\n\t\tsummary text DEFAULT NULL,\n\t\terror_message TEXT DEFAULT NULL,\n\t\tPRIMARY KEY (id),\n\t\tKEY (created_by),\n\t\tKEY (status));"] [user=]
[2024/05/17 10:49:47.880 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:87, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:86, RowCount:0, ArgLen:2, start time: 2024-05-17 10:49:47.88 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:49:47.880 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:87, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:86, RowCount:0, ArgLen:2, start time: 2024-05-17 10:49:47.88 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_import_jobs (\n\t\tid bigint(64) NOT NULL AUTO_INCREMENT,\n\t\tcreate_time TIMESTAMP(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6),\n\t\tstart_time TIMESTAMP(6) NULL DEFAULT NULL,\n\t\tupdate_time TIMESTAMP(6) NULL DEFAULT NULL,\n\t\tend_time TIMESTAMP(6) NULL DEFAULT NULL,\n\t\ttable_schema VARCHAR(64) NOT NULL,\n\t\ttable_name VARCHAR(64) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tcreated_by VARCHAR(300) NOT NULL,\n\t\tparameters text NOT NULL,\n\t\tsource_file_size bigint(64) NOT NULL,\n\t\tstatus VARCHAR(64) NOT NULL,\n\t\tstep VARCHAR(64) NOT NULL,\n\t\tsummary text DEFAULT NULL,\n\t\terror_message TEXT DEFAULT NULL,\n\t\tPRIMARY KEY (id),\n\t\tKEY (created_by),\n\t\tKEY (status));"]
[2024/05/17 10:49:47.883 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=87] [category=ddl] [job="ID:87, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:86, RowCount:0, ArgLen:0, start time: 2024-05-17 10:49:47.88 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:49:47.885 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608868925440] ["schema version"=43]
[2024/05/17 10:49:47.885 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=42] [neededSchemaVersion=43] ["start time"=343.5µs] [gotSchemaVersion=43] [phyTblIDs="[86]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:49:47.886 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:49:47.886 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=87] [version=43]
[2024/05/17 10:49:47.887 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=43] ["take time"=2.023959ms] [job="ID:87, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:86, RowCount:0, ArgLen:2, start time: 2024-05-17 10:49:47.88 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:49:47.891 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=87] [job="ID:87, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:86, RowCount:0, ArgLen:0, start time: 2024-05-17 10:49:47.88 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:49:47.893 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=87]
[2024/05/17 10:49:47.893 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:49:47.893 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608868925440] ["schema version"=43]
[2024/05/17 10:49:47.894 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=43] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_runaway_watch (\n\t\tid BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n\t\tresource_group_name varchar(32) not null,\n\t\tstart_time datetime(6) NOT NULL,\n\t\tend_time datetime(6),\n\t\twatch bigint(10) NOT NULL,\n\t\twatch_text TEXT NOT NULL,\n\t\tsource varchar(512) NOT NULL,\n\t\taction bigint(10),\n\t\tINDEX sql_index(resource_group_name,watch_text(700)) COMMENT \"accelerate the speed when select quarantined query\",\n\t\tINDEX time_index(end_time) COMMENT \"accelerate the speed when querying with active watch\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"] [user=]
[2024/05/17 10:49:47.895 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:89, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:88, RowCount:0, ArgLen:2, start time: 2024-05-17 10:49:47.894 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:49:47.895 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:89, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:88, RowCount:0, ArgLen:2, start time: 2024-05-17 10:49:47.894 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_runaway_watch (\n\t\tid BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n\t\tresource_group_name varchar(32) not null,\n\t\tstart_time datetime(6) NOT NULL,\n\t\tend_time datetime(6),\n\t\twatch bigint(10) NOT NULL,\n\t\twatch_text TEXT NOT NULL,\n\t\tsource varchar(512) NOT NULL,\n\t\taction bigint(10),\n\t\tINDEX sql_index(resource_group_name,watch_text(700)) COMMENT \"accelerate the speed when select quarantined query\",\n\t\tINDEX time_index(end_time) COMMENT \"accelerate the speed when querying with active watch\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"]
[2024/05/17 10:49:47.898 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=89] [category=ddl] [job="ID:89, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:88, RowCount:0, ArgLen:0, start time: 2024-05-17 10:49:47.894 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:49:47.899 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608872595456] ["schema version"=44]
[2024/05/17 10:49:47.899 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=43] [neededSchemaVersion=44] ["start time"=250.208µs] [gotSchemaVersion=44] [phyTblIDs="[88]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:49:47.900 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:49:47.900 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=89] [version=44]
[2024/05/17 10:49:47.902 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=44] ["take time"=2.706916ms] [job="ID:89, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:88, RowCount:0, ArgLen:2, start time: 2024-05-17 10:49:47.894 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:49:47.905 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=89] [job="ID:89, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:88, RowCount:0, ArgLen:0, start time: 2024-05-17 10:49:47.894 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:49:47.907 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=89]
[2024/05/17 10:49:47.907 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:49:47.907 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608872595456] ["schema version"=44]
[2024/05/17 10:49:47.907 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=44] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_runaway_queries (\n\t\tresource_group_name varchar(32) not null,\n\t\ttime TIMESTAMP NOT NULL,\n\t\tmatch_type varchar(12) NOT NULL,\n\t\taction varchar(12) NOT NULL,\n\t\toriginal_sql TEXT NOT NULL,\n\t\tplan_digest TEXT NOT NULL,\n\t\ttidb_server varchar(512),\n\t\tINDEX plan_index(plan_digest(64)) COMMENT \"accelerate the speed when select runaway query\",\n\t\tINDEX time_index(time) COMMENT \"accelerate the speed when querying with active watch\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"] [user=]
[2024/05/17 10:49:47.908 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:91, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:90, RowCount:0, ArgLen:2, start time: 2024-05-17 10:49:47.907 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:49:47.908 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:91, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:90, RowCount:0, ArgLen:2, start time: 2024-05-17 10:49:47.907 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_runaway_queries (\n\t\tresource_group_name varchar(32) not null,\n\t\ttime TIMESTAMP NOT NULL,\n\t\tmatch_type varchar(12) NOT NULL,\n\t\taction varchar(12) NOT NULL,\n\t\toriginal_sql TEXT NOT NULL,\n\t\tplan_digest TEXT NOT NULL,\n\t\ttidb_server varchar(512),\n\t\tINDEX plan_index(plan_digest(64)) COMMENT \"accelerate the speed when select runaway query\",\n\t\tINDEX time_index(time) COMMENT \"accelerate the speed when querying with active watch\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"]
[2024/05/17 10:49:47.912 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=91] [category=ddl] [job="ID:91, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:90, RowCount:0, ArgLen:0, start time: 2024-05-17 10:49:47.907 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:49:47.914 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608876265475] ["schema version"=45]
[2024/05/17 10:49:47.914 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=44] [neededSchemaVersion=45] ["start time"=228.667µs] [gotSchemaVersion=45] [phyTblIDs="[90]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:49:47.914 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:49:47.914 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=91] [version=45]
[2024/05/17 10:49:47.916 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=45] ["take time"=2.655791ms] [job="ID:91, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:90, RowCount:0, ArgLen:2, start time: 2024-05-17 10:49:47.907 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:49:47.919 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=91] [job="ID:91, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:90, RowCount:0, ArgLen:0, start time: 2024-05-17 10:49:47.907 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:49:47.921 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=91]
[2024/05/17 10:49:47.921 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:49:47.921 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608876265475] ["schema version"=45]
[2024/05/17 10:49:47.921 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=45] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS `mysql`.`tidb_timers` (\n\t\tID BIGINT(64) UNSIGNED NOT NULL AUTO_INCREMENT,\n\t\tNAMESPACE VARCHAR(256) NOT NULL,\n\t\tTIMER_KEY VARCHAR(256) NOT NULL,\n\t\tTIMER_DATA BLOB,\n\t\tTIMEZONE VARCHAR(64) NOT NULL,\n\t\tSCHED_POLICY_TYPE VARCHAR(32) NOT NULL,\n\t\tSCHED_POLICY_EXPR VARCHAR(256) NOT NULL,\n\t\tHOOK_CLASS VARCHAR(64) NOT NULL,\n\t\tWATERMARK TIMESTAMP DEFAULT NULL,\n\t\tENABLE TINYINT(2) NOT NULL,\n\t\tTIMER_EXT JSON NOT NULL,\n\t\tEVENT_STATUS VARCHAR(32) NOT NULL,\n\t\tEVENT_ID VARCHAR(64) NOT NULL,\n\t\tEVENT_DATA BLOB,\n\t\tEVENT_START TIMESTAMP DEFAULT NULL,\n\t\tSUMMARY_DATA BLOB,\n\t\tCREATE_TIME TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,\n\t\tUPDATE_TIME TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\tVERSION BIGINT(64) UNSIGNED NOT NULL,\n\t\tPRIMARY KEY (ID),\n\t\tUNIQUE KEY timer_key(NAMESPACE, TIMER_KEY),\n\t\tKEY hook_class(HOOK_CLASS)\n\t)"] [user=]
[2024/05/17 10:49:47.924 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:93, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:92, RowCount:0, ArgLen:2, start time: 2024-05-17 10:49:47.923 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:49:47.924 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:93, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:92, RowCount:0, ArgLen:2, start time: 2024-05-17 10:49:47.923 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS `mysql`.`tidb_timers` (\n\t\tID BIGINT(64) UNSIGNED NOT NULL AUTO_INCREMENT,\n\t\tNAMESPACE VARCHAR(256) NOT NULL,\n\t\tTIMER_KEY VARCHAR(256) NOT NULL,\n\t\tTIMER_DATA BLOB,\n\t\tTIMEZONE VARCHAR(64) NOT NULL,\n\t\tSCHED_POLICY_TYPE VARCHAR(32) NOT NULL,\n\t\tSCHED_POLICY_EXPR VARCHAR(256) NOT NULL,\n\t\tHOOK_CLASS VARCHAR(64) NOT NULL,\n\t\tWATERMARK TIMESTAMP DEFAULT NULL,\n\t\tENABLE TINYINT(2) NOT NULL,\n\t\tTIMER_EXT JSON NOT NULL,\n\t\tEVENT_STATUS VARCHAR(32) NOT NULL,\n\t\tEVENT_ID VARCHAR(64) NOT NULL,\n\t\tEVENT_DATA BLOB,\n\t\tEVENT_START TIMESTAMP DEFAULT NULL,\n\t\tSUMMARY_DATA BLOB,\n\t\tCREATE_TIME TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,\n\t\tUPDATE_TIME TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\tVERSION BIGINT(64) UNSIGNED NOT NULL,\n\t\tPRIMARY KEY (ID),\n\t\tUNIQUE KEY timer_key(NAMESPACE, TIMER_KEY),\n\t\tKEY hook_class(HOOK_CLASS)\n\t)"]
[2024/05/17 10:49:47.930 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=93] [category=ddl] [job="ID:93, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:92, RowCount:0, ArgLen:0, start time: 2024-05-17 10:49:47.923 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:49:47.934 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608881770496] ["schema version"=46]
[2024/05/17 10:49:47.934 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=45] [neededSchemaVersion=46] ["start time"=600.125µs] [gotSchemaVersion=46] [phyTblIDs="[92]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:49:47.935 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:49:47.935 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=93] [version=46]
[2024/05/17 10:49:47.936 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=46] ["take time"=2.417833ms] [job="ID:93, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:92, RowCount:0, ArgLen:2, start time: 2024-05-17 10:49:47.923 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:49:47.944 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=93] [job="ID:93, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:92, RowCount:0, ArgLen:0, start time: 2024-05-17 10:49:47.923 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:49:47.947 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=93]
[2024/05/17 10:49:47.947 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:49:47.947 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608881770496] ["schema version"=46]
[2024/05/17 10:49:47.947 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=46] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_runaway_watch_done (\n\t\tid BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n\t\trecord_id BIGINT(20) not null,\n\t\tresource_group_name varchar(32) not null,\n\t\tstart_time datetime(6) NOT NULL,\n\t\tend_time datetime(6),\n\t\twatch bigint(10) NOT NULL,\n\t\twatch_text TEXT NOT NULL,\n\t\tsource varchar(512) NOT NULL,\n\t\taction bigint(10),\n\t\tdone_time TIMESTAMP(6) NOT NULL\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"] [user=]
[2024/05/17 10:49:47.951 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:95, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:94, RowCount:0, ArgLen:2, start time: 2024-05-17 10:49:47.948 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:49:47.951 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:95, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:94, RowCount:0, ArgLen:2, start time: 2024-05-17 10:49:47.948 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_runaway_watch_done (\n\t\tid BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n\t\trecord_id BIGINT(20) not null,\n\t\tresource_group_name varchar(32) not null,\n\t\tstart_time datetime(6) NOT NULL,\n\t\tend_time datetime(6),\n\t\twatch bigint(10) NOT NULL,\n\t\twatch_text TEXT NOT NULL,\n\t\tsource varchar(512) NOT NULL,\n\t\taction bigint(10),\n\t\tdone_time TIMESTAMP(6) NOT NULL\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"]
[2024/05/17 10:49:47.955 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=95] [category=ddl] [job="ID:95, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:94, RowCount:0, ArgLen:0, start time: 2024-05-17 10:49:47.948 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:49:47.957 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608887799808] ["schema version"=47]
[2024/05/17 10:49:47.957 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=46] [neededSchemaVersion=47] ["start time"=376.292µs] [gotSchemaVersion=47] [phyTblIDs="[94]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:49:47.960 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:49:47.960 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=95] [version=47]
[2024/05/17 10:49:47.961 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=47] ["take time"=4.385041ms] [job="ID:95, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:94, RowCount:0, ArgLen:2, start time: 2024-05-17 10:49:47.948 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:49:47.965 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=95] [job="ID:95, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:94, RowCount:0, ArgLen:0, start time: 2024-05-17 10:49:47.948 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:49:47.967 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=95]
[2024/05/17 10:49:47.967 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:49:47.967 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608887799808] ["schema version"=47]
[2024/05/17 10:49:47.967 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=47] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.dist_framework_meta (\n        host VARCHAR(261) NOT NULL PRIMARY KEY,\n        role VARCHAR(64),\n        cpu_count int default 0,\n        keyspace_id bigint(8) NOT NULL DEFAULT -1\n    );"] [user=]
[2024/05/17 10:49:47.968 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:97, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:96, RowCount:0, ArgLen:2, start time: 2024-05-17 10:49:47.967 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:49:47.968 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:97, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:96, RowCount:0, ArgLen:2, start time: 2024-05-17 10:49:47.967 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.dist_framework_meta (\n        host VARCHAR(261) NOT NULL PRIMARY KEY,\n        role VARCHAR(64),\n        cpu_count int default 0,\n        keyspace_id bigint(8) NOT NULL DEFAULT -1\n    );"]
[2024/05/17 10:49:47.972 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=97] [category=ddl] [job="ID:97, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:96, RowCount:0, ArgLen:0, start time: 2024-05-17 10:49:47.967 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:49:47.974 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608892256256] ["schema version"=48]
[2024/05/17 10:49:47.974 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=47] [neededSchemaVersion=48] ["start time"=214.334µs] [gotSchemaVersion=48] [phyTblIDs="[96]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:49:47.975 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:49:47.975 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=97] [version=48]
[2024/05/17 10:49:47.976 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=48] ["take time"=2.014125ms] [job="ID:97, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:96, RowCount:0, ArgLen:2, start time: 2024-05-17 10:49:47.967 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:49:47.980 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=97] [job="ID:97, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:96, RowCount:0, ArgLen:0, start time: 2024-05-17 10:49:47.967 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:49:47.981 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=97]
[2024/05/17 10:49:47.981 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:49:47.981 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608892256256] ["schema version"=48]
[2024/05/17 10:49:47.981 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=48] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.request_unit_by_group (\n\t\tstart_time TIMESTAMP(6) NOT NULL,\n\t\tend_time TIMESTAMP(6) NOT NULL,\n\t\tresource_group VARCHAR(32) NOT null,\n\t\ttotal_ru bigint(64) UNSIGNED NOT NULL,\n\t\tPRIMARY KEY (start_time, end_time, resource_group),\n\t\tKEY (resource_group)\n\t);"] [user=]
[2024/05/17 10:49:47.982 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:99, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:98, RowCount:0, ArgLen:2, start time: 2024-05-17 10:49:47.982 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:49:47.982 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:99, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:98, RowCount:0, ArgLen:2, start time: 2024-05-17 10:49:47.982 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.request_unit_by_group (\n\t\tstart_time TIMESTAMP(6) NOT NULL,\n\t\tend_time TIMESTAMP(6) NOT NULL,\n\t\tresource_group VARCHAR(32) NOT null,\n\t\ttotal_ru bigint(64) UNSIGNED NOT NULL,\n\t\tPRIMARY KEY (start_time, end_time, resource_group),\n\t\tKEY (resource_group)\n\t);"]
[2024/05/17 10:49:47.985 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=99] [category=ddl] [job="ID:99, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:98, RowCount:0, ArgLen:0, start time: 2024-05-17 10:49:47.982 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:49:47.986 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608895401986] ["schema version"=49]
[2024/05/17 10:49:47.987 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=48] [neededSchemaVersion=49] ["start time"=199.166µs] [gotSchemaVersion=49] [phyTblIDs="[98]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:49:47.987 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:49:47.987 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=99] [version=49]
[2024/05/17 10:49:47.989 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=49] ["take time"=2.327667ms] [job="ID:99, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:98, RowCount:0, ArgLen:2, start time: 2024-05-17 10:49:47.982 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:49:47.992 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=99] [job="ID:99, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:98, RowCount:0, ArgLen:0, start time: 2024-05-17 10:49:47.982 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:49:47.994 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=99]
[2024/05/17 10:49:47.994 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:49:47.994 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608895401986] ["schema version"=49]
[2024/05/17 10:49:47.994 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=49] [cur_db=mysql] [sql="CREATE DATABASE IF NOT EXISTS sys;"] [user=]
[2024/05/17 10:49:47.995 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:101, Type:create schema, State:queueing, SchemaState:none, SchemaID:100, TableID:0, RowCount:0, ArgLen:1, start time: 2024-05-17 10:49:47.995 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:49:47.995 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:101, Type:create schema, State:queueing, SchemaState:none, SchemaID:100, TableID:0, RowCount:0, ArgLen:1, start time: 2024-05-17 10:49:47.995 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE DATABASE IF NOT EXISTS sys;"]
[2024/05/17 10:49:47.998 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=101] [category=ddl] [job="ID:101, Type:create schema, State:queueing, SchemaState:none, SchemaID:100, TableID:0, RowCount:0, ArgLen:0, start time: 2024-05-17 10:49:47.995 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:49:47.999 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608898809859] ["schema version"=50]
[2024/05/17 10:49:47.999 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=49] [neededSchemaVersion=50] ["start time"=41.959µs] [gotSchemaVersion=50] [phyTblIDs="[]"] [actionTypes="[]"] [diffTypes="[\"create schema\"]"]
[2024/05/17 10:49:48.000 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:49:48.000 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=101] [version=50]
[2024/05/17 10:49:48.002 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=50] ["take time"=2.673291ms] [job="ID:101, Type:create schema, State:done, SchemaState:public, SchemaID:100, TableID:0, RowCount:0, ArgLen:1, start time: 2024-05-17 10:49:47.995 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:49:48.005 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=101] [job="ID:101, Type:create schema, State:synced, SchemaState:public, SchemaID:100, TableID:0, RowCount:0, ArgLen:0, start time: 2024-05-17 10:49:47.995 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:49:48.006 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=101]
[2024/05/17 10:49:48.006 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:49:48.006 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608898809859] ["schema version"=50]
[2024/05/17 10:49:48.008 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:103, Type:create view, State:queueing, SchemaState:none, SchemaID:100, TableID:102, RowCount:0, ArgLen:3, start time: 2024-05-17 10:49:48.008 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:49:48.008 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:103, Type:create view, State:queueing, SchemaState:none, SchemaID:100, TableID:102, RowCount:0, ArgLen:3, start time: 2024-05-17 10:49:48.008 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE OR REPLACE VIEW sys.schema_unused_indexes AS\n\t\tSELECT\n\t\t\ttable_schema as object_schema,\n\t\t\ttable_name as object_name,\n\t\t\tindex_name\n\t\tFROM information_schema.cluster_tidb_index_usage\n\t\tWHERE\n\t\t\ttable_schema not in ('sys', 'mysql', 'INFORMATION_SCHEMA', 'PERFORMANCE_SCHEMA') and\n\t\t\tindex_name != 'PRIMARY'\n\t\tGROUP BY table_schema, table_name, index_name\n\t\tHAVING\n\t\t\tsum(last_access_time) is null;"]
[2024/05/17 10:49:48.011 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=103] [category=ddl] [job="ID:103, Type:create view, State:queueing, SchemaState:none, SchemaID:100, TableID:102, RowCount:0, ArgLen:0, start time: 2024-05-17 10:49:48.008 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:49:48.012 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608902217730] ["schema version"=51]
[2024/05/17 10:49:48.012 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=50] [neededSchemaVersion=51] ["start time"=146.083µs] [gotSchemaVersion=51] [phyTblIDs="[102]"] [actionTypes="[21]"] [diffTypes="[\"create view\"]"]
[2024/05/17 10:49:48.013 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:49:48.013 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=103] [version=51]
[2024/05/17 10:49:48.014 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=51] ["take time"=2.00475ms] [job="ID:103, Type:create view, State:done, SchemaState:public, SchemaID:100, TableID:102, RowCount:0, ArgLen:3, start time: 2024-05-17 10:49:48.008 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:49:48.018 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=103] [job="ID:103, Type:create view, State:synced, SchemaState:public, SchemaID:100, TableID:102, RowCount:0, ArgLen:0, start time: 2024-05-17 10:49:48.008 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:49:48.020 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=103]
[2024/05/17 10:49:48.020 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:49:48.020 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608902217730] ["schema version"=51]
[2024/05/17 10:49:48.030 +08:00] [INFO] [bootstrap.go:745] ["bootstrap successful"] ["take time"=976.653791ms]
[2024/05/17 10:49:48.031 +08:00] [INFO] [mock.go:106] ["owner manager is canceled"] [category=ddl] [ID=176333c5-8a94-4a0c-93be-a9fb5b057c8d] [ownerKey=/tidb/ddl/fg/owner]
[2024/05/17 10:49:48.031 +08:00] [INFO] [ddl_workerpool.go:82] ["closing workerPool"] [category=ddl]
[2024/05/17 10:49:48.031 +08:00] [INFO] [ddl_worker.go:188] ["DDL worker closed"] [worker="worker 2, tp add index"] [category=ddl] ["take time"=458ns]
[2024/05/17 10:49:48.031 +08:00] [INFO] [ddl_workerpool.go:82] ["closing workerPool"] [category=ddl]
[2024/05/17 10:49:48.031 +08:00] [INFO] [ddl_worker.go:188] ["DDL worker closed"] [worker="worker 1, tp general"] [category=ddl] ["take time"=292ns]
[2024/05/17 10:49:48.031 +08:00] [INFO] [ddl_workerpool.go:82] ["closing workerPool"] [category=ddl]
[2024/05/17 10:49:48.031 +08:00] [INFO] [delete_range.go:162] ["closing delRange"] [category=ddl]
[2024/05/17 10:49:48.031 +08:00] [INFO] [session_pool.go:99] ["closing session pool"] [category=ddl]
[2024/05/17 10:49:48.032 +08:00] [INFO] [ddl.go:951] ["DDL closed"] [category=ddl] [ID=176333c5-8a94-4a0c-93be-a9fb5b057c8d] ["take time"=1.438292ms]
[2024/05/17 10:49:48.032 +08:00] [INFO] [ddl.go:769] ["stop DDL"] [category=ddl] [ID=176333c5-8a94-4a0c-93be-a9fb5b057c8d]
[2024/05/17 10:49:48.032 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=mdlCheckLoop]
[2024/05/17 10:49:48.032 +08:00] [INFO] [domain.go:977] ["loadSchemaInLoop exited."]
[2024/05/17 10:49:48.032 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=loadSchemaInLoop]
[2024/05/17 10:49:48.032 +08:00] [INFO] [domain.go:831] ["topologySyncerKeeper exited."]
[2024/05/17 10:49:48.032 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=topologySyncerKeeper]
[2024/05/17 10:49:48.032 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=runawayStartLoop]
[2024/05/17 10:49:48.032 +08:00] [INFO] [domain.go:807] ["globalConfigSyncerKeeper exited."]
[2024/05/17 10:49:48.032 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=globalConfigSyncerKeeper]
[2024/05/17 10:49:48.032 +08:00] [INFO] [domain.go:781] ["infoSyncerKeeper exited."]
[2024/05/17 10:49:48.032 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=infoSyncerKeeper]
[2024/05/17 10:49:48.032 +08:00] [INFO] [domain.go:753] ["topNSlowQueryLoop exited."]
[2024/05/17 10:49:48.032 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=topNSlowQueryLoop]
[2024/05/17 10:49:48.032 +08:00] [INFO] [domain.go:1431] ["closestReplicaReadCheckLoop exited."]
[2024/05/17 10:49:48.032 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=closestReplicaReadCheckLoop]
[2024/05/17 10:49:48.032 +08:00] [INFO] [domain.go:1144] ["domain closed"] ["take time"=1.55375ms]
[2024/05/17 10:49:48.032 +08:00] [INFO] [tidb.go:80] ["new domain"] [store=1016571c-4a63-4268-be81-83c970b8e69e] ["ddl lease"=500ms] ["stats lease"=-1ns]
[2024/05/17 10:49:48.033 +08:00] [WARN] [controller.go:198] ["[resource group controller] server does not save config, load config failed"]
[2024/05/17 10:49:48.033 +08:00] [INFO] [controller.go:185] ["load resource controller config"] [config="{\"degraded-mode-wait-duration\":\"0s\",\"ltb-max-wait-duration\":\"30s\",\"wait-retry-interval\":\"50ms\",\"wait-retry-times\":10,\"request-unit\":{\"read-base-cost\":0.125,\"read-per-batch-base-cost\":0.5,\"read-cost-per-byte\":0.0000152587890625,\"write-base-cost\":1,\"write-per-batch-base-cost\":1,\"write-cost-per-byte\":0.0009765625,\"read-cpu-ms-cost\":0.3333333333333333},\"enable-controller-trace-log\":\"false\"}"] [ru-config="{\"ReadBaseCost\":0.125,\"ReadPerBatchBaseCost\":0.5,\"ReadBytesCost\":0.0000152587890625,\"WriteBaseCost\":1,\"WritePerBatchBaseCost\":1,\"WriteBytesCost\":0.0009765625,\"CPUMsCost\":0.3333333333333333,\"LTBMaxWaitDuration\":30000000000,\"WaitRetryInterval\":50000000,\"WaitRetryTimes\":10,\"DegradedModeWaitDuration\":0}"]
[2024/05/17 10:49:48.044 +08:00] [INFO] [domain.go:385] ["full load InfoSchema success"] [currentSchemaVersion=0] [neededSchemaVersion=51] ["start time"=10.141958ms]
[2024/05/17 10:49:48.048 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608902217730] ["schema version"=51]
[2024/05/17 10:49:48.048 +08:00] [INFO] [domain.go:705] ["full load and reset schema validator"]
[2024/05/17 10:49:48.048 +08:00] [INFO] [ddl.go:818] ["start DDL"] [category=ddl] [ID=6dfffab4-1054-423f-8715-98006668257c] [runWorker=true]
[2024/05/17 10:49:48.048 +08:00] [INFO] [ddl.go:777] ["start delRangeManager OK"] [category=ddl] ["is a emulator"=true]
[2024/05/17 10:49:48.048 +08:00] [WARN] [env.go:51] ["initialize environment failed"] [category=ddl-ingest] ["storage limitation"="only support TiKV storage"] ["current storage"=unistore] ["lightning is initialized"=false]
[2024/05/17 10:49:48.048 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=loadSchemaInLoop]
[2024/05/17 10:49:48.048 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=mdlCheckLoop]
[2024/05/17 10:49:48.048 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=topNSlowQueryLoop]
[2024/05/17 10:49:48.048 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=infoSyncerKeeper]
[2024/05/17 10:49:48.048 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=globalConfigSyncerKeeper]
[2024/05/17 10:49:48.048 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=runawayStartLoop]
[2024/05/17 10:49:48.048 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=requestUnitsWriterLoop]
[2024/05/17 10:49:48.048 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=topologySyncerKeeper]
[2024/05/17 10:49:48.048 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=closestReplicaReadCheckLoop]
[2024/05/17 10:49:48.048 +08:00] [WARN] [domain.go:1396] ["pd / etcd client not provided, won't begin Advancer."]
[2024/05/17 10:49:48.057 +08:00] [INFO] [delete_range.go:172] ["start delRange emulator"] [category=ddl]
[2024/05/17 10:49:48.057 +08:00] [INFO] [job_table.go:334] ["get global state and global state change"] [category=ddl] [oldState=false] [currState=false]
[2024/05/17 10:49:48.057 +08:00] [INFO] [runaway.go:149] ["try to start runaway manager loop"]
[2024/05/17 10:49:48.057 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=requestUnitsWriterLoop]
[2024/05/17 10:49:48.068 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=globalBindHandleWorkerLoop]
[2024/05/17 10:49:48.068 +08:00] [WARN] [sysvar_cache.go:49] ["sysvar cache is empty, triggering rebuild"]
[2024/05/17 10:49:48.069 +08:00] [INFO] [sysvar.go:2748] ["set resource control"] [enable=true]
[2024/05/17 10:49:48.069 +08:00] [INFO] [controller.go:447] ["[resource group controller] create resource group cost controller"] [name=default]
[2024/05/17 10:49:48.073 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=loadPrivilegeInLoop]
[2024/05/17 10:49:48.074 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=LoadSysVarCacheLoop]
[2024/05/17 10:49:48.074 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=dumpFileGcChecker]
[2024/05/17 10:49:48.074 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=indexUsageWorker]
[2024/05/17 10:49:48.074 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=quitStatsOwner]
[2024/05/17 10:49:48.074 +08:00] [INFO] [domain.go:2340] ["start load stats sub workers"] ["worker count"=5]
[2024/05/17 10:49:48.074 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=loadSigningCertLoop]
[2024/05/17 10:49:48.074 +08:00] [INFO] [manager.go:113] ["build task executor manager"] [server-id=:4000] [total-cpu=1] [total-mem=32GiB]
[2024/05/17 10:49:48.075 +08:00] [INFO] [domain.go:2140] ["dumpFileGcChecker started"]
[2024/05/17 10:49:48.076 +08:00] [INFO] [task_manager.go:217] ["scale ttl worker"] [ttl-worker=job-manager] [ttl-worker=task-manager] [originalCount=0] [newCount=4]
[2024/05/17 10:49:48.076 +08:00] [INFO] [task_manager.go:217] ["scale ttl worker"] [ttl-worker=job-manager] [ttl-worker=task-manager] [originalCount=0] [newCount=4]
[2024/05/17 10:49:48.078 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=distTaskFrameworkLoop]
[2024/05/17 10:49:48.078 +08:00] [WARN] [adapter.go:1864] ["fail to generate plan info"] [backtrace="github.com/pingcap/tidb/pkg/executor.(*ExecStmt).SummaryStmt.func1.1\n\t/Users/bba/pc/tidb/pkg/executor/adapter.go:1865\ngithub.com/pingcap/tidb/pkg/executor.(*ExecStmt).SummaryStmt.func1\n\t/Users/bba/pc/tidb/pkg/executor/adapter.go:1869\ngithub.com/pingcap/tidb/pkg/util/stmtsummary.newStmtSummaryByDigestElement\n\t/Users/bba/pc/tidb/pkg/util/stmtsummary/statement_summary.go:652\ngithub.com/pingcap/tidb/pkg/util/stmtsummary.(*stmtSummaryByDigest).add.func1\n\t/Users/bba/pc/tidb/pkg/util/stmtsummary/statement_summary.go:604\ngithub.com/pingcap/tidb/pkg/util/stmtsummary.(*stmtSummaryByDigest).add\n\t/Users/bba/pc/tidb/pkg/util/stmtsummary/statement_summary.go:618\ngithub.com/pingcap/tidb/pkg/util/stmtsummary.(*stmtSummaryByDigestMap).AddStatement\n\t/Users/bba/pc/tidb/pkg/util/stmtsummary/statement_summary.go:358\ngithub.com/pingcap/tidb/pkg/util/stmtsummary/v2.Add\n\t/Users/bba/pc/tidb/pkg/util/stmtsummary/v2/stmtsummary.go:541\ngithub.com/pingcap/tidb/pkg/executor.(*ExecStmt).SummaryStmt\n\t/Users/bba/pc/tidb/pkg/executor/adapter.go:1975\ngithub.com/pingcap/tidb/pkg/executor.(*ExecStmt).FinishExecuteStmt\n\t/Users/bba/pc/tidb/pkg/executor/adapter.go:1363\ngithub.com/pingcap/tidb/pkg/session.runStmt\n\t/Users/bba/pc/tidb/pkg/session/session.go:2324\ngithub.com/pingcap/tidb/pkg/session.(*session).ExecuteStmt\n\t/Users/bba/pc/tidb/pkg/session/session.go:2146\ngithub.com/pingcap/tidb/pkg/testkit.(*TestKit).ExecWithContext\n\t/Users/bba/pc/tidb/pkg/testkit/testkit.go:384\ngithub.com/pingcap/tidb/pkg/testkit.(*TestKit).MustExecWithContext\n\t/Users/bba/pc/tidb/pkg/testkit/testkit.go:156\ngithub.com/pingcap/tidb/pkg/testkit.(*TestKit).MustExec\n\t/Users/bba/pc/tidb/pkg/testkit/testkit.go:151\ngithub.com/pingcap/tidb/pkg/planner/core_test.TestTooLongBinaryPlan\n\t/Users/bba/pc/tidb/pkg/planner/core/binary_plan_test.go:132\ntesting.tRunner\n\t/Users/bba/.gvm/gos/go1.21.0/src/testing/testing.go:1595"] [error=null]
[2024/05/17 10:49:48.078 +08:00] [WARN] [adapter.go:1864] ["fail to generate plan info"] [backtrace="github.com/pingcap/tidb/pkg/executor.(*ExecStmt).SummaryStmt.func1.1\n\t/Users/bba/pc/tidb/pkg/executor/adapter.go:1865\ngithub.com/pingcap/tidb/pkg/executor.(*ExecStmt).SummaryStmt.func1\n\t/Users/bba/pc/tidb/pkg/executor/adapter.go:1869\ngithub.com/pingcap/tidb/pkg/util/stmtsummary.newStmtSummaryByDigestElement\n\t/Users/bba/pc/tidb/pkg/util/stmtsummary/statement_summary.go:652\ngithub.com/pingcap/tidb/pkg/util/stmtsummary.(*stmtSummaryByDigest).add.func1\n\t/Users/bba/pc/tidb/pkg/util/stmtsummary/statement_summary.go:604\ngithub.com/pingcap/tidb/pkg/util/stmtsummary.(*stmtSummaryByDigest).add\n\t/Users/bba/pc/tidb/pkg/util/stmtsummary/statement_summary.go:618\ngithub.com/pingcap/tidb/pkg/util/stmtsummary.(*stmtSummaryByDigestMap).AddStatement\n\t/Users/bba/pc/tidb/pkg/util/stmtsummary/statement_summary.go:358\ngithub.com/pingcap/tidb/pkg/util/stmtsummary/v2.Add\n\t/Users/bba/pc/tidb/pkg/util/stmtsummary/v2/stmtsummary.go:541\ngithub.com/pingcap/tidb/pkg/executor.(*ExecStmt).SummaryStmt\n\t/Users/bba/pc/tidb/pkg/executor/adapter.go:1975\ngithub.com/pingcap/tidb/pkg/executor.(*ExecStmt).FinishExecuteStmt\n\t/Users/bba/pc/tidb/pkg/executor/adapter.go:1363\ngithub.com/pingcap/tidb/pkg/executor.(*ExecStmt).CloseRecordSet\n\t/Users/bba/pc/tidb/pkg/executor/adapter.go:1471\ngithub.com/pingcap/tidb/pkg/executor.(*recordSet).Close\n\t/Users/bba/pc/tidb/pkg/executor/adapter.go:210\ngithub.com/pingcap/tidb/pkg/session.(*execStmtResult).Close\n\t/Users/bba/pc/tidb/pkg/session/session.go:2374\ngithub.com/pingcap/tidb/pkg/session.ResultSetToStringSlice\n\t/Users/bba/pc/tidb/pkg/session/tidb.go:368\ngithub.com/pingcap/tidb/pkg/testkit.(*TestKit).ResultSetToResultWithCtx\n\t/Users/bba/pc/tidb/pkg/testkit/testkit.go:272\ngithub.com/pingcap/tidb/pkg/testkit.(*TestKit).MustQueryWithContext\n\t/Users/bba/pc/tidb/pkg/testkit/testkit.go:198\ngithub.com/pingcap/tidb/pkg/testkit.(*TestKit).MustQuery\n\t/Users/bba/pc/tidb/pkg/testkit/testkit.go:173\ngithub.com/pingcap/tidb/pkg/planner/core_test.TestTooLongBinaryPlan\n\t/Users/bba/pc/tidb/pkg/planner/core/binary_plan_test.go:134\ntesting.tRunner\n\t/Users/bba/.gvm/gos/go1.21.0/src/testing/testing.go:1595"] [error=null]
[2024/05/17 10:49:48.079 +08:00] [INFO] [manager.go:146] ["task executor manager start"] [server-id=:4000]
[2024/05/17 10:49:48.079 +08:00] [INFO] [domain.go:1595] ["dist task executor manager started"]
[2024/05/17 10:49:48.080 +08:00] [INFO] [set.go:170] ["set global var"] [conn=1] [name=tidb_enable_stmt_summary] [val=0]
[2024/05/17 10:49:48.081 +08:00] [INFO] [set.go:170] ["set global var"] [conn=1] [name=tidb_enable_stmt_summary] [val=1]
[2024/05/17 10:49:48.081 +08:00] [WARN] [adapter.go:1864] ["fail to generate plan info"] [backtrace="github.com/pingcap/tidb/pkg/executor.(*ExecStmt).SummaryStmt.func1.1\n\t/Users/bba/pc/tidb/pkg/executor/adapter.go:1865\ngithub.com/pingcap/tidb/pkg/executor.(*ExecStmt).SummaryStmt.func1\n\t/Users/bba/pc/tidb/pkg/executor/adapter.go:1869\ngithub.com/pingcap/tidb/pkg/util/stmtsummary.newStmtSummaryByDigestElement\n\t/Users/bba/pc/tidb/pkg/util/stmtsummary/statement_summary.go:652\ngithub.com/pingcap/tidb/pkg/util/stmtsummary.(*stmtSummaryByDigest).add.func1\n\t/Users/bba/pc/tidb/pkg/util/stmtsummary/statement_summary.go:604\ngithub.com/pingcap/tidb/pkg/util/stmtsummary.(*stmtSummaryByDigest).add\n\t/Users/bba/pc/tidb/pkg/util/stmtsummary/statement_summary.go:618\ngithub.com/pingcap/tidb/pkg/util/stmtsummary.(*stmtSummaryByDigestMap).AddStatement\n\t/Users/bba/pc/tidb/pkg/util/stmtsummary/statement_summary.go:358\ngithub.com/pingcap/tidb/pkg/util/stmtsummary/v2.Add\n\t/Users/bba/pc/tidb/pkg/util/stmtsummary/v2/stmtsummary.go:541\ngithub.com/pingcap/tidb/pkg/executor.(*ExecStmt).SummaryStmt\n\t/Users/bba/pc/tidb/pkg/executor/adapter.go:1975\ngithub.com/pingcap/tidb/pkg/executor.(*ExecStmt).FinishExecuteStmt\n\t/Users/bba/pc/tidb/pkg/executor/adapter.go:1363\ngithub.com/pingcap/tidb/pkg/session.runStmt\n\t/Users/bba/pc/tidb/pkg/session/session.go:2324\ngithub.com/pingcap/tidb/pkg/session.(*session).ExecuteStmt\n\t/Users/bba/pc/tidb/pkg/session/session.go:2146\ngithub.com/pingcap/tidb/pkg/testkit.(*TestKit).ExecWithContext\n\t/Users/bba/pc/tidb/pkg/testkit/testkit.go:384\ngithub.com/pingcap/tidb/pkg/testkit.(*TestKit).MustExecWithContext\n\t/Users/bba/pc/tidb/pkg/testkit/testkit.go:156\ngithub.com/pingcap/tidb/pkg/testkit.(*TestKit).MustExec\n\t/Users/bba/pc/tidb/pkg/testkit/testkit.go:151\ngithub.com/pingcap/tidb/pkg/planner/core_test.TestTooLongBinaryPlan\n\t/Users/bba/pc/tidb/pkg/planner/core/binary_plan_test.go:142\ntesting.tRunner\n\t/Users/bba/.gvm/gos/go1.21.0/src/testing/testing.go:1595"] [error=null]
[2024/05/17 10:49:48.081 +08:00] [WARN] [adapter.go:1864] ["fail to generate plan info"] [backtrace="github.com/pingcap/tidb/pkg/executor.(*ExecStmt).SummaryStmt.func1.1\n\t/Users/bba/pc/tidb/pkg/executor/adapter.go:1865\ngithub.com/pingcap/tidb/pkg/executor.(*ExecStmt).SummaryStmt.func1\n\t/Users/bba/pc/tidb/pkg/executor/adapter.go:1869\ngithub.com/pingcap/tidb/pkg/util/stmtsummary.newStmtSummaryByDigestElement\n\t/Users/bba/pc/tidb/pkg/util/stmtsummary/statement_summary.go:652\ngithub.com/pingcap/tidb/pkg/util/stmtsummary.(*stmtSummaryByDigest).add.func1\n\t/Users/bba/pc/tidb/pkg/util/stmtsummary/statement_summary.go:604\ngithub.com/pingcap/tidb/pkg/util/stmtsummary.(*stmtSummaryByDigest).add\n\t/Users/bba/pc/tidb/pkg/util/stmtsummary/statement_summary.go:618\ngithub.com/pingcap/tidb/pkg/util/stmtsummary.(*stmtSummaryByDigestMap).AddStatement\n\t/Users/bba/pc/tidb/pkg/util/stmtsummary/statement_summary.go:358\ngithub.com/pingcap/tidb/pkg/util/stmtsummary/v2.Add\n\t/Users/bba/pc/tidb/pkg/util/stmtsummary/v2/stmtsummary.go:541\ngithub.com/pingcap/tidb/pkg/executor.(*ExecStmt).SummaryStmt\n\t/Users/bba/pc/tidb/pkg/executor/adapter.go:1975\ngithub.com/pingcap/tidb/pkg/executor.(*ExecStmt).FinishExecuteStmt\n\t/Users/bba/pc/tidb/pkg/executor/adapter.go:1363\ngithub.com/pingcap/tidb/pkg/session.runStmt\n\t/Users/bba/pc/tidb/pkg/session/session.go:2324\ngithub.com/pingcap/tidb/pkg/session.(*session).ExecuteStmt\n\t/Users/bba/pc/tidb/pkg/session/session.go:2146\ngithub.com/pingcap/tidb/pkg/testkit.(*TestKit).ExecWithContext\n\t/Users/bba/pc/tidb/pkg/testkit/testkit.go:384\ngithub.com/pingcap/tidb/pkg/testkit.(*TestKit).MustExecWithContext\n\t/Users/bba/pc/tidb/pkg/testkit/testkit.go:156\ngithub.com/pingcap/tidb/pkg/testkit.(*TestKit).MustExec\n\t/Users/bba/pc/tidb/pkg/testkit/testkit.go:151\ngithub.com/pingcap/tidb/pkg/planner/core_test.TestTooLongBinaryPlan\n\t/Users/bba/pc/tidb/pkg/planner/core/binary_plan_test.go:144\ntesting.tRunner\n\t/Users/bba/.gvm/gos/go1.21.0/src/testing/testing.go:1595"] [error=null]
[2024/05/17 10:49:48.081 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=1] [schemaVersion=51] [cur_db=test] [sql="drop table if exists th"] [user=root@%]
[2024/05/17 10:49:48.081 +08:00] [WARN] [adapter.go:1864] ["fail to generate plan info"] [backtrace="github.com/pingcap/tidb/pkg/executor.(*ExecStmt).SummaryStmt.func1.1\n\t/Users/bba/pc/tidb/pkg/executor/adapter.go:1865\ngithub.com/pingcap/tidb/pkg/executor.(*ExecStmt).SummaryStmt.func1\n\t/Users/bba/pc/tidb/pkg/executor/adapter.go:1869\ngithub.com/pingcap/tidb/pkg/util/stmtsummary.newStmtSummaryByDigestElement\n\t/Users/bba/pc/tidb/pkg/util/stmtsummary/statement_summary.go:652\ngithub.com/pingcap/tidb/pkg/util/stmtsummary.(*stmtSummaryByDigest).add.func1\n\t/Users/bba/pc/tidb/pkg/util/stmtsummary/statement_summary.go:604\ngithub.com/pingcap/tidb/pkg/util/stmtsummary.(*stmtSummaryByDigest).add\n\t/Users/bba/pc/tidb/pkg/util/stmtsummary/statement_summary.go:618\ngithub.com/pingcap/tidb/pkg/util/stmtsummary.(*stmtSummaryByDigestMap).AddStatement\n\t/Users/bba/pc/tidb/pkg/util/stmtsummary/statement_summary.go:358\ngithub.com/pingcap/tidb/pkg/util/stmtsummary/v2.Add\n\t/Users/bba/pc/tidb/pkg/util/stmtsummary/v2/stmtsummary.go:541\ngithub.com/pingcap/tidb/pkg/executor.(*ExecStmt).SummaryStmt\n\t/Users/bba/pc/tidb/pkg/executor/adapter.go:1975\ngithub.com/pingcap/tidb/pkg/executor.(*ExecStmt).FinishExecuteStmt\n\t/Users/bba/pc/tidb/pkg/executor/adapter.go:1363\ngithub.com/pingcap/tidb/pkg/session.runStmt\n\t/Users/bba/pc/tidb/pkg/session/session.go:2324\ngithub.com/pingcap/tidb/pkg/session.(*session).ExecuteStmt\n\t/Users/bba/pc/tidb/pkg/session/session.go:2146\ngithub.com/pingcap/tidb/pkg/testkit.(*TestKit).ExecWithContext\n\t/Users/bba/pc/tidb/pkg/testkit/testkit.go:384\ngithub.com/pingcap/tidb/pkg/testkit.(*TestKit).MustExecWithContext\n\t/Users/bba/pc/tidb/pkg/testkit/testkit.go:156\ngithub.com/pingcap/tidb/pkg/testkit.(*TestKit).MustExec\n\t/Users/bba/pc/tidb/pkg/testkit/testkit.go:151\ngithub.com/pingcap/tidb/pkg/planner/core_test.TestTooLongBinaryPlan\n\t/Users/bba/pc/tidb/pkg/planner/core/binary_plan_test.go:145\ntesting.tRunner\n\t/Users/bba/.gvm/gos/go1.21.0/src/testing/testing.go:1595"] [error=null]
[2024/05/17 10:49:48.081 +08:00] [WARN] [adapter.go:1864] ["fail to generate plan info"] [backtrace="github.com/pingcap/tidb/pkg/executor.(*ExecStmt).SummaryStmt.func1.1\n\t/Users/bba/pc/tidb/pkg/executor/adapter.go:1865\ngithub.com/pingcap/tidb/pkg/executor.(*ExecStmt).SummaryStmt.func1\n\t/Users/bba/pc/tidb/pkg/executor/adapter.go:1869\ngithub.com/pingcap/tidb/pkg/util/stmtsummary.newStmtSummaryByDigestElement\n\t/Users/bba/pc/tidb/pkg/util/stmtsummary/statement_summary.go:652\ngithub.com/pingcap/tidb/pkg/util/stmtsummary.(*stmtSummaryByDigest).add.func1\n\t/Users/bba/pc/tidb/pkg/util/stmtsummary/statement_summary.go:604\ngithub.com/pingcap/tidb/pkg/util/stmtsummary.(*stmtSummaryByDigest).add\n\t/Users/bba/pc/tidb/pkg/util/stmtsummary/statement_summary.go:618\ngithub.com/pingcap/tidb/pkg/util/stmtsummary.(*stmtSummaryByDigestMap).AddStatement\n\t/Users/bba/pc/tidb/pkg/util/stmtsummary/statement_summary.go:358\ngithub.com/pingcap/tidb/pkg/util/stmtsummary/v2.Add\n\t/Users/bba/pc/tidb/pkg/util/stmtsummary/v2/stmtsummary.go:541\ngithub.com/pingcap/tidb/pkg/executor.(*ExecStmt).SummaryStmt\n\t/Users/bba/pc/tidb/pkg/executor/adapter.go:1975\ngithub.com/pingcap/tidb/pkg/executor.(*ExecStmt).FinishExecuteStmt\n\t/Users/bba/pc/tidb/pkg/executor/adapter.go:1363\ngithub.com/pingcap/tidb/pkg/session.runStmt\n\t/Users/bba/pc/tidb/pkg/session/session.go:2324\ngithub.com/pingcap/tidb/pkg/session.(*session).ExecuteStmt\n\t/Users/bba/pc/tidb/pkg/session/session.go:2146\ngithub.com/pingcap/tidb/pkg/testkit.(*TestKit).ExecWithContext\n\t/Users/bba/pc/tidb/pkg/testkit/testkit.go:384\ngithub.com/pingcap/tidb/pkg/testkit.(*TestKit).MustExecWithContext\n\t/Users/bba/pc/tidb/pkg/testkit/testkit.go:156\ngithub.com/pingcap/tidb/pkg/testkit.(*TestKit).MustExec\n\t/Users/bba/pc/tidb/pkg/testkit/testkit.go:151\ngithub.com/pingcap/tidb/pkg/planner/core_test.TestTooLongBinaryPlan\n\t/Users/bba/pc/tidb/pkg/planner/core/binary_plan_test.go:146\ntesting.tRunner\n\t/Users/bba/.gvm/gos/go1.21.0/src/testing/testing.go:1595"] [error=null]
[2024/05/17 10:49:48.081 +08:00] [WARN] [adapter.go:1864] ["fail to generate plan info"] [backtrace="github.com/pingcap/tidb/pkg/executor.(*ExecStmt).SummaryStmt.func1.1\n\t/Users/bba/pc/tidb/pkg/executor/adapter.go:1865\ngithub.com/pingcap/tidb/pkg/executor.(*ExecStmt).SummaryStmt.func1\n\t/Users/bba/pc/tidb/pkg/executor/adapter.go:1869\ngithub.com/pingcap/tidb/pkg/util/stmtsummary.newStmtSummaryByDigestElement\n\t/Users/bba/pc/tidb/pkg/util/stmtsummary/statement_summary.go:652\ngithub.com/pingcap/tidb/pkg/util/stmtsummary.(*stmtSummaryByDigest).add.func1\n\t/Users/bba/pc/tidb/pkg/util/stmtsummary/statement_summary.go:604\ngithub.com/pingcap/tidb/pkg/util/stmtsummary.(*stmtSummaryByDigest).add\n\t/Users/bba/pc/tidb/pkg/util/stmtsummary/statement_summary.go:618\ngithub.com/pingcap/tidb/pkg/util/stmtsummary.(*stmtSummaryByDigestMap).AddStatement\n\t/Users/bba/pc/tidb/pkg/util/stmtsummary/statement_summary.go:358\ngithub.com/pingcap/tidb/pkg/util/stmtsummary/v2.Add\n\t/Users/bba/pc/tidb/pkg/util/stmtsummary/v2/stmtsummary.go:541\ngithub.com/pingcap/tidb/pkg/executor.(*ExecStmt).SummaryStmt\n\t/Users/bba/pc/tidb/pkg/executor/adapter.go:1975\ngithub.com/pingcap/tidb/pkg/executor.(*ExecStmt).FinishExecuteStmt\n\t/Users/bba/pc/tidb/pkg/executor/adapter.go:1363\ngithub.com/pingcap/tidb/pkg/session.runStmt\n\t/Users/bba/pc/tidb/pkg/session/session.go:2324\ngithub.com/pingcap/tidb/pkg/session.(*session).ExecuteStmt\n\t/Users/bba/pc/tidb/pkg/session/session.go:2146\ngithub.com/pingcap/tidb/pkg/testkit.(*TestKit).ExecWithContext\n\t/Users/bba/pc/tidb/pkg/testkit/testkit.go:384\ngithub.com/pingcap/tidb/pkg/testkit.(*TestKit).MustExecWithContext\n\t/Users/bba/pc/tidb/pkg/testkit/testkit.go:156\ngithub.com/pingcap/tidb/pkg/testkit.(*TestKit).MustExec\n\t/Users/bba/pc/tidb/pkg/testkit/testkit.go:151\ngithub.com/pingcap/tidb/pkg/planner/core_test.TestTooLongBinaryPlan\n\t/Users/bba/pc/tidb/pkg/planner/core/binary_plan_test.go:147\ntesting.tRunner\n\t/Users/bba/.gvm/gos/go1.21.0/src/testing/testing.go:1595"] [error=null]
[2024/05/17 10:49:48.082 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=1] [schemaVersion=51] [cur_db=test] [sql="create table th (i int, a int,b int, c int, index (a)) partition by hash (a) partitions 8192;"] [user=root@%]
[2024/05/17 10:49:48.124 +08:00] [INFO] [job_table.go:334] ["get global state and global state change"] [category=ddl] [oldState=false] [currState=false]
[2024/05/17 10:49:48.124 +08:00] [INFO] [job_table.go:349] ["the owner sets owner operator value"] [category=ddl] [ownerOp=none]
[2024/05/17 10:49:48.142 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:8297, Type:create table, State:queueing, SchemaState:none, SchemaID:2, TableID:104, RowCount:0, ArgLen:2, start time: 2024-05-17 10:49:48.085 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:49:48.142 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:8297, Type:create table, State:queueing, SchemaState:none, SchemaID:2, TableID:104, RowCount:0, ArgLen:2, start time: 2024-05-17 10:49:48.085 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="create table th (i int, a int,b int, c int, index (a)) partition by hash (a) partitions 8192;"]
[2024/05/17 10:49:48.157 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=8297] [conn=1] [category=ddl] [job="ID:8297, Type:create table, State:queueing, SchemaState:none, SchemaID:2, TableID:104, RowCount:0, ArgLen:0, start time: 2024-05-17 10:49:48.085 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:49:48.271 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:49:48.271 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=51] [neededSchemaVersion=52] ["start time"=48.6055ms] [gotSchemaVersion=52] [phyTblIDs="[104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,256,257,258,259,260,261,262,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286,287,288,289,290,291,292,293,294,295,296,297,298,299,300,301,302,303,304,305,306,307,308,309,310,311,312,313,314,315,316,317,318,319,320,321,322,323,324,325,326,327,328,329,330,331,332,333,334,335,336,337,338,339,340,341,342,343,344,345,346,347,348,349,350,351,352,353,354,355,356,357,358,359,360,361,362,363,364,365,366,367,368,369,370,371,372,373,374,375,376,377,378,379,380,381,382,383,384,385,386,387,388,389,390,391,392,393,394,395,396,397,398,399,400,401,402,403,404,405,406,407,408,409,410,411,412,413,414,415,416,417,418,419,420,421,422,423,424,425,426,427,428,429,430,431,432,433,434,435,436,437,438,439,440,441,442,443,444,445,446,447,448,449,450,451,452,453,454,455,456,457,458,459,460,461,462,463,464,465,466,467,468,469,470,471,472,473,474,475,476,477,478,479,480,481,482,483,484,485,486,487,488,489,490,491,492,493,494,495,496,497,498,499,500,501,502,503,504,505,506,507,508,509,510,511,512,513,514,515,516,517,518,519,520,521,522,523,524,525,526,527,528,529,530,531,532,533,534,535,536,537,538,539,540,541,542,543,544,545,546,547,548,549,550,551,552,553,554,555,556,557,558,559,560,561,562,563,564,565,566,567,568,569,570,571,572,573,574,575,576,577,578,579,580,581,582,583,584,585,586,587,588,589,590,591,592,593,594,595,596,597,598,599,600,601,602,603,604,605,606,607,608,609,610,611,612,613,614,615,616,617,618,619,620,621,622,623,624,625,626,627,628,629,630,631,632,633,634,635,636,637,638,639,640,641,642,643,644,645,646,647,648,649,650,651,652,653,654,655,656,657,658,659,660,661,662,663,664,665,666,667,668,669,670,671,672,673,674,675,676,677,678,679,680,681,682,683,684,685,686,687,688,689,690,691,692,693,694,695,696,697,698,699,700,701,702,703,704,705,706,707,708,709,710,711,712,713,714,715,716,717,718,719,720,721,722,723,724,725,726,727,728,729,730,731,732,733,734,735,736,737,738,739,740,741,742,743,744,745,746,747,748,749,750,751,752,753,754,755,756,757,758,759,760,761,762,763,764,765,766,767,768,769,770,771,772,773,774,775,776,777,778,779,780,781,782,783,784,785,786,787,788,789,790,791,792,793,794,795,796,797,798,799,800,801,802,803,804,805,806,807,808,809,810,811,812,813,814,815,816,817,818,819,820,821,822,823,824,825,826,827,828,829,830,831,832,833,834,835,836,837,838,839,840,841,842,843,844,845,846,847,848,849,850,851,852,853,854,855,856,857,858,859,860,861,862,863,864,865,866,867,868,869,870,871,872,873,874,875,876,877,878,879,880,881,882,883,884,885,886,887,888,889,890,891,892,893,894,895,896,897,898,899,900,901,902,903,904,905,906,907,908,909,910,911,912,913,914,915,916,917,918,919,920,921,922,923,924,925,926,927,928,929,930,931,932,933,934,935,936,937,938,939,940,941,942,943,944,945,946,947,948,949,950,951,952,953,954,955,956,957,958,959,960,961,962,963,964,965,966,967,968,969,970,971,972,973,974,975,976,977,978,979,980,981,982,983,984,985,986,987,988,989,990,991,992,993,994,995,996,997,998,999,1000,1001,1002,1003,1004,1005,1006,1007,1008,1009,1010,1011,1012,1013,1014,1015,1016,1017,1018,1019,1020,1021,1022,1023,1024,1025,1026,1027,1028,1029,1030,1031,1032,1033,1034,1035,1036,1037,1038,1039,1040,1041,1042,1043,1044,1045,1046,1047,1048,1049,1050,1051,1052,1053,1054,1055,1056,1057,1058,1059,1060,1061,1062,1063,1064,1065,1066,1067,1068,1069,1070,1071,1072,1073,1074,1075,1076,1077,1078,1079,1080,1081,1082,1083,1084,1085,1086,1087,1088,1089,1090,1091,1092,1093,1094,1095,1096,1097,1098,1099,1100,1101,1102,1103,1104,1105,1106,1107,1108,1109,1110,1111,1112,1113,1114,1115,1116,1117,1118,1119,1120,1121,1122,1123,1124,1125,1126,1127,1128,1129,1130,1131,1132,1133,1134,1135,1136,1137,1138,1139,1140,1141,1142,1143,1144,1145,1146,1147,1148,1149,1150,1151,1152,1153,1154,1155,1156,1157,1158,1159,1160,1161,1162,1163,1164,1165,1166,1167,1168,1169,1170,1171,1172,1173,1174,1175,1176,1177,1178,1179,1180,1181,1182,1183,1184,1185,1186,1187,1188,1189,1190,1191,1192,1193,1194,1195,1196,1197,1198,1199,1200,1201,1202,1203,1204,1205,1206,1207,1208,1209,1210,1211,1212,1213,1214,1215,1216,1217,1218,1219,1220,1221,1222,1223,1224,1225,1226,1227,1228,1229,1230,1231,1232,1233,1234,1235,1236,1237,1238,1239,1240,1241,1242,1243,1244,1245,1246,1247,1248,1249,1250,1251,1252,1253,1254,1255,1256,1257,1258,1259,1260,1261,1262,1263,1264,1265,1266,1267,1268,1269,1270,1271,1272,1273,1274,1275,1276,1277,1278,1279,1280,1281,1282,1283,1284,1285,1286,1287,1288,1289,1290,1291,1292,1293,1294,1295,1296,1297,1298,1299,1300,1301,1302,1303,1304,1305,1306,1307,1308,1309,1310,1311,1312,1313,1314,1315,1316,1317,1318,1319,1320,1321,1322,1323,1324,1325,1326,1327,1328,1329,1330,1331,1332,1333,1334,1335,1336,1337,1338,1339,1340,1341,1342,1343,1344,1345,1346,1347,1348,1349,1350,1351,1352,1353,1354,1355,1356,1357,1358,1359,1360,1361,1362,1363,1364,1365,1366,1367,1368,1369,1370,1371,1372,1373,1374,1375,1376,1377,1378,1379,1380,1381,1382,1383,1384,1385,1386,1387,1388,1389,1390,1391,1392,1393,1394,1395,1396,1397,1398,1399,1400,1401,1402,1403,1404,1405,1406,1407,1408,1409,1410,1411,1412,1413,1414,1415,1416,1417,1418,1419,1420,1421,1422,1423,1424,1425,1426,1427,1428,1429,1430,1431,1432,1433,1434,1435,1436,1437,1438,1439,1440,1441,1442,1443,1444,1445,1446,1447,1448,1449,1450,1451,1452,1453,1454,1455,1456,1457,1458,1459,1460,1461,1462,1463,1464,1465,1466,1467,1468,1469,1470,1471,1472,1473,1474,1475,1476,1477,1478,1479,1480,1481,1482,1483,1484,1485,1486,1487,1488,1489,1490,1491,1492,1493,1494,1495,1496,1497,1498,1499,1500,1501,1502,1503,1504,1505,1506,1507,1508,1509,1510,1511,1512,1513,1514,1515,1516,1517,1518,1519,1520,1521,1522,1523,1524,1525,1526,1527,1528,1529,1530,1531,1532,1533,1534,1535,1536,1537,1538,1539,1540,1541,1542,1543,1544,1545,1546,1547,1548,1549,1550,1551,1552,1553,1554,1555,1556,1557,1558,1559,1560,1561,1562,1563,1564,1565,1566,1567,1568,1569,1570,1571,1572,1573,1574,1575,1576,1577,1578,1579,1580,1581,1582,1583,1584,1585,1586,1587,1588,1589,1590,1591,1592,1593,1594,1595,1596,1597,1598,1599,1600,1601,1602,1603,1604,1605,1606,1607,1608,1609,1610,1611,1612,1613,1614,1615,1616,1617,1618,1619,1620,1621,1622,1623,1624,1625,1626,1627,1628,1629,1630,1631,1632,1633,1634,1635,1636,1637,1638,1639,1640,1641,1642,1643,1644,1645,1646,1647,1648,1649,1650,1651,1652,1653,1654,1655,1656,1657,1658,1659,1660,1661,1662,1663,1664,1665,1666,1667,1668,1669,1670,1671,1672,1673,1674,1675,1676,1677,1678,1679,1680,1681,1682,1683,1684,1685,1686,1687,1688,1689,1690,1691,1692,1693,1694,1695,1696,1697,1698,1699,1700,1701,1702,1703,1704,1705,1706,1707,1708,1709,1710,1711,1712,1713,1714,1715,1716,1717,1718,1719,1720,1721,1722,1723,1724,1725,1726,1727,1728,1729,1730,1731,1732,1733,1734,1735,1736,1737,1738,1739,1740,1741,1742,1743,1744,1745,1746,1747,1748,1749,1750,1751,1752,1753,1754,1755,1756,1757,1758,1759,1760,1761,1762,1763,1764,1765,1766,1767,1768,1769,1770,1771,1772,1773,1774,1775,1776,1777,1778,1779,1780,1781,1782,1783,1784,1785,1786,1787,1788,1789,1790,1791,1792,1793,1794,1795,1796,1797,1798,1799,1800,1801,1802,1803,1804,1805,1806,1807,1808,1809,1810,1811,1812,1813,1814,1815,1816,1817,1818,1819,1820,1821,1822,1823,1824,1825,1826,1827,1828,1829,1830,1831,1832,1833,1834,1835,1836,1837,1838,1839,1840,1841,1842,1843,1844,1845,1846,1847,1848,1849,1850,1851,1852,1853,1854,1855,1856,1857,1858,1859,1860,1861,1862,1863,1864,1865,1866,1867,1868,1869,1870,1871,1872,1873,1874,1875,1876,1877,1878,1879,1880,1881,1882,1883,1884,1885,1886,1887,1888,1889,1890,1891,1892,1893,1894,1895,1896,1897,1898,1899,1900,1901,1902,1903,1904,1905,1906,1907,1908,1909,1910,1911,1912,1913,1914,1915,1916,1917,1918,1919,1920,1921,1922,1923,1924,1925,1926,1927,1928,1929,1930,1931,1932,1933,1934,1935,1936,1937,1938,1939,1940,1941,1942,1943,1944,1945,1946,1947,1948,1949,1950,1951,1952,1953,1954,1955,1956,1957,1958,1959,1960,1961,1962,1963,1964,1965,1966,1967,1968,1969,1970,1971,1972,1973,1974,1975,1976,1977,1978,1979,1980,1981,1982,1983,1984,1985,1986,1987,1988,1989,1990,1991,1992,1993,1994,1995,1996,1997,1998,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021,2022,2023,2024,2025,2026,2027,2028,2029,2030,2031,2032,2033,2034,2035,2036,2037,2038,2039,2040,2041,2042,2043,2044,2045,2046,2047,2048,2049,2050,2051,2052,2053,2054,2055,2056,2057,2058,2059,2060,2061,2062,2063,2064,2065,2066,2067,2068,2069,2070,2071,2072,2073,2074,2075,2076,2077,2078,2079,2080,2081,2082,2083,2084,2085,2086,2087,2088,2089,2090,2091,2092,2093,2094,2095,2096,2097,2098,2099,2100,2101,2102,2103,2104,2105,2106,2107,2108,2109,2110,2111,2112,2113,2114,2115,2116,2117,2118,2119,2120,2121,2122,2123,2124,2125,2126,2127,2128,2129,2130,2131,2132,2133,2134,2135,2136,2137,2138,2139,2140,2141,2142,2143,2144,2145,2146,2147,2148,2149,2150,2151,2152,2153,2154,2155,2156,2157,2158,2159,2160,2161,2162,2163,2164,2165,2166,2167,2168,2169,2170,2171,2172,2173,2174,2175,2176,2177,2178,2179,2180,2181,2182,2183,2184,2185,2186,2187,2188,2189,2190,2191,2192,2193,2194,2195,2196,2197,2198,2199,2200,2201,2202,2203,2204,2205,2206,2207,2208,2209,2210,2211,2212,2213,2214,2215,2216,2217,2218,2219,2220,2221,2222,2223,2224,2225,2226,2227,2228,2229,2230,2231,2232,2233,2234,2235,2236,2237,2238,2239,2240,2241,2242,2243,2244,2245,2246,2247,2248,2249,2250,2251,2252,2253,2254,2255,2256,2257,2258,2259,2260,2261,2262,2263,2264,2265,2266,2267,2268,2269,2270,2271,2272,2273,2274,2275,2276,2277,2278,2279,2280,2281,2282,2283,2284,2285,2286,2287,2288,2289,2290,2291,2292,2293,2294,2295,2296,2297,2298,2299,2300,2301,2302,2303,2304,2305,2306,2307,2308,2309,2310,2311,2312,2313,2314,2315,2316,2317,2318,2319,2320,2321,2322,2323,2324,2325,2326,2327,2328,2329,2330,2331,2332,2333,2334,2335,2336,2337,2338,2339,2340,2341,2342,2343,2344,2345,2346,2347,2348,2349,2350,2351,2352,2353,2354,2355,2356,2357,2358,2359,2360,2361,2362,2363,2364,2365,2366,2367,2368,2369,2370,2371,2372,2373,2374,2375,2376,2377,2378,2379,2380,2381,2382,2383,2384,2385,2386,2387,2388,2389,2390,2391,2392,2393,2394,2395,2396,2397,2398,2399,2400,2401,2402,2403,2404,2405,2406,2407,2408,2409,2410,2411,2412,2413,2414,2415,2416,2417,2418,2419,2420,2421,2422,2423,2424,2425,2426,2427,2428,2429,2430,2431,2432,2433,2434,2435,2436,2437,2438,2439,2440,2441,2442,2443,2444,2445,2446,2447,2448,2449,2450,2451,2452,2453,2454,2455,2456,2457,2458,2459,2460,2461,2462,2463,2464,2465,2466,2467,2468,2469,2470,2471,2472,2473,2474,2475,2476,2477,2478,2479,2480,2481,2482,2483,2484,2485,2486,2487,2488,2489,2490,2491,2492,2493,2494,2495,2496,2497,2498,2499,2500,2501,2502,2503,2504,2505,2506,2507,2508,2509,2510,2511,2512,2513,2514,2515,2516,2517,2518,2519,2520,2521,2522,2523,2524,2525,2526,2527,2528,2529,2530,2531,2532,2533,2534,2535,2536,2537,2538,2539,2540,2541,2542,2543,2544,2545,2546,2547,2548,2549,2550,2551,2552,2553,2554,2555,2556,2557,2558,2559,2560,2561,2562,2563,2564,2565,2566,2567,2568,2569,2570,2571,2572,2573,2574,2575,2576,2577,2578,2579,2580,2581,2582,2583,2584,2585,2586,2587,2588,2589,2590,2591,2592,2593,2594,2595,2596,2597,2598,2599,2600,2601,2602,2603,2604,2605,2606,2607,2608,2609,2610,2611,2612,2613,2614,2615,2616,2617,2618,2619,2620,2621,2622,2623,2624,2625,2626,2627,2628,2629,2630,2631,2632,2633,2634,2635,2636,2637,2638,2639,2640,2641,2642,2643,2644,2645,2646,2647,2648,2649,2650,2651,2652,2653,2654,2655,2656,2657,2658,2659,2660,2661,2662,2663,2664,2665,2666,2667,2668,2669,2670,2671,2672,2673,2674,2675,2676,2677,2678,2679,2680,2681,2682,2683,2684,2685,2686,2687,2688,2689,2690,2691,2692,2693,2694,2695,2696,2697,2698,2699,2700,2701,2702,2703,2704,2705,2706,2707,2708,2709,2710,2711,2712,2713,2714,2715,2716,2717,2718,2719,2720,2721,2722,2723,2724,2725,2726,2727,2728,2729,2730,2731,2732,2733,2734,2735,2736,2737,2738,2739,2740,2741,2742,2743,2744,2745,2746,2747,2748,2749,2750,2751,2752,2753,2754,2755,2756,2757,2758,2759,2760,2761,2762,2763,2764,2765,2766,2767,2768,2769,2770,2771,2772,2773,2774,2775,2776,2777,2778,2779,2780,2781,2782,2783,2784,2785,2786,2787,2788,2789,2790,2791,2792,2793,2794,2795,2796,2797,2798,2799,2800,2801,2802,2803,2804,2805,2806,2807,2808,2809,2810,2811,2812,2813,2814,2815,2816,2817,2818,2819,2820,2821,2822,2823,2824,2825,2826,2827,2828,2829,2830,2831,2832,2833,2834,2835,2836,2837,2838,2839,2840,2841,2842,2843,2844,2845,2846,2847,2848,2849,2850,2851,2852,2853,2854,2855,2856,2857,2858,2859,2860,2861,2862,2863,2864,2865,2866,2867,2868,2869,2870,2871,2872,2873,2874,2875,2876,2877,2878,2879,2880,2881,2882,2883,2884,2885,2886,2887,2888,2889,2890,2891,2892,2893,2894,2895,2896,2897,2898,2899,2900,2901,2902,2903,2904,2905,2906,2907,2908,2909,2910,2911,2912,2913,2914,2915,2916,2917,2918,2919,2920,2921,2922,2923,2924,2925,2926,2927,2928,2929,2930,2931,2932,2933,2934,2935,2936,2937,2938,2939,2940,2941,2942,2943,2944,2945,2946,2947,2948,2949,2950,2951,2952,2953,2954,2955,2956,2957,2958,2959,2960,2961,2962,2963,2964,2965,2966,2967,2968,2969,2970,2971,2972,2973,2974,2975,2976,2977,2978,2979,2980,2981,2982,2983,2984,2985,2986,2987,2988,2989,2990,2991,2992,2993,2994,2995,2996,2997,2998,2999,3000,3001,3002,3003,3004,3005,3006,3007,3008,3009,3010,3011,3012,3013,3014,3015,3016,3017,3018,3019,3020,3021,3022,3023,3024,3025,3026,3027,3028,3029,3030,3031,3032,3033,3034,3035,3036,3037,3038,3039,3040,3041,3042,3043,3044,3045,3046,3047,3048,3049,3050,3051,3052,3053,3054,3055,3056,3057,3058,3059,3060,3061,3062,3063,3064,3065,3066,3067,3068,3069,3070,3071,3072,3073,3074,3075,3076,3077,3078,3079,3080,3081,3082,3083,3084,3085,3086,3087,3088,3089,3090,3091,3092,3093,3094,3095,3096,3097,3098,3099,3100,3101,3102,3103,3104,3105,3106,3107,3108,3109,3110,3111,3112,3113,3114,3115,3116,3117,3118,3119,3120,3121,3122,3123,3124,3125,3126,3127,3128,3129,3130,3131,3132,3133,3134,3135,3136,3137,3138,3139,3140,3141,3142,3143,3144,3145,3146,3147,3148,3149,3150,3151,3152,3153,3154,3155,3156,3157,3158,3159,3160,3161,3162,3163,3164,3165,3166,3167,3168,3169,3170,3171,3172,3173,3174,3175,3176,3177,3178,3179,3180,3181,3182,3183,3184,3185,3186,3187,3188,3189,3190,3191,3192,3193,3194,3195,3196,3197,3198,3199,3200,3201,3202,3203,3204,3205,3206,3207,3208,3209,3210,3211,3212,3213,3214,3215,3216,3217,3218,3219,3220,3221,3222,3223,3224,3225,3226,3227,3228,3229,3230,3231,3232,3233,3234,3235,3236,3237,3238,3239,3240,3241,3242,3243,3244,3245,3246,3247,3248,3249,3250,3251,3252,3253,3254,3255,3256,3257,3258,3259,3260,3261,3262,3263,3264,3265,3266,3267,3268,3269,3270,3271,3272,3273,3274,3275,3276,3277,3278,3279,3280,3281,3282,3283,3284,3285,3286,3287,3288,3289,3290,3291,3292,3293,3294,3295,3296,3297,3298,3299,3300,3301,3302,3303,3304,3305,3306,3307,3308,3309,3310,3311,3312,3313,3314,3315,3316,3317,3318,3319,3320,3321,3322,3323,3324,3325,3326,3327,3328,3329,3330,3331,3332,3333,3334,3335,3336,3337,3338,3339,3340,3341,3342,3343,3344,3345,3346,3347,3348,3349,3350,3351,3352,3353,3354,3355,3356,3357,3358,3359,3360,3361,3362,3363,3364,3365,3366,3367,3368,3369,3370,3371,3372,3373,3374,3375,3376,3377,3378,3379,3380,3381,3382,3383,3384,3385,3386,3387,3388,3389,3390,3391,3392,3393,3394,3395,3396,3397,3398,3399,3400,3401,3402,3403,3404,3405,3406,3407,3408,3409,3410,3411,3412,3413,3414,3415,3416,3417,3418,3419,3420,3421,3422,3423,3424,3425,3426,3427,3428,3429,3430,3431,3432,3433,3434,3435,3436,3437,3438,3439,3440,3441,3442,3443,3444,3445,3446,3447,3448,3449,3450,3451,3452,3453,3454,3455,3456,3457,3458,3459,3460,3461,3462,3463,3464,3465,3466,3467,3468,3469,3470,3471,3472,3473,3474,3475,3476,3477,3478,3479,3480,3481,3482,3483,3484,3485,3486,3487,3488,3489,3490,3491,3492,3493,3494,3495,3496,3497,3498,3499,3500,3501,3502,3503,3504,3505,3506,3507,3508,3509,3510,3511,3512,3513,3514,3515,3516,3517,3518,3519,3520,3521,3522,3523,3524,3525,3526,3527,3528,3529,3530,3531,3532,3533,3534,3535,3536,3537,3538,3539,3540,3541,3542,3543,3544,3545,3546,3547,3548,3549,3550,3551,3552,3553,3554,3555,3556,3557,3558,3559,3560,3561,3562,3563,3564,3565,3566,3567,3568,3569,3570,3571,3572,3573,3574,3575,3576,3577,3578,3579,3580,3581,3582,3583,3584,3585,3586,3587,3588,3589,3590,3591,3592,3593,3594,3595,3596,3597,3598,3599,3600,3601,3602,3603,3604,3605,3606,3607,3608,3609,3610,3611,3612,3613,3614,3615,3616,3617,3618,3619,3620,3621,3622,3623,3624,3625,3626,3627,3628,3629,3630,3631,3632,3633,3634,3635,3636,3637,3638,3639,3640,3641,3642,3643,3644,3645,3646,3647,3648,3649,3650,3651,3652,3653,3654,3655,3656,3657,3658,3659,3660,3661,3662,3663,3664,3665,3666,3667,3668,3669,3670,3671,3672,3673,3674,3675,3676,3677,3678,3679,3680,3681,3682,3683,3684,3685,3686,3687,3688,3689,3690,3691,3692,3693,3694,3695,3696,3697,3698,3699,3700,3701,3702,3703,3704,3705,3706,3707,3708,3709,3710,3711,3712,3713,3714,3715,3716,3717,3718,3719,3720,3721,3722,3723,3724,3725,3726,3727,3728,3729,3730,3731,3732,3733,3734,3735,3736,3737,3738,3739,3740,3741,3742,3743,3744,3745,3746,3747,3748,3749,3750,3751,3752,3753,3754,3755,3756,3757,3758,3759,3760,3761,3762,3763,3764,3765,3766,3767,3768,3769,3770,3771,3772,3773,3774,3775,3776,3777,3778,3779,3780,3781,3782,3783,3784,3785,3786,3787,3788,3789,3790,3791,3792,3793,3794,3795,3796,3797,3798,3799,3800,3801,3802,3803,3804,3805,3806,3807,3808,3809,3810,3811,3812,3813,3814,3815,3816,3817,3818,3819,3820,3821,3822,3823,3824,3825,3826,3827,3828,3829,3830,3831,3832,3833,3834,3835,3836,3837,3838,3839,3840,3841,3842,3843,3844,3845,3846,3847,3848,3849,3850,3851,3852,3853,3854,3855,3856,3857,3858,3859,3860,3861,3862,3863,3864,3865,3866,3867,3868,3869,3870,3871,3872,3873,3874,3875,3876,3877,3878,3879,3880,3881,3882,3883,3884,3885,3886,3887,3888,3889,3890,3891,3892,3893,3894,3895,3896,3897,3898,3899,3900,3901,3902,3903,3904,3905,3906,3907,3908,3909,3910,3911,3912,3913,3914,3915,3916,3917,3918,3919,3920,3921,3922,3923,3924,3925,3926,3927,3928,3929,3930,3931,3932,3933,3934,3935,3936,3937,3938,3939,3940,3941,3942,3943,3944,3945,3946,3947,3948,3949,3950,3951,3952,3953,3954,3955,3956,3957,3958,3959,3960,3961,3962,3963,3964,3965,3966,3967,3968,3969,3970,3971,3972,3973,3974,3975,3976,3977,3978,3979,3980,3981,3982,3983,3984,3985,3986,3987,3988,3989,3990,3991,3992,3993,3994,3995,3996,3997,3998,3999,4000,4001,4002,4003,4004,4005,4006,4007,4008,4009,4010,4011,4012,4013,4014,4015,4016,4017,4018,4019,4020,4021,4022,4023,4024,4025,4026,4027,4028,4029,4030,4031,4032,4033,4034,4035,4036,4037,4038,4039,4040,4041,4042,4043,4044,4045,4046,4047,4048,4049,4050,4051,4052,4053,4054,4055,4056,4057,4058,4059,4060,4061,4062,4063,4064,4065,4066,4067,4068,4069,4070,4071,4072,4073,4074,4075,4076,4077,4078,4079,4080,4081,4082,4083,4084,4085,4086,4087,4088,4089,4090,4091,4092,4093,4094,4095,4096,4097,4098,4099,4100,4101,4102,4103,4104,4105,4106,4107,4108,4109,4110,4111,4112,4113,4114,4115,4116,4117,4118,4119,4120,4121,4122,4123,4124,4125,4126,4127,4128,4129,4130,4131,4132,4133,4134,4135,4136,4137,4138,4139,4140,4141,4142,4143,4144,4145,4146,4147,4148,4149,4150,4151,4152,4153,4154,4155,4156,4157,4158,4159,4160,4161,4162,4163,4164,4165,4166,4167,4168,4169,4170,4171,4172,4173,4174,4175,4176,4177,4178,4179,4180,4181,4182,4183,4184,4185,4186,4187,4188,4189,4190,4191,4192,4193,4194,4195,4196,4197,4198,4199,4200,4201,4202,4203,4204,4205,4206,4207,4208,4209,4210,4211,4212,4213,4214,4215,4216,4217,4218,4219,4220,4221,4222,4223,4224,4225,4226,4227,4228,4229,4230,4231,4232,4233,4234,4235,4236,4237,4238,4239,4240,4241,4242,4243,4244,4245,4246,4247,4248,4249,4250,4251,4252,4253,4254,4255,4256,4257,4258,4259,4260,4261,4262,4263,4264,4265,4266,4267,4268,4269,4270,4271,4272,4273,4274,4275,4276,4277,4278,4279,4280,4281,4282,4283,4284,4285,4286,4287,4288,4289,4290,4291,4292,4293,4294,4295,4296,4297,4298,4299,4300,4301,4302,4303,4304,4305,4306,4307,4308,4309,4310,4311,4312,4313,4314,4315,4316,4317,4318,4319,4320,4321,4322,4323,4324,4325,4326,4327,4328,4329,4330,4331,4332,4333,4334,4335,4336,4337,4338,4339,4340,4341,4342,4343,4344,4345,4346,4347,4348,4349,4350,4351,4352,4353,4354,4355,4356,4357,4358,4359,4360,4361,4362,4363,4364,4365,4366,4367,4368,4369,4370,4371,4372,4373,4374,4375,4376,4377,4378,4379,4380,4381,4382,4383,4384,4385,4386,4387,4388,4389,4390,4391,4392,4393,4394,4395,4396,4397,4398,4399,4400,4401,4402,4403,4404,4405,4406,4407,4408,4409,4410,4411,4412,4413,4414,4415,4416,4417,4418,4419,4420,4421,4422,4423,4424,4425,4426,4427,4428,4429,4430,4431,4432,4433,4434,4435,4436,4437,4438,4439,4440,4441,4442,4443,4444,4445,4446,4447,4448,4449,4450,4451,4452,4453,4454,4455,4456,4457,4458,4459,4460,4461,4462,4463,4464,4465,4466,4467,4468,4469,4470,4471,4472,4473,4474,4475,4476,4477,4478,4479,4480,4481,4482,4483,4484,4485,4486,4487,4488,4489,4490,4491,4492,4493,4494,4495,4496,4497,4498,4499,4500,4501,4502,4503,4504,4505,4506,4507,4508,4509,4510,4511,4512,4513,4514,4515,4516,4517,4518,4519,4520,4521,4522,4523,4524,4525,4526,4527,4528,4529,4530,4531,4532,4533,4534,4535,4536,4537,4538,4539,4540,4541,4542,4543,4544,4545,4546,4547,4548,4549,4550,4551,4552,4553,4554,4555,4556,4557,4558,4559,4560,4561,4562,4563,4564,4565,4566,4567,4568,4569,4570,4571,4572,4573,4574,4575,4576,4577,4578,4579,4580,4581,4582,4583,4584,4585,4586,4587,4588,4589,4590,4591,4592,4593,4594,4595,4596,4597,4598,4599,4600,4601,4602,4603,4604,4605,4606,4607,4608,4609,4610,4611,4612,4613,4614,4615,4616,4617,4618,4619,4620,4621,4622,4623,4624,4625,4626,4627,4628,4629,4630,4631,4632,4633,4634,4635,4636,4637,4638,4639,4640,4641,4642,4643,4644,4645,4646,4647,4648,4649,4650,4651,4652,4653,4654,4655,4656,4657,4658,4659,4660,4661,4662,4663,4664,4665,4666,4667,4668,4669,4670,4671,4672,4673,4674,4675,4676,4677,4678,4679,4680,4681,4682,4683,4684,4685,4686,4687,4688,4689,4690,4691,4692,4693,4694,4695,4696,4697,4698,4699,4700,4701,4702,4703,4704,4705,4706,4707,4708,4709,4710,4711,4712,4713,4714,4715,4716,4717,4718,4719,4720,4721,4722,4723,4724,4725,4726,4727,4728,4729,4730,4731,4732,4733,4734,4735,4736,4737,4738,4739,4740,4741,4742,4743,4744,4745,4746,4747,4748,4749,4750,4751,4752,4753,4754,4755,4756,4757,4758,4759,4760,4761,4762,4763,4764,4765,4766,4767,4768,4769,4770,4771,4772,4773,4774,4775,4776,4777,4778,4779,4780,4781,4782,4783,4784,4785,4786,4787,4788,4789,4790,4791,4792,4793,4794,4795,4796,4797,4798,4799,4800,4801,4802,4803,4804,4805,4806,4807,4808,4809,4810,4811,4812,4813,4814,4815,4816,4817,4818,4819,4820,4821,4822,4823,4824,4825,4826,4827,4828,4829,4830,4831,4832,4833,4834,4835,4836,4837,4838,4839,4840,4841,4842,4843,4844,4845,4846,4847,4848,4849,4850,4851,4852,4853,4854,4855,4856,4857,4858,4859,4860,4861,4862,4863,4864,4865,4866,4867,4868,4869,4870,4871,4872,4873,4874,4875,4876,4877,4878,4879,4880,4881,4882,4883,4884,4885,4886,4887,4888,4889,4890,4891,4892,4893,4894,4895,4896,4897,4898,4899,4900,4901,4902,4903,4904,4905,4906,4907,4908,4909,4910,4911,4912,4913,4914,4915,4916,4917,4918,4919,4920,4921,4922,4923,4924,4925,4926,4927,4928,4929,4930,4931,4932,4933,4934,4935,4936,4937,4938,4939,4940,4941,4942,4943,4944,4945,4946,4947,4948,4949,4950,4951,4952,4953,4954,4955,4956,4957,4958,4959,4960,4961,4962,4963,4964,4965,4966,4967,4968,4969,4970,4971,4972,4973,4974,4975,4976,4977,4978,4979,4980,4981,4982,4983,4984,4985,4986,4987,4988,4989,4990,4991,4992,4993,4994,4995,4996,4997,4998,4999,5000,5001,5002,5003,5004,5005,5006,5007,5008,5009,5010,5011,5012,5013,5014,5015,5016,5017,5018,5019,5020,5021,5022,5023,5024,5025,5026,5027,5028,5029,5030,5031,5032,5033,5034,5035,5036,5037,5038,5039,5040,5041,5042,5043,5044,5045,5046,5047,5048,5049,5050,5051,5052,5053,5054,5055,5056,5057,5058,5059,5060,5061,5062,5063,5064,5065,5066,5067,5068,5069,5070,5071,5072,5073,5074,5075,5076,5077,5078,5079,5080,5081,5082,5083,5084,5085,5086,5087,5088,5089,5090,5091,5092,5093,5094,5095,5096,5097,5098,5099,5100,5101,5102,5103,5104,5105,5106,5107,5108,5109,5110,5111,5112,5113,5114,5115,5116,5117,5118,5119,5120,5121,5122,5123,5124,5125,5126,5127,5128,5129,5130,5131,5132,5133,5134,5135,5136,5137,5138,5139,5140,5141,5142,5143,5144,5145,5146,5147,5148,5149,5150,5151,5152,5153,5154,5155,5156,5157,5158,5159,5160,5161,5162,5163,5164,5165,5166,5167,5168,5169,5170,5171,5172,5173,5174,5175,5176,5177,5178,5179,5180,5181,5182,5183,5184,5185,5186,5187,5188,5189,5190,5191,5192,5193,5194,5195,5196,5197,5198,5199,5200,5201,5202,5203,5204,5205,5206,5207,5208,5209,5210,5211,5212,5213,5214,5215,5216,5217,5218,5219,5220,5221,5222,5223,5224,5225,5226,5227,5228,5229,5230,5231,5232,5233,5234,5235,5236,5237,5238,5239,5240,5241,5242,5243,5244,5245,5246,5247,5248,5249,5250,5251,5252,5253,5254,5255,5256,5257,5258,5259,5260,5261,5262,5263,5264,5265,5266,5267,5268,5269,5270,5271,5272,5273,5274,5275,5276,5277,5278,5279,5280,5281,5282,5283,5284,5285,5286,5287,5288,5289,5290,5291,5292,5293,5294,5295,5296,5297,5298,5299,5300,5301,5302,5303,5304,5305,5306,5307,5308,5309,5310,5311,5312,5313,5314,5315,5316,5317,5318,5319,5320,5321,5322,5323,5324,5325,5326,5327,5328,5329,5330,5331,5332,5333,5334,5335,5336,5337,5338,5339,5340,5341,5342,5343,5344,5345,5346,5347,5348,5349,5350,5351,5352,5353,5354,5355,5356,5357,5358,5359,5360,5361,5362,5363,5364,5365,5366,5367,5368,5369,5370,5371,5372,5373,5374,5375,5376,5377,5378,5379,5380,5381,5382,5383,5384,5385,5386,5387,5388,5389,5390,5391,5392,5393,5394,5395,5396,5397,5398,5399,5400,5401,5402,5403,5404,5405,5406,5407,5408,5409,5410,5411,5412,5413,5414,5415,5416,5417,5418,5419,5420,5421,5422,5423,5424,5425,5426,5427,5428,5429,5430,5431,5432,5433,5434,5435,5436,5437,5438,5439,5440,5441,5442,5443,5444,5445,5446,5447,5448,5449,5450,5451,5452,5453,5454,5455,5456,5457,5458,5459,5460,5461,5462,5463,5464,5465,5466,5467,5468,5469,5470,5471,5472,5473,5474,5475,5476,5477,5478,5479,5480,5481,5482,5483,5484,5485,5486,5487,5488,5489,5490,5491,5492,5493,5494,5495,5496,5497,5498,5499,5500,5501,5502,5503,5504,5505,5506,5507,5508,5509,5510,5511,5512,5513,5514,5515,5516,5517,5518,5519,5520,5521,5522,5523,5524,5525,5526,5527,5528,5529,5530,5531,5532,5533,5534,5535,5536,5537,5538,5539,5540,5541,5542,5543,5544,5545,5546,5547,5548,5549,5550,5551,5552,5553,5554,5555,5556,5557,5558,5559,5560,5561,5562,5563,5564,5565,5566,5567,5568,5569,5570,5571,5572,5573,5574,5575,5576,5577,5578,5579,5580,5581,5582,5583,5584,5585,5586,5587,5588,5589,5590,5591,5592,5593,5594,5595,5596,5597,5598,5599,5600,5601,5602,5603,5604,5605,5606,5607,5608,5609,5610,5611,5612,5613,5614,5615,5616,5617,5618,5619,5620,5621,5622,5623,5624,5625,5626,5627,5628,5629,5630,5631,5632,5633,5634,5635,5636,5637,5638,5639,5640,5641,5642,5643,5644,5645,5646,5647,5648,5649,5650,5651,5652,5653,5654,5655,5656,5657,5658,5659,5660,5661,5662,5663,5664,5665,5666,5667,5668,5669,5670,5671,5672,5673,5674,5675,5676,5677,5678,5679,5680,5681,5682,5683,5684,5685,5686,5687,5688,5689,5690,5691,5692,5693,5694,5695,5696,5697,5698,5699,5700,5701,5702,5703,5704,5705,5706,5707,5708,5709,5710,5711,5712,5713,5714,5715,5716,5717,5718,5719,5720,5721,5722,5723,5724,5725,5726,5727,5728,5729,5730,5731,5732,5733,5734,5735,5736,5737,5738,5739,5740,5741,5742,5743,5744,5745,5746,5747,5748,5749,5750,5751,5752,5753,5754,5755,5756,5757,5758,5759,5760,5761,5762,5763,5764,5765,5766,5767,5768,5769,5770,5771,5772,5773,5774,5775,5776,5777,5778,5779,5780,5781,5782,5783,5784,5785,5786,5787,5788,5789,5790,5791,5792,5793,5794,5795,5796,5797,5798,5799,5800,5801,5802,5803,5804,5805,5806,5807,5808,5809,5810,5811,5812,5813,5814,5815,5816,5817,5818,5819,5820,5821,5822,5823,5824,5825,5826,5827,5828,5829,5830,5831,5832,5833,5834,5835,5836,5837,5838,5839,5840,5841,5842,5843,5844,5845,5846,5847,5848,5849,5850,5851,5852,5853,5854,5855,5856,5857,5858,5859,5860,5861,5862,5863,5864,5865,5866,5867,5868,5869,5870,5871,5872,5873,5874,5875,5876,5877,5878,5879,5880,5881,5882,5883,5884,5885,5886,5887,5888,5889,5890,5891,5892,5893,5894,5895,5896,5897,5898,5899,5900,5901,5902,5903,5904,5905,5906,5907,5908,5909,5910,5911,5912,5913,5914,5915,5916,5917,5918,5919,5920,5921,5922,5923,5924,5925,5926,5927,5928,5929,5930,5931,5932,5933,5934,5935,5936,5937,5938,5939,5940,5941,5942,5943,5944,5945,5946,5947,5948,5949,5950,5951,5952,5953,5954,5955,5956,5957,5958,5959,5960,5961,5962,5963,5964,5965,5966,5967,5968,5969,5970,5971,5972,5973,5974,5975,5976,5977,5978,5979,5980,5981,5982,5983,5984,5985,5986,5987,5988,5989,5990,5991,5992,5993,5994,5995,5996,5997,5998,5999,6000,6001,6002,6003,6004,6005,6006,6007,6008,6009,6010,6011,6012,6013,6014,6015,6016,6017,6018,6019,6020,6021,6022,6023,6024,6025,6026,6027,6028,6029,6030,6031,6032,6033,6034,6035,6036,6037,6038,6039,6040,6041,6042,6043,6044,6045,6046,6047,6048,6049,6050,6051,6052,6053,6054,6055,6056,6057,6058,6059,6060,6061,6062,6063,6064,6065,6066,6067,6068,6069,6070,6071,6072,6073,6074,6075,6076,6077,6078,6079,6080,6081,6082,6083,6084,6085,6086,6087,6088,6089,6090,6091,6092,6093,6094,6095,6096,6097,6098,6099,6100,6101,6102,6103,6104,6105,6106,6107,6108,6109,6110,6111,6112,6113,6114,6115,6116,6117,6118,6119,6120,6121,6122,6123,6124,6125,6126,6127,6128,6129,6130,6131,6132,6133,6134,6135,6136,6137,6138,6139,6140,6141,6142,6143,6144,6145,6146,6147,6148,6149,6150,6151,6152,6153,6154,6155,6156,6157,6158,6159,6160,6161,6162,6163,6164,6165,6166,6167,6168,6169,6170,6171,6172,6173,6174,6175,6176,6177,6178,6179,6180,6181,6182,6183,6184,6185,6186,6187,6188,6189,6190,6191,6192,6193,6194,6195,6196,6197,6198,6199,6200,6201,6202,6203,6204,6205,6206,6207,6208,6209,6210,6211,6212,6213,6214,6215,6216,6217,6218,6219,6220,6221,6222,6223,6224,6225,6226,6227,6228,6229,6230,6231,6232,6233,6234,6235,6236,6237,6238,6239,6240,6241,6242,6243,6244,6245,6246,6247,6248,6249,6250,6251,6252,6253,6254,6255,6256,6257,6258,6259,6260,6261,6262,6263,6264,6265,6266,6267,6268,6269,6270,6271,6272,6273,6274,6275,6276,6277,6278,6279,6280,6281,6282,6283,6284,6285,6286,6287,6288,6289,6290,6291,6292,6293,6294,6295,6296,6297,6298,6299,6300,6301,6302,6303,6304,6305,6306,6307,6308,6309,6310,6311,6312,6313,6314,6315,6316,6317,6318,6319,6320,6321,6322,6323,6324,6325,6326,6327,6328,6329,6330,6331,6332,6333,6334,6335,6336,6337,6338,6339,6340,6341,6342,6343,6344,6345,6346,6347,6348,6349,6350,6351,6352,6353,6354,6355,6356,6357,6358,6359,6360,6361,6362,6363,6364,6365,6366,6367,6368,6369,6370,6371,6372,6373,6374,6375,6376,6377,6378,6379,6380,6381,6382,6383,6384,6385,6386,6387,6388,6389,6390,6391,6392,6393,6394,6395,6396,6397,6398,6399,6400,6401,6402,6403,6404,6405,6406,6407,6408,6409,6410,6411,6412,6413,6414,6415,6416,6417,6418,6419,6420,6421,6422,6423,6424,6425,6426,6427,6428,6429,6430,6431,6432,6433,6434,6435,6436,6437,6438,6439,6440,6441,6442,6443,6444,6445,6446,6447,6448,6449,6450,6451,6452,6453,6454,6455,6456,6457,6458,6459,6460,6461,6462,6463,6464,6465,6466,6467,6468,6469,6470,6471,6472,6473,6474,6475,6476,6477,6478,6479,6480,6481,6482,6483,6484,6485,6486,6487,6488,6489,6490,6491,6492,6493,6494,6495,6496,6497,6498,6499,6500,6501,6502,6503,6504,6505,6506,6507,6508,6509,6510,6511,6512,6513,6514,6515,6516,6517,6518,6519,6520,6521,6522,6523,6524,6525,6526,6527,6528,6529,6530,6531,6532,6533,6534,6535,6536,6537,6538,6539,6540,6541,6542,6543,6544,6545,6546,6547,6548,6549,6550,6551,6552,6553,6554,6555,6556,6557,6558,6559,6560,6561,6562,6563,6564,6565,6566,6567,6568,6569,6570,6571,6572,6573,6574,6575,6576,6577,6578,6579,6580,6581,6582,6583,6584,6585,6586,6587,6588,6589,6590,6591,6592,6593,6594,6595,6596,6597,6598,6599,6600,6601,6602,6603,6604,6605,6606,6607,6608,6609,6610,6611,6612,6613,6614,6615,6616,6617,6618,6619,6620,6621,6622,6623,6624,6625,6626,6627,6628,6629,6630,6631,6632,6633,6634,6635,6636,6637,6638,6639,6640,6641,6642,6643,6644,6645,6646,6647,6648,6649,6650,6651,6652,6653,6654,6655,6656,6657,6658,6659,6660,6661,6662,6663,6664,6665,6666,6667,6668,6669,6670,6671,6672,6673,6674,6675,6676,6677,6678,6679,6680,6681,6682,6683,6684,6685,6686,6687,6688,6689,6690,6691,6692,6693,6694,6695,6696,6697,6698,6699,6700,6701,6702,6703,6704,6705,6706,6707,6708,6709,6710,6711,6712,6713,6714,6715,6716,6717,6718,6719,6720,6721,6722,6723,6724,6725,6726,6727,6728,6729,6730,6731,6732,6733,6734,6735,6736,6737,6738,6739,6740,6741,6742,6743,6744,6745,6746,6747,6748,6749,6750,6751,6752,6753,6754,6755,6756,6757,6758,6759,6760,6761,6762,6763,6764,6765,6766,6767,6768,6769,6770,6771,6772,6773,6774,6775,6776,6777,6778,6779,6780,6781,6782,6783,6784,6785,6786,6787,6788,6789,6790,6791,6792,6793,6794,6795,6796,6797,6798,6799,6800,6801,6802,6803,6804,6805,6806,6807,6808,6809,6810,6811,6812,6813,6814,6815,6816,6817,6818,6819,6820,6821,6822,6823,6824,6825,6826,6827,6828,6829,6830,6831,6832,6833,6834,6835,6836,6837,6838,6839,6840,6841,6842,6843,6844,6845,6846,6847,6848,6849,6850,6851,6852,6853,6854,6855,6856,6857,6858,6859,6860,6861,6862,6863,6864,6865,6866,6867,6868,6869,6870,6871,6872,6873,6874,6875,6876,6877,6878,6879,6880,6881,6882,6883,6884,6885,6886,6887,6888,6889,6890,6891,6892,6893,6894,6895,6896,6897,6898,6899,6900,6901,6902,6903,6904,6905,6906,6907,6908,6909,6910,6911,6912,6913,6914,6915,6916,6917,6918,6919,6920,6921,6922,6923,6924,6925,6926,6927,6928,6929,6930,6931,6932,6933,6934,6935,6936,6937,6938,6939,6940,6941,6942,6943,6944,6945,6946,6947,6948,6949,6950,6951,6952,6953,6954,6955,6956,6957,6958,6959,6960,6961,6962,6963,6964,6965,6966,6967,6968,6969,6970,6971,6972,6973,6974,6975,6976,6977,6978,6979,6980,6981,6982,6983,6984,6985,6986,6987,6988,6989,6990,6991,6992,6993,6994,6995,6996,6997,6998,6999,7000,7001,7002,7003,7004,7005,7006,7007,7008,7009,7010,7011,7012,7013,7014,7015,7016,7017,7018,7019,7020,7021,7022,7023,7024,7025,7026,7027,7028,7029,7030,7031,7032,7033,7034,7035,7036,7037,7038,7039,7040,7041,7042,7043,7044,7045,7046,7047,7048,7049,7050,7051,7052,7053,7054,7055,7056,7057,7058,7059,7060,7061,7062,7063,7064,7065,7066,7067,7068,7069,7070,7071,7072,7073,7074,7075,7076,7077,7078,7079,7080,7081,7082,7083,7084,7085,7086,7087,7088,7089,7090,7091,7092,7093,7094,7095,7096,7097,7098,7099,7100,7101,7102,7103,7104,7105,7106,7107,7108,7109,7110,7111,7112,7113,7114,7115,7116,7117,7118,7119,7120,7121,7122,7123,7124,7125,7126,7127,7128,7129,7130,7131,7132,7133,7134,7135,7136,7137,7138,7139,7140,7141,7142,7143,7144,7145,7146,7147,7148,7149,7150,7151,7152,7153,7154,7155,7156,7157,7158,7159,7160,7161,7162,7163,7164,7165,7166,7167,7168,7169,7170,7171,7172,7173,7174,7175,7176,7177,7178,7179,7180,7181,7182,7183,7184,7185,7186,7187,7188,7189,7190,7191,7192,7193,7194,7195,7196,7197,7198,7199,7200,7201,7202,7203,7204,7205,7206,7207,7208,7209,7210,7211,7212,7213,7214,7215,7216,7217,7218,7219,7220,7221,7222,7223,7224,7225,7226,7227,7228,7229,7230,7231,7232,7233,7234,7235,7236,7237,7238,7239,7240,7241,7242,7243,7244,7245,7246,7247,7248,7249,7250,7251,7252,7253,7254,7255,7256,7257,7258,7259,7260,7261,7262,7263,7264,7265,7266,7267,7268,7269,7270,7271,7272,7273,7274,7275,7276,7277,7278,7279,7280,7281,7282,7283,7284,7285,7286,7287,7288,7289,7290,7291,7292,7293,7294,7295,7296,7297,7298,7299,7300,7301,7302,7303,7304,7305,7306,7307,7308,7309,7310,7311,7312,7313,7314,7315,7316,7317,7318,7319,7320,7321,7322,7323,7324,7325,7326,7327,7328,7329,7330,7331,7332,7333,7334,7335,7336,7337,7338,7339,7340,7341,7342,7343,7344,7345,7346,7347,7348,7349,7350,7351,7352,7353,7354,7355,7356,7357,7358,7359,7360,7361,7362,7363,7364,7365,7366,7367,7368,7369,7370,7371,7372,7373,7374,7375,7376,7377,7378,7379,7380,7381,7382,7383,7384,7385,7386,7387,7388,7389,7390,7391,7392,7393,7394,7395,7396,7397,7398,7399,7400,7401,7402,7403,7404,7405,7406,7407,7408,7409,7410,7411,7412,7413,7414,7415,7416,7417,7418,7419,7420,7421,7422,7423,7424,7425,7426,7427,7428,7429,7430,7431,7432,7433,7434,7435,7436,7437,7438,7439,7440,7441,7442,7443,7444,7445,7446,7447,7448,7449,7450,7451,7452,7453,7454,7455,7456,7457,7458,7459,7460,7461,7462,7463,7464,7465,7466,7467,7468,7469,7470,7471,7472,7473,7474,7475,7476,7477,7478,7479,7480,7481,7482,7483,7484,7485,7486,7487,7488,7489,7490,7491,7492,7493,7494,7495,7496,7497,7498,7499,7500,7501,7502,7503,7504,7505,7506,7507,7508,7509,7510,7511,7512,7513,7514,7515,7516,7517,7518,7519,7520,7521,7522,7523,7524,7525,7526,7527,7528,7529,7530,7531,7532,7533,7534,7535,7536,7537,7538,7539,7540,7541,7542,7543,7544,7545,7546,7547,7548,7549,7550,7551,7552,7553,7554,7555,7556,7557,7558,7559,7560,7561,7562,7563,7564,7565,7566,7567,7568,7569,7570,7571,7572,7573,7574,7575,7576,7577,7578,7579,7580,7581,7582,7583,7584,7585,7586,7587,7588,7589,7590,7591,7592,7593,7594,7595,7596,7597,7598,7599,7600,7601,7602,7603,7604,7605,7606,7607,7608,7609,7610,7611,7612,7613,7614,7615,7616,7617,7618,7619,7620,7621,7622,7623,7624,7625,7626,7627,7628,7629,7630,7631,7632,7633,7634,7635,7636,7637,7638,7639,7640,7641,7642,7643,7644,7645,7646,7647,7648,7649,7650,7651,7652,7653,7654,7655,7656,7657,7658,7659,7660,7661,7662,7663,7664,7665,7666,7667,7668,7669,7670,7671,7672,7673,7674,7675,7676,7677,7678,7679,7680,7681,7682,7683,7684,7685,7686,7687,7688,7689,7690,7691,7692,7693,7694,7695,7696,7697,7698,7699,7700,7701,7702,7703,7704,7705,7706,7707,7708,7709,7710,7711,7712,7713,7714,7715,7716,7717,7718,7719,7720,7721,7722,7723,7724,7725,7726,7727,7728,7729,7730,7731,7732,7733,7734,7735,7736,7737,7738,7739,7740,7741,7742,7743,7744,7745,7746,7747,7748,7749,7750,7751,7752,7753,7754,7755,7756,7757,7758,7759,7760,7761,7762,7763,7764,7765,7766,7767,7768,7769,7770,7771,7772,7773,7774,7775,7776,7777,7778,7779,7780,7781,7782,7783,7784,7785,7786,7787,7788,7789,7790,7791,7792,7793,7794,7795,7796,7797,7798,7799,7800,7801,7802,7803,7804,7805,7806,7807,7808,7809,7810,7811,7812,7813,7814,7815,7816,7817,7818,7819,7820,7821,7822,7823,7824,7825,7826,7827,7828,7829,7830,7831,7832,7833,7834,7835,7836,7837,7838,7839,7840,7841,7842,7843,7844,7845,7846,7847,7848,7849,7850,7851,7852,7853,7854,7855,7856,7857,7858,7859,7860,7861,7862,7863,7864,7865,7866,7867,7868,7869,7870,7871,7872,7873,7874,7875,7876,7877,7878,7879,7880,7881,7882,7883,7884,7885,7886,7887,7888,7889,7890,7891,7892,7893,7894,7895,7896,7897,7898,7899,7900,7901,7902,7903,7904,7905,7906,7907,7908,7909,7910,7911,7912,7913,7914,7915,7916,7917,7918,7919,7920,7921,7922,7923,7924,7925,7926,7927,7928,7929,7930,7931,7932,7933,7934,7935,7936,7937,7938,7939,7940,7941,7942,7943,7944,7945,7946,7947,7948,7949,7950,7951,7952,7953,7954,7955,7956,7957,7958,7959,7960,7961,7962,7963,7964,7965,7966,7967,7968,7969,7970,7971,7972,7973,7974,7975,7976,7977,7978,7979,7980,7981,7982,7983,7984,7985,7986,7987,7988,7989,7990,7991,7992,7993,7994,7995,7996,7997,7998,7999,8000,8001,8002,8003,8004,8005,8006,8007,8008,8009,8010,8011,8012,8013,8014,8015,8016,8017,8018,8019,8020,8021,8022,8023,8024,8025,8026,8027,8028,8029,8030,8031,8032,8033,8034,8035,8036,8037,8038,8039,8040,8041,8042,8043,8044,8045,8046,8047,8048,8049,8050,8051,8052,8053,8054,8055,8056,8057,8058,8059,8060,8061,8062,8063,8064,8065,8066,8067,8068,8069,8070,8071,8072,8073,8074,8075,8076,8077,8078,8079,8080,8081,8082,8083,8084,8085,8086,8087,8088,8089,8090,8091,8092,8093,8094,8095,8096,8097,8098,8099,8100,8101,8102,8103,8104,8105,8106,8107,8108,8109,8110,8111,8112,8113,8114,8115,8116,8117,8118,8119,8120,8121,8122,8123,8124,8125,8126,8127,8128,8129,8130,8131,8132,8133,8134,8135,8136,8137,8138,8139,8140,8141,8142,8143,8144,8145,8146,8147,8148,8149,8150,8151,8152,8153,8154,8155,8156,8157,8158,8159,8160,8161,8162,8163,8164,8165,8166,8167,8168,8169,8170,8171,8172,8173,8174,8175,8176,8177,8178,8179,8180,8181,8182,8183,8184,8185,8186,8187,8188,8189,8190,8191,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8203,8204,8205,8206,8207,8208,8209,8210,8211,8212,8213,8214,8215,8216,8217,8218,8219,8220,8221,8222,8223,8224,8225,8226,8227,8228,8229,8230,8231,8232,8233,8234,8235,8236,8237,8238,8239,8240,8241,8242,8243,8244,8245,8246,8247,8248,8249,8250,8251,8252,8253,8254,8255,8256,8257,8258,8259,8260,8261,8262,8263,8264,8265,8266,8267,8268,8269,8270,8271,8272,8273,8274,8275,8276,8277,8278,8279,8280,8281,8282,8283,8284,8285,8286,8287,8288,8289,8290,8291,8292,8293,8294,8295,8296]"] [actionTypes="[3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:49:48.272 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=8297] [version=52]
[2024/05/17 10:49:48.272 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=52] ["take time"=50.00325ms] [job="ID:8297, Type:create table, State:done, SchemaState:public, SchemaID:2, TableID:104, RowCount:0, ArgLen:2, start time: 2024-05-17 10:49:48.085 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:49:48.293 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=8297] [conn=1] [job="ID:8297, Type:create table, State:synced, SchemaState:public, SchemaID:2, TableID:104, RowCount:0, ArgLen:0, start time: 2024-05-17 10:49:48.085 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:49:48.308 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:49:48.328 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=8297]
[2024/05/17 10:49:48.328 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:49:48.328 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:49:48.328 +08:00] [WARN] [adapter.go:1864] ["fail to generate plan info"] [backtrace="github.com/pingcap/tidb/pkg/executor.(*ExecStmt).SummaryStmt.func1.1\n\t/Users/bba/pc/tidb/pkg/executor/adapter.go:1865\ngithub.com/pingcap/tidb/pkg/executor.(*ExecStmt).SummaryStmt.func1\n\t/Users/bba/pc/tidb/pkg/executor/adapter.go:1869\ngithub.com/pingcap/tidb/pkg/util/stmtsummary.newStmtSummaryByDigestElement\n\t/Users/bba/pc/tidb/pkg/util/stmtsummary/statement_summary.go:652\ngithub.com/pingcap/tidb/pkg/util/stmtsummary.(*stmtSummaryByDigest).add.func1\n\t/Users/bba/pc/tidb/pkg/util/stmtsummary/statement_summary.go:604\ngithub.com/pingcap/tidb/pkg/util/stmtsummary.(*stmtSummaryByDigest).add\n\t/Users/bba/pc/tidb/pkg/util/stmtsummary/statement_summary.go:618\ngithub.com/pingcap/tidb/pkg/util/stmtsummary.(*stmtSummaryByDigestMap).AddStatement\n\t/Users/bba/pc/tidb/pkg/util/stmtsummary/statement_summary.go:358\ngithub.com/pingcap/tidb/pkg/util/stmtsummary/v2.Add\n\t/Users/bba/pc/tidb/pkg/util/stmtsummary/v2/stmtsummary.go:541\ngithub.com/pingcap/tidb/pkg/executor.(*ExecStmt).SummaryStmt\n\t/Users/bba/pc/tidb/pkg/executor/adapter.go:1975\ngithub.com/pingcap/tidb/pkg/executor.(*ExecStmt).FinishExecuteStmt\n\t/Users/bba/pc/tidb/pkg/executor/adapter.go:1363\ngithub.com/pingcap/tidb/pkg/session.runStmt\n\t/Users/bba/pc/tidb/pkg/session/session.go:2324\ngithub.com/pingcap/tidb/pkg/session.(*session).ExecuteStmt\n\t/Users/bba/pc/tidb/pkg/session/session.go:2146\ngithub.com/pingcap/tidb/pkg/testkit.(*TestKit).ExecWithContext\n\t/Users/bba/pc/tidb/pkg/testkit/testkit.go:384\ngithub.com/pingcap/tidb/pkg/testkit.(*TestKit).MustExecWithContext\n\t/Users/bba/pc/tidb/pkg/testkit/testkit.go:156\ngithub.com/pingcap/tidb/pkg/testkit.(*TestKit).MustExec\n\t/Users/bba/pc/tidb/pkg/testkit/testkit.go:151\ngithub.com/pingcap/tidb/pkg/planner/core_test.TestTooLongBinaryPlan\n\t/Users/bba/pc/tidb/pkg/planner/core/binary_plan_test.go:148\ntesting.tRunner\n\t/Users/bba/.gvm/gos/go1.21.0/src/testing/testing.go:1595"] [error=null]
[2024/05/17 10:49:48.566 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:49:48.820 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:49:49.078 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:49:49.079 +08:00] [INFO] [runtime.go:160] ["TimerGroupRuntime loop started"] [groupID=ttl]
[2024/05/17 10:49:49.079 +08:00] [INFO] [runtime.go:402] ["create watch chan if possible for timer runtime"] [groupID=ttl] [storeSupportWatch=true]
[2024/05/17 10:49:49.101 +08:00] [INFO] [slots.go:205] ["initialize slot capacity"] [capacity=1]
[2024/05/17 10:49:49.102 +08:00] [INFO] [runaway.go:158] ["preparations for the runaway manager are finished and start runaway manager loop"]
[2024/05/17 10:49:49.102 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=runawayRecordFlushLoop]
[2024/05/17 10:49:49.102 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=runawayWatchSyncLoop]
[2024/05/17 10:49:49.102 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=runawayStartLoop]
[2024/05/17 10:49:49.124 +08:00] [INFO] [scheduler_manager.go:200] ["schedule task loop start"] [server-id=:4000]
[2024/05/17 10:49:49.124 +08:00] [INFO] [scheduler_manager.go:312] ["subtask table gc loop start"] [server-id=:4000]
[2024/05/17 10:49:49.124 +08:00] [INFO] [scheduler_manager.go:373] ["cleanup loop start"] [server-id=:4000]
[2024/05/17 10:49:49.124 +08:00] [INFO] [scheduler_manager.go:453] ["collect loop start"] [server-id=:4000]
[2024/05/17 10:49:49.316 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:49:49.570 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:49:49.824 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:49:50.058 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:49:50.059 +08:00] [INFO] [info.go:1142] [SetTiFlashGroupConfig]
[2024/05/17 10:49:50.316 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:49:50.566 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:49:50.815 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:49:51.073 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:49:51.320 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:49:51.576 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:49:51.808 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:49:52.071 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:49:52.323 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:49:52.574 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:49:52.826 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:49:53.076 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:49:53.323 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:49:53.575 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:49:53.829 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:49:54.080 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:49:54.310 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:49:54.569 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:49:54.819 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:49:55.058 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:49:55.312 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:49:55.577 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:49:55.807 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:49:56.060 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:49:56.308 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:49:56.560 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:49:56.816 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:49:57.059 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:49:57.324 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:49:57.572 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:49:57.822 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:49:58.068 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:49:58.326 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:49:58.575 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:49:58.827 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:49:59.060 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:49:59.308 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:49:59.560 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:49:59.818 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:00.066 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:00.314 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:00.573 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:00.811 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:01.066 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:01.318 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:01.572 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:01.822 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:02.078 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:02.310 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:02.570 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:02.808 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:03.064 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:03.316 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:03.584 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:03.829 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:04.075 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:04.327 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:04.558 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:04.829 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:05.081 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:05.316 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:05.567 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:05.829 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:06.077 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:06.308 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:06.561 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:06.814 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:07.069 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:07.312 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:07.562 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:07.810 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:08.062 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:08.312 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:08.570 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:08.824 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:09.059 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:09.321 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:09.560 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:09.813 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:10.069 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:10.348 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:10.559 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:10.810 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:11.072 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:11.321 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:11.576 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:11.825 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:12.067 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:12.311 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:12.564 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:12.819 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:13.066 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:13.309 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:13.563 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:13.811 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:14.060 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:14.318 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:14.563 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:14.813 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:15.066 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:15.309 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:15.565 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:15.817 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:16.078 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:16.317 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:16.575 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:16.812 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:17.071 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:17.310 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:17.578 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:17.829 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:18.082 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:18.319 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:18.568 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:18.826 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:19.074 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:19.313 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:19.568 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:19.819 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:20.073 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:20.326 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:20.572 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:20.822 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:21.093 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:21.319 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:21.558 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:21.808 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:22.075 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:22.312 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:22.566 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:22.822 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:23.078 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:23.308 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:23.571 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:23.821 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:24.064 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:24.318 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:24.568 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:24.816 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:25.064 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:25.319 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:25.565 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:25.820 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:26.074 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:26.321 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:26.576 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:26.826 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:27.059 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:27.319 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:27.568 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:27.816 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:28.076 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:28.310 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:28.577 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:28.819 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:29.075 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:29.331 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:29.564 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:29.821 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:30.076 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:30.317 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:30.578 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:30.811 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:31.070 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:31.316 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:31.574 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:31.816 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:32.100 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:32.326 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:32.579 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:32.815 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:33.079 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:33.319 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:33.582 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:33.809 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:34.065 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:34.310 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:34.562 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:34.823 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:35.069 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:35.355 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:35.580 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:35.831 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:36.063 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:36.319 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:36.565 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:36.816 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:37.065 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:37.316 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:37.565 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:37.828 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:38.102 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:38.309 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:38.557 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:38.832 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:39.066 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:39.329 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:39.564 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:39.811 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:40.067 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:40.329 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:40.565 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:40.825 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:41.059 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:41.314 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:41.570 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:41.826 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:42.072 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:42.351 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:42.561 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:42.814 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:43.075 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:43.324 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:43.577 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:43.830 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:44.062 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:44.314 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:44.564 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:44.829 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:45.059 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:45.317 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:45.599 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:45.813 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:46.062 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:46.315 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:46.572 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:46.809 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:47.070 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:47.327 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:47.578 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:47.812 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:48.070 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:48.326 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:48.581 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:48.813 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:49.070 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:49.317 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:49.559 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:49.808 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:50.061 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:50.318 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:50.561 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:50.817 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:51.065 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:51.321 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:51.558 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:51.809 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:52.073 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:52.324 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:52.572 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:52.810 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:53.060 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:53.313 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:53.566 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:53.817 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:54.071 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:54.315 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:54.568 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:54.817 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:55.073 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:55.321 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:55.561 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:55.810 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:56.065 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:56.320 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:56.570 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:56.832 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:57.061 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:57.313 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:57.574 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:57.827 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:58.078 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:58.312 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:58.566 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:58.825 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:59.078 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:59.308 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:59.558 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:50:59.812 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:51:00.062 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:51:00.309 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:51:00.563 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:51:00.819 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:51:01.104 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:51:01.313 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:51:01.562 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:51:01.816 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:51:02.074 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:51:02.327 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:51:02.560 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:51:02.816 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:51:03.073 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:51:03.334 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:51:03.573 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:51:03.821 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:51:04.071 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:51:04.323 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:51:04.574 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:51:04.830 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:51:05.058 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:51:05.315 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:51:05.583 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:51:05.821 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:51:06.067 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:51:06.312 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:51:06.562 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:51:06.819 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:51:07.069 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:51:07.321 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:51:07.558 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:51:07.824 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:51:08.065 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:51:08.316 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:51:08.569 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:51:08.821 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:51:09.139 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:51:09.314 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:51:09.573 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:51:09.846 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:51:10.095 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:51:10.321 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:51:10.571 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:51:10.814 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:51:11.066 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:51:11.308 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:51:11.577 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:51:11.811 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:51:12.069 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:51:12.327 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:51:12.582 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:51:12.831 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:51:13.074 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:51:13.329 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:51:13.581 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:51:13.809 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:51:14.069 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:51:14.330 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:51:14.579 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:51:14.830 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:51:15.059 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:51:15.315 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:51:15.561 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:51:15.823 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:51:16.070 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:51:16.308 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:51:16.582 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:51:16.815 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:51:17.076 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:51:17.313 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:51:17.566 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:51:17.811 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:51:18.066 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:51:18.318 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:51:18.581 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:51:18.811 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:51:19.062 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:51:19.308 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:51:19.572 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:51:19.815 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:51:20.071 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:51:20.313 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:51:20.564 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:51:20.816 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:51:21.097 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:51:21.320 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:51:21.575 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:51:21.816 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:51:22.060 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:51:22.311 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:51:22.569 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:51:22.831 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:51:23.072 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:51:23.324 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:51:23.574 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:51:23.817 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:51:24.062 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:51:24.331 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:51:24.561 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:51:24.816 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:51:25.066 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:51:25.317 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:51:25.567 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:51:25.810 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:51:26.062 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:51:26.314 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:51:26.573 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:51:26.831 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:51:27.059 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:51:27.326 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:51:27.558 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:51:27.811 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:51:28.064 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:51:28.315 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:51:28.571 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:51:28.824 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:51:29.074 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:51:29.322 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:51:29.568 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:51:29.826 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:51:30.068 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:51:30.324 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:51:30.573 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:51:30.825 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:51:31.063 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:51:31.313 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:51:31.565 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:51:31.816 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:51:32.074 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:51:32.323 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:51:32.560 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:51:32.822 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:51:33.082 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:51:33.313 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:51:33.560 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:51:33.813 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:51:34.069 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:51:34.324 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:51:34.562 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:51:34.837 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:51:35.086 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:51:35.327 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:51:35.578 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:51:35.825 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:51:36.079 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:51:36.331 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:51:36.560 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:51:36.817 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:51:37.059 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:51:37.324 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:51:37.560 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:51:37.853 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:51:38.065 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:51:38.318 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:51:38.577 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:51:38.808 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:51:39.073 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:51:39.321 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:51:39.579 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:51:39.829 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:51:40.065 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:51:40.310 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:51:40.570 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:51:40.851 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:51:41.066 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:51:41.327 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:51:41.578 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:51:41.811 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:51:42.068 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:51:42.331 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:51:42.563 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:51:42.823 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:51:43.058 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:51:43.317 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:51:43.570 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:51:43.817 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:51:44.071 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:51:44.322 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:51:44.573 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:51:44.827 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:51:45.084 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:51:45.318 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:51:45.575 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:51:45.822 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:51:46.074 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:51:46.337 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:51:46.569 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
[2024/05/17 10:51:46.824 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816608957005824] ["schema version"=52]
panic: test timed out after 2m0s
running tests:
	TestTooLongBinaryPlan (2m0s)

goroutine 248686 [running]:
testing.(*M).startAlarm.func1()
	/Users/bba/.gvm/gos/go1.21.0/src/testing/testing.go:2259 +0x320
created by time.goFunc
	/Users/bba/.gvm/gos/go1.21.0/src/time/sleep.go:176 +0x38

goroutine 1 [chan receive, 2 minutes]:
testing.(*T).Run(0x14001103520, {0x107f2bf68?, 0x80dad5c8ba600?}, 0x1094bac00)
	/Users/bba/.gvm/gos/go1.21.0/src/testing/testing.go:1649 +0x350
testing.runTests.func1(0x14001103520?)
	/Users/bba/.gvm/gos/go1.21.0/src/testing/testing.go:2054 +0x48
testing.tRunner(0x14001103520, 0x14000e1fa18)
	/Users/bba/.gvm/gos/go1.21.0/src/testing/testing.go:1595 +0xe8
testing.runTests(0x140007e7b80?, {0x10c34ee20, 0x108, 0x108}, {0x115a99020?, 0x10ddb4108?, 0x10c57afa0?})
	/Users/bba/.gvm/gos/go1.21.0/src/testing/testing.go:2052 +0x3b4
testing.(*M).Run(0x140007e7b80)
	/Users/bba/.gvm/gos/go1.21.0/src/testing/testing.go:1925 +0x534
github.com/pingcap/tidb/pkg/testkit/testmain.(*testingM).Run(0x14000fb6db0)
	/Users/bba/pc/tidb/pkg/testkit/testmain/wrapper.go:27 +0x30
go.uber.org/goleak.VerifyTestMain({0x1094d8018?, 0x14000fb6db0?}, {0x14000d45df8, 0x7, 0x7})
	/Users/bba/.gvm/pkgsets/go1.21.0/global/pkg/mod/go.uber.org/goleak@v1.3.0/testmain.go:53 +0x44
github.com/pingcap/tidb/pkg/planner/core.TestMain(0x140007e7b80)
	/Users/bba/pc/tidb/pkg/planner/core/main_test.go:57 +0x634
main.main()
	_testmain.go:615 +0x1ac

goroutine 11 [select]:
github.com/golang/glog.(*fileSink).flushDaemon(0x10c57b038)
	/Users/bba/.gvm/pkgsets/go1.21.0/global/pkg/mod/github.com/golang/glog@v1.2.0/glog_file.go:351 +0xa8
created by github.com/golang/glog.init.1 in goroutine 1
	/Users/bba/.gvm/pkgsets/go1.21.0/global/pkg/mod/github.com/golang/glog@v1.2.0/glog_file.go:166 +0x150

goroutine 12 [select]:
go.opencensus.io/stats/view.(*worker).start(0x1400015d200)
	/Users/bba/.gvm/pkgsets/go1.21.0/global/pkg/mod/go.opencensus.io@v0.24.0/stats/view/worker.go:292 +0x88
created by go.opencensus.io/stats/view.init.0 in goroutine 1
	/Users/bba/.gvm/pkgsets/go1.21.0/global/pkg/mod/go.opencensus.io@v0.24.0/stats/view/worker.go:34 +0x98

goroutine 74 [select]:
github.com/pingcap/badger/epoch.(*ResourceManager).collectLoop(0x140011036c0?, 0x14000fb7170)
	/Users/bba/.gvm/pkgsets/go1.21.0/global/pkg/mod/github.com/pingcap/badger@v1.5.1-0.20230103063557-828f39b09b6d/epoch/manager.go:101 +0xa8
created by github.com/pingcap/badger/epoch.NewResourceManager in goroutine 72
	/Users/bba/.gvm/pkgsets/go1.21.0/global/pkg/mod/github.com/pingcap/badger@v1.5.1-0.20230103063557-828f39b09b6d/epoch/manager.go:79 +0xd8

goroutine 73 [runnable]:
github.com/pingcap/badger.(*DB).updateSize(0x0?, 0x14000fb7140)
	/Users/bba/.gvm/pkgsets/go1.21.0/global/pkg/mod/github.com/pingcap/badger@v1.5.1-0.20230103063557-828f39b09b6d/db.go:1041 +0xd4
created by github.com/pingcap/badger.Open in goroutine 72
	/Users/bba/.gvm/pkgsets/go1.21.0/global/pkg/mod/github.com/pingcap/badger@v1.5.1-0.20230103063557-828f39b09b6d/db.go:328 +0xd08

goroutine 75 [select, 2 minutes]:
github.com/pingcap/badger.Open.func4()
	/Users/bba/.gvm/pkgsets/go1.21.0/global/pkg/mod/github.com/pingcap/badger@v1.5.1-0.20230103063557-828f39b09b6d/db.go:342 +0x148
created by github.com/pingcap/badger.Open in goroutine 72
	/Users/bba/.gvm/pkgsets/go1.21.0/global/pkg/mod/github.com/pingcap/badger@v1.5.1-0.20230103063557-828f39b09b6d/db.go:339 +0xf88

goroutine 72 [runnable]:
encoding/json.structEncoder.encode({{{0x14000748480, 0x6, 0x8}, 0x1400071cd50, 0x1400071cd80}}, 0x1400a38ee00, {0x1091ce960?, 0x14011a75de0?, 0x2?}, {0x54?, ...})
	/Users/bba/.gvm/gos/go1.21.0/src/encoding/json/encode.go:706 +0x190
encoding/json.arrayEncoder.encode({0x14009bc2af8?}, 0x1400a38ee00, {0x108b8de00?, 0x14009b2d338?, 0x14009bc2b48?}, {0x4?, 0x0?})
	/Users/bba/.gvm/gos/go1.21.0/src/encoding/json/encode.go:849 +0xc8
encoding/json.sliceEncoder.encode({0x14009bc2c58?}, 0x1400a38ee00, {0x108b8de00?, 0x14009b2d338?, 0x2?}, {0xe?, 0x0?})
	/Users/bba/.gvm/gos/go1.21.0/src/encoding/json/encode.go:822 +0x260
encoding/json.structEncoder.encode({{{0x14000b44400, 0x10, 0x10}, 0x1400071cf30, 0x1400071cf60}}, 0x1400a38ee00, {0x109365660?, 0x14009b2d300?, 0x0?}, {0x0?, ...})
	/Users/bba/.gvm/gos/go1.21.0/src/encoding/json/encode.go:706 +0x190
encoding/json.ptrEncoder.encode({0x14009bc2e78?}, 0x1400a38ee00, {0x109169e40?, 0x14004eb1b78?, 0xb?}, {0xc?, 0x0?})
	/Users/bba/.gvm/gos/go1.21.0/src/encoding/json/encode.go:878 +0x1c4
encoding/json.structEncoder.encode({{{0x14000a84c00, 0x2b, 0x47}, 0x1400071da40, 0x1400071da70}}, 0x1400a38ee00, {0x10948a700?, 0x14004eb1a40?, 0x19?}, {0x42?, ...})
	/Users/bba/.gvm/gos/go1.21.0/src/encoding/json/encode.go:706 +0x190
encoding/json.ptrEncoder.encode({0x14009bc3098?}, 0x1400a38ee00, {0x10936b860?, 0x14004eb1a40?, 0x14009bc30a8?}, {0xdc?, 0xee?})
	/Users/bba/.gvm/gos/go1.21.0/src/encoding/json/encode.go:878 +0x1c4
encoding/json.(*encodeState).reflectValue(0x14009bc3148?, {0x10936b860?, 0x14004eb1a40?, 0x104f0f820?}, {0x10?, 0x90?})
	/Users/bba/.gvm/gos/go1.21.0/src/encoding/json/encode.go:323 +0x70
encoding/json.(*encodeState).marshal(0x0?, {0x10936b860?, 0x14004eb1a40?}, {0xf0?, 0x73?})
	/Users/bba/.gvm/gos/go1.21.0/src/encoding/json/encode.go:295 +0xb8
encoding/json.Marshal({0x10936b860, 0x14004eb1a40})
	/Users/bba/.gvm/gos/go1.21.0/src/encoding/json/encode.go:162 +0x94
github.com/pingcap/tidb/pkg/infoschema.tblEqual({0x117873c80, 0x1400a37f680}, {0x117873c80, 0x1400a37fc20})
	/Users/bba/pc/tidb/pkg/infoschema/infoschema_v3.go:53 +0x13c
github.com/pingcap/tidb/pkg/infoschema.(*InfoschemaV3).FindTableByPartitionID(0x14008e5d010, 0x1075c0ef8?)
	/Users/bba/pc/tidb/pkg/infoschema/infoschema_v3.go:411 +0x7c
github.com/pingcap/tidb/pkg/infoschema.FindTableByTblOrPartID({0x109549a00, 0x1401e9260f0}, 0x108930008?)
	/Users/bba/pc/tidb/pkg/infoschema/infoschema.go:816 +0x5c
github.com/pingcap/tidb/pkg/planner/core.getTblInfoForUsedStatsByPhysicalID({0x109548a00?, 0x14008f9ec80}, 0x14005c12280?)
	/Users/bba/pc/tidb/pkg/planner/core/stats.go:229 +0xb0
github.com/pingcap/tidb/pkg/planner/core.(*DataSource).initStats(0x140179dd8c0, {0x0, 0x0, 0x0})
	/Users/bba/pc/tidb/pkg/planner/core/stats.go:263 +0x188
github.com/pingcap/tidb/pkg/planner/core.(*DataSource).DeriveStats(0x140179dd8c0, {0x104d8ec10?, 0x14009bc3848?, 0x1075c080c?}, 0xb78?, {0x1?, 0x14008c84ee8?, 0x2?}, {0x0?, 0x14000ea7dd0?, ...})
	/Users/bba/pc/tidb/pkg/planner/core/stats.go:474 +0x78
github.com/pingcap/tidb/pkg/planner/core.(*baseLogicalPlan).RecursiveDeriveStats(0x140179dd8e0, {0x0, 0x0, 0x0})
	/Users/bba/pc/tidb/pkg/planner/core/stats.go:144 +0x204
github.com/pingcap/tidb/pkg/planner/core.(*baseLogicalPlan).RecursiveDeriveStats(0x14008057060, {0x0, 0x0, 0x0})
	/Users/bba/pc/tidb/pkg/planner/core/stats.go:137 +0x114
github.com/pingcap/tidb/pkg/planner/core.(*baseSingleGroupJoinOrderSolver).generateJoinOrderNode(0x14009bc3a38?, {0x14020e62be0, 0x6, 0x140080ebdf0?}, 0x14009bc3a58?)
	/Users/bba/pc/tidb/pkg/planner/core/rule_join_reorder.go:477 +0xc0
github.com/pingcap/tidb/pkg/planner/core.(*joinReorderGreedySolver).solve(0x14009bc3cc8, {0x14020e62be0?, 0x14008f9ec80?, 0x10957ac40?}, 0x140081bc820?)
	/Users/bba/pc/tidb/pkg/planner/core/rule_join_reorder_greedy.go:48 +0x34
github.com/pingcap/tidb/pkg/planner/core.(*joinReOrderSolver).optimizeRecursive(0x10957aeb0?, {0x109548a00, 0x14008f9ec80}, {0x10957a898?, 0x14006921200}, 0x1400649af00?)
	/Users/bba/pc/tidb/pkg/planner/core/rule_join_reorder.go:297 +0x4ec
github.com/pingcap/tidb/pkg/planner/core.(*joinReOrderSolver).optimizeRecursive(0x10957ab08?, {0x109548a00, 0x14008f9ec80}, {0x10957aeb0?, 0x140005e43c0}, 0x10957be88?)
	/Users/bba/pc/tidb/pkg/planner/core/rule_join_reorder.go:335 +0x1b8
github.com/pingcap/tidb/pkg/planner/core.(*joinReOrderSolver).optimizeRecursive(0x0?, {0x109548a00, 0x14008f9ec80}, {0x10957ab08?, 0x140072af2c0}, 0x1074d33a8?)
	/Users/bba/pc/tidb/pkg/planner/core/rule_join_reorder.go:335 +0x1b8
github.com/pingcap/tidb/pkg/planner/core.(*joinReOrderSolver).optimize(0x1094e61d8?, {0x10c5b3ba0?, 0x107efe738?}, {0x10957ab08, 0x140072af2c0}, 0x140080ebdf0)
	/Users/bba/pc/tidb/pkg/planner/core/rule_join_reorder.go:231 +0x84
github.com/pingcap/tidb/pkg/planner/core.logicalOptimize({0x10950a160, 0x10c5b3ba0}, 0x7fdb4a, {0x10957ab08, 0x140072af2c0})
	/Users/bba/pc/tidb/pkg/planner/core/optimizer.go:1005 +0x330
github.com/pingcap/tidb/pkg/planner/core.doOptimize({0x10950a160, 0x10c5b3ba0}, {0x109548a00?, 0x14008f9ec80?}, 0x14009bc44d8?, {0x10957ab08, 0x140072af2c0})
	/Users/bba/pc/tidb/pkg/planner/core/optimizer.go:289 +0x78
github.com/pingcap/tidb/pkg/planner/core.DoOptimize({0x10950a160, 0x10c5b3ba0}, {0x109548a00, 0x14008f9ec80}, 0x1400078aa80?, {0x10957ab08, 0x140072af2c0})
	/Users/bba/pc/tidb/pkg/planner/core/optimizer.go:348 +0xd0
github.com/pingcap/tidb/pkg/planner.optimize({0x10950a160, 0x10c5b3ba0}, {0x109548a00?, 0x14008f9ec80}, {0x1095159a8, 0x14008a28ea0}, {0x1095495b0, 0x14006a1d2c0})
	/Users/bba/pc/tidb/pkg/planner/optimize.go:503 +0x6ec
github.com/pingcap/tidb/pkg/planner.Optimize({0x10950a160, 0x10c5b3ba0}, {0x109583080, 0x140099d5680?}, {0x1095159a8, 0x14008a28ea0}, {0x1095495b0, 0x14006a1d2c0})
	/Users/bba/pc/tidb/pkg/planner/optimize.go:334 +0x1238
github.com/pingcap/tidb/pkg/executor.(*Compiler).Compile(0x14009bc57d0, {0x10950a160?, 0x10c5b3ba0?}, {0x10951f430?, 0x14008a28ea0})
	/Users/bba/pc/tidb/pkg/executor/compiler.go:99 +0x390
github.com/pingcap/tidb/pkg/session.(*session).ExecuteStmt(0x140099d5680, {0x10950a160?, 0x10c5b3ba0?}, {0x10951f430, 0x14008a28ea0?})
	/Users/bba/pc/tidb/pkg/session/session.go:2094 +0x70c
github.com/pingcap/tidb/pkg/testkit.(*TestKit).ExecWithContext(0x140082b7e00, {0x10950a160, 0x10c5b3ba0}, {0x10808c63d, 0x99}, {0x0, 0x0, 0x0})
	/Users/bba/pc/tidb/pkg/testkit/testkit.go:384 +0x734
github.com/pingcap/tidb/pkg/testkit.(*TestKit).MustQueryWithContext(0x140082b7e00, {0x10950a160, 0x10c5b3ba0}, {0x10808c63d, 0x99}, {0x0, 0x0, 0x0})
	/Users/bba/pc/tidb/pkg/testkit/testkit.go:195 +0xc8
github.com/pingcap/tidb/pkg/testkit.(*TestKit).MustQuery(0x140082b7e00?, {0x10808c63d?, 0x5d?}, {0x0?, 0x0?, 0x0?})
	/Users/bba/pc/tidb/pkg/testkit/testkit.go:173 +0x78
github.com/pingcap/tidb/pkg/planner/core_test.TestTooLongBinaryPlan(0x140011036c0)
	/Users/bba/pc/tidb/pkg/planner/core/binary_plan_test.go:149 +0x608
testing.tRunner(0x140011036c0, 0x1094bac00)
	/Users/bba/.gvm/gos/go1.21.0/src/testing/testing.go:1595 +0xe8
created by testing.(*T).Run in goroutine 1
	/Users/bba/.gvm/gos/go1.21.0/src/testing/testing.go:1648 +0x33c

goroutine 76 [select, 1 minutes]:
github.com/pingcap/badger.(*blobGCHandler).run(0x14000d51900, 0x14000fb6108)
	/Users/bba/.gvm/pkgsets/go1.21.0/global/pkg/mod/github.com/pingcap/badger@v1.5.1-0.20230103063557-828f39b09b6d/blob.go:468 +0xa0
created by github.com/pingcap/badger.(*blobManager).Open in goroutine 72
	/Users/bba/.gvm/pkgsets/go1.21.0/global/pkg/mod/github.com/pingcap/badger@v1.5.1-0.20230103063557-828f39b09b6d/blob.go:292 +0x770

goroutine 77 [select]:
github.com/pingcap/badger.(*levelsController).runWorker(0x14000fb48c0, 0x14000fb6138, 0x0)
	/Users/bba/.gvm/pkgsets/go1.21.0/global/pkg/mod/github.com/pingcap/badger@v1.5.1-0.20230103063557-828f39b09b6d/levels.go:212 +0x184
created by github.com/pingcap/badger.(*levelsController).startCompact in goroutine 72
	/Users/bba/.gvm/pkgsets/go1.21.0/global/pkg/mod/github.com/pingcap/badger@v1.5.1-0.20230103063557-828f39b09b6d/levels.go:180 +0x74

goroutine 78 [chan receive, 1 minutes]:
github.com/pingcap/badger.(*DB).runFlushMemTable(0x1400028c900, 0x0?)
	/Users/bba/.gvm/pkgsets/go1.21.0/global/pkg/mod/github.com/pingcap/badger@v1.5.1-0.20230103063557-828f39b09b6d/db.go:922 +0xa0
created by github.com/pingcap/badger.Open in goroutine 72
	/Users/bba/.gvm/pkgsets/go1.21.0/global/pkg/mod/github.com/pingcap/badger@v1.5.1-0.20230103063557-828f39b09b6d/db.go:361 +0x1288

goroutine 116 [chan receive, 1 minutes]:
github.com/pingcap/badger.(*writeWorker).runMergeLSM(0x14000534420?, 0x14000fb6180?)
	/Users/bba/.gvm/pkgsets/go1.21.0/global/pkg/mod/github.com/pingcap/badger@v1.5.1-0.20230103063557-828f39b09b6d/writer.go:154 +0x88
created by github.com/pingcap/badger.startWriteWorker in goroutine 72
	/Users/bba/.gvm/pkgsets/go1.21.0/global/pkg/mod/github.com/pingcap/badger@v1.5.1-0.20230103063557-828f39b09b6d/writer.go:66 +0x274

goroutine 115 [chan receive, 1 minutes, locked to thread]:
github.com/pingcap/badger.(*writeWorker).runWriteLSM(0x14000534480, 0x0?)
	/Users/bba/.gvm/pkgsets/go1.21.0/global/pkg/mod/github.com/pingcap/badger@v1.5.1-0.20230103063557-828f39b09b6d/writer.go:141 +0x118
created by github.com/pingcap/badger.startWriteWorker in goroutine 72
	/Users/bba/.gvm/pkgsets/go1.21.0/global/pkg/mod/github.com/pingcap/badger@v1.5.1-0.20230103063557-828f39b09b6d/writer.go:65 +0x224

goroutine 114 [select, 1 minutes]:
github.com/pingcap/badger.(*writeWorker).runWriteVLog(0x14000534480, 0x14000fb6510)
	/Users/bba/.gvm/pkgsets/go1.21.0/global/pkg/mod/github.com/pingcap/badger@v1.5.1-0.20230103063557-828f39b09b6d/writer.go:94 +0xbc
created by github.com/pingcap/badger.startWriteWorker in goroutine 72
	/Users/bba/.gvm/pkgsets/go1.21.0/global/pkg/mod/github.com/pingcap/badger@v1.5.1-0.20230103063557-828f39b09b6d/writer.go:64 +0x1d4

goroutine 117 [select, 1 minutes]:
github.com/pingcap/tidb/pkg/store/mockstore/unistore/tikv.writeDBWorker.run({0x14000197500?, 0x14000d51a40?})
	/Users/bba/pc/tidb/pkg/store/mockstore/unistore/tikv/write.go:97 +0xe0
created by github.com/pingcap/tidb/pkg/store/mockstore/unistore/tikv.(*dbWriter).Open in goroutine 72
	/Users/bba/pc/tidb/pkg/store/mockstore/unistore/tikv/write.go:200 +0xc0

goroutine 118 [select, 1 minutes]:
github.com/pingcap/tidb/pkg/store/mockstore/unistore/tikv.writeLockWorker.run({0x14000197560?, 0x14000d51a40?})
	/Users/bba/pc/tidb/pkg/store/mockstore/unistore/tikv/write.go:149 +0xf4
created by github.com/pingcap/tidb/pkg/store/mockstore/unistore/tikv.(*dbWriter).Open in goroutine 72
	/Users/bba/pc/tidb/pkg/store/mockstore/unistore/tikv/write.go:207 +0x150

goroutine 119 [select]:
github.com/pingcap/tidb/pkg/store/mockstore/unistore/tikv.(*MVCCStore).runUpdateSafePointLoop(0x14000c2e080)
	/Users/bba/pc/tidb/pkg/store/mockstore/unistore/tikv/mvcc.go:2015 +0x1a4
created by github.com/pingcap/tidb/pkg/store/mockstore/unistore/tikv.NewMVCCStore in goroutine 72
	/Users/bba/pc/tidb/pkg/store/mockstore/unistore/tikv/mvcc.go:87 +0x2e4

goroutine 120 [select, 1 minutes]:
github.com/pingcap/tidb/pkg/store/mockstore/unistore/tikv.(*MVCCStore).StartDeadlockDetection.func1()
	/Users/bba/pc/tidb/pkg/store/mockstore/unistore/tikv/mvcc.go:1688 +0x6c
created by github.com/pingcap/tidb/pkg/store/mockstore/unistore/tikv.(*MVCCStore).StartDeadlockDetection in goroutine 72
	/Users/bba/pc/tidb/pkg/store/mockstore/unistore/tikv/mvcc.go:1686 +0xb4

goroutine 121 [select]:
github.com/tikv/client-go/v2/oracle/oracles.(*pdOracle).updateTS(0x14000d51e40, {0x10950a208, 0x10c5b3ba0})
	/Users/bba/.gvm/pkgsets/go1.21.0/global/pkg/mod/github.com/tikv/client-go/v2@v2.0.8-0.20240516031922-38e0dca30c8c/oracle/oracles/pd.go:249 +0xc0
created by github.com/tikv/client-go/v2/oracle/oracles.NewPdOracle in goroutine 72
	/Users/bba/.gvm/pkgsets/go1.21.0/global/pkg/mod/github.com/tikv/client-go/v2@v2.0.8-0.20240516031922-38e0dca30c8c/oracle/oracles/pd.go:88 +0x130

goroutine 122 [select]:
github.com/tikv/client-go/v2/internal/locate.(*bgRunner).scheduleWithTrigger.func1()
	/Users/bba/.gvm/pkgsets/go1.21.0/global/pkg/mod/github.com/tikv/client-go/v2@v2.0.8-0.20240516031922-38e0dca30c8c/internal/locate/region_cache.go:598 +0x10c
created by github.com/tikv/client-go/v2/internal/locate.(*bgRunner).scheduleWithTrigger in goroutine 72
	/Users/bba/.gvm/pkgsets/go1.21.0/global/pkg/mod/github.com/tikv/client-go/v2@v2.0.8-0.20240516031922-38e0dca30c8c/internal/locate/region_cache.go:590 +0xdc

goroutine 123 [select]:
github.com/tikv/client-go/v2/internal/locate.(*bgRunner).schedule.func1()
	/Users/bba/.gvm/pkgsets/go1.21.0/global/pkg/mod/github.com/tikv/client-go/v2@v2.0.8-0.20240516031922-38e0dca30c8c/internal/locate/region_cache.go:572 +0xcc
created by github.com/tikv/client-go/v2/internal/locate.(*bgRunner).schedule in goroutine 72
	/Users/bba/.gvm/pkgsets/go1.21.0/global/pkg/mod/github.com/tikv/client-go/v2@v2.0.8-0.20240516031922-38e0dca30c8c/internal/locate/region_cache.go:565 +0xc8

goroutine 124 [select]:
github.com/tikv/client-go/v2/internal/locate.(*bgRunner).schedule.func1()
	/Users/bba/.gvm/pkgsets/go1.21.0/global/pkg/mod/github.com/tikv/client-go/v2@v2.0.8-0.20240516031922-38e0dca30c8c/internal/locate/region_cache.go:572 +0xcc
created by github.com/tikv/client-go/v2/internal/locate.(*bgRunner).schedule in goroutine 72
	/Users/bba/.gvm/pkgsets/go1.21.0/global/pkg/mod/github.com/tikv/client-go/v2@v2.0.8-0.20240516031922-38e0dca30c8c/internal/locate/region_cache.go:565 +0xc8

goroutine 125 [select]:
github.com/tikv/client-go/v2/internal/locate.(*bgRunner).schedule.func1()
	/Users/bba/.gvm/pkgsets/go1.21.0/global/pkg/mod/github.com/tikv/client-go/v2@v2.0.8-0.20240516031922-38e0dca30c8c/internal/locate/region_cache.go:572 +0xcc
created by github.com/tikv/client-go/v2/internal/locate.(*bgRunner).schedule in goroutine 72
	/Users/bba/.gvm/pkgsets/go1.21.0/global/pkg/mod/github.com/tikv/client-go/v2@v2.0.8-0.20240516031922-38e0dca30c8c/internal/locate/region_cache.go:565 +0xc8

goroutine 126 [select]:
github.com/tikv/client-go/v2/tikv.(*KVStore).runSafePointChecker(0x14000fee840)
	/Users/bba/.gvm/pkgsets/go1.21.0/global/pkg/mod/github.com/tikv/client-go/v2@v2.0.8-0.20240516031922-38e0dca30c8c/tikv/kv.go:315 +0xd0
created by github.com/tikv/client-go/v2/tikv.NewKVStore in goroutine 72
	/Users/bba/.gvm/pkgsets/go1.21.0/global/pkg/mod/github.com/tikv/client-go/v2@v2.0.8-0.20240516031922-38e0dca30c8c/tikv/kv.go:267 +0x4dc

goroutine 127 [select]:
github.com/tikv/client-go/v2/tikv.(*KVStore).safeTSUpdater(0x14000fee840)
	/Users/bba/.gvm/pkgsets/go1.21.0/global/pkg/mod/github.com/tikv/client-go/v2@v2.0.8-0.20240516031922-38e0dca30c8c/tikv/kv.go:665 +0x1e0
created by github.com/tikv/client-go/v2/tikv.NewKVStore in goroutine 72
	/Users/bba/.gvm/pkgsets/go1.21.0/global/pkg/mod/github.com/tikv/client-go/v2@v2.0.8-0.20240516031922-38e0dca30c8c/tikv/kv.go:268 +0x51c

goroutine 128 [select]:
github.com/dgraph-io/ristretto.(*defaultPolicy).processItems(0x14000d51f00)
	/Users/bba/.gvm/pkgsets/go1.21.0/global/pkg/mod/github.com/dgraph-io/ristretto@v0.1.1/policy.go:102 +0x64
created by github.com/dgraph-io/ristretto.newDefaultPolicy in goroutine 72
	/Users/bba/.gvm/pkgsets/go1.21.0/global/pkg/mod/github.com/dgraph-io/ristretto@v0.1.1/policy.go:86 +0x138

goroutine 129 [select]:
github.com/dgraph-io/ristretto.(*Cache).processItems(0x14000c2e280)
	/Users/bba/.gvm/pkgsets/go1.21.0/global/pkg/mod/github.com/dgraph-io/ristretto@v0.1.1/cache.go:452 +0xfc
created by github.com/dgraph-io/ristretto.NewCache in goroutine 72
	/Users/bba/.gvm/pkgsets/go1.21.0/global/pkg/mod/github.com/dgraph-io/ristretto@v0.1.1/cache.go:207 +0x608

goroutine 248671 [semacquire]:
sync.runtime_Semacquire(0x140007a5f35?)
	/Users/bba/.gvm/gos/go1.21.0/src/runtime/sema.go:62 +0x2c
sync.(*WaitGroup).Wait(0x1401d1032c0)
	/Users/bba/.gvm/gos/go1.21.0/src/sync/waitgroup.go:116 +0x74
github.com/pingcap/tidb/pkg/executor/aggregate.(*HashAggExec).waitAllWorkersAndCloseFinalOutputCh(0x1401cad9340, {0x140007a5fb0, 0x3, 0x109583080?})
	/Users/bba/pc/tidb/pkg/executor/aggregate/agg_hash_executor.go:540 +0x38
created by github.com/pingcap/tidb/pkg/executor/aggregate.(*HashAggExec).prepare4ParallelExec in goroutine 248648
	/Users/bba/pc/tidb/pkg/executor/aggregate/agg_hash_executor.go:592 +0x4d0

goroutine 16002 [select]:
github.com/pingcap/tidb/pkg/ttl/ttlworker.(*ttlScanWorker).loop(0x1400a142fc0)
	/Users/bba/pc/tidb/pkg/ttl/ttlworker/scan.go:315 +0x10c
github.com/pingcap/tidb/pkg/ttl/ttlworker.(*baseWorker).loop(0x0?)
	/Users/bba/pc/tidb/pkg/ttl/ttlworker/worker.go:134 +0x60
github.com/pingcap/tidb/pkg/util.(*WaitGroupWrapper).Run.func1()
	/Users/bba/pc/tidb/pkg/util/wait_group_wrapper.go:157 +0x58
created by github.com/pingcap/tidb/pkg/util.(*WaitGroupWrapper).Run in goroutine 15996
	/Users/bba/pc/tidb/pkg/util/wait_group_wrapper.go:155 +0x7c

goroutine 15903 [select, 1 minutes]:
github.com/pingcap/tidb/pkg/ddl.(*ddl).limitDDLJobs(0x14007a52c60, 0x14008daa120, 0x140063eff88)
	/Users/bba/pc/tidb/pkg/ddl/ddl_worker.go:221 +0xe0
github.com/pingcap/tidb/pkg/ddl.(*ddl).Start.func1()
	/Users/bba/pc/tidb/pkg/ddl/ddl.go:821 +0x3c
github.com/pingcap/tidb/pkg/util.(*WaitGroupWrapper).Run.func1()
	/Users/bba/pc/tidb/pkg/util/wait_group_wrapper.go:157 +0x58
created by github.com/pingcap/tidb/pkg/util.(*WaitGroupWrapper).Run in goroutine 72
	/Users/bba/pc/tidb/pkg/util/wait_group_wrapper.go:155 +0x7c

goroutine 248651 [select]:
github.com/pingcap/tidb/pkg/executor/join.(*ProbeWorker).runJoinWorker(0x140691b0000)
	/Users/bba/pc/tidb/pkg/executor/join/join.go:522 +0x2b4
github.com/pingcap/tidb/pkg/executor/join.(*HashJoinExec).fetchAndProbeHashTable.func2()
	/Users/bba/pc/tidb/pkg/executor/join/join.go:412 +0x8c
github.com/pingcap/tidb/pkg/util.(*WaitGroupWrapper).RunWithRecover.func1()
	/Users/bba/pc/tidb/pkg/util/wait_group_wrapper.go:189 +0x60
created by github.com/pingcap/tidb/pkg/util.(*WaitGroupWrapper).RunWithRecover in goroutine 15906
	/Users/bba/pc/tidb/pkg/util/wait_group_wrapper.go:181 +0x90

goroutine 16003 [select]:
github.com/pingcap/tidb/pkg/ttl/ttlworker.(*ttlDeleteWorker).loop(0x14008823a80)
	/Users/bba/pc/tidb/pkg/ttl/ttlworker/del.go:281 +0x1f8
github.com/pingcap/tidb/pkg/ttl/ttlworker.(*baseWorker).loop(0x0?)
	/Users/bba/pc/tidb/pkg/ttl/ttlworker/worker.go:134 +0x60
github.com/pingcap/tidb/pkg/util.(*WaitGroupWrapper).Run.func1()
	/Users/bba/pc/tidb/pkg/util/wait_group_wrapper.go:157 +0x58
created by github.com/pingcap/tidb/pkg/util.(*WaitGroupWrapper).Run in goroutine 15996
	/Users/bba/pc/tidb/pkg/util/wait_group_wrapper.go:155 +0x7c

goroutine 16005 [select]:
github.com/pingcap/tidb/pkg/ttl/ttlworker.(*ttlDeleteWorker).loop(0x14008823b80)
	/Users/bba/pc/tidb/pkg/ttl/ttlworker/del.go:281 +0x1f8
github.com/pingcap/tidb/pkg/ttl/ttlworker.(*baseWorker).loop(0x0?)
	/Users/bba/pc/tidb/pkg/ttl/ttlworker/worker.go:134 +0x60
github.com/pingcap/tidb/pkg/util.(*WaitGroupWrapper).Run.func1()
	/Users/bba/pc/tidb/pkg/util/wait_group_wrapper.go:157 +0x58
created by github.com/pingcap/tidb/pkg/util.(*WaitGroupWrapper).Run in goroutine 15996
	/Users/bba/pc/tidb/pkg/util/wait_group_wrapper.go:155 +0x7c

goroutine 16004 [select]:
github.com/pingcap/tidb/pkg/ttl/ttlworker.(*ttlDeleteWorker).loop(0x14008823b00)
	/Users/bba/pc/tidb/pkg/ttl/ttlworker/del.go:281 +0x1f8
github.com/pingcap/tidb/pkg/ttl/ttlworker.(*baseWorker).loop(0x8?)
	/Users/bba/pc/tidb/pkg/ttl/ttlworker/worker.go:134 +0x60
github.com/pingcap/tidb/pkg/util.(*WaitGroupWrapper).Run.func1()
	/Users/bba/pc/tidb/pkg/util/wait_group_wrapper.go:157 +0x58
created by github.com/pingcap/tidb/pkg/util.(*WaitGroupWrapper).Run in goroutine 15996
	/Users/bba/pc/tidb/pkg/util/wait_group_wrapper.go:155 +0x7c

goroutine 248661 [select]:
github.com/pingcap/tidb/pkg/executor/aggregate.(*HashAggPartialWorker).getChildInput(...)
	/Users/bba/pc/tidb/pkg/executor/aggregate/agg_hash_partial_worker.go:75
github.com/pingcap/tidb/pkg/executor/aggregate.(*HashAggPartialWorker).fetchChunkAndProcess(0x1401f9bfad0, {0x109583080, 0x140088aa6c0}, 0x14004e0e736, 0x14004e0e735)
	/Users/bba/pc/tidb/pkg/executor/aggregate/agg_hash_partial_worker.go:98 +0xac
github.com/pingcap/tidb/pkg/executor/aggregate.(*HashAggPartialWorker).run(0x1401f9bfad0, {0x109583080, 0x140088aa6c0}, 0x1401d103310, 0x5)
	/Users/bba/pc/tidb/pkg/executor/aggregate/agg_hash_partial_worker.go:210 +0xc4
created by github.com/pingcap/tidb/pkg/executor/aggregate.(*HashAggExec).prepare4ParallelExec in goroutine 248648
	/Users/bba/pc/tidb/pkg/executor/aggregate/agg_hash_executor.go:566 +0x140

goroutine 16000 [select]:
github.com/pingcap/tidb/pkg/ttl/ttlworker.(*ttlScanWorker).loop(0x1400a142ea0)
	/Users/bba/pc/tidb/pkg/ttl/ttlworker/scan.go:315 +0x10c
github.com/pingcap/tidb/pkg/ttl/ttlworker.(*baseWorker).loop(0x0?)
	/Users/bba/pc/tidb/pkg/ttl/ttlworker/worker.go:134 +0x60
github.com/pingcap/tidb/pkg/util.(*WaitGroupWrapper).Run.func1()
	/Users/bba/pc/tidb/pkg/util/wait_group_wrapper.go:157 +0x58
created by github.com/pingcap/tidb/pkg/util.(*WaitGroupWrapper).Run in goroutine 15996
	/Users/bba/pc/tidb/pkg/util/wait_group_wrapper.go:155 +0x7c

goroutine 16001 [select]:
github.com/pingcap/tidb/pkg/ttl/ttlworker.(*ttlScanWorker).loop(0x1400a142f30)
	/Users/bba/pc/tidb/pkg/ttl/ttlworker/scan.go:315 +0x10c
github.com/pingcap/tidb/pkg/ttl/ttlworker.(*baseWorker).loop(0x0?)
	/Users/bba/pc/tidb/pkg/ttl/ttlworker/worker.go:134 +0x60
github.com/pingcap/tidb/pkg/util.(*WaitGroupWrapper).Run.func1()
	/Users/bba/pc/tidb/pkg/util/wait_group_wrapper.go:157 +0x58
created by github.com/pingcap/tidb/pkg/util.(*WaitGroupWrapper).Run in goroutine 15996
	/Users/bba/pc/tidb/pkg/util/wait_group_wrapper.go:155 +0x7c

goroutine 15901 [select, 1 minutes]:
github.com/jellydator/ttlcache/v3.(*Cache[...]).Start(0x1095918a0)
	/Users/bba/.gvm/pkgsets/go1.21.0/global/pkg/mod/github.com/jellydator/ttlcache/v3@v3.0.1/cache.go:421 +0xe4
created by github.com/pingcap/tidb/pkg/domain/resourcegroup.NewRunawayManager in goroutine 72
	/Users/bba/pc/tidb/pkg/domain/resourcegroup/runaway.go:222 +0x168

goroutine 15904 [select, 1 minutes]:
github.com/pingcap/tidb/pkg/ddl.(*ddl).limitDDLJobs(0x14007a52c60, 0x14008daa180, 0x1400520d788)
	/Users/bba/pc/tidb/pkg/ddl/ddl_worker.go:221 +0xe0
github.com/pingcap/tidb/pkg/ddl.(*ddl).Start.func2()
	/Users/bba/pc/tidb/pkg/ddl/ddl.go:824 +0x3c
github.com/pingcap/tidb/pkg/util.(*WaitGroupWrapper).Run.func1()
	/Users/bba/pc/tidb/pkg/util/wait_group_wrapper.go:157 +0x58
created by github.com/pingcap/tidb/pkg/util.(*WaitGroupWrapper).Run in goroutine 72
	/Users/bba/pc/tidb/pkg/util/wait_group_wrapper.go:155 +0x7c

goroutine 15905 [select, 1 minutes]:
github.com/pingcap/tidb/pkg/ddl.(*delRange).startEmulator(0x140090c6b40)
	/Users/bba/pc/tidb/pkg/ddl/delete_range.go:174 +0xac
created by github.com/pingcap/tidb/pkg/ddl.(*delRange).start in goroutine 72
	/Users/bba/pc/tidb/pkg/ddl/delete_range.go:156 +0x74

goroutine 16006 [select]:
github.com/pingcap/tidb/pkg/ttl/ttlworker.(*ttlDeleteWorker).loop(0x14008823c00)
	/Users/bba/pc/tidb/pkg/ttl/ttlworker/del.go:281 +0x1f8
github.com/pingcap/tidb/pkg/ttl/ttlworker.(*baseWorker).loop(0x0?)
	/Users/bba/pc/tidb/pkg/ttl/ttlworker/worker.go:134 +0x60
github.com/pingcap/tidb/pkg/util.(*WaitGroupWrapper).Run.func1()
	/Users/bba/pc/tidb/pkg/util/wait_group_wrapper.go:157 +0x58
created by github.com/pingcap/tidb/pkg/util.(*WaitGroupWrapper).Run in goroutine 15996
	/Users/bba/pc/tidb/pkg/util/wait_group_wrapper.go:155 +0x7c

goroutine 15999 [select]:
github.com/pingcap/tidb/pkg/ttl/ttlworker.(*ttlScanWorker).loop(0x1400a142e10)
	/Users/bba/pc/tidb/pkg/ttl/ttlworker/scan.go:315 +0x10c
github.com/pingcap/tidb/pkg/ttl/ttlworker.(*baseWorker).loop(0x0?)
	/Users/bba/pc/tidb/pkg/ttl/ttlworker/worker.go:134 +0x60
github.com/pingcap/tidb/pkg/util.(*WaitGroupWrapper).Run.func1()
	/Users/bba/pc/tidb/pkg/util/wait_group_wrapper.go:157 +0x58
created by github.com/pingcap/tidb/pkg/util.(*WaitGroupWrapper).Run in goroutine 15996
	/Users/bba/pc/tidb/pkg/util/wait_group_wrapper.go:155 +0x7c

goroutine 15900 [select]:
github.com/tikv/pd/client/resource_group/controller.(*ResourceGroupsController).Start.func1()
	/Users/bba/.gvm/pkgsets/go1.21.0/global/pkg/mod/github.com/tikv/pd/client@v0.0.0-20240430080403-1679dbca25b3/resource_group/controller/controller.go:275 +0x9c0
created by github.com/tikv/pd/client/resource_group/controller.(*ResourceGroupsController).Start in goroutine 72
	/Users/bba/.gvm/pkgsets/go1.21.0/global/pkg/mod/github.com/tikv/pd/client@v0.0.0-20240430080403-1679dbca25b3/resource_group/controller/controller.go:223 +0xd8

goroutine 15997 [select, 1 minutes]:
github.com/pingcap/tidb/pkg/domain.(*Domain).LoadSigningCertLoop.func1()
	/Users/bba/pc/tidb/pkg/domain/domain.go:2695 +0xb4
github.com/pingcap/tidb/pkg/util.(*WaitGroupEnhancedWrapper).Run.func1()
	/Users/bba/pc/tidb/pkg/util/wait_group_wrapper.go:99 +0x6c
created by github.com/pingcap/tidb/pkg/util.(*WaitGroupEnhancedWrapper).Run in goroutine 72
	/Users/bba/pc/tidb/pkg/util/wait_group_wrapper.go:94 +0xc0

goroutine 248680 [semacquire]:
sync.runtime_Semacquire(0x14017c98ef8?)
	/Users/bba/.gvm/gos/go1.21.0/src/runtime/sema.go:62 +0x2c
sync.(*WaitGroup).Wait(0x1401d103440)
	/Users/bba/.gvm/gos/go1.21.0/src/sync/waitgroup.go:116 +0x74
github.com/pingcap/tidb/pkg/executor/aggregate.(*HashAggFinalWorker).run(0x1401cad9688, {0x109583080, 0x140088aa6c0}, 0x1401d103490, 0x1401df26b10?)
	/Users/bba/pc/tidb/pkg/executor/aggregate/agg_hash_final_worker.go:229 +0x88
created by github.com/pingcap/tidb/pkg/executor/aggregate.(*HashAggExec).prepare4ParallelExec in goroutine 248658
	/Users/bba/pc/tidb/pkg/executor/aggregate/agg_hash_executor.go:580 +0x300

goroutine 15909 [select]:
github.com/pingcap/tidb/pkg/ddl.(*ddl).PollTiFlashRoutine(0x14007a52c60)
	/Users/bba/pc/tidb/pkg/ddl/ddl_tiflash_api.go:560 +0x1d8
github.com/pingcap/tidb/pkg/util.(*WaitGroupWrapper).Run.func1()
	/Users/bba/pc/tidb/pkg/util/wait_group_wrapper.go:157 +0x58
created by github.com/pingcap/tidb/pkg/util.(*WaitGroupWrapper).Run in goroutine 72
	/Users/bba/pc/tidb/pkg/util/wait_group_wrapper.go:155 +0x7c

goroutine 15910 [select]:
github.com/pingcap/tidb/pkg/domain.(*Domain).loadSchemaInLoop(0x14006f7b600, {0x10950a2e8, 0x14007aca5f0}, 0x1400520cf70?)
	/Users/bba/pc/tidb/pkg/domain/domain.go:982 +0x174
github.com/pingcap/tidb/pkg/domain.(*Domain).Init.func2()
	/Users/bba/pc/tidb/pkg/domain/domain.go:1357 +0x2c
github.com/pingcap/tidb/pkg/util.(*WaitGroupEnhancedWrapper).Run.func1()
	/Users/bba/pc/tidb/pkg/util/wait_group_wrapper.go:99 +0x6c
created by github.com/pingcap/tidb/pkg/util.(*WaitGroupEnhancedWrapper).Run in goroutine 72
	/Users/bba/pc/tidb/pkg/util/wait_group_wrapper.go:94 +0xc0

goroutine 15913 [select]:
github.com/pingcap/tidb/pkg/domain.(*Domain).infoSyncerKeeper(0x14006f7b600)
	/Users/bba/pc/tidb/pkg/domain/domain.go:789 +0x114
github.com/pingcap/tidb/pkg/util.(*WaitGroupEnhancedWrapper).Run.func1()
	/Users/bba/pc/tidb/pkg/util/wait_group_wrapper.go:99 +0x6c
created by github.com/pingcap/tidb/pkg/util.(*WaitGroupEnhancedWrapper).Run in goroutine 72
	/Users/bba/pc/tidb/pkg/util/wait_group_wrapper.go:94 +0xc0

goroutine 15991 [select, 1 minutes]:
github.com/pingcap/tidb/pkg/statistics/handle/syncload.(*statsSyncLoad).drainColTask(0x14008c87bf0, {0x109583080, 0x14008f2c240}, 0x14007aa3200)
	/Users/bba/pc/tidb/pkg/statistics/handle/syncload/stats_syncload.go:456 +0xf4
github.com/pingcap/tidb/pkg/statistics/handle/syncload.(*statsSyncLoad).HandleOneTask(0x140007a7748?, {0x109583080?, 0x14008f2c240?}, 0x0?, 0x0?)
	/Users/bba/pc/tidb/pkg/statistics/handle/syncload/stats_syncload.go:251 +0x78
github.com/pingcap/tidb/pkg/statistics/handle/syncload.(*statsSyncLoad).SubLoadWorker(0x14008c87bf0, {0x109583080, 0x14008f2c240}, 0x107bc7450?, 0x10c5733c0?)
	/Users/bba/pc/tidb/pkg/statistics/handle/syncload/stats_syncload.go:221 +0x80
created by github.com/pingcap/tidb/pkg/domain.(*Domain).StartLoadStatsSubWorkers in goroutine 72
	/Users/bba/pc/tidb/pkg/domain/domain.go:2338 +0x54

goroutine 15998 [chan receive, 1 minutes]:
github.com/pingcap/tidb/pkg/ttl/client.(*mockClient).WatchCommand.func1()
	/Users/bba/pc/tidb/pkg/ttl/client/command.go:435 +0x4c
created by github.com/pingcap/tidb/pkg/ttl/client.(*mockClient).WatchCommand in goroutine 15996
	/Users/bba/pc/tidb/pkg/ttl/client/command.go:434 +0x2a0

goroutine 15986 [select]:
github.com/dgraph-io/ristretto.(*Cache).processItems(0x1400876fd00)
	/Users/bba/.gvm/pkgsets/go1.21.0/global/pkg/mod/github.com/dgraph-io/ristretto@v0.1.1/cache.go:452 +0xfc
created by github.com/dgraph-io/ristretto.NewCache in goroutine 72
	/Users/bba/.gvm/pkgsets/go1.21.0/global/pkg/mod/github.com/dgraph-io/ristretto@v0.1.1/cache.go:207 +0x608

goroutine 248648 [chan receive]:
github.com/pingcap/tidb/pkg/executor/aggregate.(*HashAggExec).parallelExec(0x1401cad9340, {0x10950a2b0?, 0x1406c7f2990?}, 0x140751a4410)
	/Users/bba/pc/tidb/pkg/executor/aggregate/agg_hash_executor.go:616 +0x178
github.com/pingcap/tidb/pkg/executor/aggregate.(*HashAggExec).Next(0x10950a2b0?, {0x10950a2b0?, 0x1406c7f2990?}, 0x1?)
	/Users/bba/pc/tidb/pkg/executor/aggregate/agg_hash_executor.go:425 +0x70
github.com/pingcap/tidb/pkg/executor/internal/exec.Next({0x10950a2b0, 0x1406c7f2990}, {0x109533e20, 0x1401cad9340}, 0x140751a4410)
	/Users/bba/pc/tidb/pkg/executor/internal/exec/executor.go:410 +0x20c
github.com/pingcap/tidb/pkg/executor/join.(*ProbeSideTupleFetcher).fetchProbeSideChunks(0x14005eee700, {0x10950a2b0, 0x1406c7f2990}, 0x400)
	/Users/bba/pc/tidb/pkg/executor/join/join.go:261 +0x134
github.com/pingcap/tidb/pkg/executor/join.(*HashJoinExec).fetchAndProbeHashTable.func1()
	/Users/bba/pc/tidb/pkg/executor/join/join.go:405 +0xa0
github.com/pingcap/tidb/pkg/util.(*WaitGroupWrapper).RunWithRecover.func1()
	/Users/bba/pc/tidb/pkg/util/wait_group_wrapper.go:189 +0x60
created by github.com/pingcap/tidb/pkg/util.(*WaitGroupWrapper).RunWithRecover in goroutine 15906
	/Users/bba/pc/tidb/pkg/util/wait_group_wrapper.go:181 +0x90

goroutine 15911 [runnable]:
github.com/pingcap/tidb/pkg/domain.(*Domain).mdlCheckLoop(0x14006f7b600)
	/Users/bba/pc/tidb/pkg/domain/domain.go:896 +0xd0
github.com/pingcap/tidb/pkg/util.(*WaitGroupEnhancedWrapper).Run.func1()
	/Users/bba/pc/tidb/pkg/util/wait_group_wrapper.go:99 +0x6c
created by github.com/pingcap/tidb/pkg/util.(*WaitGroupEnhancedWrapper).Run in goroutine 72
	/Users/bba/pc/tidb/pkg/util/wait_group_wrapper.go:94 +0xc0

goroutine 248652 [select]:
github.com/pingcap/tidb/pkg/executor/join.(*ProbeWorker).runJoinWorker(0x140691b0120)
	/Users/bba/pc/tidb/pkg/executor/join/join.go:522 +0x2b4
github.com/pingcap/tidb/pkg/executor/join.(*HashJoinExec).fetchAndProbeHashTable.func2()
	/Users/bba/pc/tidb/pkg/executor/join/join.go:412 +0x8c
github.com/pingcap/tidb/pkg/util.(*WaitGroupWrapper).RunWithRecover.func1()
	/Users/bba/pc/tidb/pkg/util/wait_group_wrapper.go:189 +0x60
created by github.com/pingcap/tidb/pkg/util.(*WaitGroupWrapper).RunWithRecover in goroutine 15906
	/Users/bba/pc/tidb/pkg/util/wait_group_wrapper.go:181 +0x90

goroutine 15987 [select, 1 minutes]:
github.com/pingcap/tidb/pkg/statistics/handle/usage/collector.(*globalCollector[...]).StartWorker.func1()
	/Users/bba/pc/tidb/pkg/statistics/handle/usage/collector/collector.go:88 +0x124
created by github.com/pingcap/tidb/pkg/statistics/handle/usage/collector.(*globalCollector[...]).StartWorker in goroutine 72
	/Users/bba/pc/tidb/pkg/statistics/handle/usage/collector/collector.go:76 +0x84

goroutine 15912 [select, 1 minutes]:
github.com/pingcap/tidb/pkg/domain.(*Domain).topNSlowQueryLoop(0x14006f7b600)
	/Users/bba/pc/tidb/pkg/domain/domain.go:756 +0xf8
github.com/pingcap/tidb/pkg/util.(*WaitGroupEnhancedWrapper).Run.func1()
	/Users/bba/pc/tidb/pkg/util/wait_group_wrapper.go:99 +0x6c
created by github.com/pingcap/tidb/pkg/util.(*WaitGroupEnhancedWrapper).Run in goroutine 72
	/Users/bba/pc/tidb/pkg/util/wait_group_wrapper.go:94 +0xc0

goroutine 15995 [select, 1 minutes]:
github.com/pingcap/tidb/pkg/statistics/handle/syncload.(*statsSyncLoad).drainColTask(0x14008c87bf0, {0x109583080, 0x14008f2dd40}, 0x14007aa3200)
	/Users/bba/pc/tidb/pkg/statistics/handle/syncload/stats_syncload.go:456 +0xf4
github.com/pingcap/tidb/pkg/statistics/handle/syncload.(*statsSyncLoad).HandleOneTask(0x14000110f98?, {0x109583080?, 0x14008f2dd40?}, 0x10950a2b0?, 0x140088fa390?)
	/Users/bba/pc/tidb/pkg/statistics/handle/syncload/stats_syncload.go:251 +0x78
github.com/pingcap/tidb/pkg/statistics/handle/syncload.(*statsSyncLoad).SubLoadWorker(0x14008c87bf0, {0x109583080, 0x14008f2dd40}, 0x10950a2b0?, 0x140088fa390?)
	/Users/bba/pc/tidb/pkg/statistics/handle/syncload/stats_syncload.go:221 +0x80
created by github.com/pingcap/tidb/pkg/domain.(*Domain).StartLoadStatsSubWorkers in goroutine 72
	/Users/bba/pc/tidb/pkg/domain/domain.go:2338 +0x54

goroutine 15992 [select, 1 minutes]:
github.com/pingcap/tidb/pkg/statistics/handle/syncload.(*statsSyncLoad).drainColTask(0x14008c87bf0, {0x109583080, 0x14008f2c6c0}, 0x14007aa3200)
	/Users/bba/pc/tidb/pkg/statistics/handle/syncload/stats_syncload.go:456 +0xf4
github.com/pingcap/tidb/pkg/statistics/handle/syncload.(*statsSyncLoad).HandleOneTask(0x14005212f48?, {0x109583080?, 0x14008f2c6c0?}, 0x0?, 0x0?)
	/Users/bba/pc/tidb/pkg/statistics/handle/syncload/stats_syncload.go:251 +0x78
github.com/pingcap/tidb/pkg/statistics/handle/syncload.(*statsSyncLoad).SubLoadWorker(0x14008c87bf0, {0x109583080, 0x14008f2c6c0}, 0x107bc7450?, 0x10c5733c0?)
	/Users/bba/pc/tidb/pkg/statistics/handle/syncload/stats_syncload.go:221 +0x80
created by github.com/pingcap/tidb/pkg/domain.(*Domain).StartLoadStatsSubWorkers in goroutine 72
	/Users/bba/pc/tidb/pkg/domain/domain.go:2338 +0x54

goroutine 15922 [select]:
github.com/pingcap/tidb/pkg/util/timeutil.Sleep({0x10950a2e8, 0x14007bd96d0}, 0x140007a4498?)
	/Users/bba/pc/tidb/pkg/util/timeutil/time.go:28 +0xa4
github.com/pingcap/tidb/pkg/owner.(*mockManager).CampaignOwner.func1()
	/Users/bba/pc/tidb/pkg/owner/mock.go:152 +0x3c4
created by github.com/pingcap/tidb/pkg/owner.(*mockManager).CampaignOwner in goroutine 72
	/Users/bba/pc/tidb/pkg/owner/mock.go:131 +0x70

goroutine 15914 [select, 1 minutes]:
github.com/pingcap/tidb/pkg/domain.(*Domain).globalConfigSyncerKeeper(0x14006f7b600)
	/Users/bba/pc/tidb/pkg/domain/domain.go:813 +0xb0
github.com/pingcap/tidb/pkg/util.(*WaitGroupEnhancedWrapper).Run.func1()
	/Users/bba/pc/tidb/pkg/util/wait_group_wrapper.go:99 +0x6c
created by github.com/pingcap/tidb/pkg/util.(*WaitGroupEnhancedWrapper).Run in goroutine 72
	/Users/bba/pc/tidb/pkg/util/wait_group_wrapper.go:94 +0xc0

goroutine 15984 [select, 1 minutes]:
github.com/pingcap/tidb/pkg/session.bootstrapSessionImpl.(*Domain).DumpFileGcCheckerLoop.func5()
	/Users/bba/pc/tidb/pkg/domain/domain.go:2149 +0xfc
github.com/pingcap/tidb/pkg/util.(*WaitGroupEnhancedWrapper).Run.func1()
	/Users/bba/pc/tidb/pkg/util/wait_group_wrapper.go:99 +0x6c
created by github.com/pingcap/tidb/pkg/util.(*WaitGroupEnhancedWrapper).Run in goroutine 72
	/Users/bba/pc/tidb/pkg/util/wait_group_wrapper.go:94 +0xc0

goroutine 15996 [select]:
github.com/pingcap/tidb/pkg/ttl/ttlworker.(*JobManager).jobLoop(0x14008617a00)
	/Users/bba/pc/tidb/pkg/ttl/ttlworker/job_manager.go:200 +0x694
github.com/pingcap/tidb/pkg/ttl/ttlworker.(*baseWorker).loop(0x140085c0fc0?)
	/Users/bba/pc/tidb/pkg/ttl/ttlworker/worker.go:134 +0x60
github.com/pingcap/tidb/pkg/util.(*WaitGroupWrapper).Run.func1()
	/Users/bba/pc/tidb/pkg/util/wait_group_wrapper.go:157 +0x58
created by github.com/pingcap/tidb/pkg/util.(*WaitGroupWrapper).Run in goroutine 72
	/Users/bba/pc/tidb/pkg/util/wait_group_wrapper.go:155 +0x7c

goroutine 248683 [semacquire]:
sync.runtime_Semacquire(0x14004e116f8?)
	/Users/bba/.gvm/gos/go1.21.0/src/runtime/sema.go:62 +0x2c
sync.(*WaitGroup).Wait(0x1401d103440)
	/Users/bba/.gvm/gos/go1.21.0/src/sync/waitgroup.go:116 +0x74
github.com/pingcap/tidb/pkg/executor/aggregate.(*HashAggFinalWorker).run(0x1401cad9820, {0x109583080, 0x140088aa6c0}, 0x1401d103490, 0x5?)
	/Users/bba/pc/tidb/pkg/executor/aggregate/agg_hash_final_worker.go:229 +0x88
created by github.com/pingcap/tidb/pkg/executor/aggregate.(*HashAggExec).prepare4ParallelExec in goroutine 248658
	/Users/bba/pc/tidb/pkg/executor/aggregate/agg_hash_executor.go:580 +0x300

goroutine 15988 [select]:
github.com/pingcap/tidb/pkg/util/timeutil.Sleep({0x10950a2e8, 0x14007f9f590}, 0x140093eed00?)
	/Users/bba/pc/tidb/pkg/util/timeutil/time.go:28 +0xa4
github.com/pingcap/tidb/pkg/owner.(*mockManager).CampaignOwner.func1()
	/Users/bba/pc/tidb/pkg/owner/mock.go:152 +0x3c4
created by github.com/pingcap/tidb/pkg/owner.(*mockManager).CampaignOwner in goroutine 72
	/Users/bba/pc/tidb/pkg/owner/mock.go:131 +0x70

goroutine 248663 [select]:
github.com/pingcap/tidb/pkg/executor/aggregate.(*HashAggPartialWorker).getChildInput(...)
	/Users/bba/pc/tidb/pkg/executor/aggregate/agg_hash_partial_worker.go:75
github.com/pingcap/tidb/pkg/executor/aggregate.(*HashAggPartialWorker).fetchChunkAndProcess(0x1401f9bfda0, {0x109583080, 0x140088aa6c0}, 0x14004e0ff36, 0x14004e0ff35)
	/Users/bba/pc/tidb/pkg/executor/aggregate/agg_hash_partial_worker.go:98 +0xac
github.com/pingcap/tidb/pkg/executor/aggregate.(*HashAggPartialWorker).run(0x1401f9bfda0, {0x109583080, 0x140088aa6c0}, 0x1401d103310, 0x5)
	/Users/bba/pc/tidb/pkg/executor/aggregate/agg_hash_partial_worker.go:210 +0xc4
created by github.com/pingcap/tidb/pkg/executor/aggregate.(*HashAggExec).prepare4ParallelExec in goroutine 248648
	/Users/bba/pc/tidb/pkg/executor/aggregate/agg_hash_executor.go:566 +0x140

goroutine 15993 [select, 1 minutes]:
github.com/pingcap/tidb/pkg/statistics/handle/syncload.(*statsSyncLoad).drainColTask(0x14008c87bf0, {0x109583080, 0x14008f2cfc0}, 0x14007aa3200)
	/Users/bba/pc/tidb/pkg/statistics/handle/syncload/stats_syncload.go:456 +0xf4
github.com/pingcap/tidb/pkg/statistics/handle/syncload.(*statsSyncLoad).HandleOneTask(0x14005177748?, {0x109583080?, 0x14008f2cfc0?}, 0x0?, 0x0?)
	/Users/bba/pc/tidb/pkg/statistics/handle/syncload/stats_syncload.go:251 +0x78
github.com/pingcap/tidb/pkg/statistics/handle/syncload.(*statsSyncLoad).SubLoadWorker(0x14008c87bf0, {0x109583080, 0x14008f2cfc0}, 0x107bc7450?, 0x10c5733c0?)
	/Users/bba/pc/tidb/pkg/statistics/handle/syncload/stats_syncload.go:221 +0x80
created by github.com/pingcap/tidb/pkg/domain.(*Domain).StartLoadStatsSubWorkers in goroutine 72
	/Users/bba/pc/tidb/pkg/domain/domain.go:2338 +0x54

goroutine 248665 [semacquire]:
sync.runtime_Semacquire(0x14000e9fef8?)
	/Users/bba/.gvm/gos/go1.21.0/src/runtime/sema.go:62 +0x2c
sync.(*WaitGroup).Wait(0x1401d103310)
	/Users/bba/.gvm/gos/go1.21.0/src/sync/waitgroup.go:116 +0x74
github.com/pingcap/tidb/pkg/executor/aggregate.(*HashAggFinalWorker).run(0x1401cad98c0, {0x109583080, 0x140088aa6c0}, 0x1401d1033a0, 0x5?)
	/Users/bba/pc/tidb/pkg/executor/aggregate/agg_hash_final_worker.go:229 +0x88
created by github.com/pingcap/tidb/pkg/executor/aggregate.(*HashAggExec).prepare4ParallelExec in goroutine 248648
	/Users/bba/pc/tidb/pkg/executor/aggregate/agg_hash_executor.go:580 +0x300

goroutine 15908 [select]:
github.com/pingcap/tidb/pkg/util/timeutil.Sleep({0x10950a2e8, 0x14007aca640}, 0x140095de100?)
	/Users/bba/pc/tidb/pkg/util/timeutil/time.go:28 +0xa4
github.com/pingcap/tidb/pkg/owner.(*mockManager).CampaignOwner.func1()
	/Users/bba/pc/tidb/pkg/owner/mock.go:152 +0x3c4
created by github.com/pingcap/tidb/pkg/owner.(*mockManager).CampaignOwner in goroutine 72
	/Users/bba/pc/tidb/pkg/owner/mock.go:131 +0x70

goroutine 15994 [select, 1 minutes]:
github.com/pingcap/tidb/pkg/statistics/handle/syncload.(*statsSyncLoad).drainColTask(0x14008c87bf0, {0x109583080, 0x14008f2d440}, 0x14007aa3200)
	/Users/bba/pc/tidb/pkg/statistics/handle/syncload/stats_syncload.go:456 +0xf4
github.com/pingcap/tidb/pkg/statistics/handle/syncload.(*statsSyncLoad).HandleOneTask(0x100000001?, {0x109583080?, 0x14008f2d440?}, 0x1400704d830?, 0x107f0ac19?)
	/Users/bba/pc/tidb/pkg/statistics/handle/syncload/stats_syncload.go:251 +0x78
github.com/pingcap/tidb/pkg/statistics/handle/syncload.(*statsSyncLoad).SubLoadWorker(0x14008c87bf0, {0x109583080, 0x14008f2d440}, 0x104df6674?, 0x140070d7680?)
	/Users/bba/pc/tidb/pkg/statistics/handle/syncload/stats_syncload.go:221 +0x80
created by github.com/pingcap/tidb/pkg/domain.(*Domain).StartLoadStatsSubWorkers in goroutine 72
	/Users/bba/pc/tidb/pkg/domain/domain.go:2338 +0x54

goroutine 15990 [chan receive, 1 minutes]:
github.com/pingcap/tidb/pkg/domain.quitStatsOwner(...)
	/Users/bba/pc/tidb/pkg/domain/domain.go:2326
github.com/pingcap/tidb/pkg/domain.(*Domain).UpdateTableStatsLoop.func2()
	/Users/bba/pc/tidb/pkg/domain/domain.go:2298 +0x38
github.com/pingcap/tidb/pkg/util.(*WaitGroupEnhancedWrapper).Run.func1()
	/Users/bba/pc/tidb/pkg/util/wait_group_wrapper.go:99 +0x6c
created by github.com/pingcap/tidb/pkg/util.(*WaitGroupEnhancedWrapper).Run in goroutine 72
	/Users/bba/pc/tidb/pkg/util/wait_group_wrapper.go:94 +0xc0

goroutine 15977 [select]:
github.com/pingcap/tidb/pkg/domain.(*Domain).LoadSysVarCacheLoop.func1()
	/Users/bba/pc/tidb/pkg/domain/domain.go:1827 +0x110
github.com/pingcap/tidb/pkg/util.(*WaitGroupEnhancedWrapper).Run.func1()
	/Users/bba/pc/tidb/pkg/util/wait_group_wrapper.go:99 +0x6c
created by github.com/pingcap/tidb/pkg/util.(*WaitGroupEnhancedWrapper).Run in goroutine 72
	/Users/bba/pc/tidb/pkg/util/wait_group_wrapper.go:94 +0xc0

goroutine 15918 [select]:
github.com/pingcap/tidb/pkg/domain.(*Domain).closestReplicaReadCheckLoop(0x14007a52870?, {0x10950a2e8?, 0x14007aca5f0?}, {0x1095807b0, 0x14000534540})
	/Users/bba/pc/tidb/pkg/domain/domain.go:1434 +0x218
github.com/pingcap/tidb/pkg/domain.(*Domain).Init.func3()
	/Users/bba/pc/tidb/pkg/domain/domain.go:1371 +0x30
github.com/pingcap/tidb/pkg/util.(*WaitGroupEnhancedWrapper).Run.func1()
	/Users/bba/pc/tidb/pkg/util/wait_group_wrapper.go:99 +0x6c
created by github.com/pingcap/tidb/pkg/util.(*WaitGroupEnhancedWrapper).Run in goroutine 72
	/Users/bba/pc/tidb/pkg/util/wait_group_wrapper.go:94 +0xc0

goroutine 248659 [select]:
github.com/pingcap/tidb/pkg/executor/aggregate.(*HashAggPartialWorker).getChildInput(...)
	/Users/bba/pc/tidb/pkg/executor/aggregate/agg_hash_partial_worker.go:75
github.com/pingcap/tidb/pkg/executor/aggregate.(*HashAggPartialWorker).fetchChunkAndProcess(0x1401f9bf800, {0x109583080, 0x140088aa6c0}, 0x140007a4736, 0x140007a4735)
	/Users/bba/pc/tidb/pkg/executor/aggregate/agg_hash_partial_worker.go:98 +0xac
github.com/pingcap/tidb/pkg/executor/aggregate.(*HashAggPartialWorker).run(0x1401f9bf800, {0x109583080, 0x140088aa6c0}, 0x1401d103310, 0x5)
	/Users/bba/pc/tidb/pkg/executor/aggregate/agg_hash_partial_worker.go:210 +0xc4
created by github.com/pingcap/tidb/pkg/executor/aggregate.(*HashAggExec).prepare4ParallelExec in goroutine 248648
	/Users/bba/pc/tidb/pkg/executor/aggregate/agg_hash_executor.go:566 +0x140

goroutine 248674 [runnable]:
github.com/pingcap/tidb/pkg/executor/aggregate.(*HashAggPartialWorker).getChildInput(...)
	/Users/bba/pc/tidb/pkg/executor/aggregate/agg_hash_partial_worker.go:75
github.com/pingcap/tidb/pkg/executor/aggregate.(*HashAggPartialWorker).fetchChunkAndProcess(0x1401f9bf168, {0x109583080, 0x140088aa6c0}, 0x14005175736, 0x14005175735)
	/Users/bba/pc/tidb/pkg/executor/aggregate/agg_hash_partial_worker.go:98 +0xac
github.com/pingcap/tidb/pkg/executor/aggregate.(*HashAggPartialWorker).run(0x1401f9bf168, {0x109583080, 0x140088aa6c0}, 0x1401d103440, 0x5)
	/Users/bba/pc/tidb/pkg/executor/aggregate/agg_hash_partial_worker.go:210 +0xc4
created by github.com/pingcap/tidb/pkg/executor/aggregate.(*HashAggExec).prepare4ParallelExec in goroutine 248658
	/Users/bba/pc/tidb/pkg/executor/aggregate/agg_hash_executor.go:566 +0x140

goroutine 248658 [chan receive]:
github.com/pingcap/tidb/pkg/executor/aggregate.(*HashAggExec).parallelExec(0x1401cad9080, {0x10950a2b0?, 0x1406c7f2990?}, 0x14072f61310)
	/Users/bba/pc/tidb/pkg/executor/aggregate/agg_hash_executor.go:616 +0x178
github.com/pingcap/tidb/pkg/executor/aggregate.(*HashAggExec).Next(0x10950a2b0?, {0x10950a2b0?, 0x1406c7f2990?}, 0x1?)
	/Users/bba/pc/tidb/pkg/executor/aggregate/agg_hash_executor.go:425 +0x70
github.com/pingcap/tidb/pkg/executor/internal/exec.Next({0x10950a2b0, 0x1406c7f2990}, {0x109533e20, 0x1401cad9080}, 0x14072f61310)
	/Users/bba/pc/tidb/pkg/executor/internal/exec/executor.go:410 +0x20c
github.com/pingcap/tidb/pkg/executor.(*SelectionExec).Next(0x1401df27b80, {0x10950a2b0, 0x1406c7f2990}, 0x14072f73db0)
	/Users/bba/pc/tidb/pkg/executor/executor.go:1601 +0xcc
github.com/pingcap/tidb/pkg/executor/internal/exec.Next({0x10950a2b0, 0x1406c7f2990}, {0x109532ea0, 0x1401df27b80}, 0x14072f73db0)
	/Users/bba/pc/tidb/pkg/executor/internal/exec/executor.go:410 +0x20c
github.com/pingcap/tidb/pkg/executor/aggregate.(*HashAggExec).fetchChildData(0x1401cad9340, {0x10950a2b0, 0x1406c7f2990}, 0x0?)
	/Users/bba/pc/tidb/pkg/executor/aggregate/agg_hash_executor.go:469 +0x108
created by github.com/pingcap/tidb/pkg/executor/aggregate.(*HashAggExec).prepare4ParallelExec in goroutine 248648
	/Users/bba/pc/tidb/pkg/executor/aggregate/agg_hash_executor.go:548 +0xc0

goroutine 15923 [select]:
github.com/pingcap/tidb/pkg/domain.(*Domain).LoadBindInfoLoop.(*Domain).globalBindHandleWorkerLoop.func1()
	/Users/bba/pc/tidb/pkg/domain/domain.go:1970 +0x11c
github.com/pingcap/tidb/pkg/util.(*WaitGroupEnhancedWrapper).Run.func1()
	/Users/bba/pc/tidb/pkg/util/wait_group_wrapper.go:99 +0x6c
created by github.com/pingcap/tidb/pkg/util.(*WaitGroupEnhancedWrapper).Run in goroutine 72
	/Users/bba/pc/tidb/pkg/util/wait_group_wrapper.go:94 +0xc0

goroutine 248664 [semacquire]:
sync.runtime_Semacquire(0x140088aa6c0?)
	/Users/bba/.gvm/gos/go1.21.0/src/runtime/sema.go:62 +0x2c
sync.(*WaitGroup).Wait(0x1401d103310)
	/Users/bba/.gvm/gos/go1.21.0/src/sync/waitgroup.go:116 +0x74
github.com/pingcap/tidb/pkg/executor/aggregate.(*HashAggExec).waitPartialWorkerAndCloseOutputChs(0x1401cad9340, 0x104df6678?)
	/Users/bba/pc/tidb/pkg/executor/aggregate/agg_hash_executor.go:528 +0x24
github.com/pingcap/tidb/pkg/executor/aggregate.(*HashAggExec).prepare4ParallelExec.func1()
	/Users/bba/pc/tidb/pkg/executor/aggregate/agg_hash_executor.go:570 +0x44
created by github.com/pingcap/tidb/pkg/executor/aggregate.(*HashAggExec).prepare4ParallelExec in goroutine 248648
	/Users/bba/pc/tidb/pkg/executor/aggregate/agg_hash_executor.go:569 +0x2ac

goroutine 15989 [select, 1 minutes]:
github.com/pingcap/tidb/pkg/domain.(*Domain).indexUsageWorker(0x14006f7b600)
	/Users/bba/pc/tidb/pkg/domain/domain.go:2426 +0xcc
github.com/pingcap/tidb/pkg/domain.(*Domain).UpdateTableStatsLoop.func1()
	/Users/bba/pc/tidb/pkg/domain/domain.go:2294 +0x20
github.com/pingcap/tidb/pkg/util.(*WaitGroupEnhancedWrapper).Run.func1()
	/Users/bba/pc/tidb/pkg/util/wait_group_wrapper.go:99 +0x6c
created by github.com/pingcap/tidb/pkg/util.(*WaitGroupEnhancedWrapper).Run in goroutine 72
	/Users/bba/pc/tidb/pkg/util/wait_group_wrapper.go:94 +0xc0

goroutine 15906 [chan receive]:
github.com/pingcap/tidb/pkg/executor/join.(*HashJoinExec).Next(0x1401df27cc0, {0x10950a2b0?, 0x1406c7f2990?}, 0x140751635e0)
	/Users/bba/pc/tidb/pkg/executor/join/join.go:1197 +0x5d4
github.com/pingcap/tidb/pkg/executor/internal/exec.Next({0x10950a2b0, 0x1406c7f2990}, {0x1095343a0, 0x1401df27cc0}, 0x140751635e0)
	/Users/bba/pc/tidb/pkg/executor/internal/exec/executor.go:410 +0x20c
github.com/pingcap/tidb/pkg/executor/sortexec.(*SortExec).fetchChunksUnparallel(0x1406f0e7200, {0x10950a2b0, 0x1406c7f2990})
	/Users/bba/pc/tidb/pkg/executor/sortexec/sort.go:615 +0x140
github.com/pingcap/tidb/pkg/executor/sortexec.(*SortExec).fetchChunks(0x1406f0e7200?, {0x10950a2b0?, 0x1406c7f2990?})
	/Users/bba/pc/tidb/pkg/executor/sortexec/sort.go:528 +0x2c
github.com/pingcap/tidb/pkg/executor/sortexec.(*SortExec).Next(0x1406f0e7200, {0x10950a2b0, 0x1406c7f2990}, 0x14075163540)
	/Users/bba/pc/tidb/pkg/executor/sortexec/sort.go:277 +0x1c0
github.com/pingcap/tidb/pkg/executor/internal/exec.Next({0x10950a2b0, 0x1406c7f2990}, {0x1095342a0, 0x1406f0e7200}, 0x14075163540)
	/Users/bba/pc/tidb/pkg/executor/internal/exec/executor.go:410 +0x20c
github.com/pingcap/tidb/pkg/executor.(*ProjectionExec).unParallelExecute(0x140082bd980, {0x10950a2b0, 0x1406c7f2990}, 0x14075163590)
	/Users/bba/pc/tidb/pkg/executor/projection.go:198 +0xb0
github.com/pingcap/tidb/pkg/executor.(*ProjectionExec).Next(0x140082bd980, {0x10950a2b0, 0x1406c7f2990}, 0x1?)
	/Users/bba/pc/tidb/pkg/executor/projection.go:185 +0x64
github.com/pingcap/tidb/pkg/executor/internal/exec.Next({0x10950a2b0, 0x1406c7f2990}, {0x109532d20, 0x140082bd980}, 0x14075163590)
	/Users/bba/pc/tidb/pkg/executor/internal/exec/executor.go:410 +0x20c
github.com/pingcap/tidb/pkg/executor.(*ExecStmt).next(0x1408a793d10, {0x10950a2b0, 0x1406c7f2990}, {0x109532d20, 0x140082bd980}, 0x2?)
	/Users/bba/pc/tidb/pkg/executor/adapter.go:1211 +0x58
github.com/pingcap/tidb/pkg/executor.(*recordSet).Next(0x14006c9baa0, {0x10950a2b0?, 0x1406c7f2990?}, 0x14075163590)
	/Users/bba/pc/tidb/pkg/executor/adapter.go:160 +0x90
github.com/pingcap/tidb/pkg/util/sqlexec.DrainRecordSet({0x10950a2b0, 0x1406c7f2990}, {0x10950aa20, 0x14005eeed00}, 0xcf?)
	/Users/bba/pc/tidb/pkg/util/sqlexec/restricted_sql_executor.go:221 +0xa8
github.com/pingcap/tidb/pkg/ddl/internal/session.(*Session).Execute(0x14008824f60, {0x10950a160, 0x10c5b3ba0}, {0x1408e2e4b60, 0xcf}, {0x107f0dd35, 0xf})
	/Users/bba/pc/tidb/pkg/ddl/internal/session/session.go:97 +0x1c0
github.com/pingcap/tidb/pkg/ddl.(*ddl).getJob(0x14007a52c60, 0xc189cf70bab918a8?, 0x0, 0x14026399950)
	/Users/bba/pc/tidb/pkg/ddl/job_table.go:100 +0x160
github.com/pingcap/tidb/pkg/ddl.(*ddl).getGeneralJob(0x14026399988?, 0x10722738c?)
	/Users/bba/pc/tidb/pkg/ddl/job_table.go:208 +0x40
github.com/pingcap/tidb/pkg/ddl.(*ddl).loadDDLJobAndRun(0x14007a52c60, 0x14026399b00?, 0x14007ee76e0, 0x14026399cb0)
	/Users/bba/pc/tidb/pkg/ddl/job_table.go:365 +0x148
github.com/pingcap/tidb/pkg/ddl.(*ddl).startDispatchLoop(0x14007a52c60)
	/Users/bba/pc/tidb/pkg/ddl/job_table.go:311 +0x7e8
github.com/pingcap/tidb/pkg/util.(*WaitGroupWrapper).Run.func1()
	/Users/bba/pc/tidb/pkg/util/wait_group_wrapper.go:157 +0x58
created by github.com/pingcap/tidb/pkg/util.(*WaitGroupWrapper).Run in goroutine 72
	/Users/bba/pc/tidb/pkg/util/wait_group_wrapper.go:155 +0x7c

goroutine 15985 [select]:
github.com/dgraph-io/ristretto.(*defaultPolicy).processItems(0x14007badec0)
	/Users/bba/.gvm/pkgsets/go1.21.0/global/pkg/mod/github.com/dgraph-io/ristretto@v0.1.1/policy.go:102 +0x64
created by github.com/dgraph-io/ristretto.newDefaultPolicy in goroutine 72
	/Users/bba/.gvm/pkgsets/go1.21.0/global/pkg/mod/github.com/dgraph-io/ristretto@v0.1.1/policy.go:86 +0x138

goroutine 248678 [semacquire]:
sync.runtime_Semacquire(0x1400520f788?)
	/Users/bba/.gvm/gos/go1.21.0/src/runtime/sema.go:62 +0x2c
sync.(*WaitGroup).Wait(0x1401d103440)
	/Users/bba/.gvm/gos/go1.21.0/src/sync/waitgroup.go:116 +0x74
github.com/pingcap/tidb/pkg/executor/aggregate.(*HashAggExec).waitPartialWorkerAndCloseOutputChs(0x1401cad9080, 0x104df6674?)
	/Users/bba/pc/tidb/pkg/executor/aggregate/agg_hash_executor.go:528 +0x24
github.com/pingcap/tidb/pkg/executor/aggregate.(*HashAggExec).prepare4ParallelExec.func1()
	/Users/bba/pc/tidb/pkg/executor/aggregate/agg_hash_executor.go:570 +0x44
created by github.com/pingcap/tidb/pkg/executor/aggregate.(*HashAggExec).prepare4ParallelExec in goroutine 248658
	/Users/bba/pc/tidb/pkg/executor/aggregate/agg_hash_executor.go:569 +0x2ac

goroutine 15907 [select, 1 minutes]:
github.com/pingcap/tidb/pkg/ddl.(*ddl).startLocalWorkerLoop(0x14007a52c60)
	/Users/bba/pc/tidb/pkg/ddl/job_table.go:246 +0x8c
github.com/pingcap/tidb/pkg/util.(*WaitGroupWrapper).Run.func1()
	/Users/bba/pc/tidb/pkg/util/wait_group_wrapper.go:157 +0x58
created by github.com/pingcap/tidb/pkg/util.(*WaitGroupWrapper).Run in goroutine 72
	/Users/bba/pc/tidb/pkg/util/wait_group_wrapper.go:155 +0x7c

goroutine 15973 [select, 1 minutes]:
github.com/pingcap/tidb/pkg/domain.(*Domain).LoadPrivilegeLoop.func1()
	/Users/bba/pc/tidb/pkg/domain/domain.go:1777 +0x110
github.com/pingcap/tidb/pkg/util.(*WaitGroupEnhancedWrapper).Run.func1()
	/Users/bba/pc/tidb/pkg/util/wait_group_wrapper.go:99 +0x6c
created by github.com/pingcap/tidb/pkg/util.(*WaitGroupEnhancedWrapper).Run in goroutine 72
	/Users/bba/pc/tidb/pkg/util/wait_group_wrapper.go:94 +0xc0

goroutine 15917 [select]:
github.com/pingcap/tidb/pkg/domain.(*Domain).topologySyncerKeeper(0x14006f7b600)
	/Users/bba/pc/tidb/pkg/domain/domain.go:835 +0xfc
github.com/pingcap/tidb/pkg/util.(*WaitGroupEnhancedWrapper).Run.func1()
	/Users/bba/pc/tidb/pkg/util/wait_group_wrapper.go:99 +0x6c
created by github.com/pingcap/tidb/pkg/util.(*WaitGroupEnhancedWrapper).Run in goroutine 72
	/Users/bba/pc/tidb/pkg/util/wait_group_wrapper.go:94 +0xc0

goroutine 18195 [select]:
github.com/pingcap/tidb/pkg/disttask/framework/scheduler.(*NodeManager).maintainLiveNodesLoop(0x7ecc1470?, {0x10950a2e8, 0x14020c5e640}, {0x10954b9a0, 0x14008cd8360})
	/Users/bba/pc/tidb/pkg/disttask/framework/scheduler/nodes.go:64 +0xd0
github.com/pingcap/tidb/pkg/disttask/framework/scheduler.(*Manager).Start.func1()
	/Users/bba/pc/tidb/pkg/disttask/framework/scheduler/scheduler_manager.go:166 +0x34
github.com/pingcap/tidb/pkg/util.(*WaitGroupWrapper).Run.func1()
	/Users/bba/pc/tidb/pkg/util/wait_group_wrapper.go:157 +0x58
created by github.com/pingcap/tidb/pkg/util.(*WaitGroupWrapper).Run in goroutine 16035
	/Users/bba/pc/tidb/pkg/util/wait_group_wrapper.go:155 +0x7c

goroutine 16035 [select]:
github.com/pingcap/tidb/pkg/domain.(*Domain).distTaskFrameworkLoop(0x14006f7b600, {0x10950a2b0, 0x14008d1bfb0}, 0x14008cd8360, 0x14007d22c80, {0x14008f65c40, 0x5})
	/Users/bba/pc/tidb/pkg/domain/domain.go:1620 +0x304
github.com/pingcap/tidb/pkg/domain.(*Domain).InitDistTaskLoop.func1()
	/Users/bba/pc/tidb/pkg/domain/domain.go:1584 +0x54
github.com/pingcap/tidb/pkg/util.(*WaitGroupEnhancedWrapper).Run.func1()
	/Users/bba/pc/tidb/pkg/util/wait_group_wrapper.go:99 +0x6c
created by github.com/pingcap/tidb/pkg/util.(*WaitGroupEnhancedWrapper).Run in goroutine 72
	/Users/bba/pc/tidb/pkg/util/wait_group_wrapper.go:94 +0xc0

goroutine 248649 [select]:
github.com/pingcap/tidb/pkg/executor/join.(*ProbeWorker).runJoinWorker(0x14068e7fd40)
	/Users/bba/pc/tidb/pkg/executor/join/join.go:522 +0x2b4
github.com/pingcap/tidb/pkg/executor/join.(*HashJoinExec).fetchAndProbeHashTable.func2()
	/Users/bba/pc/tidb/pkg/executor/join/join.go:412 +0x8c
github.com/pingcap/tidb/pkg/util.(*WaitGroupWrapper).RunWithRecover.func1()
	/Users/bba/pc/tidb/pkg/util/wait_group_wrapper.go:189 +0x60
created by github.com/pingcap/tidb/pkg/util.(*WaitGroupWrapper).RunWithRecover in goroutine 15906
	/Users/bba/pc/tidb/pkg/util/wait_group_wrapper.go:181 +0x90

goroutine 248685 [semacquire]:
sync.runtime_Semacquire(0x1bf1387cc1?)
	/Users/bba/.gvm/gos/go1.21.0/src/runtime/sema.go:62 +0x2c
sync.(*WaitGroup).Wait(0x1401d103440)
	/Users/bba/.gvm/gos/go1.21.0/src/sync/waitgroup.go:116 +0x74
github.com/pingcap/tidb/pkg/executor/aggregate.(*HashAggExec).waitAllWorkersAndCloseFinalOutputCh(0x1401cad9080, {0x14005174fb0, 0x3, 0x109583080?})
	/Users/bba/pc/tidb/pkg/executor/aggregate/agg_hash_executor.go:540 +0x38
created by github.com/pingcap/tidb/pkg/executor/aggregate.(*HashAggExec).prepare4ParallelExec in goroutine 248658
	/Users/bba/pc/tidb/pkg/executor/aggregate/agg_hash_executor.go:592 +0x4d0

goroutine 18179 [select]:
github.com/pingcap/tidb/pkg/domain.(*Domain).runawayWatchSyncLoop(0x14006f7b600)
	/Users/bba/pc/tidb/pkg/domain/runaway.go:199 +0x98
github.com/pingcap/tidb/pkg/util.(*WaitGroupEnhancedWrapper).Run.func1()
	/Users/bba/pc/tidb/pkg/util/wait_group_wrapper.go:99 +0x6c
created by github.com/pingcap/tidb/pkg/util.(*WaitGroupEnhancedWrapper).Run in goroutine 15915
	/Users/bba/pc/tidb/pkg/util/wait_group_wrapper.go:94 +0xc0

goroutine 16046 [select]:
github.com/pingcap/tidb/pkg/disttask/framework/taskexecutor.(*Manager).handleTasksLoop(0x14007d22c80)
	/Users/bba/pc/tidb/pkg/disttask/framework/taskexecutor/manager.go:177 +0x120
github.com/pingcap/tidb/pkg/util.(*WaitGroupWrapper).Run.func1()
	/Users/bba/pc/tidb/pkg/util/wait_group_wrapper.go:157 +0x58
created by github.com/pingcap/tidb/pkg/util.(*WaitGroupWrapper).Run in goroutine 16035
	/Users/bba/pc/tidb/pkg/util/wait_group_wrapper.go:155 +0x7c

goroutine 16047 [select]:
github.com/pingcap/tidb/pkg/disttask/framework/taskexecutor.(*Manager).recoverMetaLoop(0x14007d22c80)
	/Users/bba/pc/tidb/pkg/disttask/framework/taskexecutor/manager.go:278 +0xc0
github.com/pingcap/tidb/pkg/util.(*WaitGroupWrapper).Run.func1()
	/Users/bba/pc/tidb/pkg/util/wait_group_wrapper.go:157 +0x58
created by github.com/pingcap/tidb/pkg/util.(*WaitGroupWrapper).Run in goroutine 16035
	/Users/bba/pc/tidb/pkg/util/wait_group_wrapper.go:155 +0x7c

goroutine 18196 [select]:
github.com/pingcap/tidb/pkg/disttask/framework/scheduler.(*NodeManager).refreshNodesLoop(0x7ecc112f?, {0x10950a2e8, 0x14020c5e640}, {0x10954b9a0, 0x14008cd8360}, 0x104df6678?)
	/Users/bba/pc/tidb/pkg/disttask/framework/scheduler/nodes.go:124 +0xd8
github.com/pingcap/tidb/pkg/disttask/framework/scheduler.(*Manager).Start.func2()
	/Users/bba/pc/tidb/pkg/disttask/framework/scheduler/scheduler_manager.go:169 +0x38
github.com/pingcap/tidb/pkg/util.(*WaitGroupWrapper).Run.func1()
	/Users/bba/pc/tidb/pkg/util/wait_group_wrapper.go:157 +0x58
created by github.com/pingcap/tidb/pkg/util.(*WaitGroupWrapper).Run in goroutine 16035
	/Users/bba/pc/tidb/pkg/util/wait_group_wrapper.go:155 +0x7c

goroutine 18131 [select, 1 minutes]:
github.com/pingcap/tidb/pkg/timer/api.(*memTimerWatchEventNotifier).Watch.func1()
	/Users/bba/pc/tidb/pkg/timer/api/mem_store.go:229 +0xfc
created by github.com/pingcap/tidb/pkg/timer/api.(*memTimerWatchEventNotifier).Watch in goroutine 18111
	/Users/bba/pc/tidb/pkg/timer/api/mem_store.go:217 +0x21c

goroutine 18197 [select]:
github.com/pingcap/tidb/pkg/disttask/framework/scheduler.(*balancer).balanceLoop(0x1401cff7a40?, {0x10950a2e8, 0x14020c5e640}, 0x104df6678?)
	/Users/bba/pc/tidb/pkg/disttask/framework/scheduler/balancer.go:64 +0x9c
github.com/pingcap/tidb/pkg/disttask/framework/scheduler.(*Manager).Start.func3()
	/Users/bba/pc/tidb/pkg/disttask/framework/scheduler/scheduler_manager.go:172 +0x2c
github.com/pingcap/tidb/pkg/util.(*WaitGroupWrapper).Run.func1()
	/Users/bba/pc/tidb/pkg/util/wait_group_wrapper.go:157 +0x58
created by github.com/pingcap/tidb/pkg/util.(*WaitGroupWrapper).Run in goroutine 16035
	/Users/bba/pc/tidb/pkg/util/wait_group_wrapper.go:155 +0x7c

goroutine 248682 [semacquire]:
sync.runtime_Semacquire(0x14000ea36f8?)
	/Users/bba/.gvm/gos/go1.21.0/src/runtime/sema.go:62 +0x2c
sync.(*WaitGroup).Wait(0x1401d103440)
	/Users/bba/.gvm/gos/go1.21.0/src/sync/waitgroup.go:116 +0x74
github.com/pingcap/tidb/pkg/executor/aggregate.(*HashAggFinalWorker).run(0x1401cad9798, {0x109583080, 0x140088aa6c0}, 0x1401d103490, 0x5?)
	/Users/bba/pc/tidb/pkg/executor/aggregate/agg_hash_final_worker.go:229 +0x88
created by github.com/pingcap/tidb/pkg/executor/aggregate.(*HashAggExec).prepare4ParallelExec in goroutine 248658
	/Users/bba/pc/tidb/pkg/executor/aggregate/agg_hash_executor.go:580 +0x300

goroutine 18192 [select, 1 minutes]:
github.com/pingcap/tidb/pkg/disttask/framework/scheduler.(*Manager).gcSubtaskHistoryTableLoop(0x1400684dec0)
	/Users/bba/pc/tidb/pkg/disttask/framework/scheduler/scheduler_manager.go:316 +0x15c
github.com/pingcap/tidb/pkg/util.(*WaitGroupWrapper).Run.func1()
	/Users/bba/pc/tidb/pkg/util/wait_group_wrapper.go:157 +0x58
created by github.com/pingcap/tidb/pkg/util.(*WaitGroupWrapper).Run in goroutine 16035
	/Users/bba/pc/tidb/pkg/util/wait_group_wrapper.go:155 +0x7c

goroutine 248654 [semacquire]:
sync.runtime_Semacquire(0x14005210f78?)
	/Users/bba/.gvm/gos/go1.21.0/src/runtime/sema.go:62 +0x2c
sync.(*WaitGroup).Wait(0x1401df27dd0)
	/Users/bba/.gvm/gos/go1.21.0/src/sync/waitgroup.go:116 +0x74
github.com/pingcap/tidb/pkg/executor/join.(*HashJoinExec).waitJoinWorkersAndCloseResultChan(0x1401df27cc0)
	/Users/bba/pc/tidb/pkg/executor/join/join.go:476 +0x30
github.com/pingcap/tidb/pkg/util.(*WaitGroupWrapper).RunWithRecover.func1()
	/Users/bba/pc/tidb/pkg/util/wait_group_wrapper.go:189 +0x60
created by github.com/pingcap/tidb/pkg/util.(*WaitGroupWrapper).RunWithRecover in goroutine 15906
	/Users/bba/pc/tidb/pkg/util/wait_group_wrapper.go:181 +0x90

goroutine 248676 [runnable]:
github.com/pingcap/tidb/pkg/executor/aggregate.(*HashAggPartialWorker).getChildInput(...)
	/Users/bba/pc/tidb/pkg/executor/aggregate/agg_hash_partial_worker.go:75
github.com/pingcap/tidb/pkg/executor/aggregate.(*HashAggPartialWorker).fetchChunkAndProcess(0x1401f9bf438, {0x109583080, 0x140088aa6c0}, 0x14000ea2736, 0x14000ea2735)
	/Users/bba/pc/tidb/pkg/executor/aggregate/agg_hash_partial_worker.go:98 +0xac
github.com/pingcap/tidb/pkg/executor/aggregate.(*HashAggPartialWorker).run(0x1401f9bf438, {0x109583080, 0x140088aa6c0}, 0x1401d103440, 0x5)
	/Users/bba/pc/tidb/pkg/executor/aggregate/agg_hash_partial_worker.go:210 +0xc4
created by github.com/pingcap/tidb/pkg/executor/aggregate.(*HashAggExec).prepare4ParallelExec in goroutine 248658
	/Users/bba/pc/tidb/pkg/executor/aggregate/agg_hash_executor.go:566 +0x140

goroutine 248660 [select]:
github.com/pingcap/tidb/pkg/executor/aggregate.(*HashAggPartialWorker).getChildInput(...)
	/Users/bba/pc/tidb/pkg/executor/aggregate/agg_hash_partial_worker.go:75
github.com/pingcap/tidb/pkg/executor/aggregate.(*HashAggPartialWorker).fetchChunkAndProcess(0x1401f9bf968, {0x109583080, 0x140088aa6c0}, 0x14005213f36, 0x14005213f35)
	/Users/bba/pc/tidb/pkg/executor/aggregate/agg_hash_partial_worker.go:98 +0xac
github.com/pingcap/tidb/pkg/executor/aggregate.(*HashAggPartialWorker).run(0x1401f9bf968, {0x109583080, 0x140088aa6c0}, 0x1401d103310, 0x5)
	/Users/bba/pc/tidb/pkg/executor/aggregate/agg_hash_partial_worker.go:210 +0xc4
created by github.com/pingcap/tidb/pkg/executor/aggregate.(*HashAggExec).prepare4ParallelExec in goroutine 248648
	/Users/bba/pc/tidb/pkg/executor/aggregate/agg_hash_executor.go:566 +0x140

goroutine 248662 [select]:
github.com/pingcap/tidb/pkg/executor/aggregate.(*HashAggPartialWorker).getChildInput(...)
	/Users/bba/pc/tidb/pkg/executor/aggregate/agg_hash_partial_worker.go:75
github.com/pingcap/tidb/pkg/executor/aggregate.(*HashAggPartialWorker).fetchChunkAndProcess(0x1401f9bfc38, {0x109583080, 0x140088aa6c0}, 0x14000e9f736, 0x14000e9f735)
	/Users/bba/pc/tidb/pkg/executor/aggregate/agg_hash_partial_worker.go:98 +0xac
github.com/pingcap/tidb/pkg/executor/aggregate.(*HashAggPartialWorker).run(0x1401f9bfc38, {0x109583080, 0x140088aa6c0}, 0x1401d103310, 0x5)
	/Users/bba/pc/tidb/pkg/executor/aggregate/agg_hash_partial_worker.go:210 +0xc4
created by github.com/pingcap/tidb/pkg/executor/aggregate.(*HashAggExec).prepare4ParallelExec in goroutine 248648
	/Users/bba/pc/tidb/pkg/executor/aggregate/agg_hash_executor.go:566 +0x140

goroutine 248650 [select]:
github.com/pingcap/tidb/pkg/executor/join.(*ProbeWorker).runJoinWorker(0x14068e7fe60)
	/Users/bba/pc/tidb/pkg/executor/join/join.go:522 +0x2b4
github.com/pingcap/tidb/pkg/executor/join.(*HashJoinExec).fetchAndProbeHashTable.func2()
	/Users/bba/pc/tidb/pkg/executor/join/join.go:412 +0x8c
github.com/pingcap/tidb/pkg/util.(*WaitGroupWrapper).RunWithRecover.func1()
	/Users/bba/pc/tidb/pkg/util/wait_group_wrapper.go:189 +0x60
created by github.com/pingcap/tidb/pkg/util.(*WaitGroupWrapper).RunWithRecover in goroutine 15906
	/Users/bba/pc/tidb/pkg/util/wait_group_wrapper.go:181 +0x90

goroutine 248668 [semacquire]:
sync.runtime_Semacquire(0x14005179ef8?)
	/Users/bba/.gvm/gos/go1.21.0/src/runtime/sema.go:62 +0x2c
sync.(*WaitGroup).Wait(0x1401d103310)
	/Users/bba/.gvm/gos/go1.21.0/src/sync/waitgroup.go:116 +0x74
github.com/pingcap/tidb/pkg/executor/aggregate.(*HashAggFinalWorker).run(0x1401cad9a58, {0x109583080, 0x140088aa6c0}, 0x1401d1033a0, 0x14068979450?)
	/Users/bba/pc/tidb/pkg/executor/aggregate/agg_hash_final_worker.go:229 +0x88
created by github.com/pingcap/tidb/pkg/executor/aggregate.(*HashAggExec).prepare4ParallelExec in goroutine 248648
	/Users/bba/pc/tidb/pkg/executor/aggregate/agg_hash_executor.go:580 +0x300

goroutine 248670 [semacquire]:
sync.runtime_Semacquire(0x1bf13895fb?)
	/Users/bba/.gvm/gos/go1.21.0/src/runtime/sema.go:62 +0x2c
sync.(*WaitGroup).Wait(0x1401d1033a0)
	/Users/bba/.gvm/gos/go1.21.0/src/sync/waitgroup.go:116 +0x74
github.com/pingcap/tidb/pkg/executor/aggregate.(*HashAggExec).prepare4ParallelExec.func2()
	/Users/bba/pc/tidb/pkg/executor/aggregate/agg_hash_executor.go:584 +0x40
created by github.com/pingcap/tidb/pkg/executor/aggregate.(*HashAggExec).prepare4ParallelExec in goroutine 248648
	/Users/bba/pc/tidb/pkg/executor/aggregate/agg_hash_executor.go:583 +0x460

goroutine 18194 [select]:
github.com/pingcap/tidb/pkg/disttask/framework/scheduler.(*Manager).collectLoop(0x1400684dec0)
	/Users/bba/pc/tidb/pkg/disttask/framework/scheduler/scheduler_manager.go:457 +0xd4
github.com/pingcap/tidb/pkg/util.(*WaitGroupWrapper).Run.func1()
	/Users/bba/pc/tidb/pkg/util/wait_group_wrapper.go:157 +0x58
created by github.com/pingcap/tidb/pkg/util.(*WaitGroupWrapper).Run in goroutine 16035
	/Users/bba/pc/tidb/pkg/util/wait_group_wrapper.go:155 +0x7c

goroutine 18193 [select, 1 minutes]:
github.com/pingcap/tidb/pkg/disttask/framework/scheduler.(*Manager).cleanupTaskLoop(0x1400684dec0)
	/Users/bba/pc/tidb/pkg/disttask/framework/scheduler/scheduler_manager.go:377 +0xd8
github.com/pingcap/tidb/pkg/util.(*WaitGroupWrapper).Run.func1()
	/Users/bba/pc/tidb/pkg/util/wait_group_wrapper.go:157 +0x58
created by github.com/pingcap/tidb/pkg/util.(*WaitGroupWrapper).Run in goroutine 16035
	/Users/bba/pc/tidb/pkg/util/wait_group_wrapper.go:155 +0x7c

goroutine 18191 [select]:
github.com/pingcap/tidb/pkg/disttask/framework/scheduler.(*Manager).scheduleTaskLoop(0x1400684dec0)
	/Users/bba/pc/tidb/pkg/disttask/framework/scheduler/scheduler_manager.go:204 +0xdc
github.com/pingcap/tidb/pkg/util.(*WaitGroupWrapper).Run.func1()
	/Users/bba/pc/tidb/pkg/util/wait_group_wrapper.go:157 +0x58
created by github.com/pingcap/tidb/pkg/util.(*WaitGroupWrapper).Run in goroutine 16035
	/Users/bba/pc/tidb/pkg/util/wait_group_wrapper.go:155 +0x7c

goroutine 18178 [select, 1 minutes]:
github.com/pingcap/tidb/pkg/domain.(*Domain).runawayRecordFlushLoop(0x14006f7b600)
	/Users/bba/pc/tidb/pkg/domain/runaway.go:273 +0x210
github.com/pingcap/tidb/pkg/util.(*WaitGroupEnhancedWrapper).Run.func1()
	/Users/bba/pc/tidb/pkg/util/wait_group_wrapper.go:99 +0x6c
created by github.com/pingcap/tidb/pkg/util.(*WaitGroupEnhancedWrapper).Run in goroutine 15915
	/Users/bba/pc/tidb/pkg/util/wait_group_wrapper.go:94 +0xc0

goroutine 18111 [select]:
github.com/pingcap/tidb/pkg/timer/runtime.(*TimerGroupRuntime).loop(0x1401f96d440, 0x0?)
	/Users/bba/pc/tidb/pkg/timer/runtime/runtime.go:188 +0x4a0
github.com/pingcap/tidb/pkg/timer/runtime.withRecoverUntil.func1()
	/Users/bba/pc/tidb/pkg/timer/runtime/runtime.go:494 +0x30
github.com/pingcap/tidb/pkg/util.WithRecovery(0x80dadd4e7db75?, 0x10c587560?)
	/Users/bba/pc/tidb/pkg/util/misc.go:97 +0x50
github.com/pingcap/tidb/pkg/timer/runtime.withRecoverUntil({0x10950a2e8, 0x14020b54230}, 0x14000b89f88)
	/Users/bba/pc/tidb/pkg/timer/runtime/runtime.go:493 +0x78
github.com/pingcap/tidb/pkg/timer/runtime.(*TimerGroupRuntime).Start.func1()
	/Users/bba/pc/tidb/pkg/timer/runtime/runtime.go:127 +0x40
github.com/pingcap/tidb/pkg/util.(*WaitGroupWrapper).Run.func1()
	/Users/bba/pc/tidb/pkg/util/wait_group_wrapper.go:157 +0x58
created by github.com/pingcap/tidb/pkg/util.(*WaitGroupWrapper).Run in goroutine 15996
	/Users/bba/pc/tidb/pkg/util/wait_group_wrapper.go:155 +0x7c

goroutine 248673 [runnable]:
github.com/pingcap/tidb/pkg/executor/aggregate.(*HashAggPartialWorker).getChildInput(...)
	/Users/bba/pc/tidb/pkg/executor/aggregate/agg_hash_partial_worker.go:75
github.com/pingcap/tidb/pkg/executor/aggregate.(*HashAggPartialWorker).fetchChunkAndProcess(0x1401f9bf000, {0x109583080, 0x140088aa6c0}, 0x14000ea1736, 0x14000ea1735)
	/Users/bba/pc/tidb/pkg/executor/aggregate/agg_hash_partial_worker.go:98 +0xac
github.com/pingcap/tidb/pkg/executor/aggregate.(*HashAggPartialWorker).run(0x1401f9bf000, {0x109583080, 0x140088aa6c0}, 0x1401d103440, 0x5)
	/Users/bba/pc/tidb/pkg/executor/aggregate/agg_hash_partial_worker.go:210 +0xc4
created by github.com/pingcap/tidb/pkg/executor/aggregate.(*HashAggExec).prepare4ParallelExec in goroutine 248658
	/Users/bba/pc/tidb/pkg/executor/aggregate/agg_hash_executor.go:566 +0x140

goroutine 248666 [semacquire]:
sync.runtime_Semacquire(0x140051746f8?)
	/Users/bba/.gvm/gos/go1.21.0/src/runtime/sema.go:62 +0x2c
sync.(*WaitGroup).Wait(0x1401d103310)
	/Users/bba/.gvm/gos/go1.21.0/src/sync/waitgroup.go:116 +0x74
github.com/pingcap/tidb/pkg/executor/aggregate.(*HashAggFinalWorker).run(0x1401cad9948, {0x109583080, 0x140088aa6c0}, 0x1401d1033a0, 0x14008596d28?)
	/Users/bba/pc/tidb/pkg/executor/aggregate/agg_hash_final_worker.go:229 +0x88
created by github.com/pingcap/tidb/pkg/executor/aggregate.(*HashAggExec).prepare4ParallelExec in goroutine 248648
	/Users/bba/pc/tidb/pkg/executor/aggregate/agg_hash_executor.go:580 +0x300

goroutine 248669 [semacquire]:
sync.runtime_Semacquire(0x14017c9b6f8?)
	/Users/bba/.gvm/gos/go1.21.0/src/runtime/sema.go:62 +0x2c
sync.(*WaitGroup).Wait(0x1401d103310)
	/Users/bba/.gvm/gos/go1.21.0/src/sync/waitgroup.go:116 +0x74
github.com/pingcap/tidb/pkg/executor/aggregate.(*HashAggFinalWorker).run(0x1401cad9ae0, {0x109583080, 0x140088aa6c0}, 0x1401d1033a0, 0x1406038b638?)
	/Users/bba/pc/tidb/pkg/executor/aggregate/agg_hash_final_worker.go:229 +0x88
created by github.com/pingcap/tidb/pkg/executor/aggregate.(*HashAggExec).prepare4ParallelExec in goroutine 248648
	/Users/bba/pc/tidb/pkg/executor/aggregate/agg_hash_executor.go:580 +0x300

goroutine 248677 [runnable]:
github.com/pingcap/tidb/pkg/executor/aggregate.(*HashAggPartialWorker).getChildInput(...)
	/Users/bba/pc/tidb/pkg/executor/aggregate/agg_hash_partial_worker.go:75
github.com/pingcap/tidb/pkg/executor/aggregate.(*HashAggPartialWorker).fetchChunkAndProcess(0x1401f9bf5a0, {0x109583080, 0x140088aa6c0}, 0x14017c9a736, 0x14017c9a735)
	/Users/bba/pc/tidb/pkg/executor/aggregate/agg_hash_partial_worker.go:98 +0xac
github.com/pingcap/tidb/pkg/executor/aggregate.(*HashAggPartialWorker).run(0x1401f9bf5a0, {0x109583080, 0x140088aa6c0}, 0x1401d103440, 0x5)
	/Users/bba/pc/tidb/pkg/executor/aggregate/agg_hash_partial_worker.go:210 +0xc4
created by github.com/pingcap/tidb/pkg/executor/aggregate.(*HashAggExec).prepare4ParallelExec in goroutine 248658
	/Users/bba/pc/tidb/pkg/executor/aggregate/agg_hash_executor.go:566 +0x140

goroutine 248653 [select]:
github.com/pingcap/tidb/pkg/executor/join.(*ProbeWorker).runJoinWorker(0x140691b0240)
	/Users/bba/pc/tidb/pkg/executor/join/join.go:522 +0x2b4
github.com/pingcap/tidb/pkg/executor/join.(*HashJoinExec).fetchAndProbeHashTable.func2()
	/Users/bba/pc/tidb/pkg/executor/join/join.go:412 +0x8c
github.com/pingcap/tidb/pkg/util.(*WaitGroupWrapper).RunWithRecover.func1()
	/Users/bba/pc/tidb/pkg/util/wait_group_wrapper.go:189 +0x60
created by github.com/pingcap/tidb/pkg/util.(*WaitGroupWrapper).RunWithRecover in goroutine 15906
	/Users/bba/pc/tidb/pkg/util/wait_group_wrapper.go:181 +0x90

goroutine 248675 [runnable]:
github.com/pingcap/tidb/pkg/executor/aggregate.(*HashAggPartialWorker).getChildInput(...)
	/Users/bba/pc/tidb/pkg/executor/aggregate/agg_hash_partial_worker.go:75
github.com/pingcap/tidb/pkg/executor/aggregate.(*HashAggPartialWorker).fetchChunkAndProcess(0x1401f9bf2d0, {0x109583080, 0x140088aa6c0}, 0x140000a6736, 0x140000a6735)
	/Users/bba/pc/tidb/pkg/executor/aggregate/agg_hash_partial_worker.go:98 +0xac
github.com/pingcap/tidb/pkg/executor/aggregate.(*HashAggPartialWorker).run(0x1401f9bf2d0, {0x109583080, 0x140088aa6c0}, 0x1401d103440, 0x5)
	/Users/bba/pc/tidb/pkg/executor/aggregate/agg_hash_partial_worker.go:210 +0xc4
created by github.com/pingcap/tidb/pkg/executor/aggregate.(*HashAggExec).prepare4ParallelExec in goroutine 248658
	/Users/bba/pc/tidb/pkg/executor/aggregate/agg_hash_executor.go:566 +0x140

goroutine 248681 [semacquire]:
sync.runtime_Semacquire(0x14017c97ef8?)
	/Users/bba/.gvm/gos/go1.21.0/src/runtime/sema.go:62 +0x2c
sync.(*WaitGroup).Wait(0x1401d103440)
	/Users/bba/.gvm/gos/go1.21.0/src/sync/waitgroup.go:116 +0x74
github.com/pingcap/tidb/pkg/executor/aggregate.(*HashAggFinalWorker).run(0x1401cad9710, {0x109583080, 0x140088aa6c0}, 0x1401d103490, 0x5?)
	/Users/bba/pc/tidb/pkg/executor/aggregate/agg_hash_final_worker.go:229 +0x88
created by github.com/pingcap/tidb/pkg/executor/aggregate.(*HashAggExec).prepare4ParallelExec in goroutine 248658
	/Users/bba/pc/tidb/pkg/executor/aggregate/agg_hash_executor.go:580 +0x300

goroutine 248679 [semacquire]:
sync.runtime_Semacquire(0x140001146f8?)
	/Users/bba/.gvm/gos/go1.21.0/src/runtime/sema.go:62 +0x2c
sync.(*WaitGroup).Wait(0x1401d103440)
	/Users/bba/.gvm/gos/go1.21.0/src/sync/waitgroup.go:116 +0x74
github.com/pingcap/tidb/pkg/executor/aggregate.(*HashAggFinalWorker).run(0x1401cad9600, {0x109583080, 0x140088aa6c0}, 0x1401d103490, 0x1401cb03e20?)
	/Users/bba/pc/tidb/pkg/executor/aggregate/agg_hash_final_worker.go:229 +0x88
created by github.com/pingcap/tidb/pkg/executor/aggregate.(*HashAggExec).prepare4ParallelExec in goroutine 248658
	/Users/bba/pc/tidb/pkg/executor/aggregate/agg_hash_executor.go:580 +0x300

goroutine 248684 [semacquire]:
sync.runtime_Semacquire(0x1bf1390f66?)
	/Users/bba/.gvm/gos/go1.21.0/src/runtime/sema.go:62 +0x2c
sync.(*WaitGroup).Wait(0x1401d103490)
	/Users/bba/.gvm/gos/go1.21.0/src/sync/waitgroup.go:116 +0x74
github.com/pingcap/tidb/pkg/executor/aggregate.(*HashAggExec).prepare4ParallelExec.func2()
	/Users/bba/pc/tidb/pkg/executor/aggregate/agg_hash_executor.go:584 +0x40
created by github.com/pingcap/tidb/pkg/executor/aggregate.(*HashAggExec).prepare4ParallelExec in goroutine 248658
	/Users/bba/pc/tidb/pkg/executor/aggregate/agg_hash_executor.go:583 +0x460

goroutine 248667 [semacquire]:
sync.runtime_Semacquire(0x14017c986f8?)
	/Users/bba/.gvm/gos/go1.21.0/src/runtime/sema.go:62 +0x2c
sync.(*WaitGroup).Wait(0x1401d103310)
	/Users/bba/.gvm/gos/go1.21.0/src/sync/waitgroup.go:116 +0x74
github.com/pingcap/tidb/pkg/executor/aggregate.(*HashAggFinalWorker).run(0x1401cad99d0, {0x109583080, 0x140088aa6c0}, 0x1401d1033a0, 0x140091bb360?)
	/Users/bba/pc/tidb/pkg/executor/aggregate/agg_hash_final_worker.go:229 +0x88
created by github.com/pingcap/tidb/pkg/executor/aggregate.(*HashAggExec).prepare4ParallelExec in goroutine 248648
	/Users/bba/pc/tidb/pkg/executor/aggregate/agg_hash_executor.go:580 +0x300
[FAIL]  pkg/ddl/tests/serial TestRecoverTableByJobID
err=exit status 1
[2024/05/17 10:51:55.118 +08:00] [INFO] [store_cache.go:510] ["change store resolve state"] [store=1] [addr=store1] [from=unresolved] [to=resolved] [liveness-state=reachable]
[2024/05/17 10:51:55.127 +08:00] [INFO] [ddl_api.go:1141] ["Automatically convert BLOB(65535) to MEDIUMBLOB"] [category=ddl]
[2024/05/17 10:51:55.128 +08:00] [INFO] [ddl_api.go:1141] ["Automatically convert BLOB(65535) to MEDIUMBLOB"] [category=ddl]
[2024/05/17 10:51:55.130 +08:00] [INFO] [ddl_api.go:1141] ["Automatically convert BLOB(65535) to MEDIUMBLOB"] [category=ddl]
[2024/05/17 10:51:55.130 +08:00] [INFO] [ddl_api.go:1141] ["Automatically convert BLOB(65535) to MEDIUMBLOB"] [category=ddl]
[2024/05/17 10:51:55.136 +08:00] [INFO] [ddl_api.go:1141] ["Automatically convert BLOB(65535) to MEDIUMBLOB"] [category=ddl]
[2024/05/17 10:51:55.139 +08:00] [INFO] [tidb.go:80] ["new domain"] [store=b3176dd9-d5ea-4197-adf7-3566370a9908] ["ddl lease"=200ms] ["stats lease"=-1ns]
[2024/05/17 10:51:55.146 +08:00] [WARN] [controller.go:198] ["[resource group controller] server does not save config, load config failed"]
[2024/05/17 10:51:55.146 +08:00] [INFO] [controller.go:185] ["load resource controller config"] [config="{\"degraded-mode-wait-duration\":\"0s\",\"ltb-max-wait-duration\":\"30s\",\"wait-retry-interval\":\"50ms\",\"wait-retry-times\":10,\"request-unit\":{\"read-base-cost\":0.125,\"read-per-batch-base-cost\":0.5,\"read-cost-per-byte\":0.0000152587890625,\"write-base-cost\":1,\"write-per-batch-base-cost\":1,\"write-cost-per-byte\":0.0009765625,\"read-cpu-ms-cost\":0.3333333333333333},\"enable-controller-trace-log\":\"false\"}"] [ru-config="{\"ReadBaseCost\":0.125,\"ReadPerBatchBaseCost\":0.5,\"ReadBytesCost\":0.0000152587890625,\"WriteBaseCost\":1,\"WritePerBatchBaseCost\":1,\"WriteBytesCost\":0.0009765625,\"CPUMsCost\":0.3333333333333333,\"LTBMaxWaitDuration\":30000000000,\"WaitRetryInterval\":50000000,\"WaitRetryTimes\":10,\"DegradedModeWaitDuration\":0}"]
[2024/05/17 10:51:55.147 +08:00] [WARN] [domain.go:302] ["failed to get schema version"] [error="There is no Write MVCC info for the schema version"] [errorVerbose="There is no Write MVCC info for the schema version\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).getTimestampForSchemaVersionWithNonEmptyDiff\n\t/Users/bba/pc/tidb/pkg/domain/domain.go:405\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).loadInfoSchema\n\t/Users/bba/pc/tidb/pkg/domain/domain.go:300\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).Reload\n\t/Users/bba/pc/tidb/pkg/domain/domain.go:676\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).Init\n\t/Users/bba/pc/tidb/pkg/domain/domain.go:1330\ngithub.com/pingcap/tidb/pkg/session.(*domainMap).Get.func1\n\t/Users/bba/pc/tidb/pkg/session/tidb.go:92\ngithub.com/pingcap/tidb/pkg/util.RunWithRetry\n\t/Users/bba/pc/tidb/pkg/util/misc.go:70\ngithub.com/pingcap/tidb/pkg/session.(*domainMap).Get\n\t/Users/bba/pc/tidb/pkg/session/tidb.go:79\ngithub.com/pingcap/tidb/pkg/session.createSessionWithOpt\n\t/Users/bba/pc/tidb/pkg/session/session.go:3634\ngithub.com/pingcap/tidb/pkg/session.createSession\n\t/Users/bba/pc/tidb/pkg/session/session.go:3626\ngithub.com/pingcap/tidb/pkg/session.runInBootstrapSession\n\t/Users/bba/pc/tidb/pkg/session/session.go:3576\ngithub.com/pingcap/tidb/pkg/session.bootstrapSessionImpl\n\t/Users/bba/pc/tidb/pkg/session/session.go:3352\ngithub.com/pingcap/tidb/pkg/session.BootstrapSession\n\t/Users/bba/pc/tidb/pkg/session/session.go:3318\ngithub.com/pingcap/tidb/pkg/ddl/tests/serial.createMockStoreAndDomain\n\t/Users/bba/pc/tidb/pkg/ddl/tests/serial/serial_test.go:421\ngithub.com/pingcap/tidb/pkg/ddl/tests/serial.TestRecoverTableByJobID\n\t/Users/bba/pc/tidb/pkg/ddl/tests/serial/serial_test.go:533\ntesting.tRunner\n\t/Users/bba/.gvm/gos/go1.21.0/src/testing/testing.go:1595\nruntime.goexit\n\t/Users/bba/.gvm/gos/go1.21.0/src/runtime/asm_arm64.s:1197"] [version=0]
[2024/05/17 10:51:55.155 +08:00] [INFO] [domain.go:385] ["full load InfoSchema success"] [currentSchemaVersion=0] [neededSchemaVersion=0] ["start time"=7.80075ms]
[2024/05/17 10:51:55.156 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=0] ["schema version"=0]
[2024/05/17 10:51:55.156 +08:00] [INFO] [domain.go:705] ["full load and reset schema validator"]
[2024/05/17 10:51:55.156 +08:00] [INFO] [ddl.go:818] ["start DDL"] [category=ddl] [ID=7c38a9d1-2221-471f-aa9f-edbc8c2531aa] [runWorker=true]
[2024/05/17 10:51:55.156 +08:00] [INFO] [ddl.go:777] ["start delRangeManager OK"] [category=ddl] ["is a emulator"=true]
[2024/05/17 10:51:55.156 +08:00] [WARN] [env.go:51] ["initialize environment failed"] [category=ddl-ingest] ["storage limitation"="only support TiKV storage"] ["current storage"=unistore] ["lightning is initialized"=false]
[2024/05/17 10:51:55.157 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=loadSchemaInLoop]
[2024/05/17 10:51:55.157 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=mdlCheckLoop]
[2024/05/17 10:51:55.157 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=topNSlowQueryLoop]
[2024/05/17 10:51:55.157 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=infoSyncerKeeper]
[2024/05/17 10:51:55.157 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=globalConfigSyncerKeeper]
[2024/05/17 10:51:55.157 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=runawayStartLoop]
[2024/05/17 10:51:55.157 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=requestUnitsWriterLoop]
[2024/05/17 10:51:55.157 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=topologySyncerKeeper]
[2024/05/17 10:51:55.157 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=closestReplicaReadCheckLoop]
[2024/05/17 10:51:55.157 +08:00] [WARN] [domain.go:1396] ["pd / etcd client not provided, won't begin Advancer."]
[2024/05/17 10:51:55.165 +08:00] [INFO] [delete_range.go:172] ["start delRange emulator"] [category=ddl]
[2024/05/17 10:51:55.167 +08:00] [INFO] [job_table.go:334] ["get global state and global state change"] [category=ddl] [oldState=false] [currState=false]
[2024/05/17 10:51:55.168 +08:00] [INFO] [runaway.go:149] ["try to start runaway manager loop"]
[2024/05/17 10:51:55.168 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=requestUnitsWriterLoop]
[2024/05/17 10:51:55.217 +08:00] [INFO] [job_table.go:334] ["get global state and global state change"] [category=ddl] [oldState=false] [currState=false]
[2024/05/17 10:51:55.217 +08:00] [INFO] [job_table.go:349] ["the owner sets owner operator value"] [category=ddl] [ownerOp=none]
[2024/05/17 10:51:55.271 +08:00] [WARN] [domain.go:302] ["failed to get schema version"] [error="There is no Write MVCC info for the schema version"] [errorVerbose="There is no Write MVCC info for the schema version\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).getTimestampForSchemaVersionWithNonEmptyDiff\n\t/Users/bba/pc/tidb/pkg/domain/domain.go:405\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).loadInfoSchema\n\t/Users/bba/pc/tidb/pkg/domain/domain.go:300\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).Reload\n\t/Users/bba/pc/tidb/pkg/domain/domain.go:676\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).loadSchemaInLoop\n\t/Users/bba/pc/tidb/pkg/domain/domain.go:984\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).Init.func2\n\t/Users/bba/pc/tidb/pkg/domain/domain.go:1357\ngithub.com/pingcap/tidb/pkg/util.(*WaitGroupEnhancedWrapper).Run.func1\n\t/Users/bba/pc/tidb/pkg/util/wait_group_wrapper.go:99\nruntime.goexit\n\t/Users/bba/.gvm/gos/go1.21.0/src/runtime/asm_arm64.s:1197"] [version=0]
[2024/05/17 10:51:55.271 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=0] ["schema version"=0]
[2024/05/17 10:51:55.367 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=0] [cur_db=mysql] [sql="CREATE DATABASE IF NOT EXISTS test"] [user=]
[2024/05/17 10:51:55.369 +08:00] [WARN] [domain.go:302] ["failed to get schema version"] [error="There is no Write MVCC info for the schema version"] [errorVerbose="There is no Write MVCC info for the schema version\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).getTimestampForSchemaVersionWithNonEmptyDiff\n\t/Users/bba/pc/tidb/pkg/domain/domain.go:405\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).loadInfoSchema\n\t/Users/bba/pc/tidb/pkg/domain/domain.go:300\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).Reload\n\t/Users/bba/pc/tidb/pkg/domain/domain.go:676\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).loadSchemaInLoop\n\t/Users/bba/pc/tidb/pkg/domain/domain.go:984\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).Init.func2\n\t/Users/bba/pc/tidb/pkg/domain/domain.go:1357\ngithub.com/pingcap/tidb/pkg/util.(*WaitGroupEnhancedWrapper).Run.func1\n\t/Users/bba/pc/tidb/pkg/util/wait_group_wrapper.go:99\nruntime.goexit\n\t/Users/bba/.gvm/gos/go1.21.0/src/runtime/asm_arm64.s:1197"] [version=0]
[2024/05/17 10:51:55.369 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=0] ["schema version"=0]
[2024/05/17 10:51:55.379 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:3, Type:create schema, State:queueing, SchemaState:none, SchemaID:2, TableID:0, RowCount:0, ArgLen:1, start time: 2024-05-17 10:51:55.372 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:51:55.379 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:3, Type:create schema, State:queueing, SchemaState:none, SchemaID:2, TableID:0, RowCount:0, ArgLen:1, start time: 2024-05-17 10:51:55.372 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE DATABASE IF NOT EXISTS test"]
[2024/05/17 10:51:55.399 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=3] [category=ddl] [job="ID:3, Type:create schema, State:queueing, SchemaState:none, SchemaID:2, TableID:0, RowCount:0, ArgLen:0, start time: 2024-05-17 10:51:55.372 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:51:55.411 +08:00] [INFO] [domain.go:385] ["full load InfoSchema success"] [currentSchemaVersion=0] [neededSchemaVersion=1] ["start time"=6.847792ms]
[2024/05/17 10:51:55.411 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642297266176] ["schema version"=1]
[2024/05/17 10:51:55.412 +08:00] [INFO] [domain.go:705] ["full load and reset schema validator"]
[2024/05/17 10:51:55.412 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:51:55.412 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=3] [version=1]
[2024/05/17 10:51:55.414 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=1] ["take time"=10.19575ms] [job="ID:3, Type:create schema, State:done, SchemaState:public, SchemaID:2, TableID:0, RowCount:0, ArgLen:1, start time: 2024-05-17 10:51:55.372 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:51:55.416 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642297266176] ["schema version"=1]
[2024/05/17 10:51:55.423 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=3] [job="ID:3, Type:create schema, State:synced, SchemaState:public, SchemaID:2, TableID:0, RowCount:0, ArgLen:0, start time: 2024-05-17 10:51:55.372 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:51:55.429 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642297266176] ["schema version"=1]
[2024/05/17 10:51:55.429 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=3]
[2024/05/17 10:51:55.429 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:51:55.429 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642297266176] ["schema version"=1]
[2024/05/17 10:51:55.430 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=1] [cur_db=mysql] [sql="CREATE DATABASE IF NOT EXISTS `mysql`"] [user=]
[2024/05/17 10:51:55.431 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=1] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.user (\n\t\tHost\t\t\t\t\tCHAR(255),\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tauthentication_string\tTEXT,\n\t\tplugin\t\t\t\t\tCHAR(64),\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tProcess_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_db_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tSuper_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_user_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_slave_priv\t    \tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_client_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_role_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_role_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAccount_locked\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShutdown_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReload_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tFILE_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tConfig_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_Tablespace_Priv  ENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPassword_reuse_history  smallint unsigned DEFAULT NULL,\n\t\tPassword_reuse_time     smallint unsigned DEFAULT NULL,\n\t\tUser_attributes\t\t\tjson,\n\t\tToken_issuer\t\t\tVARCHAR(255),\n\t\tPassword_expired\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPassword_last_changed\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP(),\n\t\tPassword_lifetime\t\tSMALLINT UNSIGNED DEFAULT NULL,\n\t\tPRIMARY KEY (Host, User));"] [user=]
[2024/05/17 10:51:55.436 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:5, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:4, RowCount:0, ArgLen:2, start time: 2024-05-17 10:51:55.432 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:51:55.436 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:5, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:4, RowCount:0, ArgLen:2, start time: 2024-05-17 10:51:55.432 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.user (\n\t\tHost\t\t\t\t\tCHAR(255),\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tauthentication_string\tTEXT,\n\t\tplugin\t\t\t\t\tCHAR(64),\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tProcess_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_db_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tSuper_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_user_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_slave_priv\t    \tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_client_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_role_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_role_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAccount_locked\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShutdown_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReload_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tFILE_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tConfig_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_Tablespace_Priv  ENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPassword_reuse_history  smallint unsigned DEFAULT NULL,\n\t\tPassword_reuse_time     smallint unsigned DEFAULT NULL,\n\t\tUser_attributes\t\t\tjson,\n\t\tToken_issuer\t\t\tVARCHAR(255),\n\t\tPassword_expired\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPassword_last_changed\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP(),\n\t\tPassword_lifetime\t\tSMALLINT UNSIGNED DEFAULT NULL,\n\t\tPRIMARY KEY (Host, User));"]
[2024/05/17 10:51:55.441 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=5] [category=ddl] [job="ID:5, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:4, RowCount:0, ArgLen:0, start time: 2024-05-17 10:51:55.432 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:51:55.450 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642308800512] ["schema version"=2]
[2024/05/17 10:51:55.450 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=1] [neededSchemaVersion=2] ["start time"=878.042µs] [gotSchemaVersion=2] [phyTblIDs="[4]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:51:55.451 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:51:55.451 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=5] [version=2]
[2024/05/17 10:51:55.452 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=2] ["take time"=2.938ms] [job="ID:5, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:4, RowCount:0, ArgLen:2, start time: 2024-05-17 10:51:55.432 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:51:55.452 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642308800512] ["schema version"=2]
[2024/05/17 10:51:55.459 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=5] [job="ID:5, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:4, RowCount:0, ArgLen:0, start time: 2024-05-17 10:51:55.432 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:51:55.467 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642308800512] ["schema version"=2]
[2024/05/17 10:51:55.469 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=5]
[2024/05/17 10:51:55.469 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:51:55.469 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642308800512] ["schema version"=2]
[2024/05/17 10:51:55.470 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=2] [cur_db=mysql] [sql="CREATE TABLE  IF NOT EXISTS mysql.password_history (\n         Host char(255)  NOT NULL DEFAULT '',\n         User char(32)  NOT NULL DEFAULT '',\n         Password_timestamp timestamp(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6),\n         Password text,\n         PRIMARY KEY (Host,User,Password_timestamp )\n        ) COMMENT='Password history for user accounts' "] [user=]
[2024/05/17 10:51:55.470 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642308800512] ["schema version"=2]
[2024/05/17 10:51:55.477 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:7, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:6, RowCount:0, ArgLen:2, start time: 2024-05-17 10:51:55.473 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:51:55.477 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:7, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:6, RowCount:0, ArgLen:2, start time: 2024-05-17 10:51:55.473 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE  IF NOT EXISTS mysql.password_history (\n         Host char(255)  NOT NULL DEFAULT '',\n         User char(32)  NOT NULL DEFAULT '',\n         Password_timestamp timestamp(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6),\n         Password text,\n         PRIMARY KEY (Host,User,Password_timestamp )\n        ) COMMENT='Password history for user accounts' "]
[2024/05/17 10:51:55.490 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=7] [category=ddl] [job="ID:7, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:6, RowCount:0, ArgLen:0, start time: 2024-05-17 10:51:55.473 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:51:55.494 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642320596992] ["schema version"=3]
[2024/05/17 10:51:55.494 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=2] [neededSchemaVersion=3] ["start time"=595.125µs] [gotSchemaVersion=3] [phyTblIDs="[6]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:51:55.495 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:51:55.495 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=7] [version=3]
[2024/05/17 10:51:55.496 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=3] ["take time"=3.062834ms] [job="ID:7, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:6, RowCount:0, ArgLen:2, start time: 2024-05-17 10:51:55.473 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:51:55.497 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642320596992] ["schema version"=3]
[2024/05/17 10:51:55.501 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=7] [job="ID:7, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:6, RowCount:0, ArgLen:0, start time: 2024-05-17 10:51:55.473 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:51:55.504 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642320596992] ["schema version"=3]
[2024/05/17 10:51:55.504 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=7]
[2024/05/17 10:51:55.504 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:51:55.504 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642320596992] ["schema version"=3]
[2024/05/17 10:51:55.504 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=3] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.global_priv (Host CHAR(255) NOT NULL DEFAULT '',User CHAR(80) NOT NULL DEFAULT '',Priv LONGTEXT NOT NULL DEFAULT '',PRIMARY KEY (Host, User))"] [user=]
[2024/05/17 10:51:55.507 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:9, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:8, RowCount:0, ArgLen:2, start time: 2024-05-17 10:51:55.506 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:51:55.507 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:9, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:8, RowCount:0, ArgLen:2, start time: 2024-05-17 10:51:55.506 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.global_priv (Host CHAR(255) NOT NULL DEFAULT '',User CHAR(80) NOT NULL DEFAULT '',Priv LONGTEXT NOT NULL DEFAULT '',PRIMARY KEY (Host, User))"]
[2024/05/17 10:51:55.511 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=9] [category=ddl] [job="ID:9, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:8, RowCount:0, ArgLen:0, start time: 2024-05-17 10:51:55.506 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:51:55.513 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642325839872] ["schema version"=4]
[2024/05/17 10:51:55.513 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=3] [neededSchemaVersion=4] ["start time"=191.875µs] [gotSchemaVersion=4] [phyTblIDs="[8]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:51:55.514 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:51:55.514 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=9] [version=4]
[2024/05/17 10:51:55.515 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=4] ["take time"=2.095542ms] [job="ID:9, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:8, RowCount:0, ArgLen:2, start time: 2024-05-17 10:51:55.506 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:51:55.516 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642325839872] ["schema version"=4]
[2024/05/17 10:51:55.520 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=9] [job="ID:9, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:8, RowCount:0, ArgLen:0, start time: 2024-05-17 10:51:55.506 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:51:55.522 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642325839872] ["schema version"=4]
[2024/05/17 10:51:55.523 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=9]
[2024/05/17 10:51:55.523 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:51:55.523 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642325839872] ["schema version"=4]
[2024/05/17 10:51:55.523 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=4] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.db (\n\t\tHost\t\t\t\t\tCHAR(255),\n\t\tDB\t\t\t\t\t\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv \t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (Host, DB, User));"] [user=]
[2024/05/17 10:51:55.526 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:11, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:10, RowCount:0, ArgLen:2, start time: 2024-05-17 10:51:55.525 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:51:55.526 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:11, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:10, RowCount:0, ArgLen:2, start time: 2024-05-17 10:51:55.525 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.db (\n\t\tHost\t\t\t\t\tCHAR(255),\n\t\tDB\t\t\t\t\t\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv \t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (Host, DB, User));"]
[2024/05/17 10:51:55.530 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=11] [category=ddl] [job="ID:11, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:10, RowCount:0, ArgLen:0, start time: 2024-05-17 10:51:55.525 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:51:55.534 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642330820608] ["schema version"=5]
[2024/05/17 10:51:55.534 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=4] [neededSchemaVersion=5] ["start time"=1.455833ms] [gotSchemaVersion=5] [phyTblIDs="[10]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:51:55.535 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:51:55.535 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=11] [version=5]
[2024/05/17 10:51:55.538 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=5] ["take time"=5.116875ms] [job="ID:11, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:10, RowCount:0, ArgLen:2, start time: 2024-05-17 10:51:55.525 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:51:55.539 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642330820608] ["schema version"=5]
[2024/05/17 10:51:55.543 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=11] [job="ID:11, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:10, RowCount:0, ArgLen:0, start time: 2024-05-17 10:51:55.525 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:51:55.545 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642330820608] ["schema version"=5]
[2024/05/17 10:51:55.545 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=11]
[2024/05/17 10:51:55.545 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:51:55.545 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642330820608] ["schema version"=5]
[2024/05/17 10:51:55.545 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=5] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tables_priv (\n\t\tHost\t\tCHAR(255),\n\t\tDB\t\t\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tGrantor\t\tCHAR(77),\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tTable_priv\tSET('Select','Insert','Update','Delete','Create','Drop','Grant','Index','Alter','Create View','Show View','Trigger','References'),\n\t\tColumn_priv\tSET('Select','Insert','Update','References'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name));"] [user=]
[2024/05/17 10:51:55.547 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:13, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:12, RowCount:0, ArgLen:2, start time: 2024-05-17 10:51:55.546 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:51:55.547 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:13, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:12, RowCount:0, ArgLen:2, start time: 2024-05-17 10:51:55.546 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tables_priv (\n\t\tHost\t\tCHAR(255),\n\t\tDB\t\t\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tGrantor\t\tCHAR(77),\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tTable_priv\tSET('Select','Insert','Update','Delete','Create','Drop','Grant','Index','Alter','Create View','Show View','Trigger','References'),\n\t\tColumn_priv\tSET('Select','Insert','Update','References'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name));"]
[2024/05/17 10:51:55.552 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=13] [category=ddl] [job="ID:13, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:12, RowCount:0, ArgLen:0, start time: 2024-05-17 10:51:55.546 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:51:55.553 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642336325632] ["schema version"=6]
[2024/05/17 10:51:55.554 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=5] [neededSchemaVersion=6] ["start time"=392.375µs] [gotSchemaVersion=6] [phyTblIDs="[12]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:51:55.554 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:51:55.554 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=13] [version=6]
[2024/05/17 10:51:55.556 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=6] ["take time"=2.577041ms] [job="ID:13, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:12, RowCount:0, ArgLen:2, start time: 2024-05-17 10:51:55.546 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:51:55.557 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642336325632] ["schema version"=6]
[2024/05/17 10:51:55.561 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=13] [job="ID:13, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:12, RowCount:0, ArgLen:0, start time: 2024-05-17 10:51:55.546 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:51:55.563 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642336325632] ["schema version"=6]
[2024/05/17 10:51:55.563 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=13]
[2024/05/17 10:51:55.564 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:51:55.564 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642336325632] ["schema version"=6]
[2024/05/17 10:51:55.564 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=6] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.columns_priv(\n\t\tHost\t\tCHAR(255),\n\t\tDB\t\t\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tColumn_name\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tColumn_priv\tSET('Select','Insert','Update','References'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name, Column_name));"] [user=]
[2024/05/17 10:51:55.566 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:15, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:14, RowCount:0, ArgLen:2, start time: 2024-05-17 10:51:55.565 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:51:55.566 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:15, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:14, RowCount:0, ArgLen:2, start time: 2024-05-17 10:51:55.565 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.columns_priv(\n\t\tHost\t\tCHAR(255),\n\t\tDB\t\t\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tColumn_name\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tColumn_priv\tSET('Select','Insert','Update','References'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name, Column_name));"]
[2024/05/17 10:51:55.568 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642336325632] ["schema version"=6]
[2024/05/17 10:51:55.571 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=15] [category=ddl] [job="ID:15, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:14, RowCount:0, ArgLen:0, start time: 2024-05-17 10:51:55.565 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:51:55.573 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642341306369] ["schema version"=7]
[2024/05/17 10:51:55.573 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=6] [neededSchemaVersion=7] ["start time"=257.417µs] [gotSchemaVersion=7] [phyTblIDs="[14]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:51:55.573 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:51:55.573 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=15] [version=7]
[2024/05/17 10:51:55.575 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=7] ["take time"=2.38025ms] [job="ID:15, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:14, RowCount:0, ArgLen:2, start time: 2024-05-17 10:51:55.565 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:51:55.575 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642341306369] ["schema version"=7]
[2024/05/17 10:51:55.579 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=15] [job="ID:15, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:14, RowCount:0, ArgLen:0, start time: 2024-05-17 10:51:55.565 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:51:55.582 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642341306369] ["schema version"=7]
[2024/05/17 10:51:55.582 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=15]
[2024/05/17 10:51:55.582 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:51:55.582 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642341306369] ["schema version"=7]
[2024/05/17 10:51:55.582 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=7] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.GLOBAL_VARIABLES(\n\t\tVARIABLE_NAME  VARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE VARCHAR(16383) DEFAULT NULL);"] [user=]
[2024/05/17 10:51:55.584 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:17, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:16, RowCount:0, ArgLen:2, start time: 2024-05-17 10:51:55.583 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:51:55.584 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:17, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:16, RowCount:0, ArgLen:2, start time: 2024-05-17 10:51:55.583 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.GLOBAL_VARIABLES(\n\t\tVARIABLE_NAME  VARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE VARCHAR(16383) DEFAULT NULL);"]
[2024/05/17 10:51:55.588 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=17] [category=ddl] [job="ID:17, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:16, RowCount:0, ArgLen:0, start time: 2024-05-17 10:51:55.583 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:51:55.591 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642345762818] ["schema version"=8]
[2024/05/17 10:51:55.591 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=7] [neededSchemaVersion=8] ["start time"=169.25µs] [gotSchemaVersion=8] [phyTblIDs="[16]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:51:55.591 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:51:55.591 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=17] [version=8]
[2024/05/17 10:51:55.593 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=8] ["take time"=2.0155ms] [job="ID:17, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:16, RowCount:0, ArgLen:2, start time: 2024-05-17 10:51:55.583 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:51:55.593 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642345762818] ["schema version"=8]
[2024/05/17 10:51:55.597 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=17] [job="ID:17, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:16, RowCount:0, ArgLen:0, start time: 2024-05-17 10:51:55.583 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:51:55.599 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642345762818] ["schema version"=8]
[2024/05/17 10:51:55.599 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=17]
[2024/05/17 10:51:55.599 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:51:55.599 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642345762818] ["schema version"=8]
[2024/05/17 10:51:55.599 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=8] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb(\n\t\tVARIABLE_NAME  \tVARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE \tVARCHAR(1024) DEFAULT NULL,\n\t\tCOMMENT \t\tVARCHAR(1024));"] [user=]
[2024/05/17 10:51:55.601 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:19, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:18, RowCount:0, ArgLen:2, start time: 2024-05-17 10:51:55.6 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:51:55.601 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:19, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:18, RowCount:0, ArgLen:2, start time: 2024-05-17 10:51:55.6 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb(\n\t\tVARIABLE_NAME  \tVARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE \tVARCHAR(1024) DEFAULT NULL,\n\t\tCOMMENT \t\tVARCHAR(1024));"]
[2024/05/17 10:51:55.605 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=19] [category=ddl] [job="ID:19, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:18, RowCount:0, ArgLen:0, start time: 2024-05-17 10:51:55.6 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:51:55.606 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642350219264] ["schema version"=9]
[2024/05/17 10:51:55.606 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=8] [neededSchemaVersion=9] ["start time"=163.125µs] [gotSchemaVersion=9] [phyTblIDs="[18]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:51:55.607 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:51:55.607 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=19] [version=9]
[2024/05/17 10:51:55.609 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=9] ["take time"=2.597542ms] [job="ID:19, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:18, RowCount:0, ArgLen:2, start time: 2024-05-17 10:51:55.6 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:51:55.609 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642350219264] ["schema version"=9]
[2024/05/17 10:51:55.611 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=19] [job="ID:19, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:18, RowCount:0, ArgLen:0, start time: 2024-05-17 10:51:55.6 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:51:55.614 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642350219264] ["schema version"=9]
[2024/05/17 10:51:55.614 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=19]
[2024/05/17 10:51:55.614 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:51:55.614 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642350219264] ["schema version"=9]
[2024/05/17 10:51:55.615 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=9] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.help_topic (\n  \t\thelp_topic_id \t\tINT(10) UNSIGNED NOT NULL,\n  \t\tname \t\t\t\tCHAR(64) NOT NULL,\n  \t\thelp_category_id \tSMALLINT(5) UNSIGNED NOT NULL,\n  \t\tdescription \t\tTEXT NOT NULL,\n  \t\texample \t\t\tTEXT NOT NULL,\n  \t\turl \t\t\t\tTEXT NOT NULL,\n  \t\tPRIMARY KEY (help_topic_id) clustered,\n  \t\tUNIQUE KEY name (name)\n\t\t) ENGINE=InnoDB DEFAULT CHARSET=utf8 STATS_PERSISTENT=0 COMMENT='help topics';"] [user=]
[2024/05/17 10:51:55.618 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:21, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:20, RowCount:0, ArgLen:2, start time: 2024-05-17 10:51:55.617 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:51:55.618 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:21, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:20, RowCount:0, ArgLen:2, start time: 2024-05-17 10:51:55.617 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.help_topic (\n  \t\thelp_topic_id \t\tINT(10) UNSIGNED NOT NULL,\n  \t\tname \t\t\t\tCHAR(64) NOT NULL,\n  \t\thelp_category_id \tSMALLINT(5) UNSIGNED NOT NULL,\n  \t\tdescription \t\tTEXT NOT NULL,\n  \t\texample \t\t\tTEXT NOT NULL,\n  \t\turl \t\t\t\tTEXT NOT NULL,\n  \t\tPRIMARY KEY (help_topic_id) clustered,\n  \t\tUNIQUE KEY name (name)\n\t\t) ENGINE=InnoDB DEFAULT CHARSET=utf8 STATS_PERSISTENT=0 COMMENT='help topics';"]
[2024/05/17 10:51:55.622 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=21] [category=ddl] [job="ID:21, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:20, RowCount:0, ArgLen:0, start time: 2024-05-17 10:51:55.617 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:51:55.628 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642355724288] ["schema version"=10]
[2024/05/17 10:51:55.628 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=9] [neededSchemaVersion=10] ["start time"=389.875µs] [gotSchemaVersion=10] [phyTblIDs="[20]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:51:55.629 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:51:55.629 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=21] [version=10]
[2024/05/17 10:51:55.631 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=10] ["take time"=3.088375ms] [job="ID:21, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:20, RowCount:0, ArgLen:2, start time: 2024-05-17 10:51:55.617 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:51:55.632 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642355724288] ["schema version"=10]
[2024/05/17 10:51:55.637 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=21] [job="ID:21, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:20, RowCount:0, ArgLen:0, start time: 2024-05-17 10:51:55.617 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:51:55.640 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642355724288] ["schema version"=10]
[2024/05/17 10:51:55.640 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=21]
[2024/05/17 10:51:55.640 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:51:55.640 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642355724288] ["schema version"=10]
[2024/05/17 10:51:55.641 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=10] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_meta (\n\t\tversion \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\ttable_id \t\tBIGINT(64) NOT NULL,\n\t\tmodify_count\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcount \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tsnapshot        BIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tINDEX idx_ver(version),\n\t\tUNIQUE INDEX tbl(table_id)\n\t);"] [user=]
[2024/05/17 10:51:55.643 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:23, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:22, RowCount:0, ArgLen:2, start time: 2024-05-17 10:51:55.642 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:51:55.643 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:23, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:22, RowCount:0, ArgLen:2, start time: 2024-05-17 10:51:55.642 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_meta (\n\t\tversion \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\ttable_id \t\tBIGINT(64) NOT NULL,\n\t\tmodify_count\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcount \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tsnapshot        BIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tINDEX idx_ver(version),\n\t\tUNIQUE INDEX tbl(table_id)\n\t);"]
[2024/05/17 10:51:55.648 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=23] [category=ddl] [job="ID:23, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:22, RowCount:0, ArgLen:0, start time: 2024-05-17 10:51:55.642 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:51:55.651 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642361753600] ["schema version"=11]
[2024/05/17 10:51:55.651 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=10] [neededSchemaVersion=11] ["start time"=267.375µs] [gotSchemaVersion=11] [phyTblIDs="[22]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:51:55.651 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:51:55.651 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=23] [version=11]
[2024/05/17 10:51:55.652 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=11] ["take time"=2.157708ms] [job="ID:23, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:22, RowCount:0, ArgLen:2, start time: 2024-05-17 10:51:55.642 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:51:55.653 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642361753600] ["schema version"=11]
[2024/05/17 10:51:55.657 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=23] [job="ID:23, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:22, RowCount:0, ArgLen:0, start time: 2024-05-17 10:51:55.642 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:51:55.659 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642361753600] ["schema version"=11]
[2024/05/17 10:51:55.660 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=23]
[2024/05/17 10:51:55.660 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:51:55.660 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642361753600] ["schema version"=11]
[2024/05/17 10:51:55.660 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=11] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_histograms (\n\t\ttable_id \t\t\tBIGINT(64) NOT NULL,\n\t\tis_index \t\t\tTINYINT(2) NOT NULL,\n\t\thist_id \t\t\tBIGINT(64) NOT NULL,\n\t\tdistinct_count \t\tBIGINT(64) NOT NULL,\n\t\tnull_count \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\ttot_col_size \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tmodify_count \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tversion \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tcm_sketch \t\t\tBLOB(6291456),\n\t\tstats_ver \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tflag \t\t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcorrelation \t\tDOUBLE NOT NULL DEFAULT 0,\n\t\tlast_analyze_pos \tLONGBLOB DEFAULT NULL,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id)\n\t);"] [user=]
[2024/05/17 10:51:55.660 +08:00] [INFO] [ddl_api.go:1141] ["Automatically convert BLOB(6291456) to MEDIUMBLOB"] [category=ddl]
[2024/05/17 10:51:55.663 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:25, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:24, RowCount:0, ArgLen:2, start time: 2024-05-17 10:51:55.661 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:51:55.663 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:25, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:24, RowCount:0, ArgLen:2, start time: 2024-05-17 10:51:55.661 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_histograms (\n\t\ttable_id \t\t\tBIGINT(64) NOT NULL,\n\t\tis_index \t\t\tTINYINT(2) NOT NULL,\n\t\thist_id \t\t\tBIGINT(64) NOT NULL,\n\t\tdistinct_count \t\tBIGINT(64) NOT NULL,\n\t\tnull_count \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\ttot_col_size \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tmodify_count \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tversion \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tcm_sketch \t\t\tBLOB(6291456),\n\t\tstats_ver \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tflag \t\t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcorrelation \t\tDOUBLE NOT NULL DEFAULT 0,\n\t\tlast_analyze_pos \tLONGBLOB DEFAULT NULL,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id)\n\t);"]
[2024/05/17 10:51:55.668 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=25] [category=ddl] [job="ID:25, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:24, RowCount:0, ArgLen:0, start time: 2024-05-17 10:51:55.661 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:51:55.670 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642361753600] ["schema version"=11]
[2024/05/17 10:51:55.672 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642367258625] ["schema version"=12]
[2024/05/17 10:51:55.672 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=11] [neededSchemaVersion=12] ["start time"=393.958µs] [gotSchemaVersion=12] [phyTblIDs="[24]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:51:55.672 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:51:55.672 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=25] [version=12]
[2024/05/17 10:51:55.674 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=12] ["take time"=2.778875ms] [job="ID:25, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:24, RowCount:0, ArgLen:2, start time: 2024-05-17 10:51:55.661 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:51:55.675 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642367258625] ["schema version"=12]
[2024/05/17 10:51:55.680 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=25] [job="ID:25, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:24, RowCount:0, ArgLen:0, start time: 2024-05-17 10:51:55.661 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:51:55.682 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642367258625] ["schema version"=12]
[2024/05/17 10:51:55.683 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=25]
[2024/05/17 10:51:55.683 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:51:55.683 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642367258625] ["schema version"=12]
[2024/05/17 10:51:55.683 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=12] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_buckets (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tbucket_id \tBIGINT(64) NOT NULL,\n\t\tcount \t\tBIGINT(64) NOT NULL,\n\t\trepeats \tBIGINT(64) NOT NULL,\n\t\tupper_bound LONGBLOB NOT NULL,\n\t\tlower_bound LONGBLOB ,\n\t\tndv         BIGINT NOT NULL DEFAULT 0,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id, bucket_id)\n\t);"] [user=]
[2024/05/17 10:51:55.686 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:27, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:26, RowCount:0, ArgLen:2, start time: 2024-05-17 10:51:55.684 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:51:55.686 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:27, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:26, RowCount:0, ArgLen:2, start time: 2024-05-17 10:51:55.684 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_buckets (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tbucket_id \tBIGINT(64) NOT NULL,\n\t\tcount \t\tBIGINT(64) NOT NULL,\n\t\trepeats \tBIGINT(64) NOT NULL,\n\t\tupper_bound LONGBLOB NOT NULL,\n\t\tlower_bound LONGBLOB ,\n\t\tndv         BIGINT NOT NULL DEFAULT 0,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id, bucket_id)\n\t);"]
[2024/05/17 10:51:55.690 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=27] [category=ddl] [job="ID:27, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:26, RowCount:0, ArgLen:0, start time: 2024-05-17 10:51:55.684 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:51:55.693 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642372763648] ["schema version"=13]
[2024/05/17 10:51:55.694 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=12] [neededSchemaVersion=13] ["start time"=903.792µs] [gotSchemaVersion=13] [phyTblIDs="[26]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:51:55.694 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:51:55.694 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=27] [version=13]
[2024/05/17 10:51:55.694 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=13] ["take time"=2.006ms] [job="ID:27, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:26, RowCount:0, ArgLen:2, start time: 2024-05-17 10:51:55.684 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:51:55.695 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642372763648] ["schema version"=13]
[2024/05/17 10:51:55.698 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=27] [job="ID:27, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:26, RowCount:0, ArgLen:0, start time: 2024-05-17 10:51:55.684 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:51:55.701 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642372763648] ["schema version"=13]
[2024/05/17 10:51:55.701 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=27]
[2024/05/17 10:51:55.701 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:51:55.701 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642372763648] ["schema version"=13]
[2024/05/17 10:51:55.701 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=13] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_index (job_id, element_id)\n\t);"] [user=]
[2024/05/17 10:51:55.704 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:29, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:28, RowCount:0, ArgLen:2, start time: 2024-05-17 10:51:55.703 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:51:55.704 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:29, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:28, RowCount:0, ArgLen:2, start time: 2024-05-17 10:51:55.703 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_index (job_id, element_id)\n\t);"]
[2024/05/17 10:51:55.708 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=29] [category=ddl] [job="ID:29, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:28, RowCount:0, ArgLen:0, start time: 2024-05-17 10:51:55.703 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:51:55.711 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642377220098] ["schema version"=14]
[2024/05/17 10:51:55.711 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=13] [neededSchemaVersion=14] ["start time"=606.667µs] [gotSchemaVersion=14] [phyTblIDs="[28]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:51:55.712 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:51:55.712 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=29] [version=14]
[2024/05/17 10:51:55.712 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=14] ["take time"=2.304417ms] [job="ID:29, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:28, RowCount:0, ArgLen:2, start time: 2024-05-17 10:51:55.703 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:51:55.713 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642377220098] ["schema version"=14]
[2024/05/17 10:51:55.717 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=29] [job="ID:29, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:28, RowCount:0, ArgLen:0, start time: 2024-05-17 10:51:55.703 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:51:55.720 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642377220098] ["schema version"=14]
[2024/05/17 10:51:55.720 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=29]
[2024/05/17 10:51:55.720 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:51:55.720 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642377220098] ["schema version"=14]
[2024/05/17 10:51:55.720 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=14] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range_done (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_done_index (job_id, element_id)\n\t);"] [user=]
[2024/05/17 10:51:55.722 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:31, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:30, RowCount:0, ArgLen:2, start time: 2024-05-17 10:51:55.721 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:51:55.722 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:31, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:30, RowCount:0, ArgLen:2, start time: 2024-05-17 10:51:55.721 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range_done (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_done_index (job_id, element_id)\n\t);"]
[2024/05/17 10:51:55.726 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=31] [category=ddl] [job="ID:31, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:30, RowCount:0, ArgLen:0, start time: 2024-05-17 10:51:55.721 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:51:55.730 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642382462976] ["schema version"=15]
[2024/05/17 10:51:55.730 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=14] [neededSchemaVersion=15] ["start time"=298.541µs] [gotSchemaVersion=15] [phyTblIDs="[30]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:51:55.733 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:51:55.733 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=31] [version=15]
[2024/05/17 10:51:55.735 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=15] ["take time"=5.214458ms] [job="ID:31, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:30, RowCount:0, ArgLen:2, start time: 2024-05-17 10:51:55.721 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:51:55.736 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642382462976] ["schema version"=15]
[2024/05/17 10:51:55.743 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=31] [job="ID:31, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:30, RowCount:0, ArgLen:0, start time: 2024-05-17 10:51:55.721 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:51:55.747 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642382462976] ["schema version"=15]
[2024/05/17 10:51:55.747 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=31]
[2024/05/17 10:51:55.747 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:51:55.748 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642382462976] ["schema version"=15]
[2024/05/17 10:51:55.748 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=15] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_feedback (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tfeedback \tBLOB NOT NULL,\n\t\tINDEX hist(table_id, is_index, hist_id)\n\t);"] [user=]
[2024/05/17 10:51:55.752 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:33, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:32, RowCount:0, ArgLen:2, start time: 2024-05-17 10:51:55.749 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:51:55.752 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:33, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:32, RowCount:0, ArgLen:2, start time: 2024-05-17 10:51:55.749 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_feedback (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tfeedback \tBLOB NOT NULL,\n\t\tINDEX hist(table_id, is_index, hist_id)\n\t);"]
[2024/05/17 10:51:55.761 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=33] [category=ddl] [job="ID:33, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:32, RowCount:0, ArgLen:0, start time: 2024-05-17 10:51:55.749 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:51:55.765 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642391638016] ["schema version"=16]
[2024/05/17 10:51:55.765 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=15] [neededSchemaVersion=16] ["start time"=455.333µs] [gotSchemaVersion=16] [phyTblIDs="[32]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:51:55.765 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:51:55.765 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=33] [version=16]
[2024/05/17 10:51:55.767 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=16] ["take time"=2.556166ms] [job="ID:33, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:32, RowCount:0, ArgLen:2, start time: 2024-05-17 10:51:55.749 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:51:55.767 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642391638016] ["schema version"=16]
[2024/05/17 10:51:55.768 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642391638016] ["schema version"=16]
[2024/05/17 10:51:55.775 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=33] [job="ID:33, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:32, RowCount:0, ArgLen:0, start time: 2024-05-17 10:51:55.749 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:51:55.777 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642391638016] ["schema version"=16]
[2024/05/17 10:51:55.777 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=33]
[2024/05/17 10:51:55.777 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:51:55.777 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642391638016] ["schema version"=16]
[2024/05/17 10:51:55.777 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=16] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.role_edges (\n\t\tFROM_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tFROM_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tWITH_ADMIN_OPTION \tENUM('N','Y') CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (FROM_HOST,FROM_USER,TO_HOST,TO_USER)\n\t);"] [user=]
[2024/05/17 10:51:55.779 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:35, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:34, RowCount:0, ArgLen:2, start time: 2024-05-17 10:51:55.778 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:51:55.779 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:35, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:34, RowCount:0, ArgLen:2, start time: 2024-05-17 10:51:55.778 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.role_edges (\n\t\tFROM_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tFROM_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tWITH_ADMIN_OPTION \tENUM('N','Y') CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (FROM_HOST,FROM_USER,TO_HOST,TO_USER)\n\t);"]
[2024/05/17 10:51:55.783 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=35] [category=ddl] [job="ID:35, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:34, RowCount:0, ArgLen:0, start time: 2024-05-17 10:51:55.778 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:51:55.785 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642396880896] ["schema version"=17]
[2024/05/17 10:51:55.785 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=16] [neededSchemaVersion=17] ["start time"=384.25µs] [gotSchemaVersion=17] [phyTblIDs="[34]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:51:55.786 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:51:55.786 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=35] [version=17]
[2024/05/17 10:51:55.787 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=17] ["take time"=2.628291ms] [job="ID:35, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:34, RowCount:0, ArgLen:2, start time: 2024-05-17 10:51:55.778 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:51:55.788 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642396880896] ["schema version"=17]
[2024/05/17 10:51:55.791 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=35] [job="ID:35, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:34, RowCount:0, ArgLen:0, start time: 2024-05-17 10:51:55.778 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:51:55.793 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642396880896] ["schema version"=17]
[2024/05/17 10:51:55.793 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=35]
[2024/05/17 10:51:55.793 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:51:55.793 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642396880896] ["schema version"=17]
[2024/05/17 10:51:55.793 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=17] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.default_roles (\n\t\tHOST \t\t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tUSER \t\t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tDEFAULT_ROLE_HOST \tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '%',\n\t\tDEFAULT_ROLE_USER \tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tPRIMARY KEY (HOST,USER,DEFAULT_ROLE_HOST,DEFAULT_ROLE_USER)\n\t)"] [user=]
[2024/05/17 10:51:55.796 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:37, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:36, RowCount:0, ArgLen:2, start time: 2024-05-17 10:51:55.795 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:51:55.796 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:37, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:36, RowCount:0, ArgLen:2, start time: 2024-05-17 10:51:55.795 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.default_roles (\n\t\tHOST \t\t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tUSER \t\t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tDEFAULT_ROLE_HOST \tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '%',\n\t\tDEFAULT_ROLE_USER \tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tPRIMARY KEY (HOST,USER,DEFAULT_ROLE_HOST,DEFAULT_ROLE_USER)\n\t)"]
[2024/05/17 10:51:55.800 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=37] [category=ddl] [job="ID:37, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:36, RowCount:0, ArgLen:0, start time: 2024-05-17 10:51:55.795 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:51:55.802 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642401337345] ["schema version"=18]
[2024/05/17 10:51:55.802 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=17] [neededSchemaVersion=18] ["start time"=322.833µs] [gotSchemaVersion=18] [phyTblIDs="[36]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:51:55.802 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:51:55.802 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=37] [version=18]
[2024/05/17 10:51:55.804 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=18] ["take time"=2.442209ms] [job="ID:37, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:36, RowCount:0, ArgLen:2, start time: 2024-05-17 10:51:55.795 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:51:55.804 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642401337345] ["schema version"=18]
[2024/05/17 10:51:55.808 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=37] [job="ID:37, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:36, RowCount:0, ArgLen:0, start time: 2024-05-17 10:51:55.795 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:51:55.811 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642401337345] ["schema version"=18]
[2024/05/17 10:51:55.811 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=37]
[2024/05/17 10:51:55.811 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:51:55.811 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642401337345] ["schema version"=18]
[2024/05/17 10:51:55.812 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=18] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.bind_info (\n\t\toriginal_sql TEXT NOT NULL,\n\t\tbind_sql TEXT NOT NULL,\n\t\tdefault_db TEXT NOT NULL,\n\t\tstatus TEXT NOT NULL,\n\t\tcreate_time TIMESTAMP(3) NOT NULL,\n\t\tupdate_time TIMESTAMP(3) NOT NULL,\n\t\tcharset TEXT NOT NULL,\n\t\tcollation TEXT NOT NULL,\n\t\tsource VARCHAR(10) NOT NULL DEFAULT 'unknown',\n\t\tsql_digest varchar(64),\n\t\tplan_digest varchar(64),\n\t\tINDEX sql_index(original_sql(700),default_db(68)) COMMENT \"accelerate the speed when add global binding query\",\n\t\tINDEX time_index(update_time) COMMENT \"accelerate the speed when querying with last update time\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"] [user=]
[2024/05/17 10:51:55.813 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:39, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:38, RowCount:0, ArgLen:2, start time: 2024-05-17 10:51:55.813 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:51:55.814 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:39, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:38, RowCount:0, ArgLen:2, start time: 2024-05-17 10:51:55.813 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.bind_info (\n\t\toriginal_sql TEXT NOT NULL,\n\t\tbind_sql TEXT NOT NULL,\n\t\tdefault_db TEXT NOT NULL,\n\t\tstatus TEXT NOT NULL,\n\t\tcreate_time TIMESTAMP(3) NOT NULL,\n\t\tupdate_time TIMESTAMP(3) NOT NULL,\n\t\tcharset TEXT NOT NULL,\n\t\tcollation TEXT NOT NULL,\n\t\tsource VARCHAR(10) NOT NULL DEFAULT 'unknown',\n\t\tsql_digest varchar(64),\n\t\tplan_digest varchar(64),\n\t\tINDEX sql_index(original_sql(700),default_db(68)) COMMENT \"accelerate the speed when add global binding query\",\n\t\tINDEX time_index(update_time) COMMENT \"accelerate the speed when querying with last update time\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"]
[2024/05/17 10:51:55.817 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=39] [category=ddl] [job="ID:39, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:38, RowCount:0, ArgLen:0, start time: 2024-05-17 10:51:55.813 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:51:55.820 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642406055936] ["schema version"=19]
[2024/05/17 10:51:55.820 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=18] [neededSchemaVersion=19] ["start time"=690.333µs] [gotSchemaVersion=19] [phyTblIDs="[38]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:51:55.821 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:51:55.821 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=39] [version=19]
[2024/05/17 10:51:55.822 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=19] ["take time"=2.954167ms] [job="ID:39, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:38, RowCount:0, ArgLen:2, start time: 2024-05-17 10:51:55.813 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:51:55.823 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642406055936] ["schema version"=19]
[2024/05/17 10:51:55.826 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=39] [job="ID:39, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:38, RowCount:0, ArgLen:0, start time: 2024-05-17 10:51:55.813 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:51:55.828 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642406055936] ["schema version"=19]
[2024/05/17 10:51:55.828 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=39]
[2024/05/17 10:51:55.828 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:51:55.828 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642406055936] ["schema version"=19]
[2024/05/17 10:51:55.829 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=19] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_top_n (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tvalue \t\tLONGBLOB,\n\t\tcount \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\tINDEX tbl(table_id, is_index, hist_id)\n\t);"] [user=]
[2024/05/17 10:51:55.831 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:41, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:40, RowCount:0, ArgLen:2, start time: 2024-05-17 10:51:55.83 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:51:55.832 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:41, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:40, RowCount:0, ArgLen:2, start time: 2024-05-17 10:51:55.83 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_top_n (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tvalue \t\tLONGBLOB,\n\t\tcount \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\tINDEX tbl(table_id, is_index, hist_id)\n\t);"]
[2024/05/17 10:51:55.835 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=41] [category=ddl] [job="ID:41, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:40, RowCount:0, ArgLen:0, start time: 2024-05-17 10:51:55.83 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:51:55.837 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642410774528] ["schema version"=20]
[2024/05/17 10:51:55.837 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=19] [neededSchemaVersion=20] ["start time"=218.166µs] [gotSchemaVersion=20] [phyTblIDs="[40]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:51:55.838 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:51:55.838 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=41] [version=20]
[2024/05/17 10:51:55.839 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=20] ["take time"=2.294084ms] [job="ID:41, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:40, RowCount:0, ArgLen:2, start time: 2024-05-17 10:51:55.83 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:51:55.840 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642410774528] ["schema version"=20]
[2024/05/17 10:51:55.844 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=41] [job="ID:41, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:40, RowCount:0, ArgLen:0, start time: 2024-05-17 10:51:55.83 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:51:55.849 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642410774528] ["schema version"=20]
[2024/05/17 10:51:55.849 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=41]
[2024/05/17 10:51:55.849 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:51:55.849 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642410774528] ["schema version"=20]
[2024/05/17 10:51:55.849 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=20] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.expr_pushdown_blacklist (\n\t\tname \t\tCHAR(100) NOT NULL,\n\t\tstore_type \tCHAR(100) NOT NULL DEFAULT 'tikv,tiflash,tidb',\n\t\treason \t\tVARCHAR(200)\n\t);"] [user=]
[2024/05/17 10:51:55.854 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:43, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:42, RowCount:0, ArgLen:2, start time: 2024-05-17 10:51:55.853 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:51:55.854 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:43, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:42, RowCount:0, ArgLen:2, start time: 2024-05-17 10:51:55.853 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.expr_pushdown_blacklist (\n\t\tname \t\tCHAR(100) NOT NULL,\n\t\tstore_type \tCHAR(100) NOT NULL DEFAULT 'tikv,tiflash,tidb',\n\t\treason \t\tVARCHAR(200)\n\t);"]
[2024/05/17 10:51:55.858 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=43] [category=ddl] [job="ID:43, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:42, RowCount:0, ArgLen:0, start time: 2024-05-17 10:51:55.853 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:51:55.860 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642416541697] ["schema version"=21]
[2024/05/17 10:51:55.860 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=20] [neededSchemaVersion=21] ["start time"=176.792µs] [gotSchemaVersion=21] [phyTblIDs="[42]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:51:55.861 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:51:55.861 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=43] [version=21]
[2024/05/17 10:51:55.862 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=21] ["take time"=2.012833ms] [job="ID:43, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:42, RowCount:0, ArgLen:2, start time: 2024-05-17 10:51:55.853 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:51:55.863 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642416541697] ["schema version"=21]
[2024/05/17 10:51:55.866 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=43] [job="ID:43, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:42, RowCount:0, ArgLen:0, start time: 2024-05-17 10:51:55.853 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:51:55.868 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642416541697] ["schema version"=21]
[2024/05/17 10:51:55.869 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642416541697] ["schema version"=21]
[2024/05/17 10:51:55.869 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=43]
[2024/05/17 10:51:55.869 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:51:55.869 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642416541697] ["schema version"=21]
[2024/05/17 10:51:55.869 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=21] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.opt_rule_blacklist (\n\t\tname \tCHAR(100) NOT NULL\n\t);"] [user=]
[2024/05/17 10:51:55.871 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:45, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:44, RowCount:0, ArgLen:2, start time: 2024-05-17 10:51:55.87 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:51:55.871 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:45, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:44, RowCount:0, ArgLen:2, start time: 2024-05-17 10:51:55.87 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.opt_rule_blacklist (\n\t\tname \tCHAR(100) NOT NULL\n\t);"]
[2024/05/17 10:51:55.875 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=45] [category=ddl] [job="ID:45, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:44, RowCount:0, ArgLen:0, start time: 2024-05-17 10:51:55.87 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:51:55.878 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642421522432] ["schema version"=22]
[2024/05/17 10:51:55.878 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=21] [neededSchemaVersion=22] ["start time"=148.875µs] [gotSchemaVersion=22] [phyTblIDs="[44]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:51:55.879 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:51:55.879 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=45] [version=22]
[2024/05/17 10:51:55.880 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=22] ["take time"=2.04725ms] [job="ID:45, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:44, RowCount:0, ArgLen:2, start time: 2024-05-17 10:51:55.87 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:51:55.881 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642421522432] ["schema version"=22]
[2024/05/17 10:51:55.884 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=45] [job="ID:45, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:44, RowCount:0, ArgLen:0, start time: 2024-05-17 10:51:55.87 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:51:55.886 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642421522432] ["schema version"=22]
[2024/05/17 10:51:55.886 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=45]
[2024/05/17 10:51:55.886 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:51:55.886 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642421522432] ["schema version"=22]
[2024/05/17 10:51:55.886 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=22] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_extended (\n\t\tname varchar(32) NOT NULL,\n\t\ttype tinyint(4) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tcolumn_ids varchar(32) NOT NULL,\n\t\tstats blob DEFAULT NULL,\n\t\tversion bigint(64) unsigned NOT NULL,\n\t\tstatus tinyint(4) NOT NULL,\n\t\tPRIMARY KEY(name, table_id),\n\t\tKEY idx_1 (table_id, status, version),\n\t\tKEY idx_2 (status, version)\n\t);"] [user=]
[2024/05/17 10:51:55.888 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:47, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:46, RowCount:0, ArgLen:2, start time: 2024-05-17 10:51:55.887 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:51:55.888 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:47, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:46, RowCount:0, ArgLen:2, start time: 2024-05-17 10:51:55.887 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_extended (\n\t\tname varchar(32) NOT NULL,\n\t\ttype tinyint(4) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tcolumn_ids varchar(32) NOT NULL,\n\t\tstats blob DEFAULT NULL,\n\t\tversion bigint(64) unsigned NOT NULL,\n\t\tstatus tinyint(4) NOT NULL,\n\t\tPRIMARY KEY(name, table_id),\n\t\tKEY idx_1 (table_id, status, version),\n\t\tKEY idx_2 (status, version)\n\t);"]
[2024/05/17 10:51:55.892 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=47] [category=ddl] [job="ID:47, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:46, RowCount:0, ArgLen:0, start time: 2024-05-17 10:51:55.887 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:51:55.894 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642425716736] ["schema version"=23]
[2024/05/17 10:51:55.894 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=22] [neededSchemaVersion=23] ["start time"=266.792µs] [gotSchemaVersion=23] [phyTblIDs="[46]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:51:55.895 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:51:55.895 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=47] [version=23]
[2024/05/17 10:51:55.896 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=23] ["take time"=2.034708ms] [job="ID:47, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:46, RowCount:0, ArgLen:2, start time: 2024-05-17 10:51:55.887 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:51:55.897 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642425716736] ["schema version"=23]
[2024/05/17 10:51:55.901 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=47] [job="ID:47, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:46, RowCount:0, ArgLen:0, start time: 2024-05-17 10:51:55.887 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:51:55.904 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642425716736] ["schema version"=23]
[2024/05/17 10:51:55.904 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=47]
[2024/05/17 10:51:55.904 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:51:55.904 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642425716736] ["schema version"=23]
[2024/05/17 10:51:55.904 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=23] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_fm_sketch (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tvalue \t\tLONGBLOB,\n\t\tINDEX tbl(table_id, is_index, hist_id)\n\t);"] [user=]
[2024/05/17 10:51:55.907 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:49, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:48, RowCount:0, ArgLen:2, start time: 2024-05-17 10:51:55.906 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:51:55.907 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:49, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:48, RowCount:0, ArgLen:2, start time: 2024-05-17 10:51:55.906 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_fm_sketch (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tvalue \t\tLONGBLOB,\n\t\tINDEX tbl(table_id, is_index, hist_id)\n\t);"]
[2024/05/17 10:51:55.911 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=49] [category=ddl] [job="ID:49, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:48, RowCount:0, ArgLen:0, start time: 2024-05-17 10:51:55.906 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:51:55.913 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642430435328] ["schema version"=24]
[2024/05/17 10:51:55.913 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=23] [neededSchemaVersion=24] ["start time"=220.333µs] [gotSchemaVersion=24] [phyTblIDs="[48]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:51:55.913 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:51:55.913 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=49] [version=24]
[2024/05/17 10:51:55.914 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=24] ["take time"=2.193958ms] [job="ID:49, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:48, RowCount:0, ArgLen:2, start time: 2024-05-17 10:51:55.906 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:51:55.915 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642430435328] ["schema version"=24]
[2024/05/17 10:51:55.919 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=49] [job="ID:49, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:48, RowCount:0, ArgLen:0, start time: 2024-05-17 10:51:55.906 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:51:55.921 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642430435328] ["schema version"=24]
[2024/05/17 10:51:55.921 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=49]
[2024/05/17 10:51:55.921 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:51:55.921 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642430435328] ["schema version"=24]
[2024/05/17 10:51:55.921 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=24] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.global_grants (\n\t\tUSER char(32) NOT NULL DEFAULT '',\n\t\tHOST char(255) NOT NULL DEFAULT '',\n\t\tPRIV char(32) NOT NULL DEFAULT '',\n\t\tWITH_GRANT_OPTION enum('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (USER,HOST,PRIV)\n\t);"] [user=]
[2024/05/17 10:51:55.926 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:51, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:50, RowCount:0, ArgLen:2, start time: 2024-05-17 10:51:55.924 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:51:55.926 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:51, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:50, RowCount:0, ArgLen:2, start time: 2024-05-17 10:51:55.924 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.global_grants (\n\t\tUSER char(32) NOT NULL DEFAULT '',\n\t\tHOST char(255) NOT NULL DEFAULT '',\n\t\tPRIV char(32) NOT NULL DEFAULT '',\n\t\tWITH_GRANT_OPTION enum('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (USER,HOST,PRIV)\n\t);"]
[2024/05/17 10:51:55.931 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=51] [category=ddl] [job="ID:51, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:50, RowCount:0, ArgLen:0, start time: 2024-05-17 10:51:55.924 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:51:55.940 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642436202496] ["schema version"=25]
[2024/05/17 10:51:55.940 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=24] [neededSchemaVersion=25] ["start time"=242.417µs] [gotSchemaVersion=25] [phyTblIDs="[50]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:51:55.940 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:51:55.940 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=51] [version=25]
[2024/05/17 10:51:55.942 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=25] ["take time"=4.377209ms] [job="ID:51, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:50, RowCount:0, ArgLen:2, start time: 2024-05-17 10:51:55.924 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:51:55.943 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642436202496] ["schema version"=25]
[2024/05/17 10:51:55.946 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=51] [job="ID:51, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:50, RowCount:0, ArgLen:0, start time: 2024-05-17 10:51:55.924 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:51:55.948 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642436202496] ["schema version"=25]
[2024/05/17 10:51:55.948 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=51]
[2024/05/17 10:51:55.948 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:51:55.948 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642436202496] ["schema version"=25]
[2024/05/17 10:51:55.948 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=25] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.capture_plan_baselines_blacklist (\n\t\tid bigint(64) auto_increment,\n\t\tfilter_type varchar(32) NOT NULL COMMENT \"type of the filter, only db, table and frequency supported now\",\n\t\tfilter_value varchar(32) NOT NULL,\n\t\tkey idx(filter_type),\n\t\tprimary key(id)\n\t);"] [user=]
[2024/05/17 10:51:55.951 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:53, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:52, RowCount:0, ArgLen:2, start time: 2024-05-17 10:51:55.95 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:51:55.951 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:53, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:52, RowCount:0, ArgLen:2, start time: 2024-05-17 10:51:55.95 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.capture_plan_baselines_blacklist (\n\t\tid bigint(64) auto_increment,\n\t\tfilter_type varchar(32) NOT NULL COMMENT \"type of the filter, only db, table and frequency supported now\",\n\t\tfilter_value varchar(32) NOT NULL,\n\t\tkey idx(filter_type),\n\t\tprimary key(id)\n\t);"]
[2024/05/17 10:51:55.955 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=53] [category=ddl] [job="ID:53, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:52, RowCount:0, ArgLen:0, start time: 2024-05-17 10:51:55.95 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:51:55.957 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642442231808] ["schema version"=26]
[2024/05/17 10:51:55.957 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=25] [neededSchemaVersion=26] ["start time"=165.875µs] [gotSchemaVersion=26] [phyTblIDs="[52]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:51:55.958 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:51:55.958 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=53] [version=26]
[2024/05/17 10:51:55.959 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=26] ["take time"=2.004416ms] [job="ID:53, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:52, RowCount:0, ArgLen:2, start time: 2024-05-17 10:51:55.95 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:51:55.959 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642442231808] ["schema version"=26]
[2024/05/17 10:51:55.963 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=53] [job="ID:53, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:52, RowCount:0, ArgLen:0, start time: 2024-05-17 10:51:55.95 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:51:55.967 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642442231808] ["schema version"=26]
[2024/05/17 10:51:55.967 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=53]
[2024/05/17 10:51:55.967 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:51:55.967 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642442231808] ["schema version"=26]
[2024/05/17 10:51:55.967 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=26] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.column_stats_usage (\n\t\ttable_id BIGINT(64) NOT NULL,\n\t\tcolumn_id BIGINT(64) NOT NULL,\n\t\tlast_used_at TIMESTAMP,\n\t\tlast_analyzed_at TIMESTAMP,\n\t\tPRIMARY KEY (table_id, column_id) CLUSTERED\n\t);"] [user=]
[2024/05/17 10:51:55.968 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642442231808] ["schema version"=26]
[2024/05/17 10:51:55.971 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:55, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:54, RowCount:0, ArgLen:2, start time: 2024-05-17 10:51:55.969 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:51:55.971 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:55, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:54, RowCount:0, ArgLen:2, start time: 2024-05-17 10:51:55.969 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.column_stats_usage (\n\t\ttable_id BIGINT(64) NOT NULL,\n\t\tcolumn_id BIGINT(64) NOT NULL,\n\t\tlast_used_at TIMESTAMP,\n\t\tlast_analyzed_at TIMESTAMP,\n\t\tPRIMARY KEY (table_id, column_id) CLUSTERED\n\t);"]
[2024/05/17 10:51:55.976 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=55] [category=ddl] [job="ID:55, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:54, RowCount:0, ArgLen:0, start time: 2024-05-17 10:51:55.969 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:51:55.982 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642448523264] ["schema version"=27]
[2024/05/17 10:51:55.983 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=26] [neededSchemaVersion=27] ["start time"=425.583µs] [gotSchemaVersion=27] [phyTblIDs="[54]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:51:55.983 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:51:55.983 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=55] [version=27]
[2024/05/17 10:51:55.984 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=27] ["take time"=2.259584ms] [job="ID:55, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:54, RowCount:0, ArgLen:2, start time: 2024-05-17 10:51:55.969 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:51:55.985 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642448523264] ["schema version"=27]
[2024/05/17 10:51:55.993 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=55] [job="ID:55, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:54, RowCount:0, ArgLen:0, start time: 2024-05-17 10:51:55.969 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:51:55.995 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642448523264] ["schema version"=27]
[2024/05/17 10:51:55.996 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=55]
[2024/05/17 10:51:55.996 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:51:55.996 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642448523264] ["schema version"=27]
[2024/05/17 10:51:55.996 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=27] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.table_cache_meta (\n\t\ttid bigint(11) NOT NULL DEFAULT 0,\n\t\tlock_type enum('NONE','READ', 'INTEND', 'WRITE') NOT NULL DEFAULT 'NONE',\n\t\tlease bigint(20) NOT NULL DEFAULT 0,\n\t\toldReadLease bigint(20) NOT NULL DEFAULT 0,\n\t\tPRIMARY KEY (tid)\n\t);"] [user=]
[2024/05/17 10:51:56.000 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:57, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:56, RowCount:0, ArgLen:2, start time: 2024-05-17 10:51:55.998 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:51:56.000 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:57, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:56, RowCount:0, ArgLen:2, start time: 2024-05-17 10:51:55.998 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.table_cache_meta (\n\t\ttid bigint(11) NOT NULL DEFAULT 0,\n\t\tlock_type enum('NONE','READ', 'INTEND', 'WRITE') NOT NULL DEFAULT 'NONE',\n\t\tlease bigint(20) NOT NULL DEFAULT 0,\n\t\toldReadLease bigint(20) NOT NULL DEFAULT 0,\n\t\tPRIMARY KEY (tid)\n\t);"]
[2024/05/17 10:51:56.007 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=57] [category=ddl] [job="ID:57, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:56, RowCount:0, ArgLen:0, start time: 2024-05-17 10:51:55.998 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:51:56.011 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642456125440] ["schema version"=28]
[2024/05/17 10:51:56.011 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=27] [neededSchemaVersion=28] ["start time"=558.25µs] [gotSchemaVersion=28] [phyTblIDs="[56]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:51:56.012 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:51:56.012 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=57] [version=28]
[2024/05/17 10:51:56.013 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=28] ["take time"=2.960834ms] [job="ID:57, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:56, RowCount:0, ArgLen:2, start time: 2024-05-17 10:51:55.998 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:51:56.014 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642456125440] ["schema version"=28]
[2024/05/17 10:51:56.019 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=57] [job="ID:57, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:56, RowCount:0, ArgLen:0, start time: 2024-05-17 10:51:55.998 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:51:56.023 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642456125440] ["schema version"=28]
[2024/05/17 10:51:56.024 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=57]
[2024/05/17 10:51:56.024 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:51:56.024 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642456125440] ["schema version"=28]
[2024/05/17 10:51:56.024 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=28] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.analyze_options (\n\t\ttable_id BIGINT(64) NOT NULL,\n\t\tsample_num BIGINT(64) NOT NULL DEFAULT 0,\n\t\tsample_rate DOUBLE NOT NULL DEFAULT -1,\n\t\tbuckets BIGINT(64) NOT NULL DEFAULT 0,\n\t\ttopn BIGINT(64) NOT NULL DEFAULT -1,\n\t\tcolumn_choice enum('DEFAULT','ALL','PREDICATE','LIST') NOT NULL DEFAULT 'DEFAULT',\n\t\tcolumn_ids TEXT(19372),\n\t\tPRIMARY KEY (table_id) CLUSTERED\n\t);"] [user=]
[2024/05/17 10:51:56.024 +08:00] [INFO] [ddl_api.go:1141] ["Automatically convert BLOB(19372) to MEDIUMBLOB"] [category=ddl]
[2024/05/17 10:51:56.028 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:59, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:58, RowCount:0, ArgLen:2, start time: 2024-05-17 10:51:56.026 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:51:56.028 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:59, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:58, RowCount:0, ArgLen:2, start time: 2024-05-17 10:51:56.026 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.analyze_options (\n\t\ttable_id BIGINT(64) NOT NULL,\n\t\tsample_num BIGINT(64) NOT NULL DEFAULT 0,\n\t\tsample_rate DOUBLE NOT NULL DEFAULT -1,\n\t\tbuckets BIGINT(64) NOT NULL DEFAULT 0,\n\t\ttopn BIGINT(64) NOT NULL DEFAULT -1,\n\t\tcolumn_choice enum('DEFAULT','ALL','PREDICATE','LIST') NOT NULL DEFAULT 'DEFAULT',\n\t\tcolumn_ids TEXT(19372),\n\t\tPRIMARY KEY (table_id) CLUSTERED\n\t);"]
[2024/05/17 10:51:56.036 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=59] [category=ddl] [job="ID:59, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:58, RowCount:0, ArgLen:0, start time: 2024-05-17 10:51:56.026 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:51:56.039 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642463465472] ["schema version"=29]
[2024/05/17 10:51:56.039 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=28] [neededSchemaVersion=29] ["start time"=659.041µs] [gotSchemaVersion=29] [phyTblIDs="[58]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:51:56.042 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:51:56.042 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=59] [version=29]
[2024/05/17 10:51:56.043 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=29] ["take time"=5.050083ms] [job="ID:59, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:58, RowCount:0, ArgLen:2, start time: 2024-05-17 10:51:56.026 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:51:56.045 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642463465472] ["schema version"=29]
[2024/05/17 10:51:56.053 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=59] [job="ID:59, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:58, RowCount:0, ArgLen:0, start time: 2024-05-17 10:51:56.026 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:51:56.057 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642463465472] ["schema version"=29]
[2024/05/17 10:51:56.057 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=59]
[2024/05/17 10:51:56.057 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:51:56.057 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642463465472] ["schema version"=29]
[2024/05/17 10:51:56.057 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=29] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_history (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tstats_data longblob NOT NULL,\n\t\tseq_no bigint(64) NOT NULL comment 'sequence number of the gzipped data slice',\n\t\tversion bigint(64) NOT NULL comment 'stats version which corresponding to stats:version in EXPLAIN',\n\t\tcreate_time datetime(6) NOT NULL,\n\t\tUNIQUE KEY table_version_seq (table_id, version, seq_no),\n\t\tKEY table_create_time (table_id, create_time, seq_no),\n    \tKEY idx_create_time (create_time)\n\t);"] [user=]
[2024/05/17 10:51:56.059 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:61, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:60, RowCount:0, ArgLen:2, start time: 2024-05-17 10:51:56.058 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:51:56.059 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:61, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:60, RowCount:0, ArgLen:2, start time: 2024-05-17 10:51:56.058 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_history (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tstats_data longblob NOT NULL,\n\t\tseq_no bigint(64) NOT NULL comment 'sequence number of the gzipped data slice',\n\t\tversion bigint(64) NOT NULL comment 'stats version which corresponding to stats:version in EXPLAIN',\n\t\tcreate_time datetime(6) NOT NULL,\n\t\tUNIQUE KEY table_version_seq (table_id, version, seq_no),\n\t\tKEY table_create_time (table_id, create_time, seq_no),\n    \tKEY idx_create_time (create_time)\n\t);"]
[2024/05/17 10:51:56.064 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=61] [category=ddl] [job="ID:61, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:60, RowCount:0, ArgLen:0, start time: 2024-05-17 10:51:56.058 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:51:56.066 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642470543363] ["schema version"=30]
[2024/05/17 10:51:56.066 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=29] [neededSchemaVersion=30] ["start time"=250.708µs] [gotSchemaVersion=30] [phyTblIDs="[60]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:51:56.067 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:51:56.067 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=61] [version=30]
[2024/05/17 10:51:56.068 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=30] ["take time"=2.004041ms] [job="ID:61, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:60, RowCount:0, ArgLen:2, start time: 2024-05-17 10:51:56.058 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:51:56.068 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642470543363] ["schema version"=30]
[2024/05/17 10:51:56.069 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642470543363] ["schema version"=30]
[2024/05/17 10:51:56.075 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=61] [job="ID:61, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:60, RowCount:0, ArgLen:0, start time: 2024-05-17 10:51:56.058 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:51:56.077 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642470543363] ["schema version"=30]
[2024/05/17 10:51:56.078 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=61]
[2024/05/17 10:51:56.078 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:51:56.078 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642470543363] ["schema version"=30]
[2024/05/17 10:51:56.078 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=30] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_meta_history (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tmodify_count bigint(64) NOT NULL,\n\t\tcount bigint(64) NOT NULL,\n\t\tversion bigint(64) NOT NULL comment 'stats version which corresponding to stats:version in EXPLAIN',\n    \tsource varchar(40) NOT NULL,\n\t\tcreate_time datetime(6) NOT NULL,\n\t\tUNIQUE KEY table_version (table_id, version),\n\t\tKEY table_create_time (table_id, create_time),\n    \tKEY idx_create_time (create_time)\n\t);"] [user=]
[2024/05/17 10:51:56.080 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:63, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:62, RowCount:0, ArgLen:2, start time: 2024-05-17 10:51:56.079 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:51:56.082 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:63, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:62, RowCount:0, ArgLen:2, start time: 2024-05-17 10:51:56.079 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_meta_history (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tmodify_count bigint(64) NOT NULL,\n\t\tcount bigint(64) NOT NULL,\n\t\tversion bigint(64) NOT NULL comment 'stats version which corresponding to stats:version in EXPLAIN',\n    \tsource varchar(40) NOT NULL,\n\t\tcreate_time datetime(6) NOT NULL,\n\t\tUNIQUE KEY table_version (table_id, version),\n\t\tKEY table_create_time (table_id, create_time),\n    \tKEY idx_create_time (create_time)\n\t);"]
[2024/05/17 10:51:56.093 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=63] [category=ddl] [job="ID:63, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:62, RowCount:0, ArgLen:0, start time: 2024-05-17 10:51:56.079 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:51:56.096 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642478669824] ["schema version"=31]
[2024/05/17 10:51:56.096 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=30] [neededSchemaVersion=31] ["start time"=260.041µs] [gotSchemaVersion=31] [phyTblIDs="[62]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:51:56.097 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:51:56.097 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=63] [version=31]
[2024/05/17 10:51:56.098 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=31] ["take time"=2.304583ms] [job="ID:63, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:62, RowCount:0, ArgLen:2, start time: 2024-05-17 10:51:56.079 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:51:56.099 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642478669824] ["schema version"=31]
[2024/05/17 10:51:56.105 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=63] [job="ID:63, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:62, RowCount:0, ArgLen:0, start time: 2024-05-17 10:51:56.079 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:51:56.107 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642478669824] ["schema version"=31]
[2024/05/17 10:51:56.107 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=63]
[2024/05/17 10:51:56.107 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:51:56.107 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642478669824] ["schema version"=31]
[2024/05/17 10:51:56.108 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=31] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.analyze_jobs (\n\t\tid BIGINT(64) UNSIGNED NOT NULL AUTO_INCREMENT,\n\t\tupdate_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\ttable_schema CHAR(64) NOT NULL DEFAULT '',\n\t\ttable_name CHAR(64) NOT NULL DEFAULT '',\n\t\tpartition_name CHAR(64) NOT NULL DEFAULT '',\n\t\tjob_info TEXT NOT NULL,\n\t\tprocessed_rows BIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tstart_time TIMESTAMP,\n\t\tend_time TIMESTAMP,\n\t\tstate ENUM('pending', 'running', 'finished', 'failed') NOT NULL,\n\t\tfail_reason TEXT,\n\t\tinstance VARCHAR(512) NOT NULL comment 'address of the TiDB instance executing the analyze job',\n\t\tprocess_id BIGINT(64) UNSIGNED comment 'ID of the process executing the analyze job',\n\t\tPRIMARY KEY (id),\n\t\tKEY (update_time)\n\t);"] [user=]
[2024/05/17 10:51:56.111 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:65, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:64, RowCount:0, ArgLen:2, start time: 2024-05-17 10:51:56.109 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:51:56.111 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:65, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:64, RowCount:0, ArgLen:2, start time: 2024-05-17 10:51:56.109 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.analyze_jobs (\n\t\tid BIGINT(64) UNSIGNED NOT NULL AUTO_INCREMENT,\n\t\tupdate_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\ttable_schema CHAR(64) NOT NULL DEFAULT '',\n\t\ttable_name CHAR(64) NOT NULL DEFAULT '',\n\t\tpartition_name CHAR(64) NOT NULL DEFAULT '',\n\t\tjob_info TEXT NOT NULL,\n\t\tprocessed_rows BIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tstart_time TIMESTAMP,\n\t\tend_time TIMESTAMP,\n\t\tstate ENUM('pending', 'running', 'finished', 'failed') NOT NULL,\n\t\tfail_reason TEXT,\n\t\tinstance VARCHAR(512) NOT NULL comment 'address of the TiDB instance executing the analyze job',\n\t\tprocess_id BIGINT(64) UNSIGNED comment 'ID of the process executing the analyze job',\n\t\tPRIMARY KEY (id),\n\t\tKEY (update_time)\n\t);"]
[2024/05/17 10:51:56.114 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=65] [category=ddl] [job="ID:65, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:64, RowCount:0, ArgLen:0, start time: 2024-05-17 10:51:56.109 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:51:56.117 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642483912704] ["schema version"=32]
[2024/05/17 10:51:56.117 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=31] [neededSchemaVersion=32] ["start time"=333.292µs] [gotSchemaVersion=32] [phyTblIDs="[64]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:51:56.118 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:51:56.118 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=65] [version=32]
[2024/05/17 10:51:56.119 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=32] ["take time"=2.698875ms] [job="ID:65, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:64, RowCount:0, ArgLen:2, start time: 2024-05-17 10:51:56.109 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:51:56.121 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642483912704] ["schema version"=32]
[2024/05/17 10:51:56.127 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=65] [job="ID:65, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:64, RowCount:0, ArgLen:0, start time: 2024-05-17 10:51:56.109 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:51:56.129 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642483912704] ["schema version"=32]
[2024/05/17 10:51:56.130 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=65]
[2024/05/17 10:51:56.130 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:51:56.130 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642483912704] ["schema version"=32]
[2024/05/17 10:51:56.130 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=32] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.advisory_locks (\n\t\tlock_name VARCHAR(64) NOT NULL PRIMARY KEY\n\t);"] [user=]
[2024/05/17 10:51:56.132 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:67, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:66, RowCount:0, ArgLen:2, start time: 2024-05-17 10:51:56.131 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:51:56.132 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:67, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:66, RowCount:0, ArgLen:2, start time: 2024-05-17 10:51:56.131 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.advisory_locks (\n\t\tlock_name VARCHAR(64) NOT NULL PRIMARY KEY\n\t);"]
[2024/05/17 10:51:56.146 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=67] [category=ddl] [job="ID:67, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:66, RowCount:0, ArgLen:0, start time: 2024-05-17 10:51:56.131 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:51:56.151 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642493087744] ["schema version"=33]
[2024/05/17 10:51:56.151 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=32] [neededSchemaVersion=33] ["start time"=154.667µs] [gotSchemaVersion=33] [phyTblIDs="[66]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:51:56.152 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:51:56.152 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=67] [version=33]
[2024/05/17 10:51:56.153 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=33] ["take time"=2.01025ms] [job="ID:67, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:66, RowCount:0, ArgLen:2, start time: 2024-05-17 10:51:56.131 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:51:56.154 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642493087744] ["schema version"=33]
[2024/05/17 10:51:56.163 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=67] [job="ID:67, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:66, RowCount:0, ArgLen:0, start time: 2024-05-17 10:51:56.131 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:51:56.167 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642493087744] ["schema version"=33]
[2024/05/17 10:51:56.167 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=67]
[2024/05/17 10:51:56.167 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:51:56.167 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642493087744] ["schema version"=33]
[2024/05/17 10:51:56.173 +08:00] [WARN] [runaway.go:166] ["failed to start runaway manager loop, please check whether the bootstrap or update is finished"] [error="[schema:1146]Table 'mysql.tidb_runaway_watch' doesn't exist"] [errorVerbose="[schema:1146]Table 'mysql.tidb_runaway_watch' doesn't exist\ngithub.com/pingcap/errors.AddStack\n\t/Users/bba/.gvm/pkgsets/go1.21.0/global/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20240318064555-6bd07397691f/errors.go:178\ngithub.com/pingcap/errors.Trace\n\t/Users/bba/.gvm/pkgsets/go1.21.0/global/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20240318064555-6bd07397691f/juju_adaptor.go:15\ngithub.com/pingcap/tidb/pkg/planner/core.Preprocess\n\t/Users/bba/pc/tidb/pkg/planner/core/preprocess.go:141\ngithub.com/pingcap/tidb/pkg/executor.(*Compiler).Compile\n\t/Users/bba/pc/tidb/pkg/executor/compiler.go:67\ngithub.com/pingcap/tidb/pkg/session.(*session).ExecuteStmt\n\t/Users/bba/pc/tidb/pkg/session/session.go:2094\ngithub.com/pingcap/tidb/pkg/session.(*session).ExecuteInternalStmt\n\t/Users/bba/pc/tidb/pkg/session/session.go:1998\ngithub.com/pingcap/tidb/pkg/session.(*session).ExecRestrictedSQL.func1\n\t/Users/bba/pc/tidb/pkg/session/session.go:1963\ngithub.com/pingcap/tidb/pkg/session.(*session).withRestrictedSQLExecutor\n\t/Users/bba/pc/tidb/pkg/session/session.go:1949\ngithub.com/pingcap/tidb/pkg/session.(*session).ExecRestrictedSQL\n\t/Users/bba/pc/tidb/pkg/session/session.go:1953\ngithub.com/pingcap/tidb/pkg/domain.(*SystemTableReader).Read\n\t/Users/bba/pc/tidb/pkg/domain/runaway.go:655\ngithub.com/pingcap/tidb/pkg/domain.getRunawayWatchRecord\n\t/Users/bba/pc/tidb/pkg/domain/runaway.go:543\ngithub.com/pingcap/tidb/pkg/domain.(*runawaySyncer).getWatchRecord\n\t/Users/bba/pc/tidb/pkg/domain/runaway.go:526\ngithub.com/pingcap/tidb/pkg/domain.(*runawaySyncer).getNewWatchRecords\n\t/Users/bba/pc/tidb/pkg/domain/runaway.go:509\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).updateNewAndDoneWatch\n\t/Users/bba/pc/tidb/pkg/domain/runaway.go:177\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).runawayStartLoop\n\t/Users/bba/pc/tidb/pkg/domain/runaway.go:156\ngithub.com/pingcap/tidb/pkg/util.(*WaitGroupEnhancedWrapper).Run.func1\n\t/Users/bba/pc/tidb/pkg/util/wait_group_wrapper.go:99\nruntime.goexit\n\t/Users/bba/.gvm/gos/go1.21.0/src/runtime/asm_arm64.s:1197"]
[2024/05/17 10:51:56.175 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642493087744] ["schema version"=33]
[2024/05/17 10:51:56.179 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:69, Type:create view, State:queueing, SchemaState:none, SchemaID:1, TableID:68, RowCount:0, ArgLen:3, start time: 2024-05-17 10:51:56.176 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:51:56.179 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:69, Type:create view, State:queueing, SchemaState:none, SchemaID:1, TableID:68, RowCount:0, ArgLen:3, start time: 2024-05-17 10:51:56.176 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE OR REPLACE VIEW mysql.tidb_mdl_view as (\n\t\tSELECT tidb_mdl_info.job_id,\n\t\t\tJSON_UNQUOTE(JSON_EXTRACT(cast(cast(job_meta as char) as json), \"$.schema_name\")) as db_name,\n\t\t\tJSON_UNQUOTE(JSON_EXTRACT(cast(cast(job_meta as char) as json), \"$.table_name\")) as table_name,\n\t\t\tJSON_UNQUOTE(JSON_EXTRACT(cast(cast(job_meta as char) as json), \"$.query\")) as query,\n\t\t\tsession_id,\n\t\t\tcluster_tidb_trx.start_time,\n\t\t\ttidb_decode_sql_digests(all_sql_digests, 4096) AS SQL_DIGESTS\n\t\tFROM mysql.tidb_ddl_job,\n\t\t\tmysql.tidb_mdl_info,\n\t\t\tinformation_schema.cluster_tidb_trx\n\t\tWHERE tidb_ddl_job.job_id=tidb_mdl_info.job_id\n\t\t\tAND CONCAT(',', tidb_mdl_info.table_ids, ',') REGEXP CONCAT(',(', REPLACE(cluster_tidb_trx.related_table_ids, ',', '|'), '),') != 0\n\t);"]
[2024/05/17 10:51:56.184 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=69] [category=ddl] [job="ID:69, Type:create view, State:queueing, SchemaState:none, SchemaID:1, TableID:68, RowCount:0, ArgLen:0, start time: 2024-05-17 10:51:56.176 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:51:56.187 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642502524928] ["schema version"=34]
[2024/05/17 10:51:56.187 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=33] [neededSchemaVersion=34] ["start time"=227.875µs] [gotSchemaVersion=34] [phyTblIDs="[68]"] [actionTypes="[21]"] [diffTypes="[\"create view\"]"]
[2024/05/17 10:51:56.188 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:51:56.188 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=69] [version=34]
[2024/05/17 10:51:56.189 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=34] ["take time"=2.064875ms] [job="ID:69, Type:create view, State:done, SchemaState:public, SchemaID:1, TableID:68, RowCount:0, ArgLen:3, start time: 2024-05-17 10:51:56.176 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:51:56.190 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642502524928] ["schema version"=34]
[2024/05/17 10:51:56.194 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=69] [job="ID:69, Type:create view, State:synced, SchemaState:public, SchemaID:1, TableID:68, RowCount:0, ArgLen:0, start time: 2024-05-17 10:51:56.176 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:51:56.196 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642502524928] ["schema version"=34]
[2024/05/17 10:51:56.196 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=69]
[2024/05/17 10:51:56.196 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:51:56.196 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642502524928] ["schema version"=34]
[2024/05/17 10:51:56.196 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=34] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.plan_replayer_status (\n\t\tsql_digest VARCHAR(128),\n\t\tplan_digest VARCHAR(128),\n\t\torigin_sql TEXT,\n\t\ttoken VARCHAR(128),\n\t\tupdate_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\tfail_reason TEXT,\n\t\tinstance VARCHAR(512) NOT NULL comment 'address of the TiDB instance executing the plan replayer job');"] [user=]
[2024/05/17 10:51:56.199 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:71, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:70, RowCount:0, ArgLen:2, start time: 2024-05-17 10:51:56.198 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:51:56.199 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:71, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:70, RowCount:0, ArgLen:2, start time: 2024-05-17 10:51:56.198 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.plan_replayer_status (\n\t\tsql_digest VARCHAR(128),\n\t\tplan_digest VARCHAR(128),\n\t\torigin_sql TEXT,\n\t\ttoken VARCHAR(128),\n\t\tupdate_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\tfail_reason TEXT,\n\t\tinstance VARCHAR(512) NOT NULL comment 'address of the TiDB instance executing the plan replayer job');"]
[2024/05/17 10:51:56.203 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=71] [category=ddl] [job="ID:71, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:70, RowCount:0, ArgLen:0, start time: 2024-05-17 10:51:56.198 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:51:56.206 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642507505664] ["schema version"=35]
[2024/05/17 10:51:56.206 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=34] [neededSchemaVersion=35] ["start time"=546.041µs] [gotSchemaVersion=35] [phyTblIDs="[70]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:51:56.208 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:51:56.208 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=71] [version=35]
[2024/05/17 10:51:56.209 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=35] ["take time"=2.845708ms] [job="ID:71, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:70, RowCount:0, ArgLen:2, start time: 2024-05-17 10:51:56.198 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:51:56.209 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642507505664] ["schema version"=35]
[2024/05/17 10:51:56.212 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=71] [job="ID:71, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:70, RowCount:0, ArgLen:0, start time: 2024-05-17 10:51:56.198 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:51:56.214 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642507505664] ["schema version"=35]
[2024/05/17 10:51:56.215 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=71]
[2024/05/17 10:51:56.215 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:51:56.215 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642507505664] ["schema version"=35]
[2024/05/17 10:51:56.215 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=35] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.plan_replayer_task (\n\t\tsql_digest VARCHAR(128) NOT NULL,\n\t\tplan_digest VARCHAR(128) NOT NULL,\n\t\tupdate_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\tPRIMARY KEY (sql_digest,plan_digest));"] [user=]
[2024/05/17 10:51:56.217 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:73, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:72, RowCount:0, ArgLen:2, start time: 2024-05-17 10:51:56.216 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:51:56.217 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:73, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:72, RowCount:0, ArgLen:2, start time: 2024-05-17 10:51:56.216 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.plan_replayer_task (\n\t\tsql_digest VARCHAR(128) NOT NULL,\n\t\tplan_digest VARCHAR(128) NOT NULL,\n\t\tupdate_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\tPRIMARY KEY (sql_digest,plan_digest));"]
[2024/05/17 10:51:56.221 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=73] [category=ddl] [job="ID:73, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:72, RowCount:0, ArgLen:0, start time: 2024-05-17 10:51:56.216 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:51:56.225 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642512224256] ["schema version"=36]
[2024/05/17 10:51:56.225 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=35] [neededSchemaVersion=36] ["start time"=870.292µs] [gotSchemaVersion=36] [phyTblIDs="[72]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:51:56.226 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:51:56.226 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=73] [version=36]
[2024/05/17 10:51:56.228 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=36] ["take time"=4.363083ms] [job="ID:73, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:72, RowCount:0, ArgLen:2, start time: 2024-05-17 10:51:56.216 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:51:56.229 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642512224256] ["schema version"=36]
[2024/05/17 10:51:56.232 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=73] [job="ID:73, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:72, RowCount:0, ArgLen:0, start time: 2024-05-17 10:51:56.216 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:51:56.235 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642512224256] ["schema version"=36]
[2024/05/17 10:51:56.236 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=73]
[2024/05/17 10:51:56.236 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:51:56.236 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642512224256] ["schema version"=36]
[2024/05/17 10:51:56.236 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=36] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_table_locked(\n\t\ttable_id bigint(64) NOT NULL,\n\t\tmodify_count bigint(64) NOT NULL DEFAULT 0,\n\t\tcount bigint(64) NOT NULL DEFAULT 0,\n\t\tversion bigint(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tPRIMARY KEY (table_id));"] [user=]
[2024/05/17 10:51:56.237 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:75, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:74, RowCount:0, ArgLen:2, start time: 2024-05-17 10:51:56.237 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:51:56.238 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:75, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:74, RowCount:0, ArgLen:2, start time: 2024-05-17 10:51:56.237 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_table_locked(\n\t\ttable_id bigint(64) NOT NULL,\n\t\tmodify_count bigint(64) NOT NULL DEFAULT 0,\n\t\tcount bigint(64) NOT NULL DEFAULT 0,\n\t\tversion bigint(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tPRIMARY KEY (table_id));"]
[2024/05/17 10:51:56.243 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=75] [category=ddl] [job="ID:75, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:74, RowCount:0, ArgLen:0, start time: 2024-05-17 10:51:56.237 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:51:56.244 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642517467136] ["schema version"=37]
[2024/05/17 10:51:56.244 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=36] [neededSchemaVersion=37] ["start time"=161.458µs] [gotSchemaVersion=37] [phyTblIDs="[74]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:51:56.245 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:51:56.245 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=75] [version=37]
[2024/05/17 10:51:56.246 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=37] ["take time"=2.005ms] [job="ID:75, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:74, RowCount:0, ArgLen:2, start time: 2024-05-17 10:51:56.237 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:51:56.247 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642517467136] ["schema version"=37]
[2024/05/17 10:51:56.252 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=75] [job="ID:75, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:74, RowCount:0, ArgLen:0, start time: 2024-05-17 10:51:56.237 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:51:56.256 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642517467136] ["schema version"=37]
[2024/05/17 10:51:56.257 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=75]
[2024/05/17 10:51:56.257 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:51:56.257 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642517467136] ["schema version"=37]
[2024/05/17 10:51:56.257 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=37] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_ttl_table_status (\n\t\ttable_id bigint(64) PRIMARY KEY,\n        parent_table_id bigint(64),\n        table_statistics text DEFAULT NULL,\n\t\tlast_job_id varchar(64) DEFAULT NULL,\n\t\tlast_job_start_time timestamp NULL DEFAULT NULL,\n\t\tlast_job_finish_time timestamp NULL DEFAULT NULL,\n\t\tlast_job_ttl_expire timestamp NULL DEFAULT NULL,\n        last_job_summary text DEFAULT NULL,\n\t\tcurrent_job_id varchar(64) DEFAULT NULL,\n\t\tcurrent_job_owner_id varchar(64) DEFAULT NULL,\n\t\tcurrent_job_owner_addr varchar(256) DEFAULT NULL,\n\t\tcurrent_job_owner_hb_time timestamp,\n\t\tcurrent_job_start_time timestamp NULL DEFAULT NULL,\n\t\tcurrent_job_ttl_expire timestamp NULL DEFAULT NULL,\n\t\tcurrent_job_state text DEFAULT NULL,\n\t\tcurrent_job_status varchar(64) DEFAULT NULL,\n  \t\tcurrent_job_status_update_time timestamp NULL DEFAULT NULL);"] [user=]
[2024/05/17 10:51:56.260 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:77, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:76, RowCount:0, ArgLen:2, start time: 2024-05-17 10:51:56.259 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:51:56.260 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:77, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:76, RowCount:0, ArgLen:2, start time: 2024-05-17 10:51:56.259 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_ttl_table_status (\n\t\ttable_id bigint(64) PRIMARY KEY,\n        parent_table_id bigint(64),\n        table_statistics text DEFAULT NULL,\n\t\tlast_job_id varchar(64) DEFAULT NULL,\n\t\tlast_job_start_time timestamp NULL DEFAULT NULL,\n\t\tlast_job_finish_time timestamp NULL DEFAULT NULL,\n\t\tlast_job_ttl_expire timestamp NULL DEFAULT NULL,\n        last_job_summary text DEFAULT NULL,\n\t\tcurrent_job_id varchar(64) DEFAULT NULL,\n\t\tcurrent_job_owner_id varchar(64) DEFAULT NULL,\n\t\tcurrent_job_owner_addr varchar(256) DEFAULT NULL,\n\t\tcurrent_job_owner_hb_time timestamp,\n\t\tcurrent_job_start_time timestamp NULL DEFAULT NULL,\n\t\tcurrent_job_ttl_expire timestamp NULL DEFAULT NULL,\n\t\tcurrent_job_state text DEFAULT NULL,\n\t\tcurrent_job_status varchar(64) DEFAULT NULL,\n  \t\tcurrent_job_status_update_time timestamp NULL DEFAULT NULL);"]
[2024/05/17 10:51:56.266 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=77] [category=ddl] [job="ID:77, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:76, RowCount:0, ArgLen:0, start time: 2024-05-17 10:51:56.259 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:51:56.268 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642523758592] ["schema version"=38]
[2024/05/17 10:51:56.268 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=37] [neededSchemaVersion=38] ["start time"=348.583µs] [gotSchemaVersion=38] [phyTblIDs="[76]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:51:56.269 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642523758592] ["schema version"=38]
[2024/05/17 10:51:56.269 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:51:56.269 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=77] [version=38]
[2024/05/17 10:51:56.270 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=38] ["take time"=2.192333ms] [job="ID:77, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:76, RowCount:0, ArgLen:2, start time: 2024-05-17 10:51:56.259 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:51:56.271 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642523758592] ["schema version"=38]
[2024/05/17 10:51:56.276 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=77] [job="ID:77, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:76, RowCount:0, ArgLen:0, start time: 2024-05-17 10:51:56.259 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:51:56.278 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642523758592] ["schema version"=38]
[2024/05/17 10:51:56.278 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=77]
[2024/05/17 10:51:56.278 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:51:56.278 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642523758592] ["schema version"=38]
[2024/05/17 10:51:56.279 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=38] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_ttl_task (\n\t\tjob_id varchar(64) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tscan_id int NOT NULL,\n\t\tscan_range_start BLOB,\n\t\tscan_range_end BLOB,\n\t\texpire_time timestamp NOT NULL,\n\t\towner_id varchar(64) DEFAULT NULL,\n\t\towner_addr varchar(64) DEFAULT NULL,\n\t\towner_hb_time timestamp DEFAULT NULL,\n\t\tstatus varchar(64) DEFAULT 'waiting',\n\t\tstatus_update_time timestamp NULL DEFAULT NULL,\n\t\tstate text,\n\t\tcreated_time timestamp NOT NULL,\n\t\tprimary key(job_id, scan_id),\n\t\tkey(created_time));"] [user=]
[2024/05/17 10:51:56.281 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:79, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:78, RowCount:0, ArgLen:2, start time: 2024-05-17 10:51:56.28 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:51:56.282 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:79, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:78, RowCount:0, ArgLen:2, start time: 2024-05-17 10:51:56.28 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_ttl_task (\n\t\tjob_id varchar(64) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tscan_id int NOT NULL,\n\t\tscan_range_start BLOB,\n\t\tscan_range_end BLOB,\n\t\texpire_time timestamp NOT NULL,\n\t\towner_id varchar(64) DEFAULT NULL,\n\t\towner_addr varchar(64) DEFAULT NULL,\n\t\towner_hb_time timestamp DEFAULT NULL,\n\t\tstatus varchar(64) DEFAULT 'waiting',\n\t\tstatus_update_time timestamp NULL DEFAULT NULL,\n\t\tstate text,\n\t\tcreated_time timestamp NOT NULL,\n\t\tprimary key(job_id, scan_id),\n\t\tkey(created_time));"]
[2024/05/17 10:51:56.287 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=79] [category=ddl] [job="ID:79, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:78, RowCount:0, ArgLen:0, start time: 2024-05-17 10:51:56.28 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:51:56.290 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642529263617] ["schema version"=39]
[2024/05/17 10:51:56.290 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=38] [neededSchemaVersion=39] ["start time"=348.25µs] [gotSchemaVersion=39] [phyTblIDs="[78]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:51:56.291 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:51:56.291 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=79] [version=39]
[2024/05/17 10:51:56.292 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=39] ["take time"=2.234917ms] [job="ID:79, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:78, RowCount:0, ArgLen:2, start time: 2024-05-17 10:51:56.28 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:51:56.293 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642529263617] ["schema version"=39]
[2024/05/17 10:51:56.297 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=79] [job="ID:79, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:78, RowCount:0, ArgLen:0, start time: 2024-05-17 10:51:56.28 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:51:56.299 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642529263617] ["schema version"=39]
[2024/05/17 10:51:56.299 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=79]
[2024/05/17 10:51:56.299 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:51:56.299 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642529263617] ["schema version"=39]
[2024/05/17 10:51:56.299 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=39] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_ttl_job_history (\n\t\tjob_id varchar(64) PRIMARY KEY,\n\t\ttable_id bigint(64) NOT NULL,\n        parent_table_id bigint(64) NOT NULL,\n    \ttable_schema varchar(64) NOT NULL,\n\t\ttable_name varchar(64) NOT NULL,\n    \tpartition_name varchar(64) DEFAULT NULL,\n\t\tcreate_time timestamp NOT NULL,\n\t\tfinish_time timestamp NOT NULL,\n\t\tttl_expire timestamp NOT NULL,\n        summary_text text,\n\t\texpired_rows bigint(64) DEFAULT NULL,\n    \tdeleted_rows bigint(64) DEFAULT NULL,\n    \terror_delete_rows bigint(64) DEFAULT NULL,\n    \tstatus varchar(64) NOT NULL,\n    \tkey(table_schema, table_name, create_time),\n    \tkey(parent_table_id, create_time),\n    \tkey(create_time)\n\t);"] [user=]
[2024/05/17 10:51:56.302 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:81, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:80, RowCount:0, ArgLen:2, start time: 2024-05-17 10:51:56.3 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:51:56.302 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:81, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:80, RowCount:0, ArgLen:2, start time: 2024-05-17 10:51:56.3 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_ttl_job_history (\n\t\tjob_id varchar(64) PRIMARY KEY,\n\t\ttable_id bigint(64) NOT NULL,\n        parent_table_id bigint(64) NOT NULL,\n    \ttable_schema varchar(64) NOT NULL,\n\t\ttable_name varchar(64) NOT NULL,\n    \tpartition_name varchar(64) DEFAULT NULL,\n\t\tcreate_time timestamp NOT NULL,\n\t\tfinish_time timestamp NOT NULL,\n\t\tttl_expire timestamp NOT NULL,\n        summary_text text,\n\t\texpired_rows bigint(64) DEFAULT NULL,\n    \tdeleted_rows bigint(64) DEFAULT NULL,\n    \terror_delete_rows bigint(64) DEFAULT NULL,\n    \tstatus varchar(64) NOT NULL,\n    \tkey(table_schema, table_name, create_time),\n    \tkey(parent_table_id, create_time),\n    \tkey(create_time)\n\t);"]
[2024/05/17 10:51:56.308 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=81] [category=ddl] [job="ID:81, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:80, RowCount:0, ArgLen:0, start time: 2024-05-17 10:51:56.3 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:51:56.312 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642535030784] ["schema version"=40]
[2024/05/17 10:51:56.312 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=39] [neededSchemaVersion=40] ["start time"=382.583µs] [gotSchemaVersion=40] [phyTblIDs="[80]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:51:56.312 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:51:56.312 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=81] [version=40]
[2024/05/17 10:51:56.313 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=40] ["take time"=2.13875ms] [job="ID:81, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:80, RowCount:0, ArgLen:2, start time: 2024-05-17 10:51:56.3 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:51:56.314 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642535030784] ["schema version"=40]
[2024/05/17 10:51:56.319 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=81] [job="ID:81, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:80, RowCount:0, ArgLen:0, start time: 2024-05-17 10:51:56.3 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:51:56.323 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642535030784] ["schema version"=40]
[2024/05/17 10:51:56.323 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=81]
[2024/05/17 10:51:56.323 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:51:56.323 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642535030784] ["schema version"=40]
[2024/05/17 10:51:56.323 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=40] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_global_task (\n\t\tid BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n    \ttask_key VARCHAR(256) NOT NULL,\n\t\ttype VARCHAR(256) NOT NULL,\n\t\tdispatcher_id VARCHAR(261),\n\t\tstate VARCHAR(64) NOT NULL,\n\t\tpriority INT DEFAULT 1,\n\t\tcreate_time TIMESTAMP,\n\t\tstart_time TIMESTAMP,\n\t\tstate_update_time TIMESTAMP,\n\t\tend_time TIMESTAMP,\n\t\tmeta LONGBLOB,\n\t\tconcurrency INT(11),\n\t\tstep INT(11),\n\t\ttarget_scope VARCHAR(256) DEFAULT \"\",\n\t\terror BLOB,\n\t\tkey(state),\n      \tUNIQUE KEY task_key(task_key)\n\t);"] [user=]
[2024/05/17 10:51:56.326 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:83, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:82, RowCount:0, ArgLen:2, start time: 2024-05-17 10:51:56.325 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:51:56.326 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:83, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:82, RowCount:0, ArgLen:2, start time: 2024-05-17 10:51:56.325 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_global_task (\n\t\tid BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n    \ttask_key VARCHAR(256) NOT NULL,\n\t\ttype VARCHAR(256) NOT NULL,\n\t\tdispatcher_id VARCHAR(261),\n\t\tstate VARCHAR(64) NOT NULL,\n\t\tpriority INT DEFAULT 1,\n\t\tcreate_time TIMESTAMP,\n\t\tstart_time TIMESTAMP,\n\t\tstate_update_time TIMESTAMP,\n\t\tend_time TIMESTAMP,\n\t\tmeta LONGBLOB,\n\t\tconcurrency INT(11),\n\t\tstep INT(11),\n\t\ttarget_scope VARCHAR(256) DEFAULT \"\",\n\t\terror BLOB,\n\t\tkey(state),\n      \tUNIQUE KEY task_key(task_key)\n\t);"]
[2024/05/17 10:51:56.329 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=83] [category=ddl] [job="ID:83, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:82, RowCount:0, ArgLen:0, start time: 2024-05-17 10:51:56.325 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:51:56.332 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642540273664] ["schema version"=41]
[2024/05/17 10:51:56.332 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=40] [neededSchemaVersion=41] ["start time"=371.042µs] [gotSchemaVersion=41] [phyTblIDs="[82]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:51:56.333 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:51:56.333 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=83] [version=41]
[2024/05/17 10:51:56.334 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=41] ["take time"=2.088375ms] [job="ID:83, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:82, RowCount:0, ArgLen:2, start time: 2024-05-17 10:51:56.325 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:51:56.335 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642540273664] ["schema version"=41]
[2024/05/17 10:51:56.339 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=83] [job="ID:83, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:82, RowCount:0, ArgLen:0, start time: 2024-05-17 10:51:56.325 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:51:56.341 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642540273664] ["schema version"=41]
[2024/05/17 10:51:56.342 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=83]
[2024/05/17 10:51:56.342 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:51:56.342 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642540273664] ["schema version"=41]
[2024/05/17 10:51:56.342 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=41] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_global_task_history (\n\t\tid BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n    \ttask_key VARCHAR(256) NOT NULL,\n\t\ttype VARCHAR(256) NOT NULL,\n\t\tdispatcher_id VARCHAR(261),\n\t\tstate VARCHAR(64) NOT NULL,\n\t\tpriority INT DEFAULT 1,\n\t\tcreate_time TIMESTAMP,\n\t\tstart_time TIMESTAMP,\n\t\tstate_update_time TIMESTAMP,\n\t\tend_time TIMESTAMP,\n\t\tmeta LONGBLOB,\n\t\tconcurrency INT(11),\n\t\tstep INT(11),\n\t\ttarget_scope VARCHAR(256) DEFAULT \"\",\n\t\terror BLOB,\n\t\tkey(state),\n      \tUNIQUE KEY task_key(task_key)\n\t);"] [user=]
[2024/05/17 10:51:56.346 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:85, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:84, RowCount:0, ArgLen:2, start time: 2024-05-17 10:51:56.344 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:51:56.346 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:85, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:84, RowCount:0, ArgLen:2, start time: 2024-05-17 10:51:56.344 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_global_task_history (\n\t\tid BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n    \ttask_key VARCHAR(256) NOT NULL,\n\t\ttype VARCHAR(256) NOT NULL,\n\t\tdispatcher_id VARCHAR(261),\n\t\tstate VARCHAR(64) NOT NULL,\n\t\tpriority INT DEFAULT 1,\n\t\tcreate_time TIMESTAMP,\n\t\tstart_time TIMESTAMP,\n\t\tstate_update_time TIMESTAMP,\n\t\tend_time TIMESTAMP,\n\t\tmeta LONGBLOB,\n\t\tconcurrency INT(11),\n\t\tstep INT(11),\n\t\ttarget_scope VARCHAR(256) DEFAULT \"\",\n\t\terror BLOB,\n\t\tkey(state),\n      \tUNIQUE KEY task_key(task_key)\n\t);"]
[2024/05/17 10:51:56.356 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=85] [category=ddl] [job="ID:85, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:84, RowCount:0, ArgLen:0, start time: 2024-05-17 10:51:56.344 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:51:56.362 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642547875840] ["schema version"=42]
[2024/05/17 10:51:56.362 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=41] [neededSchemaVersion=42] ["start time"=509.375µs] [gotSchemaVersion=42] [phyTblIDs="[84]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:51:56.364 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:51:56.364 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=85] [version=42]
[2024/05/17 10:51:56.365 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=42] ["take time"=4.013875ms] [job="ID:85, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:84, RowCount:0, ArgLen:2, start time: 2024-05-17 10:51:56.344 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:51:56.366 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642547875840] ["schema version"=42]
[2024/05/17 10:51:56.368 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642547875840] ["schema version"=42]
[2024/05/17 10:51:56.376 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=85] [job="ID:85, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:84, RowCount:0, ArgLen:0, start time: 2024-05-17 10:51:56.344 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:51:56.380 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642547875840] ["schema version"=42]
[2024/05/17 10:51:56.380 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=85]
[2024/05/17 10:51:56.380 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:51:56.380 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642547875840] ["schema version"=42]
[2024/05/17 10:51:56.380 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=42] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_import_jobs (\n\t\tid bigint(64) NOT NULL AUTO_INCREMENT,\n\t\tcreate_time TIMESTAMP(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6),\n\t\tstart_time TIMESTAMP(6) NULL DEFAULT NULL,\n\t\tupdate_time TIMESTAMP(6) NULL DEFAULT NULL,\n\t\tend_time TIMESTAMP(6) NULL DEFAULT NULL,\n\t\ttable_schema VARCHAR(64) NOT NULL,\n\t\ttable_name VARCHAR(64) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tcreated_by VARCHAR(300) NOT NULL,\n\t\tparameters text NOT NULL,\n\t\tsource_file_size bigint(64) NOT NULL,\n\t\tstatus VARCHAR(64) NOT NULL,\n\t\tstep VARCHAR(64) NOT NULL,\n\t\tsummary text DEFAULT NULL,\n\t\terror_message TEXT DEFAULT NULL,\n\t\tPRIMARY KEY (id),\n\t\tKEY (created_by),\n\t\tKEY (status));"] [user=]
[2024/05/17 10:51:56.386 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:87, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:86, RowCount:0, ArgLen:2, start time: 2024-05-17 10:51:56.384 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:51:56.386 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:87, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:86, RowCount:0, ArgLen:2, start time: 2024-05-17 10:51:56.384 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_import_jobs (\n\t\tid bigint(64) NOT NULL AUTO_INCREMENT,\n\t\tcreate_time TIMESTAMP(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6),\n\t\tstart_time TIMESTAMP(6) NULL DEFAULT NULL,\n\t\tupdate_time TIMESTAMP(6) NULL DEFAULT NULL,\n\t\tend_time TIMESTAMP(6) NULL DEFAULT NULL,\n\t\ttable_schema VARCHAR(64) NOT NULL,\n\t\ttable_name VARCHAR(64) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tcreated_by VARCHAR(300) NOT NULL,\n\t\tparameters text NOT NULL,\n\t\tsource_file_size bigint(64) NOT NULL,\n\t\tstatus VARCHAR(64) NOT NULL,\n\t\tstep VARCHAR(64) NOT NULL,\n\t\tsummary text DEFAULT NULL,\n\t\terror_message TEXT DEFAULT NULL,\n\t\tPRIMARY KEY (id),\n\t\tKEY (created_by),\n\t\tKEY (status));"]
[2024/05/17 10:51:56.395 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=87] [category=ddl] [job="ID:87, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:86, RowCount:0, ArgLen:0, start time: 2024-05-17 10:51:56.384 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:51:56.399 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642557837313] ["schema version"=43]
[2024/05/17 10:51:56.399 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=42] [neededSchemaVersion=43] ["start time"=358.584µs] [gotSchemaVersion=43] [phyTblIDs="[86]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:51:56.400 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:51:56.400 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=87] [version=43]
[2024/05/17 10:51:56.401 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=43] ["take time"=2.175208ms] [job="ID:87, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:86, RowCount:0, ArgLen:2, start time: 2024-05-17 10:51:56.384 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:51:56.402 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642557837313] ["schema version"=43]
[2024/05/17 10:51:56.405 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=87] [job="ID:87, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:86, RowCount:0, ArgLen:0, start time: 2024-05-17 10:51:56.384 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:51:56.408 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642557837313] ["schema version"=43]
[2024/05/17 10:51:56.408 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=87]
[2024/05/17 10:51:56.408 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:51:56.408 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642557837313] ["schema version"=43]
[2024/05/17 10:51:56.408 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=43] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_runaway_watch (\n\t\tid BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n\t\tresource_group_name varchar(32) not null,\n\t\tstart_time datetime(6) NOT NULL,\n\t\tend_time datetime(6),\n\t\twatch bigint(10) NOT NULL,\n\t\twatch_text TEXT NOT NULL,\n\t\tsource varchar(512) NOT NULL,\n\t\taction bigint(10),\n\t\tINDEX sql_index(resource_group_name,watch_text(700)) COMMENT \"accelerate the speed when select quarantined query\",\n\t\tINDEX time_index(end_time) COMMENT \"accelerate the speed when querying with active watch\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"] [user=]
[2024/05/17 10:51:56.413 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:89, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:88, RowCount:0, ArgLen:2, start time: 2024-05-17 10:51:56.411 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:51:56.413 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:89, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:88, RowCount:0, ArgLen:2, start time: 2024-05-17 10:51:56.411 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_runaway_watch (\n\t\tid BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n\t\tresource_group_name varchar(32) not null,\n\t\tstart_time datetime(6) NOT NULL,\n\t\tend_time datetime(6),\n\t\twatch bigint(10) NOT NULL,\n\t\twatch_text TEXT NOT NULL,\n\t\tsource varchar(512) NOT NULL,\n\t\taction bigint(10),\n\t\tINDEX sql_index(resource_group_name,watch_text(700)) COMMENT \"accelerate the speed when select quarantined query\",\n\t\tINDEX time_index(end_time) COMMENT \"accelerate the speed when querying with active watch\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"]
[2024/05/17 10:51:56.419 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=89] [category=ddl] [job="ID:89, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:88, RowCount:0, ArgLen:0, start time: 2024-05-17 10:51:56.411 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:51:56.422 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642563866625] ["schema version"=44]
[2024/05/17 10:51:56.422 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=43] [neededSchemaVersion=44] ["start time"=528.791µs] [gotSchemaVersion=44] [phyTblIDs="[88]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:51:56.423 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:51:56.423 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=89] [version=44]
[2024/05/17 10:51:56.424 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=44] ["take time"=2.373333ms] [job="ID:89, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:88, RowCount:0, ArgLen:2, start time: 2024-05-17 10:51:56.411 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:51:56.425 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642563866625] ["schema version"=44]
[2024/05/17 10:51:56.429 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=89] [job="ID:89, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:88, RowCount:0, ArgLen:0, start time: 2024-05-17 10:51:56.411 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:51:56.432 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642563866625] ["schema version"=44]
[2024/05/17 10:51:56.433 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=89]
[2024/05/17 10:51:56.433 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:51:56.433 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642563866625] ["schema version"=44]
[2024/05/17 10:51:56.433 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=44] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_runaway_queries (\n\t\tresource_group_name varchar(32) not null,\n\t\ttime TIMESTAMP NOT NULL,\n\t\tmatch_type varchar(12) NOT NULL,\n\t\taction varchar(12) NOT NULL,\n\t\toriginal_sql TEXT NOT NULL,\n\t\tplan_digest TEXT NOT NULL,\n\t\ttidb_server varchar(512),\n\t\tINDEX plan_index(plan_digest(64)) COMMENT \"accelerate the speed when select runaway query\",\n\t\tINDEX time_index(time) COMMENT \"accelerate the speed when querying with active watch\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"] [user=]
[2024/05/17 10:51:56.436 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:91, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:90, RowCount:0, ArgLen:2, start time: 2024-05-17 10:51:56.434 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:51:56.436 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:91, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:90, RowCount:0, ArgLen:2, start time: 2024-05-17 10:51:56.434 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_runaway_queries (\n\t\tresource_group_name varchar(32) not null,\n\t\ttime TIMESTAMP NOT NULL,\n\t\tmatch_type varchar(12) NOT NULL,\n\t\taction varchar(12) NOT NULL,\n\t\toriginal_sql TEXT NOT NULL,\n\t\tplan_digest TEXT NOT NULL,\n\t\ttidb_server varchar(512),\n\t\tINDEX plan_index(plan_digest(64)) COMMENT \"accelerate the speed when select runaway query\",\n\t\tINDEX time_index(time) COMMENT \"accelerate the speed when querying with active watch\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"]
[2024/05/17 10:51:56.440 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=91] [category=ddl] [job="ID:91, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:90, RowCount:0, ArgLen:0, start time: 2024-05-17 10:51:56.434 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:51:56.443 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642569371648] ["schema version"=45]
[2024/05/17 10:51:56.443 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=44] [neededSchemaVersion=45] ["start time"=258.25µs] [gotSchemaVersion=45] [phyTblIDs="[90]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:51:56.443 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:51:56.443 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=91] [version=45]
[2024/05/17 10:51:56.444 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=45] ["take time"=2.007459ms] [job="ID:91, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:90, RowCount:0, ArgLen:2, start time: 2024-05-17 10:51:56.434 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:51:56.445 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642569371648] ["schema version"=45]
[2024/05/17 10:51:56.450 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=91] [job="ID:91, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:90, RowCount:0, ArgLen:0, start time: 2024-05-17 10:51:56.434 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:51:56.452 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642569371648] ["schema version"=45]
[2024/05/17 10:51:56.452 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=91]
[2024/05/17 10:51:56.452 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:51:56.452 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642569371648] ["schema version"=45]
[2024/05/17 10:51:56.453 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=45] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS `mysql`.`tidb_timers` (\n\t\tID BIGINT(64) UNSIGNED NOT NULL AUTO_INCREMENT,\n\t\tNAMESPACE VARCHAR(256) NOT NULL,\n\t\tTIMER_KEY VARCHAR(256) NOT NULL,\n\t\tTIMER_DATA BLOB,\n\t\tTIMEZONE VARCHAR(64) NOT NULL,\n\t\tSCHED_POLICY_TYPE VARCHAR(32) NOT NULL,\n\t\tSCHED_POLICY_EXPR VARCHAR(256) NOT NULL,\n\t\tHOOK_CLASS VARCHAR(64) NOT NULL,\n\t\tWATERMARK TIMESTAMP DEFAULT NULL,\n\t\tENABLE TINYINT(2) NOT NULL,\n\t\tTIMER_EXT JSON NOT NULL,\n\t\tEVENT_STATUS VARCHAR(32) NOT NULL,\n\t\tEVENT_ID VARCHAR(64) NOT NULL,\n\t\tEVENT_DATA BLOB,\n\t\tEVENT_START TIMESTAMP DEFAULT NULL,\n\t\tSUMMARY_DATA BLOB,\n\t\tCREATE_TIME TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,\n\t\tUPDATE_TIME TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\tVERSION BIGINT(64) UNSIGNED NOT NULL,\n\t\tPRIMARY KEY (ID),\n\t\tUNIQUE KEY timer_key(NAMESPACE, TIMER_KEY),\n\t\tKEY hook_class(HOOK_CLASS)\n\t)"] [user=]
[2024/05/17 10:51:56.456 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:93, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:92, RowCount:0, ArgLen:2, start time: 2024-05-17 10:51:56.454 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:51:56.456 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:93, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:92, RowCount:0, ArgLen:2, start time: 2024-05-17 10:51:56.454 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS `mysql`.`tidb_timers` (\n\t\tID BIGINT(64) UNSIGNED NOT NULL AUTO_INCREMENT,\n\t\tNAMESPACE VARCHAR(256) NOT NULL,\n\t\tTIMER_KEY VARCHAR(256) NOT NULL,\n\t\tTIMER_DATA BLOB,\n\t\tTIMEZONE VARCHAR(64) NOT NULL,\n\t\tSCHED_POLICY_TYPE VARCHAR(32) NOT NULL,\n\t\tSCHED_POLICY_EXPR VARCHAR(256) NOT NULL,\n\t\tHOOK_CLASS VARCHAR(64) NOT NULL,\n\t\tWATERMARK TIMESTAMP DEFAULT NULL,\n\t\tENABLE TINYINT(2) NOT NULL,\n\t\tTIMER_EXT JSON NOT NULL,\n\t\tEVENT_STATUS VARCHAR(32) NOT NULL,\n\t\tEVENT_ID VARCHAR(64) NOT NULL,\n\t\tEVENT_DATA BLOB,\n\t\tEVENT_START TIMESTAMP DEFAULT NULL,\n\t\tSUMMARY_DATA BLOB,\n\t\tCREATE_TIME TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,\n\t\tUPDATE_TIME TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\tVERSION BIGINT(64) UNSIGNED NOT NULL,\n\t\tPRIMARY KEY (ID),\n\t\tUNIQUE KEY timer_key(NAMESPACE, TIMER_KEY),\n\t\tKEY hook_class(HOOK_CLASS)\n\t)"]
[2024/05/17 10:51:56.462 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=93] [category=ddl] [job="ID:93, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:92, RowCount:0, ArgLen:0, start time: 2024-05-17 10:51:56.454 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:51:56.467 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642575663104] ["schema version"=46]
[2024/05/17 10:51:56.467 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=45] [neededSchemaVersion=46] ["start time"=421.709µs] [gotSchemaVersion=46] [phyTblIDs="[92]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:51:56.468 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642575663104] ["schema version"=46]
[2024/05/17 10:51:56.468 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:51:56.468 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=93] [version=46]
[2024/05/17 10:51:56.469 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=46] ["take time"=2.360375ms] [job="ID:93, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:92, RowCount:0, ArgLen:2, start time: 2024-05-17 10:51:56.454 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:51:56.469 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642575663104] ["schema version"=46]
[2024/05/17 10:51:56.473 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=93] [job="ID:93, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:92, RowCount:0, ArgLen:0, start time: 2024-05-17 10:51:56.454 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:51:56.476 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642575663104] ["schema version"=46]
[2024/05/17 10:51:56.476 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=93]
[2024/05/17 10:51:56.476 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:51:56.476 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642575663104] ["schema version"=46]
[2024/05/17 10:51:56.476 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=46] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_runaway_watch_done (\n\t\tid BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n\t\trecord_id BIGINT(20) not null,\n\t\tresource_group_name varchar(32) not null,\n\t\tstart_time datetime(6) NOT NULL,\n\t\tend_time datetime(6),\n\t\twatch bigint(10) NOT NULL,\n\t\twatch_text TEXT NOT NULL,\n\t\tsource varchar(512) NOT NULL,\n\t\taction bigint(10),\n\t\tdone_time TIMESTAMP(6) NOT NULL\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"] [user=]
[2024/05/17 10:51:56.481 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:95, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:94, RowCount:0, ArgLen:2, start time: 2024-05-17 10:51:56.478 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:51:56.481 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:95, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:94, RowCount:0, ArgLen:2, start time: 2024-05-17 10:51:56.478 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_runaway_watch_done (\n\t\tid BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n\t\trecord_id BIGINT(20) not null,\n\t\tresource_group_name varchar(32) not null,\n\t\tstart_time datetime(6) NOT NULL,\n\t\tend_time datetime(6),\n\t\twatch bigint(10) NOT NULL,\n\t\twatch_text TEXT NOT NULL,\n\t\tsource varchar(512) NOT NULL,\n\t\taction bigint(10),\n\t\tdone_time TIMESTAMP(6) NOT NULL\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"]
[2024/05/17 10:51:56.486 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=95] [category=ddl] [job="ID:95, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:94, RowCount:0, ArgLen:0, start time: 2024-05-17 10:51:56.478 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:51:56.491 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642581430272] ["schema version"=47]
[2024/05/17 10:51:56.491 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=46] [neededSchemaVersion=47] ["start time"=481.625µs] [gotSchemaVersion=47] [phyTblIDs="[94]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:51:56.491 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:51:56.491 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=95] [version=47]
[2024/05/17 10:51:56.492 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=47] ["take time"=2.292625ms] [job="ID:95, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:94, RowCount:0, ArgLen:2, start time: 2024-05-17 10:51:56.478 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:51:56.493 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642581430272] ["schema version"=47]
[2024/05/17 10:51:56.497 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=95] [job="ID:95, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:94, RowCount:0, ArgLen:0, start time: 2024-05-17 10:51:56.478 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:51:56.500 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642581430272] ["schema version"=47]
[2024/05/17 10:51:56.500 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=95]
[2024/05/17 10:51:56.500 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:51:56.500 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642581430272] ["schema version"=47]
[2024/05/17 10:51:56.500 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=47] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.dist_framework_meta (\n        host VARCHAR(261) NOT NULL PRIMARY KEY,\n        role VARCHAR(64),\n        cpu_count int default 0,\n        keyspace_id bigint(8) NOT NULL DEFAULT -1\n    );"] [user=]
[2024/05/17 10:51:56.501 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:97, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:96, RowCount:0, ArgLen:2, start time: 2024-05-17 10:51:56.501 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:51:56.501 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:97, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:96, RowCount:0, ArgLen:2, start time: 2024-05-17 10:51:56.501 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.dist_framework_meta (\n        host VARCHAR(261) NOT NULL PRIMARY KEY,\n        role VARCHAR(64),\n        cpu_count int default 0,\n        keyspace_id bigint(8) NOT NULL DEFAULT -1\n    );"]
[2024/05/17 10:51:56.504 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=97] [category=ddl] [job="ID:97, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:96, RowCount:0, ArgLen:0, start time: 2024-05-17 10:51:56.501 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:51:56.506 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642585886723] ["schema version"=48]
[2024/05/17 10:51:56.506 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=47] [neededSchemaVersion=48] ["start time"=193.458µs] [gotSchemaVersion=48] [phyTblIDs="[96]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:51:56.507 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:51:56.507 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=97] [version=48]
[2024/05/17 10:51:56.508 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=48] ["take time"=2.008584ms] [job="ID:97, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:96, RowCount:0, ArgLen:2, start time: 2024-05-17 10:51:56.501 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:51:56.509 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642585886723] ["schema version"=48]
[2024/05/17 10:51:56.514 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=97] [job="ID:97, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:96, RowCount:0, ArgLen:0, start time: 2024-05-17 10:51:56.501 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:51:56.516 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642585886723] ["schema version"=48]
[2024/05/17 10:51:56.516 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=97]
[2024/05/17 10:51:56.516 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:51:56.516 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642585886723] ["schema version"=48]
[2024/05/17 10:51:56.516 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=48] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.request_unit_by_group (\n\t\tstart_time TIMESTAMP(6) NOT NULL,\n\t\tend_time TIMESTAMP(6) NOT NULL,\n\t\tresource_group VARCHAR(32) NOT null,\n\t\ttotal_ru bigint(64) UNSIGNED NOT NULL,\n\t\tPRIMARY KEY (start_time, end_time, resource_group),\n\t\tKEY (resource_group)\n\t);"] [user=]
[2024/05/17 10:51:56.519 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:99, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:98, RowCount:0, ArgLen:2, start time: 2024-05-17 10:51:56.518 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:51:56.519 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:99, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:98, RowCount:0, ArgLen:2, start time: 2024-05-17 10:51:56.518 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.request_unit_by_group (\n\t\tstart_time TIMESTAMP(6) NOT NULL,\n\t\tend_time TIMESTAMP(6) NOT NULL,\n\t\tresource_group VARCHAR(32) NOT null,\n\t\ttotal_ru bigint(64) UNSIGNED NOT NULL,\n\t\tPRIMARY KEY (start_time, end_time, resource_group),\n\t\tKEY (resource_group)\n\t);"]
[2024/05/17 10:51:56.524 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=99] [category=ddl] [job="ID:99, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:98, RowCount:0, ArgLen:0, start time: 2024-05-17 10:51:56.518 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:51:56.526 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642591129601] ["schema version"=49]
[2024/05/17 10:51:56.526 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=48] [neededSchemaVersion=49] ["start time"=244.75µs] [gotSchemaVersion=49] [phyTblIDs="[98]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:51:56.527 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:51:56.527 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=99] [version=49]
[2024/05/17 10:51:56.528 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=49] ["take time"=2.006334ms] [job="ID:99, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:98, RowCount:0, ArgLen:2, start time: 2024-05-17 10:51:56.518 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:51:56.529 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642591129601] ["schema version"=49]
[2024/05/17 10:51:56.534 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=99] [job="ID:99, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:98, RowCount:0, ArgLen:0, start time: 2024-05-17 10:51:56.518 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:51:56.537 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642591129601] ["schema version"=49]
[2024/05/17 10:51:56.537 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=99]
[2024/05/17 10:51:56.537 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:51:56.537 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642591129601] ["schema version"=49]
[2024/05/17 10:51:56.537 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=49] [cur_db=mysql] [sql="CREATE DATABASE IF NOT EXISTS sys;"] [user=]
[2024/05/17 10:51:56.541 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:101, Type:create schema, State:queueing, SchemaState:none, SchemaID:100, TableID:0, RowCount:0, ArgLen:1, start time: 2024-05-17 10:51:56.539 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:51:56.541 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:101, Type:create schema, State:queueing, SchemaState:none, SchemaID:100, TableID:0, RowCount:0, ArgLen:1, start time: 2024-05-17 10:51:56.539 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE DATABASE IF NOT EXISTS sys;"]
[2024/05/17 10:51:56.545 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=101] [category=ddl] [job="ID:101, Type:create schema, State:queueing, SchemaState:none, SchemaID:100, TableID:0, RowCount:0, ArgLen:0, start time: 2024-05-17 10:51:56.539 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:51:56.546 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642596634624] ["schema version"=50]
[2024/05/17 10:51:56.546 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=49] [neededSchemaVersion=50] ["start time"=55.209µs] [gotSchemaVersion=50] [phyTblIDs="[]"] [actionTypes="[]"] [diffTypes="[\"create schema\"]"]
[2024/05/17 10:51:56.546 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:51:56.546 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=101] [version=50]
[2024/05/17 10:51:56.548 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=50] ["take time"=2.166541ms] [job="ID:101, Type:create schema, State:done, SchemaState:public, SchemaID:100, TableID:0, RowCount:0, ArgLen:1, start time: 2024-05-17 10:51:56.539 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:51:56.549 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642596634624] ["schema version"=50]
[2024/05/17 10:51:56.553 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=101] [job="ID:101, Type:create schema, State:synced, SchemaState:public, SchemaID:100, TableID:0, RowCount:0, ArgLen:0, start time: 2024-05-17 10:51:56.539 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:51:56.554 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642596634624] ["schema version"=50]
[2024/05/17 10:51:56.555 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=101]
[2024/05/17 10:51:56.555 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:51:56.555 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642596634624] ["schema version"=50]
[2024/05/17 10:51:56.558 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:103, Type:create view, State:queueing, SchemaState:none, SchemaID:100, TableID:102, RowCount:0, ArgLen:3, start time: 2024-05-17 10:51:56.557 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:51:56.558 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:103, Type:create view, State:queueing, SchemaState:none, SchemaID:100, TableID:102, RowCount:0, ArgLen:3, start time: 2024-05-17 10:51:56.557 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE OR REPLACE VIEW sys.schema_unused_indexes AS\n\t\tSELECT\n\t\t\ttable_schema as object_schema,\n\t\t\ttable_name as object_name,\n\t\t\tindex_name\n\t\tFROM information_schema.cluster_tidb_index_usage\n\t\tWHERE\n\t\t\ttable_schema not in ('sys', 'mysql', 'INFORMATION_SCHEMA', 'PERFORMANCE_SCHEMA') and\n\t\t\tindex_name != 'PRIMARY'\n\t\tGROUP BY table_schema, table_name, index_name\n\t\tHAVING\n\t\t\tsum(last_access_time) is null;"]
[2024/05/17 10:51:56.561 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=103] [category=ddl] [job="ID:103, Type:create view, State:queueing, SchemaState:none, SchemaID:100, TableID:102, RowCount:0, ArgLen:0, start time: 2024-05-17 10:51:56.557 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:51:56.563 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642601091072] ["schema version"=51]
[2024/05/17 10:51:56.564 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=50] [neededSchemaVersion=51] ["start time"=637.667µs] [gotSchemaVersion=51] [phyTblIDs="[102]"] [actionTypes="[21]"] [diffTypes="[\"create view\"]"]
[2024/05/17 10:51:56.564 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:51:56.564 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=103] [version=51]
[2024/05/17 10:51:56.565 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=51] ["take time"=2.589042ms] [job="ID:103, Type:create view, State:done, SchemaState:public, SchemaID:100, TableID:102, RowCount:0, ArgLen:3, start time: 2024-05-17 10:51:56.557 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:51:56.566 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642601091072] ["schema version"=51]
[2024/05/17 10:51:56.568 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642601091072] ["schema version"=51]
[2024/05/17 10:51:56.571 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=103] [job="ID:103, Type:create view, State:synced, SchemaState:public, SchemaID:100, TableID:102, RowCount:0, ArgLen:0, start time: 2024-05-17 10:51:56.557 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:51:56.573 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642601091072] ["schema version"=51]
[2024/05/17 10:51:56.574 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=103]
[2024/05/17 10:51:56.574 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:51:56.574 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642601091072] ["schema version"=51]
[2024/05/17 10:51:56.587 +08:00] [INFO] [bootstrap.go:745] ["bootstrap successful"] ["take time"=1.430252916s]
[2024/05/17 10:51:56.588 +08:00] [INFO] [mock.go:106] ["owner manager is canceled"] [category=ddl] [ID=7c38a9d1-2221-471f-aa9f-edbc8c2531aa] [ownerKey=/tidb/ddl/fg/owner]
[2024/05/17 10:51:56.588 +08:00] [INFO] [ddl_workerpool.go:82] ["closing workerPool"] [category=ddl]
[2024/05/17 10:51:56.588 +08:00] [INFO] [ddl_worker.go:188] ["DDL worker closed"] [worker="worker 2, tp add index"] [category=ddl] ["take time"=958ns]
[2024/05/17 10:51:56.588 +08:00] [INFO] [ddl_workerpool.go:82] ["closing workerPool"] [category=ddl]
[2024/05/17 10:51:56.588 +08:00] [INFO] [ddl_worker.go:188] ["DDL worker closed"] [worker="worker 1, tp general"] [category=ddl] ["take time"=209ns]
[2024/05/17 10:51:56.588 +08:00] [INFO] [ddl_workerpool.go:82] ["closing workerPool"] [category=ddl]
[2024/05/17 10:51:56.588 +08:00] [INFO] [delete_range.go:162] ["closing delRange"] [category=ddl]
[2024/05/17 10:51:56.588 +08:00] [INFO] [session_pool.go:99] ["closing session pool"] [category=ddl]
[2024/05/17 10:51:56.589 +08:00] [INFO] [ddl.go:951] ["DDL closed"] [category=ddl] [ID=7c38a9d1-2221-471f-aa9f-edbc8c2531aa] ["take time"=1.352625ms]
[2024/05/17 10:51:56.589 +08:00] [INFO] [ddl.go:769] ["stop DDL"] [category=ddl] [ID=7c38a9d1-2221-471f-aa9f-edbc8c2531aa]
[2024/05/17 10:51:56.589 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=mdlCheckLoop]
[2024/05/17 10:51:56.589 +08:00] [INFO] [domain.go:977] ["loadSchemaInLoop exited."]
[2024/05/17 10:51:56.589 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=loadSchemaInLoop]
[2024/05/17 10:51:56.589 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=runawayStartLoop]
[2024/05/17 10:51:56.589 +08:00] [INFO] [domain.go:831] ["topologySyncerKeeper exited."]
[2024/05/17 10:51:56.590 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=topologySyncerKeeper]
[2024/05/17 10:51:56.590 +08:00] [INFO] [domain.go:807] ["globalConfigSyncerKeeper exited."]
[2024/05/17 10:51:56.590 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=globalConfigSyncerKeeper]
[2024/05/17 10:51:56.590 +08:00] [INFO] [domain.go:781] ["infoSyncerKeeper exited."]
[2024/05/17 10:51:56.590 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=infoSyncerKeeper]
[2024/05/17 10:51:56.590 +08:00] [INFO] [domain.go:753] ["topNSlowQueryLoop exited."]
[2024/05/17 10:51:56.590 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=topNSlowQueryLoop]
[2024/05/17 10:51:56.590 +08:00] [INFO] [domain.go:1431] ["closestReplicaReadCheckLoop exited."]
[2024/05/17 10:51:56.590 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=closestReplicaReadCheckLoop]
[2024/05/17 10:51:56.590 +08:00] [INFO] [domain.go:1144] ["domain closed"] ["take time"=2.548042ms]
[2024/05/17 10:51:56.590 +08:00] [INFO] [tidb.go:80] ["new domain"] [store=b3176dd9-d5ea-4197-adf7-3566370a9908] ["ddl lease"=200ms] ["stats lease"=-1ns]
[2024/05/17 10:51:56.592 +08:00] [WARN] [controller.go:198] ["[resource group controller] server does not save config, load config failed"]
[2024/05/17 10:51:56.592 +08:00] [INFO] [controller.go:185] ["load resource controller config"] [config="{\"degraded-mode-wait-duration\":\"0s\",\"ltb-max-wait-duration\":\"30s\",\"wait-retry-interval\":\"50ms\",\"wait-retry-times\":10,\"request-unit\":{\"read-base-cost\":0.125,\"read-per-batch-base-cost\":0.5,\"read-cost-per-byte\":0.0000152587890625,\"write-base-cost\":1,\"write-per-batch-base-cost\":1,\"write-cost-per-byte\":0.0009765625,\"read-cpu-ms-cost\":0.3333333333333333},\"enable-controller-trace-log\":\"false\"}"] [ru-config="{\"ReadBaseCost\":0.125,\"ReadPerBatchBaseCost\":0.5,\"ReadBytesCost\":0.0000152587890625,\"WriteBaseCost\":1,\"WritePerBatchBaseCost\":1,\"WriteBytesCost\":0.0009765625,\"CPUMsCost\":0.3333333333333333,\"LTBMaxWaitDuration\":30000000000,\"WaitRetryInterval\":50000000,\"WaitRetryTimes\":10,\"DegradedModeWaitDuration\":0}"]
[2024/05/17 10:51:56.603 +08:00] [INFO] [domain.go:385] ["full load InfoSchema success"] [currentSchemaVersion=0] [neededSchemaVersion=51] ["start time"=10.882667ms]
[2024/05/17 10:51:56.608 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642601091072] ["schema version"=51]
[2024/05/17 10:51:56.608 +08:00] [INFO] [domain.go:705] ["full load and reset schema validator"]
[2024/05/17 10:51:56.608 +08:00] [INFO] [ddl.go:818] ["start DDL"] [category=ddl] [ID=89d8ed1e-7419-4e7a-b88e-029f51c2db7a] [runWorker=true]
[2024/05/17 10:51:56.608 +08:00] [INFO] [ddl.go:777] ["start delRangeManager OK"] [category=ddl] ["is a emulator"=true]
[2024/05/17 10:51:56.608 +08:00] [WARN] [env.go:51] ["initialize environment failed"] [category=ddl-ingest] ["storage limitation"="only support TiKV storage"] ["current storage"=unistore] ["lightning is initialized"=false]
[2024/05/17 10:51:56.608 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=loadSchemaInLoop]
[2024/05/17 10:51:56.608 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=mdlCheckLoop]
[2024/05/17 10:51:56.608 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=topNSlowQueryLoop]
[2024/05/17 10:51:56.608 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=infoSyncerKeeper]
[2024/05/17 10:51:56.608 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=globalConfigSyncerKeeper]
[2024/05/17 10:51:56.608 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=runawayStartLoop]
[2024/05/17 10:51:56.608 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=requestUnitsWriterLoop]
[2024/05/17 10:51:56.608 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=topologySyncerKeeper]
[2024/05/17 10:51:56.608 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=closestReplicaReadCheckLoop]
[2024/05/17 10:51:56.608 +08:00] [WARN] [domain.go:1396] ["pd / etcd client not provided, won't begin Advancer."]
[2024/05/17 10:51:56.627 +08:00] [INFO] [delete_range.go:172] ["start delRange emulator"] [category=ddl]
[2024/05/17 10:51:56.627 +08:00] [INFO] [job_table.go:334] ["get global state and global state change"] [category=ddl] [oldState=false] [currState=false]
[2024/05/17 10:51:56.628 +08:00] [INFO] [runaway.go:149] ["try to start runaway manager loop"]
[2024/05/17 10:51:56.628 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=requestUnitsWriterLoop]
[2024/05/17 10:51:56.643 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=globalBindHandleWorkerLoop]
[2024/05/17 10:51:56.643 +08:00] [WARN] [sysvar_cache.go:49] ["sysvar cache is empty, triggering rebuild"]
[2024/05/17 10:51:56.644 +08:00] [INFO] [sysvar.go:2748] ["set resource control"] [enable=true]
[2024/05/17 10:51:56.645 +08:00] [INFO] [controller.go:447] ["[resource group controller] create resource group cost controller"] [name=default]
[2024/05/17 10:51:56.651 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=loadPrivilegeInLoop]
[2024/05/17 10:51:56.651 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=LoadSysVarCacheLoop]
[2024/05/17 10:51:56.652 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=PlanReplayerTaskCollectHandle]
[2024/05/17 10:51:56.652 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=PlanReplayerTaskDumpHandle]
[2024/05/17 10:51:56.652 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=dumpFileGcChecker]
[2024/05/17 10:51:56.652 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=HistoricalStatsWorker]
[2024/05/17 10:51:56.653 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=indexUsageWorker]
[2024/05/17 10:51:56.653 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=quitStatsOwner]
[2024/05/17 10:51:56.653 +08:00] [INFO] [domain.go:2340] ["start load stats sub workers"] ["worker count"=5]
[2024/05/17 10:51:56.653 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=loadSigningCertLoop]
[2024/05/17 10:51:56.653 +08:00] [INFO] [manager.go:113] ["build task executor manager"] [server-id=:4000] [total-cpu=1] [total-mem=32GiB]
[2024/05/17 10:51:56.654 +08:00] [INFO] [domain.go:2086] ["PlanReplayerTaskCollectHandle started"]
[2024/05/17 10:51:56.654 +08:00] [INFO] [domain.go:2108] ["PlanReplayerTaskDumpHandle started"]
[2024/05/17 10:51:56.654 +08:00] [INFO] [plan_replayer.go:409] ["planReplayerTaskDumpWorker started."]
[2024/05/17 10:51:56.654 +08:00] [INFO] [domain.go:2140] ["dumpFileGcChecker started"]
[2024/05/17 10:51:56.654 +08:00] [INFO] [domain.go:2173] ["HistoricalStatsWorker started"]
[2024/05/17 10:51:56.655 +08:00] [INFO] [task_manager.go:217] ["scale ttl worker"] [ttl-worker=job-manager] [ttl-worker=task-manager] [originalCount=0] [newCount=4]
[2024/05/17 10:51:56.656 +08:00] [INFO] [task_manager.go:217] ["scale ttl worker"] [ttl-worker=job-manager] [ttl-worker=task-manager] [originalCount=0] [newCount=4]
[2024/05/17 10:51:56.659 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=distTaskFrameworkLoop]
[2024/05/17 10:51:56.660 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=1] [schemaVersion=51] [cur_db=] [sql="create database if not exists test_recover"] [user=]
[2024/05/17 10:51:56.661 +08:00] [INFO] [manager.go:146] ["task executor manager start"] [server-id=:4000]
[2024/05/17 10:51:56.661 +08:00] [INFO] [domain.go:1595] ["dist task executor manager started"]
[2024/05/17 10:51:56.662 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:105, Type:create schema, State:queueing, SchemaState:none, SchemaID:104, TableID:0, RowCount:0, ArgLen:1, start time: 2024-05-17 10:51:56.661 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:51:56.662 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:105, Type:create schema, State:queueing, SchemaState:none, SchemaID:104, TableID:0, RowCount:0, ArgLen:1, start time: 2024-05-17 10:51:56.661 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="create database if not exists test_recover"]
[2024/05/17 10:51:56.679 +08:00] [INFO] [job_table.go:334] ["get global state and global state change"] [category=ddl] [oldState=false] [currState=false]
[2024/05/17 10:51:56.679 +08:00] [INFO] [job_table.go:349] ["the owner sets owner operator value"] [category=ddl] [ownerOp=none]
[2024/05/17 10:51:56.686 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=105] [conn=1] [category=ddl] [job="ID:105, Type:create schema, State:queueing, SchemaState:none, SchemaID:104, TableID:0, RowCount:0, ArgLen:0, start time: 2024-05-17 10:51:56.661 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:51:56.687 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642633596930] ["schema version"=52]
[2024/05/17 10:51:56.687 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=51] [neededSchemaVersion=52] ["start time"=46.416µs] [gotSchemaVersion=52] [phyTblIDs="[]"] [actionTypes="[]"] [diffTypes="[\"create schema\"]"]
[2024/05/17 10:51:56.691 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:51:56.691 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=105] [version=52]
[2024/05/17 10:51:56.691 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=52] ["take time"=4.044375ms] [job="ID:105, Type:create schema, State:done, SchemaState:public, SchemaID:104, TableID:0, RowCount:0, ArgLen:1, start time: 2024-05-17 10:51:56.661 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:51:56.692 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642633596930] ["schema version"=52]
[2024/05/17 10:51:56.696 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=105] [conn=1] [job="ID:105, Type:create schema, State:synced, SchemaState:public, SchemaID:104, TableID:0, RowCount:0, ArgLen:0, start time: 2024-05-17 10:51:56.661 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:51:56.700 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642633596930] ["schema version"=52]
[2024/05/17 10:51:56.700 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=105]
[2024/05/17 10:51:56.700 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:51:56.700 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642633596930] ["schema version"=52]
[2024/05/17 10:51:56.700 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=1] [schemaVersion=52] [cur_db=test_recover] [sql="drop table if exists t_recover"] [user=]
[2024/05/17 10:51:56.701 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=1] [schemaVersion=52] [cur_db=test_recover] [sql="create table t_recover (a int)"] [user=]
[2024/05/17 10:51:56.703 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:107, Type:create table, State:queueing, SchemaState:none, SchemaID:104, TableID:106, RowCount:0, ArgLen:2, start time: 2024-05-17 10:51:56.702 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:51:56.703 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:107, Type:create table, State:queueing, SchemaState:none, SchemaID:104, TableID:106, RowCount:0, ArgLen:2, start time: 2024-05-17 10:51:56.702 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="create table t_recover (a int)"]
[2024/05/17 10:51:56.707 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=107] [conn=1] [category=ddl] [job="ID:107, Type:create table, State:queueing, SchemaState:none, SchemaID:104, TableID:106, RowCount:0, ArgLen:0, start time: 2024-05-17 10:51:56.702 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:51:56.709 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642639364096] ["schema version"=53]
[2024/05/17 10:51:56.709 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=52] [neededSchemaVersion=53] ["start time"=108.791µs] [gotSchemaVersion=53] [phyTblIDs="[106]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:51:56.710 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:51:56.710 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=107] [version=53]
[2024/05/17 10:51:56.711 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=53] ["take time"=2.496334ms] [job="ID:107, Type:create table, State:done, SchemaState:public, SchemaID:104, TableID:106, RowCount:0, ArgLen:2, start time: 2024-05-17 10:51:56.702 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:51:56.712 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642639364096] ["schema version"=53]
[2024/05/17 10:51:56.715 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=107] [conn=1] [job="ID:107, Type:create table, State:synced, SchemaState:public, SchemaID:104, TableID:106, RowCount:0, ArgLen:0, start time: 2024-05-17 10:51:56.702 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:51:56.717 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642639364096] ["schema version"=53]
[2024/05/17 10:51:56.717 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=107]
[2024/05/17 10:51:56.717 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:51:56.717 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642639364096] ["schema version"=53]
[2024/05/17 10:51:56.718 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=1] [schemaVersion=53] [cur_db=test_recover] [sql="drop table t_recover"] [user=]
[2024/05/17 10:51:56.719 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:108, Type:drop table, State:queueing, SchemaState:public, SchemaID:104, TableID:106, RowCount:0, ArgLen:2, start time: 2024-05-17 10:51:56.719 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:51:56.719 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:108, Type:drop table, State:queueing, SchemaState:public, SchemaID:104, TableID:106, RowCount:0, ArgLen:2, start time: 2024-05-17 10:51:56.719 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="drop table t_recover"]
[2024/05/17 10:51:56.723 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=108] [conn=1] [category=ddl] [job="ID:108, Type:drop table, State:queueing, SchemaState:public, SchemaID:104, TableID:106, RowCount:0, ArgLen:0, start time: 2024-05-17 10:51:56.719 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:51:56.725 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642643296258] ["schema version"=54]
[2024/05/17 10:51:56.725 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=53] [neededSchemaVersion=54] ["start time"=60.458µs] [gotSchemaVersion=54] [phyTblIDs="[106]"] [actionTypes="[4]"] [diffTypes="[\"drop table\"]"]
[2024/05/17 10:51:56.726 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:51:56.726 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=108] [version=54]
[2024/05/17 10:51:56.727 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=54] ["take time"=2.267292ms] [job="ID:108, Type:drop table, State:running, SchemaState:write only, SchemaID:104, TableID:106, RowCount:0, ArgLen:2, start time: 2024-05-17 10:51:56.719 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:51:56.727 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642643296258] ["schema version"=54]
[2024/05/17 10:51:56.728 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642643296258] ["schema version"=54]
[2024/05/17 10:51:56.732 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=108] [conn=1] [category=ddl] [job="ID:108, Type:drop table, State:running, SchemaState:write only, SchemaID:104, TableID:106, RowCount:0, ArgLen:0, start time: 2024-05-17 10:51:56.719 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:51:56.733 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642645655552] ["schema version"=55]
[2024/05/17 10:51:56.733 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=54] [neededSchemaVersion=55] ["start time"=167.875µs] [gotSchemaVersion=55] [phyTblIDs="[]"] [actionTypes="[]"] [diffTypes="[\"drop table\"]"]
[2024/05/17 10:51:56.735 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:51:56.735 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=108] [version=55]
[2024/05/17 10:51:56.735 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=55] ["take time"=2.015041ms] [job="ID:108, Type:drop table, State:running, SchemaState:delete only, SchemaID:104, TableID:106, RowCount:0, ArgLen:0, start time: 2024-05-17 10:51:56.719 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:51:56.736 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642645655552] ["schema version"=55]
[2024/05/17 10:51:56.739 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=108] [conn=1] [category=ddl] [job="ID:108, Type:drop table, State:running, SchemaState:delete only, SchemaID:104, TableID:106, RowCount:0, ArgLen:0, start time: 2024-05-17 10:51:56.719 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:51:56.741 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642647752704] ["schema version"=56]
[2024/05/17 10:51:56.741 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=55] [neededSchemaVersion=56] ["start time"=43.208µs] [gotSchemaVersion=56] [phyTblIDs="[]"] [actionTypes="[]"] [diffTypes="[\"drop table\"]"]
[2024/05/17 10:51:56.742 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:51:56.742 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=108] [version=56]
[2024/05/17 10:51:56.743 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=56] ["take time"=2.228375ms] [job="ID:108, Type:drop table, State:done, SchemaState:none, SchemaID:104, TableID:106, RowCount:0, ArgLen:3, start time: 2024-05-17 10:51:56.719 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:51:56.744 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642647752704] ["schema version"=56]
[2024/05/17 10:51:56.748 +08:00] [INFO] [delete_range.go:447] ["insert into delete-range table"] [category=ddl] [jobID=108] [tableIDs="[106]"] [comment="drop table: table ID"]
[2024/05/17 10:51:56.749 +08:00] [INFO] [delete_range.go:112] ["add job into delete-range table"] [category=ddl] [jobID=108] [jobType="drop table"]
[2024/05/17 10:51:56.750 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=108] [conn=1] [job="ID:108, Type:drop table, State:synced, SchemaState:none, SchemaID:104, TableID:106, RowCount:0, ArgLen:3, start time: 2024-05-17 10:51:56.719 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:51:56.752 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642647752704] ["schema version"=56]
[2024/05/17 10:51:56.757 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=108]
[2024/05/17 10:51:56.757 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:51:56.757 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642647752704] ["schema version"=56]
[2024/05/17 10:51:56.760 +08:00] [INFO] [tidb.go:269] ["rollbackTxn called due to ddl/autocommit failure"]
[2024/05/17 10:51:56.760 +08:00] [WARN] [session.go:2158] ["run statement failed"] [schemaVersion=56] [error="can not get 'tikv_gc_safe_point'"] [errorVerbose="can not get 'tikv_gc_safe_point'\ngithub.com/pingcap/tidb/pkg/util/gcutil.GetGCSafePoint\n\t/Users/bba/pc/tidb/pkg/util/gcutil/gcutil.go:81\ngithub.com/pingcap/tidb/pkg/util/gcutil.ValidateSnapshot\n\t/Users/bba/pc/tidb/pkg/util/gcutil/gcutil.go:54\ngithub.com/pingcap/tidb/pkg/executor.(*DDLExec).getRecoverTableByJobID\n\t/Users/bba/pc/tidb/pkg/executor/ddl.go:456\ngithub.com/pingcap/tidb/pkg/executor.(*DDLExec).executeRecoverTable\n\t/Users/bba/pc/tidb/pkg/executor/ddl.go:403\ngithub.com/pingcap/tidb/pkg/executor.(*DDLExec).Next\n\t/Users/bba/pc/tidb/pkg/executor/ddl.go:177\ngithub.com/pingcap/tidb/pkg/executor/internal/exec.Next\n\t/Users/bba/pc/tidb/pkg/executor/internal/exec/executor.go:410\ngithub.com/pingcap/tidb/pkg/executor.(*ExecStmt).next\n\t/Users/bba/pc/tidb/pkg/executor/adapter.go:1211\ngithub.com/pingcap/tidb/pkg/executor.(*ExecStmt).handleNoDelayExecutor\n\t/Users/bba/pc/tidb/pkg/executor/adapter.go:960\ngithub.com/pingcap/tidb/pkg/executor.(*ExecStmt).handleNoDelay\n\t/Users/bba/pc/tidb/pkg/executor/adapter.go:794\ngithub.com/pingcap/tidb/pkg/executor.(*ExecStmt).Exec\n\t/Users/bba/pc/tidb/pkg/executor/adapter.go:559\ngithub.com/pingcap/tidb/pkg/session.runStmt\n\t/Users/bba/pc/tidb/pkg/session/session.go:2285\ngithub.com/pingcap/tidb/pkg/session.(*session).ExecuteStmt\n\t/Users/bba/pc/tidb/pkg/session/session.go:2146\ngithub.com/pingcap/tidb/pkg/testkit.(*TestKit).ExecWithContext\n\t/Users/bba/pc/tidb/pkg/testkit/testkit.go:384\ngithub.com/pingcap/tidb/pkg/testkit.(*TestKit).Exec\n\t/Users/bba/pc/tidb/pkg/testkit/testkit.go:357\ngithub.com/pingcap/tidb/pkg/testkit.(*TestKit).ExecToErr\n\t/Users/bba/pc/tidb/pkg/testkit/testkit.go:430\ngithub.com/pingcap/tidb/pkg/ddl/tests/serial.TestRecoverTableByJobID\n\t/Users/bba/pc/tidb/pkg/ddl/tests/serial/serial_test.go:578\ntesting.tRunner\n\t/Users/bba/.gvm/gos/go1.21.0/src/testing/testing.go:1595\nruntime.goexit\n\t/Users/bba/.gvm/gos/go1.21.0/src/runtime/asm_arm64.s:1197"] [session="{\n  \"currDBName\": \"test_recover\",\n  \"id\": 1,\n  \"status\": 2,\n  \"strictMode\": true,\n  \"user\": null\n}"]
[2024/05/17 10:51:56.763 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:109, Type:recover table, State:queueing, SchemaState:none, SchemaID:104, TableID:106, RowCount:0, ArgLen:2, start time: 2024-05-17 10:51:56.762 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:51:56.763 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:109, Type:recover table, State:queueing, SchemaState:none, SchemaID:104, TableID:106, RowCount:0, ArgLen:2, start time: 2024-05-17 10:51:56.762 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="recover table by job 108"]
[2024/05/17 10:51:56.767 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=109] [conn=1] [category=ddl] [job="ID:109, Type:recover table, State:queueing, SchemaState:none, SchemaID:104, TableID:106, RowCount:0, ArgLen:0, start time: 2024-05-17 10:51:56.762 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:51:56.767 +08:00] [INFO] [ddl_worker.go:1423] ["schema version doesn't change"] [category=ddl] [jobID=109]
[2024/05/17 10:51:56.768 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642647752704] ["schema version"=56]
[2024/05/17 10:51:56.770 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=109] [conn=1] [category=ddl] [job="ID:109, Type:recover table, State:running, SchemaState:write only, SchemaID:104, TableID:106, RowCount:0, ArgLen:0, start time: 2024-05-17 10:51:56.762 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:51:56.775 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642656403460] ["schema version"=57]
[2024/05/17 10:51:56.775 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=56] [neededSchemaVersion=57] ["start time"=133.958µs] [gotSchemaVersion=57] [phyTblIDs="[106]"] [actionTypes="[25]"] [diffTypes="[\"recover table\"]"]
[2024/05/17 10:51:56.775 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:51:56.775 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=109] [version=57]
[2024/05/17 10:51:56.776 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=57] ["take time"=2.00425ms] [job="ID:109, Type:recover table, State:done, SchemaState:public, SchemaID:104, TableID:106, RowCount:0, ArgLen:2, start time: 2024-05-17 10:51:56.762 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:51:56.777 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642656403460] ["schema version"=57]
[2024/05/17 10:51:56.784 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=109] [conn=1] [job="ID:109, Type:recover table, State:synced, SchemaState:public, SchemaID:104, TableID:106, RowCount:0, ArgLen:2, start time: 2024-05-17 10:51:56.762 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:51:56.786 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642656403460] ["schema version"=57]
[2024/05/17 10:51:56.786 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=109]
[2024/05/17 10:51:56.786 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:51:56.786 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642656403460] ["schema version"=57]
[2024/05/17 10:51:56.786 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=1] [schemaVersion=57] [cur_db=test_recover] [sql="DROP TABLE t_recover"] [user=]
[2024/05/17 10:51:56.788 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:110, Type:drop table, State:queueing, SchemaState:public, SchemaID:104, TableID:106, RowCount:0, ArgLen:2, start time: 2024-05-17 10:51:56.787 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:51:56.788 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:110, Type:drop table, State:queueing, SchemaState:public, SchemaID:104, TableID:106, RowCount:0, ArgLen:2, start time: 2024-05-17 10:51:56.787 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="DROP TABLE t_recover"]
[2024/05/17 10:51:56.792 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=110] [conn=1] [category=ddl] [job="ID:110, Type:drop table, State:queueing, SchemaState:public, SchemaID:104, TableID:106, RowCount:0, ArgLen:0, start time: 2024-05-17 10:51:56.787 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:51:56.794 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642661384194] ["schema version"=58]
[2024/05/17 10:51:56.794 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=57] [neededSchemaVersion=58] ["start time"=59.666µs] [gotSchemaVersion=58] [phyTblIDs="[106]"] [actionTypes="[4]"] [diffTypes="[\"drop table\"]"]
[2024/05/17 10:51:56.794 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:51:56.794 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=110] [version=58]
[2024/05/17 10:51:56.795 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=58] ["take time"=2.004625ms] [job="ID:110, Type:drop table, State:running, SchemaState:write only, SchemaID:104, TableID:106, RowCount:0, ArgLen:2, start time: 2024-05-17 10:51:56.787 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:51:56.796 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642661384194] ["schema version"=58]
[2024/05/17 10:51:56.800 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=110] [conn=1] [category=ddl] [job="ID:110, Type:drop table, State:running, SchemaState:write only, SchemaID:104, TableID:106, RowCount:0, ArgLen:0, start time: 2024-05-17 10:51:56.787 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:51:56.802 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642663481347] ["schema version"=59]
[2024/05/17 10:51:56.802 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=58] [neededSchemaVersion=59] ["start time"=54.334µs] [gotSchemaVersion=59] [phyTblIDs="[]"] [actionTypes="[]"] [diffTypes="[\"drop table\"]"]
[2024/05/17 10:51:56.802 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:51:56.802 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=110] [version=59]
[2024/05/17 10:51:56.804 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=59] ["take time"=2.007334ms] [job="ID:110, Type:drop table, State:running, SchemaState:delete only, SchemaID:104, TableID:106, RowCount:0, ArgLen:0, start time: 2024-05-17 10:51:56.787 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:51:56.804 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642663481347] ["schema version"=59]
[2024/05/17 10:51:56.808 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=110] [conn=1] [category=ddl] [job="ID:110, Type:drop table, State:running, SchemaState:delete only, SchemaID:104, TableID:106, RowCount:0, ArgLen:0, start time: 2024-05-17 10:51:56.787 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:51:56.810 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642665840640] ["schema version"=60]
[2024/05/17 10:51:56.810 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=59] [neededSchemaVersion=60] ["start time"=50.167µs] [gotSchemaVersion=60] [phyTblIDs="[]"] [actionTypes="[]"] [diffTypes="[\"drop table\"]"]
[2024/05/17 10:51:56.811 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:51:56.811 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=110] [version=60]
[2024/05/17 10:51:56.812 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=60] ["take time"=2.495708ms] [job="ID:110, Type:drop table, State:done, SchemaState:none, SchemaID:104, TableID:106, RowCount:0, ArgLen:3, start time: 2024-05-17 10:51:56.787 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:51:56.814 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642665840640] ["schema version"=60]
[2024/05/17 10:51:56.817 +08:00] [INFO] [delete_range.go:447] ["insert into delete-range table"] [category=ddl] [jobID=110] [tableIDs="[106]"] [comment="drop table: table ID"]
[2024/05/17 10:51:56.818 +08:00] [INFO] [delete_range.go:112] ["add job into delete-range table"] [category=ddl] [jobID=110] [jobType="drop table"]
[2024/05/17 10:51:56.818 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=110] [conn=1] [job="ID:110, Type:drop table, State:synced, SchemaState:none, SchemaID:104, TableID:106, RowCount:0, ArgLen:3, start time: 2024-05-17 10:51:56.787 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:51:56.820 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642665840640] ["schema version"=60]
[2024/05/17 10:51:56.821 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=110]
[2024/05/17 10:51:56.821 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:51:56.821 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642665840640] ["schema version"=60]
[2024/05/17 10:51:56.823 +08:00] [INFO] [tidb.go:269] ["rollbackTxn called due to ddl/autocommit failure"]
[2024/05/17 10:51:56.823 +08:00] [WARN] [session.go:2158] ["run statement failed"] [schemaVersion=60] [error="[variable:8055]snapshot is older than GC safe point 2024-05-19 10:51:56 +0800 CST"] [errorVerbose="[variable:8055]snapshot is older than GC safe point 2024-05-19 10:51:56 +0800 CST\ngithub.com/pingcap/errors.AddStack\n\t/Users/bba/.gvm/pkgsets/go1.21.0/global/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20240318064555-6bd07397691f/errors.go:178\ngithub.com/pingcap/errors.(*Error).GenWithStackByArgs\n\t/Users/bba/.gvm/pkgsets/go1.21.0/global/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20240318064555-6bd07397691f/normalize.go:175\ngithub.com/pingcap/tidb/pkg/util/gcutil.ValidateSnapshot\n\t/Users/bba/pc/tidb/pkg/util/gcutil/gcutil.go:59\ngithub.com/pingcap/tidb/pkg/executor.(*DDLExec).getRecoverTableByJobID\n\t/Users/bba/pc/tidb/pkg/executor/ddl.go:456\ngithub.com/pingcap/tidb/pkg/executor.(*DDLExec).executeRecoverTable\n\t/Users/bba/pc/tidb/pkg/executor/ddl.go:403\ngithub.com/pingcap/tidb/pkg/executor.(*DDLExec).Next\n\t/Users/bba/pc/tidb/pkg/executor/ddl.go:177\ngithub.com/pingcap/tidb/pkg/executor/internal/exec.Next\n\t/Users/bba/pc/tidb/pkg/executor/internal/exec/executor.go:410\ngithub.com/pingcap/tidb/pkg/executor.(*ExecStmt).next\n\t/Users/bba/pc/tidb/pkg/executor/adapter.go:1211\ngithub.com/pingcap/tidb/pkg/executor.(*ExecStmt).handleNoDelayExecutor\n\t/Users/bba/pc/tidb/pkg/executor/adapter.go:960\ngithub.com/pingcap/tidb/pkg/executor.(*ExecStmt).handleNoDelay\n\t/Users/bba/pc/tidb/pkg/executor/adapter.go:794\ngithub.com/pingcap/tidb/pkg/executor.(*ExecStmt).Exec\n\t/Users/bba/pc/tidb/pkg/executor/adapter.go:559\ngithub.com/pingcap/tidb/pkg/session.runStmt\n\t/Users/bba/pc/tidb/pkg/session/session.go:2285\ngithub.com/pingcap/tidb/pkg/session.(*session).ExecuteStmt\n\t/Users/bba/pc/tidb/pkg/session/session.go:2146\ngithub.com/pingcap/tidb/pkg/testkit.(*TestKit).ExecWithContext\n\t/Users/bba/pc/tidb/pkg/testkit/testkit.go:384\ngithub.com/pingcap/tidb/pkg/testkit.(*TestKit).Exec\n\t/Users/bba/pc/tidb/pkg/testkit/testkit.go:357\ngithub.com/pingcap/tidb/pkg/testkit.(*TestKit).ExecToErr\n\t/Users/bba/pc/tidb/pkg/testkit/testkit.go:430\ngithub.com/pingcap/tidb/pkg/ddl/tests/serial.TestRecoverTableByJobID\n\t/Users/bba/pc/tidb/pkg/ddl/tests/serial/serial_test.go:592\ntesting.tRunner\n\t/Users/bba/.gvm/gos/go1.21.0/src/testing/testing.go:1595\nruntime.goexit\n\t/Users/bba/.gvm/gos/go1.21.0/src/runtime/asm_arm64.s:1197"] [session="{\n  \"currDBName\": \"test_recover\",\n  \"id\": 1,\n  \"status\": 2,\n  \"strictMode\": true,\n  \"user\": null\n}"]
[2024/05/17 10:51:56.825 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=1] [schemaVersion=60] [cur_db=test_recover] [sql="create table t_recover (a int)"] [user=]
[2024/05/17 10:51:56.826 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:112, Type:create table, State:queueing, SchemaState:none, SchemaID:104, TableID:111, RowCount:0, ArgLen:2, start time: 2024-05-17 10:51:56.826 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:51:56.826 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:112, Type:create table, State:queueing, SchemaState:none, SchemaID:104, TableID:111, RowCount:0, ArgLen:2, start time: 2024-05-17 10:51:56.826 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="create table t_recover (a int)"]
[2024/05/17 10:51:56.828 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642665840640] ["schema version"=60]
[2024/05/17 10:51:56.831 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=112] [conn=1] [category=ddl] [job="ID:112, Type:create table, State:queueing, SchemaState:none, SchemaID:104, TableID:111, RowCount:0, ArgLen:0, start time: 2024-05-17 10:51:56.826 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:51:56.833 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642671607809] ["schema version"=61]
[2024/05/17 10:51:56.833 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=60] [neededSchemaVersion=61] ["start time"=131.625µs] [gotSchemaVersion=61] [phyTblIDs="[111]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:51:56.833 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:51:56.833 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=112] [version=61]
[2024/05/17 10:51:56.835 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=61] ["take time"=2.640334ms] [job="ID:112, Type:create table, State:done, SchemaState:public, SchemaID:104, TableID:111, RowCount:0, ArgLen:2, start time: 2024-05-17 10:51:56.826 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:51:56.836 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642671607809] ["schema version"=61]
[2024/05/17 10:51:56.842 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=112] [conn=1] [job="ID:112, Type:create table, State:synced, SchemaState:public, SchemaID:104, TableID:111, RowCount:0, ArgLen:0, start time: 2024-05-17 10:51:56.826 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:51:56.843 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642671607809] ["schema version"=61]
[2024/05/17 10:51:56.843 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=112]
[2024/05/17 10:51:56.843 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:51:56.843 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816642671607809] ["schema version"=61]
[2024/05/17 10:51:56.844 +08:00] [WARN] [infoschema_v3.go:59] ["table not equal"] [tbl1="{\"id\":106,\"name\":{\"O\":\"t_recover\",\"L\":\"t_recover\"},\"charset\":\"utf8mb4\",\"collate\":\"utf8mb4_bin\",\"cols\":[{\"id\":1,\"name\":{\"O\":\"a\",\"L\":\"a\"},\"offset\":0,\"origin_default\":null,\"origin_default_bit\":null,\"default\":null,\"default_bit\":null,\"default_is_expr\":false,\"generated_expr_string\":\"\",\"generated_stored\":false,\"dependences\":null,\"type\":{\"Tp\":3,\"Flag\":0,\"Flen\":11,\"Decimal\":0,\"Charset\":\"binary\",\"Collate\":\"binary\",\"Elems\":null,\"ElemsIsBinaryLit\":null,\"Array\":false},\"state\":5,\"comment\":\"\",\"hidden\":false,\"change_state_info\":null,\"version\":2}],\"index_info\":null,\"constraint_info\":null,\"fk_info\":null,\"state\":5,\"pk_is_handle\":false,\"is_common_handle\":false,\"common_handle_version\":0,\"comment\":\"\",\"auto_inc_id\":0,\"auto_id_cache\":0,\"auto_rand_id\":0,\"max_col_id\":1,\"max_idx_id\":0,\"max_fk_id\":0,\"max_cst_id\":0,\"update_timestamp\":449816642638839812,\"ShardRowIDBits\":0,\"max_shard_row_id_bits\":0,\"auto_random_bits\":0,\"auto_random_range_bits\":0,\"pre_split_regions\":0,\"partition\":null,\"compression\":\"\",\"view\":null,\"sequence\":null,\"Lock\":null,\"version\":5,\"tiflash_replica\":null,\"is_columnar\":false,\"temp_table_type\":0,\"cache_table_status\":0,\"policy_ref_info\":null,\"stats_options\":null,\"exchange_partition_info\":null,\"ttl_info\":null,\"revision\":0}"] [tbl2="{\"id\":106,\"name\":{\"O\":\"t_recover\",\"L\":\"t_recover\"},\"charset\":\"utf8mb4\",\"collate\":\"utf8mb4_bin\",\"cols\":[{\"id\":1,\"name\":{\"O\":\"a\",\"L\":\"a\"},\"offset\":0,\"origin_default\":null,\"origin_default_bit\":null,\"default\":null,\"default_bit\":null,\"default_is_expr\":false,\"generated_expr_string\":\"\",\"generated_stored\":false,\"dependences\":null,\"type\":{\"Tp\":3,\"Flag\":0,\"Flen\":11,\"Decimal\":0,\"Charset\":\"binary\",\"Collate\":\"binary\",\"Elems\":null,\"ElemsIsBinaryLit\":null,\"Array\":false},\"state\":5,\"comment\":\"\",\"hidden\":false,\"change_state_info\":null,\"version\":2}],\"index_info\":null,\"constraint_info\":null,\"fk_info\":null,\"state\":0,\"pk_is_handle\":false,\"is_common_handle\":false,\"common_handle_version\":0,\"comment\":\"\",\"auto_inc_id\":0,\"auto_id_cache\":0,\"auto_rand_id\":0,\"max_col_id\":1,\"max_idx_id\":0,\"max_fk_id\":0,\"max_cst_id\":0,\"update_timestamp\":449816642638839812,\"ShardRowIDBits\":0,\"max_shard_row_id_bits\":0,\"auto_random_bits\":0,\"auto_random_range_bits\":0,\"pre_split_regions\":0,\"partition\":null,\"compression\":\"\",\"view\":null,\"sequence\":null,\"Lock\":null,\"version\":5,\"tiflash_replica\":null,\"is_columnar\":false,\"temp_table_type\":0,\"cache_table_status\":0,\"policy_ref_info\":null,\"stats_options\":null,\"exchange_partition_info\":null,\"ttl_info\":null,\"revision\":0}"]
[2024/05/17 10:51:56.844 +08:00] [INFO] [tidb.go:269] ["rollbackTxn called due to ddl/autocommit failure"]
[2024/05/17 10:51:56.844 +08:00] [WARN] [session.go:2158] ["run statement failed"] [schemaVersion=61] [error="inconsistent infoschema"] [errorVerbose="inconsistent infoschema\ngithub.com/pingcap/tidb/pkg/util.GetRecoverError\n\t/Users/bba/pc/tidb/pkg/util/util.go:306\ngithub.com/pingcap/tidb/pkg/executor/internal/exec.Next.func1\n\t/Users/bba/pc/tidb/pkg/executor/internal/exec/executor.go:394\nruntime.gopanic\n\t/Users/bba/.gvm/gos/go1.21.0/src/runtime/panic.go:914\ngithub.com/pingcap/tidb/pkg/infoschema.(*InfoschemaV3).TableByID\n\t/Users/bba/pc/tidb/pkg/infoschema/infoschema_v3.go:201\ngithub.com/pingcap/tidb/pkg/executor.(*DDLExec).getRecoverTableByJobID\n\t/Users/bba/pc/tidb/pkg/executor/ddl.go:467\ngithub.com/pingcap/tidb/pkg/executor.(*DDLExec).executeRecoverTable\n\t/Users/bba/pc/tidb/pkg/executor/ddl.go:403\ngithub.com/pingcap/tidb/pkg/executor.(*DDLExec).Next\n\t/Users/bba/pc/tidb/pkg/executor/ddl.go:177\ngithub.com/pingcap/tidb/pkg/executor/internal/exec.Next\n\t/Users/bba/pc/tidb/pkg/executor/internal/exec/executor.go:410\ngithub.com/pingcap/tidb/pkg/executor.(*ExecStmt).next\n\t/Users/bba/pc/tidb/pkg/executor/adapter.go:1211\ngithub.com/pingcap/tidb/pkg/executor.(*ExecStmt).handleNoDelayExecutor\n\t/Users/bba/pc/tidb/pkg/executor/adapter.go:960\ngithub.com/pingcap/tidb/pkg/executor.(*ExecStmt).handleNoDelay\n\t/Users/bba/pc/tidb/pkg/executor/adapter.go:794\ngithub.com/pingcap/tidb/pkg/executor.(*ExecStmt).Exec\n\t/Users/bba/pc/tidb/pkg/executor/adapter.go:559\ngithub.com/pingcap/tidb/pkg/session.runStmt\n\t/Users/bba/pc/tidb/pkg/session/session.go:2285\ngithub.com/pingcap/tidb/pkg/session.(*session).ExecuteStmt\n\t/Users/bba/pc/tidb/pkg/session/session.go:2146\ngithub.com/pingcap/tidb/pkg/testkit.(*TestKit).ExecWithContext\n\t/Users/bba/pc/tidb/pkg/testkit/testkit.go:384\ngithub.com/pingcap/tidb/pkg/testkit.(*TestKit).Exec\n\t/Users/bba/pc/tidb/pkg/testkit/testkit.go:357\ngithub.com/pingcap/tidb/pkg/testkit.(*TestKit).ExecToErr\n\t/Users/bba/pc/tidb/pkg/testkit/testkit.go:430\ngithub.com/pingcap/tidb/pkg/ddl/tests/serial.TestRecoverTableByJobID\n\t/Users/bba/pc/tidb/pkg/ddl/tests/serial/serial_test.go:600\ntesting.tRunner\n\t/Users/bba/.gvm/gos/go1.21.0/src/testing/testing.go:1595\nruntime.goexit\n\t/Users/bba/.gvm/gos/go1.21.0/src/runtime/asm_arm64.s:1197"] [session="{\n  \"currDBName\": \"test_recover\",\n  \"id\": 1,\n  \"status\": 2,\n  \"strictMode\": true,\n  \"user\": null\n}"]
[2024/05/17 10:51:56.845 +08:00] [INFO] [mock.go:106] ["owner manager is canceled"] [category=ddl] [ID=89d8ed1e-7419-4e7a-b88e-029f51c2db7a] [ownerKey=/tidb/ddl/fg/owner]
[2024/05/17 10:51:56.845 +08:00] [INFO] [ddl_workerpool.go:82] ["closing workerPool"] [category=ddl]
[2024/05/17 10:51:56.845 +08:00] [INFO] [ddl_worker.go:188] ["DDL worker closed"] [worker="worker 4, tp add index"] [category=ddl] ["take time"=583ns]
[2024/05/17 10:51:56.845 +08:00] [INFO] [ddl_workerpool.go:82] ["closing workerPool"] [category=ddl]
[2024/05/17 10:51:56.845 +08:00] [INFO] [ddl_worker.go:188] ["DDL worker closed"] [worker="worker 3, tp general"] [category=ddl] ["take time"=375ns]
[2024/05/17 10:51:56.845 +08:00] [INFO] [ddl_workerpool.go:82] ["closing workerPool"] [category=ddl]
[2024/05/17 10:51:56.845 +08:00] [INFO] [delete_range.go:162] ["closing delRange"] [category=ddl]
[2024/05/17 10:51:56.845 +08:00] [INFO] [session_pool.go:99] ["closing session pool"] [category=ddl]
[2024/05/17 10:51:56.845 +08:00] [INFO] [ddl.go:951] ["DDL closed"] [category=ddl] [ID=89d8ed1e-7419-4e7a-b88e-029f51c2db7a] ["take time"=292.917µs]
[2024/05/17 10:51:56.845 +08:00] [INFO] [ddl.go:769] ["stop DDL"] [category=ddl] [ID=89d8ed1e-7419-4e7a-b88e-029f51c2db7a]
[2024/05/17 10:51:56.845 +08:00] [INFO] [domain.go:1096] ["stopping ttlJobManager"]
[2024/05/17 10:51:56.845 +08:00] [INFO] [task_manager.go:194] ["shrink ttl worker"] [ttl-worker=job-manager] [ttl-worker=task-manager] [originalCount=4] [newCount=0]
[2024/05/17 10:51:56.845 +08:00] [INFO] [scan.go:309] ["ttlScanWorker loop exited."]
[2024/05/17 10:51:56.845 +08:00] [INFO] [scan.go:309] ["ttlScanWorker loop exited."]
[2024/05/17 10:51:56.845 +08:00] [INFO] [scan.go:309] ["ttlScanWorker loop exited."]
[2024/05/17 10:51:56.845 +08:00] [INFO] [scan.go:309] ["ttlScanWorker loop exited."]
[2024/05/17 10:51:56.845 +08:00] [INFO] [task_manager.go:194] ["shrink ttl worker"] [ttl-worker=job-manager] [ttl-worker=task-manager] [originalCount=4] [newCount=0]
[2024/05/17 10:51:56.845 +08:00] [INFO] [del.go:261] ["ttlDeleteWorker loop exited."]
[2024/05/17 10:51:56.845 +08:00] [INFO] [del.go:261] ["ttlDeleteWorker loop exited."]
[2024/05/17 10:51:56.845 +08:00] [INFO] [del.go:261] ["ttlDeleteWorker loop exited."]
[2024/05/17 10:51:56.845 +08:00] [INFO] [del.go:261] ["ttlDeleteWorker loop exited."]
[2024/05/17 10:51:56.845 +08:00] [INFO] [job_manager.go:174] ["ttlJobManager loop exited."] [ttl-worker=job-manager]
[2024/05/17 10:51:56.845 +08:00] [INFO] [domain.go:1107] ["ttlJobManager exited."]
[2024/05/17 10:51:56.845 +08:00] [INFO] [manager.go:280] ["recoverMetaLoop done"] [server-id=:4000]
[2024/05/17 10:51:56.845 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=mdlCheckLoop]
[2024/05/17 10:51:56.845 +08:00] [INFO] [domain.go:977] ["loadSchemaInLoop exited."]
[2024/05/17 10:51:56.845 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=loadSchemaInLoop]
[2024/05/17 10:51:56.845 +08:00] [INFO] [domain.go:1597] ["stopping dist task executor manager"]
[2024/05/17 10:51:56.845 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=loadSigningCertLoop]
[2024/05/17 10:51:56.845 +08:00] [INFO] [stats_syncload.go:216] ["SubLoadWorker exited."]
[2024/05/17 10:51:56.846 +08:00] [INFO] [stats_syncload.go:216] ["SubLoadWorker exited."]
[2024/05/17 10:51:56.846 +08:00] [INFO] [stats_syncload.go:216] ["SubLoadWorker exited."]
[2024/05/17 10:51:56.846 +08:00] [INFO] [stats_syncload.go:216] ["SubLoadWorker exited."]
[2024/05/17 10:51:56.846 +08:00] [INFO] [stats_syncload.go:216] ["SubLoadWorker exited."]
[2024/05/17 10:51:56.846 +08:00] [INFO] [mock.go:106] ["owner manager is canceled"] [category=ddl] [ID=89d8ed1e-7419-4e7a-b88e-029f51c2db7a] [ownerKey=/tidb/stats/owner]
[2024/05/17 10:51:56.846 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=quitStatsOwner]
[2024/05/17 10:51:56.846 +08:00] [INFO] [domain.go:2423] ["indexUsageWorker exited."]
[2024/05/17 10:51:56.846 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=indexUsageWorker]
[2024/05/17 10:51:56.846 +08:00] [INFO] [domain.go:2175] ["HistoricalStatsWorker exited."]
[2024/05/17 10:51:56.846 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=HistoricalStatsWorker]
[2024/05/17 10:51:56.846 +08:00] [INFO] [domain.go:2144] ["dumpFileGcChecker exited."]
[2024/05/17 10:51:56.846 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=dumpFileGcChecker]
[2024/05/17 10:51:56.846 +08:00] [INFO] [domain.go:2110] ["PlanReplayerTaskDumpHandle exited."]
[2024/05/17 10:51:56.846 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=PlanReplayerTaskDumpHandle]
[2024/05/17 10:51:56.846 +08:00] [INFO] [plan_replayer.go:413] ["planReplayerTaskDumpWorker exited."]
[2024/05/17 10:51:56.846 +08:00] [INFO] [domain.go:2090] ["PlanReplayerTaskCollectHandle exited."]
[2024/05/17 10:51:56.846 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=PlanReplayerTaskCollectHandle]
[2024/05/17 10:51:56.846 +08:00] [INFO] [domain.go:1820] ["LoadSysVarCacheLoop exited."]
[2024/05/17 10:51:56.846 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=LoadSysVarCacheLoop]
[2024/05/17 10:51:56.846 +08:00] [INFO] [domain.go:1770] ["loadPrivilegeInLoop exited."]
[2024/05/17 10:51:56.846 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=loadPrivilegeInLoop]
[2024/05/17 10:51:56.846 +08:00] [INFO] [mock.go:106] ["owner manager is canceled"] [category=ddl] [ID=89d8ed1e-7419-4e7a-b88e-029f51c2db7a] [ownerKey=/tidb/bindinfo/owner]
[2024/05/17 10:51:56.846 +08:00] [INFO] [domain.go:1959] ["globalBindHandleWorkerLoop exited."]
[2024/05/17 10:51:56.846 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=globalBindHandleWorkerLoop]
[2024/05/17 10:51:56.846 +08:00] [INFO] [domain.go:831] ["topologySyncerKeeper exited."]
[2024/05/17 10:51:56.846 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=topologySyncerKeeper]
[2024/05/17 10:51:56.846 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=runawayStartLoop]
[2024/05/17 10:51:56.846 +08:00] [INFO] [domain.go:807] ["globalConfigSyncerKeeper exited."]
[2024/05/17 10:51:56.846 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=globalConfigSyncerKeeper]
[2024/05/17 10:51:56.846 +08:00] [INFO] [domain.go:781] ["infoSyncerKeeper exited."]
[2024/05/17 10:51:56.846 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=infoSyncerKeeper]
[2024/05/17 10:51:56.846 +08:00] [INFO] [domain.go:753] ["topNSlowQueryLoop exited."]
[2024/05/17 10:51:56.846 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=topNSlowQueryLoop]
[2024/05/17 10:51:56.846 +08:00] [INFO] [domain.go:1431] ["closestReplicaReadCheckLoop exited."]
[2024/05/17 10:51:56.846 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=closestReplicaReadCheckLoop]
[2024/05/17 10:51:56.846 +08:00] [INFO] [manager.go:179] ["handle tasks loop done"] [server-id=:4000]
[2024/05/17 10:51:56.846 +08:00] [INFO] [domain.go:1599] ["dist task executor manager stopped"]
[2024/05/17 10:51:56.846 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=distTaskFrameworkLoop]
[2024/05/17 10:51:56.846 +08:00] [INFO] [domain.go:1144] ["domain closed"] ["take time"=1.534875ms]
[2024/05/17 10:51:56.853 +08:00] [INFO] [db.go:567] ["Closing database"]
[2024/05/17 10:51:56.853 +08:00] [INFO] [db.go:592] ["Memtable flushed"]
[2024/05/17 10:51:56.853 +08:00] [INFO] [db.go:596] ["Compaction finished"]
[2024/05/17 10:51:56.853 +08:00] [INFO] [db.go:615] ["BlobManager finished"]
[2024/05/17 10:51:56.853 +08:00] [INFO] [db.go:619] ["ResourceManager finished"]
[2024/05/17 10:51:56.853 +08:00] [INFO] [db.go:625] ["Waiting for closer"]
--- FAIL: TestRecoverTableByJobID (1.79s)
    serial_test.go:601: 
        	Error Trace:	/Users/bba/pc/tidb/pkg/ddl/tests/serial/serial_test.go:601
        	Error:      	Error message not equal:
        	            	expected: "[schema:1050]Table 't_recover' already exists"
        	            	actual  : "inconsistent infoschema"
        	Test:       	TestRecoverTableByJobID
FAIL
[FAIL]  pkg/infoschema/test/clustertablestest TestSelectHiddenColumn
err=exit status 1
[2024/05/17 10:52:12.773 +08:00] [INFO] [store_cache.go:510] ["change store resolve state"] [store=1] [addr=store1] [from=unresolved] [to=resolved] [liveness-state=reachable]
[2024/05/17 10:52:12.774 +08:00] [INFO] [ddl_api.go:1141] ["Automatically convert BLOB(65535) to MEDIUMBLOB"] [category=ddl]
[2024/05/17 10:52:12.774 +08:00] [INFO] [ddl_api.go:1141] ["Automatically convert BLOB(65535) to MEDIUMBLOB"] [category=ddl]
[2024/05/17 10:52:12.774 +08:00] [INFO] [ddl_api.go:1141] ["Automatically convert BLOB(65535) to MEDIUMBLOB"] [category=ddl]
[2024/05/17 10:52:12.774 +08:00] [INFO] [ddl_api.go:1141] ["Automatically convert BLOB(65535) to MEDIUMBLOB"] [category=ddl]
[2024/05/17 10:52:12.774 +08:00] [INFO] [ddl_api.go:1141] ["Automatically convert BLOB(65535) to MEDIUMBLOB"] [category=ddl]
[2024/05/17 10:52:12.775 +08:00] [INFO] [tidb.go:80] ["new domain"] [store=ac1bbc92-4211-45ee-9320-687837511fd4] ["ddl lease"=500ms] ["stats lease"=-1ns]
[2024/05/17 10:52:12.778 +08:00] [WARN] [controller.go:198] ["[resource group controller] server does not save config, load config failed"]
[2024/05/17 10:52:12.778 +08:00] [INFO] [controller.go:185] ["load resource controller config"] [config="{\"degraded-mode-wait-duration\":\"0s\",\"ltb-max-wait-duration\":\"30s\",\"wait-retry-interval\":\"50ms\",\"wait-retry-times\":10,\"request-unit\":{\"read-base-cost\":0.125,\"read-per-batch-base-cost\":0.5,\"read-cost-per-byte\":0.0000152587890625,\"write-base-cost\":1,\"write-per-batch-base-cost\":1,\"write-cost-per-byte\":0.0009765625,\"read-cpu-ms-cost\":0.3333333333333333},\"enable-controller-trace-log\":\"false\"}"] [ru-config="{\"ReadBaseCost\":0.125,\"ReadPerBatchBaseCost\":0.5,\"ReadBytesCost\":0.0000152587890625,\"WriteBaseCost\":1,\"WritePerBatchBaseCost\":1,\"WriteBytesCost\":0.0009765625,\"CPUMsCost\":0.3333333333333333,\"LTBMaxWaitDuration\":30000000000,\"WaitRetryInterval\":50000000,\"WaitRetryTimes\":10,\"DegradedModeWaitDuration\":0}"]
[2024/05/17 10:52:12.778 +08:00] [WARN] [domain.go:302] ["failed to get schema version"] [error="There is no Write MVCC info for the schema version"] [errorVerbose="There is no Write MVCC info for the schema version\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).getTimestampForSchemaVersionWithNonEmptyDiff\n\t/Users/bba/pc/tidb/pkg/domain/domain.go:405\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).loadInfoSchema\n\t/Users/bba/pc/tidb/pkg/domain/domain.go:300\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).Reload\n\t/Users/bba/pc/tidb/pkg/domain/domain.go:676\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).Init\n\t/Users/bba/pc/tidb/pkg/domain/domain.go:1330\ngithub.com/pingcap/tidb/pkg/session.(*domainMap).Get.func1\n\t/Users/bba/pc/tidb/pkg/session/tidb.go:92\ngithub.com/pingcap/tidb/pkg/util.RunWithRetry\n\t/Users/bba/pc/tidb/pkg/util/misc.go:70\ngithub.com/pingcap/tidb/pkg/session.(*domainMap).Get\n\t/Users/bba/pc/tidb/pkg/session/tidb.go:79\ngithub.com/pingcap/tidb/pkg/session.createSessionWithOpt\n\t/Users/bba/pc/tidb/pkg/session/session.go:3634\ngithub.com/pingcap/tidb/pkg/session.createSession\n\t/Users/bba/pc/tidb/pkg/session/session.go:3626\ngithub.com/pingcap/tidb/pkg/session.runInBootstrapSession\n\t/Users/bba/pc/tidb/pkg/session/session.go:3576\ngithub.com/pingcap/tidb/pkg/session.bootstrapSessionImpl\n\t/Users/bba/pc/tidb/pkg/session/session.go:3352\ngithub.com/pingcap/tidb/pkg/session.BootstrapSession\n\t/Users/bba/pc/tidb/pkg/session/session.go:3318\ngithub.com/pingcap/tidb/pkg/testkit.bootstrap\n\t/Users/bba/pc/tidb/pkg/testkit/mockstore.go:294\ngithub.com/pingcap/tidb/pkg/testkit.CreateMockStoreAndDomain\n\t/Users/bba/pc/tidb/pkg/testkit/mockstore.go:265\ngithub.com/pingcap/tidb/pkg/infoschema/test/clustertablestest.TestSelectHiddenColumn\n\t/Users/bba/pc/tidb/pkg/infoschema/test/clustertablestest/tables_test.go:639\ntesting.tRunner\n\t/Users/bba/.gvm/gos/go1.21.0/src/testing/testing.go:1595\nruntime.goexit\n\t/Users/bba/.gvm/gos/go1.21.0/src/runtime/asm_arm64.s:1197"] [version=0]
[2024/05/17 10:52:12.785 +08:00] [INFO] [domain.go:385] ["full load InfoSchema success"] [currentSchemaVersion=0] [neededSchemaVersion=0] ["start time"=6.478583ms]
[2024/05/17 10:52:12.785 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=0] ["schema version"=0]
[2024/05/17 10:52:12.785 +08:00] [INFO] [domain.go:705] ["full load and reset schema validator"]
[2024/05/17 10:52:12.785 +08:00] [INFO] [ddl.go:818] ["start DDL"] [category=ddl] [ID=8728164a-6b07-4716-9c2e-48ccbd7c7ca9] [runWorker=true]
[2024/05/17 10:52:12.786 +08:00] [INFO] [ddl.go:777] ["start delRangeManager OK"] [category=ddl] ["is a emulator"=true]
[2024/05/17 10:52:12.786 +08:00] [WARN] [env.go:51] ["initialize environment failed"] [category=ddl-ingest] ["storage limitation"="only support TiKV storage"] ["current storage"=unistore] ["lightning is initialized"=false]
[2024/05/17 10:52:12.786 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=loadSchemaInLoop]
[2024/05/17 10:52:12.786 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=mdlCheckLoop]
[2024/05/17 10:52:12.786 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=topNSlowQueryLoop]
[2024/05/17 10:52:12.786 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=infoSyncerKeeper]
[2024/05/17 10:52:12.786 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=globalConfigSyncerKeeper]
[2024/05/17 10:52:12.786 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=runawayStartLoop]
[2024/05/17 10:52:12.786 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=requestUnitsWriterLoop]
[2024/05/17 10:52:12.786 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=topologySyncerKeeper]
[2024/05/17 10:52:12.786 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=closestReplicaReadCheckLoop]
[2024/05/17 10:52:12.786 +08:00] [WARN] [domain.go:1396] ["pd / etcd client not provided, won't begin Advancer."]
[2024/05/17 10:52:12.786 +08:00] [INFO] [delete_range.go:172] ["start delRange emulator"] [category=ddl]
[2024/05/17 10:52:12.786 +08:00] [INFO] [job_table.go:334] ["get global state and global state change"] [category=ddl] [oldState=false] [currState=false]
[2024/05/17 10:52:12.786 +08:00] [INFO] [runaway.go:149] ["try to start runaway manager loop"]
[2024/05/17 10:52:12.786 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=requestUnitsWriterLoop]
[2024/05/17 10:52:12.836 +08:00] [INFO] [job_table.go:334] ["get global state and global state change"] [category=ddl] [oldState=false] [currState=false]
[2024/05/17 10:52:12.836 +08:00] [INFO] [job_table.go:349] ["the owner sets owner operator value"] [category=ddl] [ownerOp=none]
[2024/05/17 10:52:12.988 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=0] [cur_db=mysql] [sql="CREATE DATABASE IF NOT EXISTS test"] [user=]
[2024/05/17 10:52:12.994 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:3, Type:create schema, State:queueing, SchemaState:none, SchemaID:2, TableID:0, RowCount:0, ArgLen:1, start time: 2024-05-17 10:52:12.99 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:52:12.994 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:3, Type:create schema, State:queueing, SchemaState:none, SchemaID:2, TableID:0, RowCount:0, ArgLen:1, start time: 2024-05-17 10:52:12.99 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE DATABASE IF NOT EXISTS test"]
[2024/05/17 10:52:13.003 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=3] [category=ddl] [job="ID:3, Type:create schema, State:queueing, SchemaState:none, SchemaID:2, TableID:0, RowCount:0, ArgLen:0, start time: 2024-05-17 10:52:12.99 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:13.014 +08:00] [INFO] [domain.go:385] ["full load InfoSchema success"] [currentSchemaVersion=0] [neededSchemaVersion=1] ["start time"=10.055208ms]
[2024/05/17 10:52:13.015 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816646911000576] ["schema version"=1]
[2024/05/17 10:52:13.015 +08:00] [INFO] [domain.go:705] ["full load and reset schema validator"]
[2024/05/17 10:52:13.016 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:52:13.016 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=3] [version=1]
[2024/05/17 10:52:13.016 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=1] ["take time"=12.223583ms] [job="ID:3, Type:create schema, State:done, SchemaState:public, SchemaID:2, TableID:0, RowCount:0, ArgLen:1, start time: 2024-05-17 10:52:12.99 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:13.019 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=3] [job="ID:3, Type:create schema, State:synced, SchemaState:public, SchemaID:2, TableID:0, RowCount:0, ArgLen:0, start time: 2024-05-17 10:52:12.99 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:13.020 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=3]
[2024/05/17 10:52:13.020 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:52:13.020 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816646911000576] ["schema version"=1]
[2024/05/17 10:52:13.020 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=1] [cur_db=mysql] [sql="CREATE DATABASE IF NOT EXISTS `mysql`"] [user=]
[2024/05/17 10:52:13.021 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=1] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.user (\n\t\tHost\t\t\t\t\tCHAR(255),\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tauthentication_string\tTEXT,\n\t\tplugin\t\t\t\t\tCHAR(64),\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tProcess_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_db_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tSuper_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_user_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_slave_priv\t    \tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_client_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_role_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_role_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAccount_locked\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShutdown_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReload_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tFILE_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tConfig_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_Tablespace_Priv  ENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPassword_reuse_history  smallint unsigned DEFAULT NULL,\n\t\tPassword_reuse_time     smallint unsigned DEFAULT NULL,\n\t\tUser_attributes\t\t\tjson,\n\t\tToken_issuer\t\t\tVARCHAR(255),\n\t\tPassword_expired\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPassword_last_changed\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP(),\n\t\tPassword_lifetime\t\tSMALLINT UNSIGNED DEFAULT NULL,\n\t\tPRIMARY KEY (Host, User));"] [user=]
[2024/05/17 10:52:13.024 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:5, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:4, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:13.022 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:52:13.024 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:5, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:4, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:13.022 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.user (\n\t\tHost\t\t\t\t\tCHAR(255),\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tauthentication_string\tTEXT,\n\t\tplugin\t\t\t\t\tCHAR(64),\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tProcess_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_db_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tSuper_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_user_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_slave_priv\t    \tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_client_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_role_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_role_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAccount_locked\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShutdown_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReload_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tFILE_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tConfig_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_Tablespace_Priv  ENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPassword_reuse_history  smallint unsigned DEFAULT NULL,\n\t\tPassword_reuse_time     smallint unsigned DEFAULT NULL,\n\t\tUser_attributes\t\t\tjson,\n\t\tToken_issuer\t\t\tVARCHAR(255),\n\t\tPassword_expired\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPassword_last_changed\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP(),\n\t\tPassword_lifetime\t\tSMALLINT UNSIGNED DEFAULT NULL,\n\t\tPRIMARY KEY (Host, User));"]
[2024/05/17 10:52:13.027 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=5] [category=ddl] [job="ID:5, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:4, RowCount:0, ArgLen:0, start time: 2024-05-17 10:52:13.022 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:13.032 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816646918078464] ["schema version"=2]
[2024/05/17 10:52:13.032 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=1] [neededSchemaVersion=2] ["start time"=1.064209ms] [gotSchemaVersion=2] [phyTblIDs="[4]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:52:13.035 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:52:13.035 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=5] [version=2]
[2024/05/17 10:52:13.036 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=2] ["take time"=5.231084ms] [job="ID:5, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:4, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:13.022 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:13.037 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816646918078464] ["schema version"=2]
[2024/05/17 10:52:13.045 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=5] [job="ID:5, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:4, RowCount:0, ArgLen:0, start time: 2024-05-17 10:52:13.022 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:13.051 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=5]
[2024/05/17 10:52:13.051 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:52:13.051 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816646918078464] ["schema version"=2]
[2024/05/17 10:52:13.052 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=2] [cur_db=mysql] [sql="CREATE TABLE  IF NOT EXISTS mysql.password_history (\n         Host char(255)  NOT NULL DEFAULT '',\n         User char(32)  NOT NULL DEFAULT '',\n         Password_timestamp timestamp(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6),\n         Password text,\n         PRIMARY KEY (Host,User,Password_timestamp )\n        ) COMMENT='Password history for user accounts' "] [user=]
[2024/05/17 10:52:13.055 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:7, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:6, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:13.055 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:52:13.055 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:7, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:6, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:13.055 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE  IF NOT EXISTS mysql.password_history (\n         Host char(255)  NOT NULL DEFAULT '',\n         User char(32)  NOT NULL DEFAULT '',\n         Password_timestamp timestamp(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6),\n         Password text,\n         PRIMARY KEY (Host,User,Password_timestamp )\n        ) COMMENT='Password history for user accounts' "]
[2024/05/17 10:52:13.060 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=7] [category=ddl] [job="ID:7, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:6, RowCount:0, ArgLen:0, start time: 2024-05-17 10:52:13.055 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:13.062 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816646926204928] ["schema version"=3]
[2024/05/17 10:52:13.062 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=2] [neededSchemaVersion=3] ["start time"=193.75µs] [gotSchemaVersion=3] [phyTblIDs="[6]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:52:13.063 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:52:13.063 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=7] [version=3]
[2024/05/17 10:52:13.065 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=3] ["take time"=2.508625ms] [job="ID:7, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:6, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:13.055 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:13.068 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=7] [job="ID:7, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:6, RowCount:0, ArgLen:0, start time: 2024-05-17 10:52:13.055 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:13.071 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=7]
[2024/05/17 10:52:13.071 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:52:13.071 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816646926204928] ["schema version"=3]
[2024/05/17 10:52:13.071 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=3] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.global_priv (Host CHAR(255) NOT NULL DEFAULT '',User CHAR(80) NOT NULL DEFAULT '',Priv LONGTEXT NOT NULL DEFAULT '',PRIMARY KEY (Host, User))"] [user=]
[2024/05/17 10:52:13.073 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:9, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:8, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:13.072 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:52:13.073 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:9, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:8, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:13.072 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.global_priv (Host CHAR(255) NOT NULL DEFAULT '',User CHAR(80) NOT NULL DEFAULT '',Priv LONGTEXT NOT NULL DEFAULT '',PRIMARY KEY (Host, User))"]
[2024/05/17 10:52:13.076 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=9] [category=ddl] [job="ID:9, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:8, RowCount:0, ArgLen:0, start time: 2024-05-17 10:52:13.072 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:13.078 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816646930137094] ["schema version"=4]
[2024/05/17 10:52:13.078 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=3] [neededSchemaVersion=4] ["start time"=175.25µs] [gotSchemaVersion=4] [phyTblIDs="[8]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:52:13.079 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:52:13.079 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=9] [version=4]
[2024/05/17 10:52:13.080 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=4] ["take time"=2.02075ms] [job="ID:9, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:8, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:13.072 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:13.083 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=9] [job="ID:9, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:8, RowCount:0, ArgLen:0, start time: 2024-05-17 10:52:13.072 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:13.085 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=9]
[2024/05/17 10:52:13.085 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:52:13.085 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816646930137094] ["schema version"=4]
[2024/05/17 10:52:13.086 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=4] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.db (\n\t\tHost\t\t\t\t\tCHAR(255),\n\t\tDB\t\t\t\t\t\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv \t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (Host, DB, User));"] [user=]
[2024/05/17 10:52:13.089 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:11, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:10, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:13.088 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:52:13.089 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:11, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:10, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:13.088 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.db (\n\t\tHost\t\t\t\t\tCHAR(255),\n\t\tDB\t\t\t\t\t\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv \t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (Host, DB, User));"]
[2024/05/17 10:52:13.094 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=11] [category=ddl] [job="ID:11, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:10, RowCount:0, ArgLen:0, start time: 2024-05-17 10:52:13.088 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:13.097 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816646935117824] ["schema version"=5]
[2024/05/17 10:52:13.097 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=4] [neededSchemaVersion=5] ["start time"=468.417µs] [gotSchemaVersion=5] [phyTblIDs="[10]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:52:13.097 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:52:13.097 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=11] [version=5]
[2024/05/17 10:52:13.099 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=5] ["take time"=2.583792ms] [job="ID:11, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:10, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:13.088 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:13.104 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=11] [job="ID:11, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:10, RowCount:0, ArgLen:0, start time: 2024-05-17 10:52:13.088 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:13.107 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=11]
[2024/05/17 10:52:13.107 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:52:13.107 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816646935117824] ["schema version"=5]
[2024/05/17 10:52:13.107 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=5] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tables_priv (\n\t\tHost\t\tCHAR(255),\n\t\tDB\t\t\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tGrantor\t\tCHAR(77),\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tTable_priv\tSET('Select','Insert','Update','Delete','Create','Drop','Grant','Index','Alter','Create View','Show View','Trigger','References'),\n\t\tColumn_priv\tSET('Select','Insert','Update','References'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name));"] [user=]
[2024/05/17 10:52:13.109 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:13, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:12, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:13.108 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:52:13.109 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:13, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:12, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:13.108 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tables_priv (\n\t\tHost\t\tCHAR(255),\n\t\tDB\t\t\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tGrantor\t\tCHAR(77),\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tTable_priv\tSET('Select','Insert','Update','Delete','Create','Drop','Grant','Index','Alter','Create View','Show View','Trigger','References'),\n\t\tColumn_priv\tSET('Select','Insert','Update','References'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name));"]
[2024/05/17 10:52:13.113 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=13] [category=ddl] [job="ID:13, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:12, RowCount:0, ArgLen:0, start time: 2024-05-17 10:52:13.108 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:13.118 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816646940360704] ["schema version"=6]
[2024/05/17 10:52:13.118 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=5] [neededSchemaVersion=6] ["start time"=825.083µs] [gotSchemaVersion=6] [phyTblIDs="[12]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:52:13.119 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:52:13.119 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=13] [version=6]
[2024/05/17 10:52:13.120 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=6] ["take time"=3.026875ms] [job="ID:13, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:12, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:13.108 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:13.126 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=13] [job="ID:13, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:12, RowCount:0, ArgLen:0, start time: 2024-05-17 10:52:13.108 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:13.129 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=13]
[2024/05/17 10:52:13.129 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:52:13.129 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816646940360704] ["schema version"=6]
[2024/05/17 10:52:13.129 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=6] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.columns_priv(\n\t\tHost\t\tCHAR(255),\n\t\tDB\t\t\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tColumn_name\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tColumn_priv\tSET('Select','Insert','Update','References'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name, Column_name));"] [user=]
[2024/05/17 10:52:13.131 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:15, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:14, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:13.13 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:52:13.132 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:15, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:14, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:13.13 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.columns_priv(\n\t\tHost\t\tCHAR(255),\n\t\tDB\t\t\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tColumn_name\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tColumn_priv\tSET('Select','Insert','Update','References'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name, Column_name));"]
[2024/05/17 10:52:13.137 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=15] [category=ddl] [job="ID:15, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:14, RowCount:0, ArgLen:0, start time: 2024-05-17 10:52:13.13 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:13.140 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816646946390017] ["schema version"=7]
[2024/05/17 10:52:13.140 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=6] [neededSchemaVersion=7] ["start time"=260.75µs] [gotSchemaVersion=7] [phyTblIDs="[14]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:52:13.141 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:52:13.141 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=15] [version=7]
[2024/05/17 10:52:13.142 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=7] ["take time"=2.461791ms] [job="ID:15, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:14, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:13.13 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:13.146 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=15] [job="ID:15, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:14, RowCount:0, ArgLen:0, start time: 2024-05-17 10:52:13.13 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:13.151 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=15]
[2024/05/17 10:52:13.151 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:52:13.151 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816646946390017] ["schema version"=7]
[2024/05/17 10:52:13.151 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=7] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.GLOBAL_VARIABLES(\n\t\tVARIABLE_NAME  VARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE VARCHAR(16383) DEFAULT NULL);"] [user=]
[2024/05/17 10:52:13.154 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:17, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:16, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:13.153 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:52:13.154 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:17, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:16, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:13.153 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.GLOBAL_VARIABLES(\n\t\tVARIABLE_NAME  VARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE VARCHAR(16383) DEFAULT NULL);"]
[2024/05/17 10:52:13.157 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=17] [category=ddl] [job="ID:17, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:16, RowCount:0, ArgLen:0, start time: 2024-05-17 10:52:13.153 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:13.159 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816646951632896] ["schema version"=8]
[2024/05/17 10:52:13.159 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=7] [neededSchemaVersion=8] ["start time"=158.834µs] [gotSchemaVersion=8] [phyTblIDs="[16]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:52:13.160 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:52:13.160 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=17] [version=8]
[2024/05/17 10:52:13.161 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=8] ["take time"=2.032458ms] [job="ID:17, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:16, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:13.153 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:13.165 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=17] [job="ID:17, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:16, RowCount:0, ArgLen:0, start time: 2024-05-17 10:52:13.153 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:13.168 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=17]
[2024/05/17 10:52:13.168 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:52:13.168 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816646951632896] ["schema version"=8]
[2024/05/17 10:52:13.168 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=8] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb(\n\t\tVARIABLE_NAME  \tVARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE \tVARCHAR(1024) DEFAULT NULL,\n\t\tCOMMENT \t\tVARCHAR(1024));"] [user=]
[2024/05/17 10:52:13.170 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:19, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:18, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:13.168 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:52:13.170 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:19, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:18, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:13.168 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb(\n\t\tVARIABLE_NAME  \tVARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE \tVARCHAR(1024) DEFAULT NULL,\n\t\tCOMMENT \t\tVARCHAR(1024));"]
[2024/05/17 10:52:13.174 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=19] [category=ddl] [job="ID:19, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:18, RowCount:0, ArgLen:0, start time: 2024-05-17 10:52:13.168 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:13.175 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816646955827201] ["schema version"=9]
[2024/05/17 10:52:13.175 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=8] [neededSchemaVersion=9] ["start time"=164.583µs] [gotSchemaVersion=9] [phyTblIDs="[18]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:52:13.176 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:52:13.176 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=19] [version=9]
[2024/05/17 10:52:13.177 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=9] ["take time"=2.020333ms] [job="ID:19, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:18, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:13.168 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:13.181 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=19] [job="ID:19, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:18, RowCount:0, ArgLen:0, start time: 2024-05-17 10:52:13.168 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:13.183 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=19]
[2024/05/17 10:52:13.183 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:52:13.183 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816646955827201] ["schema version"=9]
[2024/05/17 10:52:13.184 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=9] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.help_topic (\n  \t\thelp_topic_id \t\tINT(10) UNSIGNED NOT NULL,\n  \t\tname \t\t\t\tCHAR(64) NOT NULL,\n  \t\thelp_category_id \tSMALLINT(5) UNSIGNED NOT NULL,\n  \t\tdescription \t\tTEXT NOT NULL,\n  \t\texample \t\t\tTEXT NOT NULL,\n  \t\turl \t\t\t\tTEXT NOT NULL,\n  \t\tPRIMARY KEY (help_topic_id) clustered,\n  \t\tUNIQUE KEY name (name)\n\t\t) ENGINE=InnoDB DEFAULT CHARSET=utf8 STATS_PERSISTENT=0 COMMENT='help topics';"] [user=]
[2024/05/17 10:52:13.188 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:21, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:20, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:13.186 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:52:13.188 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:21, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:20, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:13.186 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.help_topic (\n  \t\thelp_topic_id \t\tINT(10) UNSIGNED NOT NULL,\n  \t\tname \t\t\t\tCHAR(64) NOT NULL,\n  \t\thelp_category_id \tSMALLINT(5) UNSIGNED NOT NULL,\n  \t\tdescription \t\tTEXT NOT NULL,\n  \t\texample \t\t\tTEXT NOT NULL,\n  \t\turl \t\t\t\tTEXT NOT NULL,\n  \t\tPRIMARY KEY (help_topic_id) clustered,\n  \t\tUNIQUE KEY name (name)\n\t\t) ENGINE=InnoDB DEFAULT CHARSET=utf8 STATS_PERSISTENT=0 COMMENT='help topics';"]
[2024/05/17 10:52:13.193 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=21] [category=ddl] [job="ID:21, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:20, RowCount:0, ArgLen:0, start time: 2024-05-17 10:52:13.186 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:13.195 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816646960807939] ["schema version"=10]
[2024/05/17 10:52:13.195 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=9] [neededSchemaVersion=10] ["start time"=223.584µs] [gotSchemaVersion=10] [phyTblIDs="[20]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:52:13.195 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:52:13.195 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=21] [version=10]
[2024/05/17 10:52:13.196 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=10] ["take time"=2.059458ms] [job="ID:21, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:20, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:13.186 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:13.201 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=21] [job="ID:21, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:20, RowCount:0, ArgLen:0, start time: 2024-05-17 10:52:13.186 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:13.203 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=21]
[2024/05/17 10:52:13.203 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:52:13.203 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816646960807939] ["schema version"=10]
[2024/05/17 10:52:13.203 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=10] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_meta (\n\t\tversion \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\ttable_id \t\tBIGINT(64) NOT NULL,\n\t\tmodify_count\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcount \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tsnapshot        BIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tINDEX idx_ver(version),\n\t\tUNIQUE INDEX tbl(table_id)\n\t);"] [user=]
[2024/05/17 10:52:13.205 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:23, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:22, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:13.204 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:52:13.205 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:23, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:22, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:13.204 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_meta (\n\t\tversion \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\ttable_id \t\tBIGINT(64) NOT NULL,\n\t\tmodify_count\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcount \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tsnapshot        BIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tINDEX idx_ver(version),\n\t\tUNIQUE INDEX tbl(table_id)\n\t);"]
[2024/05/17 10:52:13.209 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=23] [category=ddl] [job="ID:23, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:22, RowCount:0, ArgLen:0, start time: 2024-05-17 10:52:13.204 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:13.213 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816646965002242] ["schema version"=11]
[2024/05/17 10:52:13.213 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=10] [neededSchemaVersion=11] ["start time"=365.208µs] [gotSchemaVersion=11] [phyTblIDs="[22]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:52:13.214 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:52:13.214 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=23] [version=11]
[2024/05/17 10:52:13.216 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=11] ["take time"=4.500333ms] [job="ID:23, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:22, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:13.204 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:13.222 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=23] [job="ID:23, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:22, RowCount:0, ArgLen:0, start time: 2024-05-17 10:52:13.204 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:13.224 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=23]
[2024/05/17 10:52:13.224 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:52:13.224 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816646965002242] ["schema version"=11]
[2024/05/17 10:52:13.225 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=11] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_histograms (\n\t\ttable_id \t\t\tBIGINT(64) NOT NULL,\n\t\tis_index \t\t\tTINYINT(2) NOT NULL,\n\t\thist_id \t\t\tBIGINT(64) NOT NULL,\n\t\tdistinct_count \t\tBIGINT(64) NOT NULL,\n\t\tnull_count \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\ttot_col_size \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tmodify_count \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tversion \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tcm_sketch \t\t\tBLOB(6291456),\n\t\tstats_ver \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tflag \t\t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcorrelation \t\tDOUBLE NOT NULL DEFAULT 0,\n\t\tlast_analyze_pos \tLONGBLOB DEFAULT NULL,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id)\n\t);"] [user=]
[2024/05/17 10:52:13.225 +08:00] [INFO] [ddl_api.go:1141] ["Automatically convert BLOB(6291456) to MEDIUMBLOB"] [category=ddl]
[2024/05/17 10:52:13.226 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:25, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:24, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:13.226 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:52:13.226 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:25, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:24, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:13.226 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_histograms (\n\t\ttable_id \t\t\tBIGINT(64) NOT NULL,\n\t\tis_index \t\t\tTINYINT(2) NOT NULL,\n\t\thist_id \t\t\tBIGINT(64) NOT NULL,\n\t\tdistinct_count \t\tBIGINT(64) NOT NULL,\n\t\tnull_count \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\ttot_col_size \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tmodify_count \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tversion \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tcm_sketch \t\t\tBLOB(6291456),\n\t\tstats_ver \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tflag \t\t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcorrelation \t\tDOUBLE NOT NULL DEFAULT 0,\n\t\tlast_analyze_pos \tLONGBLOB DEFAULT NULL,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id)\n\t);"]
[2024/05/17 10:52:13.230 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=25] [category=ddl] [job="ID:25, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:24, RowCount:0, ArgLen:0, start time: 2024-05-17 10:52:13.226 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:13.232 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816646970507264] ["schema version"=12]
[2024/05/17 10:52:13.232 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=11] [neededSchemaVersion=12] ["start time"=295.625µs] [gotSchemaVersion=12] [phyTblIDs="[24]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:52:13.232 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:52:13.232 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=25] [version=12]
[2024/05/17 10:52:13.234 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=12] ["take time"=2.453792ms] [job="ID:25, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:24, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:13.226 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:13.241 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=25] [job="ID:25, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:24, RowCount:0, ArgLen:0, start time: 2024-05-17 10:52:13.226 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:13.245 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=25]
[2024/05/17 10:52:13.245 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:52:13.245 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816646970507264] ["schema version"=12]
[2024/05/17 10:52:13.245 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=12] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_buckets (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tbucket_id \tBIGINT(64) NOT NULL,\n\t\tcount \t\tBIGINT(64) NOT NULL,\n\t\trepeats \tBIGINT(64) NOT NULL,\n\t\tupper_bound LONGBLOB NOT NULL,\n\t\tlower_bound LONGBLOB ,\n\t\tndv         BIGINT NOT NULL DEFAULT 0,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id, bucket_id)\n\t);"] [user=]
[2024/05/17 10:52:13.248 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:27, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:26, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:13.246 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:52:13.248 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:27, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:26, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:13.246 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_buckets (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tbucket_id \tBIGINT(64) NOT NULL,\n\t\tcount \t\tBIGINT(64) NOT NULL,\n\t\trepeats \tBIGINT(64) NOT NULL,\n\t\tupper_bound LONGBLOB NOT NULL,\n\t\tlower_bound LONGBLOB ,\n\t\tndv         BIGINT NOT NULL DEFAULT 0,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id, bucket_id)\n\t);"]
[2024/05/17 10:52:13.258 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=27] [category=ddl] [job="ID:27, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:26, RowCount:0, ArgLen:0, start time: 2024-05-17 10:52:13.246 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:13.261 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816646978109440] ["schema version"=13]
[2024/05/17 10:52:13.261 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=12] [neededSchemaVersion=13] ["start time"=358µs] [gotSchemaVersion=13] [phyTblIDs="[26]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:52:13.262 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:52:13.262 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=27] [version=13]
[2024/05/17 10:52:13.267 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=13] ["take time"=6.39675ms] [job="ID:27, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:26, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:13.246 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:13.290 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816646978109440] ["schema version"=13]
[2024/05/17 10:52:13.292 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=27] [job="ID:27, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:26, RowCount:0, ArgLen:0, start time: 2024-05-17 10:52:13.246 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:13.296 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=27]
[2024/05/17 10:52:13.296 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:52:13.297 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816646978109440] ["schema version"=13]
[2024/05/17 10:52:13.297 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=13] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_index (job_id, element_id)\n\t);"] [user=]
[2024/05/17 10:52:13.299 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:29, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:28, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:13.298 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:52:13.299 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:29, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:28, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:13.298 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_index (job_id, element_id)\n\t);"]
[2024/05/17 10:52:13.303 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=29] [category=ddl] [job="ID:29, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:28, RowCount:0, ArgLen:0, start time: 2024-05-17 10:52:13.298 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:13.305 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816646989643776] ["schema version"=14]
[2024/05/17 10:52:13.305 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=13] [neededSchemaVersion=14] ["start time"=211.167µs] [gotSchemaVersion=14] [phyTblIDs="[28]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:52:13.305 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:52:13.305 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=29] [version=14]
[2024/05/17 10:52:13.306 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=14] ["take time"=2.016792ms] [job="ID:29, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:28, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:13.298 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:13.310 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=29] [job="ID:29, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:28, RowCount:0, ArgLen:0, start time: 2024-05-17 10:52:13.298 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:13.311 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=29]
[2024/05/17 10:52:13.311 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:52:13.311 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816646989643776] ["schema version"=14]
[2024/05/17 10:52:13.311 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=14] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range_done (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_done_index (job_id, element_id)\n\t);"] [user=]
[2024/05/17 10:52:13.313 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:31, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:30, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:13.312 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:52:13.313 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:31, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:30, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:13.312 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range_done (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_done_index (job_id, element_id)\n\t);"]
[2024/05/17 10:52:13.316 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=31] [category=ddl] [job="ID:31, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:30, RowCount:0, ArgLen:0, start time: 2024-05-17 10:52:13.312 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:13.318 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816646993051648] ["schema version"=15]
[2024/05/17 10:52:13.318 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=14] [neededSchemaVersion=15] ["start time"=275.25µs] [gotSchemaVersion=15] [phyTblIDs="[30]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:52:13.319 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:52:13.319 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=31] [version=15]
[2024/05/17 10:52:13.320 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=15] ["take time"=2.536375ms] [job="ID:31, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:30, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:13.312 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:13.325 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=31] [job="ID:31, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:30, RowCount:0, ArgLen:0, start time: 2024-05-17 10:52:13.312 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:13.326 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=31]
[2024/05/17 10:52:13.326 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:52:13.326 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816646993051648] ["schema version"=15]
[2024/05/17 10:52:13.326 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=15] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_feedback (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tfeedback \tBLOB NOT NULL,\n\t\tINDEX hist(table_id, is_index, hist_id)\n\t);"] [user=]
[2024/05/17 10:52:13.327 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:33, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:32, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:13.327 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:52:13.327 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:33, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:32, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:13.327 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_feedback (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tfeedback \tBLOB NOT NULL,\n\t\tINDEX hist(table_id, is_index, hist_id)\n\t);"]
[2024/05/17 10:52:13.330 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=33] [category=ddl] [job="ID:33, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:32, RowCount:0, ArgLen:0, start time: 2024-05-17 10:52:13.327 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:13.332 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816646996721667] ["schema version"=16]
[2024/05/17 10:52:13.332 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=15] [neededSchemaVersion=16] ["start time"=176.25µs] [gotSchemaVersion=16] [phyTblIDs="[32]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:52:13.332 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:52:13.332 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=33] [version=16]
[2024/05/17 10:52:13.333 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=16] ["take time"=2.022833ms] [job="ID:33, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:32, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:13.327 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:13.338 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=33] [job="ID:33, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:32, RowCount:0, ArgLen:0, start time: 2024-05-17 10:52:13.327 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:13.339 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=33]
[2024/05/17 10:52:13.339 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:52:13.339 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816646996721667] ["schema version"=16]
[2024/05/17 10:52:13.340 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=16] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.role_edges (\n\t\tFROM_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tFROM_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tWITH_ADMIN_OPTION \tENUM('N','Y') CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (FROM_HOST,FROM_USER,TO_HOST,TO_USER)\n\t);"] [user=]
[2024/05/17 10:52:13.341 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:35, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:34, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:13.341 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:52:13.341 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:35, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:34, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:13.341 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.role_edges (\n\t\tFROM_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tFROM_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tWITH_ADMIN_OPTION \tENUM('N','Y') CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (FROM_HOST,FROM_USER,TO_HOST,TO_USER)\n\t);"]
[2024/05/17 10:52:13.344 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=35] [category=ddl] [job="ID:35, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:34, RowCount:0, ArgLen:0, start time: 2024-05-17 10:52:13.341 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:13.346 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816647000391686] ["schema version"=17]
[2024/05/17 10:52:13.346 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=16] [neededSchemaVersion=17] ["start time"=216.666µs] [gotSchemaVersion=17] [phyTblIDs="[34]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:52:13.347 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:52:13.347 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=35] [version=17]
[2024/05/17 10:52:13.348 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=17] ["take time"=2.160125ms] [job="ID:35, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:34, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:13.341 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:13.351 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=35] [job="ID:35, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:34, RowCount:0, ArgLen:0, start time: 2024-05-17 10:52:13.341 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:13.353 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=35]
[2024/05/17 10:52:13.353 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:52:13.353 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816647000391686] ["schema version"=17]
[2024/05/17 10:52:13.353 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=17] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.default_roles (\n\t\tHOST \t\t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tUSER \t\t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tDEFAULT_ROLE_HOST \tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '%',\n\t\tDEFAULT_ROLE_USER \tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tPRIMARY KEY (HOST,USER,DEFAULT_ROLE_HOST,DEFAULT_ROLE_USER)\n\t)"] [user=]
[2024/05/17 10:52:13.354 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:37, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:36, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:13.353 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:52:13.354 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:37, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:36, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:13.353 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.default_roles (\n\t\tHOST \t\t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tUSER \t\t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tDEFAULT_ROLE_HOST \tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '%',\n\t\tDEFAULT_ROLE_USER \tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tPRIMARY KEY (HOST,USER,DEFAULT_ROLE_HOST,DEFAULT_ROLE_USER)\n\t)"]
[2024/05/17 10:52:13.357 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=37] [category=ddl] [job="ID:37, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:36, RowCount:0, ArgLen:0, start time: 2024-05-17 10:52:13.353 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:13.358 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816647003799552] ["schema version"=18]
[2024/05/17 10:52:13.358 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=17] [neededSchemaVersion=18] ["start time"=197.167µs] [gotSchemaVersion=18] [phyTblIDs="[36]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:52:13.359 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:52:13.359 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=37] [version=18]
[2024/05/17 10:52:13.360 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=18] ["take time"=2.007542ms] [job="ID:37, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:36, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:13.353 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:13.363 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=37] [job="ID:37, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:36, RowCount:0, ArgLen:0, start time: 2024-05-17 10:52:13.353 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:13.365 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=37]
[2024/05/17 10:52:13.365 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:52:13.365 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816647003799552] ["schema version"=18]
[2024/05/17 10:52:13.366 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=18] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.bind_info (\n\t\toriginal_sql TEXT NOT NULL,\n\t\tbind_sql TEXT NOT NULL,\n\t\tdefault_db TEXT NOT NULL,\n\t\tstatus TEXT NOT NULL,\n\t\tcreate_time TIMESTAMP(3) NOT NULL,\n\t\tupdate_time TIMESTAMP(3) NOT NULL,\n\t\tcharset TEXT NOT NULL,\n\t\tcollation TEXT NOT NULL,\n\t\tsource VARCHAR(10) NOT NULL DEFAULT 'unknown',\n\t\tsql_digest varchar(64),\n\t\tplan_digest varchar(64),\n\t\tINDEX sql_index(original_sql(700),default_db(68)) COMMENT \"accelerate the speed when add global binding query\",\n\t\tINDEX time_index(update_time) COMMENT \"accelerate the speed when querying with last update time\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"] [user=]
[2024/05/17 10:52:13.367 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:39, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:38, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:13.366 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:52:13.367 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:39, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:38, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:13.366 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.bind_info (\n\t\toriginal_sql TEXT NOT NULL,\n\t\tbind_sql TEXT NOT NULL,\n\t\tdefault_db TEXT NOT NULL,\n\t\tstatus TEXT NOT NULL,\n\t\tcreate_time TIMESTAMP(3) NOT NULL,\n\t\tupdate_time TIMESTAMP(3) NOT NULL,\n\t\tcharset TEXT NOT NULL,\n\t\tcollation TEXT NOT NULL,\n\t\tsource VARCHAR(10) NOT NULL DEFAULT 'unknown',\n\t\tsql_digest varchar(64),\n\t\tplan_digest varchar(64),\n\t\tINDEX sql_index(original_sql(700),default_db(68)) COMMENT \"accelerate the speed when add global binding query\",\n\t\tINDEX time_index(update_time) COMMENT \"accelerate the speed when querying with last update time\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"]
[2024/05/17 10:52:13.371 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=39] [category=ddl] [job="ID:39, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:38, RowCount:0, ArgLen:0, start time: 2024-05-17 10:52:13.366 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:13.373 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816647007469568] ["schema version"=19]
[2024/05/17 10:52:13.373 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=18] [neededSchemaVersion=19] ["start time"=403.459µs] [gotSchemaVersion=19] [phyTblIDs="[38]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:52:13.374 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:52:13.374 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=39] [version=19]
[2024/05/17 10:52:13.375 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=19] ["take time"=2.732ms] [job="ID:39, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:38, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:13.366 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:13.379 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=39] [job="ID:39, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:38, RowCount:0, ArgLen:0, start time: 2024-05-17 10:52:13.366 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:13.380 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=39]
[2024/05/17 10:52:13.380 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:52:13.380 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816647007469568] ["schema version"=19]
[2024/05/17 10:52:13.381 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=19] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_top_n (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tvalue \t\tLONGBLOB,\n\t\tcount \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\tINDEX tbl(table_id, is_index, hist_id)\n\t);"] [user=]
[2024/05/17 10:52:13.382 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:41, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:40, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:13.382 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:52:13.382 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:41, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:40, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:13.382 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_top_n (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tvalue \t\tLONGBLOB,\n\t\tcount \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\tINDEX tbl(table_id, is_index, hist_id)\n\t);"]
[2024/05/17 10:52:13.386 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=41] [category=ddl] [job="ID:41, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:40, RowCount:0, ArgLen:0, start time: 2024-05-17 10:52:13.382 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:13.387 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816647011401728] ["schema version"=20]
[2024/05/17 10:52:13.387 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=19] [neededSchemaVersion=20] ["start time"=197.542µs] [gotSchemaVersion=20] [phyTblIDs="[40]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:52:13.388 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:52:13.388 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=41] [version=20]
[2024/05/17 10:52:13.390 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=20] ["take time"=2.573125ms] [job="ID:41, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:40, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:13.382 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:13.393 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=41] [job="ID:41, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:40, RowCount:0, ArgLen:0, start time: 2024-05-17 10:52:13.382 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:13.394 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=41]
[2024/05/17 10:52:13.394 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:52:13.395 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816647011401728] ["schema version"=20]
[2024/05/17 10:52:13.395 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=20] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.expr_pushdown_blacklist (\n\t\tname \t\tCHAR(100) NOT NULL,\n\t\tstore_type \tCHAR(100) NOT NULL DEFAULT 'tikv,tiflash,tidb',\n\t\treason \t\tVARCHAR(200)\n\t);"] [user=]
[2024/05/17 10:52:13.396 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:43, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:42, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:13.395 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:52:13.396 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:43, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:42, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:13.395 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.expr_pushdown_blacklist (\n\t\tname \t\tCHAR(100) NOT NULL,\n\t\tstore_type \tCHAR(100) NOT NULL DEFAULT 'tikv,tiflash,tidb',\n\t\treason \t\tVARCHAR(200)\n\t);"]
[2024/05/17 10:52:13.399 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=43] [category=ddl] [job="ID:43, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:42, RowCount:0, ArgLen:0, start time: 2024-05-17 10:52:13.395 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:13.400 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816647014809601] ["schema version"=21]
[2024/05/17 10:52:13.400 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=20] [neededSchemaVersion=21] ["start time"=136.667µs] [gotSchemaVersion=21] [phyTblIDs="[42]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:52:13.401 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:52:13.401 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=43] [version=21]
[2024/05/17 10:52:13.402 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=21] ["take time"=2.021791ms] [job="ID:43, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:42, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:13.395 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:13.406 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=43] [job="ID:43, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:42, RowCount:0, ArgLen:0, start time: 2024-05-17 10:52:13.395 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:13.407 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=43]
[2024/05/17 10:52:13.407 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:52:13.407 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816647014809601] ["schema version"=21]
[2024/05/17 10:52:13.408 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=21] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.opt_rule_blacklist (\n\t\tname \tCHAR(100) NOT NULL\n\t);"] [user=]
[2024/05/17 10:52:13.409 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:45, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:44, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:13.408 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:52:13.409 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:45, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:44, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:13.408 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.opt_rule_blacklist (\n\t\tname \tCHAR(100) NOT NULL\n\t);"]
[2024/05/17 10:52:13.412 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=45] [category=ddl] [job="ID:45, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:44, RowCount:0, ArgLen:0, start time: 2024-05-17 10:52:13.408 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:13.413 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816647018217473] ["schema version"=22]
[2024/05/17 10:52:13.413 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=21] [neededSchemaVersion=22] ["start time"=104.292µs] [gotSchemaVersion=22] [phyTblIDs="[44]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:52:13.414 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:52:13.414 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=45] [version=22]
[2024/05/17 10:52:13.416 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=22] ["take time"=2.817458ms] [job="ID:45, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:44, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:13.408 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:13.419 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=45] [job="ID:45, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:44, RowCount:0, ArgLen:0, start time: 2024-05-17 10:52:13.408 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:13.421 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=45]
[2024/05/17 10:52:13.421 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:52:13.421 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816647018217473] ["schema version"=22]
[2024/05/17 10:52:13.422 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=22] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_extended (\n\t\tname varchar(32) NOT NULL,\n\t\ttype tinyint(4) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tcolumn_ids varchar(32) NOT NULL,\n\t\tstats blob DEFAULT NULL,\n\t\tversion bigint(64) unsigned NOT NULL,\n\t\tstatus tinyint(4) NOT NULL,\n\t\tPRIMARY KEY(name, table_id),\n\t\tKEY idx_1 (table_id, status, version),\n\t\tKEY idx_2 (status, version)\n\t);"] [user=]
[2024/05/17 10:52:13.423 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:47, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:46, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:13.423 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:52:13.423 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:47, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:46, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:13.423 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_extended (\n\t\tname varchar(32) NOT NULL,\n\t\ttype tinyint(4) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tcolumn_ids varchar(32) NOT NULL,\n\t\tstats blob DEFAULT NULL,\n\t\tversion bigint(64) unsigned NOT NULL,\n\t\tstatus tinyint(4) NOT NULL,\n\t\tPRIMARY KEY(name, table_id),\n\t\tKEY idx_1 (table_id, status, version),\n\t\tKEY idx_2 (status, version)\n\t);"]
[2024/05/17 10:52:13.430 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=47] [category=ddl] [job="ID:47, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:46, RowCount:0, ArgLen:0, start time: 2024-05-17 10:52:13.423 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:13.433 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816647023460352] ["schema version"=23]
[2024/05/17 10:52:13.433 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=22] [neededSchemaVersion=23] ["start time"=419.959µs] [gotSchemaVersion=23] [phyTblIDs="[46]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:52:13.434 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:52:13.434 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=47] [version=23]
[2024/05/17 10:52:13.435 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=23] ["take time"=2.299792ms] [job="ID:47, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:46, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:13.423 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:13.441 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=47] [job="ID:47, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:46, RowCount:0, ArgLen:0, start time: 2024-05-17 10:52:13.423 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:13.443 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=47]
[2024/05/17 10:52:13.443 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:52:13.443 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816647023460352] ["schema version"=23]
[2024/05/17 10:52:13.443 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=23] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_fm_sketch (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tvalue \t\tLONGBLOB,\n\t\tINDEX tbl(table_id, is_index, hist_id)\n\t);"] [user=]
[2024/05/17 10:52:13.446 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:49, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:48, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:13.446 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:52:13.447 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:49, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:48, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:13.446 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_fm_sketch (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tvalue \t\tLONGBLOB,\n\t\tINDEX tbl(table_id, is_index, hist_id)\n\t);"]
[2024/05/17 10:52:13.453 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=49] [category=ddl] [job="ID:49, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:48, RowCount:0, ArgLen:0, start time: 2024-05-17 10:52:13.446 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:13.454 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816647028965376] ["schema version"=24]
[2024/05/17 10:52:13.454 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=23] [neededSchemaVersion=24] ["start time"=228.417µs] [gotSchemaVersion=24] [phyTblIDs="[48]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:52:13.455 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:52:13.455 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=49] [version=24]
[2024/05/17 10:52:13.456 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=24] ["take time"=2.198625ms] [job="ID:49, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:48, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:13.446 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:13.461 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=49] [job="ID:49, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:48, RowCount:0, ArgLen:0, start time: 2024-05-17 10:52:13.446 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:13.462 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=49]
[2024/05/17 10:52:13.462 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:52:13.462 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816647028965376] ["schema version"=24]
[2024/05/17 10:52:13.462 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=24] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.global_grants (\n\t\tUSER char(32) NOT NULL DEFAULT '',\n\t\tHOST char(255) NOT NULL DEFAULT '',\n\t\tPRIV char(32) NOT NULL DEFAULT '',\n\t\tWITH_GRANT_OPTION enum('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (USER,HOST,PRIV)\n\t);"] [user=]
[2024/05/17 10:52:13.463 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:51, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:50, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:13.463 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:52:13.463 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:51, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:50, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:13.463 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.global_grants (\n\t\tUSER char(32) NOT NULL DEFAULT '',\n\t\tHOST char(255) NOT NULL DEFAULT '',\n\t\tPRIV char(32) NOT NULL DEFAULT '',\n\t\tWITH_GRANT_OPTION enum('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (USER,HOST,PRIV)\n\t);"]
[2024/05/17 10:52:13.466 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=51] [category=ddl] [job="ID:51, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:50, RowCount:0, ArgLen:0, start time: 2024-05-17 10:52:13.463 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:13.468 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816647032373251] ["schema version"=25]
[2024/05/17 10:52:13.468 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=24] [neededSchemaVersion=25] ["start time"=193.083µs] [gotSchemaVersion=25] [phyTblIDs="[50]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:52:13.470 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:52:13.471 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=51] [version=25]
[2024/05/17 10:52:13.472 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=25] ["take time"=4.714209ms] [job="ID:51, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:50, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:13.463 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:13.476 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=51] [job="ID:51, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:50, RowCount:0, ArgLen:0, start time: 2024-05-17 10:52:13.463 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:13.478 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=51]
[2024/05/17 10:52:13.478 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:52:13.478 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816647032373251] ["schema version"=25]
[2024/05/17 10:52:13.478 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=25] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.capture_plan_baselines_blacklist (\n\t\tid bigint(64) auto_increment,\n\t\tfilter_type varchar(32) NOT NULL COMMENT \"type of the filter, only db, table and frequency supported now\",\n\t\tfilter_value varchar(32) NOT NULL,\n\t\tkey idx(filter_type),\n\t\tprimary key(id)\n\t);"] [user=]
[2024/05/17 10:52:13.479 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:53, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:52, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:13.478 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:52:13.479 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:53, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:52, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:13.478 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.capture_plan_baselines_blacklist (\n\t\tid bigint(64) auto_increment,\n\t\tfilter_type varchar(32) NOT NULL COMMENT \"type of the filter, only db, table and frequency supported now\",\n\t\tfilter_value varchar(32) NOT NULL,\n\t\tkey idx(filter_type),\n\t\tprimary key(id)\n\t);"]
[2024/05/17 10:52:13.482 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=53] [category=ddl] [job="ID:53, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:52, RowCount:0, ArgLen:0, start time: 2024-05-17 10:52:13.478 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:13.483 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816647036567552] ["schema version"=26]
[2024/05/17 10:52:13.483 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=25] [neededSchemaVersion=26] ["start time"=149.208µs] [gotSchemaVersion=26] [phyTblIDs="[52]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:52:13.484 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:52:13.484 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=53] [version=26]
[2024/05/17 10:52:13.486 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=26] ["take time"=2.521125ms] [job="ID:53, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:52, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:13.478 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:13.488 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=53] [job="ID:53, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:52, RowCount:0, ArgLen:0, start time: 2024-05-17 10:52:13.478 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:13.490 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=53]
[2024/05/17 10:52:13.490 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:52:13.490 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816647036567552] ["schema version"=26]
[2024/05/17 10:52:13.490 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=26] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.column_stats_usage (\n\t\ttable_id BIGINT(64) NOT NULL,\n\t\tcolumn_id BIGINT(64) NOT NULL,\n\t\tlast_used_at TIMESTAMP,\n\t\tlast_analyzed_at TIMESTAMP,\n\t\tPRIMARY KEY (table_id, column_id) CLUSTERED\n\t);"] [user=]
[2024/05/17 10:52:13.491 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:55, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:54, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:13.491 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:52:13.491 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:55, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:54, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:13.491 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.column_stats_usage (\n\t\ttable_id BIGINT(64) NOT NULL,\n\t\tcolumn_id BIGINT(64) NOT NULL,\n\t\tlast_used_at TIMESTAMP,\n\t\tlast_analyzed_at TIMESTAMP,\n\t\tPRIMARY KEY (table_id, column_id) CLUSTERED\n\t);"]
[2024/05/17 10:52:13.494 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=55] [category=ddl] [job="ID:55, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:54, RowCount:0, ArgLen:0, start time: 2024-05-17 10:52:13.491 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:13.496 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816647039975424] ["schema version"=27]
[2024/05/17 10:52:13.496 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=26] [neededSchemaVersion=27] ["start time"=187.959µs] [gotSchemaVersion=27] [phyTblIDs="[54]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:52:13.497 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:52:13.497 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=55] [version=27]
[2024/05/17 10:52:13.498 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=27] ["take time"=2.090292ms] [job="ID:55, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:54, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:13.491 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:13.501 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=55] [job="ID:55, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:54, RowCount:0, ArgLen:0, start time: 2024-05-17 10:52:13.491 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:13.503 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=55]
[2024/05/17 10:52:13.503 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:52:13.503 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816647039975424] ["schema version"=27]
[2024/05/17 10:52:13.503 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=27] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.table_cache_meta (\n\t\ttid bigint(11) NOT NULL DEFAULT 0,\n\t\tlock_type enum('NONE','READ', 'INTEND', 'WRITE') NOT NULL DEFAULT 'NONE',\n\t\tlease bigint(20) NOT NULL DEFAULT 0,\n\t\toldReadLease bigint(20) NOT NULL DEFAULT 0,\n\t\tPRIMARY KEY (tid)\n\t);"] [user=]
[2024/05/17 10:52:13.504 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:57, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:56, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:13.504 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:52:13.504 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:57, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:56, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:13.504 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.table_cache_meta (\n\t\ttid bigint(11) NOT NULL DEFAULT 0,\n\t\tlock_type enum('NONE','READ', 'INTEND', 'WRITE') NOT NULL DEFAULT 'NONE',\n\t\tlease bigint(20) NOT NULL DEFAULT 0,\n\t\toldReadLease bigint(20) NOT NULL DEFAULT 0,\n\t\tPRIMARY KEY (tid)\n\t);"]
[2024/05/17 10:52:13.508 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=57] [category=ddl] [job="ID:57, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:56, RowCount:0, ArgLen:0, start time: 2024-05-17 10:52:13.504 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:13.509 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816647043383296] ["schema version"=28]
[2024/05/17 10:52:13.509 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=27] [neededSchemaVersion=28] ["start time"=155.667µs] [gotSchemaVersion=28] [phyTblIDs="[56]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:52:13.509 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:52:13.509 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=57] [version=28]
[2024/05/17 10:52:13.511 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=28] ["take time"=2.474709ms] [job="ID:57, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:56, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:13.504 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:13.514 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=57] [job="ID:57, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:56, RowCount:0, ArgLen:0, start time: 2024-05-17 10:52:13.504 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:13.516 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=57]
[2024/05/17 10:52:13.516 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:52:13.516 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816647043383296] ["schema version"=28]
[2024/05/17 10:52:13.516 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=28] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.analyze_options (\n\t\ttable_id BIGINT(64) NOT NULL,\n\t\tsample_num BIGINT(64) NOT NULL DEFAULT 0,\n\t\tsample_rate DOUBLE NOT NULL DEFAULT -1,\n\t\tbuckets BIGINT(64) NOT NULL DEFAULT 0,\n\t\ttopn BIGINT(64) NOT NULL DEFAULT -1,\n\t\tcolumn_choice enum('DEFAULT','ALL','PREDICATE','LIST') NOT NULL DEFAULT 'DEFAULT',\n\t\tcolumn_ids TEXT(19372),\n\t\tPRIMARY KEY (table_id) CLUSTERED\n\t);"] [user=]
[2024/05/17 10:52:13.517 +08:00] [INFO] [ddl_api.go:1141] ["Automatically convert BLOB(19372) to MEDIUMBLOB"] [category=ddl]
[2024/05/17 10:52:13.518 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:59, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:58, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:13.517 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:52:13.518 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:59, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:58, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:13.517 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.analyze_options (\n\t\ttable_id BIGINT(64) NOT NULL,\n\t\tsample_num BIGINT(64) NOT NULL DEFAULT 0,\n\t\tsample_rate DOUBLE NOT NULL DEFAULT -1,\n\t\tbuckets BIGINT(64) NOT NULL DEFAULT 0,\n\t\ttopn BIGINT(64) NOT NULL DEFAULT -1,\n\t\tcolumn_choice enum('DEFAULT','ALL','PREDICATE','LIST') NOT NULL DEFAULT 'DEFAULT',\n\t\tcolumn_ids TEXT(19372),\n\t\tPRIMARY KEY (table_id) CLUSTERED\n\t);"]
[2024/05/17 10:52:13.521 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=59] [category=ddl] [job="ID:59, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:58, RowCount:0, ArgLen:0, start time: 2024-05-17 10:52:13.517 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:13.522 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816647046529032] ["schema version"=29]
[2024/05/17 10:52:13.522 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=28] [neededSchemaVersion=29] ["start time"=197.583µs] [gotSchemaVersion=29] [phyTblIDs="[58]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:52:13.523 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:52:13.523 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=59] [version=29]
[2024/05/17 10:52:13.524 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=29] ["take time"=2.025208ms] [job="ID:59, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:58, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:13.517 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:13.527 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=59] [job="ID:59, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:58, RowCount:0, ArgLen:0, start time: 2024-05-17 10:52:13.517 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:13.528 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=59]
[2024/05/17 10:52:13.529 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:52:13.529 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816647046529032] ["schema version"=29]
[2024/05/17 10:52:13.529 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=29] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_history (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tstats_data longblob NOT NULL,\n\t\tseq_no bigint(64) NOT NULL comment 'sequence number of the gzipped data slice',\n\t\tversion bigint(64) NOT NULL comment 'stats version which corresponding to stats:version in EXPLAIN',\n\t\tcreate_time datetime(6) NOT NULL,\n\t\tUNIQUE KEY table_version_seq (table_id, version, seq_no),\n\t\tKEY table_create_time (table_id, create_time, seq_no),\n    \tKEY idx_create_time (create_time)\n\t);"] [user=]
[2024/05/17 10:52:13.530 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:61, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:60, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:13.529 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:52:13.530 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:61, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:60, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:13.529 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_history (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tstats_data longblob NOT NULL,\n\t\tseq_no bigint(64) NOT NULL comment 'sequence number of the gzipped data slice',\n\t\tversion bigint(64) NOT NULL comment 'stats version which corresponding to stats:version in EXPLAIN',\n\t\tcreate_time datetime(6) NOT NULL,\n\t\tUNIQUE KEY table_version_seq (table_id, version, seq_no),\n\t\tKEY table_create_time (table_id, create_time, seq_no),\n    \tKEY idx_create_time (create_time)\n\t);"]
[2024/05/17 10:52:13.533 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=61] [category=ddl] [job="ID:61, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:60, RowCount:0, ArgLen:0, start time: 2024-05-17 10:52:13.529 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:13.534 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816647049936896] ["schema version"=30]
[2024/05/17 10:52:13.534 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=29] [neededSchemaVersion=30] ["start time"=230.5µs] [gotSchemaVersion=30] [phyTblIDs="[60]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:52:13.535 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:52:13.535 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=61] [version=30]
[2024/05/17 10:52:13.536 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=30] ["take time"=2.0405ms] [job="ID:61, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:60, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:13.529 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:13.537 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816647049936896] ["schema version"=30]
[2024/05/17 10:52:13.541 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=61] [job="ID:61, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:60, RowCount:0, ArgLen:0, start time: 2024-05-17 10:52:13.529 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:13.542 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=61]
[2024/05/17 10:52:13.542 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:52:13.542 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816647049936896] ["schema version"=30]
[2024/05/17 10:52:13.542 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=30] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_meta_history (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tmodify_count bigint(64) NOT NULL,\n\t\tcount bigint(64) NOT NULL,\n\t\tversion bigint(64) NOT NULL comment 'stats version which corresponding to stats:version in EXPLAIN',\n    \tsource varchar(40) NOT NULL,\n\t\tcreate_time datetime(6) NOT NULL,\n\t\tUNIQUE KEY table_version (table_id, version),\n\t\tKEY table_create_time (table_id, create_time),\n    \tKEY idx_create_time (create_time)\n\t);"] [user=]
[2024/05/17 10:52:13.544 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:63, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:62, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:13.543 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:52:13.544 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:63, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:62, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:13.543 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_meta_history (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tmodify_count bigint(64) NOT NULL,\n\t\tcount bigint(64) NOT NULL,\n\t\tversion bigint(64) NOT NULL comment 'stats version which corresponding to stats:version in EXPLAIN',\n    \tsource varchar(40) NOT NULL,\n\t\tcreate_time datetime(6) NOT NULL,\n\t\tUNIQUE KEY table_version (table_id, version),\n\t\tKEY table_create_time (table_id, create_time),\n    \tKEY idx_create_time (create_time)\n\t);"]
[2024/05/17 10:52:13.547 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=63] [category=ddl] [job="ID:63, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:62, RowCount:0, ArgLen:0, start time: 2024-05-17 10:52:13.543 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:13.548 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816647053606912] ["schema version"=31]
[2024/05/17 10:52:13.548 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=30] [neededSchemaVersion=31] ["start time"=234.208µs] [gotSchemaVersion=31] [phyTblIDs="[62]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:52:13.549 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:52:13.549 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=63] [version=31]
[2024/05/17 10:52:13.550 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=31] ["take time"=2.041375ms] [job="ID:63, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:62, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:13.543 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:13.554 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=63] [job="ID:63, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:62, RowCount:0, ArgLen:0, start time: 2024-05-17 10:52:13.543 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:13.556 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=63]
[2024/05/17 10:52:13.556 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:52:13.556 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816647053606912] ["schema version"=31]
[2024/05/17 10:52:13.557 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=31] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.analyze_jobs (\n\t\tid BIGINT(64) UNSIGNED NOT NULL AUTO_INCREMENT,\n\t\tupdate_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\ttable_schema CHAR(64) NOT NULL DEFAULT '',\n\t\ttable_name CHAR(64) NOT NULL DEFAULT '',\n\t\tpartition_name CHAR(64) NOT NULL DEFAULT '',\n\t\tjob_info TEXT NOT NULL,\n\t\tprocessed_rows BIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tstart_time TIMESTAMP,\n\t\tend_time TIMESTAMP,\n\t\tstate ENUM('pending', 'running', 'finished', 'failed') NOT NULL,\n\t\tfail_reason TEXT,\n\t\tinstance VARCHAR(512) NOT NULL comment 'address of the TiDB instance executing the analyze job',\n\t\tprocess_id BIGINT(64) UNSIGNED comment 'ID of the process executing the analyze job',\n\t\tPRIMARY KEY (id),\n\t\tKEY (update_time)\n\t);"] [user=]
[2024/05/17 10:52:13.558 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:65, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:64, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:13.558 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:52:13.558 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:65, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:64, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:13.558 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.analyze_jobs (\n\t\tid BIGINT(64) UNSIGNED NOT NULL AUTO_INCREMENT,\n\t\tupdate_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\ttable_schema CHAR(64) NOT NULL DEFAULT '',\n\t\ttable_name CHAR(64) NOT NULL DEFAULT '',\n\t\tpartition_name CHAR(64) NOT NULL DEFAULT '',\n\t\tjob_info TEXT NOT NULL,\n\t\tprocessed_rows BIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tstart_time TIMESTAMP,\n\t\tend_time TIMESTAMP,\n\t\tstate ENUM('pending', 'running', 'finished', 'failed') NOT NULL,\n\t\tfail_reason TEXT,\n\t\tinstance VARCHAR(512) NOT NULL comment 'address of the TiDB instance executing the analyze job',\n\t\tprocess_id BIGINT(64) UNSIGNED comment 'ID of the process executing the analyze job',\n\t\tPRIMARY KEY (id),\n\t\tKEY (update_time)\n\t);"]
[2024/05/17 10:52:13.562 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=65] [category=ddl] [job="ID:65, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:64, RowCount:0, ArgLen:0, start time: 2024-05-17 10:52:13.558 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:13.563 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816647057539072] ["schema version"=32]
[2024/05/17 10:52:13.563 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=31] [neededSchemaVersion=32] ["start time"=283.792µs] [gotSchemaVersion=32] [phyTblIDs="[64]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:52:13.564 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:52:13.564 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=65] [version=32]
[2024/05/17 10:52:13.565 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=32] ["take time"=2.047291ms] [job="ID:65, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:64, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:13.558 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:13.569 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=65] [job="ID:65, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:64, RowCount:0, ArgLen:0, start time: 2024-05-17 10:52:13.558 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:13.571 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=65]
[2024/05/17 10:52:13.571 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:52:13.571 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816647057539072] ["schema version"=32]
[2024/05/17 10:52:13.571 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=32] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.advisory_locks (\n\t\tlock_name VARCHAR(64) NOT NULL PRIMARY KEY\n\t);"] [user=]
[2024/05/17 10:52:13.573 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:67, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:66, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:13.573 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:52:13.573 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:67, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:66, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:13.573 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.advisory_locks (\n\t\tlock_name VARCHAR(64) NOT NULL PRIMARY KEY\n\t);"]
[2024/05/17 10:52:13.577 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=67] [category=ddl] [job="ID:67, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:66, RowCount:0, ArgLen:0, start time: 2024-05-17 10:52:13.573 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:13.579 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816647061471233] ["schema version"=33]
[2024/05/17 10:52:13.579 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=32] [neededSchemaVersion=33] ["start time"=136.5µs] [gotSchemaVersion=33] [phyTblIDs="[66]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:52:13.579 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:52:13.579 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=67] [version=33]
[2024/05/17 10:52:13.580 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=33] ["take time"=2.004542ms] [job="ID:67, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:66, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:13.573 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:13.584 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=67] [job="ID:67, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:66, RowCount:0, ArgLen:0, start time: 2024-05-17 10:52:13.573 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:13.586 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=67]
[2024/05/17 10:52:13.586 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:52:13.586 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816647061471233] ["schema version"=33]
[2024/05/17 10:52:13.590 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:69, Type:create view, State:queueing, SchemaState:none, SchemaID:1, TableID:68, RowCount:0, ArgLen:3, start time: 2024-05-17 10:52:13.59 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:52:13.590 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:69, Type:create view, State:queueing, SchemaState:none, SchemaID:1, TableID:68, RowCount:0, ArgLen:3, start time: 2024-05-17 10:52:13.59 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE OR REPLACE VIEW mysql.tidb_mdl_view as (\n\t\tSELECT tidb_mdl_info.job_id,\n\t\t\tJSON_UNQUOTE(JSON_EXTRACT(cast(cast(job_meta as char) as json), \"$.schema_name\")) as db_name,\n\t\t\tJSON_UNQUOTE(JSON_EXTRACT(cast(cast(job_meta as char) as json), \"$.table_name\")) as table_name,\n\t\t\tJSON_UNQUOTE(JSON_EXTRACT(cast(cast(job_meta as char) as json), \"$.query\")) as query,\n\t\t\tsession_id,\n\t\t\tcluster_tidb_trx.start_time,\n\t\t\ttidb_decode_sql_digests(all_sql_digests, 4096) AS SQL_DIGESTS\n\t\tFROM mysql.tidb_ddl_job,\n\t\t\tmysql.tidb_mdl_info,\n\t\t\tinformation_schema.cluster_tidb_trx\n\t\tWHERE tidb_ddl_job.job_id=tidb_mdl_info.job_id\n\t\t\tAND CONCAT(',', tidb_mdl_info.table_ids, ',') REGEXP CONCAT(',(', REPLACE(cluster_tidb_trx.related_table_ids, ',', '|'), '),') != 0\n\t);"]
[2024/05/17 10:52:13.593 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=69] [category=ddl] [job="ID:69, Type:create view, State:queueing, SchemaState:none, SchemaID:1, TableID:68, RowCount:0, ArgLen:0, start time: 2024-05-17 10:52:13.59 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:13.595 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816647065927680] ["schema version"=34]
[2024/05/17 10:52:13.595 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=33] [neededSchemaVersion=34] ["start time"=201.666µs] [gotSchemaVersion=34] [phyTblIDs="[68]"] [actionTypes="[21]"] [diffTypes="[\"create view\"]"]
[2024/05/17 10:52:13.596 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:52:13.596 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=69] [version=34]
[2024/05/17 10:52:13.599 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=34] ["take time"=4.225625ms] [job="ID:69, Type:create view, State:done, SchemaState:public, SchemaID:1, TableID:68, RowCount:0, ArgLen:3, start time: 2024-05-17 10:52:13.59 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:13.605 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=69] [job="ID:69, Type:create view, State:synced, SchemaState:public, SchemaID:1, TableID:68, RowCount:0, ArgLen:0, start time: 2024-05-17 10:52:13.59 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:13.608 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=69]
[2024/05/17 10:52:13.608 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:52:13.608 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816647065927680] ["schema version"=34]
[2024/05/17 10:52:13.608 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=34] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.plan_replayer_status (\n\t\tsql_digest VARCHAR(128),\n\t\tplan_digest VARCHAR(128),\n\t\torigin_sql TEXT,\n\t\ttoken VARCHAR(128),\n\t\tupdate_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\tfail_reason TEXT,\n\t\tinstance VARCHAR(512) NOT NULL comment 'address of the TiDB instance executing the plan replayer job');"] [user=]
[2024/05/17 10:52:13.611 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:71, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:70, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:13.61 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:52:13.611 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:71, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:70, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:13.61 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.plan_replayer_status (\n\t\tsql_digest VARCHAR(128),\n\t\tplan_digest VARCHAR(128),\n\t\torigin_sql TEXT,\n\t\ttoken VARCHAR(128),\n\t\tupdate_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\tfail_reason TEXT,\n\t\tinstance VARCHAR(512) NOT NULL comment 'address of the TiDB instance executing the plan replayer job');"]
[2024/05/17 10:52:13.616 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=71] [category=ddl] [job="ID:71, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:70, RowCount:0, ArgLen:0, start time: 2024-05-17 10:52:13.61 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:13.618 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816647071956992] ["schema version"=35]
[2024/05/17 10:52:13.618 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=34] [neededSchemaVersion=35] ["start time"=288.5µs] [gotSchemaVersion=35] [phyTblIDs="[70]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:52:13.621 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:52:13.621 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=71] [version=35]
[2024/05/17 10:52:13.622 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=35] ["take time"=4.186833ms] [job="ID:71, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:70, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:13.61 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:13.628 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=71] [job="ID:71, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:70, RowCount:0, ArgLen:0, start time: 2024-05-17 10:52:13.61 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:13.630 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=71]
[2024/05/17 10:52:13.630 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:52:13.630 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816647071956992] ["schema version"=35]
[2024/05/17 10:52:13.630 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=35] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.plan_replayer_task (\n\t\tsql_digest VARCHAR(128) NOT NULL,\n\t\tplan_digest VARCHAR(128) NOT NULL,\n\t\tupdate_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\tPRIMARY KEY (sql_digest,plan_digest));"] [user=]
[2024/05/17 10:52:13.631 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:73, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:72, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:13.631 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:52:13.631 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:73, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:72, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:13.631 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.plan_replayer_task (\n\t\tsql_digest VARCHAR(128) NOT NULL,\n\t\tplan_digest VARCHAR(128) NOT NULL,\n\t\tupdate_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\tPRIMARY KEY (sql_digest,plan_digest));"]
[2024/05/17 10:52:13.634 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=73] [category=ddl] [job="ID:73, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:72, RowCount:0, ArgLen:0, start time: 2024-05-17 10:52:13.631 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:13.635 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816647076413440] ["schema version"=36]
[2024/05/17 10:52:13.635 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=35] [neededSchemaVersion=36] ["start time"=163.5µs] [gotSchemaVersion=36] [phyTblIDs="[72]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:52:13.636 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:52:13.636 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=73] [version=36]
[2024/05/17 10:52:13.637 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=36] ["take time"=2.491666ms] [job="ID:73, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:72, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:13.631 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:13.641 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=73] [job="ID:73, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:72, RowCount:0, ArgLen:0, start time: 2024-05-17 10:52:13.631 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:13.642 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=73]
[2024/05/17 10:52:13.642 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:52:13.642 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816647076413440] ["schema version"=36]
[2024/05/17 10:52:13.642 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=36] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_table_locked(\n\t\ttable_id bigint(64) NOT NULL,\n\t\tmodify_count bigint(64) NOT NULL DEFAULT 0,\n\t\tcount bigint(64) NOT NULL DEFAULT 0,\n\t\tversion bigint(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tPRIMARY KEY (table_id));"] [user=]
[2024/05/17 10:52:13.643 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:75, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:74, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:13.643 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:52:13.643 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:75, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:74, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:13.643 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_table_locked(\n\t\ttable_id bigint(64) NOT NULL,\n\t\tmodify_count bigint(64) NOT NULL DEFAULT 0,\n\t\tcount bigint(64) NOT NULL DEFAULT 0,\n\t\tversion bigint(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tPRIMARY KEY (table_id));"]
[2024/05/17 10:52:13.646 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=75] [category=ddl] [job="ID:75, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:74, RowCount:0, ArgLen:0, start time: 2024-05-17 10:52:13.643 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:13.648 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816647079559174] ["schema version"=37]
[2024/05/17 10:52:13.648 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=36] [neededSchemaVersion=37] ["start time"=193.25µs] [gotSchemaVersion=37] [phyTblIDs="[74]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:52:13.649 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:52:13.649 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=75] [version=37]
[2024/05/17 10:52:13.650 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=37] ["take time"=2.088584ms] [job="ID:75, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:74, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:13.643 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:13.654 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=75] [job="ID:75, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:74, RowCount:0, ArgLen:0, start time: 2024-05-17 10:52:13.643 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:13.656 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=75]
[2024/05/17 10:52:13.656 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:52:13.656 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816647079559174] ["schema version"=37]
[2024/05/17 10:52:13.656 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=37] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_ttl_table_status (\n\t\ttable_id bigint(64) PRIMARY KEY,\n        parent_table_id bigint(64),\n        table_statistics text DEFAULT NULL,\n\t\tlast_job_id varchar(64) DEFAULT NULL,\n\t\tlast_job_start_time timestamp NULL DEFAULT NULL,\n\t\tlast_job_finish_time timestamp NULL DEFAULT NULL,\n\t\tlast_job_ttl_expire timestamp NULL DEFAULT NULL,\n        last_job_summary text DEFAULT NULL,\n\t\tcurrent_job_id varchar(64) DEFAULT NULL,\n\t\tcurrent_job_owner_id varchar(64) DEFAULT NULL,\n\t\tcurrent_job_owner_addr varchar(256) DEFAULT NULL,\n\t\tcurrent_job_owner_hb_time timestamp,\n\t\tcurrent_job_start_time timestamp NULL DEFAULT NULL,\n\t\tcurrent_job_ttl_expire timestamp NULL DEFAULT NULL,\n\t\tcurrent_job_state text DEFAULT NULL,\n\t\tcurrent_job_status varchar(64) DEFAULT NULL,\n  \t\tcurrent_job_status_update_time timestamp NULL DEFAULT NULL);"] [user=]
[2024/05/17 10:52:13.657 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:77, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:76, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:13.657 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:52:13.657 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:77, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:76, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:13.657 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_ttl_table_status (\n\t\ttable_id bigint(64) PRIMARY KEY,\n        parent_table_id bigint(64),\n        table_statistics text DEFAULT NULL,\n\t\tlast_job_id varchar(64) DEFAULT NULL,\n\t\tlast_job_start_time timestamp NULL DEFAULT NULL,\n\t\tlast_job_finish_time timestamp NULL DEFAULT NULL,\n\t\tlast_job_ttl_expire timestamp NULL DEFAULT NULL,\n        last_job_summary text DEFAULT NULL,\n\t\tcurrent_job_id varchar(64) DEFAULT NULL,\n\t\tcurrent_job_owner_id varchar(64) DEFAULT NULL,\n\t\tcurrent_job_owner_addr varchar(256) DEFAULT NULL,\n\t\tcurrent_job_owner_hb_time timestamp,\n\t\tcurrent_job_start_time timestamp NULL DEFAULT NULL,\n\t\tcurrent_job_ttl_expire timestamp NULL DEFAULT NULL,\n\t\tcurrent_job_state text DEFAULT NULL,\n\t\tcurrent_job_status varchar(64) DEFAULT NULL,\n  \t\tcurrent_job_status_update_time timestamp NULL DEFAULT NULL);"]
[2024/05/17 10:52:13.661 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=77] [category=ddl] [job="ID:77, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:76, RowCount:0, ArgLen:0, start time: 2024-05-17 10:52:13.657 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:13.663 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816647083491328] ["schema version"=38]
[2024/05/17 10:52:13.663 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=37] [neededSchemaVersion=38] ["start time"=329.25µs] [gotSchemaVersion=38] [phyTblIDs="[76]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:52:13.663 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:52:13.663 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=77] [version=38]
[2024/05/17 10:52:13.664 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=38] ["take time"=2.058792ms] [job="ID:77, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:76, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:13.657 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:13.668 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=77] [job="ID:77, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:76, RowCount:0, ArgLen:0, start time: 2024-05-17 10:52:13.657 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:13.670 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=77]
[2024/05/17 10:52:13.670 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:52:13.670 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816647083491328] ["schema version"=38]
[2024/05/17 10:52:13.670 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=38] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_ttl_task (\n\t\tjob_id varchar(64) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tscan_id int NOT NULL,\n\t\tscan_range_start BLOB,\n\t\tscan_range_end BLOB,\n\t\texpire_time timestamp NOT NULL,\n\t\towner_id varchar(64) DEFAULT NULL,\n\t\towner_addr varchar(64) DEFAULT NULL,\n\t\towner_hb_time timestamp DEFAULT NULL,\n\t\tstatus varchar(64) DEFAULT 'waiting',\n\t\tstatus_update_time timestamp NULL DEFAULT NULL,\n\t\tstate text,\n\t\tcreated_time timestamp NOT NULL,\n\t\tprimary key(job_id, scan_id),\n\t\tkey(created_time));"] [user=]
[2024/05/17 10:52:13.672 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:79, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:78, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:13.671 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:52:13.672 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:79, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:78, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:13.671 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_ttl_task (\n\t\tjob_id varchar(64) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tscan_id int NOT NULL,\n\t\tscan_range_start BLOB,\n\t\tscan_range_end BLOB,\n\t\texpire_time timestamp NOT NULL,\n\t\towner_id varchar(64) DEFAULT NULL,\n\t\towner_addr varchar(64) DEFAULT NULL,\n\t\towner_hb_time timestamp DEFAULT NULL,\n\t\tstatus varchar(64) DEFAULT 'waiting',\n\t\tstatus_update_time timestamp NULL DEFAULT NULL,\n\t\tstate text,\n\t\tcreated_time timestamp NOT NULL,\n\t\tprimary key(job_id, scan_id),\n\t\tkey(created_time));"]
[2024/05/17 10:52:13.689 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=79] [category=ddl] [job="ID:79, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:78, RowCount:0, ArgLen:0, start time: 2024-05-17 10:52:13.671 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:13.692 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816647091355648] ["schema version"=39]
[2024/05/17 10:52:13.692 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=38] [neededSchemaVersion=39] ["start time"=441.333µs] [gotSchemaVersion=39] [phyTblIDs="[78]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:52:13.693 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:52:13.693 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=79] [version=39]
[2024/05/17 10:52:13.694 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=39] ["take time"=2.328958ms] [job="ID:79, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:78, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:13.671 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:13.698 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=79] [job="ID:79, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:78, RowCount:0, ArgLen:0, start time: 2024-05-17 10:52:13.671 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:13.700 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=79]
[2024/05/17 10:52:13.700 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:52:13.700 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816647091355648] ["schema version"=39]
[2024/05/17 10:52:13.700 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=39] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_ttl_job_history (\n\t\tjob_id varchar(64) PRIMARY KEY,\n\t\ttable_id bigint(64) NOT NULL,\n        parent_table_id bigint(64) NOT NULL,\n    \ttable_schema varchar(64) NOT NULL,\n\t\ttable_name varchar(64) NOT NULL,\n    \tpartition_name varchar(64) DEFAULT NULL,\n\t\tcreate_time timestamp NOT NULL,\n\t\tfinish_time timestamp NOT NULL,\n\t\tttl_expire timestamp NOT NULL,\n        summary_text text,\n\t\texpired_rows bigint(64) DEFAULT NULL,\n    \tdeleted_rows bigint(64) DEFAULT NULL,\n    \terror_delete_rows bigint(64) DEFAULT NULL,\n    \tstatus varchar(64) NOT NULL,\n    \tkey(table_schema, table_name, create_time),\n    \tkey(parent_table_id, create_time),\n    \tkey(create_time)\n\t);"] [user=]
[2024/05/17 10:52:13.702 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:81, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:80, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:13.701 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:52:13.702 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:81, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:80, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:13.701 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_ttl_job_history (\n\t\tjob_id varchar(64) PRIMARY KEY,\n\t\ttable_id bigint(64) NOT NULL,\n        parent_table_id bigint(64) NOT NULL,\n    \ttable_schema varchar(64) NOT NULL,\n\t\ttable_name varchar(64) NOT NULL,\n    \tpartition_name varchar(64) DEFAULT NULL,\n\t\tcreate_time timestamp NOT NULL,\n\t\tfinish_time timestamp NOT NULL,\n\t\tttl_expire timestamp NOT NULL,\n        summary_text text,\n\t\texpired_rows bigint(64) DEFAULT NULL,\n    \tdeleted_rows bigint(64) DEFAULT NULL,\n    \terror_delete_rows bigint(64) DEFAULT NULL,\n    \tstatus varchar(64) NOT NULL,\n    \tkey(table_schema, table_name, create_time),\n    \tkey(parent_table_id, create_time),\n    \tkey(create_time)\n\t);"]
[2024/05/17 10:52:13.705 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=81] [category=ddl] [job="ID:81, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:80, RowCount:0, ArgLen:0, start time: 2024-05-17 10:52:13.701 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:13.707 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816647095287808] ["schema version"=40]
[2024/05/17 10:52:13.707 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=39] [neededSchemaVersion=40] ["start time"=377.709µs] [gotSchemaVersion=40] [phyTblIDs="[80]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:52:13.708 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:52:13.708 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=81] [version=40]
[2024/05/17 10:52:13.709 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=40] ["take time"=2.003458ms] [job="ID:81, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:80, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:13.701 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:13.712 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=81] [job="ID:81, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:80, RowCount:0, ArgLen:0, start time: 2024-05-17 10:52:13.701 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:13.714 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=81]
[2024/05/17 10:52:13.714 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:52:13.714 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816647095287808] ["schema version"=40]
[2024/05/17 10:52:13.714 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=40] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_global_task (\n\t\tid BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n    \ttask_key VARCHAR(256) NOT NULL,\n\t\ttype VARCHAR(256) NOT NULL,\n\t\tdispatcher_id VARCHAR(261),\n\t\tstate VARCHAR(64) NOT NULL,\n\t\tpriority INT DEFAULT 1,\n\t\tcreate_time TIMESTAMP,\n\t\tstart_time TIMESTAMP,\n\t\tstate_update_time TIMESTAMP,\n\t\tend_time TIMESTAMP,\n\t\tmeta LONGBLOB,\n\t\tconcurrency INT(11),\n\t\tstep INT(11),\n\t\ttarget_scope VARCHAR(256) DEFAULT \"\",\n\t\terror BLOB,\n\t\tkey(state),\n      \tUNIQUE KEY task_key(task_key)\n\t);"] [user=]
[2024/05/17 10:52:13.716 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:83, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:82, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:13.715 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:52:13.716 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:83, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:82, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:13.715 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_global_task (\n\t\tid BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n    \ttask_key VARCHAR(256) NOT NULL,\n\t\ttype VARCHAR(256) NOT NULL,\n\t\tdispatcher_id VARCHAR(261),\n\t\tstate VARCHAR(64) NOT NULL,\n\t\tpriority INT DEFAULT 1,\n\t\tcreate_time TIMESTAMP,\n\t\tstart_time TIMESTAMP,\n\t\tstate_update_time TIMESTAMP,\n\t\tend_time TIMESTAMP,\n\t\tmeta LONGBLOB,\n\t\tconcurrency INT(11),\n\t\tstep INT(11),\n\t\ttarget_scope VARCHAR(256) DEFAULT \"\",\n\t\terror BLOB,\n\t\tkey(state),\n      \tUNIQUE KEY task_key(task_key)\n\t);"]
[2024/05/17 10:52:13.719 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=83] [category=ddl] [job="ID:83, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:82, RowCount:0, ArgLen:0, start time: 2024-05-17 10:52:13.715 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:13.721 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816647098695680] ["schema version"=41]
[2024/05/17 10:52:13.721 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=40] [neededSchemaVersion=41] ["start time"=345µs] [gotSchemaVersion=41] [phyTblIDs="[82]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:52:13.721 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:52:13.721 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=83] [version=41]
[2024/05/17 10:52:13.722 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=41] ["take time"=2.136792ms] [job="ID:83, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:82, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:13.715 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:13.728 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=83] [job="ID:83, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:82, RowCount:0, ArgLen:0, start time: 2024-05-17 10:52:13.715 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:13.731 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=83]
[2024/05/17 10:52:13.731 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:52:13.731 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816647098695680] ["schema version"=41]
[2024/05/17 10:52:13.731 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=41] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_global_task_history (\n\t\tid BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n    \ttask_key VARCHAR(256) NOT NULL,\n\t\ttype VARCHAR(256) NOT NULL,\n\t\tdispatcher_id VARCHAR(261),\n\t\tstate VARCHAR(64) NOT NULL,\n\t\tpriority INT DEFAULT 1,\n\t\tcreate_time TIMESTAMP,\n\t\tstart_time TIMESTAMP,\n\t\tstate_update_time TIMESTAMP,\n\t\tend_time TIMESTAMP,\n\t\tmeta LONGBLOB,\n\t\tconcurrency INT(11),\n\t\tstep INT(11),\n\t\ttarget_scope VARCHAR(256) DEFAULT \"\",\n\t\terror BLOB,\n\t\tkey(state),\n      \tUNIQUE KEY task_key(task_key)\n\t);"] [user=]
[2024/05/17 10:52:13.732 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:85, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:84, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:13.731 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:52:13.732 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:85, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:84, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:13.731 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_global_task_history (\n\t\tid BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n    \ttask_key VARCHAR(256) NOT NULL,\n\t\ttype VARCHAR(256) NOT NULL,\n\t\tdispatcher_id VARCHAR(261),\n\t\tstate VARCHAR(64) NOT NULL,\n\t\tpriority INT DEFAULT 1,\n\t\tcreate_time TIMESTAMP,\n\t\tstart_time TIMESTAMP,\n\t\tstate_update_time TIMESTAMP,\n\t\tend_time TIMESTAMP,\n\t\tmeta LONGBLOB,\n\t\tconcurrency INT(11),\n\t\tstep INT(11),\n\t\ttarget_scope VARCHAR(256) DEFAULT \"\",\n\t\terror BLOB,\n\t\tkey(state),\n      \tUNIQUE KEY task_key(task_key)\n\t);"]
[2024/05/17 10:52:13.735 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=85] [category=ddl] [job="ID:85, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:84, RowCount:0, ArgLen:0, start time: 2024-05-17 10:52:13.731 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:13.738 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816647103152128] ["schema version"=42]
[2024/05/17 10:52:13.738 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=41] [neededSchemaVersion=42] ["start time"=367.875µs] [gotSchemaVersion=42] [phyTblIDs="[84]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:52:13.739 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:52:13.739 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=85] [version=42]
[2024/05/17 10:52:13.740 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=42] ["take time"=2.58325ms] [job="ID:85, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:84, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:13.731 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:13.744 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=85] [job="ID:85, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:84, RowCount:0, ArgLen:0, start time: 2024-05-17 10:52:13.731 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:13.746 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=85]
[2024/05/17 10:52:13.746 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:52:13.746 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816647103152128] ["schema version"=42]
[2024/05/17 10:52:13.746 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=42] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_import_jobs (\n\t\tid bigint(64) NOT NULL AUTO_INCREMENT,\n\t\tcreate_time TIMESTAMP(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6),\n\t\tstart_time TIMESTAMP(6) NULL DEFAULT NULL,\n\t\tupdate_time TIMESTAMP(6) NULL DEFAULT NULL,\n\t\tend_time TIMESTAMP(6) NULL DEFAULT NULL,\n\t\ttable_schema VARCHAR(64) NOT NULL,\n\t\ttable_name VARCHAR(64) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tcreated_by VARCHAR(300) NOT NULL,\n\t\tparameters text NOT NULL,\n\t\tsource_file_size bigint(64) NOT NULL,\n\t\tstatus VARCHAR(64) NOT NULL,\n\t\tstep VARCHAR(64) NOT NULL,\n\t\tsummary text DEFAULT NULL,\n\t\terror_message TEXT DEFAULT NULL,\n\t\tPRIMARY KEY (id),\n\t\tKEY (created_by),\n\t\tKEY (status));"] [user=]
[2024/05/17 10:52:13.748 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:87, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:86, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:13.747 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:52:13.748 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:87, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:86, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:13.747 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_import_jobs (\n\t\tid bigint(64) NOT NULL AUTO_INCREMENT,\n\t\tcreate_time TIMESTAMP(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6),\n\t\tstart_time TIMESTAMP(6) NULL DEFAULT NULL,\n\t\tupdate_time TIMESTAMP(6) NULL DEFAULT NULL,\n\t\tend_time TIMESTAMP(6) NULL DEFAULT NULL,\n\t\ttable_schema VARCHAR(64) NOT NULL,\n\t\ttable_name VARCHAR(64) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tcreated_by VARCHAR(300) NOT NULL,\n\t\tparameters text NOT NULL,\n\t\tsource_file_size bigint(64) NOT NULL,\n\t\tstatus VARCHAR(64) NOT NULL,\n\t\tstep VARCHAR(64) NOT NULL,\n\t\tsummary text DEFAULT NULL,\n\t\terror_message TEXT DEFAULT NULL,\n\t\tPRIMARY KEY (id),\n\t\tKEY (created_by),\n\t\tKEY (status));"]
[2024/05/17 10:52:13.751 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=87] [category=ddl] [job="ID:87, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:86, RowCount:0, ArgLen:0, start time: 2024-05-17 10:52:13.747 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:13.753 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816647107346432] ["schema version"=43]
[2024/05/17 10:52:13.753 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=42] [neededSchemaVersion=43] ["start time"=333.875µs] [gotSchemaVersion=43] [phyTblIDs="[86]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:52:13.754 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:52:13.754 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=87] [version=43]
[2024/05/17 10:52:13.755 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=43] ["take time"=2.00425ms] [job="ID:87, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:86, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:13.747 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:13.759 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=87] [job="ID:87, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:86, RowCount:0, ArgLen:0, start time: 2024-05-17 10:52:13.747 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:13.762 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=87]
[2024/05/17 10:52:13.762 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:52:13.762 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816647107346432] ["schema version"=43]
[2024/05/17 10:52:13.762 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=43] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_runaway_watch (\n\t\tid BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n\t\tresource_group_name varchar(32) not null,\n\t\tstart_time datetime(6) NOT NULL,\n\t\tend_time datetime(6),\n\t\twatch bigint(10) NOT NULL,\n\t\twatch_text TEXT NOT NULL,\n\t\tsource varchar(512) NOT NULL,\n\t\taction bigint(10),\n\t\tINDEX sql_index(resource_group_name,watch_text(700)) COMMENT \"accelerate the speed when select quarantined query\",\n\t\tINDEX time_index(end_time) COMMENT \"accelerate the speed when querying with active watch\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"] [user=]
[2024/05/17 10:52:13.763 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:89, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:88, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:13.762 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:52:13.763 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:89, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:88, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:13.762 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_runaway_watch (\n\t\tid BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n\t\tresource_group_name varchar(32) not null,\n\t\tstart_time datetime(6) NOT NULL,\n\t\tend_time datetime(6),\n\t\twatch bigint(10) NOT NULL,\n\t\twatch_text TEXT NOT NULL,\n\t\tsource varchar(512) NOT NULL,\n\t\taction bigint(10),\n\t\tINDEX sql_index(resource_group_name,watch_text(700)) COMMENT \"accelerate the speed when select quarantined query\",\n\t\tINDEX time_index(end_time) COMMENT \"accelerate the speed when querying with active watch\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"]
[2024/05/17 10:52:13.765 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=89] [category=ddl] [job="ID:89, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:88, RowCount:0, ArgLen:0, start time: 2024-05-17 10:52:13.762 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:13.767 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816647111016448] ["schema version"=44]
[2024/05/17 10:52:13.767 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=43] [neededSchemaVersion=44] ["start time"=252.25µs] [gotSchemaVersion=44] [phyTblIDs="[88]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:52:13.767 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:52:13.767 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=89] [version=44]
[2024/05/17 10:52:13.769 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=44] ["take time"=2.012416ms] [job="ID:89, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:88, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:13.762 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:13.773 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=89] [job="ID:89, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:88, RowCount:0, ArgLen:0, start time: 2024-05-17 10:52:13.762 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:13.775 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=89]
[2024/05/17 10:52:13.775 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:52:13.775 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816647111016448] ["schema version"=44]
[2024/05/17 10:52:13.775 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=44] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_runaway_queries (\n\t\tresource_group_name varchar(32) not null,\n\t\ttime TIMESTAMP NOT NULL,\n\t\tmatch_type varchar(12) NOT NULL,\n\t\taction varchar(12) NOT NULL,\n\t\toriginal_sql TEXT NOT NULL,\n\t\tplan_digest TEXT NOT NULL,\n\t\ttidb_server varchar(512),\n\t\tINDEX plan_index(plan_digest(64)) COMMENT \"accelerate the speed when select runaway query\",\n\t\tINDEX time_index(time) COMMENT \"accelerate the speed when querying with active watch\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"] [user=]
[2024/05/17 10:52:13.776 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:91, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:90, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:13.776 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:52:13.776 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:91, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:90, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:13.776 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_runaway_queries (\n\t\tresource_group_name varchar(32) not null,\n\t\ttime TIMESTAMP NOT NULL,\n\t\tmatch_type varchar(12) NOT NULL,\n\t\taction varchar(12) NOT NULL,\n\t\toriginal_sql TEXT NOT NULL,\n\t\tplan_digest TEXT NOT NULL,\n\t\ttidb_server varchar(512),\n\t\tINDEX plan_index(plan_digest(64)) COMMENT \"accelerate the speed when select runaway query\",\n\t\tINDEX time_index(time) COMMENT \"accelerate the speed when querying with active watch\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"]
[2024/05/17 10:52:13.779 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=91] [category=ddl] [job="ID:91, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:90, RowCount:0, ArgLen:0, start time: 2024-05-17 10:52:13.776 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:13.781 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816647114424322] ["schema version"=45]
[2024/05/17 10:52:13.781 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=44] [neededSchemaVersion=45] ["start time"=475.875µs] [gotSchemaVersion=45] [phyTblIDs="[90]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:52:13.782 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:52:13.782 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=91] [version=45]
[2024/05/17 10:52:13.784 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=45] ["take time"=3.414542ms] [job="ID:91, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:90, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:13.776 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:13.788 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816647114424322] ["schema version"=45]
[2024/05/17 10:52:13.789 +08:00] [WARN] [runaway.go:166] ["failed to start runaway manager loop, please check whether the bootstrap or update is finished"] [error="[schema:1146]Table 'mysql.tidb_runaway_watch_done' doesn't exist"] [errorVerbose="[schema:1146]Table 'mysql.tidb_runaway_watch_done' doesn't exist\ngithub.com/pingcap/errors.AddStack\n\t/Users/bba/.gvm/pkgsets/go1.21.0/global/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20240318064555-6bd07397691f/errors.go:178\ngithub.com/pingcap/errors.Trace\n\t/Users/bba/.gvm/pkgsets/go1.21.0/global/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20240318064555-6bd07397691f/juju_adaptor.go:15\ngithub.com/pingcap/tidb/pkg/planner/core.Preprocess\n\t/Users/bba/pc/tidb/pkg/planner/core/preprocess.go:141\ngithub.com/pingcap/tidb/pkg/executor.(*Compiler).Compile\n\t/Users/bba/pc/tidb/pkg/executor/compiler.go:67\ngithub.com/pingcap/tidb/pkg/session.(*session).ExecuteStmt\n\t/Users/bba/pc/tidb/pkg/session/session.go:2094\ngithub.com/pingcap/tidb/pkg/session.(*session).ExecuteInternalStmt\n\t/Users/bba/pc/tidb/pkg/session/session.go:1998\ngithub.com/pingcap/tidb/pkg/session.(*session).ExecRestrictedSQL.func1\n\t/Users/bba/pc/tidb/pkg/session/session.go:1963\ngithub.com/pingcap/tidb/pkg/session.(*session).withRestrictedSQLExecutor\n\t/Users/bba/pc/tidb/pkg/session/session.go:1949\ngithub.com/pingcap/tidb/pkg/session.(*session).ExecRestrictedSQL\n\t/Users/bba/pc/tidb/pkg/session/session.go:1953\ngithub.com/pingcap/tidb/pkg/domain.(*SystemTableReader).Read\n\t/Users/bba/pc/tidb/pkg/domain/runaway.go:655\ngithub.com/pingcap/tidb/pkg/domain.getRunawayWatchDoneRecord\n\t/Users/bba/pc/tidb/pkg/domain/runaway.go:582\ngithub.com/pingcap/tidb/pkg/domain.(*runawaySyncer).getWatchDoneRecord\n\t/Users/bba/pc/tidb/pkg/domain/runaway.go:539\ngithub.com/pingcap/tidb/pkg/domain.(*runawaySyncer).getNewWatchDoneRecords\n\t/Users/bba/pc/tidb/pkg/domain/runaway.go:513\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).updateNewAndDoneWatch\n\t/Users/bba/pc/tidb/pkg/domain/runaway.go:184\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).runawayStartLoop\n\t/Users/bba/pc/tidb/pkg/domain/runaway.go:156\ngithub.com/pingcap/tidb/pkg/util.(*WaitGroupEnhancedWrapper).Run.func1\n\t/Users/bba/pc/tidb/pkg/util/wait_group_wrapper.go:99\nruntime.goexit\n\t/Users/bba/.gvm/gos/go1.21.0/src/runtime/asm_arm64.s:1197"]
[2024/05/17 10:52:13.795 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=91] [job="ID:91, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:90, RowCount:0, ArgLen:0, start time: 2024-05-17 10:52:13.776 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:13.798 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=91]
[2024/05/17 10:52:13.798 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:52:13.798 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816647114424322] ["schema version"=45]
[2024/05/17 10:52:13.798 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=45] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS `mysql`.`tidb_timers` (\n\t\tID BIGINT(64) UNSIGNED NOT NULL AUTO_INCREMENT,\n\t\tNAMESPACE VARCHAR(256) NOT NULL,\n\t\tTIMER_KEY VARCHAR(256) NOT NULL,\n\t\tTIMER_DATA BLOB,\n\t\tTIMEZONE VARCHAR(64) NOT NULL,\n\t\tSCHED_POLICY_TYPE VARCHAR(32) NOT NULL,\n\t\tSCHED_POLICY_EXPR VARCHAR(256) NOT NULL,\n\t\tHOOK_CLASS VARCHAR(64) NOT NULL,\n\t\tWATERMARK TIMESTAMP DEFAULT NULL,\n\t\tENABLE TINYINT(2) NOT NULL,\n\t\tTIMER_EXT JSON NOT NULL,\n\t\tEVENT_STATUS VARCHAR(32) NOT NULL,\n\t\tEVENT_ID VARCHAR(64) NOT NULL,\n\t\tEVENT_DATA BLOB,\n\t\tEVENT_START TIMESTAMP DEFAULT NULL,\n\t\tSUMMARY_DATA BLOB,\n\t\tCREATE_TIME TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,\n\t\tUPDATE_TIME TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\tVERSION BIGINT(64) UNSIGNED NOT NULL,\n\t\tPRIMARY KEY (ID),\n\t\tUNIQUE KEY timer_key(NAMESPACE, TIMER_KEY),\n\t\tKEY hook_class(HOOK_CLASS)\n\t)"] [user=]
[2024/05/17 10:52:13.802 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:93, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:92, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:13.799 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:52:13.802 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:93, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:92, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:13.799 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS `mysql`.`tidb_timers` (\n\t\tID BIGINT(64) UNSIGNED NOT NULL AUTO_INCREMENT,\n\t\tNAMESPACE VARCHAR(256) NOT NULL,\n\t\tTIMER_KEY VARCHAR(256) NOT NULL,\n\t\tTIMER_DATA BLOB,\n\t\tTIMEZONE VARCHAR(64) NOT NULL,\n\t\tSCHED_POLICY_TYPE VARCHAR(32) NOT NULL,\n\t\tSCHED_POLICY_EXPR VARCHAR(256) NOT NULL,\n\t\tHOOK_CLASS VARCHAR(64) NOT NULL,\n\t\tWATERMARK TIMESTAMP DEFAULT NULL,\n\t\tENABLE TINYINT(2) NOT NULL,\n\t\tTIMER_EXT JSON NOT NULL,\n\t\tEVENT_STATUS VARCHAR(32) NOT NULL,\n\t\tEVENT_ID VARCHAR(64) NOT NULL,\n\t\tEVENT_DATA BLOB,\n\t\tEVENT_START TIMESTAMP DEFAULT NULL,\n\t\tSUMMARY_DATA BLOB,\n\t\tCREATE_TIME TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,\n\t\tUPDATE_TIME TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\tVERSION BIGINT(64) UNSIGNED NOT NULL,\n\t\tPRIMARY KEY (ID),\n\t\tUNIQUE KEY timer_key(NAMESPACE, TIMER_KEY),\n\t\tKEY hook_class(HOOK_CLASS)\n\t)"]
[2024/05/17 10:52:13.809 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=93] [category=ddl] [job="ID:93, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:92, RowCount:0, ArgLen:0, start time: 2024-05-17 10:52:13.799 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:13.812 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816647122550784] ["schema version"=46]
[2024/05/17 10:52:13.812 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=45] [neededSchemaVersion=46] ["start time"=579.583µs] [gotSchemaVersion=46] [phyTblIDs="[92]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:52:13.813 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:52:13.813 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=93] [version=46]
[2024/05/17 10:52:13.814 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=46] ["take time"=2.555084ms] [job="ID:93, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:92, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:13.799 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:13.823 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=93] [job="ID:93, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:92, RowCount:0, ArgLen:0, start time: 2024-05-17 10:52:13.799 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:13.825 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=93]
[2024/05/17 10:52:13.826 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:52:13.826 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816647122550784] ["schema version"=46]
[2024/05/17 10:52:13.826 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=46] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_runaway_watch_done (\n\t\tid BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n\t\trecord_id BIGINT(20) not null,\n\t\tresource_group_name varchar(32) not null,\n\t\tstart_time datetime(6) NOT NULL,\n\t\tend_time datetime(6),\n\t\twatch bigint(10) NOT NULL,\n\t\twatch_text TEXT NOT NULL,\n\t\tsource varchar(512) NOT NULL,\n\t\taction bigint(10),\n\t\tdone_time TIMESTAMP(6) NOT NULL\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"] [user=]
[2024/05/17 10:52:13.827 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:95, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:94, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:13.826 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:52:13.827 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:95, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:94, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:13.826 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_runaway_watch_done (\n\t\tid BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n\t\trecord_id BIGINT(20) not null,\n\t\tresource_group_name varchar(32) not null,\n\t\tstart_time datetime(6) NOT NULL,\n\t\tend_time datetime(6),\n\t\twatch bigint(10) NOT NULL,\n\t\twatch_text TEXT NOT NULL,\n\t\tsource varchar(512) NOT NULL,\n\t\taction bigint(10),\n\t\tdone_time TIMESTAMP(6) NOT NULL\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"]
[2024/05/17 10:52:13.830 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=95] [category=ddl] [job="ID:95, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:94, RowCount:0, ArgLen:0, start time: 2024-05-17 10:52:13.826 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:13.832 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816647127793666] ["schema version"=47]
[2024/05/17 10:52:13.832 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=46] [neededSchemaVersion=47] ["start time"=277.167µs] [gotSchemaVersion=47] [phyTblIDs="[94]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:52:13.832 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:52:13.832 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=95] [version=47]
[2024/05/17 10:52:13.834 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=47] ["take time"=2.411333ms] [job="ID:95, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:94, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:13.826 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:13.837 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=95] [job="ID:95, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:94, RowCount:0, ArgLen:0, start time: 2024-05-17 10:52:13.826 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:13.839 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=95]
[2024/05/17 10:52:13.839 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:52:13.839 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816647127793666] ["schema version"=47]
[2024/05/17 10:52:13.839 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=47] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.dist_framework_meta (\n        host VARCHAR(261) NOT NULL PRIMARY KEY,\n        role VARCHAR(64),\n        cpu_count int default 0,\n        keyspace_id bigint(8) NOT NULL DEFAULT -1\n    );"] [user=]
[2024/05/17 10:52:13.840 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:97, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:96, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:13.84 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:52:13.840 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:97, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:96, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:13.84 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.dist_framework_meta (\n        host VARCHAR(261) NOT NULL PRIMARY KEY,\n        role VARCHAR(64),\n        cpu_count int default 0,\n        keyspace_id bigint(8) NOT NULL DEFAULT -1\n    );"]
[2024/05/17 10:52:13.845 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=97] [category=ddl] [job="ID:97, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:96, RowCount:0, ArgLen:0, start time: 2024-05-17 10:52:13.84 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:13.846 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816647131725824] ["schema version"=48]
[2024/05/17 10:52:13.846 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=47] [neededSchemaVersion=48] ["start time"=184.958µs] [gotSchemaVersion=48] [phyTblIDs="[96]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:52:13.847 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:52:13.847 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=97] [version=48]
[2024/05/17 10:52:13.848 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=48] ["take time"=2.059708ms] [job="ID:97, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:96, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:13.84 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:13.851 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=97] [job="ID:97, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:96, RowCount:0, ArgLen:0, start time: 2024-05-17 10:52:13.84 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:13.853 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=97]
[2024/05/17 10:52:13.853 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:52:13.853 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816647131725824] ["schema version"=48]
[2024/05/17 10:52:13.853 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=48] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.request_unit_by_group (\n\t\tstart_time TIMESTAMP(6) NOT NULL,\n\t\tend_time TIMESTAMP(6) NOT NULL,\n\t\tresource_group VARCHAR(32) NOT null,\n\t\ttotal_ru bigint(64) UNSIGNED NOT NULL,\n\t\tPRIMARY KEY (start_time, end_time, resource_group),\n\t\tKEY (resource_group)\n\t);"] [user=]
[2024/05/17 10:52:13.854 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:99, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:98, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:13.853 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:52:13.854 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:99, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:98, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:13.853 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.request_unit_by_group (\n\t\tstart_time TIMESTAMP(6) NOT NULL,\n\t\tend_time TIMESTAMP(6) NOT NULL,\n\t\tresource_group VARCHAR(32) NOT null,\n\t\ttotal_ru bigint(64) UNSIGNED NOT NULL,\n\t\tPRIMARY KEY (start_time, end_time, resource_group),\n\t\tKEY (resource_group)\n\t);"]
[2024/05/17 10:52:13.856 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=99] [category=ddl] [job="ID:99, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:98, RowCount:0, ArgLen:0, start time: 2024-05-17 10:52:13.853 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:13.858 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816647134609414] ["schema version"=49]
[2024/05/17 10:52:13.858 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=48] [neededSchemaVersion=49] ["start time"=186.75µs] [gotSchemaVersion=49] [phyTblIDs="[98]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:52:13.858 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:52:13.858 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=99] [version=49]
[2024/05/17 10:52:13.859 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=49] ["take time"=2.005209ms] [job="ID:99, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:98, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:13.853 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:13.863 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=99] [job="ID:99, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:98, RowCount:0, ArgLen:0, start time: 2024-05-17 10:52:13.853 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:13.864 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=99]
[2024/05/17 10:52:13.865 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:52:13.865 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816647134609414] ["schema version"=49]
[2024/05/17 10:52:13.865 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=49] [cur_db=mysql] [sql="CREATE DATABASE IF NOT EXISTS sys;"] [user=]
[2024/05/17 10:52:13.866 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:101, Type:create schema, State:queueing, SchemaState:none, SchemaID:100, TableID:0, RowCount:0, ArgLen:1, start time: 2024-05-17 10:52:13.865 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:52:13.866 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:101, Type:create schema, State:queueing, SchemaState:none, SchemaID:100, TableID:0, RowCount:0, ArgLen:1, start time: 2024-05-17 10:52:13.865 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE DATABASE IF NOT EXISTS sys;"]
[2024/05/17 10:52:13.868 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=101] [category=ddl] [job="ID:101, Type:create schema, State:queueing, SchemaState:none, SchemaID:100, TableID:0, RowCount:0, ArgLen:0, start time: 2024-05-17 10:52:13.865 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:13.869 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816647137755136] ["schema version"=50]
[2024/05/17 10:52:13.869 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=49] [neededSchemaVersion=50] ["start time"=47.917µs] [gotSchemaVersion=50] [phyTblIDs="[]"] [actionTypes="[]"] [diffTypes="[\"create schema\"]"]
[2024/05/17 10:52:13.869 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:52:13.869 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=101] [version=50]
[2024/05/17 10:52:13.871 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=50] ["take time"=2.01825ms] [job="ID:101, Type:create schema, State:done, SchemaState:public, SchemaID:100, TableID:0, RowCount:0, ArgLen:1, start time: 2024-05-17 10:52:13.865 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:13.873 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=101] [job="ID:101, Type:create schema, State:synced, SchemaState:public, SchemaID:100, TableID:0, RowCount:0, ArgLen:0, start time: 2024-05-17 10:52:13.865 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:13.874 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=101]
[2024/05/17 10:52:13.874 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:52:13.874 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816647137755136] ["schema version"=50]
[2024/05/17 10:52:13.876 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:103, Type:create view, State:queueing, SchemaState:none, SchemaID:100, TableID:102, RowCount:0, ArgLen:3, start time: 2024-05-17 10:52:13.875 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:52:13.876 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:103, Type:create view, State:queueing, SchemaState:none, SchemaID:100, TableID:102, RowCount:0, ArgLen:3, start time: 2024-05-17 10:52:13.875 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE OR REPLACE VIEW sys.schema_unused_indexes AS\n\t\tSELECT\n\t\t\ttable_schema as object_schema,\n\t\t\ttable_name as object_name,\n\t\t\tindex_name\n\t\tFROM information_schema.cluster_tidb_index_usage\n\t\tWHERE\n\t\t\ttable_schema not in ('sys', 'mysql', 'INFORMATION_SCHEMA', 'PERFORMANCE_SCHEMA') and\n\t\t\tindex_name != 'PRIMARY'\n\t\tGROUP BY table_schema, table_name, index_name\n\t\tHAVING\n\t\t\tsum(last_access_time) is null;"]
[2024/05/17 10:52:13.880 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=103] [category=ddl] [job="ID:103, Type:create view, State:queueing, SchemaState:none, SchemaID:100, TableID:102, RowCount:0, ArgLen:0, start time: 2024-05-17 10:52:13.875 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:13.881 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816647140900864] ["schema version"=51]
[2024/05/17 10:52:13.881 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=50] [neededSchemaVersion=51] ["start time"=152.542µs] [gotSchemaVersion=51] [phyTblIDs="[102]"] [actionTypes="[21]"] [diffTypes="[\"create view\"]"]
[2024/05/17 10:52:13.882 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:52:13.882 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=103] [version=51]
[2024/05/17 10:52:13.884 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=51] ["take time"=2.972667ms] [job="ID:103, Type:create view, State:done, SchemaState:public, SchemaID:100, TableID:102, RowCount:0, ArgLen:3, start time: 2024-05-17 10:52:13.875 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:13.888 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=103] [job="ID:103, Type:create view, State:synced, SchemaState:public, SchemaID:100, TableID:102, RowCount:0, ArgLen:0, start time: 2024-05-17 10:52:13.875 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:13.893 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=103]
[2024/05/17 10:52:13.893 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:52:13.893 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816647140900864] ["schema version"=51]
[2024/05/17 10:52:13.903 +08:00] [INFO] [bootstrap.go:745] ["bootstrap successful"] ["take time"=1.117493209s]
[2024/05/17 10:52:13.905 +08:00] [INFO] [mock.go:106] ["owner manager is canceled"] [category=ddl] [ID=8728164a-6b07-4716-9c2e-48ccbd7c7ca9] [ownerKey=/tidb/ddl/fg/owner]
[2024/05/17 10:52:13.905 +08:00] [INFO] [ddl_workerpool.go:82] ["closing workerPool"] [category=ddl]
[2024/05/17 10:52:13.905 +08:00] [INFO] [ddl_worker.go:188] ["DDL worker closed"] [worker="worker 2, tp add index"] [category=ddl] ["take time"=708ns]
[2024/05/17 10:52:13.905 +08:00] [INFO] [ddl_workerpool.go:82] ["closing workerPool"] [category=ddl]
[2024/05/17 10:52:13.905 +08:00] [INFO] [ddl_worker.go:188] ["DDL worker closed"] [worker="worker 1, tp general"] [category=ddl] ["take time"=250ns]
[2024/05/17 10:52:13.905 +08:00] [INFO] [ddl_workerpool.go:82] ["closing workerPool"] [category=ddl]
[2024/05/17 10:52:13.905 +08:00] [INFO] [delete_range.go:162] ["closing delRange"] [category=ddl]
[2024/05/17 10:52:13.905 +08:00] [INFO] [session_pool.go:99] ["closing session pool"] [category=ddl]
[2024/05/17 10:52:13.905 +08:00] [INFO] [ddl.go:951] ["DDL closed"] [category=ddl] [ID=8728164a-6b07-4716-9c2e-48ccbd7c7ca9] ["take time"=1.548375ms]
[2024/05/17 10:52:13.905 +08:00] [INFO] [ddl.go:769] ["stop DDL"] [category=ddl] [ID=8728164a-6b07-4716-9c2e-48ccbd7c7ca9]
[2024/05/17 10:52:13.905 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=mdlCheckLoop]
[2024/05/17 10:52:13.905 +08:00] [INFO] [domain.go:977] ["loadSchemaInLoop exited."]
[2024/05/17 10:52:13.905 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=loadSchemaInLoop]
[2024/05/17 10:52:13.905 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=runawayStartLoop]
[2024/05/17 10:52:13.905 +08:00] [INFO] [domain.go:831] ["topologySyncerKeeper exited."]
[2024/05/17 10:52:13.905 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=topologySyncerKeeper]
[2024/05/17 10:52:13.905 +08:00] [INFO] [domain.go:807] ["globalConfigSyncerKeeper exited."]
[2024/05/17 10:52:13.905 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=globalConfigSyncerKeeper]
[2024/05/17 10:52:13.905 +08:00] [INFO] [domain.go:781] ["infoSyncerKeeper exited."]
[2024/05/17 10:52:13.905 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=infoSyncerKeeper]
[2024/05/17 10:52:13.905 +08:00] [INFO] [domain.go:753] ["topNSlowQueryLoop exited."]
[2024/05/17 10:52:13.905 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=topNSlowQueryLoop]
[2024/05/17 10:52:13.905 +08:00] [INFO] [domain.go:1431] ["closestReplicaReadCheckLoop exited."]
[2024/05/17 10:52:13.905 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=closestReplicaReadCheckLoop]
[2024/05/17 10:52:13.905 +08:00] [INFO] [domain.go:1144] ["domain closed"] ["take time"=1.636167ms]
[2024/05/17 10:52:13.905 +08:00] [INFO] [tidb.go:80] ["new domain"] [store=ac1bbc92-4211-45ee-9320-687837511fd4] ["ddl lease"=500ms] ["stats lease"=-1ns]
[2024/05/17 10:52:13.907 +08:00] [WARN] [controller.go:198] ["[resource group controller] server does not save config, load config failed"]
[2024/05/17 10:52:13.907 +08:00] [INFO] [controller.go:185] ["load resource controller config"] [config="{\"degraded-mode-wait-duration\":\"0s\",\"ltb-max-wait-duration\":\"30s\",\"wait-retry-interval\":\"50ms\",\"wait-retry-times\":10,\"request-unit\":{\"read-base-cost\":0.125,\"read-per-batch-base-cost\":0.5,\"read-cost-per-byte\":0.0000152587890625,\"write-base-cost\":1,\"write-per-batch-base-cost\":1,\"write-cost-per-byte\":0.0009765625,\"read-cpu-ms-cost\":0.3333333333333333},\"enable-controller-trace-log\":\"false\"}"] [ru-config="{\"ReadBaseCost\":0.125,\"ReadPerBatchBaseCost\":0.5,\"ReadBytesCost\":0.0000152587890625,\"WriteBaseCost\":1,\"WritePerBatchBaseCost\":1,\"WriteBytesCost\":0.0009765625,\"CPUMsCost\":0.3333333333333333,\"LTBMaxWaitDuration\":30000000000,\"WaitRetryInterval\":50000000,\"WaitRetryTimes\":10,\"DegradedModeWaitDuration\":0}"]
[2024/05/17 10:52:13.917 +08:00] [INFO] [domain.go:385] ["full load InfoSchema success"] [currentSchemaVersion=0] [neededSchemaVersion=51] ["start time"=10.052792ms]
[2024/05/17 10:52:13.921 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816647140900864] ["schema version"=51]
[2024/05/17 10:52:13.921 +08:00] [INFO] [domain.go:705] ["full load and reset schema validator"]
[2024/05/17 10:52:13.921 +08:00] [INFO] [ddl.go:818] ["start DDL"] [category=ddl] [ID=fc65bc95-0704-42e2-a72a-9566df366812] [runWorker=true]
[2024/05/17 10:52:13.921 +08:00] [INFO] [ddl.go:777] ["start delRangeManager OK"] [category=ddl] ["is a emulator"=true]
[2024/05/17 10:52:13.921 +08:00] [WARN] [env.go:51] ["initialize environment failed"] [category=ddl-ingest] ["storage limitation"="only support TiKV storage"] ["current storage"=unistore] ["lightning is initialized"=false]
[2024/05/17 10:52:13.921 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=loadSchemaInLoop]
[2024/05/17 10:52:13.921 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=mdlCheckLoop]
[2024/05/17 10:52:13.921 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=topNSlowQueryLoop]
[2024/05/17 10:52:13.921 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=infoSyncerKeeper]
[2024/05/17 10:52:13.921 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=globalConfigSyncerKeeper]
[2024/05/17 10:52:13.921 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=runawayStartLoop]
[2024/05/17 10:52:13.921 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=requestUnitsWriterLoop]
[2024/05/17 10:52:13.921 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=topologySyncerKeeper]
[2024/05/17 10:52:13.921 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=closestReplicaReadCheckLoop]
[2024/05/17 10:52:13.921 +08:00] [WARN] [domain.go:1396] ["pd / etcd client not provided, won't begin Advancer."]
[2024/05/17 10:52:13.925 +08:00] [INFO] [delete_range.go:172] ["start delRange emulator"] [category=ddl]
[2024/05/17 10:52:13.925 +08:00] [INFO] [job_table.go:334] ["get global state and global state change"] [category=ddl] [oldState=false] [currState=false]
[2024/05/17 10:52:13.925 +08:00] [INFO] [runaway.go:149] ["try to start runaway manager loop"]
[2024/05/17 10:52:13.925 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=requestUnitsWriterLoop]
[2024/05/17 10:52:13.942 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=globalBindHandleWorkerLoop]
[2024/05/17 10:52:13.942 +08:00] [WARN] [sysvar_cache.go:49] ["sysvar cache is empty, triggering rebuild"]
[2024/05/17 10:52:13.943 +08:00] [INFO] [sysvar.go:2748] ["set resource control"] [enable=true]
[2024/05/17 10:52:13.943 +08:00] [INFO] [controller.go:447] ["[resource group controller] create resource group cost controller"] [name=default]
[2024/05/17 10:52:13.947 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=loadPrivilegeInLoop]
[2024/05/17 10:52:13.948 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=LoadSysVarCacheLoop]
[2024/05/17 10:52:13.948 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=dumpFileGcChecker]
[2024/05/17 10:52:13.949 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=indexUsageWorker]
[2024/05/17 10:52:13.949 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=quitStatsOwner]
[2024/05/17 10:52:13.949 +08:00] [INFO] [domain.go:2340] ["start load stats sub workers"] ["worker count"=5]
[2024/05/17 10:52:13.949 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=loadSigningCertLoop]
[2024/05/17 10:52:13.949 +08:00] [INFO] [manager.go:113] ["build task executor manager"] [server-id=:4000] [total-cpu=1] [total-mem=32GiB]
[2024/05/17 10:52:13.949 +08:00] [INFO] [domain.go:2140] ["dumpFileGcChecker started"]
[2024/05/17 10:52:13.950 +08:00] [INFO] [task_manager.go:217] ["scale ttl worker"] [ttl-worker=job-manager] [ttl-worker=task-manager] [originalCount=0] [newCount=4]
[2024/05/17 10:52:13.950 +08:00] [INFO] [task_manager.go:217] ["scale ttl worker"] [ttl-worker=job-manager] [ttl-worker=task-manager] [originalCount=0] [newCount=4]
[2024/05/17 10:52:13.952 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=distTaskFrameworkLoop]
[2024/05/17 10:52:13.954 +08:00] [INFO] [manager.go:146] ["task executor manager start"] [server-id=:4000]
[2024/05/17 10:52:13.954 +08:00] [INFO] [domain.go:1595] ["dist task executor manager started"]
[2024/05/17 10:52:13.955 +08:00] [INFO] [set.go:170] ["set global var"] [conn=1] [name=tidb_schema_cache_size] [val=1024]
[2024/05/17 10:52:13.956 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=1] [schemaVersion=51] [cur_db=] [sql="DROP DATABASE IF EXISTS `test_hidden`;"] [user=]
[2024/05/17 10:52:13.956 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=1] [schemaVersion=51] [cur_db=] [sql="CREATE DATABASE `test_hidden`;"] [user=]
[2024/05/17 10:52:13.957 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:105, Type:create schema, State:queueing, SchemaState:none, SchemaID:104, TableID:0, RowCount:0, ArgLen:1, start time: 2024-05-17 10:52:13.957 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:52:13.957 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:105, Type:create schema, State:queueing, SchemaState:none, SchemaID:104, TableID:0, RowCount:0, ArgLen:1, start time: 2024-05-17 10:52:13.957 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE DATABASE `test_hidden`;"]
[2024/05/17 10:52:13.982 +08:00] [INFO] [job_table.go:334] ["get global state and global state change"] [category=ddl] [oldState=false] [currState=false]
[2024/05/17 10:52:13.982 +08:00] [INFO] [job_table.go:349] ["the owner sets owner operator value"] [category=ddl] [ownerOp=none]
[2024/05/17 10:52:13.987 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=105] [conn=1] [category=ddl] [job="ID:105, Type:create schema, State:queueing, SchemaState:none, SchemaID:104, TableID:0, RowCount:0, ArgLen:0, start time: 2024-05-17 10:52:13.957 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:13.988 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816647168950272] ["schema version"=52]
[2024/05/17 10:52:13.988 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=51] [neededSchemaVersion=52] ["start time"=44.458µs] [gotSchemaVersion=52] [phyTblIDs="[]"] [actionTypes="[]"] [diffTypes="[\"create schema\"]"]
[2024/05/17 10:52:13.988 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=105] [version=52]
[2024/05/17 10:52:13.990 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=52] ["take time"=2.5705ms] [job="ID:105, Type:create schema, State:done, SchemaState:public, SchemaID:104, TableID:0, RowCount:0, ArgLen:1, start time: 2024-05-17 10:52:13.957 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:13.993 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=105] [conn=1] [job="ID:105, Type:create schema, State:synced, SchemaState:public, SchemaID:104, TableID:0, RowCount:0, ArgLen:0, start time: 2024-05-17 10:52:13.957 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:13.995 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=105]
[2024/05/17 10:52:13.995 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:52:13.995 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816647168950272] ["schema version"=52]
[2024/05/17 10:52:13.995 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=1] [schemaVersion=52] [cur_db=test_hidden] [sql="CREATE TABLE hidden (a int , b int, c int);"] [user=]
[2024/05/17 10:52:13.996 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:107, Type:create table, State:queueing, SchemaState:none, SchemaID:104, TableID:106, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:13.995 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:52:13.996 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:107, Type:create table, State:queueing, SchemaState:none, SchemaID:104, TableID:106, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:13.995 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE hidden (a int , b int, c int);"]
[2024/05/17 10:52:14.003 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=107] [conn=1] [category=ddl] [job="ID:107, Type:create table, State:queueing, SchemaState:none, SchemaID:104, TableID:106, RowCount:0, ArgLen:0, start time: 2024-05-17 10:52:13.995 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:14.004 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816647173144576] ["schema version"=53]
[2024/05/17 10:52:14.004 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=52] [neededSchemaVersion=53] ["start time"=195.541µs] [gotSchemaVersion=53] [phyTblIDs="[106]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:52:14.006 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=107] [version=53]
[2024/05/17 10:52:14.009 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=53] ["take time"=4.884542ms] [job="ID:107, Type:create table, State:done, SchemaState:public, SchemaID:104, TableID:106, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:13.995 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:14.015 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=107] [conn=1] [job="ID:107, Type:create table, State:synced, SchemaState:public, SchemaID:104, TableID:106, RowCount:0, ArgLen:0, start time: 2024-05-17 10:52:13.995 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:14.019 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=107]
[2024/05/17 10:52:14.019 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:52:14.019 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816647173144576] ["schema version"=53]
[2024/05/17 10:52:14.066 +08:00] [WARN] [infoschema_v3.go:59] ["table not equal"] [tbl1="{\"id\":106,\"name\":{\"O\":\"hidden\",\"L\":\"hidden\"},\"charset\":\"utf8mb4\",\"collate\":\"utf8mb4_bin\",\"cols\":[{\"id\":1,\"name\":{\"O\":\"a\",\"L\":\"a\"},\"offset\":0,\"origin_default\":null,\"origin_default_bit\":null,\"default\":null,\"default_bit\":null,\"default_is_expr\":false,\"generated_expr_string\":\"\",\"generated_stored\":false,\"dependences\":null,\"type\":{\"Tp\":3,\"Flag\":0,\"Flen\":11,\"Decimal\":0,\"Charset\":\"binary\",\"Collate\":\"binary\",\"Elems\":null,\"ElemsIsBinaryLit\":null,\"Array\":false},\"state\":5,\"comment\":\"\",\"hidden\":false,\"change_state_info\":null,\"version\":2},{\"id\":2,\"name\":{\"O\":\"b\",\"L\":\"b\"},\"offset\":1,\"origin_default\":null,\"origin_default_bit\":null,\"default\":null,\"default_bit\":null,\"default_is_expr\":false,\"generated_expr_string\":\"\",\"generated_stored\":false,\"dependences\":null,\"type\":{\"Tp\":3,\"Flag\":0,\"Flen\":11,\"Decimal\":0,\"Charset\":\"binary\",\"Collate\":\"binary\",\"Elems\":null,\"ElemsIsBinaryLit\":null,\"Array\":false},\"state\":5,\"comment\":\"\",\"hidden\":false,\"change_state_info\":null,\"version\":2},{\"id\":3,\"name\":{\"O\":\"c\",\"L\":\"c\"},\"offset\":2,\"origin_default\":null,\"origin_default_bit\":null,\"default\":null,\"default_bit\":null,\"default_is_expr\":false,\"generated_expr_string\":\"\",\"generated_stored\":false,\"dependences\":null,\"type\":{\"Tp\":3,\"Flag\":0,\"Flen\":11,\"Decimal\":0,\"Charset\":\"binary\",\"Collate\":\"binary\",\"Elems\":null,\"ElemsIsBinaryLit\":null,\"Array\":false},\"state\":5,\"comment\":\"\",\"hidden\":false,\"change_state_info\":null,\"version\":2}],\"index_info\":null,\"constraint_info\":null,\"fk_info\":null,\"state\":5,\"pk_is_handle\":false,\"is_common_handle\":false,\"common_handle_version\":0,\"comment\":\"\",\"auto_inc_id\":0,\"auto_id_cache\":0,\"auto_rand_id\":0,\"max_col_id\":3,\"max_idx_id\":0,\"max_fk_id\":0,\"max_cst_id\":0,\"update_timestamp\":449816647172882433,\"ShardRowIDBits\":0,\"max_shard_row_id_bits\":0,\"auto_random_bits\":0,\"auto_random_range_bits\":0,\"pre_split_regions\":0,\"partition\":null,\"compression\":\"\",\"view\":null,\"sequence\":null,\"Lock\":null,\"version\":5,\"tiflash_replica\":null,\"is_columnar\":false,\"temp_table_type\":0,\"cache_table_status\":0,\"policy_ref_info\":null,\"stats_options\":null,\"exchange_partition_info\":null,\"ttl_info\":null,\"revision\":0}"] [tbl2="{\"id\":106,\"name\":{\"O\":\"hidden\",\"L\":\"hidden\"},\"charset\":\"utf8mb4\",\"collate\":\"utf8mb4_bin\",\"cols\":[{\"id\":1,\"name\":{\"O\":\"a\",\"L\":\"a\"},\"offset\":0,\"origin_default\":null,\"origin_default_bit\":null,\"default\":null,\"default_bit\":null,\"default_is_expr\":false,\"generated_expr_string\":\"\",\"generated_stored\":false,\"dependences\":null,\"type\":{\"Tp\":3,\"Flag\":0,\"Flen\":11,\"Decimal\":0,\"Charset\":\"binary\",\"Collate\":\"binary\",\"Elems\":null,\"ElemsIsBinaryLit\":null,\"Array\":false},\"state\":5,\"comment\":\"\",\"hidden\":false,\"change_state_info\":null,\"version\":2},{\"id\":2,\"name\":{\"O\":\"b\",\"L\":\"b\"},\"offset\":1,\"origin_default\":null,\"origin_default_bit\":null,\"default\":null,\"default_bit\":null,\"default_is_expr\":false,\"generated_expr_string\":\"\",\"generated_stored\":false,\"dependences\":null,\"type\":{\"Tp\":3,\"Flag\":0,\"Flen\":11,\"Decimal\":0,\"Charset\":\"binary\",\"Collate\":\"binary\",\"Elems\":null,\"ElemsIsBinaryLit\":null,\"Array\":false},\"state\":5,\"comment\":\"\",\"hidden\":true,\"change_state_info\":null,\"version\":2},{\"id\":3,\"name\":{\"O\":\"c\",\"L\":\"c\"},\"offset\":2,\"origin_default\":null,\"origin_default_bit\":null,\"default\":null,\"default_bit\":null,\"default_is_expr\":false,\"generated_expr_string\":\"\",\"generated_stored\":false,\"dependences\":null,\"type\":{\"Tp\":3,\"Flag\":0,\"Flen\":11,\"Decimal\":0,\"Charset\":\"binary\",\"Collate\":\"binary\",\"Elems\":null,\"ElemsIsBinaryLit\":null,\"Array\":false},\"state\":5,\"comment\":\"\",\"hidden\":false,\"change_state_info\":null,\"version\":2}],\"index_info\":null,\"constraint_info\":null,\"fk_info\":null,\"state\":5,\"pk_is_handle\":false,\"is_common_handle\":false,\"common_handle_version\":0,\"comment\":\"\",\"auto_inc_id\":0,\"auto_id_cache\":0,\"auto_rand_id\":0,\"max_col_id\":3,\"max_idx_id\":0,\"max_fk_id\":0,\"max_cst_id\":0,\"update_timestamp\":449816647172882433,\"ShardRowIDBits\":0,\"max_shard_row_id_bits\":0,\"auto_random_bits\":0,\"auto_random_range_bits\":0,\"pre_split_regions\":0,\"partition\":null,\"compression\":\"\",\"view\":null,\"sequence\":null,\"Lock\":null,\"version\":5,\"tiflash_replica\":null,\"is_columnar\":false,\"temp_table_type\":0,\"cache_table_status\":0,\"policy_ref_info\":null,\"stats_options\":null,\"exchange_partition_info\":null,\"ttl_info\":null,\"revision\":0}"]
[2024/05/17 10:52:14.084 +08:00] [INFO] [mock.go:106] ["owner manager is canceled"] [category=ddl] [ID=fc65bc95-0704-42e2-a72a-9566df366812] [ownerKey=/tidb/ddl/fg/owner]
[2024/05/17 10:52:14.084 +08:00] [INFO] [ddl_workerpool.go:82] ["closing workerPool"] [category=ddl]
[2024/05/17 10:52:14.084 +08:00] [INFO] [ddl_worker.go:188] ["DDL worker closed"] [worker="worker 4, tp add index"] [category=ddl] ["take time"=875ns]
[2024/05/17 10:52:14.084 +08:00] [INFO] [ddl_workerpool.go:82] ["closing workerPool"] [category=ddl]
[2024/05/17 10:52:14.084 +08:00] [INFO] [ddl_worker.go:188] ["DDL worker closed"] [worker="worker 3, tp general"] [category=ddl] ["take time"=1.459µs]
[2024/05/17 10:52:14.084 +08:00] [INFO] [ddl_workerpool.go:82] ["closing workerPool"] [category=ddl]
[2024/05/17 10:52:14.084 +08:00] [INFO] [delete_range.go:162] ["closing delRange"] [category=ddl]
[2024/05/17 10:52:14.084 +08:00] [INFO] [session_pool.go:99] ["closing session pool"] [category=ddl]
[2024/05/17 10:52:14.084 +08:00] [INFO] [ddl.go:951] ["DDL closed"] [category=ddl] [ID=fc65bc95-0704-42e2-a72a-9566df366812] ["take time"=1.600916ms]
[2024/05/17 10:52:14.084 +08:00] [INFO] [ddl.go:769] ["stop DDL"] [category=ddl] [ID=fc65bc95-0704-42e2-a72a-9566df366812]
[2024/05/17 10:52:14.084 +08:00] [INFO] [domain.go:1096] ["stopping ttlJobManager"]
[2024/05/17 10:52:14.084 +08:00] [INFO] [task_manager.go:194] ["shrink ttl worker"] [ttl-worker=job-manager] [ttl-worker=task-manager] [originalCount=4] [newCount=0]
[2024/05/17 10:52:14.084 +08:00] [INFO] [scan.go:309] ["ttlScanWorker loop exited."]
[2024/05/17 10:52:14.084 +08:00] [INFO] [scan.go:309] ["ttlScanWorker loop exited."]
[2024/05/17 10:52:14.084 +08:00] [INFO] [scan.go:309] ["ttlScanWorker loop exited."]
[2024/05/17 10:52:14.084 +08:00] [INFO] [scan.go:309] ["ttlScanWorker loop exited."]
[2024/05/17 10:52:14.084 +08:00] [INFO] [task_manager.go:194] ["shrink ttl worker"] [ttl-worker=job-manager] [ttl-worker=task-manager] [originalCount=4] [newCount=0]
[2024/05/17 10:52:14.084 +08:00] [INFO] [del.go:261] ["ttlDeleteWorker loop exited."]
[2024/05/17 10:52:14.084 +08:00] [INFO] [del.go:261] ["ttlDeleteWorker loop exited."]
[2024/05/17 10:52:14.084 +08:00] [INFO] [del.go:261] ["ttlDeleteWorker loop exited."]
[2024/05/17 10:52:14.084 +08:00] [INFO] [del.go:261] ["ttlDeleteWorker loop exited."]
[2024/05/17 10:52:14.084 +08:00] [INFO] [job_manager.go:174] ["ttlJobManager loop exited."] [ttl-worker=job-manager]
[2024/05/17 10:52:14.084 +08:00] [INFO] [domain.go:1107] ["ttlJobManager exited."]
[2024/05/17 10:52:14.084 +08:00] [INFO] [manager.go:280] ["recoverMetaLoop done"] [server-id=:4000]
[2024/05/17 10:52:14.084 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=mdlCheckLoop]
[2024/05/17 10:52:14.084 +08:00] [INFO] [domain.go:977] ["loadSchemaInLoop exited."]
[2024/05/17 10:52:14.084 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=loadSchemaInLoop]
[2024/05/17 10:52:14.084 +08:00] [INFO] [domain.go:1597] ["stopping dist task executor manager"]
[2024/05/17 10:52:14.084 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=loadSigningCertLoop]
[2024/05/17 10:52:14.084 +08:00] [INFO] [stats_syncload.go:216] ["SubLoadWorker exited."]
[2024/05/17 10:52:14.084 +08:00] [INFO] [stats_syncload.go:216] ["SubLoadWorker exited."]
[2024/05/17 10:52:14.084 +08:00] [INFO] [stats_syncload.go:216] ["SubLoadWorker exited."]
[2024/05/17 10:52:14.084 +08:00] [INFO] [stats_syncload.go:216] ["SubLoadWorker exited."]
[2024/05/17 10:52:14.084 +08:00] [INFO] [stats_syncload.go:216] ["SubLoadWorker exited."]
[2024/05/17 10:52:14.084 +08:00] [INFO] [mock.go:106] ["owner manager is canceled"] [category=ddl] [ID=fc65bc95-0704-42e2-a72a-9566df366812] [ownerKey=/tidb/stats/owner]
[2024/05/17 10:52:14.084 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=quitStatsOwner]
[2024/05/17 10:52:14.084 +08:00] [INFO] [domain.go:2423] ["indexUsageWorker exited."]
[2024/05/17 10:52:14.084 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=indexUsageWorker]
[2024/05/17 10:52:14.084 +08:00] [INFO] [domain.go:2144] ["dumpFileGcChecker exited."]
[2024/05/17 10:52:14.085 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=dumpFileGcChecker]
[2024/05/17 10:52:14.085 +08:00] [INFO] [domain.go:1820] ["LoadSysVarCacheLoop exited."]
[2024/05/17 10:52:14.085 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=LoadSysVarCacheLoop]
[2024/05/17 10:52:14.085 +08:00] [INFO] [domain.go:1770] ["loadPrivilegeInLoop exited."]
[2024/05/17 10:52:14.085 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=loadPrivilegeInLoop]
[2024/05/17 10:52:14.085 +08:00] [INFO] [mock.go:106] ["owner manager is canceled"] [category=ddl] [ID=fc65bc95-0704-42e2-a72a-9566df366812] [ownerKey=/tidb/bindinfo/owner]
[2024/05/17 10:52:14.085 +08:00] [INFO] [domain.go:1959] ["globalBindHandleWorkerLoop exited."]
[2024/05/17 10:52:14.085 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=globalBindHandleWorkerLoop]
[2024/05/17 10:52:14.085 +08:00] [INFO] [domain.go:831] ["topologySyncerKeeper exited."]
[2024/05/17 10:52:14.085 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=topologySyncerKeeper]
[2024/05/17 10:52:14.085 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=runawayStartLoop]
[2024/05/17 10:52:14.085 +08:00] [INFO] [domain.go:807] ["globalConfigSyncerKeeper exited."]
[2024/05/17 10:52:14.085 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=globalConfigSyncerKeeper]
[2024/05/17 10:52:14.085 +08:00] [INFO] [domain.go:781] ["infoSyncerKeeper exited."]
[2024/05/17 10:52:14.085 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=infoSyncerKeeper]
[2024/05/17 10:52:14.085 +08:00] [INFO] [domain.go:753] ["topNSlowQueryLoop exited."]
[2024/05/17 10:52:14.085 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=topNSlowQueryLoop]
[2024/05/17 10:52:14.085 +08:00] [INFO] [domain.go:1431] ["closestReplicaReadCheckLoop exited."]
[2024/05/17 10:52:14.085 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=closestReplicaReadCheckLoop]
[2024/05/17 10:52:14.085 +08:00] [INFO] [manager.go:179] ["handle tasks loop done"] [server-id=:4000]
[2024/05/17 10:52:14.085 +08:00] [INFO] [domain.go:1599] ["dist task executor manager stopped"]
[2024/05/17 10:52:14.085 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=distTaskFrameworkLoop]
[2024/05/17 10:52:14.086 +08:00] [INFO] [domain.go:1144] ["domain closed"] ["take time"=3.83625ms]
[2024/05/17 10:52:14.092 +08:00] [INFO] [db.go:567] ["Closing database"]
[2024/05/17 10:52:14.092 +08:00] [INFO] [db.go:592] ["Memtable flushed"]
[2024/05/17 10:52:14.092 +08:00] [INFO] [db.go:596] ["Compaction finished"]
[2024/05/17 10:52:14.092 +08:00] [INFO] [db.go:615] ["BlobManager finished"]
[2024/05/17 10:52:14.092 +08:00] [INFO] [db.go:619] ["ResourceManager finished"]
[2024/05/17 10:52:14.092 +08:00] [INFO] [db.go:625] ["Waiting for closer"]
--- FAIL: TestSelectHiddenColumn (1.36s)
    testkit.go:273: 
        	Error Trace:	/Users/bba/pc/tidb/pkg/testkit/testkit.go:273
        	            				/Users/bba/pc/tidb/pkg/testkit/testkit.go:198
        	            				/Users/bba/pc/tidb/pkg/testkit/testkit.go:173
        	            				/Users/bba/pc/tidb/pkg/infoschema/test/clustertablestest/tables_test.go:652
        	Error:      	Received unexpected error:
        	            	inconsistent infoschemahidden hidden
        	            	github.com/pingcap/tidb/pkg/util.GetRecoverError
        	            		/Users/bba/pc/tidb/pkg/util/util.go:306
        	            	github.com/pingcap/tidb/pkg/executor/internal/exec.Next.func1
        	            		/Users/bba/pc/tidb/pkg/executor/internal/exec/executor.go:394
        	            	runtime.gopanic
        	            		/Users/bba/.gvm/gos/go1.21.0/src/runtime/panic.go:914
        	            	github.com/pingcap/tidb/pkg/infoschema.(*InfoschemaV3).SchemaTablesWithTs
        	            		/Users/bba/pc/tidb/pkg/infoschema/infoschema_v3.go:273
        	            	github.com/pingcap/tidb/pkg/infoschema.(*WithTS).SchemaTables
        	            		/Users/bba/pc/tidb/pkg/infoschema/cache.go:292
        	            	github.com/pingcap/tidb/pkg/infoschema.(*WithTS).SchemaTables
        	            		/Users/bba/pc/tidb/pkg/infoschema/cache.go:294
        	            	github.com/pingcap/tidb/pkg/executor.(*hugeMemTableRetriever).setDataForColumns
        	            		/Users/bba/pc/tidb/pkg/executor/infoschema_reader.go:816
        	            	github.com/pingcap/tidb/pkg/executor.(*hugeMemTableRetriever).retrieve
        	            		/Users/bba/pc/tidb/pkg/executor/infoschema_reader.go:799
        	            	github.com/pingcap/tidb/pkg/executor.(*MemTableReaderExec).Next
        	            		/Users/bba/pc/tidb/pkg/executor/memtable_reader.go:120
        	            	github.com/pingcap/tidb/pkg/executor/internal/exec.Next
        	            		/Users/bba/pc/tidb/pkg/executor/internal/exec/executor.go:410
        	            	github.com/pingcap/tidb/pkg/executor/aggregate.(*HashAggExec).fetchChildData
        	            		/Users/bba/pc/tidb/pkg/executor/aggregate/agg_hash_executor.go:469
        	            	runtime.goexit
        	            		/Users/bba/.gvm/gos/go1.21.0/src/runtime/asm_arm64.s:1197
        	Test:       	TestSelectHiddenColumn
        	Messages:   	sql:select count(*) from INFORMATION_SCHEMA.COLUMNS where table_name = 'hidden', args:[]
FAIL
[FAIL]  pkg/planner/core/casetest/pushdown TestPushDownProjectionForTiFlashCoprocessor
err=exit status 2
[2024/05/17 10:52:47.606 +08:00] [INFO] [store_cache.go:510] ["change store resolve state"] [store=1] [addr=store1] [from=unresolved] [to=resolved] [liveness-state=reachable]
[2024/05/17 10:52:47.614 +08:00] [INFO] [ddl_api.go:1141] ["Automatically convert BLOB(65535) to MEDIUMBLOB"] [category=ddl]
[2024/05/17 10:52:47.614 +08:00] [INFO] [ddl_api.go:1141] ["Automatically convert BLOB(65535) to MEDIUMBLOB"] [category=ddl]
[2024/05/17 10:52:47.617 +08:00] [INFO] [ddl_api.go:1141] ["Automatically convert BLOB(65535) to MEDIUMBLOB"] [category=ddl]
[2024/05/17 10:52:47.617 +08:00] [INFO] [ddl_api.go:1141] ["Automatically convert BLOB(65535) to MEDIUMBLOB"] [category=ddl]
[2024/05/17 10:52:47.619 +08:00] [INFO] [ddl_api.go:1141] ["Automatically convert BLOB(65535) to MEDIUMBLOB"] [category=ddl]
[2024/05/17 10:52:47.621 +08:00] [INFO] [tidb.go:80] ["new domain"] [store=63e80370-1bc5-416a-ae24-bc7ca5e64a4f] ["ddl lease"=500ms] ["stats lease"=-1ns]
[2024/05/17 10:52:47.627 +08:00] [WARN] [controller.go:198] ["[resource group controller] server does not save config, load config failed"]
[2024/05/17 10:52:47.627 +08:00] [INFO] [controller.go:185] ["load resource controller config"] [config="{\"degraded-mode-wait-duration\":\"0s\",\"ltb-max-wait-duration\":\"30s\",\"wait-retry-interval\":\"50ms\",\"wait-retry-times\":10,\"request-unit\":{\"read-base-cost\":0.125,\"read-per-batch-base-cost\":0.5,\"read-cost-per-byte\":0.0000152587890625,\"write-base-cost\":1,\"write-per-batch-base-cost\":1,\"write-cost-per-byte\":0.0009765625,\"read-cpu-ms-cost\":0.3333333333333333},\"enable-controller-trace-log\":\"false\"}"] [ru-config="{\"ReadBaseCost\":0.125,\"ReadPerBatchBaseCost\":0.5,\"ReadBytesCost\":0.0000152587890625,\"WriteBaseCost\":1,\"WritePerBatchBaseCost\":1,\"WriteBytesCost\":0.0009765625,\"CPUMsCost\":0.3333333333333333,\"LTBMaxWaitDuration\":30000000000,\"WaitRetryInterval\":50000000,\"WaitRetryTimes\":10,\"DegradedModeWaitDuration\":0}"]
[2024/05/17 10:52:47.628 +08:00] [WARN] [domain.go:302] ["failed to get schema version"] [error="There is no Write MVCC info for the schema version"] [errorVerbose="There is no Write MVCC info for the schema version\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).getTimestampForSchemaVersionWithNonEmptyDiff\n\t/Users/bba/pc/tidb/pkg/domain/domain.go:405\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).loadInfoSchema\n\t/Users/bba/pc/tidb/pkg/domain/domain.go:300\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).Reload\n\t/Users/bba/pc/tidb/pkg/domain/domain.go:676\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).Init\n\t/Users/bba/pc/tidb/pkg/domain/domain.go:1330\ngithub.com/pingcap/tidb/pkg/session.(*domainMap).Get.func1\n\t/Users/bba/pc/tidb/pkg/session/tidb.go:92\ngithub.com/pingcap/tidb/pkg/util.RunWithRetry\n\t/Users/bba/pc/tidb/pkg/util/misc.go:70\ngithub.com/pingcap/tidb/pkg/session.(*domainMap).Get\n\t/Users/bba/pc/tidb/pkg/session/tidb.go:79\ngithub.com/pingcap/tidb/pkg/session.createSessionWithOpt\n\t/Users/bba/pc/tidb/pkg/session/session.go:3634\ngithub.com/pingcap/tidb/pkg/session.createSession\n\t/Users/bba/pc/tidb/pkg/session/session.go:3626\ngithub.com/pingcap/tidb/pkg/session.runInBootstrapSession\n\t/Users/bba/pc/tidb/pkg/session/session.go:3576\ngithub.com/pingcap/tidb/pkg/session.bootstrapSessionImpl\n\t/Users/bba/pc/tidb/pkg/session/session.go:3352\ngithub.com/pingcap/tidb/pkg/session.BootstrapSession\n\t/Users/bba/pc/tidb/pkg/session/session.go:3318\ngithub.com/pingcap/tidb/pkg/testkit.bootstrap\n\t/Users/bba/pc/tidb/pkg/testkit/mockstore.go:294\ngithub.com/pingcap/tidb/pkg/testkit.CreateMockStoreAndDomain\n\t/Users/bba/pc/tidb/pkg/testkit/mockstore.go:265\ngithub.com/pingcap/tidb/pkg/testkit.CreateMockStore\n\t/Users/bba/pc/tidb/pkg/testkit/mockstore.go:72\ngithub.com/pingcap/tidb/pkg/planner/core/casetest/pushdown.TestPushDownProjectionForTiFlashCoprocessor\n\t/Users/bba/pc/tidb/pkg/planner/core/casetest/pushdown/push_down_test.go:162\ntesting.tRunner\n\t/Users/bba/.gvm/gos/go1.21.0/src/testing/testing.go:1595\nruntime.goexit\n\t/Users/bba/.gvm/gos/go1.21.0/src/runtime/asm_arm64.s:1197"] [version=0]
[2024/05/17 10:52:47.635 +08:00] [INFO] [domain.go:385] ["full load InfoSchema success"] [currentSchemaVersion=0] [neededSchemaVersion=0] ["start time"=7.151792ms]
[2024/05/17 10:52:47.636 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=0] ["schema version"=0]
[2024/05/17 10:52:47.636 +08:00] [INFO] [domain.go:705] ["full load and reset schema validator"]
[2024/05/17 10:52:47.636 +08:00] [INFO] [ddl.go:818] ["start DDL"] [category=ddl] [ID=01ef5248-0a1b-4b6c-a153-5045eb168976] [runWorker=true]
[2024/05/17 10:52:47.637 +08:00] [INFO] [ddl.go:777] ["start delRangeManager OK"] [category=ddl] ["is a emulator"=true]
[2024/05/17 10:52:47.637 +08:00] [WARN] [env.go:51] ["initialize environment failed"] [category=ddl-ingest] ["storage limitation"="only support TiKV storage"] ["current storage"=unistore] ["lightning is initialized"=false]
[2024/05/17 10:52:47.637 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=loadSchemaInLoop]
[2024/05/17 10:52:47.638 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=mdlCheckLoop]
[2024/05/17 10:52:47.638 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=topNSlowQueryLoop]
[2024/05/17 10:52:47.638 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=infoSyncerKeeper]
[2024/05/17 10:52:47.638 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=globalConfigSyncerKeeper]
[2024/05/17 10:52:47.638 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=runawayStartLoop]
[2024/05/17 10:52:47.638 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=requestUnitsWriterLoop]
[2024/05/17 10:52:47.638 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=topologySyncerKeeper]
[2024/05/17 10:52:47.638 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=closestReplicaReadCheckLoop]
[2024/05/17 10:52:47.638 +08:00] [WARN] [domain.go:1396] ["pd / etcd client not provided, won't begin Advancer."]
[2024/05/17 10:52:47.644 +08:00] [INFO] [delete_range.go:172] ["start delRange emulator"] [category=ddl]
[2024/05/17 10:52:47.645 +08:00] [INFO] [job_table.go:334] ["get global state and global state change"] [category=ddl] [oldState=false] [currState=false]
[2024/05/17 10:52:47.646 +08:00] [INFO] [runaway.go:149] ["try to start runaway manager loop"]
[2024/05/17 10:52:47.646 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=requestUnitsWriterLoop]
[2024/05/17 10:52:47.695 +08:00] [INFO] [job_table.go:334] ["get global state and global state change"] [category=ddl] [oldState=false] [currState=false]
[2024/05/17 10:52:47.695 +08:00] [INFO] [job_table.go:349] ["the owner sets owner operator value"] [category=ddl] [ownerOp=none]
[2024/05/17 10:52:47.846 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=0] [cur_db=mysql] [sql="CREATE DATABASE IF NOT EXISTS test"] [user=]
[2024/05/17 10:52:47.850 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:3, Type:create schema, State:queueing, SchemaState:none, SchemaID:2, TableID:0, RowCount:0, ArgLen:1, start time: 2024-05-17 10:52:47.848 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:52:47.850 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:3, Type:create schema, State:queueing, SchemaState:none, SchemaID:2, TableID:0, RowCount:0, ArgLen:1, start time: 2024-05-17 10:52:47.848 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE DATABASE IF NOT EXISTS test"]
[2024/05/17 10:52:47.860 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=3] [category=ddl] [job="ID:3, Type:create schema, State:queueing, SchemaState:none, SchemaID:2, TableID:0, RowCount:0, ArgLen:0, start time: 2024-05-17 10:52:47.848 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:47.868 +08:00] [INFO] [domain.go:385] ["full load InfoSchema success"] [currentSchemaVersion=0] [neededSchemaVersion=1] ["start time"=6.582042ms]
[2024/05/17 10:52:47.869 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816656048553984] ["schema version"=1]
[2024/05/17 10:52:47.869 +08:00] [INFO] [domain.go:705] ["full load and reset schema validator"]
[2024/05/17 10:52:47.870 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:52:47.870 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=3] [version=1]
[2024/05/17 10:52:47.870 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=1] ["take time"=8.429792ms] [job="ID:3, Type:create schema, State:done, SchemaState:public, SchemaID:2, TableID:0, RowCount:0, ArgLen:1, start time: 2024-05-17 10:52:47.848 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:47.874 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=3] [job="ID:3, Type:create schema, State:synced, SchemaState:public, SchemaID:2, TableID:0, RowCount:0, ArgLen:0, start time: 2024-05-17 10:52:47.848 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:47.876 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=3]
[2024/05/17 10:52:47.876 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:52:47.876 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816656048553984] ["schema version"=1]
[2024/05/17 10:52:47.876 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=1] [cur_db=mysql] [sql="CREATE DATABASE IF NOT EXISTS `mysql`"] [user=]
[2024/05/17 10:52:47.877 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=1] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.user (\n\t\tHost\t\t\t\t\tCHAR(255),\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tauthentication_string\tTEXT,\n\t\tplugin\t\t\t\t\tCHAR(64),\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tProcess_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_db_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tSuper_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_user_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_slave_priv\t    \tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_client_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_role_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_role_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAccount_locked\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShutdown_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReload_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tFILE_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tConfig_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_Tablespace_Priv  ENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPassword_reuse_history  smallint unsigned DEFAULT NULL,\n\t\tPassword_reuse_time     smallint unsigned DEFAULT NULL,\n\t\tUser_attributes\t\t\tjson,\n\t\tToken_issuer\t\t\tVARCHAR(255),\n\t\tPassword_expired\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPassword_last_changed\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP(),\n\t\tPassword_lifetime\t\tSMALLINT UNSIGNED DEFAULT NULL,\n\t\tPRIMARY KEY (Host, User));"] [user=]
[2024/05/17 10:52:47.878 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:5, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:4, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:47.877 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:52:47.878 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:5, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:4, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:47.877 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.user (\n\t\tHost\t\t\t\t\tCHAR(255),\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tauthentication_string\tTEXT,\n\t\tplugin\t\t\t\t\tCHAR(64),\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tProcess_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_db_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tSuper_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_user_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_slave_priv\t    \tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_client_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_role_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_role_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAccount_locked\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShutdown_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReload_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tFILE_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tConfig_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_Tablespace_Priv  ENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPassword_reuse_history  smallint unsigned DEFAULT NULL,\n\t\tPassword_reuse_time     smallint unsigned DEFAULT NULL,\n\t\tUser_attributes\t\t\tjson,\n\t\tToken_issuer\t\t\tVARCHAR(255),\n\t\tPassword_expired\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPassword_last_changed\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP(),\n\t\tPassword_lifetime\t\tSMALLINT UNSIGNED DEFAULT NULL,\n\t\tPRIMARY KEY (Host, User));"]
[2024/05/17 10:52:47.882 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=5] [category=ddl] [job="ID:5, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:4, RowCount:0, ArgLen:0, start time: 2024-05-17 10:52:47.877 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:47.887 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816656055107584] ["schema version"=2]
[2024/05/17 10:52:47.887 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=1] [neededSchemaVersion=2] ["start time"=1.074584ms] [gotSchemaVersion=2] [phyTblIDs="[4]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:52:47.889 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:52:47.889 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=5] [version=2]
[2024/05/17 10:52:47.891 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=2] ["take time"=4.664125ms] [job="ID:5, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:4, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:47.877 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:47.896 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816656055107584] ["schema version"=2]
[2024/05/17 10:52:47.899 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=5] [job="ID:5, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:4, RowCount:0, ArgLen:0, start time: 2024-05-17 10:52:47.877 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:47.904 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=5]
[2024/05/17 10:52:47.904 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:52:47.904 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816656055107584] ["schema version"=2]
[2024/05/17 10:52:47.906 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=2] [cur_db=mysql] [sql="CREATE TABLE  IF NOT EXISTS mysql.password_history (\n         Host char(255)  NOT NULL DEFAULT '',\n         User char(32)  NOT NULL DEFAULT '',\n         Password_timestamp timestamp(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6),\n         Password text,\n         PRIMARY KEY (Host,User,Password_timestamp )\n        ) COMMENT='Password history for user accounts' "] [user=]
[2024/05/17 10:52:47.909 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:7, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:6, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:47.908 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:52:47.909 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:7, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:6, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:47.908 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE  IF NOT EXISTS mysql.password_history (\n         Host char(255)  NOT NULL DEFAULT '',\n         User char(32)  NOT NULL DEFAULT '',\n         Password_timestamp timestamp(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6),\n         Password text,\n         PRIMARY KEY (Host,User,Password_timestamp )\n        ) COMMENT='Password history for user accounts' "]
[2024/05/17 10:52:47.912 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=7] [category=ddl] [job="ID:7, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:6, RowCount:0, ArgLen:0, start time: 2024-05-17 10:52:47.908 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:47.913 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816656062185472] ["schema version"=3]
[2024/05/17 10:52:47.913 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=2] [neededSchemaVersion=3] ["start time"=223.834µs] [gotSchemaVersion=3] [phyTblIDs="[6]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:52:47.914 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:52:47.914 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=7] [version=3]
[2024/05/17 10:52:47.915 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=3] ["take time"=2.029833ms] [job="ID:7, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:6, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:47.908 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:47.918 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=7] [job="ID:7, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:6, RowCount:0, ArgLen:0, start time: 2024-05-17 10:52:47.908 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:47.920 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=7]
[2024/05/17 10:52:47.920 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:52:47.920 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816656062185472] ["schema version"=3]
[2024/05/17 10:52:47.920 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=3] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.global_priv (Host CHAR(255) NOT NULL DEFAULT '',User CHAR(80) NOT NULL DEFAULT '',Priv LONGTEXT NOT NULL DEFAULT '',PRIMARY KEY (Host, User))"] [user=]
[2024/05/17 10:52:47.921 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:9, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:8, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:47.921 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:52:47.921 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:9, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:8, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:47.921 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.global_priv (Host CHAR(255) NOT NULL DEFAULT '',User CHAR(80) NOT NULL DEFAULT '',Priv LONGTEXT NOT NULL DEFAULT '',PRIMARY KEY (Host, User))"]
[2024/05/17 10:52:47.924 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=9] [category=ddl] [job="ID:9, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:8, RowCount:0, ArgLen:0, start time: 2024-05-17 10:52:47.921 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:47.925 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816656065331201] ["schema version"=4]
[2024/05/17 10:52:47.925 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=3] [neededSchemaVersion=4] ["start time"=187.041µs] [gotSchemaVersion=4] [phyTblIDs="[8]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:52:47.926 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:52:47.926 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=9] [version=4]
[2024/05/17 10:52:47.927 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=4] ["take time"=2.00525ms] [job="ID:9, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:8, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:47.921 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:47.930 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=9] [job="ID:9, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:8, RowCount:0, ArgLen:0, start time: 2024-05-17 10:52:47.921 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:47.932 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=9]
[2024/05/17 10:52:47.932 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:52:47.932 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816656065331201] ["schema version"=4]
[2024/05/17 10:52:47.932 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=4] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.db (\n\t\tHost\t\t\t\t\tCHAR(255),\n\t\tDB\t\t\t\t\t\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv \t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (Host, DB, User));"] [user=]
[2024/05/17 10:52:47.933 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:11, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:10, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:47.933 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:52:47.933 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:11, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:10, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:47.933 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.db (\n\t\tHost\t\t\t\t\tCHAR(255),\n\t\tDB\t\t\t\t\t\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv \t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (Host, DB, User));"]
[2024/05/17 10:52:47.937 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=11] [category=ddl] [job="ID:11, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:10, RowCount:0, ArgLen:0, start time: 2024-05-17 10:52:47.933 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:47.939 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816656069001216] ["schema version"=5]
[2024/05/17 10:52:47.939 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=4] [neededSchemaVersion=5] ["start time"=475.875µs] [gotSchemaVersion=5] [phyTblIDs="[10]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:52:47.940 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:52:47.940 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=11] [version=5]
[2024/05/17 10:52:47.941 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=5] ["take time"=2.258167ms] [job="ID:11, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:10, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:47.933 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:47.946 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=11] [job="ID:11, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:10, RowCount:0, ArgLen:0, start time: 2024-05-17 10:52:47.933 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:47.948 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=11]
[2024/05/17 10:52:47.948 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:52:47.948 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816656069001216] ["schema version"=5]
[2024/05/17 10:52:47.948 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=5] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tables_priv (\n\t\tHost\t\tCHAR(255),\n\t\tDB\t\t\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tGrantor\t\tCHAR(77),\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tTable_priv\tSET('Select','Insert','Update','Delete','Create','Drop','Grant','Index','Alter','Create View','Show View','Trigger','References'),\n\t\tColumn_priv\tSET('Select','Insert','Update','References'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name));"] [user=]
[2024/05/17 10:52:47.950 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:13, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:12, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:47.949 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:52:47.950 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:13, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:12, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:47.949 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tables_priv (\n\t\tHost\t\tCHAR(255),\n\t\tDB\t\t\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tGrantor\t\tCHAR(77),\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tTable_priv\tSET('Select','Insert','Update','Delete','Create','Drop','Grant','Index','Alter','Create View','Show View','Trigger','References'),\n\t\tColumn_priv\tSET('Select','Insert','Update','References'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name));"]
[2024/05/17 10:52:47.953 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=13] [category=ddl] [job="ID:13, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:12, RowCount:0, ArgLen:0, start time: 2024-05-17 10:52:47.949 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:47.955 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816656073195520] ["schema version"=6]
[2024/05/17 10:52:47.955 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=5] [neededSchemaVersion=6] ["start time"=250.25µs] [gotSchemaVersion=6] [phyTblIDs="[12]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:52:47.956 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:52:47.956 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=13] [version=6]
[2024/05/17 10:52:47.957 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=6] ["take time"=2.003417ms] [job="ID:13, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:12, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:47.949 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:47.961 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=13] [job="ID:13, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:12, RowCount:0, ArgLen:0, start time: 2024-05-17 10:52:47.949 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:47.962 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=13]
[2024/05/17 10:52:47.962 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:52:47.962 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816656073195520] ["schema version"=6]
[2024/05/17 10:52:47.963 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=6] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.columns_priv(\n\t\tHost\t\tCHAR(255),\n\t\tDB\t\t\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tColumn_name\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tColumn_priv\tSET('Select','Insert','Update','References'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name, Column_name));"] [user=]
[2024/05/17 10:52:47.964 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:15, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:14, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:47.963 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:52:47.964 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:15, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:14, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:47.963 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.columns_priv(\n\t\tHost\t\tCHAR(255),\n\t\tDB\t\t\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tColumn_name\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tColumn_priv\tSET('Select','Insert','Update','References'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name, Column_name));"]
[2024/05/17 10:52:47.967 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=15] [category=ddl] [job="ID:15, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:14, RowCount:0, ArgLen:0, start time: 2024-05-17 10:52:47.963 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:47.968 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816656076603392] ["schema version"=7]
[2024/05/17 10:52:47.968 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=6] [neededSchemaVersion=7] ["start time"=213.459µs] [gotSchemaVersion=7] [phyTblIDs="[14]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:52:47.969 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:52:47.969 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=15] [version=7]
[2024/05/17 10:52:47.970 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=7] ["take time"=2.015833ms] [job="ID:15, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:14, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:47.963 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:47.974 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=15] [job="ID:15, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:14, RowCount:0, ArgLen:0, start time: 2024-05-17 10:52:47.963 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:47.976 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=15]
[2024/05/17 10:52:47.976 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:52:47.976 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816656076603392] ["schema version"=7]
[2024/05/17 10:52:47.976 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=7] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.GLOBAL_VARIABLES(\n\t\tVARIABLE_NAME  VARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE VARCHAR(16383) DEFAULT NULL);"] [user=]
[2024/05/17 10:52:47.977 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:17, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:16, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:47.977 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:52:47.977 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:17, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:16, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:47.977 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.GLOBAL_VARIABLES(\n\t\tVARIABLE_NAME  VARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE VARCHAR(16383) DEFAULT NULL);"]
[2024/05/17 10:52:47.980 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=17] [category=ddl] [job="ID:17, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:16, RowCount:0, ArgLen:0, start time: 2024-05-17 10:52:47.977 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:47.981 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816656080011264] ["schema version"=8]
[2024/05/17 10:52:47.981 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=7] [neededSchemaVersion=8] ["start time"=147.042µs] [gotSchemaVersion=8] [phyTblIDs="[16]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:52:47.982 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:52:47.982 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=17] [version=8]
[2024/05/17 10:52:47.984 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=8] ["take time"=2.781541ms] [job="ID:17, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:16, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:47.977 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:47.987 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=17] [job="ID:17, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:16, RowCount:0, ArgLen:0, start time: 2024-05-17 10:52:47.977 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:47.989 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=17]
[2024/05/17 10:52:47.989 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:52:47.989 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816656080011264] ["schema version"=8]
[2024/05/17 10:52:47.989 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=8] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb(\n\t\tVARIABLE_NAME  \tVARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE \tVARCHAR(1024) DEFAULT NULL,\n\t\tCOMMENT \t\tVARCHAR(1024));"] [user=]
[2024/05/17 10:52:47.990 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:19, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:18, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:47.99 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:52:47.990 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:19, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:18, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:47.99 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb(\n\t\tVARIABLE_NAME  \tVARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE \tVARCHAR(1024) DEFAULT NULL,\n\t\tCOMMENT \t\tVARCHAR(1024));"]
[2024/05/17 10:52:47.994 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=19] [category=ddl] [job="ID:19, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:18, RowCount:0, ArgLen:0, start time: 2024-05-17 10:52:47.99 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:47.995 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816656083419144] ["schema version"=9]
[2024/05/17 10:52:47.995 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=8] [neededSchemaVersion=9] ["start time"=146.416µs] [gotSchemaVersion=9] [phyTblIDs="[18]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:52:47.995 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:52:47.995 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=19] [version=9]
[2024/05/17 10:52:47.997 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=9] ["take time"=2.056833ms] [job="ID:19, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:18, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:47.99 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:48.000 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=19] [job="ID:19, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:18, RowCount:0, ArgLen:0, start time: 2024-05-17 10:52:47.99 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:48.002 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=19]
[2024/05/17 10:52:48.002 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:52:48.002 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816656083419144] ["schema version"=9]
[2024/05/17 10:52:48.002 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=9] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.help_topic (\n  \t\thelp_topic_id \t\tINT(10) UNSIGNED NOT NULL,\n  \t\tname \t\t\t\tCHAR(64) NOT NULL,\n  \t\thelp_category_id \tSMALLINT(5) UNSIGNED NOT NULL,\n  \t\tdescription \t\tTEXT NOT NULL,\n  \t\texample \t\t\tTEXT NOT NULL,\n  \t\turl \t\t\t\tTEXT NOT NULL,\n  \t\tPRIMARY KEY (help_topic_id) clustered,\n  \t\tUNIQUE KEY name (name)\n\t\t) ENGINE=InnoDB DEFAULT CHARSET=utf8 STATS_PERSISTENT=0 COMMENT='help topics';"] [user=]
[2024/05/17 10:52:48.003 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:21, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:20, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:48.003 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:52:48.004 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:21, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:20, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:48.003 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.help_topic (\n  \t\thelp_topic_id \t\tINT(10) UNSIGNED NOT NULL,\n  \t\tname \t\t\t\tCHAR(64) NOT NULL,\n  \t\thelp_category_id \tSMALLINT(5) UNSIGNED NOT NULL,\n  \t\tdescription \t\tTEXT NOT NULL,\n  \t\texample \t\t\tTEXT NOT NULL,\n  \t\turl \t\t\t\tTEXT NOT NULL,\n  \t\tPRIMARY KEY (help_topic_id) clustered,\n  \t\tUNIQUE KEY name (name)\n\t\t) ENGINE=InnoDB DEFAULT CHARSET=utf8 STATS_PERSISTENT=0 COMMENT='help topics';"]
[2024/05/17 10:52:48.007 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=21] [category=ddl] [job="ID:21, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:20, RowCount:0, ArgLen:0, start time: 2024-05-17 10:52:48.003 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:48.009 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816656087089153] ["schema version"=10]
[2024/05/17 10:52:48.009 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=9] [neededSchemaVersion=10] ["start time"=202.833µs] [gotSchemaVersion=10] [phyTblIDs="[20]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:52:48.009 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:52:48.009 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=21] [version=10]
[2024/05/17 10:52:48.010 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=10] ["take time"=2.004458ms] [job="ID:21, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:20, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:48.003 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:48.014 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=21] [job="ID:21, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:20, RowCount:0, ArgLen:0, start time: 2024-05-17 10:52:48.003 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:48.016 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=21]
[2024/05/17 10:52:48.016 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:52:48.016 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816656087089153] ["schema version"=10]
[2024/05/17 10:52:48.016 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=10] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_meta (\n\t\tversion \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\ttable_id \t\tBIGINT(64) NOT NULL,\n\t\tmodify_count\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcount \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tsnapshot        BIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tINDEX idx_ver(version),\n\t\tUNIQUE INDEX tbl(table_id)\n\t);"] [user=]
[2024/05/17 10:52:48.017 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:23, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:22, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:48.017 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:52:48.017 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:23, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:22, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:48.017 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_meta (\n\t\tversion \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\ttable_id \t\tBIGINT(64) NOT NULL,\n\t\tmodify_count\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcount \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tsnapshot        BIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tINDEX idx_ver(version),\n\t\tUNIQUE INDEX tbl(table_id)\n\t);"]
[2024/05/17 10:52:48.021 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=23] [category=ddl] [job="ID:23, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:22, RowCount:0, ArgLen:0, start time: 2024-05-17 10:52:48.017 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:48.023 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816656090759171] ["schema version"=11]
[2024/05/17 10:52:48.023 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=10] [neededSchemaVersion=11] ["start time"=204.416µs] [gotSchemaVersion=11] [phyTblIDs="[22]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:52:48.023 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:52:48.023 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=23] [version=11]
[2024/05/17 10:52:48.025 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=11] ["take time"=2.401125ms] [job="ID:23, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:22, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:48.017 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:48.028 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=23] [job="ID:23, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:22, RowCount:0, ArgLen:0, start time: 2024-05-17 10:52:48.017 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:48.030 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=23]
[2024/05/17 10:52:48.030 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:52:48.030 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816656090759171] ["schema version"=11]
[2024/05/17 10:52:48.030 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=11] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_histograms (\n\t\ttable_id \t\t\tBIGINT(64) NOT NULL,\n\t\tis_index \t\t\tTINYINT(2) NOT NULL,\n\t\thist_id \t\t\tBIGINT(64) NOT NULL,\n\t\tdistinct_count \t\tBIGINT(64) NOT NULL,\n\t\tnull_count \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\ttot_col_size \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tmodify_count \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tversion \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tcm_sketch \t\t\tBLOB(6291456),\n\t\tstats_ver \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tflag \t\t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcorrelation \t\tDOUBLE NOT NULL DEFAULT 0,\n\t\tlast_analyze_pos \tLONGBLOB DEFAULT NULL,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id)\n\t);"] [user=]
[2024/05/17 10:52:48.030 +08:00] [INFO] [ddl_api.go:1141] ["Automatically convert BLOB(6291456) to MEDIUMBLOB"] [category=ddl]
[2024/05/17 10:52:48.031 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:25, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:24, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:48.03 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:52:48.031 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:25, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:24, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:48.03 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_histograms (\n\t\ttable_id \t\t\tBIGINT(64) NOT NULL,\n\t\tis_index \t\t\tTINYINT(2) NOT NULL,\n\t\thist_id \t\t\tBIGINT(64) NOT NULL,\n\t\tdistinct_count \t\tBIGINT(64) NOT NULL,\n\t\tnull_count \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\ttot_col_size \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tmodify_count \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tversion \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tcm_sketch \t\t\tBLOB(6291456),\n\t\tstats_ver \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tflag \t\t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcorrelation \t\tDOUBLE NOT NULL DEFAULT 0,\n\t\tlast_analyze_pos \tLONGBLOB DEFAULT NULL,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id)\n\t);"]
[2024/05/17 10:52:48.038 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=25] [category=ddl] [job="ID:25, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:24, RowCount:0, ArgLen:0, start time: 2024-05-17 10:52:48.03 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:48.041 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816656095477760] ["schema version"=12]
[2024/05/17 10:52:48.041 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=11] [neededSchemaVersion=12] ["start time"=427.417µs] [gotSchemaVersion=12] [phyTblIDs="[24]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:52:48.042 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:52:48.042 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=25] [version=12]
[2024/05/17 10:52:48.045 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=12] ["take time"=4.053583ms] [job="ID:25, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:24, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:48.03 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:48.053 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=25] [job="ID:25, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:24, RowCount:0, ArgLen:0, start time: 2024-05-17 10:52:48.03 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:48.055 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=25]
[2024/05/17 10:52:48.055 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:52:48.055 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816656095477760] ["schema version"=12]
[2024/05/17 10:52:48.055 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=12] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_buckets (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tbucket_id \tBIGINT(64) NOT NULL,\n\t\tcount \t\tBIGINT(64) NOT NULL,\n\t\trepeats \tBIGINT(64) NOT NULL,\n\t\tupper_bound LONGBLOB NOT NULL,\n\t\tlower_bound LONGBLOB ,\n\t\tndv         BIGINT NOT NULL DEFAULT 0,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id, bucket_id)\n\t);"] [user=]
[2024/05/17 10:52:48.058 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:27, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:26, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:48.056 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:52:48.058 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:27, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:26, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:48.056 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_buckets (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tbucket_id \tBIGINT(64) NOT NULL,\n\t\tcount \t\tBIGINT(64) NOT NULL,\n\t\trepeats \tBIGINT(64) NOT NULL,\n\t\tupper_bound LONGBLOB NOT NULL,\n\t\tlower_bound LONGBLOB ,\n\t\tndv         BIGINT NOT NULL DEFAULT 0,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id, bucket_id)\n\t);"]
[2024/05/17 10:52:48.062 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=27] [category=ddl] [job="ID:27, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:26, RowCount:0, ArgLen:0, start time: 2024-05-17 10:52:48.056 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:48.064 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816656101769216] ["schema version"=13]
[2024/05/17 10:52:48.064 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=12] [neededSchemaVersion=13] ["start time"=268.084µs] [gotSchemaVersion=13] [phyTblIDs="[26]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:52:48.065 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:52:48.065 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=27] [version=13]
[2024/05/17 10:52:48.067 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=13] ["take time"=2.622292ms] [job="ID:27, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:26, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:48.056 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:48.069 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=27] [job="ID:27, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:26, RowCount:0, ArgLen:0, start time: 2024-05-17 10:52:48.056 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:48.071 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=27]
[2024/05/17 10:52:48.071 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:52:48.071 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816656101769216] ["schema version"=13]
[2024/05/17 10:52:48.071 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=13] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_index (job_id, element_id)\n\t);"] [user=]
[2024/05/17 10:52:48.072 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:29, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:28, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:48.072 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:52:48.072 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:29, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:28, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:48.072 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_index (job_id, element_id)\n\t);"]
[2024/05/17 10:52:48.075 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=29] [category=ddl] [job="ID:29, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:28, RowCount:0, ArgLen:0, start time: 2024-05-17 10:52:48.072 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:48.077 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816656105177088] ["schema version"=14]
[2024/05/17 10:52:48.077 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=13] [neededSchemaVersion=14] ["start time"=204.5µs] [gotSchemaVersion=14] [phyTblIDs="[28]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:52:48.078 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:52:48.078 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=29] [version=14]
[2024/05/17 10:52:48.079 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=14] ["take time"=2.007417ms] [job="ID:29, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:28, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:48.072 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:48.081 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=29] [job="ID:29, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:28, RowCount:0, ArgLen:0, start time: 2024-05-17 10:52:48.072 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:48.083 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=29]
[2024/05/17 10:52:48.083 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:52:48.083 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816656105177088] ["schema version"=14]
[2024/05/17 10:52:48.083 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=14] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range_done (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_done_index (job_id, element_id)\n\t);"] [user=]
[2024/05/17 10:52:48.085 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:31, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:30, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:48.084 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:52:48.085 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:31, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:30, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:48.084 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range_done (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_done_index (job_id, element_id)\n\t);"]
[2024/05/17 10:52:48.088 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=31] [category=ddl] [job="ID:31, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:30, RowCount:0, ArgLen:0, start time: 2024-05-17 10:52:48.084 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:48.090 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816656108322822] ["schema version"=15]
[2024/05/17 10:52:48.090 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=14] [neededSchemaVersion=15] ["start time"=198.416µs] [gotSchemaVersion=15] [phyTblIDs="[30]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:52:48.091 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:52:48.091 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=31] [version=15]
[2024/05/17 10:52:48.092 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=15] ["take time"=2.707042ms] [job="ID:31, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:30, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:48.084 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:48.096 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=31] [job="ID:31, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:30, RowCount:0, ArgLen:0, start time: 2024-05-17 10:52:48.084 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:48.098 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=31]
[2024/05/17 10:52:48.098 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:52:48.098 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816656108322822] ["schema version"=15]
[2024/05/17 10:52:48.098 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=15] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_feedback (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tfeedback \tBLOB NOT NULL,\n\t\tINDEX hist(table_id, is_index, hist_id)\n\t);"] [user=]
[2024/05/17 10:52:48.100 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:33, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:32, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:48.099 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:52:48.100 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:33, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:32, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:48.099 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_feedback (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tfeedback \tBLOB NOT NULL,\n\t\tINDEX hist(table_id, is_index, hist_id)\n\t);"]
[2024/05/17 10:52:48.103 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=33] [category=ddl] [job="ID:33, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:32, RowCount:0, ArgLen:0, start time: 2024-05-17 10:52:48.099 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:48.104 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816656112254976] ["schema version"=16]
[2024/05/17 10:52:48.104 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=15] [neededSchemaVersion=16] ["start time"=180.833µs] [gotSchemaVersion=16] [phyTblIDs="[32]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:52:48.105 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:52:48.105 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=33] [version=16]
[2024/05/17 10:52:48.106 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=16] ["take time"=2.003583ms] [job="ID:33, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:32, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:48.099 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:48.109 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=33] [job="ID:33, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:32, RowCount:0, ArgLen:0, start time: 2024-05-17 10:52:48.099 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:48.111 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=33]
[2024/05/17 10:52:48.111 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:52:48.111 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816656112254976] ["schema version"=16]
[2024/05/17 10:52:48.111 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=16] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.role_edges (\n\t\tFROM_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tFROM_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tWITH_ADMIN_OPTION \tENUM('N','Y') CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (FROM_HOST,FROM_USER,TO_HOST,TO_USER)\n\t);"] [user=]
[2024/05/17 10:52:48.112 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:35, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:34, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:48.111 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:52:48.112 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:35, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:34, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:48.111 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.role_edges (\n\t\tFROM_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tFROM_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tWITH_ADMIN_OPTION \tENUM('N','Y') CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (FROM_HOST,FROM_USER,TO_HOST,TO_USER)\n\t);"]
[2024/05/17 10:52:48.115 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=35] [category=ddl] [job="ID:35, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:34, RowCount:0, ArgLen:0, start time: 2024-05-17 10:52:48.111 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:48.116 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816656115400704] ["schema version"=17]
[2024/05/17 10:52:48.116 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=16] [neededSchemaVersion=17] ["start time"=198.375µs] [gotSchemaVersion=17] [phyTblIDs="[34]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:52:48.117 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:52:48.117 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=35] [version=17]
[2024/05/17 10:52:48.119 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=17] ["take time"=2.429041ms] [job="ID:35, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:34, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:48.111 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:48.122 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=35] [job="ID:35, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:34, RowCount:0, ArgLen:0, start time: 2024-05-17 10:52:48.111 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:48.123 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=35]
[2024/05/17 10:52:48.123 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:52:48.123 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816656115400704] ["schema version"=17]
[2024/05/17 10:52:48.123 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=17] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.default_roles (\n\t\tHOST \t\t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tUSER \t\t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tDEFAULT_ROLE_HOST \tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '%',\n\t\tDEFAULT_ROLE_USER \tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tPRIMARY KEY (HOST,USER,DEFAULT_ROLE_HOST,DEFAULT_ROLE_USER)\n\t)"] [user=]
[2024/05/17 10:52:48.124 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:37, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:36, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:48.124 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:52:48.124 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:37, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:36, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:48.124 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.default_roles (\n\t\tHOST \t\t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tUSER \t\t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tDEFAULT_ROLE_HOST \tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '%',\n\t\tDEFAULT_ROLE_USER \tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tPRIMARY KEY (HOST,USER,DEFAULT_ROLE_HOST,DEFAULT_ROLE_USER)\n\t)"]
[2024/05/17 10:52:48.127 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=37] [category=ddl] [job="ID:37, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:36, RowCount:0, ArgLen:0, start time: 2024-05-17 10:52:48.124 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:48.129 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816656118546438] ["schema version"=18]
[2024/05/17 10:52:48.129 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=17] [neededSchemaVersion=18] ["start time"=187.292µs] [gotSchemaVersion=18] [phyTblIDs="[36]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:52:48.129 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:52:48.129 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=37] [version=18]
[2024/05/17 10:52:48.131 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=18] ["take time"=2.39ms] [job="ID:37, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:36, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:48.124 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:48.133 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=37] [job="ID:37, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:36, RowCount:0, ArgLen:0, start time: 2024-05-17 10:52:48.124 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:48.135 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=37]
[2024/05/17 10:52:48.135 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:52:48.135 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816656118546438] ["schema version"=18]
[2024/05/17 10:52:48.135 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=18] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.bind_info (\n\t\toriginal_sql TEXT NOT NULL,\n\t\tbind_sql TEXT NOT NULL,\n\t\tdefault_db TEXT NOT NULL,\n\t\tstatus TEXT NOT NULL,\n\t\tcreate_time TIMESTAMP(3) NOT NULL,\n\t\tupdate_time TIMESTAMP(3) NOT NULL,\n\t\tcharset TEXT NOT NULL,\n\t\tcollation TEXT NOT NULL,\n\t\tsource VARCHAR(10) NOT NULL DEFAULT 'unknown',\n\t\tsql_digest varchar(64),\n\t\tplan_digest varchar(64),\n\t\tINDEX sql_index(original_sql(700),default_db(68)) COMMENT \"accelerate the speed when add global binding query\",\n\t\tINDEX time_index(update_time) COMMENT \"accelerate the speed when querying with last update time\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"] [user=]
[2024/05/17 10:52:48.136 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:39, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:38, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:48.136 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:52:48.136 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:39, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:38, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:48.136 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.bind_info (\n\t\toriginal_sql TEXT NOT NULL,\n\t\tbind_sql TEXT NOT NULL,\n\t\tdefault_db TEXT NOT NULL,\n\t\tstatus TEXT NOT NULL,\n\t\tcreate_time TIMESTAMP(3) NOT NULL,\n\t\tupdate_time TIMESTAMP(3) NOT NULL,\n\t\tcharset TEXT NOT NULL,\n\t\tcollation TEXT NOT NULL,\n\t\tsource VARCHAR(10) NOT NULL DEFAULT 'unknown',\n\t\tsql_digest varchar(64),\n\t\tplan_digest varchar(64),\n\t\tINDEX sql_index(original_sql(700),default_db(68)) COMMENT \"accelerate the speed when add global binding query\",\n\t\tINDEX time_index(update_time) COMMENT \"accelerate the speed when querying with last update time\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"]
[2024/05/17 10:52:48.139 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=39] [category=ddl] [job="ID:39, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:38, RowCount:0, ArgLen:0, start time: 2024-05-17 10:52:48.136 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:48.141 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816656121954304] ["schema version"=19]
[2024/05/17 10:52:48.141 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=18] [neededSchemaVersion=19] ["start time"=284.542µs] [gotSchemaVersion=19] [phyTblIDs="[38]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:52:48.142 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:52:48.142 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=39] [version=19]
[2024/05/17 10:52:48.143 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=19] ["take time"=2.751875ms] [job="ID:39, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:38, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:48.136 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:48.147 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=39] [job="ID:39, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:38, RowCount:0, ArgLen:0, start time: 2024-05-17 10:52:48.136 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:48.148 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816656121954304] ["schema version"=19]
[2024/05/17 10:52:48.149 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=39]
[2024/05/17 10:52:48.149 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:52:48.149 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816656121954304] ["schema version"=19]
[2024/05/17 10:52:48.150 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=19] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_top_n (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tvalue \t\tLONGBLOB,\n\t\tcount \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\tINDEX tbl(table_id, is_index, hist_id)\n\t);"] [user=]
[2024/05/17 10:52:48.152 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:41, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:40, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:48.151 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:52:48.152 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:41, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:40, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:48.151 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_top_n (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tvalue \t\tLONGBLOB,\n\t\tcount \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\tINDEX tbl(table_id, is_index, hist_id)\n\t);"]
[2024/05/17 10:52:48.155 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=41] [category=ddl] [job="ID:41, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:40, RowCount:0, ArgLen:0, start time: 2024-05-17 10:52:48.151 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:48.156 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816656125886464] ["schema version"=20]
[2024/05/17 10:52:48.156 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=19] [neededSchemaVersion=20] ["start time"=171.5µs] [gotSchemaVersion=20] [phyTblIDs="[40]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:52:48.157 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:52:48.157 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=41] [version=20]
[2024/05/17 10:52:48.158 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=20] ["take time"=2.260166ms] [job="ID:41, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:40, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:48.151 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:48.161 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=41] [job="ID:41, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:40, RowCount:0, ArgLen:0, start time: 2024-05-17 10:52:48.151 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:48.162 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=41]
[2024/05/17 10:52:48.162 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:52:48.162 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816656125886464] ["schema version"=20]
[2024/05/17 10:52:48.162 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=20] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.expr_pushdown_blacklist (\n\t\tname \t\tCHAR(100) NOT NULL,\n\t\tstore_type \tCHAR(100) NOT NULL DEFAULT 'tikv,tiflash,tidb',\n\t\treason \t\tVARCHAR(200)\n\t);"] [user=]
[2024/05/17 10:52:48.163 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:43, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:42, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:48.162 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:52:48.163 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:43, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:42, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:48.162 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.expr_pushdown_blacklist (\n\t\tname \t\tCHAR(100) NOT NULL,\n\t\tstore_type \tCHAR(100) NOT NULL DEFAULT 'tikv,tiflash,tidb',\n\t\treason \t\tVARCHAR(200)\n\t);"]
[2024/05/17 10:52:48.165 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=43] [category=ddl] [job="ID:43, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:42, RowCount:0, ArgLen:0, start time: 2024-05-17 10:52:48.162 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:48.167 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816656128507907] ["schema version"=21]
[2024/05/17 10:52:48.167 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=20] [neededSchemaVersion=21] ["start time"=144.917µs] [gotSchemaVersion=21] [phyTblIDs="[42]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:52:48.167 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:52:48.167 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=43] [version=21]
[2024/05/17 10:52:48.169 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=21] ["take time"=2.468417ms] [job="ID:43, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:42, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:48.162 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:48.171 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=43] [job="ID:43, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:42, RowCount:0, ArgLen:0, start time: 2024-05-17 10:52:48.162 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:48.173 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=43]
[2024/05/17 10:52:48.173 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:52:48.173 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816656128507907] ["schema version"=21]
[2024/05/17 10:52:48.173 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=21] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.opt_rule_blacklist (\n\t\tname \tCHAR(100) NOT NULL\n\t);"] [user=]
[2024/05/17 10:52:48.174 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:45, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:44, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:48.174 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:52:48.174 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:45, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:44, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:48.174 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.opt_rule_blacklist (\n\t\tname \tCHAR(100) NOT NULL\n\t);"]
[2024/05/17 10:52:48.177 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=45] [category=ddl] [job="ID:45, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:44, RowCount:0, ArgLen:0, start time: 2024-05-17 10:52:48.174 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:48.178 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816656131653632] ["schema version"=22]
[2024/05/17 10:52:48.178 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=21] [neededSchemaVersion=22] ["start time"=98.084µs] [gotSchemaVersion=22] [phyTblIDs="[44]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:52:48.178 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:52:48.178 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=45] [version=22]
[2024/05/17 10:52:48.181 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=22] ["take time"=2.974833ms] [job="ID:45, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:44, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:48.174 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:48.186 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=45] [job="ID:45, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:44, RowCount:0, ArgLen:0, start time: 2024-05-17 10:52:48.174 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:48.189 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=45]
[2024/05/17 10:52:48.189 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:52:48.189 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816656131653632] ["schema version"=22]
[2024/05/17 10:52:48.189 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=22] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_extended (\n\t\tname varchar(32) NOT NULL,\n\t\ttype tinyint(4) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tcolumn_ids varchar(32) NOT NULL,\n\t\tstats blob DEFAULT NULL,\n\t\tversion bigint(64) unsigned NOT NULL,\n\t\tstatus tinyint(4) NOT NULL,\n\t\tPRIMARY KEY(name, table_id),\n\t\tKEY idx_1 (table_id, status, version),\n\t\tKEY idx_2 (status, version)\n\t);"] [user=]
[2024/05/17 10:52:48.192 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:47, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:46, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:48.191 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:52:48.192 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:47, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:46, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:48.191 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_extended (\n\t\tname varchar(32) NOT NULL,\n\t\ttype tinyint(4) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tcolumn_ids varchar(32) NOT NULL,\n\t\tstats blob DEFAULT NULL,\n\t\tversion bigint(64) unsigned NOT NULL,\n\t\tstatus tinyint(4) NOT NULL,\n\t\tPRIMARY KEY(name, table_id),\n\t\tKEY idx_1 (table_id, status, version),\n\t\tKEY idx_2 (status, version)\n\t);"]
[2024/05/17 10:52:48.197 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=47] [category=ddl] [job="ID:47, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:46, RowCount:0, ArgLen:0, start time: 2024-05-17 10:52:48.191 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:48.201 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816656137420801] ["schema version"=23]
[2024/05/17 10:52:48.201 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=22] [neededSchemaVersion=23] ["start time"=347.084µs] [gotSchemaVersion=23] [phyTblIDs="[46]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:52:48.201 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:52:48.201 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=47] [version=23]
[2024/05/17 10:52:48.202 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=23] ["take time"=2.108667ms] [job="ID:47, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:46, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:48.191 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:48.209 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=47] [job="ID:47, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:46, RowCount:0, ArgLen:0, start time: 2024-05-17 10:52:48.191 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:48.211 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=47]
[2024/05/17 10:52:48.211 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:52:48.211 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816656137420801] ["schema version"=23]
[2024/05/17 10:52:48.211 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=23] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_fm_sketch (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tvalue \t\tLONGBLOB,\n\t\tINDEX tbl(table_id, is_index, hist_id)\n\t);"] [user=]
[2024/05/17 10:52:48.212 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:49, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:48, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:48.212 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:52:48.212 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:49, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:48, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:48.212 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_fm_sketch (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tvalue \t\tLONGBLOB,\n\t\tINDEX tbl(table_id, is_index, hist_id)\n\t);"]
[2024/05/17 10:52:48.215 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=49] [category=ddl] [job="ID:49, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:48, RowCount:0, ArgLen:0, start time: 2024-05-17 10:52:48.212 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:48.216 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816656141615104] ["schema version"=24]
[2024/05/17 10:52:48.216 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=23] [neededSchemaVersion=24] ["start time"=185.542µs] [gotSchemaVersion=24] [phyTblIDs="[48]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:52:48.217 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:52:48.217 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=49] [version=24]
[2024/05/17 10:52:48.218 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=24] ["take time"=2.348459ms] [job="ID:49, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:48, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:48.212 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:48.221 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=49] [job="ID:49, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:48, RowCount:0, ArgLen:0, start time: 2024-05-17 10:52:48.212 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:48.222 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=49]
[2024/05/17 10:52:48.222 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:52:48.222 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816656141615104] ["schema version"=24]
[2024/05/17 10:52:48.222 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=24] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.global_grants (\n\t\tUSER char(32) NOT NULL DEFAULT '',\n\t\tHOST char(255) NOT NULL DEFAULT '',\n\t\tPRIV char(32) NOT NULL DEFAULT '',\n\t\tWITH_GRANT_OPTION enum('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (USER,HOST,PRIV)\n\t);"] [user=]
[2024/05/17 10:52:48.223 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:51, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:50, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:48.223 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:52:48.223 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:51, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:50, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:48.223 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.global_grants (\n\t\tUSER char(32) NOT NULL DEFAULT '',\n\t\tHOST char(255) NOT NULL DEFAULT '',\n\t\tPRIV char(32) NOT NULL DEFAULT '',\n\t\tWITH_GRANT_OPTION enum('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (USER,HOST,PRIV)\n\t);"]
[2024/05/17 10:52:48.226 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=51] [category=ddl] [job="ID:51, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:50, RowCount:0, ArgLen:0, start time: 2024-05-17 10:52:48.223 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:48.227 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816656144498689] ["schema version"=25]
[2024/05/17 10:52:48.227 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=24] [neededSchemaVersion=25] ["start time"=173.542µs] [gotSchemaVersion=25] [phyTblIDs="[50]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:52:48.228 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:52:48.228 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=51] [version=25]
[2024/05/17 10:52:48.230 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=25] ["take time"=2.7275ms] [job="ID:51, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:50, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:48.223 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:48.232 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=51] [job="ID:51, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:50, RowCount:0, ArgLen:0, start time: 2024-05-17 10:52:48.223 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:48.233 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=51]
[2024/05/17 10:52:48.233 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:52:48.233 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816656144498689] ["schema version"=25]
[2024/05/17 10:52:48.234 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=25] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.capture_plan_baselines_blacklist (\n\t\tid bigint(64) auto_increment,\n\t\tfilter_type varchar(32) NOT NULL COMMENT \"type of the filter, only db, table and frequency supported now\",\n\t\tfilter_value varchar(32) NOT NULL,\n\t\tkey idx(filter_type),\n\t\tprimary key(id)\n\t);"] [user=]
[2024/05/17 10:52:48.236 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:53, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:52, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:48.234 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:52:48.236 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:53, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:52, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:48.234 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.capture_plan_baselines_blacklist (\n\t\tid bigint(64) auto_increment,\n\t\tfilter_type varchar(32) NOT NULL COMMENT \"type of the filter, only db, table and frequency supported now\",\n\t\tfilter_value varchar(32) NOT NULL,\n\t\tkey idx(filter_type),\n\t\tprimary key(id)\n\t);"]
[2024/05/17 10:52:48.239 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=53] [category=ddl] [job="ID:53, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:52, RowCount:0, ArgLen:0, start time: 2024-05-17 10:52:48.234 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:48.240 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816656147906560] ["schema version"=26]
[2024/05/17 10:52:48.240 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=25] [neededSchemaVersion=26] ["start time"=171.417µs] [gotSchemaVersion=26] [phyTblIDs="[52]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:52:48.241 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:52:48.241 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=53] [version=26]
[2024/05/17 10:52:48.242 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=26] ["take time"=2.578417ms] [job="ID:53, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:52, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:48.234 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:48.245 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=53] [job="ID:53, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:52, RowCount:0, ArgLen:0, start time: 2024-05-17 10:52:48.234 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:48.247 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=53]
[2024/05/17 10:52:48.247 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:52:48.247 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816656147906560] ["schema version"=26]
[2024/05/17 10:52:48.247 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=26] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.column_stats_usage (\n\t\ttable_id BIGINT(64) NOT NULL,\n\t\tcolumn_id BIGINT(64) NOT NULL,\n\t\tlast_used_at TIMESTAMP,\n\t\tlast_analyzed_at TIMESTAMP,\n\t\tPRIMARY KEY (table_id, column_id) CLUSTERED\n\t);"] [user=]
[2024/05/17 10:52:48.249 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:55, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:54, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:48.248 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:52:48.249 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:55, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:54, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:48.248 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.column_stats_usage (\n\t\ttable_id BIGINT(64) NOT NULL,\n\t\tcolumn_id BIGINT(64) NOT NULL,\n\t\tlast_used_at TIMESTAMP,\n\t\tlast_analyzed_at TIMESTAMP,\n\t\tPRIMARY KEY (table_id, column_id) CLUSTERED\n\t);"]
[2024/05/17 10:52:48.252 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=55] [category=ddl] [job="ID:55, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:54, RowCount:0, ArgLen:0, start time: 2024-05-17 10:52:48.248 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:48.254 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816656151314435] ["schema version"=27]
[2024/05/17 10:52:48.254 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=26] [neededSchemaVersion=27] ["start time"=203.542µs] [gotSchemaVersion=27] [phyTblIDs="[54]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:52:48.255 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:52:48.255 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=55] [version=27]
[2024/05/17 10:52:48.256 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=27] ["take time"=2.6715ms] [job="ID:55, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:54, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:48.248 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:48.260 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=55] [job="ID:55, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:54, RowCount:0, ArgLen:0, start time: 2024-05-17 10:52:48.248 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:48.261 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=55]
[2024/05/17 10:52:48.261 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:52:48.261 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816656151314435] ["schema version"=27]
[2024/05/17 10:52:48.261 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=27] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.table_cache_meta (\n\t\ttid bigint(11) NOT NULL DEFAULT 0,\n\t\tlock_type enum('NONE','READ', 'INTEND', 'WRITE') NOT NULL DEFAULT 'NONE',\n\t\tlease bigint(20) NOT NULL DEFAULT 0,\n\t\toldReadLease bigint(20) NOT NULL DEFAULT 0,\n\t\tPRIMARY KEY (tid)\n\t);"] [user=]
[2024/05/17 10:52:48.262 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:57, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:56, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:48.262 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:52:48.262 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:57, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:56, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:48.262 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.table_cache_meta (\n\t\ttid bigint(11) NOT NULL DEFAULT 0,\n\t\tlock_type enum('NONE','READ', 'INTEND', 'WRITE') NOT NULL DEFAULT 'NONE',\n\t\tlease bigint(20) NOT NULL DEFAULT 0,\n\t\toldReadLease bigint(20) NOT NULL DEFAULT 0,\n\t\tPRIMARY KEY (tid)\n\t);"]
[2024/05/17 10:52:48.265 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=57] [category=ddl] [job="ID:57, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:56, RowCount:0, ArgLen:0, start time: 2024-05-17 10:52:48.262 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:48.266 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816656154722304] ["schema version"=28]
[2024/05/17 10:52:48.266 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=27] [neededSchemaVersion=28] ["start time"=173.625µs] [gotSchemaVersion=28] [phyTblIDs="[56]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:52:48.267 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:52:48.267 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=57] [version=28]
[2024/05/17 10:52:48.268 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=28] ["take time"=2.05575ms] [job="ID:57, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:56, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:48.262 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:48.272 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=57] [job="ID:57, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:56, RowCount:0, ArgLen:0, start time: 2024-05-17 10:52:48.262 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:48.273 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=57]
[2024/05/17 10:52:48.273 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:52:48.273 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816656154722304] ["schema version"=28]
[2024/05/17 10:52:48.273 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=28] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.analyze_options (\n\t\ttable_id BIGINT(64) NOT NULL,\n\t\tsample_num BIGINT(64) NOT NULL DEFAULT 0,\n\t\tsample_rate DOUBLE NOT NULL DEFAULT -1,\n\t\tbuckets BIGINT(64) NOT NULL DEFAULT 0,\n\t\ttopn BIGINT(64) NOT NULL DEFAULT -1,\n\t\tcolumn_choice enum('DEFAULT','ALL','PREDICATE','LIST') NOT NULL DEFAULT 'DEFAULT',\n\t\tcolumn_ids TEXT(19372),\n\t\tPRIMARY KEY (table_id) CLUSTERED\n\t);"] [user=]
[2024/05/17 10:52:48.274 +08:00] [INFO] [ddl_api.go:1141] ["Automatically convert BLOB(19372) to MEDIUMBLOB"] [category=ddl]
[2024/05/17 10:52:48.275 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:59, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:58, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:48.274 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:52:48.275 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:59, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:58, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:48.274 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.analyze_options (\n\t\ttable_id BIGINT(64) NOT NULL,\n\t\tsample_num BIGINT(64) NOT NULL DEFAULT 0,\n\t\tsample_rate DOUBLE NOT NULL DEFAULT -1,\n\t\tbuckets BIGINT(64) NOT NULL DEFAULT 0,\n\t\ttopn BIGINT(64) NOT NULL DEFAULT -1,\n\t\tcolumn_choice enum('DEFAULT','ALL','PREDICATE','LIST') NOT NULL DEFAULT 'DEFAULT',\n\t\tcolumn_ids TEXT(19372),\n\t\tPRIMARY KEY (table_id) CLUSTERED\n\t);"]
[2024/05/17 10:52:48.278 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=59] [category=ddl] [job="ID:59, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:58, RowCount:0, ArgLen:0, start time: 2024-05-17 10:52:48.274 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:48.280 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816656158130179] ["schema version"=29]
[2024/05/17 10:52:48.280 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=28] [neededSchemaVersion=29] ["start time"=202.875µs] [gotSchemaVersion=29] [phyTblIDs="[58]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:52:48.281 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:52:48.281 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=59] [version=29]
[2024/05/17 10:52:48.282 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=29] ["take time"=2.012333ms] [job="ID:59, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:58, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:48.274 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:48.285 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=59] [job="ID:59, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:58, RowCount:0, ArgLen:0, start time: 2024-05-17 10:52:48.274 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:48.286 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=59]
[2024/05/17 10:52:48.287 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:52:48.287 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816656158130179] ["schema version"=29]
[2024/05/17 10:52:48.287 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=29] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_history (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tstats_data longblob NOT NULL,\n\t\tseq_no bigint(64) NOT NULL comment 'sequence number of the gzipped data slice',\n\t\tversion bigint(64) NOT NULL comment 'stats version which corresponding to stats:version in EXPLAIN',\n\t\tcreate_time datetime(6) NOT NULL,\n\t\tUNIQUE KEY table_version_seq (table_id, version, seq_no),\n\t\tKEY table_create_time (table_id, create_time, seq_no),\n    \tKEY idx_create_time (create_time)\n\t);"] [user=]
[2024/05/17 10:52:48.288 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:61, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:60, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:48.288 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:52:48.288 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:61, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:60, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:48.288 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_history (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tstats_data longblob NOT NULL,\n\t\tseq_no bigint(64) NOT NULL comment 'sequence number of the gzipped data slice',\n\t\tversion bigint(64) NOT NULL comment 'stats version which corresponding to stats:version in EXPLAIN',\n\t\tcreate_time datetime(6) NOT NULL,\n\t\tUNIQUE KEY table_version_seq (table_id, version, seq_no),\n\t\tKEY table_create_time (table_id, create_time, seq_no),\n    \tKEY idx_create_time (create_time)\n\t);"]
[2024/05/17 10:52:48.291 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=61] [category=ddl] [job="ID:61, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:60, RowCount:0, ArgLen:0, start time: 2024-05-17 10:52:48.288 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:48.293 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816656161538051] ["schema version"=30]
[2024/05/17 10:52:48.293 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=29] [neededSchemaVersion=30] ["start time"=231.875µs] [gotSchemaVersion=30] [phyTblIDs="[60]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:52:48.293 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:52:48.293 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=61] [version=30]
[2024/05/17 10:52:48.295 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=30] ["take time"=2.527958ms] [job="ID:61, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:60, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:48.288 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:48.297 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=61] [job="ID:61, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:60, RowCount:0, ArgLen:0, start time: 2024-05-17 10:52:48.288 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:48.298 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=61]
[2024/05/17 10:52:48.298 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:52:48.298 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816656161538051] ["schema version"=30]
[2024/05/17 10:52:48.299 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=30] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_meta_history (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tmodify_count bigint(64) NOT NULL,\n\t\tcount bigint(64) NOT NULL,\n\t\tversion bigint(64) NOT NULL comment 'stats version which corresponding to stats:version in EXPLAIN',\n    \tsource varchar(40) NOT NULL,\n\t\tcreate_time datetime(6) NOT NULL,\n\t\tUNIQUE KEY table_version (table_id, version),\n\t\tKEY table_create_time (table_id, create_time),\n    \tKEY idx_create_time (create_time)\n\t);"] [user=]
[2024/05/17 10:52:48.300 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:63, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:62, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:48.299 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:52:48.300 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:63, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:62, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:48.299 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_meta_history (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tmodify_count bigint(64) NOT NULL,\n\t\tcount bigint(64) NOT NULL,\n\t\tversion bigint(64) NOT NULL comment 'stats version which corresponding to stats:version in EXPLAIN',\n    \tsource varchar(40) NOT NULL,\n\t\tcreate_time datetime(6) NOT NULL,\n\t\tUNIQUE KEY table_version (table_id, version),\n\t\tKEY table_create_time (table_id, create_time),\n    \tKEY idx_create_time (create_time)\n\t);"]
[2024/05/17 10:52:48.302 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=63] [category=ddl] [job="ID:63, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:62, RowCount:0, ArgLen:0, start time: 2024-05-17 10:52:48.299 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:48.304 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816656164421638] ["schema version"=31]
[2024/05/17 10:52:48.304 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=30] [neededSchemaVersion=31] ["start time"=230.666µs] [gotSchemaVersion=31] [phyTblIDs="[62]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:52:48.304 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:52:48.304 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=63] [version=31]
[2024/05/17 10:52:48.305 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=31] ["take time"=2.00425ms] [job="ID:63, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:62, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:48.299 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:48.308 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=63] [job="ID:63, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:62, RowCount:0, ArgLen:0, start time: 2024-05-17 10:52:48.299 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:48.310 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=63]
[2024/05/17 10:52:48.310 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:52:48.310 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816656164421638] ["schema version"=31]
[2024/05/17 10:52:48.310 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=31] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.analyze_jobs (\n\t\tid BIGINT(64) UNSIGNED NOT NULL AUTO_INCREMENT,\n\t\tupdate_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\ttable_schema CHAR(64) NOT NULL DEFAULT '',\n\t\ttable_name CHAR(64) NOT NULL DEFAULT '',\n\t\tpartition_name CHAR(64) NOT NULL DEFAULT '',\n\t\tjob_info TEXT NOT NULL,\n\t\tprocessed_rows BIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tstart_time TIMESTAMP,\n\t\tend_time TIMESTAMP,\n\t\tstate ENUM('pending', 'running', 'finished', 'failed') NOT NULL,\n\t\tfail_reason TEXT,\n\t\tinstance VARCHAR(512) NOT NULL comment 'address of the TiDB instance executing the analyze job',\n\t\tprocess_id BIGINT(64) UNSIGNED comment 'ID of the process executing the analyze job',\n\t\tPRIMARY KEY (id),\n\t\tKEY (update_time)\n\t);"] [user=]
[2024/05/17 10:52:48.311 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:65, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:64, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:48.311 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:52:48.311 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:65, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:64, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:48.311 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.analyze_jobs (\n\t\tid BIGINT(64) UNSIGNED NOT NULL AUTO_INCREMENT,\n\t\tupdate_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\ttable_schema CHAR(64) NOT NULL DEFAULT '',\n\t\ttable_name CHAR(64) NOT NULL DEFAULT '',\n\t\tpartition_name CHAR(64) NOT NULL DEFAULT '',\n\t\tjob_info TEXT NOT NULL,\n\t\tprocessed_rows BIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tstart_time TIMESTAMP,\n\t\tend_time TIMESTAMP,\n\t\tstate ENUM('pending', 'running', 'finished', 'failed') NOT NULL,\n\t\tfail_reason TEXT,\n\t\tinstance VARCHAR(512) NOT NULL comment 'address of the TiDB instance executing the analyze job',\n\t\tprocess_id BIGINT(64) UNSIGNED comment 'ID of the process executing the analyze job',\n\t\tPRIMARY KEY (id),\n\t\tKEY (update_time)\n\t);"]
[2024/05/17 10:52:48.314 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=65] [category=ddl] [job="ID:65, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:64, RowCount:0, ArgLen:0, start time: 2024-05-17 10:52:48.311 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:48.316 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816656167567361] ["schema version"=32]
[2024/05/17 10:52:48.316 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=31] [neededSchemaVersion=32] ["start time"=278.125µs] [gotSchemaVersion=32] [phyTblIDs="[64]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:52:48.316 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:52:48.316 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=65] [version=32]
[2024/05/17 10:52:48.317 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=32] ["take time"=2.003958ms] [job="ID:65, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:64, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:48.311 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:48.321 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=65] [job="ID:65, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:64, RowCount:0, ArgLen:0, start time: 2024-05-17 10:52:48.311 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:48.322 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=65]
[2024/05/17 10:52:48.322 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:52:48.322 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816656167567361] ["schema version"=32]
[2024/05/17 10:52:48.322 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=32] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.advisory_locks (\n\t\tlock_name VARCHAR(64) NOT NULL PRIMARY KEY\n\t);"] [user=]
[2024/05/17 10:52:48.323 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:67, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:66, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:48.323 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:52:48.323 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:67, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:66, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:48.323 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.advisory_locks (\n\t\tlock_name VARCHAR(64) NOT NULL PRIMARY KEY\n\t);"]
[2024/05/17 10:52:48.326 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=67] [category=ddl] [job="ID:67, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:66, RowCount:0, ArgLen:0, start time: 2024-05-17 10:52:48.323 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:48.327 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816656170713088] ["schema version"=33]
[2024/05/17 10:52:48.327 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=32] [neededSchemaVersion=33] ["start time"=111.791µs] [gotSchemaVersion=33] [phyTblIDs="[66]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:52:48.327 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:52:48.327 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=67] [version=33]
[2024/05/17 10:52:48.329 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=33] ["take time"=2.369459ms] [job="ID:67, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:66, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:48.323 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:48.332 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=67] [job="ID:67, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:66, RowCount:0, ArgLen:0, start time: 2024-05-17 10:52:48.323 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:48.334 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=67]
[2024/05/17 10:52:48.334 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:52:48.334 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816656170713088] ["schema version"=33]
[2024/05/17 10:52:48.340 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:69, Type:create view, State:queueing, SchemaState:none, SchemaID:1, TableID:68, RowCount:0, ArgLen:3, start time: 2024-05-17 10:52:48.338 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:52:48.340 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:69, Type:create view, State:queueing, SchemaState:none, SchemaID:1, TableID:68, RowCount:0, ArgLen:3, start time: 2024-05-17 10:52:48.338 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE OR REPLACE VIEW mysql.tidb_mdl_view as (\n\t\tSELECT tidb_mdl_info.job_id,\n\t\t\tJSON_UNQUOTE(JSON_EXTRACT(cast(cast(job_meta as char) as json), \"$.schema_name\")) as db_name,\n\t\t\tJSON_UNQUOTE(JSON_EXTRACT(cast(cast(job_meta as char) as json), \"$.table_name\")) as table_name,\n\t\t\tJSON_UNQUOTE(JSON_EXTRACT(cast(cast(job_meta as char) as json), \"$.query\")) as query,\n\t\t\tsession_id,\n\t\t\tcluster_tidb_trx.start_time,\n\t\t\ttidb_decode_sql_digests(all_sql_digests, 4096) AS SQL_DIGESTS\n\t\tFROM mysql.tidb_ddl_job,\n\t\t\tmysql.tidb_mdl_info,\n\t\t\tinformation_schema.cluster_tidb_trx\n\t\tWHERE tidb_ddl_job.job_id=tidb_mdl_info.job_id\n\t\t\tAND CONCAT(',', tidb_mdl_info.table_ids, ',') REGEXP CONCAT(',(', REPLACE(cluster_tidb_trx.related_table_ids, ',', '|'), '),') != 0\n\t);"]
[2024/05/17 10:52:48.345 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=69] [category=ddl] [job="ID:69, Type:create view, State:queueing, SchemaState:none, SchemaID:1, TableID:68, RowCount:0, ArgLen:0, start time: 2024-05-17 10:52:48.338 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:48.347 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816656175955968] ["schema version"=34]
[2024/05/17 10:52:48.347 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=33] [neededSchemaVersion=34] ["start time"=272.5µs] [gotSchemaVersion=34] [phyTblIDs="[68]"] [actionTypes="[21]"] [diffTypes="[\"create view\"]"]
[2024/05/17 10:52:48.349 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:52:48.349 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=69] [version=34]
[2024/05/17 10:52:48.351 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=34] ["take time"=4.525958ms] [job="ID:69, Type:create view, State:done, SchemaState:public, SchemaID:1, TableID:68, RowCount:0, ArgLen:3, start time: 2024-05-17 10:52:48.338 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:48.356 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=69] [job="ID:69, Type:create view, State:synced, SchemaState:public, SchemaID:1, TableID:68, RowCount:0, ArgLen:0, start time: 2024-05-17 10:52:48.338 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:48.358 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=69]
[2024/05/17 10:52:48.358 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:52:48.358 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816656175955968] ["schema version"=34]
[2024/05/17 10:52:48.358 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=34] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.plan_replayer_status (\n\t\tsql_digest VARCHAR(128),\n\t\tplan_digest VARCHAR(128),\n\t\torigin_sql TEXT,\n\t\ttoken VARCHAR(128),\n\t\tupdate_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\tfail_reason TEXT,\n\t\tinstance VARCHAR(512) NOT NULL comment 'address of the TiDB instance executing the plan replayer job');"] [user=]
[2024/05/17 10:52:48.362 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:71, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:70, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:48.361 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:52:48.362 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:71, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:70, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:48.361 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.plan_replayer_status (\n\t\tsql_digest VARCHAR(128),\n\t\tplan_digest VARCHAR(128),\n\t\torigin_sql TEXT,\n\t\ttoken VARCHAR(128),\n\t\tupdate_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\tfail_reason TEXT,\n\t\tinstance VARCHAR(512) NOT NULL comment 'address of the TiDB instance executing the plan replayer job');"]
[2024/05/17 10:52:48.365 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=71] [category=ddl] [job="ID:71, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:70, RowCount:0, ArgLen:0, start time: 2024-05-17 10:52:48.361 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:48.367 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816656180936705] ["schema version"=35]
[2024/05/17 10:52:48.367 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=34] [neededSchemaVersion=35] ["start time"=292µs] [gotSchemaVersion=35] [phyTblIDs="[70]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:52:48.368 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:52:48.368 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=71] [version=35]
[2024/05/17 10:52:48.369 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=35] ["take time"=2.835208ms] [job="ID:71, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:70, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:48.361 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:48.373 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=71] [job="ID:71, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:70, RowCount:0, ArgLen:0, start time: 2024-05-17 10:52:48.361 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:48.375 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=71]
[2024/05/17 10:52:48.375 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:52:48.375 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816656180936705] ["schema version"=35]
[2024/05/17 10:52:48.375 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=35] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.plan_replayer_task (\n\t\tsql_digest VARCHAR(128) NOT NULL,\n\t\tplan_digest VARCHAR(128) NOT NULL,\n\t\tupdate_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\tPRIMARY KEY (sql_digest,plan_digest));"] [user=]
[2024/05/17 10:52:48.376 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:73, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:72, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:48.375 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:52:48.376 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:73, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:72, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:48.375 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.plan_replayer_task (\n\t\tsql_digest VARCHAR(128) NOT NULL,\n\t\tplan_digest VARCHAR(128) NOT NULL,\n\t\tupdate_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\tPRIMARY KEY (sql_digest,plan_digest));"]
[2024/05/17 10:52:48.379 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=73] [category=ddl] [job="ID:73, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:72, RowCount:0, ArgLen:0, start time: 2024-05-17 10:52:48.375 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:48.380 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816656184344584] ["schema version"=36]
[2024/05/17 10:52:48.380 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=35] [neededSchemaVersion=36] ["start time"=167µs] [gotSchemaVersion=36] [phyTblIDs="[72]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:52:48.380 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:52:48.380 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=73] [version=36]
[2024/05/17 10:52:48.382 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=36] ["take time"=2.603875ms] [job="ID:73, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:72, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:48.375 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:48.385 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=73] [job="ID:73, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:72, RowCount:0, ArgLen:0, start time: 2024-05-17 10:52:48.375 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:48.386 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=73]
[2024/05/17 10:52:48.386 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:52:48.386 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816656184344584] ["schema version"=36]
[2024/05/17 10:52:48.386 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=36] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_table_locked(\n\t\ttable_id bigint(64) NOT NULL,\n\t\tmodify_count bigint(64) NOT NULL DEFAULT 0,\n\t\tcount bigint(64) NOT NULL DEFAULT 0,\n\t\tversion bigint(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tPRIMARY KEY (table_id));"] [user=]
[2024/05/17 10:52:48.387 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:75, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:74, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:48.387 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:52:48.387 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:75, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:74, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:48.387 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_table_locked(\n\t\ttable_id bigint(64) NOT NULL,\n\t\tmodify_count bigint(64) NOT NULL DEFAULT 0,\n\t\tcount bigint(64) NOT NULL DEFAULT 0,\n\t\tversion bigint(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tPRIMARY KEY (table_id));"]
[2024/05/17 10:52:48.392 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=75] [category=ddl] [job="ID:75, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:74, RowCount:0, ArgLen:0, start time: 2024-05-17 10:52:48.387 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:48.393 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816656188014592] ["schema version"=37]
[2024/05/17 10:52:48.393 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=36] [neededSchemaVersion=37] ["start time"=210.75µs] [gotSchemaVersion=37] [phyTblIDs="[74]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:52:48.394 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:52:48.394 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=75] [version=37]
[2024/05/17 10:52:48.395 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=37] ["take time"=2.097625ms] [job="ID:75, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:74, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:48.387 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:48.396 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816656188014592] ["schema version"=37]
[2024/05/17 10:52:48.400 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=75] [job="ID:75, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:74, RowCount:0, ArgLen:0, start time: 2024-05-17 10:52:48.387 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:48.402 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=75]
[2024/05/17 10:52:48.402 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:52:48.402 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816656188014592] ["schema version"=37]
[2024/05/17 10:52:48.402 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=37] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_ttl_table_status (\n\t\ttable_id bigint(64) PRIMARY KEY,\n        parent_table_id bigint(64),\n        table_statistics text DEFAULT NULL,\n\t\tlast_job_id varchar(64) DEFAULT NULL,\n\t\tlast_job_start_time timestamp NULL DEFAULT NULL,\n\t\tlast_job_finish_time timestamp NULL DEFAULT NULL,\n\t\tlast_job_ttl_expire timestamp NULL DEFAULT NULL,\n        last_job_summary text DEFAULT NULL,\n\t\tcurrent_job_id varchar(64) DEFAULT NULL,\n\t\tcurrent_job_owner_id varchar(64) DEFAULT NULL,\n\t\tcurrent_job_owner_addr varchar(256) DEFAULT NULL,\n\t\tcurrent_job_owner_hb_time timestamp,\n\t\tcurrent_job_start_time timestamp NULL DEFAULT NULL,\n\t\tcurrent_job_ttl_expire timestamp NULL DEFAULT NULL,\n\t\tcurrent_job_state text DEFAULT NULL,\n\t\tcurrent_job_status varchar(64) DEFAULT NULL,\n  \t\tcurrent_job_status_update_time timestamp NULL DEFAULT NULL);"] [user=]
[2024/05/17 10:52:48.404 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:77, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:76, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:48.403 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:52:48.404 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:77, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:76, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:48.403 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_ttl_table_status (\n\t\ttable_id bigint(64) PRIMARY KEY,\n        parent_table_id bigint(64),\n        table_statistics text DEFAULT NULL,\n\t\tlast_job_id varchar(64) DEFAULT NULL,\n\t\tlast_job_start_time timestamp NULL DEFAULT NULL,\n\t\tlast_job_finish_time timestamp NULL DEFAULT NULL,\n\t\tlast_job_ttl_expire timestamp NULL DEFAULT NULL,\n        last_job_summary text DEFAULT NULL,\n\t\tcurrent_job_id varchar(64) DEFAULT NULL,\n\t\tcurrent_job_owner_id varchar(64) DEFAULT NULL,\n\t\tcurrent_job_owner_addr varchar(256) DEFAULT NULL,\n\t\tcurrent_job_owner_hb_time timestamp,\n\t\tcurrent_job_start_time timestamp NULL DEFAULT NULL,\n\t\tcurrent_job_ttl_expire timestamp NULL DEFAULT NULL,\n\t\tcurrent_job_state text DEFAULT NULL,\n\t\tcurrent_job_status varchar(64) DEFAULT NULL,\n  \t\tcurrent_job_status_update_time timestamp NULL DEFAULT NULL);"]
[2024/05/17 10:52:48.409 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=77] [category=ddl] [job="ID:77, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:76, RowCount:0, ArgLen:0, start time: 2024-05-17 10:52:48.403 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:48.411 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816656192471040] ["schema version"=38]
[2024/05/17 10:52:48.411 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=37] [neededSchemaVersion=38] ["start time"=331.375µs] [gotSchemaVersion=38] [phyTblIDs="[76]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:52:48.411 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:52:48.411 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=77] [version=38]
[2024/05/17 10:52:48.412 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=38] ["take time"=2.018459ms] [job="ID:77, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:76, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:48.403 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:48.416 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=77] [job="ID:77, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:76, RowCount:0, ArgLen:0, start time: 2024-05-17 10:52:48.403 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:48.418 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=77]
[2024/05/17 10:52:48.418 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:52:48.418 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816656192471040] ["schema version"=38]
[2024/05/17 10:52:48.418 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=38] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_ttl_task (\n\t\tjob_id varchar(64) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tscan_id int NOT NULL,\n\t\tscan_range_start BLOB,\n\t\tscan_range_end BLOB,\n\t\texpire_time timestamp NOT NULL,\n\t\towner_id varchar(64) DEFAULT NULL,\n\t\towner_addr varchar(64) DEFAULT NULL,\n\t\towner_hb_time timestamp DEFAULT NULL,\n\t\tstatus varchar(64) DEFAULT 'waiting',\n\t\tstatus_update_time timestamp NULL DEFAULT NULL,\n\t\tstate text,\n\t\tcreated_time timestamp NOT NULL,\n\t\tprimary key(job_id, scan_id),\n\t\tkey(created_time));"] [user=]
[2024/05/17 10:52:48.420 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:79, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:78, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:48.419 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:52:48.420 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:79, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:78, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:48.419 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_ttl_task (\n\t\tjob_id varchar(64) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tscan_id int NOT NULL,\n\t\tscan_range_start BLOB,\n\t\tscan_range_end BLOB,\n\t\texpire_time timestamp NOT NULL,\n\t\towner_id varchar(64) DEFAULT NULL,\n\t\towner_addr varchar(64) DEFAULT NULL,\n\t\towner_hb_time timestamp DEFAULT NULL,\n\t\tstatus varchar(64) DEFAULT 'waiting',\n\t\tstatus_update_time timestamp NULL DEFAULT NULL,\n\t\tstate text,\n\t\tcreated_time timestamp NOT NULL,\n\t\tprimary key(job_id, scan_id),\n\t\tkey(created_time));"]
[2024/05/17 10:52:48.423 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=79] [category=ddl] [job="ID:79, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:78, RowCount:0, ArgLen:0, start time: 2024-05-17 10:52:48.419 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:48.425 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816656196141056] ["schema version"=39]
[2024/05/17 10:52:48.425 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=38] [neededSchemaVersion=39] ["start time"=343µs] [gotSchemaVersion=39] [phyTblIDs="[78]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:52:48.425 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:52:48.425 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=79] [version=39]
[2024/05/17 10:52:48.426 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=39] ["take time"=2.009ms] [job="ID:79, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:78, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:48.419 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:48.430 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=79] [job="ID:79, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:78, RowCount:0, ArgLen:0, start time: 2024-05-17 10:52:48.419 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:48.432 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=79]
[2024/05/17 10:52:48.432 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:52:48.432 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816656196141056] ["schema version"=39]
[2024/05/17 10:52:48.432 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=39] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_ttl_job_history (\n\t\tjob_id varchar(64) PRIMARY KEY,\n\t\ttable_id bigint(64) NOT NULL,\n        parent_table_id bigint(64) NOT NULL,\n    \ttable_schema varchar(64) NOT NULL,\n\t\ttable_name varchar(64) NOT NULL,\n    \tpartition_name varchar(64) DEFAULT NULL,\n\t\tcreate_time timestamp NOT NULL,\n\t\tfinish_time timestamp NOT NULL,\n\t\tttl_expire timestamp NOT NULL,\n        summary_text text,\n\t\texpired_rows bigint(64) DEFAULT NULL,\n    \tdeleted_rows bigint(64) DEFAULT NULL,\n    \terror_delete_rows bigint(64) DEFAULT NULL,\n    \tstatus varchar(64) NOT NULL,\n    \tkey(table_schema, table_name, create_time),\n    \tkey(parent_table_id, create_time),\n    \tkey(create_time)\n\t);"] [user=]
[2024/05/17 10:52:48.434 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:81, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:80, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:48.433 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:52:48.434 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:81, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:80, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:48.433 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_ttl_job_history (\n\t\tjob_id varchar(64) PRIMARY KEY,\n\t\ttable_id bigint(64) NOT NULL,\n        parent_table_id bigint(64) NOT NULL,\n    \ttable_schema varchar(64) NOT NULL,\n\t\ttable_name varchar(64) NOT NULL,\n    \tpartition_name varchar(64) DEFAULT NULL,\n\t\tcreate_time timestamp NOT NULL,\n\t\tfinish_time timestamp NOT NULL,\n\t\tttl_expire timestamp NOT NULL,\n        summary_text text,\n\t\texpired_rows bigint(64) DEFAULT NULL,\n    \tdeleted_rows bigint(64) DEFAULT NULL,\n    \terror_delete_rows bigint(64) DEFAULT NULL,\n    \tstatus varchar(64) NOT NULL,\n    \tkey(table_schema, table_name, create_time),\n    \tkey(parent_table_id, create_time),\n    \tkey(create_time)\n\t);"]
[2024/05/17 10:52:48.438 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=81] [category=ddl] [job="ID:81, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:80, RowCount:0, ArgLen:0, start time: 2024-05-17 10:52:48.433 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:48.440 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816656200073218] ["schema version"=40]
[2024/05/17 10:52:48.440 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=39] [neededSchemaVersion=40] ["start time"=367.625µs] [gotSchemaVersion=40] [phyTblIDs="[80]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:52:48.441 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:52:48.441 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=81] [version=40]
[2024/05/17 10:52:48.442 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=40] ["take time"=2.234084ms] [job="ID:81, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:80, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:48.433 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:48.445 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=81] [job="ID:81, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:80, RowCount:0, ArgLen:0, start time: 2024-05-17 10:52:48.433 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:48.447 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=81]
[2024/05/17 10:52:48.447 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:52:48.447 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816656200073218] ["schema version"=40]
[2024/05/17 10:52:48.447 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=40] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_global_task (\n\t\tid BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n    \ttask_key VARCHAR(256) NOT NULL,\n\t\ttype VARCHAR(256) NOT NULL,\n\t\tdispatcher_id VARCHAR(261),\n\t\tstate VARCHAR(64) NOT NULL,\n\t\tpriority INT DEFAULT 1,\n\t\tcreate_time TIMESTAMP,\n\t\tstart_time TIMESTAMP,\n\t\tstate_update_time TIMESTAMP,\n\t\tend_time TIMESTAMP,\n\t\tmeta LONGBLOB,\n\t\tconcurrency INT(11),\n\t\tstep INT(11),\n\t\ttarget_scope VARCHAR(256) DEFAULT \"\",\n\t\terror BLOB,\n\t\tkey(state),\n      \tUNIQUE KEY task_key(task_key)\n\t);"] [user=]
[2024/05/17 10:52:48.448 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:83, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:82, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:48.447 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:52:48.448 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:83, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:82, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:48.447 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_global_task (\n\t\tid BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n    \ttask_key VARCHAR(256) NOT NULL,\n\t\ttype VARCHAR(256) NOT NULL,\n\t\tdispatcher_id VARCHAR(261),\n\t\tstate VARCHAR(64) NOT NULL,\n\t\tpriority INT DEFAULT 1,\n\t\tcreate_time TIMESTAMP,\n\t\tstart_time TIMESTAMP,\n\t\tstate_update_time TIMESTAMP,\n\t\tend_time TIMESTAMP,\n\t\tmeta LONGBLOB,\n\t\tconcurrency INT(11),\n\t\tstep INT(11),\n\t\ttarget_scope VARCHAR(256) DEFAULT \"\",\n\t\terror BLOB,\n\t\tkey(state),\n      \tUNIQUE KEY task_key(task_key)\n\t);"]
[2024/05/17 10:52:48.451 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=83] [category=ddl] [job="ID:83, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:82, RowCount:0, ArgLen:0, start time: 2024-05-17 10:52:48.447 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:48.453 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816656203743232] ["schema version"=41]
[2024/05/17 10:52:48.453 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=40] [neededSchemaVersion=41] ["start time"=319.459µs] [gotSchemaVersion=41] [phyTblIDs="[82]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:52:48.453 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:52:48.453 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=83] [version=41]
[2024/05/17 10:52:48.455 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=41] ["take time"=2.53175ms] [job="ID:83, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:82, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:48.447 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:48.461 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=83] [job="ID:83, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:82, RowCount:0, ArgLen:0, start time: 2024-05-17 10:52:48.447 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:48.462 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=83]
[2024/05/17 10:52:48.463 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:52:48.463 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816656203743232] ["schema version"=41]
[2024/05/17 10:52:48.463 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=41] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_global_task_history (\n\t\tid BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n    \ttask_key VARCHAR(256) NOT NULL,\n\t\ttype VARCHAR(256) NOT NULL,\n\t\tdispatcher_id VARCHAR(261),\n\t\tstate VARCHAR(64) NOT NULL,\n\t\tpriority INT DEFAULT 1,\n\t\tcreate_time TIMESTAMP,\n\t\tstart_time TIMESTAMP,\n\t\tstate_update_time TIMESTAMP,\n\t\tend_time TIMESTAMP,\n\t\tmeta LONGBLOB,\n\t\tconcurrency INT(11),\n\t\tstep INT(11),\n\t\ttarget_scope VARCHAR(256) DEFAULT \"\",\n\t\terror BLOB,\n\t\tkey(state),\n      \tUNIQUE KEY task_key(task_key)\n\t);"] [user=]
[2024/05/17 10:52:48.464 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:85, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:84, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:48.463 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:52:48.464 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:85, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:84, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:48.463 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_global_task_history (\n\t\tid BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n    \ttask_key VARCHAR(256) NOT NULL,\n\t\ttype VARCHAR(256) NOT NULL,\n\t\tdispatcher_id VARCHAR(261),\n\t\tstate VARCHAR(64) NOT NULL,\n\t\tpriority INT DEFAULT 1,\n\t\tcreate_time TIMESTAMP,\n\t\tstart_time TIMESTAMP,\n\t\tstate_update_time TIMESTAMP,\n\t\tend_time TIMESTAMP,\n\t\tmeta LONGBLOB,\n\t\tconcurrency INT(11),\n\t\tstep INT(11),\n\t\ttarget_scope VARCHAR(256) DEFAULT \"\",\n\t\terror BLOB,\n\t\tkey(state),\n      \tUNIQUE KEY task_key(task_key)\n\t);"]
[2024/05/17 10:52:48.467 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=85] [category=ddl] [job="ID:85, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:84, RowCount:0, ArgLen:0, start time: 2024-05-17 10:52:48.463 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:48.469 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816656207675392] ["schema version"=42]
[2024/05/17 10:52:48.469 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=41] [neededSchemaVersion=42] ["start time"=329.417µs] [gotSchemaVersion=42] [phyTblIDs="[84]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:52:48.469 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:52:48.469 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=85] [version=42]
[2024/05/17 10:52:48.471 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=42] ["take time"=2.482583ms] [job="ID:85, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:84, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:48.463 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:48.473 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=85] [job="ID:85, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:84, RowCount:0, ArgLen:0, start time: 2024-05-17 10:52:48.463 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:48.475 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=85]
[2024/05/17 10:52:48.475 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:52:48.475 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816656207675392] ["schema version"=42]
[2024/05/17 10:52:48.475 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=42] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_import_jobs (\n\t\tid bigint(64) NOT NULL AUTO_INCREMENT,\n\t\tcreate_time TIMESTAMP(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6),\n\t\tstart_time TIMESTAMP(6) NULL DEFAULT NULL,\n\t\tupdate_time TIMESTAMP(6) NULL DEFAULT NULL,\n\t\tend_time TIMESTAMP(6) NULL DEFAULT NULL,\n\t\ttable_schema VARCHAR(64) NOT NULL,\n\t\ttable_name VARCHAR(64) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tcreated_by VARCHAR(300) NOT NULL,\n\t\tparameters text NOT NULL,\n\t\tsource_file_size bigint(64) NOT NULL,\n\t\tstatus VARCHAR(64) NOT NULL,\n\t\tstep VARCHAR(64) NOT NULL,\n\t\tsummary text DEFAULT NULL,\n\t\terror_message TEXT DEFAULT NULL,\n\t\tPRIMARY KEY (id),\n\t\tKEY (created_by),\n\t\tKEY (status));"] [user=]
[2024/05/17 10:52:48.476 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:87, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:86, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:48.475 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:52:48.476 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:87, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:86, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:48.475 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_import_jobs (\n\t\tid bigint(64) NOT NULL AUTO_INCREMENT,\n\t\tcreate_time TIMESTAMP(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6),\n\t\tstart_time TIMESTAMP(6) NULL DEFAULT NULL,\n\t\tupdate_time TIMESTAMP(6) NULL DEFAULT NULL,\n\t\tend_time TIMESTAMP(6) NULL DEFAULT NULL,\n\t\ttable_schema VARCHAR(64) NOT NULL,\n\t\ttable_name VARCHAR(64) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tcreated_by VARCHAR(300) NOT NULL,\n\t\tparameters text NOT NULL,\n\t\tsource_file_size bigint(64) NOT NULL,\n\t\tstatus VARCHAR(64) NOT NULL,\n\t\tstep VARCHAR(64) NOT NULL,\n\t\tsummary text DEFAULT NULL,\n\t\terror_message TEXT DEFAULT NULL,\n\t\tPRIMARY KEY (id),\n\t\tKEY (created_by),\n\t\tKEY (status));"]
[2024/05/17 10:52:48.479 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=87] [category=ddl] [job="ID:87, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:86, RowCount:0, ArgLen:0, start time: 2024-05-17 10:52:48.475 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:48.480 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816656210821120] ["schema version"=43]
[2024/05/17 10:52:48.480 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=42] [neededSchemaVersion=43] ["start time"=343.084µs] [gotSchemaVersion=43] [phyTblIDs="[86]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:52:48.481 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:52:48.481 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=87] [version=43]
[2024/05/17 10:52:48.483 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=43] ["take time"=2.450833ms] [job="ID:87, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:86, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:48.475 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:48.485 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=87] [job="ID:87, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:86, RowCount:0, ArgLen:0, start time: 2024-05-17 10:52:48.475 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:48.486 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=87]
[2024/05/17 10:52:48.486 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:52:48.486 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816656210821120] ["schema version"=43]
[2024/05/17 10:52:48.487 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=43] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_runaway_watch (\n\t\tid BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n\t\tresource_group_name varchar(32) not null,\n\t\tstart_time datetime(6) NOT NULL,\n\t\tend_time datetime(6),\n\t\twatch bigint(10) NOT NULL,\n\t\twatch_text TEXT NOT NULL,\n\t\tsource varchar(512) NOT NULL,\n\t\taction bigint(10),\n\t\tINDEX sql_index(resource_group_name,watch_text(700)) COMMENT \"accelerate the speed when select quarantined query\",\n\t\tINDEX time_index(end_time) COMMENT \"accelerate the speed when querying with active watch\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"] [user=]
[2024/05/17 10:52:48.488 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:89, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:88, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:48.487 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:52:48.488 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:89, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:88, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:48.487 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_runaway_watch (\n\t\tid BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n\t\tresource_group_name varchar(32) not null,\n\t\tstart_time datetime(6) NOT NULL,\n\t\tend_time datetime(6),\n\t\twatch bigint(10) NOT NULL,\n\t\twatch_text TEXT NOT NULL,\n\t\tsource varchar(512) NOT NULL,\n\t\taction bigint(10),\n\t\tINDEX sql_index(resource_group_name,watch_text(700)) COMMENT \"accelerate the speed when select quarantined query\",\n\t\tINDEX time_index(end_time) COMMENT \"accelerate the speed when querying with active watch\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"]
[2024/05/17 10:52:48.491 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=89] [category=ddl] [job="ID:89, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:88, RowCount:0, ArgLen:0, start time: 2024-05-17 10:52:48.487 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:48.493 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816656213966850] ["schema version"=44]
[2024/05/17 10:52:48.493 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=43] [neededSchemaVersion=44] ["start time"=279.292µs] [gotSchemaVersion=44] [phyTblIDs="[88]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:52:48.493 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:52:48.493 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=89] [version=44]
[2024/05/17 10:52:48.495 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=44] ["take time"=2.497625ms] [job="ID:89, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:88, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:48.487 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:48.498 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=89] [job="ID:89, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:88, RowCount:0, ArgLen:0, start time: 2024-05-17 10:52:48.487 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:48.500 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=89]
[2024/05/17 10:52:48.500 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:52:48.500 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816656213966850] ["schema version"=44]
[2024/05/17 10:52:48.500 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=44] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_runaway_queries (\n\t\tresource_group_name varchar(32) not null,\n\t\ttime TIMESTAMP NOT NULL,\n\t\tmatch_type varchar(12) NOT NULL,\n\t\taction varchar(12) NOT NULL,\n\t\toriginal_sql TEXT NOT NULL,\n\t\tplan_digest TEXT NOT NULL,\n\t\ttidb_server varchar(512),\n\t\tINDEX plan_index(plan_digest(64)) COMMENT \"accelerate the speed when select runaway query\",\n\t\tINDEX time_index(time) COMMENT \"accelerate the speed when querying with active watch\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"] [user=]
[2024/05/17 10:52:48.501 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:91, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:90, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:48.5 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:52:48.501 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:91, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:90, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:48.5 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_runaway_queries (\n\t\tresource_group_name varchar(32) not null,\n\t\ttime TIMESTAMP NOT NULL,\n\t\tmatch_type varchar(12) NOT NULL,\n\t\taction varchar(12) NOT NULL,\n\t\toriginal_sql TEXT NOT NULL,\n\t\tplan_digest TEXT NOT NULL,\n\t\ttidb_server varchar(512),\n\t\tINDEX plan_index(plan_digest(64)) COMMENT \"accelerate the speed when select runaway query\",\n\t\tINDEX time_index(time) COMMENT \"accelerate the speed when querying with active watch\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"]
[2024/05/17 10:52:48.505 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=91] [category=ddl] [job="ID:91, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:90, RowCount:0, ArgLen:0, start time: 2024-05-17 10:52:48.5 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:48.508 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816656217899008] ["schema version"=45]
[2024/05/17 10:52:48.508 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=44] [neededSchemaVersion=45] ["start time"=298.708µs] [gotSchemaVersion=45] [phyTblIDs="[90]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:52:48.508 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:52:48.508 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=91] [version=45]
[2024/05/17 10:52:48.510 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=45] ["take time"=2.730458ms] [job="ID:91, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:90, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:48.5 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:48.516 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=91] [job="ID:91, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:90, RowCount:0, ArgLen:0, start time: 2024-05-17 10:52:48.5 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:48.519 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=91]
[2024/05/17 10:52:48.519 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:52:48.519 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816656217899008] ["schema version"=45]
[2024/05/17 10:52:48.520 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=45] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS `mysql`.`tidb_timers` (\n\t\tID BIGINT(64) UNSIGNED NOT NULL AUTO_INCREMENT,\n\t\tNAMESPACE VARCHAR(256) NOT NULL,\n\t\tTIMER_KEY VARCHAR(256) NOT NULL,\n\t\tTIMER_DATA BLOB,\n\t\tTIMEZONE VARCHAR(64) NOT NULL,\n\t\tSCHED_POLICY_TYPE VARCHAR(32) NOT NULL,\n\t\tSCHED_POLICY_EXPR VARCHAR(256) NOT NULL,\n\t\tHOOK_CLASS VARCHAR(64) NOT NULL,\n\t\tWATERMARK TIMESTAMP DEFAULT NULL,\n\t\tENABLE TINYINT(2) NOT NULL,\n\t\tTIMER_EXT JSON NOT NULL,\n\t\tEVENT_STATUS VARCHAR(32) NOT NULL,\n\t\tEVENT_ID VARCHAR(64) NOT NULL,\n\t\tEVENT_DATA BLOB,\n\t\tEVENT_START TIMESTAMP DEFAULT NULL,\n\t\tSUMMARY_DATA BLOB,\n\t\tCREATE_TIME TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,\n\t\tUPDATE_TIME TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\tVERSION BIGINT(64) UNSIGNED NOT NULL,\n\t\tPRIMARY KEY (ID),\n\t\tUNIQUE KEY timer_key(NAMESPACE, TIMER_KEY),\n\t\tKEY hook_class(HOOK_CLASS)\n\t)"] [user=]
[2024/05/17 10:52:48.523 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:93, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:92, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:48.521 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:52:48.523 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:93, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:92, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:48.521 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS `mysql`.`tidb_timers` (\n\t\tID BIGINT(64) UNSIGNED NOT NULL AUTO_INCREMENT,\n\t\tNAMESPACE VARCHAR(256) NOT NULL,\n\t\tTIMER_KEY VARCHAR(256) NOT NULL,\n\t\tTIMER_DATA BLOB,\n\t\tTIMEZONE VARCHAR(64) NOT NULL,\n\t\tSCHED_POLICY_TYPE VARCHAR(32) NOT NULL,\n\t\tSCHED_POLICY_EXPR VARCHAR(256) NOT NULL,\n\t\tHOOK_CLASS VARCHAR(64) NOT NULL,\n\t\tWATERMARK TIMESTAMP DEFAULT NULL,\n\t\tENABLE TINYINT(2) NOT NULL,\n\t\tTIMER_EXT JSON NOT NULL,\n\t\tEVENT_STATUS VARCHAR(32) NOT NULL,\n\t\tEVENT_ID VARCHAR(64) NOT NULL,\n\t\tEVENT_DATA BLOB,\n\t\tEVENT_START TIMESTAMP DEFAULT NULL,\n\t\tSUMMARY_DATA BLOB,\n\t\tCREATE_TIME TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,\n\t\tUPDATE_TIME TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\tVERSION BIGINT(64) UNSIGNED NOT NULL,\n\t\tPRIMARY KEY (ID),\n\t\tUNIQUE KEY timer_key(NAMESPACE, TIMER_KEY),\n\t\tKEY hook_class(HOOK_CLASS)\n\t)"]
[2024/05/17 10:52:48.527 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=93] [category=ddl] [job="ID:93, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:92, RowCount:0, ArgLen:0, start time: 2024-05-17 10:52:48.521 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:48.532 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816656224190464] ["schema version"=46]
[2024/05/17 10:52:48.532 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=45] [neededSchemaVersion=46] ["start time"=558.125µs] [gotSchemaVersion=46] [phyTblIDs="[92]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:52:48.532 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:52:48.532 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=93] [version=46]
[2024/05/17 10:52:48.533 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=46] ["take time"=2.543875ms] [job="ID:93, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:92, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:48.521 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:48.541 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=93] [job="ID:93, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:92, RowCount:0, ArgLen:0, start time: 2024-05-17 10:52:48.521 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:48.543 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=93]
[2024/05/17 10:52:48.543 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:52:48.543 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816656224190464] ["schema version"=46]
[2024/05/17 10:52:48.543 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=46] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_runaway_watch_done (\n\t\tid BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n\t\trecord_id BIGINT(20) not null,\n\t\tresource_group_name varchar(32) not null,\n\t\tstart_time datetime(6) NOT NULL,\n\t\tend_time datetime(6),\n\t\twatch bigint(10) NOT NULL,\n\t\twatch_text TEXT NOT NULL,\n\t\tsource varchar(512) NOT NULL,\n\t\taction bigint(10),\n\t\tdone_time TIMESTAMP(6) NOT NULL\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"] [user=]
[2024/05/17 10:52:48.544 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:95, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:94, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:48.544 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:52:48.544 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:95, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:94, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:48.544 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_runaway_watch_done (\n\t\tid BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n\t\trecord_id BIGINT(20) not null,\n\t\tresource_group_name varchar(32) not null,\n\t\tstart_time datetime(6) NOT NULL,\n\t\tend_time datetime(6),\n\t\twatch bigint(10) NOT NULL,\n\t\twatch_text TEXT NOT NULL,\n\t\tsource varchar(512) NOT NULL,\n\t\taction bigint(10),\n\t\tdone_time TIMESTAMP(6) NOT NULL\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"]
[2024/05/17 10:52:48.547 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=95] [category=ddl] [job="ID:95, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:94, RowCount:0, ArgLen:0, start time: 2024-05-17 10:52:48.544 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:48.549 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816656228646914] ["schema version"=47]
[2024/05/17 10:52:48.549 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=46] [neededSchemaVersion=47] ["start time"=249.125µs] [gotSchemaVersion=47] [phyTblIDs="[94]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:52:48.549 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:52:48.549 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=95] [version=47]
[2024/05/17 10:52:48.551 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=47] ["take time"=2.030375ms] [job="ID:95, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:94, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:48.544 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:48.554 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=95] [job="ID:95, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:94, RowCount:0, ArgLen:0, start time: 2024-05-17 10:52:48.544 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:48.556 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=95]
[2024/05/17 10:52:48.556 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:52:48.556 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816656228646914] ["schema version"=47]
[2024/05/17 10:52:48.556 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=47] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.dist_framework_meta (\n        host VARCHAR(261) NOT NULL PRIMARY KEY,\n        role VARCHAR(64),\n        cpu_count int default 0,\n        keyspace_id bigint(8) NOT NULL DEFAULT -1\n    );"] [user=]
[2024/05/17 10:52:48.557 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:97, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:96, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:48.556 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:52:48.557 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:97, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:96, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:48.556 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.dist_framework_meta (\n        host VARCHAR(261) NOT NULL PRIMARY KEY,\n        role VARCHAR(64),\n        cpu_count int default 0,\n        keyspace_id bigint(8) NOT NULL DEFAULT -1\n    );"]
[2024/05/17 10:52:48.560 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=97] [category=ddl] [job="ID:97, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:96, RowCount:0, ArgLen:0, start time: 2024-05-17 10:52:48.556 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:48.561 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816656232054787] ["schema version"=48]
[2024/05/17 10:52:48.561 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=47] [neededSchemaVersion=48] ["start time"=169µs] [gotSchemaVersion=48] [phyTblIDs="[96]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:52:48.562 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:52:48.562 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=97] [version=48]
[2024/05/17 10:52:48.564 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=48] ["take time"=2.604833ms] [job="ID:97, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:96, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:48.556 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:48.566 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=97] [job="ID:97, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:96, RowCount:0, ArgLen:0, start time: 2024-05-17 10:52:48.556 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:48.568 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=97]
[2024/05/17 10:52:48.568 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:52:48.568 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816656232054787] ["schema version"=48]
[2024/05/17 10:52:48.568 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=48] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.request_unit_by_group (\n\t\tstart_time TIMESTAMP(6) NOT NULL,\n\t\tend_time TIMESTAMP(6) NOT NULL,\n\t\tresource_group VARCHAR(32) NOT null,\n\t\ttotal_ru bigint(64) UNSIGNED NOT NULL,\n\t\tPRIMARY KEY (start_time, end_time, resource_group),\n\t\tKEY (resource_group)\n\t);"] [user=]
[2024/05/17 10:52:48.569 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:99, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:98, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:48.568 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:52:48.569 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:99, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:98, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:48.568 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.request_unit_by_group (\n\t\tstart_time TIMESTAMP(6) NOT NULL,\n\t\tend_time TIMESTAMP(6) NOT NULL,\n\t\tresource_group VARCHAR(32) NOT null,\n\t\ttotal_ru bigint(64) UNSIGNED NOT NULL,\n\t\tPRIMARY KEY (start_time, end_time, resource_group),\n\t\tKEY (resource_group)\n\t);"]
[2024/05/17 10:52:48.572 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=99] [category=ddl] [job="ID:99, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:98, RowCount:0, ArgLen:0, start time: 2024-05-17 10:52:48.568 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:48.573 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816656235200512] ["schema version"=49]
[2024/05/17 10:52:48.573 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=48] [neededSchemaVersion=49] ["start time"=207.083µs] [gotSchemaVersion=49] [phyTblIDs="[98]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:52:48.574 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:52:48.574 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=99] [version=49]
[2024/05/17 10:52:48.575 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=49] ["take time"=2.008584ms] [job="ID:99, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:98, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:48.568 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:48.578 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=99] [job="ID:99, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:98, RowCount:0, ArgLen:0, start time: 2024-05-17 10:52:48.568 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:48.579 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=99]
[2024/05/17 10:52:48.579 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:52:48.579 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816656235200512] ["schema version"=49]
[2024/05/17 10:52:48.579 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=49] [cur_db=mysql] [sql="CREATE DATABASE IF NOT EXISTS sys;"] [user=]
[2024/05/17 10:52:48.580 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:101, Type:create schema, State:queueing, SchemaState:none, SchemaID:100, TableID:0, RowCount:0, ArgLen:1, start time: 2024-05-17 10:52:48.58 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:52:48.580 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:101, Type:create schema, State:queueing, SchemaState:none, SchemaID:100, TableID:0, RowCount:0, ArgLen:1, start time: 2024-05-17 10:52:48.58 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE DATABASE IF NOT EXISTS sys;"]
[2024/05/17 10:52:48.582 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=101] [category=ddl] [job="ID:101, Type:create schema, State:queueing, SchemaState:none, SchemaID:100, TableID:0, RowCount:0, ArgLen:0, start time: 2024-05-17 10:52:48.58 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:48.583 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816656237821953] ["schema version"=50]
[2024/05/17 10:52:48.583 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=49] [neededSchemaVersion=50] ["start time"=47.958µs] [gotSchemaVersion=50] [phyTblIDs="[]"] [actionTypes="[]"] [diffTypes="[\"create schema\"]"]
[2024/05/17 10:52:48.584 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:52:48.584 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=101] [version=50]
[2024/05/17 10:52:48.585 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=50] ["take time"=2.482959ms] [job="ID:101, Type:create schema, State:done, SchemaState:public, SchemaID:100, TableID:0, RowCount:0, ArgLen:1, start time: 2024-05-17 10:52:48.58 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:48.588 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=101] [job="ID:101, Type:create schema, State:synced, SchemaState:public, SchemaID:100, TableID:0, RowCount:0, ArgLen:0, start time: 2024-05-17 10:52:48.58 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:48.589 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=101]
[2024/05/17 10:52:48.589 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:52:48.590 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816656237821953] ["schema version"=50]
[2024/05/17 10:52:48.592 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:103, Type:create view, State:queueing, SchemaState:none, SchemaID:100, TableID:102, RowCount:0, ArgLen:3, start time: 2024-05-17 10:52:48.591 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:52:48.592 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:103, Type:create view, State:queueing, SchemaState:none, SchemaID:100, TableID:102, RowCount:0, ArgLen:3, start time: 2024-05-17 10:52:48.591 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE OR REPLACE VIEW sys.schema_unused_indexes AS\n\t\tSELECT\n\t\t\ttable_schema as object_schema,\n\t\t\ttable_name as object_name,\n\t\t\tindex_name\n\t\tFROM information_schema.cluster_tidb_index_usage\n\t\tWHERE\n\t\t\ttable_schema not in ('sys', 'mysql', 'INFORMATION_SCHEMA', 'PERFORMANCE_SCHEMA') and\n\t\t\tindex_name != 'PRIMARY'\n\t\tGROUP BY table_schema, table_name, index_name\n\t\tHAVING\n\t\t\tsum(last_access_time) is null;"]
[2024/05/17 10:52:48.595 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=103] [category=ddl] [job="ID:103, Type:create view, State:queueing, SchemaState:none, SchemaID:100, TableID:102, RowCount:0, ArgLen:0, start time: 2024-05-17 10:52:48.591 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:48.596 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816656240967687] ["schema version"=51]
[2024/05/17 10:52:48.596 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=50] [neededSchemaVersion=51] ["start time"=146.042µs] [gotSchemaVersion=51] [phyTblIDs="[102]"] [actionTypes="[21]"] [diffTypes="[\"create view\"]"]
[2024/05/17 10:52:48.596 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:52:48.596 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=103] [version=51]
[2024/05/17 10:52:48.598 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=51] ["take time"=2.742ms] [job="ID:103, Type:create view, State:done, SchemaState:public, SchemaID:100, TableID:102, RowCount:0, ArgLen:3, start time: 2024-05-17 10:52:48.591 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:48.601 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=103] [job="ID:103, Type:create view, State:synced, SchemaState:public, SchemaID:100, TableID:102, RowCount:0, ArgLen:0, start time: 2024-05-17 10:52:48.591 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:48.603 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=103]
[2024/05/17 10:52:48.603 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:52:48.603 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816656240967687] ["schema version"=51]
[2024/05/17 10:52:48.613 +08:00] [INFO] [bootstrap.go:745] ["bootstrap successful"] ["take time"=975.018834ms]
[2024/05/17 10:52:48.614 +08:00] [INFO] [mock.go:106] ["owner manager is canceled"] [category=ddl] [ID=01ef5248-0a1b-4b6c-a153-5045eb168976] [ownerKey=/tidb/ddl/fg/owner]
[2024/05/17 10:52:48.614 +08:00] [INFO] [ddl_workerpool.go:82] ["closing workerPool"] [category=ddl]
[2024/05/17 10:52:48.614 +08:00] [INFO] [ddl_worker.go:188] ["DDL worker closed"] [worker="worker 2, tp add index"] [category=ddl] ["take time"=1.042µs]
[2024/05/17 10:52:48.614 +08:00] [INFO] [ddl_workerpool.go:82] ["closing workerPool"] [category=ddl]
[2024/05/17 10:52:48.614 +08:00] [INFO] [ddl_worker.go:188] ["DDL worker closed"] [worker="worker 1, tp general"] [category=ddl] ["take time"=250ns]
[2024/05/17 10:52:48.614 +08:00] [INFO] [ddl_workerpool.go:82] ["closing workerPool"] [category=ddl]
[2024/05/17 10:52:48.614 +08:00] [INFO] [delete_range.go:162] ["closing delRange"] [category=ddl]
[2024/05/17 10:52:48.614 +08:00] [INFO] [session_pool.go:99] ["closing session pool"] [category=ddl]
[2024/05/17 10:52:48.615 +08:00] [INFO] [ddl.go:951] ["DDL closed"] [category=ddl] [ID=01ef5248-0a1b-4b6c-a153-5045eb168976] ["take time"=1.725792ms]
[2024/05/17 10:52:48.615 +08:00] [INFO] [ddl.go:769] ["stop DDL"] [category=ddl] [ID=01ef5248-0a1b-4b6c-a153-5045eb168976]
[2024/05/17 10:52:48.615 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=mdlCheckLoop]
[2024/05/17 10:52:48.615 +08:00] [INFO] [domain.go:977] ["loadSchemaInLoop exited."]
[2024/05/17 10:52:48.615 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=loadSchemaInLoop]
[2024/05/17 10:52:48.615 +08:00] [INFO] [domain.go:831] ["topologySyncerKeeper exited."]
[2024/05/17 10:52:48.615 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=topologySyncerKeeper]
[2024/05/17 10:52:48.615 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=runawayStartLoop]
[2024/05/17 10:52:48.615 +08:00] [INFO] [domain.go:807] ["globalConfigSyncerKeeper exited."]
[2024/05/17 10:52:48.615 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=globalConfigSyncerKeeper]
[2024/05/17 10:52:48.615 +08:00] [INFO] [domain.go:781] ["infoSyncerKeeper exited."]
[2024/05/17 10:52:48.615 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=infoSyncerKeeper]
[2024/05/17 10:52:48.615 +08:00] [INFO] [domain.go:753] ["topNSlowQueryLoop exited."]
[2024/05/17 10:52:48.615 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=topNSlowQueryLoop]
[2024/05/17 10:52:48.615 +08:00] [INFO] [domain.go:1431] ["closestReplicaReadCheckLoop exited."]
[2024/05/17 10:52:48.615 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=closestReplicaReadCheckLoop]
[2024/05/17 10:52:48.615 +08:00] [INFO] [domain.go:1144] ["domain closed"] ["take time"=1.829625ms]
[2024/05/17 10:52:48.615 +08:00] [INFO] [tidb.go:80] ["new domain"] [store=63e80370-1bc5-416a-ae24-bc7ca5e64a4f] ["ddl lease"=500ms] ["stats lease"=-1ns]
[2024/05/17 10:52:48.616 +08:00] [WARN] [controller.go:198] ["[resource group controller] server does not save config, load config failed"]
[2024/05/17 10:52:48.616 +08:00] [INFO] [controller.go:185] ["load resource controller config"] [config="{\"degraded-mode-wait-duration\":\"0s\",\"ltb-max-wait-duration\":\"30s\",\"wait-retry-interval\":\"50ms\",\"wait-retry-times\":10,\"request-unit\":{\"read-base-cost\":0.125,\"read-per-batch-base-cost\":0.5,\"read-cost-per-byte\":0.0000152587890625,\"write-base-cost\":1,\"write-per-batch-base-cost\":1,\"write-cost-per-byte\":0.0009765625,\"read-cpu-ms-cost\":0.3333333333333333},\"enable-controller-trace-log\":\"false\"}"] [ru-config="{\"ReadBaseCost\":0.125,\"ReadPerBatchBaseCost\":0.5,\"ReadBytesCost\":0.0000152587890625,\"WriteBaseCost\":1,\"WritePerBatchBaseCost\":1,\"WriteBytesCost\":0.0009765625,\"CPUMsCost\":0.3333333333333333,\"LTBMaxWaitDuration\":30000000000,\"WaitRetryInterval\":50000000,\"WaitRetryTimes\":10,\"DegradedModeWaitDuration\":0}"]
[2024/05/17 10:52:48.627 +08:00] [INFO] [domain.go:385] ["full load InfoSchema success"] [currentSchemaVersion=0] [neededSchemaVersion=51] ["start time"=10.283917ms]
[2024/05/17 10:52:48.631 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816656240967687] ["schema version"=51]
[2024/05/17 10:52:48.631 +08:00] [INFO] [domain.go:705] ["full load and reset schema validator"]
[2024/05/17 10:52:48.631 +08:00] [INFO] [ddl.go:818] ["start DDL"] [category=ddl] [ID=d7d7a6e4-ed92-4425-87b6-b4df7ae569a1] [runWorker=true]
[2024/05/17 10:52:48.631 +08:00] [INFO] [ddl.go:777] ["start delRangeManager OK"] [category=ddl] ["is a emulator"=true]
[2024/05/17 10:52:48.631 +08:00] [WARN] [env.go:51] ["initialize environment failed"] [category=ddl-ingest] ["storage limitation"="only support TiKV storage"] ["current storage"=unistore] ["lightning is initialized"=false]
[2024/05/17 10:52:48.631 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=loadSchemaInLoop]
[2024/05/17 10:52:48.631 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=mdlCheckLoop]
[2024/05/17 10:52:48.631 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=topNSlowQueryLoop]
[2024/05/17 10:52:48.631 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=infoSyncerKeeper]
[2024/05/17 10:52:48.631 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=globalConfigSyncerKeeper]
[2024/05/17 10:52:48.631 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=runawayStartLoop]
[2024/05/17 10:52:48.631 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=requestUnitsWriterLoop]
[2024/05/17 10:52:48.631 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=topologySyncerKeeper]
[2024/05/17 10:52:48.631 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=closestReplicaReadCheckLoop]
[2024/05/17 10:52:48.631 +08:00] [WARN] [domain.go:1396] ["pd / etcd client not provided, won't begin Advancer."]
[2024/05/17 10:52:48.637 +08:00] [INFO] [delete_range.go:172] ["start delRange emulator"] [category=ddl]
[2024/05/17 10:52:48.637 +08:00] [INFO] [job_table.go:334] ["get global state and global state change"] [category=ddl] [oldState=false] [currState=false]
[2024/05/17 10:52:48.637 +08:00] [INFO] [runaway.go:149] ["try to start runaway manager loop"]
[2024/05/17 10:52:48.637 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=requestUnitsWriterLoop]
[2024/05/17 10:52:48.652 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=globalBindHandleWorkerLoop]
[2024/05/17 10:52:48.653 +08:00] [WARN] [sysvar_cache.go:49] ["sysvar cache is empty, triggering rebuild"]
[2024/05/17 10:52:48.654 +08:00] [INFO] [sysvar.go:2748] ["set resource control"] [enable=true]
[2024/05/17 10:52:48.654 +08:00] [INFO] [controller.go:447] ["[resource group controller] create resource group cost controller"] [name=default]
[2024/05/17 10:52:48.659 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=loadPrivilegeInLoop]
[2024/05/17 10:52:48.660 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=LoadSysVarCacheLoop]
[2024/05/17 10:52:48.660 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=dumpFileGcChecker]
[2024/05/17 10:52:48.661 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=indexUsageWorker]
[2024/05/17 10:52:48.661 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=quitStatsOwner]
[2024/05/17 10:52:48.661 +08:00] [INFO] [domain.go:2340] ["start load stats sub workers"] ["worker count"=5]
[2024/05/17 10:52:48.662 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=loadSigningCertLoop]
[2024/05/17 10:52:48.662 +08:00] [INFO] [manager.go:113] ["build task executor manager"] [server-id=:4000] [total-cpu=1] [total-mem=32GiB]
[2024/05/17 10:52:48.662 +08:00] [INFO] [domain.go:2140] ["dumpFileGcChecker started"]
[2024/05/17 10:52:48.663 +08:00] [INFO] [task_manager.go:217] ["scale ttl worker"] [ttl-worker=job-manager] [ttl-worker=task-manager] [originalCount=0] [newCount=4]
[2024/05/17 10:52:48.663 +08:00] [INFO] [task_manager.go:217] ["scale ttl worker"] [ttl-worker=job-manager] [ttl-worker=task-manager] [originalCount=0] [newCount=4]
[2024/05/17 10:52:48.665 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=distTaskFrameworkLoop]
[2024/05/17 10:52:48.666 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=1] [schemaVersion=51] [cur_db=test] [sql="drop table if exists t"] [user=]
[2024/05/17 10:52:48.666 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=1] [schemaVersion=51] [cur_db=test] [sql="create table t (a int, b real, i int, id int, value decimal(6,3), name char(128), d decimal(6,3), s char(128), t datetime, c bigint as ((a+1)) virtual, e real as ((b+a)))"] [user=]
[2024/05/17 10:52:48.667 +08:00] [INFO] [manager.go:146] ["task executor manager start"] [server-id=:4000]
[2024/05/17 10:52:48.667 +08:00] [INFO] [domain.go:1595] ["dist task executor manager started"]
[2024/05/17 10:52:48.668 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:105, Type:create table, State:queueing, SchemaState:none, SchemaID:2, TableID:104, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:48.668 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:52:48.668 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:105, Type:create table, State:queueing, SchemaState:none, SchemaID:2, TableID:104, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:48.668 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="create table t (a int, b real, i int, id int, value decimal(6,3), name char(128), d decimal(6,3), s char(128), t datetime, c bigint as ((a+1)) virtual, e real as ((b+a)))"]
[2024/05/17 10:52:48.689 +08:00] [INFO] [job_table.go:334] ["get global state and global state change"] [category=ddl] [oldState=false] [currState=false]
[2024/05/17 10:52:48.689 +08:00] [INFO] [job_table.go:349] ["the owner sets owner operator value"] [category=ddl] [ownerOp=none]
[2024/05/17 10:52:48.692 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=105] [conn=1] [category=ddl] [job="ID:105, Type:create table, State:queueing, SchemaState:none, SchemaID:2, TableID:104, RowCount:0, ArgLen:0, start time: 2024-05-17 10:52:48.668 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:48.695 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816656266919936] ["schema version"=52]
[2024/05/17 10:52:48.695 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=51] [neededSchemaVersion=52] ["start time"=1.546542ms] [gotSchemaVersion=52] [phyTblIDs="[104]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:52:48.696 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=105] [version=52]
[2024/05/17 10:52:48.699 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=52] ["take time"=5.19775ms] [job="ID:105, Type:create table, State:done, SchemaState:public, SchemaID:2, TableID:104, RowCount:0, ArgLen:2, start time: 2024-05-17 10:52:48.668 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:48.705 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=105] [conn=1] [job="ID:105, Type:create table, State:synced, SchemaState:public, SchemaID:2, TableID:104, RowCount:0, ArgLen:0, start time: 2024-05-17 10:52:48.668 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:52:48.708 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=105]
[2024/05/17 10:52:48.708 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:52:48.708 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816656266919936] ["schema version"=52]
[2024/05/17 10:52:48.731 +08:00] [INFO] [analyze.go:747] ["analyze table `test`.`t` has finished"] [partition=] ["job info"="analyze table all columns with 256 buckets, 500 topn, 1 samplerate"] ["start time"=2024/05/17 10:52:48.712 +08:00] ["end time"=2024/05/17 10:52:48.730 +08:00] [cost=17.822833ms] ["sample rate reason"="use min(1, 110000/10000) as the sample-rate=1"]
[2024/05/17 10:52:48.764 +08:00] [WARN] [infoschema_v3.go:59] ["table not equal"] [tbl1="{\"id\":104,\"name\":{\"O\":\"t\",\"L\":\"t\"},\"charset\":\"utf8mb4\",\"collate\":\"utf8mb4_bin\",\"cols\":[{\"id\":1,\"name\":{\"O\":\"a\",\"L\":\"a\"},\"offset\":0,\"origin_default\":null,\"origin_default_bit\":null,\"default\":null,\"default_bit\":null,\"default_is_expr\":false,\"generated_expr_string\":\"\",\"generated_stored\":false,\"dependences\":null,\"type\":{\"Tp\":3,\"Flag\":0,\"Flen\":11,\"Decimal\":0,\"Charset\":\"binary\",\"Collate\":\"binary\",\"Elems\":null,\"ElemsIsBinaryLit\":null,\"Array\":false},\"state\":5,\"comment\":\"\",\"hidden\":false,\"change_state_info\":null,\"version\":2},{\"id\":2,\"name\":{\"O\":\"b\",\"L\":\"b\"},\"offset\":1,\"origin_default\":null,\"origin_default_bit\":null,\"default\":null,\"default_bit\":null,\"default_is_expr\":false,\"generated_expr_string\":\"\",\"generated_stored\":false,\"dependences\":null,\"type\":{\"Tp\":5,\"Flag\":0,\"Flen\":22,\"Decimal\":-1,\"Charset\":\"binary\",\"Collate\":\"binary\",\"Elems\":null,\"ElemsIsBinaryLit\":null,\"Array\":false},\"state\":5,\"comment\":\"\",\"hidden\":false,\"change_state_info\":null,\"version\":2},{\"id\":3,\"name\":{\"O\":\"i\",\"L\":\"i\"},\"offset\":2,\"origin_default\":null,\"origin_default_bit\":null,\"default\":null,\"default_bit\":null,\"default_is_expr\":false,\"generated_expr_string\":\"\",\"generated_stored\":false,\"dependences\":null,\"type\":{\"Tp\":3,\"Flag\":0,\"Flen\":11,\"Decimal\":0,\"Charset\":\"binary\",\"Collate\":\"binary\",\"Elems\":null,\"ElemsIsBinaryLit\":null,\"Array\":false},\"state\":5,\"comment\":\"\",\"hidden\":false,\"change_state_info\":null,\"version\":2},{\"id\":4,\"name\":{\"O\":\"id\",\"L\":\"id\"},\"offset\":3,\"origin_default\":null,\"origin_default_bit\":null,\"default\":null,\"default_bit\":null,\"default_is_expr\":false,\"generated_expr_string\":\"\",\"generated_stored\":false,\"dependences\":null,\"type\":{\"Tp\":3,\"Flag\":0,\"Flen\":11,\"Decimal\":0,\"Charset\":\"binary\",\"Collate\":\"binary\",\"Elems\":null,\"ElemsIsBinaryLit\":null,\"Array\":false},\"state\":5,\"comment\":\"\",\"hidden\":false,\"change_state_info\":null,\"version\":2},{\"id\":5,\"name\":{\"O\":\"value\",\"L\":\"value\"},\"offset\":4,\"origin_default\":null,\"origin_default_bit\":null,\"default\":null,\"default_bit\":null,\"default_is_expr\":false,\"generated_expr_string\":\"\",\"generated_stored\":false,\"dependences\":null,\"type\":{\"Tp\":246,\"Flag\":0,\"Flen\":6,\"Decimal\":3,\"Charset\":\"binary\",\"Collate\":\"binary\",\"Elems\":null,\"ElemsIsBinaryLit\":null,\"Array\":false},\"state\":5,\"comment\":\"\",\"hidden\":false,\"change_state_info\":null,\"version\":2},{\"id\":6,\"name\":{\"O\":\"name\",\"L\":\"name\"},\"offset\":5,\"origin_default\":null,\"origin_default_bit\":null,\"default\":null,\"default_bit\":null,\"default_is_expr\":false,\"generated_expr_string\":\"\",\"generated_stored\":false,\"dependences\":null,\"type\":{\"Tp\":254,\"Flag\":0,\"Flen\":128,\"Decimal\":0,\"Charset\":\"utf8mb4\",\"Collate\":\"utf8mb4_bin\",\"Elems\":null,\"ElemsIsBinaryLit\":null,\"Array\":false},\"state\":5,\"comment\":\"\",\"hidden\":false,\"change_state_info\":null,\"version\":2},{\"id\":7,\"name\":{\"O\":\"d\",\"L\":\"d\"},\"offset\":6,\"origin_default\":null,\"origin_default_bit\":null,\"default\":null,\"default_bit\":null,\"default_is_expr\":false,\"generated_expr_string\":\"\",\"generated_stored\":false,\"dependences\":null,\"type\":{\"Tp\":246,\"Flag\":0,\"Flen\":6,\"Decimal\":3,\"Charset\":\"binary\",\"Collate\":\"binary\",\"Elems\":null,\"ElemsIsBinaryLit\":null,\"Array\":false},\"state\":5,\"comment\":\"\",\"hidden\":false,\"change_state_info\":null,\"version\":2},{\"id\":8,\"name\":{\"O\":\"s\",\"L\":\"s\"},\"offset\":7,\"origin_default\":null,\"origin_default_bit\":null,\"default\":null,\"default_bit\":null,\"default_is_expr\":false,\"generated_expr_string\":\"\",\"generated_stored\":false,\"dependences\":null,\"type\":{\"Tp\":254,\"Flag\":0,\"Flen\":128,\"Decimal\":0,\"Charset\":\"utf8mb4\",\"Collate\":\"utf8mb4_bin\",\"Elems\":null,\"ElemsIsBinaryLit\":null,\"Array\":false},\"state\":5,\"comment\":\"\",\"hidden\":false,\"change_state_info\":null,\"version\":2},{\"id\":9,\"name\":{\"O\":\"t\",\"L\":\"t\"},\"offset\":8,\"origin_default\":null,\"origin_default_bit\":null,\"default\":null,\"default_bit\":null,\"default_is_expr\":false,\"generated_expr_string\":\"\",\"generated_stored\":false,\"dependences\":null,\"type\":{\"Tp\":12,\"Flag\":128,\"Flen\":19,\"Decimal\":0,\"Charset\":\"binary\",\"Collate\":\"binary\",\"Elems\":null,\"ElemsIsBinaryLit\":null,\"Array\":false},\"state\":5,\"comment\":\"\",\"hidden\":false,\"change_state_info\":null,\"version\":2},{\"id\":10,\"name\":{\"O\":\"c\",\"L\":\"c\"},\"offset\":9,\"origin_default\":null,\"origin_default_bit\":null,\"default\":null,\"default_bit\":null,\"default_is_expr\":false,\"generated_expr_string\":\"(`a` + 1)\",\"generated_stored\":false,\"dependences\":{\"a\":{}},\"type\":{\"Tp\":8,\"Flag\":0,\"Flen\":20,\"Decimal\":0,\"Charset\":\"binary\",\"Collate\":\"binary\",\"Elems\":null,\"ElemsIsBinaryLit\":null,\"Array\":false},\"state\":5,\"comment\":\"\",\"hidden\":false,\"change_state_info\":null,\"version\":2},{\"id\":11,\"name\":{\"O\":\"e\",\"L\":\"e\"},\"offset\":10,\"origin_default\":null,\"origin_default_bit\":null,\"default\":null,\"default_bit\":null,\"default_is_expr\":false,\"generated_expr_string\":\"(`b` + `a`)\",\"generated_stored\":false,\"dependences\":{\"a\":{},\"b\":{}},\"type\":{\"Tp\":5,\"Flag\":0,\"Flen\":22,\"Decimal\":-1,\"Charset\":\"binary\",\"Collate\":\"binary\",\"Elems\":null,\"ElemsIsBinaryLit\":null,\"Array\":false},\"state\":5,\"comment\":\"\",\"hidden\":false,\"change_state_info\":null,\"version\":2}],\"index_info\":null,\"constraint_info\":null,\"fk_info\":null,\"state\":5,\"pk_is_handle\":false,\"is_common_handle\":false,\"common_handle_version\":0,\"comment\":\"\",\"auto_inc_id\":0,\"auto_id_cache\":0,\"auto_rand_id\":0,\"max_col_id\":11,\"max_idx_id\":0,\"max_fk_id\":0,\"max_cst_id\":0,\"update_timestamp\":449816656266395655,\"ShardRowIDBits\":0,\"max_shard_row_id_bits\":0,\"auto_random_bits\":0,\"auto_random_range_bits\":0,\"pre_split_regions\":0,\"partition\":null,\"compression\":\"\",\"view\":null,\"sequence\":null,\"Lock\":null,\"version\":5,\"tiflash_replica\":null,\"is_columnar\":false,\"temp_table_type\":0,\"cache_table_status\":0,\"policy_ref_info\":null,\"stats_options\":null,\"exchange_partition_info\":null,\"ttl_info\":null,\"revision\":0}"] [tbl2="{\"id\":104,\"name\":{\"O\":\"t\",\"L\":\"t\"},\"charset\":\"utf8mb4\",\"collate\":\"utf8mb4_bin\",\"cols\":[{\"id\":1,\"name\":{\"O\":\"a\",\"L\":\"a\"},\"offset\":0,\"origin_default\":null,\"origin_default_bit\":null,\"default\":null,\"default_bit\":null,\"default_is_expr\":false,\"generated_expr_string\":\"\",\"generated_stored\":false,\"dependences\":null,\"type\":{\"Tp\":3,\"Flag\":0,\"Flen\":11,\"Decimal\":0,\"Charset\":\"binary\",\"Collate\":\"binary\",\"Elems\":null,\"ElemsIsBinaryLit\":null,\"Array\":false},\"state\":5,\"comment\":\"\",\"hidden\":false,\"change_state_info\":null,\"version\":2},{\"id\":2,\"name\":{\"O\":\"b\",\"L\":\"b\"},\"offset\":1,\"origin_default\":null,\"origin_default_bit\":null,\"default\":null,\"default_bit\":null,\"default_is_expr\":false,\"generated_expr_string\":\"\",\"generated_stored\":false,\"dependences\":null,\"type\":{\"Tp\":5,\"Flag\":0,\"Flen\":22,\"Decimal\":-1,\"Charset\":\"binary\",\"Collate\":\"binary\",\"Elems\":null,\"ElemsIsBinaryLit\":null,\"Array\":false},\"state\":5,\"comment\":\"\",\"hidden\":false,\"change_state_info\":null,\"version\":2},{\"id\":3,\"name\":{\"O\":\"i\",\"L\":\"i\"},\"offset\":2,\"origin_default\":null,\"origin_default_bit\":null,\"default\":null,\"default_bit\":null,\"default_is_expr\":false,\"generated_expr_string\":\"\",\"generated_stored\":false,\"dependences\":null,\"type\":{\"Tp\":3,\"Flag\":0,\"Flen\":11,\"Decimal\":0,\"Charset\":\"binary\",\"Collate\":\"binary\",\"Elems\":null,\"ElemsIsBinaryLit\":null,\"Array\":false},\"state\":5,\"comment\":\"\",\"hidden\":false,\"change_state_info\":null,\"version\":2},{\"id\":4,\"name\":{\"O\":\"id\",\"L\":\"id\"},\"offset\":3,\"origin_default\":null,\"origin_default_bit\":null,\"default\":null,\"default_bit\":null,\"default_is_expr\":false,\"generated_expr_string\":\"\",\"generated_stored\":false,\"dependences\":null,\"type\":{\"Tp\":3,\"Flag\":0,\"Flen\":11,\"Decimal\":0,\"Charset\":\"binary\",\"Collate\":\"binary\",\"Elems\":null,\"ElemsIsBinaryLit\":null,\"Array\":false},\"state\":5,\"comment\":\"\",\"hidden\":false,\"change_state_info\":null,\"version\":2},{\"id\":5,\"name\":{\"O\":\"value\",\"L\":\"value\"},\"offset\":4,\"origin_default\":null,\"origin_default_bit\":null,\"default\":null,\"default_bit\":null,\"default_is_expr\":false,\"generated_expr_string\":\"\",\"generated_stored\":false,\"dependences\":null,\"type\":{\"Tp\":246,\"Flag\":0,\"Flen\":6,\"Decimal\":3,\"Charset\":\"binary\",\"Collate\":\"binary\",\"Elems\":null,\"ElemsIsBinaryLit\":null,\"Array\":false},\"state\":5,\"comment\":\"\",\"hidden\":false,\"change_state_info\":null,\"version\":2},{\"id\":6,\"name\":{\"O\":\"name\",\"L\":\"name\"},\"offset\":5,\"origin_default\":null,\"origin_default_bit\":null,\"default\":null,\"default_bit\":null,\"default_is_expr\":false,\"generated_expr_string\":\"\",\"generated_stored\":false,\"dependences\":null,\"type\":{\"Tp\":254,\"Flag\":0,\"Flen\":128,\"Decimal\":0,\"Charset\":\"utf8mb4\",\"Collate\":\"utf8mb4_bin\",\"Elems\":null,\"ElemsIsBinaryLit\":null,\"Array\":false},\"state\":5,\"comment\":\"\",\"hidden\":false,\"change_state_info\":null,\"version\":2},{\"id\":7,\"name\":{\"O\":\"d\",\"L\":\"d\"},\"offset\":6,\"origin_default\":null,\"origin_default_bit\":null,\"default\":null,\"default_bit\":null,\"default_is_expr\":false,\"generated_expr_string\":\"\",\"generated_stored\":false,\"dependences\":null,\"type\":{\"Tp\":246,\"Flag\":0,\"Flen\":6,\"Decimal\":3,\"Charset\":\"binary\",\"Collate\":\"binary\",\"Elems\":null,\"ElemsIsBinaryLit\":null,\"Array\":false},\"state\":5,\"comment\":\"\",\"hidden\":false,\"change_state_info\":null,\"version\":2},{\"id\":8,\"name\":{\"O\":\"s\",\"L\":\"s\"},\"offset\":7,\"origin_default\":null,\"origin_default_bit\":null,\"default\":null,\"default_bit\":null,\"default_is_expr\":false,\"generated_expr_string\":\"\",\"generated_stored\":false,\"dependences\":null,\"type\":{\"Tp\":254,\"Flag\":0,\"Flen\":128,\"Decimal\":0,\"Charset\":\"utf8mb4\",\"Collate\":\"utf8mb4_bin\",\"Elems\":null,\"ElemsIsBinaryLit\":null,\"Array\":false},\"state\":5,\"comment\":\"\",\"hidden\":false,\"change_state_info\":null,\"version\":2},{\"id\":9,\"name\":{\"O\":\"t\",\"L\":\"t\"},\"offset\":8,\"origin_default\":null,\"origin_default_bit\":null,\"default\":null,\"default_bit\":null,\"default_is_expr\":false,\"generated_expr_string\":\"\",\"generated_stored\":false,\"dependences\":null,\"type\":{\"Tp\":12,\"Flag\":128,\"Flen\":19,\"Decimal\":0,\"Charset\":\"binary\",\"Collate\":\"binary\",\"Elems\":null,\"ElemsIsBinaryLit\":null,\"Array\":false},\"state\":5,\"comment\":\"\",\"hidden\":false,\"change_state_info\":null,\"version\":2},{\"id\":10,\"name\":{\"O\":\"c\",\"L\":\"c\"},\"offset\":9,\"origin_default\":null,\"origin_default_bit\":null,\"default\":null,\"default_bit\":null,\"default_is_expr\":false,\"generated_expr_string\":\"(`a` + 1)\",\"generated_stored\":false,\"dependences\":{\"a\":{}},\"type\":{\"Tp\":8,\"Flag\":8388608,\"Flen\":20,\"Decimal\":0,\"Charset\":\"binary\",\"Collate\":\"binary\",\"Elems\":null,\"ElemsIsBinaryLit\":null,\"Array\":false},\"state\":5,\"comment\":\"\",\"hidden\":false,\"change_state_info\":null,\"version\":2},{\"id\":11,\"name\":{\"O\":\"e\",\"L\":\"e\"},\"offset\":10,\"origin_default\":null,\"origin_default_bit\":null,\"default\":null,\"default_bit\":null,\"default_is_expr\":false,\"generated_expr_string\":\"(`b` + `a`)\",\"generated_stored\":false,\"dependences\":{\"a\":{},\"b\":{}},\"type\":{\"Tp\":5,\"Flag\":0,\"Flen\":22,\"Decimal\":-1,\"Charset\":\"binary\",\"Collate\":\"binary\",\"Elems\":null,\"ElemsIsBinaryLit\":null,\"Array\":false},\"state\":5,\"comment\":\"\",\"hidden\":false,\"change_state_info\":null,\"version\":2}],\"index_info\":null,\"constraint_info\":null,\"fk_info\":null,\"state\":5,\"pk_is_handle\":false,\"is_common_handle\":false,\"common_handle_version\":0,\"comment\":\"\",\"auto_inc_id\":0,\"auto_id_cache\":0,\"auto_rand_id\":0,\"max_col_id\":11,\"max_idx_id\":0,\"max_fk_id\":0,\"max_cst_id\":0,\"update_timestamp\":449816656266395655,\"ShardRowIDBits\":0,\"max_shard_row_id_bits\":0,\"auto_random_bits\":0,\"auto_random_range_bits\":0,\"pre_split_regions\":0,\"partition\":null,\"compression\":\"\",\"view\":null,\"sequence\":null,\"Lock\":null,\"version\":5,\"tiflash_replica\":null,\"is_columnar\":false,\"temp_table_type\":0,\"cache_table_status\":0,\"policy_ref_info\":null,\"stats_options\":null,\"exchange_partition_info\":null,\"ttl_info\":null,\"revision\":0}"]
[2024/05/17 10:52:48.764 +08:00] [INFO] [mock.go:106] ["owner manager is canceled"] [category=ddl] [ID=d7d7a6e4-ed92-4425-87b6-b4df7ae569a1] [ownerKey=/tidb/ddl/fg/owner]
[2024/05/17 10:52:48.764 +08:00] [INFO] [ddl_workerpool.go:82] ["closing workerPool"] [category=ddl]
[2024/05/17 10:52:48.764 +08:00] [INFO] [ddl_worker.go:188] ["DDL worker closed"] [worker="worker 4, tp add index"] [category=ddl] ["take time"=917ns]
[2024/05/17 10:52:48.764 +08:00] [INFO] [ddl_workerpool.go:82] ["closing workerPool"] [category=ddl]
[2024/05/17 10:52:48.764 +08:00] [INFO] [ddl_worker.go:188] ["DDL worker closed"] [worker="worker 3, tp general"] [category=ddl] ["take time"=333ns]
[2024/05/17 10:52:48.764 +08:00] [INFO] [ddl_workerpool.go:82] ["closing workerPool"] [category=ddl]
[2024/05/17 10:52:48.764 +08:00] [INFO] [delete_range.go:162] ["closing delRange"] [category=ddl]
[2024/05/17 10:52:48.764 +08:00] [INFO] [session_pool.go:99] ["closing session pool"] [category=ddl]
[2024/05/17 10:52:48.764 +08:00] [INFO] [ddl.go:951] ["DDL closed"] [category=ddl] [ID=d7d7a6e4-ed92-4425-87b6-b4df7ae569a1] ["take time"=98.292µs]
[2024/05/17 10:52:48.764 +08:00] [INFO] [ddl.go:769] ["stop DDL"] [category=ddl] [ID=d7d7a6e4-ed92-4425-87b6-b4df7ae569a1]
[2024/05/17 10:52:48.764 +08:00] [INFO] [domain.go:1096] ["stopping ttlJobManager"]
[2024/05/17 10:52:48.764 +08:00] [INFO] [task_manager.go:194] ["shrink ttl worker"] [ttl-worker=job-manager] [ttl-worker=task-manager] [originalCount=4] [newCount=0]
[2024/05/17 10:52:48.764 +08:00] [INFO] [scan.go:309] ["ttlScanWorker loop exited."]
[2024/05/17 10:52:48.764 +08:00] [INFO] [scan.go:309] ["ttlScanWorker loop exited."]
[2024/05/17 10:52:48.764 +08:00] [INFO] [scan.go:309] ["ttlScanWorker loop exited."]
[2024/05/17 10:52:48.764 +08:00] [INFO] [scan.go:309] ["ttlScanWorker loop exited."]
[2024/05/17 10:52:48.764 +08:00] [INFO] [task_manager.go:194] ["shrink ttl worker"] [ttl-worker=job-manager] [ttl-worker=task-manager] [originalCount=4] [newCount=0]
[2024/05/17 10:52:48.764 +08:00] [INFO] [del.go:261] ["ttlDeleteWorker loop exited."]
[2024/05/17 10:52:48.764 +08:00] [INFO] [del.go:261] ["ttlDeleteWorker loop exited."]
[2024/05/17 10:52:48.764 +08:00] [INFO] [del.go:261] ["ttlDeleteWorker loop exited."]
[2024/05/17 10:52:48.764 +08:00] [INFO] [del.go:261] ["ttlDeleteWorker loop exited."]
[2024/05/17 10:52:48.764 +08:00] [INFO] [job_manager.go:174] ["ttlJobManager loop exited."] [ttl-worker=job-manager]
[2024/05/17 10:52:48.764 +08:00] [INFO] [domain.go:1107] ["ttlJobManager exited."]
[2024/05/17 10:52:48.764 +08:00] [INFO] [manager.go:280] ["recoverMetaLoop done"] [server-id=:4000]
[2024/05/17 10:52:48.764 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=mdlCheckLoop]
[2024/05/17 10:52:48.764 +08:00] [INFO] [domain.go:977] ["loadSchemaInLoop exited."]
[2024/05/17 10:52:48.764 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=loadSchemaInLoop]
[2024/05/17 10:52:48.764 +08:00] [INFO] [domain.go:1597] ["stopping dist task executor manager"]
[2024/05/17 10:52:48.764 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=loadSigningCertLoop]
[2024/05/17 10:52:48.764 +08:00] [INFO] [stats_syncload.go:216] ["SubLoadWorker exited."]
[2024/05/17 10:52:48.764 +08:00] [INFO] [stats_syncload.go:216] ["SubLoadWorker exited."]
[2024/05/17 10:52:48.764 +08:00] [INFO] [stats_syncload.go:216] ["SubLoadWorker exited."]
[2024/05/17 10:52:48.764 +08:00] [INFO] [stats_syncload.go:216] ["SubLoadWorker exited."]
[2024/05/17 10:52:48.764 +08:00] [INFO] [stats_syncload.go:216] ["SubLoadWorker exited."]
[2024/05/17 10:52:48.764 +08:00] [INFO] [mock.go:106] ["owner manager is canceled"] [category=ddl] [ID=d7d7a6e4-ed92-4425-87b6-b4df7ae569a1] [ownerKey=/tidb/stats/owner]
[2024/05/17 10:52:48.764 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=quitStatsOwner]
[2024/05/17 10:52:48.764 +08:00] [INFO] [domain.go:2423] ["indexUsageWorker exited."]
[2024/05/17 10:52:48.764 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=indexUsageWorker]
[2024/05/17 10:52:48.764 +08:00] [INFO] [domain.go:2144] ["dumpFileGcChecker exited."]
[2024/05/17 10:52:48.764 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=dumpFileGcChecker]
[2024/05/17 10:52:48.764 +08:00] [INFO] [domain.go:1820] ["LoadSysVarCacheLoop exited."]
[2024/05/17 10:52:48.764 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=LoadSysVarCacheLoop]
[2024/05/17 10:52:48.764 +08:00] [INFO] [domain.go:1770] ["loadPrivilegeInLoop exited."]
[2024/05/17 10:52:48.764 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=loadPrivilegeInLoop]
[2024/05/17 10:52:48.764 +08:00] [INFO] [mock.go:106] ["owner manager is canceled"] [category=ddl] [ID=d7d7a6e4-ed92-4425-87b6-b4df7ae569a1] [ownerKey=/tidb/bindinfo/owner]
[2024/05/17 10:52:48.764 +08:00] [INFO] [domain.go:1959] ["globalBindHandleWorkerLoop exited."]
[2024/05/17 10:52:48.764 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=globalBindHandleWorkerLoop]
[2024/05/17 10:52:48.764 +08:00] [INFO] [domain.go:831] ["topologySyncerKeeper exited."]
[2024/05/17 10:52:48.764 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=topologySyncerKeeper]
[2024/05/17 10:52:48.764 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=runawayStartLoop]
[2024/05/17 10:52:48.764 +08:00] [INFO] [domain.go:807] ["globalConfigSyncerKeeper exited."]
[2024/05/17 10:52:48.764 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=globalConfigSyncerKeeper]
[2024/05/17 10:52:48.764 +08:00] [INFO] [domain.go:781] ["infoSyncerKeeper exited."]
[2024/05/17 10:52:48.764 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=infoSyncerKeeper]
[2024/05/17 10:52:48.764 +08:00] [INFO] [domain.go:753] ["topNSlowQueryLoop exited."]
[2024/05/17 10:52:48.764 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=topNSlowQueryLoop]
[2024/05/17 10:52:48.764 +08:00] [INFO] [domain.go:1431] ["closestReplicaReadCheckLoop exited."]
[2024/05/17 10:52:48.764 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=closestReplicaReadCheckLoop]
[2024/05/17 10:52:48.764 +08:00] [INFO] [manager.go:179] ["handle tasks loop done"] [server-id=:4000]
[2024/05/17 10:52:48.764 +08:00] [INFO] [domain.go:1599] ["dist task executor manager stopped"]
[2024/05/17 10:52:48.764 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=distTaskFrameworkLoop]
[2024/05/17 10:52:48.765 +08:00] [INFO] [domain.go:1144] ["domain closed"] ["take time"=822.875µs]
[2024/05/17 10:52:48.770 +08:00] [INFO] [db.go:567] ["Closing database"]
[2024/05/17 10:52:48.770 +08:00] [INFO] [db.go:592] ["Memtable flushed"]
[2024/05/17 10:52:48.770 +08:00] [INFO] [db.go:596] ["Compaction finished"]
[2024/05/17 10:52:48.770 +08:00] [INFO] [db.go:615] ["BlobManager finished"]
[2024/05/17 10:52:48.770 +08:00] [INFO] [db.go:619] ["ResourceManager finished"]
[2024/05/17 10:52:48.770 +08:00] [INFO] [db.go:625] ["Waiting for closer"]
--- FAIL: TestPushDownProjectionForTiFlashCoprocessor (1.22s)
panic: inconsistent infoschema [recovered]
	panic: inconsistent infoschema [recovered]
	panic: inconsistent infoschema

goroutine 72 [running]:
testing.tRunner.func1.2({0x1085ac2a0, 0x108e8e660})
	/Users/bba/.gvm/gos/go1.21.0/src/testing/testing.go:1545 +0x1c8
testing.tRunner.func1()
	/Users/bba/.gvm/gos/go1.21.0/src/testing/testing.go:1548 +0x360
panic({0x1085ac2a0?, 0x108e8e660?})
	/Users/bba/.gvm/gos/go1.21.0/src/runtime/panic.go:914 +0x218
github.com/pingcap/tidb/pkg/executor.(*ExecStmt).Exec.func1()
	/Users/bba/pc/tidb/pkg/executor/adapter.go:452 +0x41c
panic({0x1085ac2a0?, 0x108e8e660?})
	/Users/bba/.gvm/gos/go1.21.0/src/runtime/panic.go:914 +0x218
github.com/pingcap/tidb/pkg/infoschema.(*InfoschemaV3).TableByID(0x14008149bb0, 0x1400647aeb0?)
	/Users/bba/pc/tidb/pkg/infoschema/infoschema_v3.go:201 +0xb8
github.com/pingcap/tidb/pkg/infoschema.(*SessionExtendedInfoSchema).TableByID(0x140053cac00, 0x68)
	/Users/bba/pc/tidb/pkg/infoschema/infoschema.go:760 +0x90
github.com/pingcap/tidb/pkg/executor.(*executorBuilder).buildMPPGather(0x1400547a380, 0x140054ebc80)
	/Users/bba/pc/tidb/pkg/executor/builder.go:3337 +0x560
github.com/pingcap/tidb/pkg/executor.(*executorBuilder).buildTableReader(0x1400547a380, 0x140054ebc80)
	/Users/bba/pc/tidb/pkg/executor/builder.go:3374 +0x928
github.com/pingcap/tidb/pkg/executor.(*executorBuilder).build(0x1400547a380, {0x108ef64f0?, 0x140054ebc80?})
	/Users/bba/pc/tidb/pkg/executor/builder.go:288 +0xae4
github.com/pingcap/tidb/pkg/executor.(*executorBuilder).buildProjection(0x1400547a380, 0x14005cee540)
	/Users/bba/pc/tidb/pkg/executor/builder.go:1775 +0x64
github.com/pingcap/tidb/pkg/executor.(*executorBuilder).build(0x1400547a380, {0x108ef6130?, 0x14005cee540?})
	/Users/bba/pc/tidb/pkg/executor/builder.go:276 +0xa0c
github.com/pingcap/tidb/pkg/executor.(*executorBuilder).buildExplain(0x1400547a380, 0x140043f36c0)
	/Users/bba/pc/tidb/pkg/executor/builder.go:1229 +0x1ac
github.com/pingcap/tidb/pkg/executor.(*executorBuilder).build(0x108f485f0?, {0x108ef5140?, 0x140043f36c0?})
	/Users/bba/pc/tidb/pkg/executor/builder.go:194 +0x43c
github.com/pingcap/tidb/pkg/executor.(*ExecStmt).buildExecutor(0x14009d6e780)
	/Users/bba/pc/tidb/pkg/executor/adapter.go:1172 +0x164
github.com/pingcap/tidb/pkg/executor.(*ExecStmt).Exec(0x14009d6e780, {0x108ed1a08, 0x140053cbe00})
	/Users/bba/pc/tidb/pkg/executor/adapter.go:522 +0x710
github.com/pingcap/tidb/pkg/session.runStmt({0x108ed1960, 0x10bf1e0a0}, 0x1400913b200, {0x108ee1dd0, 0x14009d6e780?})
	/Users/bba/pc/tidb/pkg/session/session.go:2285 +0x338
github.com/pingcap/tidb/pkg/session.(*session).ExecuteStmt(0x1400913b200, {0x108ed1960?, 0x10bf1e0a0?}, {0x108ee86b8, 0x14005452c40?})
	/Users/bba/pc/tidb/pkg/session/session.go:2146 +0xd94
github.com/pingcap/tidb/pkg/testkit.(*TestKit).ExecWithContext(0x140085c2f00, {0x108ed1960, 0x10bf1e0a0}, {0x14005481080, 0x31}, {0x0, 0x0, 0x0})
	/Users/bba/pc/tidb/pkg/testkit/testkit.go:384 +0x734
github.com/pingcap/tidb/pkg/testkit.(*TestKit).MustQueryWithContext(0x140085c2f00, {0x108ed1960, 0x10bf1e0a0}, {0x14005481080, 0x31}, {0x0, 0x0, 0x0})
	/Users/bba/pc/tidb/pkg/testkit/testkit.go:195 +0xc8
github.com/pingcap/tidb/pkg/testkit.(*TestKit).MustQuery(0x140090eadc0?, {0x14005481080?, 0x3?}, {0x0?, 0x10855a1c0?, 0x14004d59e30?})
	/Users/bba/pc/tidb/pkg/testkit/testkit.go:173 +0x78
github.com/pingcap/tidb/pkg/planner/core/casetest/pushdown.TestPushDownProjectionForTiFlashCoprocessor(0x14000509f98?)
	/Users/bba/pc/tidb/pkg/planner/core/casetest/pushdown/push_down_test.go:198 +0x498
testing.tRunner(0x14000d72b60, 0x108e834f8)
	/Users/bba/.gvm/gos/go1.21.0/src/testing/testing.go:1595 +0xe8
created by testing.(*T).Run in goroutine 1
	/Users/bba/.gvm/gos/go1.21.0/src/testing/testing.go:1648 +0x33c
[FAIL]  pkg/executor/test/showtest TestShow2
err=exit status 2
[2024/05/17 10:53:01.625 +08:00] [INFO] [store_cache.go:510] ["change store resolve state"] [store=1] [addr=store1] [from=unresolved] [to=resolved] [liveness-state=reachable]
[2024/05/17 10:53:01.639 +08:00] [INFO] [ddl_api.go:1141] ["Automatically convert BLOB(65535) to MEDIUMBLOB"] [category=ddl]
[2024/05/17 10:53:01.640 +08:00] [INFO] [ddl_api.go:1141] ["Automatically convert BLOB(65535) to MEDIUMBLOB"] [category=ddl]
[2024/05/17 10:53:01.643 +08:00] [INFO] [ddl_api.go:1141] ["Automatically convert BLOB(65535) to MEDIUMBLOB"] [category=ddl]
[2024/05/17 10:53:01.643 +08:00] [INFO] [ddl_api.go:1141] ["Automatically convert BLOB(65535) to MEDIUMBLOB"] [category=ddl]
[2024/05/17 10:53:01.644 +08:00] [INFO] [ddl_api.go:1141] ["Automatically convert BLOB(65535) to MEDIUMBLOB"] [category=ddl]
[2024/05/17 10:53:01.646 +08:00] [INFO] [tidb.go:80] ["new domain"] [store=507affd7-5861-4835-b2ab-918566360b64] ["ddl lease"=500ms] ["stats lease"=-1ns]
[2024/05/17 10:53:01.651 +08:00] [WARN] [controller.go:198] ["[resource group controller] server does not save config, load config failed"]
[2024/05/17 10:53:01.652 +08:00] [INFO] [controller.go:185] ["load resource controller config"] [config="{\"degraded-mode-wait-duration\":\"0s\",\"ltb-max-wait-duration\":\"30s\",\"wait-retry-interval\":\"50ms\",\"wait-retry-times\":10,\"request-unit\":{\"read-base-cost\":0.125,\"read-per-batch-base-cost\":0.5,\"read-cost-per-byte\":0.0000152587890625,\"write-base-cost\":1,\"write-per-batch-base-cost\":1,\"write-cost-per-byte\":0.0009765625,\"read-cpu-ms-cost\":0.3333333333333333},\"enable-controller-trace-log\":\"false\"}"] [ru-config="{\"ReadBaseCost\":0.125,\"ReadPerBatchBaseCost\":0.5,\"ReadBytesCost\":0.0000152587890625,\"WriteBaseCost\":1,\"WritePerBatchBaseCost\":1,\"WriteBytesCost\":0.0009765625,\"CPUMsCost\":0.3333333333333333,\"LTBMaxWaitDuration\":30000000000,\"WaitRetryInterval\":50000000,\"WaitRetryTimes\":10,\"DegradedModeWaitDuration\":0}"]
[2024/05/17 10:53:01.652 +08:00] [WARN] [domain.go:302] ["failed to get schema version"] [error="There is no Write MVCC info for the schema version"] [errorVerbose="There is no Write MVCC info for the schema version\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).getTimestampForSchemaVersionWithNonEmptyDiff\n\t/Users/bba/pc/tidb/pkg/domain/domain.go:405\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).loadInfoSchema\n\t/Users/bba/pc/tidb/pkg/domain/domain.go:300\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).Reload\n\t/Users/bba/pc/tidb/pkg/domain/domain.go:676\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).Init\n\t/Users/bba/pc/tidb/pkg/domain/domain.go:1330\ngithub.com/pingcap/tidb/pkg/session.(*domainMap).Get.func1\n\t/Users/bba/pc/tidb/pkg/session/tidb.go:92\ngithub.com/pingcap/tidb/pkg/util.RunWithRetry\n\t/Users/bba/pc/tidb/pkg/util/misc.go:70\ngithub.com/pingcap/tidb/pkg/session.(*domainMap).Get\n\t/Users/bba/pc/tidb/pkg/session/tidb.go:79\ngithub.com/pingcap/tidb/pkg/session.createSessionWithOpt\n\t/Users/bba/pc/tidb/pkg/session/session.go:3634\ngithub.com/pingcap/tidb/pkg/session.createSession\n\t/Users/bba/pc/tidb/pkg/session/session.go:3626\ngithub.com/pingcap/tidb/pkg/session.runInBootstrapSession\n\t/Users/bba/pc/tidb/pkg/session/session.go:3576\ngithub.com/pingcap/tidb/pkg/session.bootstrapSessionImpl\n\t/Users/bba/pc/tidb/pkg/session/session.go:3352\ngithub.com/pingcap/tidb/pkg/session.BootstrapSession\n\t/Users/bba/pc/tidb/pkg/session/session.go:3318\ngithub.com/pingcap/tidb/pkg/testkit.bootstrap\n\t/Users/bba/pc/tidb/pkg/testkit/mockstore.go:294\ngithub.com/pingcap/tidb/pkg/testkit.CreateMockStoreAndDomain\n\t/Users/bba/pc/tidb/pkg/testkit/mockstore.go:265\ngithub.com/pingcap/tidb/pkg/executor/test/showtest.TestShow2\n\t/Users/bba/pc/tidb/pkg/executor/test/showtest/show_test.go:431\ntesting.tRunner\n\t/Users/bba/.gvm/gos/go1.21.0/src/testing/testing.go:1595\nruntime.goexit\n\t/Users/bba/.gvm/gos/go1.21.0/src/runtime/asm_arm64.s:1197"] [version=0]
[2024/05/17 10:53:01.660 +08:00] [INFO] [domain.go:385] ["full load InfoSchema success"] [currentSchemaVersion=0] [neededSchemaVersion=0] ["start time"=7.159416ms]
[2024/05/17 10:53:01.661 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=0] ["schema version"=0]
[2024/05/17 10:53:01.661 +08:00] [INFO] [domain.go:705] ["full load and reset schema validator"]
[2024/05/17 10:53:01.661 +08:00] [INFO] [ddl.go:818] ["start DDL"] [category=ddl] [ID=c2baa36a-6794-4409-be64-13e3f45b73b1] [runWorker=true]
[2024/05/17 10:53:01.661 +08:00] [INFO] [ddl.go:777] ["start delRangeManager OK"] [category=ddl] ["is a emulator"=true]
[2024/05/17 10:53:01.661 +08:00] [WARN] [env.go:51] ["initialize environment failed"] [category=ddl-ingest] ["storage limitation"="only support TiKV storage"] ["current storage"=unistore] ["lightning is initialized"=false]
[2024/05/17 10:53:01.662 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=loadSchemaInLoop]
[2024/05/17 10:53:01.662 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=mdlCheckLoop]
[2024/05/17 10:53:01.662 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=topNSlowQueryLoop]
[2024/05/17 10:53:01.662 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=infoSyncerKeeper]
[2024/05/17 10:53:01.662 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=globalConfigSyncerKeeper]
[2024/05/17 10:53:01.662 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=runawayStartLoop]
[2024/05/17 10:53:01.662 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=requestUnitsWriterLoop]
[2024/05/17 10:53:01.662 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=topologySyncerKeeper]
[2024/05/17 10:53:01.662 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=closestReplicaReadCheckLoop]
[2024/05/17 10:53:01.662 +08:00] [WARN] [domain.go:1396] ["pd / etcd client not provided, won't begin Advancer."]
[2024/05/17 10:53:01.671 +08:00] [INFO] [delete_range.go:172] ["start delRange emulator"] [category=ddl]
[2024/05/17 10:53:01.672 +08:00] [INFO] [job_table.go:334] ["get global state and global state change"] [category=ddl] [oldState=false] [currState=false]
[2024/05/17 10:53:01.673 +08:00] [INFO] [runaway.go:149] ["try to start runaway manager loop"]
[2024/05/17 10:53:01.673 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=requestUnitsWriterLoop]
[2024/05/17 10:53:01.722 +08:00] [INFO] [job_table.go:334] ["get global state and global state change"] [category=ddl] [oldState=false] [currState=false]
[2024/05/17 10:53:01.722 +08:00] [INFO] [job_table.go:349] ["the owner sets owner operator value"] [category=ddl] [ownerOp=none]
[2024/05/17 10:53:01.871 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=0] [cur_db=mysql] [sql="CREATE DATABASE IF NOT EXISTS test"] [user=]
[2024/05/17 10:53:01.878 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:3, Type:create schema, State:queueing, SchemaState:none, SchemaID:2, TableID:0, RowCount:0, ArgLen:1, start time: 2024-05-17 10:53:01.874 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:53:01.878 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:3, Type:create schema, State:queueing, SchemaState:none, SchemaID:2, TableID:0, RowCount:0, ArgLen:1, start time: 2024-05-17 10:53:01.874 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE DATABASE IF NOT EXISTS test"]
[2024/05/17 10:53:01.887 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=3] [category=ddl] [job="ID:3, Type:create schema, State:queueing, SchemaState:none, SchemaID:2, TableID:0, RowCount:0, ArgLen:0, start time: 2024-05-17 10:53:01.874 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:53:01.896 +08:00] [INFO] [domain.go:385] ["full load InfoSchema success"] [currentSchemaVersion=0] [neededSchemaVersion=1] ["start time"=6.690125ms]
[2024/05/17 10:53:01.897 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816659725910016] ["schema version"=1]
[2024/05/17 10:53:01.897 +08:00] [INFO] [domain.go:705] ["full load and reset schema validator"]
[2024/05/17 10:53:01.898 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:53:01.898 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=3] [version=1]
[2024/05/17 10:53:01.900 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=1] ["take time"=10.053ms] [job="ID:3, Type:create schema, State:done, SchemaState:public, SchemaID:2, TableID:0, RowCount:0, ArgLen:1, start time: 2024-05-17 10:53:01.874 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:53:01.903 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=3] [job="ID:3, Type:create schema, State:synced, SchemaState:public, SchemaID:2, TableID:0, RowCount:0, ArgLen:0, start time: 2024-05-17 10:53:01.874 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:53:01.906 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=3]
[2024/05/17 10:53:01.906 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:53:01.906 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816659725910016] ["schema version"=1]
[2024/05/17 10:53:01.906 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=1] [cur_db=mysql] [sql="CREATE DATABASE IF NOT EXISTS `mysql`"] [user=]
[2024/05/17 10:53:01.906 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=1] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.user (\n\t\tHost\t\t\t\t\tCHAR(255),\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tauthentication_string\tTEXT,\n\t\tplugin\t\t\t\t\tCHAR(64),\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tProcess_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_db_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tSuper_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_user_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_slave_priv\t    \tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_client_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_role_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_role_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAccount_locked\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShutdown_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReload_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tFILE_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tConfig_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_Tablespace_Priv  ENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPassword_reuse_history  smallint unsigned DEFAULT NULL,\n\t\tPassword_reuse_time     smallint unsigned DEFAULT NULL,\n\t\tUser_attributes\t\t\tjson,\n\t\tToken_issuer\t\t\tVARCHAR(255),\n\t\tPassword_expired\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPassword_last_changed\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP(),\n\t\tPassword_lifetime\t\tSMALLINT UNSIGNED DEFAULT NULL,\n\t\tPRIMARY KEY (Host, User));"] [user=]
[2024/05/17 10:53:01.908 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:5, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:4, RowCount:0, ArgLen:2, start time: 2024-05-17 10:53:01.907 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:53:01.908 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:5, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:4, RowCount:0, ArgLen:2, start time: 2024-05-17 10:53:01.907 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.user (\n\t\tHost\t\t\t\t\tCHAR(255),\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tauthentication_string\tTEXT,\n\t\tplugin\t\t\t\t\tCHAR(64),\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tProcess_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_db_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tSuper_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_user_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_slave_priv\t    \tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_client_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_role_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_role_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAccount_locked\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShutdown_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReload_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tFILE_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tConfig_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_Tablespace_Priv  ENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPassword_reuse_history  smallint unsigned DEFAULT NULL,\n\t\tPassword_reuse_time     smallint unsigned DEFAULT NULL,\n\t\tUser_attributes\t\t\tjson,\n\t\tToken_issuer\t\t\tVARCHAR(255),\n\t\tPassword_expired\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPassword_last_changed\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP(),\n\t\tPassword_lifetime\t\tSMALLINT UNSIGNED DEFAULT NULL,\n\t\tPRIMARY KEY (Host, User));"]
[2024/05/17 10:53:01.912 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=5] [category=ddl] [job="ID:5, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:4, RowCount:0, ArgLen:0, start time: 2024-05-17 10:53:01.907 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:53:01.918 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816659733250048] ["schema version"=2]
[2024/05/17 10:53:01.918 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=1] [neededSchemaVersion=2] ["start time"=775.416µs] [gotSchemaVersion=2] [phyTblIDs="[4]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:53:01.918 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:53:01.918 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=5] [version=2]
[2024/05/17 10:53:01.919 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=2] ["take time"=2.750916ms] [job="ID:5, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:4, RowCount:0, ArgLen:2, start time: 2024-05-17 10:53:01.907 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:53:01.924 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=5] [job="ID:5, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:4, RowCount:0, ArgLen:0, start time: 2024-05-17 10:53:01.907 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:53:01.925 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816659733250048] ["schema version"=2]
[2024/05/17 10:53:01.927 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=5]
[2024/05/17 10:53:01.927 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:53:01.927 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816659733250048] ["schema version"=2]
[2024/05/17 10:53:01.928 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=2] [cur_db=mysql] [sql="CREATE TABLE  IF NOT EXISTS mysql.password_history (\n         Host char(255)  NOT NULL DEFAULT '',\n         User char(32)  NOT NULL DEFAULT '',\n         Password_timestamp timestamp(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6),\n         Password text,\n         PRIMARY KEY (Host,User,Password_timestamp )\n        ) COMMENT='Password history for user accounts' "] [user=]
[2024/05/17 10:53:01.929 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:7, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:6, RowCount:0, ArgLen:2, start time: 2024-05-17 10:53:01.929 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:53:01.929 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:7, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:6, RowCount:0, ArgLen:2, start time: 2024-05-17 10:53:01.929 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE  IF NOT EXISTS mysql.password_history (\n         Host char(255)  NOT NULL DEFAULT '',\n         User char(32)  NOT NULL DEFAULT '',\n         Password_timestamp timestamp(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6),\n         Password text,\n         PRIMARY KEY (Host,User,Password_timestamp )\n        ) COMMENT='Password history for user accounts' "]
[2024/05/17 10:53:01.937 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=7] [category=ddl] [job="ID:7, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:6, RowCount:0, ArgLen:0, start time: 2024-05-17 10:53:01.929 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:53:01.939 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816659739017216] ["schema version"=3]
[2024/05/17 10:53:01.939 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=2] [neededSchemaVersion=3] ["start time"=261.292µs] [gotSchemaVersion=3] [phyTblIDs="[6]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:53:01.940 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:53:01.940 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=7] [version=3]
[2024/05/17 10:53:01.942 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=3] ["take time"=3.330583ms] [job="ID:7, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:6, RowCount:0, ArgLen:2, start time: 2024-05-17 10:53:01.929 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:53:01.948 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=7] [job="ID:7, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:6, RowCount:0, ArgLen:0, start time: 2024-05-17 10:53:01.929 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:53:01.950 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=7]
[2024/05/17 10:53:01.950 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:53:01.950 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816659739017216] ["schema version"=3]
[2024/05/17 10:53:01.950 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=3] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.global_priv (Host CHAR(255) NOT NULL DEFAULT '',User CHAR(80) NOT NULL DEFAULT '',Priv LONGTEXT NOT NULL DEFAULT '',PRIMARY KEY (Host, User))"] [user=]
[2024/05/17 10:53:01.951 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:9, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:8, RowCount:0, ArgLen:2, start time: 2024-05-17 10:53:01.951 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:53:01.951 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:9, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:8, RowCount:0, ArgLen:2, start time: 2024-05-17 10:53:01.951 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.global_priv (Host CHAR(255) NOT NULL DEFAULT '',User CHAR(80) NOT NULL DEFAULT '',Priv LONGTEXT NOT NULL DEFAULT '',PRIMARY KEY (Host, User))"]
[2024/05/17 10:53:01.955 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=9] [category=ddl] [job="ID:9, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:8, RowCount:0, ArgLen:0, start time: 2024-05-17 10:53:01.951 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:53:01.956 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816659743473664] ["schema version"=4]
[2024/05/17 10:53:01.956 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=3] [neededSchemaVersion=4] ["start time"=179.167µs] [gotSchemaVersion=4] [phyTblIDs="[8]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:53:01.957 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:53:01.957 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=9] [version=4]
[2024/05/17 10:53:01.958 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=4] ["take time"=2.06575ms] [job="ID:9, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:8, RowCount:0, ArgLen:2, start time: 2024-05-17 10:53:01.951 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:53:01.961 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=9] [job="ID:9, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:8, RowCount:0, ArgLen:0, start time: 2024-05-17 10:53:01.951 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:53:01.963 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=9]
[2024/05/17 10:53:01.963 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:53:01.963 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816659743473664] ["schema version"=4]
[2024/05/17 10:53:01.963 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=4] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.db (\n\t\tHost\t\t\t\t\tCHAR(255),\n\t\tDB\t\t\t\t\t\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv \t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (Host, DB, User));"] [user=]
[2024/05/17 10:53:01.965 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:11, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:10, RowCount:0, ArgLen:2, start time: 2024-05-17 10:53:01.964 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:53:01.965 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:11, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:10, RowCount:0, ArgLen:2, start time: 2024-05-17 10:53:01.964 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.db (\n\t\tHost\t\t\t\t\tCHAR(255),\n\t\tDB\t\t\t\t\t\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv \t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (Host, DB, User));"]
[2024/05/17 10:53:01.968 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=11] [category=ddl] [job="ID:11, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:10, RowCount:0, ArgLen:0, start time: 2024-05-17 10:53:01.964 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:53:01.971 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816659747143680] ["schema version"=5]
[2024/05/17 10:53:01.971 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=4] [neededSchemaVersion=5] ["start time"=452.333µs] [gotSchemaVersion=5] [phyTblIDs="[10]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:53:01.971 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:53:01.971 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=11] [version=5]
[2024/05/17 10:53:01.972 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=5] ["take time"=2.143ms] [job="ID:11, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:10, RowCount:0, ArgLen:2, start time: 2024-05-17 10:53:01.964 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:53:01.976 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=11] [job="ID:11, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:10, RowCount:0, ArgLen:0, start time: 2024-05-17 10:53:01.964 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:53:01.979 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=11]
[2024/05/17 10:53:01.979 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:53:01.979 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816659747143680] ["schema version"=5]
[2024/05/17 10:53:01.979 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=5] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tables_priv (\n\t\tHost\t\tCHAR(255),\n\t\tDB\t\t\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tGrantor\t\tCHAR(77),\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tTable_priv\tSET('Select','Insert','Update','Delete','Create','Drop','Grant','Index','Alter','Create View','Show View','Trigger','References'),\n\t\tColumn_priv\tSET('Select','Insert','Update','References'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name));"] [user=]
[2024/05/17 10:53:01.980 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:13, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:12, RowCount:0, ArgLen:2, start time: 2024-05-17 10:53:01.98 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:53:01.980 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:13, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:12, RowCount:0, ArgLen:2, start time: 2024-05-17 10:53:01.98 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tables_priv (\n\t\tHost\t\tCHAR(255),\n\t\tDB\t\t\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tGrantor\t\tCHAR(77),\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tTable_priv\tSET('Select','Insert','Update','Delete','Create','Drop','Grant','Index','Alter','Create View','Show View','Trigger','References'),\n\t\tColumn_priv\tSET('Select','Insert','Update','References'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name));"]
[2024/05/17 10:53:01.984 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=13] [category=ddl] [job="ID:13, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:12, RowCount:0, ArgLen:0, start time: 2024-05-17 10:53:01.98 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:53:01.985 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816659751075840] ["schema version"=6]
[2024/05/17 10:53:01.985 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=5] [neededSchemaVersion=6] ["start time"=254.417µs] [gotSchemaVersion=6] [phyTblIDs="[12]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:53:01.986 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:53:01.986 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=13] [version=6]
[2024/05/17 10:53:01.987 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=6] ["take time"=2.006875ms] [job="ID:13, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:12, RowCount:0, ArgLen:2, start time: 2024-05-17 10:53:01.98 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:53:01.991 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=13] [job="ID:13, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:12, RowCount:0, ArgLen:0, start time: 2024-05-17 10:53:01.98 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:53:01.992 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=13]
[2024/05/17 10:53:01.992 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:53:01.992 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816659751075840] ["schema version"=6]
[2024/05/17 10:53:01.993 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=6] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.columns_priv(\n\t\tHost\t\tCHAR(255),\n\t\tDB\t\t\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tColumn_name\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tColumn_priv\tSET('Select','Insert','Update','References'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name, Column_name));"] [user=]
[2024/05/17 10:53:01.994 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:15, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:14, RowCount:0, ArgLen:2, start time: 2024-05-17 10:53:01.993 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:53:01.994 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:15, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:14, RowCount:0, ArgLen:2, start time: 2024-05-17 10:53:01.993 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.columns_priv(\n\t\tHost\t\tCHAR(255),\n\t\tDB\t\t\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tColumn_name\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tColumn_priv\tSET('Select','Insert','Update','References'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name, Column_name));"]
[2024/05/17 10:53:01.997 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=15] [category=ddl] [job="ID:15, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:14, RowCount:0, ArgLen:0, start time: 2024-05-17 10:53:01.993 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:53:01.999 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816659754483714] ["schema version"=7]
[2024/05/17 10:53:01.999 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=6] [neededSchemaVersion=7] ["start time"=221.583µs] [gotSchemaVersion=7] [phyTblIDs="[14]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:53:01.999 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:53:01.999 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=15] [version=7]
[2024/05/17 10:53:02.001 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=7] ["take time"=2.659209ms] [job="ID:15, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:14, RowCount:0, ArgLen:2, start time: 2024-05-17 10:53:01.993 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:53:02.004 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=15] [job="ID:15, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:14, RowCount:0, ArgLen:0, start time: 2024-05-17 10:53:01.993 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:53:02.006 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=15]
[2024/05/17 10:53:02.006 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:53:02.006 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816659754483714] ["schema version"=7]
[2024/05/17 10:53:02.006 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=7] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.GLOBAL_VARIABLES(\n\t\tVARIABLE_NAME  VARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE VARCHAR(16383) DEFAULT NULL);"] [user=]
[2024/05/17 10:53:02.007 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:17, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:16, RowCount:0, ArgLen:2, start time: 2024-05-17 10:53:02.006 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:53:02.007 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:17, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:16, RowCount:0, ArgLen:2, start time: 2024-05-17 10:53:02.006 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.GLOBAL_VARIABLES(\n\t\tVARIABLE_NAME  VARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE VARCHAR(16383) DEFAULT NULL);"]
[2024/05/17 10:53:02.010 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=17] [category=ddl] [job="ID:17, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:16, RowCount:0, ArgLen:0, start time: 2024-05-17 10:53:02.006 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:53:02.011 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816659757891585] ["schema version"=8]
[2024/05/17 10:53:02.011 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=7] [neededSchemaVersion=8] ["start time"=149.583µs] [gotSchemaVersion=8] [phyTblIDs="[16]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:53:02.012 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:53:02.012 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=17] [version=8]
[2024/05/17 10:53:02.013 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=8] ["take time"=2.051041ms] [job="ID:17, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:16, RowCount:0, ArgLen:2, start time: 2024-05-17 10:53:02.006 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:53:02.018 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=17] [job="ID:17, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:16, RowCount:0, ArgLen:0, start time: 2024-05-17 10:53:02.006 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:53:02.019 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=17]
[2024/05/17 10:53:02.019 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:53:02.019 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816659757891585] ["schema version"=8]
[2024/05/17 10:53:02.019 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=8] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb(\n\t\tVARIABLE_NAME  \tVARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE \tVARCHAR(1024) DEFAULT NULL,\n\t\tCOMMENT \t\tVARCHAR(1024));"] [user=]
[2024/05/17 10:53:02.020 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:19, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:18, RowCount:0, ArgLen:2, start time: 2024-05-17 10:53:02.02 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:53:02.020 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:19, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:18, RowCount:0, ArgLen:2, start time: 2024-05-17 10:53:02.02 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb(\n\t\tVARIABLE_NAME  \tVARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE \tVARCHAR(1024) DEFAULT NULL,\n\t\tCOMMENT \t\tVARCHAR(1024));"]
[2024/05/17 10:53:02.024 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=19] [category=ddl] [job="ID:19, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:18, RowCount:0, ArgLen:0, start time: 2024-05-17 10:53:02.02 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:53:02.025 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816659761561600] ["schema version"=9]
[2024/05/17 10:53:02.025 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=8] [neededSchemaVersion=9] ["start time"=174.334µs] [gotSchemaVersion=9] [phyTblIDs="[18]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:53:02.026 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:53:02.026 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=19] [version=9]
[2024/05/17 10:53:02.027 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=9] ["take time"=2.011083ms] [job="ID:19, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:18, RowCount:0, ArgLen:2, start time: 2024-05-17 10:53:02.02 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:53:02.032 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=19] [job="ID:19, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:18, RowCount:0, ArgLen:0, start time: 2024-05-17 10:53:02.02 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:53:02.034 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=19]
[2024/05/17 10:53:02.034 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:53:02.034 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816659761561600] ["schema version"=9]
[2024/05/17 10:53:02.035 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=9] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.help_topic (\n  \t\thelp_topic_id \t\tINT(10) UNSIGNED NOT NULL,\n  \t\tname \t\t\t\tCHAR(64) NOT NULL,\n  \t\thelp_category_id \tSMALLINT(5) UNSIGNED NOT NULL,\n  \t\tdescription \t\tTEXT NOT NULL,\n  \t\texample \t\t\tTEXT NOT NULL,\n  \t\turl \t\t\t\tTEXT NOT NULL,\n  \t\tPRIMARY KEY (help_topic_id) clustered,\n  \t\tUNIQUE KEY name (name)\n\t\t) ENGINE=InnoDB DEFAULT CHARSET=utf8 STATS_PERSISTENT=0 COMMENT='help topics';"] [user=]
[2024/05/17 10:53:02.037 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:21, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:20, RowCount:0, ArgLen:2, start time: 2024-05-17 10:53:02.036 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:53:02.037 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:21, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:20, RowCount:0, ArgLen:2, start time: 2024-05-17 10:53:02.036 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.help_topic (\n  \t\thelp_topic_id \t\tINT(10) UNSIGNED NOT NULL,\n  \t\tname \t\t\t\tCHAR(64) NOT NULL,\n  \t\thelp_category_id \tSMALLINT(5) UNSIGNED NOT NULL,\n  \t\tdescription \t\tTEXT NOT NULL,\n  \t\texample \t\t\tTEXT NOT NULL,\n  \t\turl \t\t\t\tTEXT NOT NULL,\n  \t\tPRIMARY KEY (help_topic_id) clustered,\n  \t\tUNIQUE KEY name (name)\n\t\t) ENGINE=InnoDB DEFAULT CHARSET=utf8 STATS_PERSISTENT=0 COMMENT='help topics';"]
[2024/05/17 10:53:02.040 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=21] [category=ddl] [job="ID:21, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:20, RowCount:0, ArgLen:0, start time: 2024-05-17 10:53:02.036 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:53:02.043 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816659766018048] ["schema version"=10]
[2024/05/17 10:53:02.043 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=9] [neededSchemaVersion=10] ["start time"=214.584µs] [gotSchemaVersion=10] [phyTblIDs="[20]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:53:02.043 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:53:02.043 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=21] [version=10]
[2024/05/17 10:53:02.044 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=10] ["take time"=2.022959ms] [job="ID:21, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:20, RowCount:0, ArgLen:2, start time: 2024-05-17 10:53:02.036 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:53:02.049 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=21] [job="ID:21, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:20, RowCount:0, ArgLen:0, start time: 2024-05-17 10:53:02.036 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:53:02.051 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=21]
[2024/05/17 10:53:02.051 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:53:02.051 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816659766018048] ["schema version"=10]
[2024/05/17 10:53:02.051 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=10] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_meta (\n\t\tversion \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\ttable_id \t\tBIGINT(64) NOT NULL,\n\t\tmodify_count\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcount \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tsnapshot        BIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tINDEX idx_ver(version),\n\t\tUNIQUE INDEX tbl(table_id)\n\t);"] [user=]
[2024/05/17 10:53:02.053 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:23, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:22, RowCount:0, ArgLen:2, start time: 2024-05-17 10:53:02.052 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:53:02.053 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:23, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:22, RowCount:0, ArgLen:2, start time: 2024-05-17 10:53:02.052 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_meta (\n\t\tversion \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\ttable_id \t\tBIGINT(64) NOT NULL,\n\t\tmodify_count\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcount \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tsnapshot        BIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tINDEX idx_ver(version),\n\t\tUNIQUE INDEX tbl(table_id)\n\t);"]
[2024/05/17 10:53:02.056 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=23] [category=ddl] [job="ID:23, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:22, RowCount:0, ArgLen:0, start time: 2024-05-17 10:53:02.052 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:53:02.058 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816659770212352] ["schema version"=11]
[2024/05/17 10:53:02.058 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=10] [neededSchemaVersion=11] ["start time"=222.875µs] [gotSchemaVersion=11] [phyTblIDs="[22]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:53:02.059 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:53:02.059 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=23] [version=11]
[2024/05/17 10:53:02.062 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=11] ["take time"=4.2595ms] [job="ID:23, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:22, RowCount:0, ArgLen:2, start time: 2024-05-17 10:53:02.052 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:53:02.067 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=23] [job="ID:23, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:22, RowCount:0, ArgLen:0, start time: 2024-05-17 10:53:02.052 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:53:02.069 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=23]
[2024/05/17 10:53:02.069 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:53:02.069 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816659770212352] ["schema version"=11]
[2024/05/17 10:53:02.069 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=11] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_histograms (\n\t\ttable_id \t\t\tBIGINT(64) NOT NULL,\n\t\tis_index \t\t\tTINYINT(2) NOT NULL,\n\t\thist_id \t\t\tBIGINT(64) NOT NULL,\n\t\tdistinct_count \t\tBIGINT(64) NOT NULL,\n\t\tnull_count \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\ttot_col_size \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tmodify_count \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tversion \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tcm_sketch \t\t\tBLOB(6291456),\n\t\tstats_ver \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tflag \t\t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcorrelation \t\tDOUBLE NOT NULL DEFAULT 0,\n\t\tlast_analyze_pos \tLONGBLOB DEFAULT NULL,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id)\n\t);"] [user=]
[2024/05/17 10:53:02.069 +08:00] [INFO] [ddl_api.go:1141] ["Automatically convert BLOB(6291456) to MEDIUMBLOB"] [category=ddl]
[2024/05/17 10:53:02.070 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:25, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:24, RowCount:0, ArgLen:2, start time: 2024-05-17 10:53:02.069 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:53:02.070 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:25, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:24, RowCount:0, ArgLen:2, start time: 2024-05-17 10:53:02.069 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_histograms (\n\t\ttable_id \t\t\tBIGINT(64) NOT NULL,\n\t\tis_index \t\t\tTINYINT(2) NOT NULL,\n\t\thist_id \t\t\tBIGINT(64) NOT NULL,\n\t\tdistinct_count \t\tBIGINT(64) NOT NULL,\n\t\tnull_count \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\ttot_col_size \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tmodify_count \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tversion \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tcm_sketch \t\t\tBLOB(6291456),\n\t\tstats_ver \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tflag \t\t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcorrelation \t\tDOUBLE NOT NULL DEFAULT 0,\n\t\tlast_analyze_pos \tLONGBLOB DEFAULT NULL,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id)\n\t);"]
[2024/05/17 10:53:02.074 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=25] [category=ddl] [job="ID:25, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:24, RowCount:0, ArgLen:0, start time: 2024-05-17 10:53:02.069 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:53:02.076 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816659774668801] ["schema version"=12]
[2024/05/17 10:53:02.076 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=11] [neededSchemaVersion=12] ["start time"=337.75µs] [gotSchemaVersion=12] [phyTblIDs="[24]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:53:02.077 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:53:02.077 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=25] [version=12]
[2024/05/17 10:53:02.078 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=12] ["take time"=2.019ms] [job="ID:25, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:24, RowCount:0, ArgLen:2, start time: 2024-05-17 10:53:02.069 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:53:02.081 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=25] [job="ID:25, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:24, RowCount:0, ArgLen:0, start time: 2024-05-17 10:53:02.069 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:53:02.084 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=25]
[2024/05/17 10:53:02.084 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:53:02.084 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816659774668801] ["schema version"=12]
[2024/05/17 10:53:02.084 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=12] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_buckets (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tbucket_id \tBIGINT(64) NOT NULL,\n\t\tcount \t\tBIGINT(64) NOT NULL,\n\t\trepeats \tBIGINT(64) NOT NULL,\n\t\tupper_bound LONGBLOB NOT NULL,\n\t\tlower_bound LONGBLOB ,\n\t\tndv         BIGINT NOT NULL DEFAULT 0,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id, bucket_id)\n\t);"] [user=]
[2024/05/17 10:53:02.085 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:27, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:26, RowCount:0, ArgLen:2, start time: 2024-05-17 10:53:02.085 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:53:02.085 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:27, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:26, RowCount:0, ArgLen:2, start time: 2024-05-17 10:53:02.085 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_buckets (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tbucket_id \tBIGINT(64) NOT NULL,\n\t\tcount \t\tBIGINT(64) NOT NULL,\n\t\trepeats \tBIGINT(64) NOT NULL,\n\t\tupper_bound LONGBLOB NOT NULL,\n\t\tlower_bound LONGBLOB ,\n\t\tndv         BIGINT NOT NULL DEFAULT 0,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id, bucket_id)\n\t);"]
[2024/05/17 10:53:02.089 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=27] [category=ddl] [job="ID:27, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:26, RowCount:0, ArgLen:0, start time: 2024-05-17 10:53:02.085 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:53:02.091 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816659778600962] ["schema version"=13]
[2024/05/17 10:53:02.091 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=12] [neededSchemaVersion=13] ["start time"=282.5µs] [gotSchemaVersion=13] [phyTblIDs="[26]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:53:02.091 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:53:02.091 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=27] [version=13]
[2024/05/17 10:53:02.092 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=13] ["take time"=2.063208ms] [job="ID:27, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:26, RowCount:0, ArgLen:2, start time: 2024-05-17 10:53:02.085 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:53:02.096 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=27] [job="ID:27, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:26, RowCount:0, ArgLen:0, start time: 2024-05-17 10:53:02.085 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:53:02.098 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=27]
[2024/05/17 10:53:02.098 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:53:02.098 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816659778600962] ["schema version"=13]
[2024/05/17 10:53:02.098 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=13] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_index (job_id, element_id)\n\t);"] [user=]
[2024/05/17 10:53:02.099 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:29, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:28, RowCount:0, ArgLen:2, start time: 2024-05-17 10:53:02.098 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:53:02.099 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:29, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:28, RowCount:0, ArgLen:2, start time: 2024-05-17 10:53:02.098 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_index (job_id, element_id)\n\t);"]
[2024/05/17 10:53:02.102 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=29] [category=ddl] [job="ID:29, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:28, RowCount:0, ArgLen:0, start time: 2024-05-17 10:53:02.098 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:53:02.104 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816659782270976] ["schema version"=14]
[2024/05/17 10:53:02.104 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=13] [neededSchemaVersion=14] ["start time"=193.958µs] [gotSchemaVersion=14] [phyTblIDs="[28]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:53:02.105 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:53:02.105 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=29] [version=14]
[2024/05/17 10:53:02.107 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=14] ["take time"=3.117458ms] [job="ID:29, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:28, RowCount:0, ArgLen:2, start time: 2024-05-17 10:53:02.098 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:53:02.110 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=29] [job="ID:29, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:28, RowCount:0, ArgLen:0, start time: 2024-05-17 10:53:02.098 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:53:02.112 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=29]
[2024/05/17 10:53:02.112 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:53:02.112 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816659782270976] ["schema version"=14]
[2024/05/17 10:53:02.112 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=14] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range_done (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_done_index (job_id, element_id)\n\t);"] [user=]
[2024/05/17 10:53:02.113 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:31, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:30, RowCount:0, ArgLen:2, start time: 2024-05-17 10:53:02.113 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:53:02.114 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:31, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:30, RowCount:0, ArgLen:2, start time: 2024-05-17 10:53:02.113 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range_done (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_done_index (job_id, element_id)\n\t);"]
[2024/05/17 10:53:02.118 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=31] [category=ddl] [job="ID:31, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:30, RowCount:0, ArgLen:0, start time: 2024-05-17 10:53:02.113 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:53:02.121 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816659786727424] ["schema version"=15]
[2024/05/17 10:53:02.121 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=14] [neededSchemaVersion=15] ["start time"=294.584µs] [gotSchemaVersion=15] [phyTblIDs="[30]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:53:02.122 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:53:02.122 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=31] [version=15]
[2024/05/17 10:53:02.125 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=15] ["take time"=4.117875ms] [job="ID:31, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:30, RowCount:0, ArgLen:2, start time: 2024-05-17 10:53:02.113 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:53:02.133 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=31] [job="ID:31, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:30, RowCount:0, ArgLen:0, start time: 2024-05-17 10:53:02.113 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:53:02.135 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=31]
[2024/05/17 10:53:02.135 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:53:02.135 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816659786727424] ["schema version"=15]
[2024/05/17 10:53:02.135 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=15] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_feedback (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tfeedback \tBLOB NOT NULL,\n\t\tINDEX hist(table_id, is_index, hist_id)\n\t);"] [user=]
[2024/05/17 10:53:02.138 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:33, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:32, RowCount:0, ArgLen:2, start time: 2024-05-17 10:53:02.137 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:53:02.138 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:33, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:32, RowCount:0, ArgLen:2, start time: 2024-05-17 10:53:02.137 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_feedback (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tfeedback \tBLOB NOT NULL,\n\t\tINDEX hist(table_id, is_index, hist_id)\n\t);"]
[2024/05/17 10:53:02.146 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=33] [category=ddl] [job="ID:33, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:32, RowCount:0, ArgLen:0, start time: 2024-05-17 10:53:02.137 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:53:02.148 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816659793805312] ["schema version"=16]
[2024/05/17 10:53:02.148 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=15] [neededSchemaVersion=16] ["start time"=274.875µs] [gotSchemaVersion=16] [phyTblIDs="[32]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:53:02.150 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:53:02.150 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=33] [version=16]
[2024/05/17 10:53:02.150 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=16] ["take time"=2.012584ms] [job="ID:33, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:32, RowCount:0, ArgLen:2, start time: 2024-05-17 10:53:02.137 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:53:02.153 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=33] [job="ID:33, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:32, RowCount:0, ArgLen:0, start time: 2024-05-17 10:53:02.137 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:53:02.155 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=33]
[2024/05/17 10:53:02.155 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:53:02.155 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816659793805312] ["schema version"=16]
[2024/05/17 10:53:02.155 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=16] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.role_edges (\n\t\tFROM_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tFROM_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tWITH_ADMIN_OPTION \tENUM('N','Y') CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (FROM_HOST,FROM_USER,TO_HOST,TO_USER)\n\t);"] [user=]
[2024/05/17 10:53:02.156 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:35, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:34, RowCount:0, ArgLen:2, start time: 2024-05-17 10:53:02.156 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:53:02.157 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:35, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:34, RowCount:0, ArgLen:2, start time: 2024-05-17 10:53:02.156 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.role_edges (\n\t\tFROM_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tFROM_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tWITH_ADMIN_OPTION \tENUM('N','Y') CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (FROM_HOST,FROM_USER,TO_HOST,TO_USER)\n\t);"]
[2024/05/17 10:53:02.160 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=35] [category=ddl] [job="ID:35, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:34, RowCount:0, ArgLen:0, start time: 2024-05-17 10:53:02.156 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:53:02.162 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816659797475328] ["schema version"=17]
[2024/05/17 10:53:02.162 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=16] [neededSchemaVersion=17] ["start time"=220.791µs] [gotSchemaVersion=17] [phyTblIDs="[34]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:53:02.163 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:53:02.163 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=35] [version=17]
[2024/05/17 10:53:02.164 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=17] ["take time"=2.07875ms] [job="ID:35, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:34, RowCount:0, ArgLen:2, start time: 2024-05-17 10:53:02.156 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:53:02.169 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=35] [job="ID:35, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:34, RowCount:0, ArgLen:0, start time: 2024-05-17 10:53:02.156 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:53:02.171 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=35]
[2024/05/17 10:53:02.171 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:53:02.171 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816659797475328] ["schema version"=17]
[2024/05/17 10:53:02.171 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=17] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.default_roles (\n\t\tHOST \t\t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tUSER \t\t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tDEFAULT_ROLE_HOST \tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '%',\n\t\tDEFAULT_ROLE_USER \tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tPRIMARY KEY (HOST,USER,DEFAULT_ROLE_HOST,DEFAULT_ROLE_USER)\n\t)"] [user=]
[2024/05/17 10:53:02.172 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816659797475328] ["schema version"=17]
[2024/05/17 10:53:02.173 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:37, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:36, RowCount:0, ArgLen:2, start time: 2024-05-17 10:53:02.172 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:53:02.173 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:37, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:36, RowCount:0, ArgLen:2, start time: 2024-05-17 10:53:02.172 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.default_roles (\n\t\tHOST \t\t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tUSER \t\t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tDEFAULT_ROLE_HOST \tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '%',\n\t\tDEFAULT_ROLE_USER \tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tPRIMARY KEY (HOST,USER,DEFAULT_ROLE_HOST,DEFAULT_ROLE_USER)\n\t)"]
[2024/05/17 10:53:02.178 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=37] [category=ddl] [job="ID:37, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:36, RowCount:0, ArgLen:0, start time: 2024-05-17 10:53:02.172 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:53:02.180 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816659802193920] ["schema version"=18]
[2024/05/17 10:53:02.180 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=17] [neededSchemaVersion=18] ["start time"=218.792µs] [gotSchemaVersion=18] [phyTblIDs="[36]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:53:02.181 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:53:02.181 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=37] [version=18]
[2024/05/17 10:53:02.182 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=18] ["take time"=2.0065ms] [job="ID:37, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:36, RowCount:0, ArgLen:2, start time: 2024-05-17 10:53:02.172 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:53:02.188 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=37] [job="ID:37, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:36, RowCount:0, ArgLen:0, start time: 2024-05-17 10:53:02.172 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:53:02.190 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=37]
[2024/05/17 10:53:02.190 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:53:02.190 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816659802193920] ["schema version"=18]
[2024/05/17 10:53:02.190 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=18] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.bind_info (\n\t\toriginal_sql TEXT NOT NULL,\n\t\tbind_sql TEXT NOT NULL,\n\t\tdefault_db TEXT NOT NULL,\n\t\tstatus TEXT NOT NULL,\n\t\tcreate_time TIMESTAMP(3) NOT NULL,\n\t\tupdate_time TIMESTAMP(3) NOT NULL,\n\t\tcharset TEXT NOT NULL,\n\t\tcollation TEXT NOT NULL,\n\t\tsource VARCHAR(10) NOT NULL DEFAULT 'unknown',\n\t\tsql_digest varchar(64),\n\t\tplan_digest varchar(64),\n\t\tINDEX sql_index(original_sql(700),default_db(68)) COMMENT \"accelerate the speed when add global binding query\",\n\t\tINDEX time_index(update_time) COMMENT \"accelerate the speed when querying with last update time\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"] [user=]
[2024/05/17 10:53:02.192 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:39, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:38, RowCount:0, ArgLen:2, start time: 2024-05-17 10:53:02.191 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:53:02.192 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:39, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:38, RowCount:0, ArgLen:2, start time: 2024-05-17 10:53:02.191 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.bind_info (\n\t\toriginal_sql TEXT NOT NULL,\n\t\tbind_sql TEXT NOT NULL,\n\t\tdefault_db TEXT NOT NULL,\n\t\tstatus TEXT NOT NULL,\n\t\tcreate_time TIMESTAMP(3) NOT NULL,\n\t\tupdate_time TIMESTAMP(3) NOT NULL,\n\t\tcharset TEXT NOT NULL,\n\t\tcollation TEXT NOT NULL,\n\t\tsource VARCHAR(10) NOT NULL DEFAULT 'unknown',\n\t\tsql_digest varchar(64),\n\t\tplan_digest varchar(64),\n\t\tINDEX sql_index(original_sql(700),default_db(68)) COMMENT \"accelerate the speed when add global binding query\",\n\t\tINDEX time_index(update_time) COMMENT \"accelerate the speed when querying with last update time\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"]
[2024/05/17 10:53:02.196 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=39] [category=ddl] [job="ID:39, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:38, RowCount:0, ArgLen:0, start time: 2024-05-17 10:53:02.191 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:53:02.198 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816659806912512] ["schema version"=19]
[2024/05/17 10:53:02.198 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=18] [neededSchemaVersion=19] ["start time"=299.083µs] [gotSchemaVersion=19] [phyTblIDs="[38]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:53:02.199 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:53:02.199 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=39] [version=19]
[2024/05/17 10:53:02.200 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=19] ["take time"=2.1125ms] [job="ID:39, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:38, RowCount:0, ArgLen:2, start time: 2024-05-17 10:53:02.191 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:53:02.204 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=39] [job="ID:39, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:38, RowCount:0, ArgLen:0, start time: 2024-05-17 10:53:02.191 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:53:02.207 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=39]
[2024/05/17 10:53:02.207 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:53:02.207 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816659806912512] ["schema version"=19]
[2024/05/17 10:53:02.207 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=19] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_top_n (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tvalue \t\tLONGBLOB,\n\t\tcount \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\tINDEX tbl(table_id, is_index, hist_id)\n\t);"] [user=]
[2024/05/17 10:53:02.208 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:41, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:40, RowCount:0, ArgLen:2, start time: 2024-05-17 10:53:02.208 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:53:02.208 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:41, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:40, RowCount:0, ArgLen:2, start time: 2024-05-17 10:53:02.208 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_top_n (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tvalue \t\tLONGBLOB,\n\t\tcount \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\tINDEX tbl(table_id, is_index, hist_id)\n\t);"]
[2024/05/17 10:53:02.212 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=41] [category=ddl] [job="ID:41, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:40, RowCount:0, ArgLen:0, start time: 2024-05-17 10:53:02.208 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:53:02.214 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816659810844673] ["schema version"=20]
[2024/05/17 10:53:02.214 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=19] [neededSchemaVersion=20] ["start time"=213.583µs] [gotSchemaVersion=20] [phyTblIDs="[40]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:53:02.214 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:53:02.214 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=41] [version=20]
[2024/05/17 10:53:02.215 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=20] ["take time"=2.11425ms] [job="ID:41, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:40, RowCount:0, ArgLen:2, start time: 2024-05-17 10:53:02.208 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:53:02.220 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=41] [job="ID:41, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:40, RowCount:0, ArgLen:0, start time: 2024-05-17 10:53:02.208 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:53:02.222 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=41]
[2024/05/17 10:53:02.222 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:53:02.222 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816659810844673] ["schema version"=20]
[2024/05/17 10:53:02.222 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=20] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.expr_pushdown_blacklist (\n\t\tname \t\tCHAR(100) NOT NULL,\n\t\tstore_type \tCHAR(100) NOT NULL DEFAULT 'tikv,tiflash,tidb',\n\t\treason \t\tVARCHAR(200)\n\t);"] [user=]
[2024/05/17 10:53:02.223 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:43, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:42, RowCount:0, ArgLen:2, start time: 2024-05-17 10:53:02.222 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:53:02.223 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:43, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:42, RowCount:0, ArgLen:2, start time: 2024-05-17 10:53:02.222 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.expr_pushdown_blacklist (\n\t\tname \t\tCHAR(100) NOT NULL,\n\t\tstore_type \tCHAR(100) NOT NULL DEFAULT 'tikv,tiflash,tidb',\n\t\treason \t\tVARCHAR(200)\n\t);"]
[2024/05/17 10:53:02.227 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=43] [category=ddl] [job="ID:43, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:42, RowCount:0, ArgLen:0, start time: 2024-05-17 10:53:02.222 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:53:02.228 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816659814776832] ["schema version"=21]
[2024/05/17 10:53:02.228 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=20] [neededSchemaVersion=21] ["start time"=150.209µs] [gotSchemaVersion=21] [phyTblIDs="[42]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:53:02.229 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:53:02.229 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=43] [version=21]
[2024/05/17 10:53:02.230 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=21] ["take time"=2.053ms] [job="ID:43, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:42, RowCount:0, ArgLen:2, start time: 2024-05-17 10:53:02.222 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:53:02.235 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=43] [job="ID:43, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:42, RowCount:0, ArgLen:0, start time: 2024-05-17 10:53:02.222 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:53:02.236 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=43]
[2024/05/17 10:53:02.236 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:53:02.237 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816659814776832] ["schema version"=21]
[2024/05/17 10:53:02.237 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=21] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.opt_rule_blacklist (\n\t\tname \tCHAR(100) NOT NULL\n\t);"] [user=]
[2024/05/17 10:53:02.238 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:45, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:44, RowCount:0, ArgLen:2, start time: 2024-05-17 10:53:02.237 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:53:02.238 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:45, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:44, RowCount:0, ArgLen:2, start time: 2024-05-17 10:53:02.237 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.opt_rule_blacklist (\n\t\tname \tCHAR(100) NOT NULL\n\t);"]
[2024/05/17 10:53:02.241 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=45] [category=ddl] [job="ID:45, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:44, RowCount:0, ArgLen:0, start time: 2024-05-17 10:53:02.237 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:53:02.242 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816659818446854] ["schema version"=22]
[2024/05/17 10:53:02.242 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=21] [neededSchemaVersion=22] ["start time"=108.542µs] [gotSchemaVersion=22] [phyTblIDs="[44]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:53:02.243 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:53:02.243 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=45] [version=22]
[2024/05/17 10:53:02.244 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=22] ["take time"=2.004542ms] [job="ID:45, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:44, RowCount:0, ArgLen:2, start time: 2024-05-17 10:53:02.237 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:53:02.248 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=45] [job="ID:45, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:44, RowCount:0, ArgLen:0, start time: 2024-05-17 10:53:02.237 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:53:02.250 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=45]
[2024/05/17 10:53:02.250 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:53:02.250 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816659818446854] ["schema version"=22]
[2024/05/17 10:53:02.250 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=22] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_extended (\n\t\tname varchar(32) NOT NULL,\n\t\ttype tinyint(4) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tcolumn_ids varchar(32) NOT NULL,\n\t\tstats blob DEFAULT NULL,\n\t\tversion bigint(64) unsigned NOT NULL,\n\t\tstatus tinyint(4) NOT NULL,\n\t\tPRIMARY KEY(name, table_id),\n\t\tKEY idx_1 (table_id, status, version),\n\t\tKEY idx_2 (status, version)\n\t);"] [user=]
[2024/05/17 10:53:02.252 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:47, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:46, RowCount:0, ArgLen:2, start time: 2024-05-17 10:53:02.251 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:53:02.252 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:47, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:46, RowCount:0, ArgLen:2, start time: 2024-05-17 10:53:02.251 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_extended (\n\t\tname varchar(32) NOT NULL,\n\t\ttype tinyint(4) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tcolumn_ids varchar(32) NOT NULL,\n\t\tstats blob DEFAULT NULL,\n\t\tversion bigint(64) unsigned NOT NULL,\n\t\tstatus tinyint(4) NOT NULL,\n\t\tPRIMARY KEY(name, table_id),\n\t\tKEY idx_1 (table_id, status, version),\n\t\tKEY idx_2 (status, version)\n\t);"]
[2024/05/17 10:53:02.255 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=47] [category=ddl] [job="ID:47, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:46, RowCount:0, ArgLen:0, start time: 2024-05-17 10:53:02.251 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:53:02.257 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816659822116866] ["schema version"=23]
[2024/05/17 10:53:02.257 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=22] [neededSchemaVersion=23] ["start time"=261.75µs] [gotSchemaVersion=23] [phyTblIDs="[46]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:53:02.257 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:53:02.257 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=47] [version=23]
[2024/05/17 10:53:02.259 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=23] ["take time"=2.102ms] [job="ID:47, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:46, RowCount:0, ArgLen:2, start time: 2024-05-17 10:53:02.251 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:53:02.263 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=47] [job="ID:47, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:46, RowCount:0, ArgLen:0, start time: 2024-05-17 10:53:02.251 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:53:02.265 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=47]
[2024/05/17 10:53:02.265 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:53:02.265 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816659822116866] ["schema version"=23]
[2024/05/17 10:53:02.265 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=23] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_fm_sketch (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tvalue \t\tLONGBLOB,\n\t\tINDEX tbl(table_id, is_index, hist_id)\n\t);"] [user=]
[2024/05/17 10:53:02.266 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:49, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:48, RowCount:0, ArgLen:2, start time: 2024-05-17 10:53:02.266 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:53:02.266 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:49, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:48, RowCount:0, ArgLen:2, start time: 2024-05-17 10:53:02.266 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_fm_sketch (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tvalue \t\tLONGBLOB,\n\t\tINDEX tbl(table_id, is_index, hist_id)\n\t);"]
[2024/05/17 10:53:02.270 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=49] [category=ddl] [job="ID:49, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:48, RowCount:0, ArgLen:0, start time: 2024-05-17 10:53:02.266 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:53:02.271 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816659825786888] ["schema version"=24]
[2024/05/17 10:53:02.271 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=23] [neededSchemaVersion=24] ["start time"=170.167µs] [gotSchemaVersion=24] [phyTblIDs="[48]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:53:02.271 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:53:02.271 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=49] [version=24]
[2024/05/17 10:53:02.272 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=24] ["take time"=2.01125ms] [job="ID:49, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:48, RowCount:0, ArgLen:2, start time: 2024-05-17 10:53:02.266 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:53:02.276 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=49] [job="ID:49, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:48, RowCount:0, ArgLen:0, start time: 2024-05-17 10:53:02.266 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:53:02.278 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=49]
[2024/05/17 10:53:02.278 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:53:02.278 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816659825786888] ["schema version"=24]
[2024/05/17 10:53:02.278 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=24] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.global_grants (\n\t\tUSER char(32) NOT NULL DEFAULT '',\n\t\tHOST char(255) NOT NULL DEFAULT '',\n\t\tPRIV char(32) NOT NULL DEFAULT '',\n\t\tWITH_GRANT_OPTION enum('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (USER,HOST,PRIV)\n\t);"] [user=]
[2024/05/17 10:53:02.279 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:51, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:50, RowCount:0, ArgLen:2, start time: 2024-05-17 10:53:02.279 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:53:02.279 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:51, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:50, RowCount:0, ArgLen:2, start time: 2024-05-17 10:53:02.279 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.global_grants (\n\t\tUSER char(32) NOT NULL DEFAULT '',\n\t\tHOST char(255) NOT NULL DEFAULT '',\n\t\tPRIV char(32) NOT NULL DEFAULT '',\n\t\tWITH_GRANT_OPTION enum('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (USER,HOST,PRIV)\n\t);"]
[2024/05/17 10:53:02.283 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=51] [category=ddl] [job="ID:51, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:50, RowCount:0, ArgLen:0, start time: 2024-05-17 10:53:02.279 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:53:02.285 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816659829719040] ["schema version"=25]
[2024/05/17 10:53:02.285 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=24] [neededSchemaVersion=25] ["start time"=190.709µs] [gotSchemaVersion=25] [phyTblIDs="[50]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:53:02.286 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:53:02.286 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=51] [version=25]
[2024/05/17 10:53:02.287 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=25] ["take time"=2.004875ms] [job="ID:51, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:50, RowCount:0, ArgLen:2, start time: 2024-05-17 10:53:02.279 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:53:02.291 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=51] [job="ID:51, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:50, RowCount:0, ArgLen:0, start time: 2024-05-17 10:53:02.279 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:53:02.293 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=51]
[2024/05/17 10:53:02.293 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:53:02.293 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816659829719040] ["schema version"=25]
[2024/05/17 10:53:02.293 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=25] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.capture_plan_baselines_blacklist (\n\t\tid bigint(64) auto_increment,\n\t\tfilter_type varchar(32) NOT NULL COMMENT \"type of the filter, only db, table and frequency supported now\",\n\t\tfilter_value varchar(32) NOT NULL,\n\t\tkey idx(filter_type),\n\t\tprimary key(id)\n\t);"] [user=]
[2024/05/17 10:53:02.294 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:53, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:52, RowCount:0, ArgLen:2, start time: 2024-05-17 10:53:02.293 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:53:02.294 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:53, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:52, RowCount:0, ArgLen:2, start time: 2024-05-17 10:53:02.293 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.capture_plan_baselines_blacklist (\n\t\tid bigint(64) auto_increment,\n\t\tfilter_type varchar(32) NOT NULL COMMENT \"type of the filter, only db, table and frequency supported now\",\n\t\tfilter_value varchar(32) NOT NULL,\n\t\tkey idx(filter_type),\n\t\tprimary key(id)\n\t);"]
[2024/05/17 10:53:02.298 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=53] [category=ddl] [job="ID:53, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:52, RowCount:0, ArgLen:0, start time: 2024-05-17 10:53:02.293 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:53:02.299 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816659833389057] ["schema version"=26]
[2024/05/17 10:53:02.299 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=25] [neededSchemaVersion=26] ["start time"=162.291µs] [gotSchemaVersion=26] [phyTblIDs="[52]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:53:02.300 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:53:02.300 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=53] [version=26]
[2024/05/17 10:53:02.301 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=26] ["take time"=2.034917ms] [job="ID:53, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:52, RowCount:0, ArgLen:2, start time: 2024-05-17 10:53:02.293 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:53:02.305 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=53] [job="ID:53, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:52, RowCount:0, ArgLen:0, start time: 2024-05-17 10:53:02.293 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:53:02.307 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=53]
[2024/05/17 10:53:02.307 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:53:02.307 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816659833389057] ["schema version"=26]
[2024/05/17 10:53:02.307 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=26] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.column_stats_usage (\n\t\ttable_id BIGINT(64) NOT NULL,\n\t\tcolumn_id BIGINT(64) NOT NULL,\n\t\tlast_used_at TIMESTAMP,\n\t\tlast_analyzed_at TIMESTAMP,\n\t\tPRIMARY KEY (table_id, column_id) CLUSTERED\n\t);"] [user=]
[2024/05/17 10:53:02.308 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:55, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:54, RowCount:0, ArgLen:2, start time: 2024-05-17 10:53:02.308 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:53:02.308 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:55, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:54, RowCount:0, ArgLen:2, start time: 2024-05-17 10:53:02.308 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.column_stats_usage (\n\t\ttable_id BIGINT(64) NOT NULL,\n\t\tcolumn_id BIGINT(64) NOT NULL,\n\t\tlast_used_at TIMESTAMP,\n\t\tlast_analyzed_at TIMESTAMP,\n\t\tPRIMARY KEY (table_id, column_id) CLUSTERED\n\t);"]
[2024/05/17 10:53:02.311 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=55] [category=ddl] [job="ID:55, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:54, RowCount:0, ArgLen:0, start time: 2024-05-17 10:53:02.308 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:53:02.313 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816659836796931] ["schema version"=27]
[2024/05/17 10:53:02.313 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=26] [neededSchemaVersion=27] ["start time"=232.375µs] [gotSchemaVersion=27] [phyTblIDs="[54]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:53:02.313 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:53:02.313 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=55] [version=27]
[2024/05/17 10:53:02.315 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=27] ["take time"=2.149583ms] [job="ID:55, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:54, RowCount:0, ArgLen:2, start time: 2024-05-17 10:53:02.308 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:53:02.319 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=55] [job="ID:55, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:54, RowCount:0, ArgLen:0, start time: 2024-05-17 10:53:02.308 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:53:02.320 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=55]
[2024/05/17 10:53:02.320 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:53:02.321 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816659836796931] ["schema version"=27]
[2024/05/17 10:53:02.321 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=27] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.table_cache_meta (\n\t\ttid bigint(11) NOT NULL DEFAULT 0,\n\t\tlock_type enum('NONE','READ', 'INTEND', 'WRITE') NOT NULL DEFAULT 'NONE',\n\t\tlease bigint(20) NOT NULL DEFAULT 0,\n\t\toldReadLease bigint(20) NOT NULL DEFAULT 0,\n\t\tPRIMARY KEY (tid)\n\t);"] [user=]
[2024/05/17 10:53:02.322 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:57, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:56, RowCount:0, ArgLen:2, start time: 2024-05-17 10:53:02.321 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:53:02.322 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:57, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:56, RowCount:0, ArgLen:2, start time: 2024-05-17 10:53:02.321 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.table_cache_meta (\n\t\ttid bigint(11) NOT NULL DEFAULT 0,\n\t\tlock_type enum('NONE','READ', 'INTEND', 'WRITE') NOT NULL DEFAULT 'NONE',\n\t\tlease bigint(20) NOT NULL DEFAULT 0,\n\t\toldReadLease bigint(20) NOT NULL DEFAULT 0,\n\t\tPRIMARY KEY (tid)\n\t);"]
[2024/05/17 10:53:02.326 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=57] [category=ddl] [job="ID:57, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:56, RowCount:0, ArgLen:0, start time: 2024-05-17 10:53:02.321 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:53:02.328 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816659840729088] ["schema version"=28]
[2024/05/17 10:53:02.328 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=27] [neededSchemaVersion=28] ["start time"=235.167µs] [gotSchemaVersion=28] [phyTblIDs="[56]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:53:02.328 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:53:02.328 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=57] [version=28]
[2024/05/17 10:53:02.329 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=28] ["take time"=2.111959ms] [job="ID:57, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:56, RowCount:0, ArgLen:2, start time: 2024-05-17 10:53:02.321 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:53:02.334 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=57] [job="ID:57, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:56, RowCount:0, ArgLen:0, start time: 2024-05-17 10:53:02.321 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:53:02.336 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=57]
[2024/05/17 10:53:02.336 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:53:02.336 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816659840729088] ["schema version"=28]
[2024/05/17 10:53:02.337 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=28] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.analyze_options (\n\t\ttable_id BIGINT(64) NOT NULL,\n\t\tsample_num BIGINT(64) NOT NULL DEFAULT 0,\n\t\tsample_rate DOUBLE NOT NULL DEFAULT -1,\n\t\tbuckets BIGINT(64) NOT NULL DEFAULT 0,\n\t\ttopn BIGINT(64) NOT NULL DEFAULT -1,\n\t\tcolumn_choice enum('DEFAULT','ALL','PREDICATE','LIST') NOT NULL DEFAULT 'DEFAULT',\n\t\tcolumn_ids TEXT(19372),\n\t\tPRIMARY KEY (table_id) CLUSTERED\n\t);"] [user=]
[2024/05/17 10:53:02.337 +08:00] [INFO] [ddl_api.go:1141] ["Automatically convert BLOB(19372) to MEDIUMBLOB"] [category=ddl]
[2024/05/17 10:53:02.339 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:59, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:58, RowCount:0, ArgLen:2, start time: 2024-05-17 10:53:02.338 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:53:02.339 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:59, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:58, RowCount:0, ArgLen:2, start time: 2024-05-17 10:53:02.338 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.analyze_options (\n\t\ttable_id BIGINT(64) NOT NULL,\n\t\tsample_num BIGINT(64) NOT NULL DEFAULT 0,\n\t\tsample_rate DOUBLE NOT NULL DEFAULT -1,\n\t\tbuckets BIGINT(64) NOT NULL DEFAULT 0,\n\t\ttopn BIGINT(64) NOT NULL DEFAULT -1,\n\t\tcolumn_choice enum('DEFAULT','ALL','PREDICATE','LIST') NOT NULL DEFAULT 'DEFAULT',\n\t\tcolumn_ids TEXT(19372),\n\t\tPRIMARY KEY (table_id) CLUSTERED\n\t);"]
[2024/05/17 10:53:02.343 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=59] [category=ddl] [job="ID:59, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:58, RowCount:0, ArgLen:0, start time: 2024-05-17 10:53:02.338 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:53:02.347 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816659845709824] ["schema version"=29]
[2024/05/17 10:53:02.347 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=28] [neededSchemaVersion=29] ["start time"=475.25µs] [gotSchemaVersion=29] [phyTblIDs="[58]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:53:02.348 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:53:02.348 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=59] [version=29]
[2024/05/17 10:53:02.351 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=29] ["take time"=5.151542ms] [job="ID:59, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:58, RowCount:0, ArgLen:2, start time: 2024-05-17 10:53:02.338 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:53:02.359 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=59] [job="ID:59, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:58, RowCount:0, ArgLen:0, start time: 2024-05-17 10:53:02.338 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:53:02.361 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=59]
[2024/05/17 10:53:02.361 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:53:02.361 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816659845709824] ["schema version"=29]
[2024/05/17 10:53:02.361 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=29] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_history (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tstats_data longblob NOT NULL,\n\t\tseq_no bigint(64) NOT NULL comment 'sequence number of the gzipped data slice',\n\t\tversion bigint(64) NOT NULL comment 'stats version which corresponding to stats:version in EXPLAIN',\n\t\tcreate_time datetime(6) NOT NULL,\n\t\tUNIQUE KEY table_version_seq (table_id, version, seq_no),\n\t\tKEY table_create_time (table_id, create_time, seq_no),\n    \tKEY idx_create_time (create_time)\n\t);"] [user=]
[2024/05/17 10:53:02.365 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:61, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:60, RowCount:0, ArgLen:2, start time: 2024-05-17 10:53:02.364 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:53:02.365 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:61, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:60, RowCount:0, ArgLen:2, start time: 2024-05-17 10:53:02.364 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_history (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tstats_data longblob NOT NULL,\n\t\tseq_no bigint(64) NOT NULL comment 'sequence number of the gzipped data slice',\n\t\tversion bigint(64) NOT NULL comment 'stats version which corresponding to stats:version in EXPLAIN',\n\t\tcreate_time datetime(6) NOT NULL,\n\t\tUNIQUE KEY table_version_seq (table_id, version, seq_no),\n\t\tKEY table_create_time (table_id, create_time, seq_no),\n    \tKEY idx_create_time (create_time)\n\t);"]
[2024/05/17 10:53:02.372 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=61] [category=ddl] [job="ID:61, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:60, RowCount:0, ArgLen:0, start time: 2024-05-17 10:53:02.364 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:53:02.374 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816659852787713] ["schema version"=30]
[2024/05/17 10:53:02.374 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=29] [neededSchemaVersion=30] ["start time"=335.333µs] [gotSchemaVersion=30] [phyTblIDs="[60]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:53:02.375 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:53:02.375 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=61] [version=30]
[2024/05/17 10:53:02.376 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=30] ["take time"=2.561834ms] [job="ID:61, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:60, RowCount:0, ArgLen:2, start time: 2024-05-17 10:53:02.364 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:53:02.382 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=61] [job="ID:61, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:60, RowCount:0, ArgLen:0, start time: 2024-05-17 10:53:02.364 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:53:02.384 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=61]
[2024/05/17 10:53:02.384 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:53:02.384 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816659852787713] ["schema version"=30]
[2024/05/17 10:53:02.384 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=30] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_meta_history (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tmodify_count bigint(64) NOT NULL,\n\t\tcount bigint(64) NOT NULL,\n\t\tversion bigint(64) NOT NULL comment 'stats version which corresponding to stats:version in EXPLAIN',\n    \tsource varchar(40) NOT NULL,\n\t\tcreate_time datetime(6) NOT NULL,\n\t\tUNIQUE KEY table_version (table_id, version),\n\t\tKEY table_create_time (table_id, create_time),\n    \tKEY idx_create_time (create_time)\n\t);"] [user=]
[2024/05/17 10:53:02.385 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:63, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:62, RowCount:0, ArgLen:2, start time: 2024-05-17 10:53:02.385 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:53:02.385 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:63, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:62, RowCount:0, ArgLen:2, start time: 2024-05-17 10:53:02.385 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_meta_history (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tmodify_count bigint(64) NOT NULL,\n\t\tcount bigint(64) NOT NULL,\n\t\tversion bigint(64) NOT NULL comment 'stats version which corresponding to stats:version in EXPLAIN',\n    \tsource varchar(40) NOT NULL,\n\t\tcreate_time datetime(6) NOT NULL,\n\t\tUNIQUE KEY table_version (table_id, version),\n\t\tKEY table_create_time (table_id, create_time),\n    \tKEY idx_create_time (create_time)\n\t);"]
[2024/05/17 10:53:02.389 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=63] [category=ddl] [job="ID:63, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:62, RowCount:0, ArgLen:0, start time: 2024-05-17 10:53:02.385 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:53:02.390 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816659857244160] ["schema version"=31]
[2024/05/17 10:53:02.390 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=30] [neededSchemaVersion=31] ["start time"=238µs] [gotSchemaVersion=31] [phyTblIDs="[62]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:53:02.391 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:53:02.391 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=63] [version=31]
[2024/05/17 10:53:02.392 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=31] ["take time"=2.026083ms] [job="ID:63, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:62, RowCount:0, ArgLen:2, start time: 2024-05-17 10:53:02.385 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:53:02.396 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=63] [job="ID:63, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:62, RowCount:0, ArgLen:0, start time: 2024-05-17 10:53:02.385 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:53:02.399 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=63]
[2024/05/17 10:53:02.399 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:53:02.399 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816659857244160] ["schema version"=31]
[2024/05/17 10:53:02.399 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=31] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.analyze_jobs (\n\t\tid BIGINT(64) UNSIGNED NOT NULL AUTO_INCREMENT,\n\t\tupdate_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\ttable_schema CHAR(64) NOT NULL DEFAULT '',\n\t\ttable_name CHAR(64) NOT NULL DEFAULT '',\n\t\tpartition_name CHAR(64) NOT NULL DEFAULT '',\n\t\tjob_info TEXT NOT NULL,\n\t\tprocessed_rows BIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tstart_time TIMESTAMP,\n\t\tend_time TIMESTAMP,\n\t\tstate ENUM('pending', 'running', 'finished', 'failed') NOT NULL,\n\t\tfail_reason TEXT,\n\t\tinstance VARCHAR(512) NOT NULL comment 'address of the TiDB instance executing the analyze job',\n\t\tprocess_id BIGINT(64) UNSIGNED comment 'ID of the process executing the analyze job',\n\t\tPRIMARY KEY (id),\n\t\tKEY (update_time)\n\t);"] [user=]
[2024/05/17 10:53:02.400 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:65, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:64, RowCount:0, ArgLen:2, start time: 2024-05-17 10:53:02.4 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:53:02.400 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:65, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:64, RowCount:0, ArgLen:2, start time: 2024-05-17 10:53:02.4 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.analyze_jobs (\n\t\tid BIGINT(64) UNSIGNED NOT NULL AUTO_INCREMENT,\n\t\tupdate_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\ttable_schema CHAR(64) NOT NULL DEFAULT '',\n\t\ttable_name CHAR(64) NOT NULL DEFAULT '',\n\t\tpartition_name CHAR(64) NOT NULL DEFAULT '',\n\t\tjob_info TEXT NOT NULL,\n\t\tprocessed_rows BIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tstart_time TIMESTAMP,\n\t\tend_time TIMESTAMP,\n\t\tstate ENUM('pending', 'running', 'finished', 'failed') NOT NULL,\n\t\tfail_reason TEXT,\n\t\tinstance VARCHAR(512) NOT NULL comment 'address of the TiDB instance executing the analyze job',\n\t\tprocess_id BIGINT(64) UNSIGNED comment 'ID of the process executing the analyze job',\n\t\tPRIMARY KEY (id),\n\t\tKEY (update_time)\n\t);"]
[2024/05/17 10:53:02.404 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=65] [category=ddl] [job="ID:65, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:64, RowCount:0, ArgLen:0, start time: 2024-05-17 10:53:02.4 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:53:02.406 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816659861176320] ["schema version"=32]
[2024/05/17 10:53:02.406 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=31] [neededSchemaVersion=32] ["start time"=311.417µs] [gotSchemaVersion=32] [phyTblIDs="[64]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:53:02.406 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:53:02.406 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=65] [version=32]
[2024/05/17 10:53:02.407 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=32] ["take time"=2.003958ms] [job="ID:65, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:64, RowCount:0, ArgLen:2, start time: 2024-05-17 10:53:02.4 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:53:02.413 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=65] [job="ID:65, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:64, RowCount:0, ArgLen:0, start time: 2024-05-17 10:53:02.4 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:53:02.415 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=65]
[2024/05/17 10:53:02.415 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:53:02.415 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816659861176320] ["schema version"=32]
[2024/05/17 10:53:02.415 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=32] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.advisory_locks (\n\t\tlock_name VARCHAR(64) NOT NULL PRIMARY KEY\n\t);"] [user=]
[2024/05/17 10:53:02.417 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:67, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:66, RowCount:0, ArgLen:2, start time: 2024-05-17 10:53:02.416 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:53:02.417 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:67, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:66, RowCount:0, ArgLen:2, start time: 2024-05-17 10:53:02.416 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.advisory_locks (\n\t\tlock_name VARCHAR(64) NOT NULL PRIMARY KEY\n\t);"]
[2024/05/17 10:53:02.421 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=67] [category=ddl] [job="ID:67, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:66, RowCount:0, ArgLen:0, start time: 2024-05-17 10:53:02.416 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:53:02.425 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816659866157056] ["schema version"=33]
[2024/05/17 10:53:02.425 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=32] [neededSchemaVersion=33] ["start time"=161.5µs] [gotSchemaVersion=33] [phyTblIDs="[66]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:53:02.425 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816659866157056] ["schema version"=33]
[2024/05/17 10:53:02.426 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:53:02.426 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=67] [version=33]
[2024/05/17 10:53:02.427 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=33] ["take time"=2.549708ms] [job="ID:67, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:66, RowCount:0, ArgLen:2, start time: 2024-05-17 10:53:02.416 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:53:02.431 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=67] [job="ID:67, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:66, RowCount:0, ArgLen:0, start time: 2024-05-17 10:53:02.416 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:53:02.433 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=67]
[2024/05/17 10:53:02.433 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:53:02.433 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816659866157056] ["schema version"=33]
[2024/05/17 10:53:02.436 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:69, Type:create view, State:queueing, SchemaState:none, SchemaID:1, TableID:68, RowCount:0, ArgLen:3, start time: 2024-05-17 10:53:02.436 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:53:02.436 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:69, Type:create view, State:queueing, SchemaState:none, SchemaID:1, TableID:68, RowCount:0, ArgLen:3, start time: 2024-05-17 10:53:02.436 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE OR REPLACE VIEW mysql.tidb_mdl_view as (\n\t\tSELECT tidb_mdl_info.job_id,\n\t\t\tJSON_UNQUOTE(JSON_EXTRACT(cast(cast(job_meta as char) as json), \"$.schema_name\")) as db_name,\n\t\t\tJSON_UNQUOTE(JSON_EXTRACT(cast(cast(job_meta as char) as json), \"$.table_name\")) as table_name,\n\t\t\tJSON_UNQUOTE(JSON_EXTRACT(cast(cast(job_meta as char) as json), \"$.query\")) as query,\n\t\t\tsession_id,\n\t\t\tcluster_tidb_trx.start_time,\n\t\t\ttidb_decode_sql_digests(all_sql_digests, 4096) AS SQL_DIGESTS\n\t\tFROM mysql.tidb_ddl_job,\n\t\t\tmysql.tidb_mdl_info,\n\t\t\tinformation_schema.cluster_tidb_trx\n\t\tWHERE tidb_ddl_job.job_id=tidb_mdl_info.job_id\n\t\t\tAND CONCAT(',', tidb_mdl_info.table_ids, ',') REGEXP CONCAT(',(', REPLACE(cluster_tidb_trx.related_table_ids, ',', '|'), '),') != 0\n\t);"]
[2024/05/17 10:53:02.440 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=69] [category=ddl] [job="ID:69, Type:create view, State:queueing, SchemaState:none, SchemaID:1, TableID:68, RowCount:0, ArgLen:0, start time: 2024-05-17 10:53:02.436 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:53:02.443 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816659870875648] ["schema version"=34]
[2024/05/17 10:53:02.443 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=33] [neededSchemaVersion=34] ["start time"=438µs] [gotSchemaVersion=34] [phyTblIDs="[68]"] [actionTypes="[21]"] [diffTypes="[\"create view\"]"]
[2024/05/17 10:53:02.443 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:53:02.443 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=69] [version=34]
[2024/05/17 10:53:02.445 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=34] ["take time"=2.936375ms] [job="ID:69, Type:create view, State:done, SchemaState:public, SchemaID:1, TableID:68, RowCount:0, ArgLen:3, start time: 2024-05-17 10:53:02.436 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:53:02.450 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=69] [job="ID:69, Type:create view, State:synced, SchemaState:public, SchemaID:1, TableID:68, RowCount:0, ArgLen:0, start time: 2024-05-17 10:53:02.436 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:53:02.452 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=69]
[2024/05/17 10:53:02.452 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:53:02.452 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816659870875648] ["schema version"=34]
[2024/05/17 10:53:02.453 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=34] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.plan_replayer_status (\n\t\tsql_digest VARCHAR(128),\n\t\tplan_digest VARCHAR(128),\n\t\torigin_sql TEXT,\n\t\ttoken VARCHAR(128),\n\t\tupdate_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\tfail_reason TEXT,\n\t\tinstance VARCHAR(512) NOT NULL comment 'address of the TiDB instance executing the plan replayer job');"] [user=]
[2024/05/17 10:53:02.454 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:71, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:70, RowCount:0, ArgLen:2, start time: 2024-05-17 10:53:02.453 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:53:02.454 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:71, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:70, RowCount:0, ArgLen:2, start time: 2024-05-17 10:53:02.453 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.plan_replayer_status (\n\t\tsql_digest VARCHAR(128),\n\t\tplan_digest VARCHAR(128),\n\t\torigin_sql TEXT,\n\t\ttoken VARCHAR(128),\n\t\tupdate_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\tfail_reason TEXT,\n\t\tinstance VARCHAR(512) NOT NULL comment 'address of the TiDB instance executing the plan replayer job');"]
[2024/05/17 10:53:02.457 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=71] [category=ddl] [job="ID:71, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:70, RowCount:0, ArgLen:0, start time: 2024-05-17 10:53:02.453 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:53:02.459 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816659875069956] ["schema version"=35]
[2024/05/17 10:53:02.459 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=34] [neededSchemaVersion=35] ["start time"=446.5µs] [gotSchemaVersion=35] [phyTblIDs="[70]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:53:02.460 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:53:02.460 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=71] [version=35]
[2024/05/17 10:53:02.461 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=35] ["take time"=2.541708ms] [job="ID:71, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:70, RowCount:0, ArgLen:2, start time: 2024-05-17 10:53:02.453 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:53:02.465 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=71] [job="ID:71, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:70, RowCount:0, ArgLen:0, start time: 2024-05-17 10:53:02.453 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:53:02.467 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=71]
[2024/05/17 10:53:02.467 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:53:02.467 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816659875069956] ["schema version"=35]
[2024/05/17 10:53:02.467 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=35] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.plan_replayer_task (\n\t\tsql_digest VARCHAR(128) NOT NULL,\n\t\tplan_digest VARCHAR(128) NOT NULL,\n\t\tupdate_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\tPRIMARY KEY (sql_digest,plan_digest));"] [user=]
[2024/05/17 10:53:02.469 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:73, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:72, RowCount:0, ArgLen:2, start time: 2024-05-17 10:53:02.468 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:53:02.469 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:73, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:72, RowCount:0, ArgLen:2, start time: 2024-05-17 10:53:02.468 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.plan_replayer_task (\n\t\tsql_digest VARCHAR(128) NOT NULL,\n\t\tplan_digest VARCHAR(128) NOT NULL,\n\t\tupdate_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\tPRIMARY KEY (sql_digest,plan_digest));"]
[2024/05/17 10:53:02.472 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=73] [category=ddl] [job="ID:73, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:72, RowCount:0, ArgLen:0, start time: 2024-05-17 10:53:02.468 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:53:02.474 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816659879264256] ["schema version"=36]
[2024/05/17 10:53:02.474 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=35] [neededSchemaVersion=36] ["start time"=244.833µs] [gotSchemaVersion=36] [phyTblIDs="[72]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:53:02.475 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:53:02.475 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=73] [version=36]
[2024/05/17 10:53:02.476 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=36] ["take time"=2.5655ms] [job="ID:73, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:72, RowCount:0, ArgLen:2, start time: 2024-05-17 10:53:02.468 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:53:02.480 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=73] [job="ID:73, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:72, RowCount:0, ArgLen:0, start time: 2024-05-17 10:53:02.468 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:53:02.482 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=73]
[2024/05/17 10:53:02.482 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:53:02.482 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816659879264256] ["schema version"=36]
[2024/05/17 10:53:02.482 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=36] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_table_locked(\n\t\ttable_id bigint(64) NOT NULL,\n\t\tmodify_count bigint(64) NOT NULL DEFAULT 0,\n\t\tcount bigint(64) NOT NULL DEFAULT 0,\n\t\tversion bigint(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tPRIMARY KEY (table_id));"] [user=]
[2024/05/17 10:53:02.484 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:75, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:74, RowCount:0, ArgLen:2, start time: 2024-05-17 10:53:02.483 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:53:02.484 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:75, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:74, RowCount:0, ArgLen:2, start time: 2024-05-17 10:53:02.483 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_table_locked(\n\t\ttable_id bigint(64) NOT NULL,\n\t\tmodify_count bigint(64) NOT NULL DEFAULT 0,\n\t\tcount bigint(64) NOT NULL DEFAULT 0,\n\t\tversion bigint(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tPRIMARY KEY (table_id));"]
[2024/05/17 10:53:02.488 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=75] [category=ddl] [job="ID:75, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:74, RowCount:0, ArgLen:0, start time: 2024-05-17 10:53:02.483 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:53:02.491 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816659883458560] ["schema version"=37]
[2024/05/17 10:53:02.491 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=36] [neededSchemaVersion=37] ["start time"=199.833µs] [gotSchemaVersion=37] [phyTblIDs="[74]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:53:02.492 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:53:02.492 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=75] [version=37]
[2024/05/17 10:53:02.494 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=37] ["take time"=2.742333ms] [job="ID:75, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:74, RowCount:0, ArgLen:2, start time: 2024-05-17 10:53:02.483 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:53:02.499 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=75] [job="ID:75, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:74, RowCount:0, ArgLen:0, start time: 2024-05-17 10:53:02.483 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:53:02.501 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=75]
[2024/05/17 10:53:02.501 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:53:02.501 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816659883458560] ["schema version"=37]
[2024/05/17 10:53:02.502 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=37] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_ttl_table_status (\n\t\ttable_id bigint(64) PRIMARY KEY,\n        parent_table_id bigint(64),\n        table_statistics text DEFAULT NULL,\n\t\tlast_job_id varchar(64) DEFAULT NULL,\n\t\tlast_job_start_time timestamp NULL DEFAULT NULL,\n\t\tlast_job_finish_time timestamp NULL DEFAULT NULL,\n\t\tlast_job_ttl_expire timestamp NULL DEFAULT NULL,\n        last_job_summary text DEFAULT NULL,\n\t\tcurrent_job_id varchar(64) DEFAULT NULL,\n\t\tcurrent_job_owner_id varchar(64) DEFAULT NULL,\n\t\tcurrent_job_owner_addr varchar(256) DEFAULT NULL,\n\t\tcurrent_job_owner_hb_time timestamp,\n\t\tcurrent_job_start_time timestamp NULL DEFAULT NULL,\n\t\tcurrent_job_ttl_expire timestamp NULL DEFAULT NULL,\n\t\tcurrent_job_state text DEFAULT NULL,\n\t\tcurrent_job_status varchar(64) DEFAULT NULL,\n  \t\tcurrent_job_status_update_time timestamp NULL DEFAULT NULL);"] [user=]
[2024/05/17 10:53:02.503 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:77, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:76, RowCount:0, ArgLen:2, start time: 2024-05-17 10:53:02.502 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:53:02.503 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:77, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:76, RowCount:0, ArgLen:2, start time: 2024-05-17 10:53:02.502 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_ttl_table_status (\n\t\ttable_id bigint(64) PRIMARY KEY,\n        parent_table_id bigint(64),\n        table_statistics text DEFAULT NULL,\n\t\tlast_job_id varchar(64) DEFAULT NULL,\n\t\tlast_job_start_time timestamp NULL DEFAULT NULL,\n\t\tlast_job_finish_time timestamp NULL DEFAULT NULL,\n\t\tlast_job_ttl_expire timestamp NULL DEFAULT NULL,\n        last_job_summary text DEFAULT NULL,\n\t\tcurrent_job_id varchar(64) DEFAULT NULL,\n\t\tcurrent_job_owner_id varchar(64) DEFAULT NULL,\n\t\tcurrent_job_owner_addr varchar(256) DEFAULT NULL,\n\t\tcurrent_job_owner_hb_time timestamp,\n\t\tcurrent_job_start_time timestamp NULL DEFAULT NULL,\n\t\tcurrent_job_ttl_expire timestamp NULL DEFAULT NULL,\n\t\tcurrent_job_state text DEFAULT NULL,\n\t\tcurrent_job_status varchar(64) DEFAULT NULL,\n  \t\tcurrent_job_status_update_time timestamp NULL DEFAULT NULL);"]
[2024/05/17 10:53:02.506 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=77] [category=ddl] [job="ID:77, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:76, RowCount:0, ArgLen:0, start time: 2024-05-17 10:53:02.502 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:53:02.509 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816659888177152] ["schema version"=38]
[2024/05/17 10:53:02.509 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=37] [neededSchemaVersion=38] ["start time"=376.334µs] [gotSchemaVersion=38] [phyTblIDs="[76]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:53:02.509 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:53:02.509 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=77] [version=38]
[2024/05/17 10:53:02.510 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=38] ["take time"=2.028417ms] [job="ID:77, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:76, RowCount:0, ArgLen:2, start time: 2024-05-17 10:53:02.502 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:53:02.515 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=77] [job="ID:77, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:76, RowCount:0, ArgLen:0, start time: 2024-05-17 10:53:02.502 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:53:02.517 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=77]
[2024/05/17 10:53:02.517 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:53:02.517 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816659888177152] ["schema version"=38]
[2024/05/17 10:53:02.517 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=38] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_ttl_task (\n\t\tjob_id varchar(64) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tscan_id int NOT NULL,\n\t\tscan_range_start BLOB,\n\t\tscan_range_end BLOB,\n\t\texpire_time timestamp NOT NULL,\n\t\towner_id varchar(64) DEFAULT NULL,\n\t\towner_addr varchar(64) DEFAULT NULL,\n\t\towner_hb_time timestamp DEFAULT NULL,\n\t\tstatus varchar(64) DEFAULT 'waiting',\n\t\tstatus_update_time timestamp NULL DEFAULT NULL,\n\t\tstate text,\n\t\tcreated_time timestamp NOT NULL,\n\t\tprimary key(job_id, scan_id),\n\t\tkey(created_time));"] [user=]
[2024/05/17 10:53:02.519 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:79, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:78, RowCount:0, ArgLen:2, start time: 2024-05-17 10:53:02.518 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:53:02.519 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:79, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:78, RowCount:0, ArgLen:2, start time: 2024-05-17 10:53:02.518 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_ttl_task (\n\t\tjob_id varchar(64) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tscan_id int NOT NULL,\n\t\tscan_range_start BLOB,\n\t\tscan_range_end BLOB,\n\t\texpire_time timestamp NOT NULL,\n\t\towner_id varchar(64) DEFAULT NULL,\n\t\towner_addr varchar(64) DEFAULT NULL,\n\t\towner_hb_time timestamp DEFAULT NULL,\n\t\tstatus varchar(64) DEFAULT 'waiting',\n\t\tstatus_update_time timestamp NULL DEFAULT NULL,\n\t\tstate text,\n\t\tcreated_time timestamp NOT NULL,\n\t\tprimary key(job_id, scan_id),\n\t\tkey(created_time));"]
[2024/05/17 10:53:02.522 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=79] [category=ddl] [job="ID:79, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:78, RowCount:0, ArgLen:0, start time: 2024-05-17 10:53:02.518 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:53:02.524 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816659892371456] ["schema version"=39]
[2024/05/17 10:53:02.524 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=38] [neededSchemaVersion=39] ["start time"=328.208µs] [gotSchemaVersion=39] [phyTblIDs="[78]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:53:02.525 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:53:02.525 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=79] [version=39]
[2024/05/17 10:53:02.526 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=39] ["take time"=2.213709ms] [job="ID:79, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:78, RowCount:0, ArgLen:2, start time: 2024-05-17 10:53:02.518 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:53:02.530 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=79] [job="ID:79, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:78, RowCount:0, ArgLen:0, start time: 2024-05-17 10:53:02.518 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:53:02.532 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=79]
[2024/05/17 10:53:02.532 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:53:02.532 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816659892371456] ["schema version"=39]
[2024/05/17 10:53:02.532 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=39] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_ttl_job_history (\n\t\tjob_id varchar(64) PRIMARY KEY,\n\t\ttable_id bigint(64) NOT NULL,\n        parent_table_id bigint(64) NOT NULL,\n    \ttable_schema varchar(64) NOT NULL,\n\t\ttable_name varchar(64) NOT NULL,\n    \tpartition_name varchar(64) DEFAULT NULL,\n\t\tcreate_time timestamp NOT NULL,\n\t\tfinish_time timestamp NOT NULL,\n\t\tttl_expire timestamp NOT NULL,\n        summary_text text,\n\t\texpired_rows bigint(64) DEFAULT NULL,\n    \tdeleted_rows bigint(64) DEFAULT NULL,\n    \terror_delete_rows bigint(64) DEFAULT NULL,\n    \tstatus varchar(64) NOT NULL,\n    \tkey(table_schema, table_name, create_time),\n    \tkey(parent_table_id, create_time),\n    \tkey(create_time)\n\t);"] [user=]
[2024/05/17 10:53:02.534 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:81, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:80, RowCount:0, ArgLen:2, start time: 2024-05-17 10:53:02.533 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:53:02.534 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:81, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:80, RowCount:0, ArgLen:2, start time: 2024-05-17 10:53:02.533 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_ttl_job_history (\n\t\tjob_id varchar(64) PRIMARY KEY,\n\t\ttable_id bigint(64) NOT NULL,\n        parent_table_id bigint(64) NOT NULL,\n    \ttable_schema varchar(64) NOT NULL,\n\t\ttable_name varchar(64) NOT NULL,\n    \tpartition_name varchar(64) DEFAULT NULL,\n\t\tcreate_time timestamp NOT NULL,\n\t\tfinish_time timestamp NOT NULL,\n\t\tttl_expire timestamp NOT NULL,\n        summary_text text,\n\t\texpired_rows bigint(64) DEFAULT NULL,\n    \tdeleted_rows bigint(64) DEFAULT NULL,\n    \terror_delete_rows bigint(64) DEFAULT NULL,\n    \tstatus varchar(64) NOT NULL,\n    \tkey(table_schema, table_name, create_time),\n    \tkey(parent_table_id, create_time),\n    \tkey(create_time)\n\t);"]
[2024/05/17 10:53:02.538 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=81] [category=ddl] [job="ID:81, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:80, RowCount:0, ArgLen:0, start time: 2024-05-17 10:53:02.533 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:53:02.542 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816659897090048] ["schema version"=40]
[2024/05/17 10:53:02.542 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=39] [neededSchemaVersion=40] ["start time"=386.542µs] [gotSchemaVersion=40] [phyTblIDs="[80]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:53:02.544 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:53:02.544 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=81] [version=40]
[2024/05/17 10:53:02.545 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=40] ["take time"=2.788208ms] [job="ID:81, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:80, RowCount:0, ArgLen:2, start time: 2024-05-17 10:53:02.533 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:53:02.548 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=81] [job="ID:81, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:80, RowCount:0, ArgLen:0, start time: 2024-05-17 10:53:02.533 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:53:02.550 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=81]
[2024/05/17 10:53:02.550 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:53:02.551 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816659897090048] ["schema version"=40]
[2024/05/17 10:53:02.551 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=40] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_global_task (\n\t\tid BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n    \ttask_key VARCHAR(256) NOT NULL,\n\t\ttype VARCHAR(256) NOT NULL,\n\t\tdispatcher_id VARCHAR(261),\n\t\tstate VARCHAR(64) NOT NULL,\n\t\tpriority INT DEFAULT 1,\n\t\tcreate_time TIMESTAMP,\n\t\tstart_time TIMESTAMP,\n\t\tstate_update_time TIMESTAMP,\n\t\tend_time TIMESTAMP,\n\t\tmeta LONGBLOB,\n\t\tconcurrency INT(11),\n\t\tstep INT(11),\n\t\ttarget_scope VARCHAR(256) DEFAULT \"\",\n\t\terror BLOB,\n\t\tkey(state),\n      \tUNIQUE KEY task_key(task_key)\n\t);"] [user=]
[2024/05/17 10:53:02.552 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:83, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:82, RowCount:0, ArgLen:2, start time: 2024-05-17 10:53:02.551 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:53:02.552 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:83, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:82, RowCount:0, ArgLen:2, start time: 2024-05-17 10:53:02.551 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_global_task (\n\t\tid BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n    \ttask_key VARCHAR(256) NOT NULL,\n\t\ttype VARCHAR(256) NOT NULL,\n\t\tdispatcher_id VARCHAR(261),\n\t\tstate VARCHAR(64) NOT NULL,\n\t\tpriority INT DEFAULT 1,\n\t\tcreate_time TIMESTAMP,\n\t\tstart_time TIMESTAMP,\n\t\tstate_update_time TIMESTAMP,\n\t\tend_time TIMESTAMP,\n\t\tmeta LONGBLOB,\n\t\tconcurrency INT(11),\n\t\tstep INT(11),\n\t\ttarget_scope VARCHAR(256) DEFAULT \"\",\n\t\terror BLOB,\n\t\tkey(state),\n      \tUNIQUE KEY task_key(task_key)\n\t);"]
[2024/05/17 10:53:02.557 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=83] [category=ddl] [job="ID:83, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:82, RowCount:0, ArgLen:0, start time: 2024-05-17 10:53:02.551 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:53:02.559 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816659901284353] ["schema version"=41]
[2024/05/17 10:53:02.559 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=40] [neededSchemaVersion=41] ["start time"=406.541µs] [gotSchemaVersion=41] [phyTblIDs="[82]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:53:02.560 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:53:02.560 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=83] [version=41]
[2024/05/17 10:53:02.562 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=41] ["take time"=3.065209ms] [job="ID:83, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:82, RowCount:0, ArgLen:2, start time: 2024-05-17 10:53:02.551 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:53:02.566 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=83] [job="ID:83, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:82, RowCount:0, ArgLen:0, start time: 2024-05-17 10:53:02.551 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:53:02.569 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=83]
[2024/05/17 10:53:02.569 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:53:02.569 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816659901284353] ["schema version"=41]
[2024/05/17 10:53:02.569 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=41] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_global_task_history (\n\t\tid BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n    \ttask_key VARCHAR(256) NOT NULL,\n\t\ttype VARCHAR(256) NOT NULL,\n\t\tdispatcher_id VARCHAR(261),\n\t\tstate VARCHAR(64) NOT NULL,\n\t\tpriority INT DEFAULT 1,\n\t\tcreate_time TIMESTAMP,\n\t\tstart_time TIMESTAMP,\n\t\tstate_update_time TIMESTAMP,\n\t\tend_time TIMESTAMP,\n\t\tmeta LONGBLOB,\n\t\tconcurrency INT(11),\n\t\tstep INT(11),\n\t\ttarget_scope VARCHAR(256) DEFAULT \"\",\n\t\terror BLOB,\n\t\tkey(state),\n      \tUNIQUE KEY task_key(task_key)\n\t);"] [user=]
[2024/05/17 10:53:02.570 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:85, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:84, RowCount:0, ArgLen:2, start time: 2024-05-17 10:53:02.569 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:53:02.570 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:85, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:84, RowCount:0, ArgLen:2, start time: 2024-05-17 10:53:02.569 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_global_task_history (\n\t\tid BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n    \ttask_key VARCHAR(256) NOT NULL,\n\t\ttype VARCHAR(256) NOT NULL,\n\t\tdispatcher_id VARCHAR(261),\n\t\tstate VARCHAR(64) NOT NULL,\n\t\tpriority INT DEFAULT 1,\n\t\tcreate_time TIMESTAMP,\n\t\tstart_time TIMESTAMP,\n\t\tstate_update_time TIMESTAMP,\n\t\tend_time TIMESTAMP,\n\t\tmeta LONGBLOB,\n\t\tconcurrency INT(11),\n\t\tstep INT(11),\n\t\ttarget_scope VARCHAR(256) DEFAULT \"\",\n\t\terror BLOB,\n\t\tkey(state),\n      \tUNIQUE KEY task_key(task_key)\n\t);"]
[2024/05/17 10:53:02.574 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=85] [category=ddl] [job="ID:85, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:84, RowCount:0, ArgLen:0, start time: 2024-05-17 10:53:02.569 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:53:02.577 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816659906265088] ["schema version"=42]
[2024/05/17 10:53:02.577 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=41] [neededSchemaVersion=42] ["start time"=366.084µs] [gotSchemaVersion=42] [phyTblIDs="[84]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:53:02.578 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:53:02.578 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=85] [version=42]
[2024/05/17 10:53:02.579 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=42] ["take time"=2.072708ms] [job="ID:85, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:84, RowCount:0, ArgLen:2, start time: 2024-05-17 10:53:02.569 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:53:02.584 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=85] [job="ID:85, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:84, RowCount:0, ArgLen:0, start time: 2024-05-17 10:53:02.569 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:53:02.589 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=85]
[2024/05/17 10:53:02.589 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:53:02.589 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816659906265088] ["schema version"=42]
[2024/05/17 10:53:02.589 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=42] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_import_jobs (\n\t\tid bigint(64) NOT NULL AUTO_INCREMENT,\n\t\tcreate_time TIMESTAMP(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6),\n\t\tstart_time TIMESTAMP(6) NULL DEFAULT NULL,\n\t\tupdate_time TIMESTAMP(6) NULL DEFAULT NULL,\n\t\tend_time TIMESTAMP(6) NULL DEFAULT NULL,\n\t\ttable_schema VARCHAR(64) NOT NULL,\n\t\ttable_name VARCHAR(64) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tcreated_by VARCHAR(300) NOT NULL,\n\t\tparameters text NOT NULL,\n\t\tsource_file_size bigint(64) NOT NULL,\n\t\tstatus VARCHAR(64) NOT NULL,\n\t\tstep VARCHAR(64) NOT NULL,\n\t\tsummary text DEFAULT NULL,\n\t\terror_message TEXT DEFAULT NULL,\n\t\tPRIMARY KEY (id),\n\t\tKEY (created_by),\n\t\tKEY (status));"] [user=]
[2024/05/17 10:53:02.593 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:87, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:86, RowCount:0, ArgLen:2, start time: 2024-05-17 10:53:02.591 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:53:02.593 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:87, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:86, RowCount:0, ArgLen:2, start time: 2024-05-17 10:53:02.591 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_import_jobs (\n\t\tid bigint(64) NOT NULL AUTO_INCREMENT,\n\t\tcreate_time TIMESTAMP(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6),\n\t\tstart_time TIMESTAMP(6) NULL DEFAULT NULL,\n\t\tupdate_time TIMESTAMP(6) NULL DEFAULT NULL,\n\t\tend_time TIMESTAMP(6) NULL DEFAULT NULL,\n\t\ttable_schema VARCHAR(64) NOT NULL,\n\t\ttable_name VARCHAR(64) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tcreated_by VARCHAR(300) NOT NULL,\n\t\tparameters text NOT NULL,\n\t\tsource_file_size bigint(64) NOT NULL,\n\t\tstatus VARCHAR(64) NOT NULL,\n\t\tstep VARCHAR(64) NOT NULL,\n\t\tsummary text DEFAULT NULL,\n\t\terror_message TEXT DEFAULT NULL,\n\t\tPRIMARY KEY (id),\n\t\tKEY (created_by),\n\t\tKEY (status));"]
[2024/05/17 10:53:02.599 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=87] [category=ddl] [job="ID:87, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:86, RowCount:0, ArgLen:0, start time: 2024-05-17 10:53:02.591 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:53:02.604 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816659913080832] ["schema version"=43]
[2024/05/17 10:53:02.604 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=42] [neededSchemaVersion=43] ["start time"=521.833µs] [gotSchemaVersion=43] [phyTblIDs="[86]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:53:02.606 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:53:02.606 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=87] [version=43]
[2024/05/17 10:53:02.608 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=43] ["take time"=4.451042ms] [job="ID:87, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:86, RowCount:0, ArgLen:2, start time: 2024-05-17 10:53:02.591 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:53:02.616 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=87] [job="ID:87, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:86, RowCount:0, ArgLen:0, start time: 2024-05-17 10:53:02.591 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:53:02.622 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=87]
[2024/05/17 10:53:02.622 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:53:02.622 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816659913080832] ["schema version"=43]
[2024/05/17 10:53:02.622 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=43] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_runaway_watch (\n\t\tid BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n\t\tresource_group_name varchar(32) not null,\n\t\tstart_time datetime(6) NOT NULL,\n\t\tend_time datetime(6),\n\t\twatch bigint(10) NOT NULL,\n\t\twatch_text TEXT NOT NULL,\n\t\tsource varchar(512) NOT NULL,\n\t\taction bigint(10),\n\t\tINDEX sql_index(resource_group_name,watch_text(700)) COMMENT \"accelerate the speed when select quarantined query\",\n\t\tINDEX time_index(end_time) COMMENT \"accelerate the speed when querying with active watch\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"] [user=]
[2024/05/17 10:53:02.626 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:89, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:88, RowCount:0, ArgLen:2, start time: 2024-05-17 10:53:02.625 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:53:02.626 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:89, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:88, RowCount:0, ArgLen:2, start time: 2024-05-17 10:53:02.625 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_runaway_watch (\n\t\tid BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n\t\tresource_group_name varchar(32) not null,\n\t\tstart_time datetime(6) NOT NULL,\n\t\tend_time datetime(6),\n\t\twatch bigint(10) NOT NULL,\n\t\twatch_text TEXT NOT NULL,\n\t\tsource varchar(512) NOT NULL,\n\t\taction bigint(10),\n\t\tINDEX sql_index(resource_group_name,watch_text(700)) COMMENT \"accelerate the speed when select quarantined query\",\n\t\tINDEX time_index(end_time) COMMENT \"accelerate the speed when querying with active watch\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"]
[2024/05/17 10:53:02.634 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=89] [category=ddl] [job="ID:89, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:88, RowCount:0, ArgLen:0, start time: 2024-05-17 10:53:02.625 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:53:02.637 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816659921993728] ["schema version"=44]
[2024/05/17 10:53:02.637 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=43] [neededSchemaVersion=44] ["start time"=398.667µs] [gotSchemaVersion=44] [phyTblIDs="[88]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:53:02.638 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:53:02.638 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=89] [version=44]
[2024/05/17 10:53:02.640 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=44] ["take time"=2.562334ms] [job="ID:89, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:88, RowCount:0, ArgLen:2, start time: 2024-05-17 10:53:02.625 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:53:02.644 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=89] [job="ID:89, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:88, RowCount:0, ArgLen:0, start time: 2024-05-17 10:53:02.625 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:53:02.646 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=89]
[2024/05/17 10:53:02.646 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:53:02.646 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816659921993728] ["schema version"=44]
[2024/05/17 10:53:02.646 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=44] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_runaway_queries (\n\t\tresource_group_name varchar(32) not null,\n\t\ttime TIMESTAMP NOT NULL,\n\t\tmatch_type varchar(12) NOT NULL,\n\t\taction varchar(12) NOT NULL,\n\t\toriginal_sql TEXT NOT NULL,\n\t\tplan_digest TEXT NOT NULL,\n\t\ttidb_server varchar(512),\n\t\tINDEX plan_index(plan_digest(64)) COMMENT \"accelerate the speed when select runaway query\",\n\t\tINDEX time_index(time) COMMENT \"accelerate the speed when querying with active watch\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"] [user=]
[2024/05/17 10:53:02.648 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:91, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:90, RowCount:0, ArgLen:2, start time: 2024-05-17 10:53:02.647 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:53:02.648 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:91, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:90, RowCount:0, ArgLen:2, start time: 2024-05-17 10:53:02.647 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_runaway_queries (\n\t\tresource_group_name varchar(32) not null,\n\t\ttime TIMESTAMP NOT NULL,\n\t\tmatch_type varchar(12) NOT NULL,\n\t\taction varchar(12) NOT NULL,\n\t\toriginal_sql TEXT NOT NULL,\n\t\tplan_digest TEXT NOT NULL,\n\t\ttidb_server varchar(512),\n\t\tINDEX plan_index(plan_digest(64)) COMMENT \"accelerate the speed when select runaway query\",\n\t\tINDEX time_index(time) COMMENT \"accelerate the speed when querying with active watch\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"]
[2024/05/17 10:53:02.652 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=91] [category=ddl] [job="ID:91, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:90, RowCount:0, ArgLen:0, start time: 2024-05-17 10:53:02.647 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:53:02.654 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816659926188032] ["schema version"=45]
[2024/05/17 10:53:02.654 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=44] [neededSchemaVersion=45] ["start time"=310.833µs] [gotSchemaVersion=45] [phyTblIDs="[90]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:53:02.655 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:53:02.655 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=91] [version=45]
[2024/05/17 10:53:02.656 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=45] ["take time"=3.010833ms] [job="ID:91, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:90, RowCount:0, ArgLen:2, start time: 2024-05-17 10:53:02.647 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:53:02.661 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=91] [job="ID:91, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:90, RowCount:0, ArgLen:0, start time: 2024-05-17 10:53:02.647 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:53:02.663 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=91]
[2024/05/17 10:53:02.663 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:53:02.663 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816659926188032] ["schema version"=45]
[2024/05/17 10:53:02.663 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=45] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS `mysql`.`tidb_timers` (\n\t\tID BIGINT(64) UNSIGNED NOT NULL AUTO_INCREMENT,\n\t\tNAMESPACE VARCHAR(256) NOT NULL,\n\t\tTIMER_KEY VARCHAR(256) NOT NULL,\n\t\tTIMER_DATA BLOB,\n\t\tTIMEZONE VARCHAR(64) NOT NULL,\n\t\tSCHED_POLICY_TYPE VARCHAR(32) NOT NULL,\n\t\tSCHED_POLICY_EXPR VARCHAR(256) NOT NULL,\n\t\tHOOK_CLASS VARCHAR(64) NOT NULL,\n\t\tWATERMARK TIMESTAMP DEFAULT NULL,\n\t\tENABLE TINYINT(2) NOT NULL,\n\t\tTIMER_EXT JSON NOT NULL,\n\t\tEVENT_STATUS VARCHAR(32) NOT NULL,\n\t\tEVENT_ID VARCHAR(64) NOT NULL,\n\t\tEVENT_DATA BLOB,\n\t\tEVENT_START TIMESTAMP DEFAULT NULL,\n\t\tSUMMARY_DATA BLOB,\n\t\tCREATE_TIME TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,\n\t\tUPDATE_TIME TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\tVERSION BIGINT(64) UNSIGNED NOT NULL,\n\t\tPRIMARY KEY (ID),\n\t\tUNIQUE KEY timer_key(NAMESPACE, TIMER_KEY),\n\t\tKEY hook_class(HOOK_CLASS)\n\t)"] [user=]
[2024/05/17 10:53:02.665 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:93, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:92, RowCount:0, ArgLen:2, start time: 2024-05-17 10:53:02.664 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:53:02.665 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:93, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:92, RowCount:0, ArgLen:2, start time: 2024-05-17 10:53:02.664 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS `mysql`.`tidb_timers` (\n\t\tID BIGINT(64) UNSIGNED NOT NULL AUTO_INCREMENT,\n\t\tNAMESPACE VARCHAR(256) NOT NULL,\n\t\tTIMER_KEY VARCHAR(256) NOT NULL,\n\t\tTIMER_DATA BLOB,\n\t\tTIMEZONE VARCHAR(64) NOT NULL,\n\t\tSCHED_POLICY_TYPE VARCHAR(32) NOT NULL,\n\t\tSCHED_POLICY_EXPR VARCHAR(256) NOT NULL,\n\t\tHOOK_CLASS VARCHAR(64) NOT NULL,\n\t\tWATERMARK TIMESTAMP DEFAULT NULL,\n\t\tENABLE TINYINT(2) NOT NULL,\n\t\tTIMER_EXT JSON NOT NULL,\n\t\tEVENT_STATUS VARCHAR(32) NOT NULL,\n\t\tEVENT_ID VARCHAR(64) NOT NULL,\n\t\tEVENT_DATA BLOB,\n\t\tEVENT_START TIMESTAMP DEFAULT NULL,\n\t\tSUMMARY_DATA BLOB,\n\t\tCREATE_TIME TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,\n\t\tUPDATE_TIME TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\tVERSION BIGINT(64) UNSIGNED NOT NULL,\n\t\tPRIMARY KEY (ID),\n\t\tUNIQUE KEY timer_key(NAMESPACE, TIMER_KEY),\n\t\tKEY hook_class(HOOK_CLASS)\n\t)"]
[2024/05/17 10:53:02.669 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=93] [category=ddl] [job="ID:93, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:92, RowCount:0, ArgLen:0, start time: 2024-05-17 10:53:02.664 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:53:02.672 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816659930906624] ["schema version"=46]
[2024/05/17 10:53:02.672 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=45] [neededSchemaVersion=46] ["start time"=481.834µs] [gotSchemaVersion=46] [phyTblIDs="[92]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:53:02.672 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:53:02.672 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=93] [version=46]
[2024/05/17 10:53:02.672 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816659930906624] ["schema version"=46]
[2024/05/17 10:53:02.674 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=46] ["take time"=3.04875ms] [job="ID:93, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:92, RowCount:0, ArgLen:2, start time: 2024-05-17 10:53:02.664 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:53:02.675 +08:00] [WARN] [runaway.go:166] ["failed to start runaway manager loop, please check whether the bootstrap or update is finished"] [error="[schema:1146]Table 'mysql.tidb_runaway_watch_done' doesn't exist"] [errorVerbose="[schema:1146]Table 'mysql.tidb_runaway_watch_done' doesn't exist\ngithub.com/pingcap/errors.AddStack\n\t/Users/bba/.gvm/pkgsets/go1.21.0/global/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20240318064555-6bd07397691f/errors.go:178\ngithub.com/pingcap/errors.Trace\n\t/Users/bba/.gvm/pkgsets/go1.21.0/global/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20240318064555-6bd07397691f/juju_adaptor.go:15\ngithub.com/pingcap/tidb/pkg/planner/core.Preprocess\n\t/Users/bba/pc/tidb/pkg/planner/core/preprocess.go:141\ngithub.com/pingcap/tidb/pkg/executor.(*Compiler).Compile\n\t/Users/bba/pc/tidb/pkg/executor/compiler.go:67\ngithub.com/pingcap/tidb/pkg/session.(*session).ExecuteStmt\n\t/Users/bba/pc/tidb/pkg/session/session.go:2094\ngithub.com/pingcap/tidb/pkg/session.(*session).ExecuteInternalStmt\n\t/Users/bba/pc/tidb/pkg/session/session.go:1998\ngithub.com/pingcap/tidb/pkg/session.(*session).ExecRestrictedSQL.func1\n\t/Users/bba/pc/tidb/pkg/session/session.go:1963\ngithub.com/pingcap/tidb/pkg/session.(*session).withRestrictedSQLExecutor\n\t/Users/bba/pc/tidb/pkg/session/session.go:1949\ngithub.com/pingcap/tidb/pkg/session.(*session).ExecRestrictedSQL\n\t/Users/bba/pc/tidb/pkg/session/session.go:1953\ngithub.com/pingcap/tidb/pkg/domain.(*SystemTableReader).Read\n\t/Users/bba/pc/tidb/pkg/domain/runaway.go:655\ngithub.com/pingcap/tidb/pkg/domain.getRunawayWatchDoneRecord\n\t/Users/bba/pc/tidb/pkg/domain/runaway.go:582\ngithub.com/pingcap/tidb/pkg/domain.(*runawaySyncer).getWatchDoneRecord\n\t/Users/bba/pc/tidb/pkg/domain/runaway.go:539\ngithub.com/pingcap/tidb/pkg/domain.(*runawaySyncer).getNewWatchDoneRecords\n\t/Users/bba/pc/tidb/pkg/domain/runaway.go:513\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).updateNewAndDoneWatch\n\t/Users/bba/pc/tidb/pkg/domain/runaway.go:184\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).runawayStartLoop\n\t/Users/bba/pc/tidb/pkg/domain/runaway.go:156\ngithub.com/pingcap/tidb/pkg/util.(*WaitGroupEnhancedWrapper).Run.func1\n\t/Users/bba/pc/tidb/pkg/util/wait_group_wrapper.go:99\nruntime.goexit\n\t/Users/bba/.gvm/gos/go1.21.0/src/runtime/asm_arm64.s:1197"]
[2024/05/17 10:53:02.678 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=93] [job="ID:93, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:92, RowCount:0, ArgLen:0, start time: 2024-05-17 10:53:02.664 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:53:02.681 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=93]
[2024/05/17 10:53:02.681 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:53:02.681 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816659930906624] ["schema version"=46]
[2024/05/17 10:53:02.682 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=46] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_runaway_watch_done (\n\t\tid BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n\t\trecord_id BIGINT(20) not null,\n\t\tresource_group_name varchar(32) not null,\n\t\tstart_time datetime(6) NOT NULL,\n\t\tend_time datetime(6),\n\t\twatch bigint(10) NOT NULL,\n\t\twatch_text TEXT NOT NULL,\n\t\tsource varchar(512) NOT NULL,\n\t\taction bigint(10),\n\t\tdone_time TIMESTAMP(6) NOT NULL\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"] [user=]
[2024/05/17 10:53:02.684 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:95, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:94, RowCount:0, ArgLen:2, start time: 2024-05-17 10:53:02.683 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:53:02.684 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:95, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:94, RowCount:0, ArgLen:2, start time: 2024-05-17 10:53:02.683 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_runaway_watch_done (\n\t\tid BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n\t\trecord_id BIGINT(20) not null,\n\t\tresource_group_name varchar(32) not null,\n\t\tstart_time datetime(6) NOT NULL,\n\t\tend_time datetime(6),\n\t\twatch bigint(10) NOT NULL,\n\t\twatch_text TEXT NOT NULL,\n\t\tsource varchar(512) NOT NULL,\n\t\taction bigint(10),\n\t\tdone_time TIMESTAMP(6) NOT NULL\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"]
[2024/05/17 10:53:02.687 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=95] [category=ddl] [job="ID:95, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:94, RowCount:0, ArgLen:0, start time: 2024-05-17 10:53:02.683 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:53:02.689 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816659935363075] ["schema version"=47]
[2024/05/17 10:53:02.689 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=46] [neededSchemaVersion=47] ["start time"=272.542µs] [gotSchemaVersion=47] [phyTblIDs="[94]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:53:02.690 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:53:02.690 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=95] [version=47]
[2024/05/17 10:53:02.691 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=47] ["take time"=2.01825ms] [job="ID:95, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:94, RowCount:0, ArgLen:2, start time: 2024-05-17 10:53:02.683 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:53:02.694 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=95] [job="ID:95, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:94, RowCount:0, ArgLen:0, start time: 2024-05-17 10:53:02.683 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:53:02.696 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=95]
[2024/05/17 10:53:02.696 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:53:02.696 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816659935363075] ["schema version"=47]
[2024/05/17 10:53:02.696 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=47] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.dist_framework_meta (\n        host VARCHAR(261) NOT NULL PRIMARY KEY,\n        role VARCHAR(64),\n        cpu_count int default 0,\n        keyspace_id bigint(8) NOT NULL DEFAULT -1\n    );"] [user=]
[2024/05/17 10:53:02.697 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:97, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:96, RowCount:0, ArgLen:2, start time: 2024-05-17 10:53:02.697 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:53:02.697 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:97, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:96, RowCount:0, ArgLen:2, start time: 2024-05-17 10:53:02.697 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.dist_framework_meta (\n        host VARCHAR(261) NOT NULL PRIMARY KEY,\n        role VARCHAR(64),\n        cpu_count int default 0,\n        keyspace_id bigint(8) NOT NULL DEFAULT -1\n    );"]
[2024/05/17 10:53:02.700 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=97] [category=ddl] [job="ID:97, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:96, RowCount:0, ArgLen:0, start time: 2024-05-17 10:53:02.697 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:53:02.703 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816659939033088] ["schema version"=48]
[2024/05/17 10:53:02.703 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=47] [neededSchemaVersion=48] ["start time"=579.708µs] [gotSchemaVersion=48] [phyTblIDs="[96]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:53:02.704 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:53:02.704 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=97] [version=48]
[2024/05/17 10:53:02.705 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=48] ["take time"=2.565416ms] [job="ID:97, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:96, RowCount:0, ArgLen:2, start time: 2024-05-17 10:53:02.697 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:53:02.710 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=97] [job="ID:97, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:96, RowCount:0, ArgLen:0, start time: 2024-05-17 10:53:02.697 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:53:02.712 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=97]
[2024/05/17 10:53:02.712 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:53:02.712 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816659939033088] ["schema version"=48]
[2024/05/17 10:53:02.712 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=48] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.request_unit_by_group (\n\t\tstart_time TIMESTAMP(6) NOT NULL,\n\t\tend_time TIMESTAMP(6) NOT NULL,\n\t\tresource_group VARCHAR(32) NOT null,\n\t\ttotal_ru bigint(64) UNSIGNED NOT NULL,\n\t\tPRIMARY KEY (start_time, end_time, resource_group),\n\t\tKEY (resource_group)\n\t);"] [user=]
[2024/05/17 10:53:02.713 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:99, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:98, RowCount:0, ArgLen:2, start time: 2024-05-17 10:53:02.713 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:53:02.713 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:99, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:98, RowCount:0, ArgLen:2, start time: 2024-05-17 10:53:02.713 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.request_unit_by_group (\n\t\tstart_time TIMESTAMP(6) NOT NULL,\n\t\tend_time TIMESTAMP(6) NOT NULL,\n\t\tresource_group VARCHAR(32) NOT null,\n\t\ttotal_ru bigint(64) UNSIGNED NOT NULL,\n\t\tPRIMARY KEY (start_time, end_time, resource_group),\n\t\tKEY (resource_group)\n\t);"]
[2024/05/17 10:53:02.717 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=99] [category=ddl] [job="ID:99, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:98, RowCount:0, ArgLen:0, start time: 2024-05-17 10:53:02.713 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:53:02.719 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816659943489536] ["schema version"=49]
[2024/05/17 10:53:02.719 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=48] [neededSchemaVersion=49] ["start time"=220.875µs] [gotSchemaVersion=49] [phyTblIDs="[98]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:53:02.720 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:53:02.720 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=99] [version=49]
[2024/05/17 10:53:02.721 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=49] ["take time"=2.304042ms] [job="ID:99, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:98, RowCount:0, ArgLen:2, start time: 2024-05-17 10:53:02.713 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:53:02.726 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=99] [job="ID:99, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:98, RowCount:0, ArgLen:0, start time: 2024-05-17 10:53:02.713 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:53:02.728 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=99]
[2024/05/17 10:53:02.728 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:53:02.728 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816659943489536] ["schema version"=49]
[2024/05/17 10:53:02.728 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=49] [cur_db=mysql] [sql="CREATE DATABASE IF NOT EXISTS sys;"] [user=]
[2024/05/17 10:53:02.729 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:101, Type:create schema, State:queueing, SchemaState:none, SchemaID:100, TableID:0, RowCount:0, ArgLen:1, start time: 2024-05-17 10:53:02.729 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:53:02.729 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:101, Type:create schema, State:queueing, SchemaState:none, SchemaID:100, TableID:0, RowCount:0, ArgLen:1, start time: 2024-05-17 10:53:02.729 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE DATABASE IF NOT EXISTS sys;"]
[2024/05/17 10:53:02.733 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=101] [category=ddl] [job="ID:101, Type:create schema, State:queueing, SchemaState:none, SchemaID:100, TableID:0, RowCount:0, ArgLen:0, start time: 2024-05-17 10:53:02.729 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:53:02.734 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816659947421697] ["schema version"=50]
[2024/05/17 10:53:02.734 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=49] [neededSchemaVersion=50] ["start time"=54.834µs] [gotSchemaVersion=50] [phyTblIDs="[]"] [actionTypes="[]"] [diffTypes="[\"create schema\"]"]
[2024/05/17 10:53:02.735 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:53:02.735 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=101] [version=50]
[2024/05/17 10:53:02.736 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=50] ["take time"=2.083875ms] [job="ID:101, Type:create schema, State:done, SchemaState:public, SchemaID:100, TableID:0, RowCount:0, ArgLen:1, start time: 2024-05-17 10:53:02.729 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:53:02.741 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=101] [job="ID:101, Type:create schema, State:synced, SchemaState:public, SchemaID:100, TableID:0, RowCount:0, ArgLen:0, start time: 2024-05-17 10:53:02.729 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:53:02.743 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=101]
[2024/05/17 10:53:02.743 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:53:02.743 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816659947421697] ["schema version"=50]
[2024/05/17 10:53:02.746 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:103, Type:create view, State:queueing, SchemaState:none, SchemaID:100, TableID:102, RowCount:0, ArgLen:3, start time: 2024-05-17 10:53:02.746 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:53:02.746 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:103, Type:create view, State:queueing, SchemaState:none, SchemaID:100, TableID:102, RowCount:0, ArgLen:3, start time: 2024-05-17 10:53:02.746 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE OR REPLACE VIEW sys.schema_unused_indexes AS\n\t\tSELECT\n\t\t\ttable_schema as object_schema,\n\t\t\ttable_name as object_name,\n\t\t\tindex_name\n\t\tFROM information_schema.cluster_tidb_index_usage\n\t\tWHERE\n\t\t\ttable_schema not in ('sys', 'mysql', 'INFORMATION_SCHEMA', 'PERFORMANCE_SCHEMA') and\n\t\t\tindex_name != 'PRIMARY'\n\t\tGROUP BY table_schema, table_name, index_name\n\t\tHAVING\n\t\t\tsum(last_access_time) is null;"]
[2024/05/17 10:53:02.750 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=103] [category=ddl] [job="ID:103, Type:create view, State:queueing, SchemaState:none, SchemaID:100, TableID:102, RowCount:0, ArgLen:0, start time: 2024-05-17 10:53:02.746 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:53:02.752 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816659951878144] ["schema version"=51]
[2024/05/17 10:53:02.752 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=50] [neededSchemaVersion=51] ["start time"=255.083µs] [gotSchemaVersion=51] [phyTblIDs="[102]"] [actionTypes="[21]"] [diffTypes="[\"create view\"]"]
[2024/05/17 10:53:02.752 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:53:02.752 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=103] [version=51]
[2024/05/17 10:53:02.753 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=51] ["take time"=2.253875ms] [job="ID:103, Type:create view, State:done, SchemaState:public, SchemaID:100, TableID:102, RowCount:0, ArgLen:3, start time: 2024-05-17 10:53:02.746 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:53:02.758 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=103] [job="ID:103, Type:create view, State:synced, SchemaState:public, SchemaID:100, TableID:102, RowCount:0, ArgLen:0, start time: 2024-05-17 10:53:02.746 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:53:02.760 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=103]
[2024/05/17 10:53:02.760 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:53:02.760 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816659951878144] ["schema version"=51]
[2024/05/17 10:53:02.770 +08:00] [INFO] [bootstrap.go:745] ["bootstrap successful"] ["take time"=1.108176333s]
[2024/05/17 10:53:02.772 +08:00] [INFO] [mock.go:106] ["owner manager is canceled"] [category=ddl] [ID=c2baa36a-6794-4409-be64-13e3f45b73b1] [ownerKey=/tidb/ddl/fg/owner]
[2024/05/17 10:53:02.772 +08:00] [INFO] [ddl_workerpool.go:82] ["closing workerPool"] [category=ddl]
[2024/05/17 10:53:02.772 +08:00] [INFO] [ddl_worker.go:188] ["DDL worker closed"] [worker="worker 2, tp add index"] [category=ddl] ["take time"=666ns]
[2024/05/17 10:53:02.772 +08:00] [INFO] [ddl_workerpool.go:82] ["closing workerPool"] [category=ddl]
[2024/05/17 10:53:02.772 +08:00] [INFO] [ddl_worker.go:188] ["DDL worker closed"] [worker="worker 1, tp general"] [category=ddl] ["take time"=4.083µs]
[2024/05/17 10:53:02.772 +08:00] [INFO] [ddl_workerpool.go:82] ["closing workerPool"] [category=ddl]
[2024/05/17 10:53:02.772 +08:00] [INFO] [delete_range.go:162] ["closing delRange"] [category=ddl]
[2024/05/17 10:53:02.772 +08:00] [INFO] [session_pool.go:99] ["closing session pool"] [category=ddl]
[2024/05/17 10:53:02.772 +08:00] [INFO] [ddl.go:951] ["DDL closed"] [category=ddl] [ID=c2baa36a-6794-4409-be64-13e3f45b73b1] ["take time"=2.046833ms]
[2024/05/17 10:53:02.772 +08:00] [INFO] [ddl.go:769] ["stop DDL"] [category=ddl] [ID=c2baa36a-6794-4409-be64-13e3f45b73b1]
[2024/05/17 10:53:02.772 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=mdlCheckLoop]
[2024/05/17 10:53:02.772 +08:00] [INFO] [domain.go:977] ["loadSchemaInLoop exited."]
[2024/05/17 10:53:02.773 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=loadSchemaInLoop]
[2024/05/17 10:53:02.773 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=runawayStartLoop]
[2024/05/17 10:53:02.773 +08:00] [INFO] [domain.go:831] ["topologySyncerKeeper exited."]
[2024/05/17 10:53:02.773 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=topologySyncerKeeper]
[2024/05/17 10:53:02.773 +08:00] [INFO] [domain.go:807] ["globalConfigSyncerKeeper exited."]
[2024/05/17 10:53:02.773 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=globalConfigSyncerKeeper]
[2024/05/17 10:53:02.773 +08:00] [INFO] [domain.go:781] ["infoSyncerKeeper exited."]
[2024/05/17 10:53:02.773 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=infoSyncerKeeper]
[2024/05/17 10:53:02.773 +08:00] [INFO] [domain.go:753] ["topNSlowQueryLoop exited."]
[2024/05/17 10:53:02.773 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=topNSlowQueryLoop]
[2024/05/17 10:53:02.773 +08:00] [INFO] [domain.go:1431] ["closestReplicaReadCheckLoop exited."]
[2024/05/17 10:53:02.773 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=closestReplicaReadCheckLoop]
[2024/05/17 10:53:02.773 +08:00] [INFO] [domain.go:1144] ["domain closed"] ["take time"=2.800083ms]
[2024/05/17 10:53:02.773 +08:00] [INFO] [tidb.go:80] ["new domain"] [store=507affd7-5861-4835-b2ab-918566360b64] ["ddl lease"=500ms] ["stats lease"=-1ns]
[2024/05/17 10:53:02.775 +08:00] [WARN] [controller.go:198] ["[resource group controller] server does not save config, load config failed"]
[2024/05/17 10:53:02.775 +08:00] [INFO] [controller.go:185] ["load resource controller config"] [config="{\"degraded-mode-wait-duration\":\"0s\",\"ltb-max-wait-duration\":\"30s\",\"wait-retry-interval\":\"50ms\",\"wait-retry-times\":10,\"request-unit\":{\"read-base-cost\":0.125,\"read-per-batch-base-cost\":0.5,\"read-cost-per-byte\":0.0000152587890625,\"write-base-cost\":1,\"write-per-batch-base-cost\":1,\"write-cost-per-byte\":0.0009765625,\"read-cpu-ms-cost\":0.3333333333333333},\"enable-controller-trace-log\":\"false\"}"] [ru-config="{\"ReadBaseCost\":0.125,\"ReadPerBatchBaseCost\":0.5,\"ReadBytesCost\":0.0000152587890625,\"WriteBaseCost\":1,\"WritePerBatchBaseCost\":1,\"WriteBytesCost\":0.0009765625,\"CPUMsCost\":0.3333333333333333,\"LTBMaxWaitDuration\":30000000000,\"WaitRetryInterval\":50000000,\"WaitRetryTimes\":10,\"DegradedModeWaitDuration\":0}"]
[2024/05/17 10:53:02.785 +08:00] [INFO] [domain.go:385] ["full load InfoSchema success"] [currentSchemaVersion=0] [neededSchemaVersion=51] ["start time"=10.598458ms]
[2024/05/17 10:53:02.790 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816659951878144] ["schema version"=51]
[2024/05/17 10:53:02.791 +08:00] [INFO] [domain.go:705] ["full load and reset schema validator"]
[2024/05/17 10:53:02.791 +08:00] [INFO] [ddl.go:818] ["start DDL"] [category=ddl] [ID=fafe9d99-7ea1-4d91-94f8-637082b2da78] [runWorker=true]
[2024/05/17 10:53:02.791 +08:00] [INFO] [ddl.go:777] ["start delRangeManager OK"] [category=ddl] ["is a emulator"=true]
[2024/05/17 10:53:02.791 +08:00] [WARN] [env.go:51] ["initialize environment failed"] [category=ddl-ingest] ["storage limitation"="only support TiKV storage"] ["current storage"=unistore] ["lightning is initialized"=false]
[2024/05/17 10:53:02.791 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=loadSchemaInLoop]
[2024/05/17 10:53:02.791 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=mdlCheckLoop]
[2024/05/17 10:53:02.791 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=topNSlowQueryLoop]
[2024/05/17 10:53:02.791 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=infoSyncerKeeper]
[2024/05/17 10:53:02.791 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=globalConfigSyncerKeeper]
[2024/05/17 10:53:02.791 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=runawayStartLoop]
[2024/05/17 10:53:02.791 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=requestUnitsWriterLoop]
[2024/05/17 10:53:02.791 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=topologySyncerKeeper]
[2024/05/17 10:53:02.791 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=closestReplicaReadCheckLoop]
[2024/05/17 10:53:02.791 +08:00] [WARN] [domain.go:1396] ["pd / etcd client not provided, won't begin Advancer."]
[2024/05/17 10:53:02.812 +08:00] [INFO] [delete_range.go:172] ["start delRange emulator"] [category=ddl]
[2024/05/17 10:53:02.812 +08:00] [INFO] [job_table.go:334] ["get global state and global state change"] [category=ddl] [oldState=false] [currState=false]
[2024/05/17 10:53:02.812 +08:00] [INFO] [runaway.go:149] ["try to start runaway manager loop"]
[2024/05/17 10:53:02.812 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=requestUnitsWriterLoop]
[2024/05/17 10:53:02.812 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=globalBindHandleWorkerLoop]
[2024/05/17 10:53:02.813 +08:00] [WARN] [sysvar_cache.go:49] ["sysvar cache is empty, triggering rebuild"]
[2024/05/17 10:53:02.813 +08:00] [INFO] [sysvar.go:2748] ["set resource control"] [enable=true]
[2024/05/17 10:53:02.814 +08:00] [INFO] [controller.go:447] ["[resource group controller] create resource group cost controller"] [name=default]
[2024/05/17 10:53:02.820 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=loadPrivilegeInLoop]
[2024/05/17 10:53:02.821 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=LoadSysVarCacheLoop]
[2024/05/17 10:53:02.821 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=dumpFileGcChecker]
[2024/05/17 10:53:02.822 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=indexUsageWorker]
[2024/05/17 10:53:02.822 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=quitStatsOwner]
[2024/05/17 10:53:02.822 +08:00] [INFO] [domain.go:2340] ["start load stats sub workers"] ["worker count"=5]
[2024/05/17 10:53:02.822 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=loadSigningCertLoop]
[2024/05/17 10:53:02.822 +08:00] [INFO] [manager.go:113] ["build task executor manager"] [server-id=:4000] [total-cpu=1] [total-mem=32GiB]
[2024/05/17 10:53:02.822 +08:00] [INFO] [domain.go:2140] ["dumpFileGcChecker started"]
[2024/05/17 10:53:02.823 +08:00] [INFO] [task_manager.go:217] ["scale ttl worker"] [ttl-worker=job-manager] [ttl-worker=task-manager] [originalCount=0] [newCount=4]
[2024/05/17 10:53:02.823 +08:00] [INFO] [task_manager.go:217] ["scale ttl worker"] [ttl-worker=job-manager] [ttl-worker=task-manager] [originalCount=0] [newCount=4]
[2024/05/17 10:53:02.827 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=distTaskFrameworkLoop]
[2024/05/17 10:53:02.830 +08:00] [INFO] [manager.go:146] ["task executor manager start"] [server-id=:4000]
[2024/05/17 10:53:02.830 +08:00] [INFO] [domain.go:1595] ["dist task executor manager started"]
[2024/05/17 10:53:02.832 +08:00] [INFO] [set.go:170] ["set global var"] [conn=1] [name=autocommit] [val=0]
[2024/05/17 10:53:02.837 +08:00] [INFO] [set.go:170] ["set global var"] [conn=2] [name=tidb_schema_cache_size] [val=1024]
[2024/05/17 10:53:02.854 +08:00] [INFO] [set.go:170] ["set global var"] [conn=1] [name=autocommit] [val=1]
[2024/05/17 10:53:02.856 +08:00] [INFO] [set.go:170] ["set global var"] [conn=3] [name=tidb_schema_cache_size] [val=1024]
[2024/05/17 10:53:02.858 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=1] [schemaVersion=51] [cur_db=test] [sql="drop table if exists test_full_column"] [user=]
[2024/05/17 10:53:02.859 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=1] [schemaVersion=51] [cur_db=test] [sql="create table test_full_column(\n\t\t\t\t\tc_int int,\n\t\t\t\t\tc_float float,\n\t\t\t\t\tc_bit bit,\n\t\t\t\t\tc_bool bool,\n\t\t\t\t\tc_char char(1) charset ascii collate ascii_bin,\n\t\t\t\t\tc_nchar national char(1) charset ascii collate ascii_bin,\n\t\t\t\t\tc_binary binary,\n\t\t\t\t\tc_varchar varchar(1) charset ascii collate ascii_bin,\n\t\t\t\t\tc_varchar_default varchar(20) charset ascii collate ascii_bin default 'cUrrent_tImestamp',\n\t\t\t\t\tc_nvarchar national varchar(1) charset ascii collate ascii_bin,\n\t\t\t\t\tc_varbinary varbinary(1),\n\t\t\t\t\tc_year year,\n\t\t\t\t\tc_date date,\n\t\t\t\t\tc_time time,\n\t\t\t\t\tc_datetime datetime,\n\t\t\t\t\tc_datetime_default datetime default current_timestamp,\n\t\t\t\t\tc_datetime_default_2 datetime(2) default current_timestamp(2),\n\t\t\t\t\tc_timestamp timestamp,\n\t\t\t\t\tc_timestamp_default timestamp default current_timestamp,\n\t\t\t\t\tc_timestamp_default_3 timestamp(3) default current_timestamp(3),\n\t\t\t\t\tc_timestamp_default_4 timestamp(3) default current_timestamp(3) on update current_timestamp(3),\n\t\t\t\t\tc_date_default date default current_date,\n\t\t\t\t\tc_date_default_2 date default (curdate()),\n\t\t\t\t\tc_blob blob,\n\t\t\t\t\tc_tinyblob tinyblob,\n\t\t\t\t\tc_mediumblob mediumblob,\n\t\t\t\t\tc_longblob longblob,\n\t\t\t\t\tc_text text charset ascii collate ascii_bin,\n\t\t\t\t\tc_tinytext tinytext charset ascii collate ascii_bin,\n\t\t\t\t\tc_mediumtext mediumtext charset ascii collate ascii_bin,\n\t\t\t\t\tc_longtext longtext charset ascii collate ascii_bin,\n\t\t\t\t\tc_json json,\n\t\t\t\t\tc_enum enum('1') charset ascii collate ascii_bin,\n\t\t\t\t\tc_set set('1') charset ascii collate ascii_bin\n\t\t\t\t);"] [user=]
[2024/05/17 10:53:02.874 +08:00] [INFO] [job_table.go:334] ["get global state and global state change"] [category=ddl] [oldState=false] [currState=false]
[2024/05/17 10:53:02.874 +08:00] [INFO] [job_table.go:349] ["the owner sets owner operator value"] [category=ddl] [ownerOp=none]
[2024/05/17 10:53:02.876 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:105, Type:create table, State:queueing, SchemaState:none, SchemaID:2, TableID:104, RowCount:0, ArgLen:2, start time: 2024-05-17 10:53:02.875 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:53:02.876 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:105, Type:create table, State:queueing, SchemaState:none, SchemaID:2, TableID:104, RowCount:0, ArgLen:2, start time: 2024-05-17 10:53:02.875 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="create table test_full_column(\n\t\t\t\t\tc_int int,\n\t\t\t\t\tc_float float,\n\t\t\t\t\tc_bit bit,\n\t\t\t\t\tc_bool bool,\n\t\t\t\t\tc_char char(1) charset ascii collate ascii_bin,\n\t\t\t\t\tc_nchar national char(1) charset ascii collate ascii_bin,\n\t\t\t\t\tc_binary binary,\n\t\t\t\t\tc_varchar varchar(1) charset ascii collate ascii_bin,\n\t\t\t\t\tc_varchar_default varchar(20) charset ascii collate ascii_bin default 'cUrrent_tImestamp',\n\t\t\t\t\tc_nvarchar national varchar(1) charset ascii collate ascii_bin,\n\t\t\t\t\tc_varbinary varbinary(1),\n\t\t\t\t\tc_year year,\n\t\t\t\t\tc_date date,\n\t\t\t\t\tc_time time,\n\t\t\t\t\tc_datetime datetime,\n\t\t\t\t\tc_datetime_default datetime default current_timestamp,\n\t\t\t\t\tc_datetime_default_2 datetime(2) default current_timestamp(2),\n\t\t\t\t\tc_timestamp timestamp,\n\t\t\t\t\tc_timestamp_default timestamp default current_timestamp,\n\t\t\t\t\tc_timestamp_default_3 timestamp(3) default current_timestamp(3),\n\t\t\t\t\tc_timestamp_default_4 timestamp(3) default current_timestamp(3) on update current_timestamp(3),\n\t\t\t\t\tc_date_default date default current_date,\n\t\t\t\t\tc_date_default_2 date default (curdate()),\n\t\t\t\t\tc_blob blob,\n\t\t\t\t\tc_tinyblob tinyblob,\n\t\t\t\t\tc_mediumblob mediumblob,\n\t\t\t\t\tc_longblob longblob,\n\t\t\t\t\tc_text text charset ascii collate ascii_bin,\n\t\t\t\t\tc_tinytext tinytext charset ascii collate ascii_bin,\n\t\t\t\t\tc_mediumtext mediumtext charset ascii collate ascii_bin,\n\t\t\t\t\tc_longtext longtext charset ascii collate ascii_bin,\n\t\t\t\t\tc_json json,\n\t\t\t\t\tc_enum enum('1') charset ascii collate ascii_bin,\n\t\t\t\t\tc_set set('1') charset ascii collate ascii_bin\n\t\t\t\t);"]
[2024/05/17 10:53:02.889 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=105] [conn=1] [category=ddl] [job="ID:105, Type:create table, State:queueing, SchemaState:none, SchemaID:2, TableID:104, RowCount:0, ArgLen:0, start time: 2024-05-17 10:53:02.875 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:53:02.895 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816659989102592] ["schema version"=52]
[2024/05/17 10:53:02.895 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=51] [neededSchemaVersion=52] ["start time"=1.472333ms] [gotSchemaVersion=52] [phyTblIDs="[104]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:53:02.896 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=105] [version=52]
[2024/05/17 10:53:02.897 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=52] ["take time"=4.009583ms] [job="ID:105, Type:create table, State:done, SchemaState:public, SchemaID:2, TableID:104, RowCount:0, ArgLen:2, start time: 2024-05-17 10:53:02.875 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:53:02.901 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=105] [conn=1] [job="ID:105, Type:create table, State:synced, SchemaState:public, SchemaID:2, TableID:104, RowCount:0, ArgLen:0, start time: 2024-05-17 10:53:02.875 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:53:02.904 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=105]
[2024/05/17 10:53:02.904 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:53:02.904 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816659989102592] ["schema version"=52]
[2024/05/17 10:53:02.905 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=1] [schemaVersion=52] [cur_db=test] [sql="drop table if exists test_full_column"] [user=]
[2024/05/17 10:53:02.907 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:106, Type:drop table, State:queueing, SchemaState:public, SchemaID:2, TableID:104, RowCount:0, ArgLen:2, start time: 2024-05-17 10:53:02.907 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:53:02.907 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:106, Type:drop table, State:queueing, SchemaState:public, SchemaID:2, TableID:104, RowCount:0, ArgLen:2, start time: 2024-05-17 10:53:02.907 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="drop table if exists test_full_column"]
[2024/05/17 10:53:02.911 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=106] [conn=1] [category=ddl] [job="ID:106, Type:drop table, State:queueing, SchemaState:public, SchemaID:2, TableID:104, RowCount:0, ArgLen:0, start time: 2024-05-17 10:53:02.907 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:53:02.913 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816659994345472] ["schema version"=53]
[2024/05/17 10:53:02.913 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=52] [neededSchemaVersion=53] ["start time"=90.75µs] [gotSchemaVersion=53] [phyTblIDs="[104]"] [actionTypes="[4]"] [diffTypes="[\"drop table\"]"]
[2024/05/17 10:53:02.914 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=106] [version=53]
[2024/05/17 10:53:02.915 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=53] ["take time"=2.005709ms] [job="ID:106, Type:drop table, State:running, SchemaState:write only, SchemaID:2, TableID:104, RowCount:0, ArgLen:2, start time: 2024-05-17 10:53:02.907 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:53:02.919 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=106] [conn=1] [category=ddl] [job="ID:106, Type:drop table, State:running, SchemaState:write only, SchemaID:2, TableID:104, RowCount:0, ArgLen:0, start time: 2024-05-17 10:53:02.907 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:53:02.920 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816659996180480] ["schema version"=54]
[2024/05/17 10:53:02.920 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=53] [neededSchemaVersion=54] ["start time"=35.375µs] [gotSchemaVersion=54] [phyTblIDs="[]"] [actionTypes="[]"] [diffTypes="[\"drop table\"]"]
[2024/05/17 10:53:02.921 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=106] [version=54]
[2024/05/17 10:53:02.923 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=54] ["take time"=2.912792ms] [job="ID:106, Type:drop table, State:running, SchemaState:delete only, SchemaID:2, TableID:104, RowCount:0, ArgLen:0, start time: 2024-05-17 10:53:02.907 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:53:02.927 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=106] [conn=1] [category=ddl] [job="ID:106, Type:drop table, State:running, SchemaState:delete only, SchemaID:2, TableID:104, RowCount:0, ArgLen:0, start time: 2024-05-17 10:53:02.907 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:53:02.929 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816659998539776] ["schema version"=55]
[2024/05/17 10:53:02.929 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=54] [neededSchemaVersion=55] ["start time"=53.542µs] [gotSchemaVersion=55] [phyTblIDs="[]"] [actionTypes="[]"] [diffTypes="[\"drop table\"]"]
[2024/05/17 10:53:02.930 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=106] [version=55]
[2024/05/17 10:53:02.931 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=55] ["take time"=2.005917ms] [job="ID:106, Type:drop table, State:done, SchemaState:none, SchemaID:2, TableID:104, RowCount:0, ArgLen:3, start time: 2024-05-17 10:53:02.907 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:53:02.934 +08:00] [INFO] [delete_range.go:447] ["insert into delete-range table"] [category=ddl] [jobID=106] [tableIDs="[104]"] [comment="drop table: table ID"]
[2024/05/17 10:53:02.935 +08:00] [INFO] [delete_range.go:112] ["add job into delete-range table"] [category=ddl] [jobID=106] [jobType="drop table"]
[2024/05/17 10:53:02.935 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=106] [conn=1] [job="ID:106, Type:drop table, State:synced, SchemaState:none, SchemaID:2, TableID:104, RowCount:0, ArgLen:3, start time: 2024-05-17 10:53:02.907 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:53:02.941 +08:00] [INFO] [delete_range.go:259] ["delRange emulator complete task"] [category=ddl] [category=ddl] [jobID=106] [elementID=1] [startKey=748000000000000068] [endKey=748000000000000069]
[2024/05/17 10:53:02.942 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=106]
[2024/05/17 10:53:02.942 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:53:02.942 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816659998539776] ["schema version"=55]
[2024/05/17 10:53:02.942 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=1] [schemaVersion=55] [cur_db=test] [sql="drop table if exists t"] [user=]
[2024/05/17 10:53:02.942 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=1] [schemaVersion=55] [cur_db=test] [sql="create table if not exists t (c int) comment '注释'"] [user=]
[2024/05/17 10:53:02.944 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:108, Type:create table, State:queueing, SchemaState:none, SchemaID:2, TableID:107, RowCount:0, ArgLen:2, start time: 2024-05-17 10:53:02.943 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:53:02.944 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:108, Type:create table, State:queueing, SchemaState:none, SchemaID:2, TableID:107, RowCount:0, ArgLen:2, start time: 2024-05-17 10:53:02.943 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="create table if not exists t (c int) comment '注释'"]
[2024/05/17 10:53:02.948 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=108] [conn=1] [category=ddl] [job="ID:108, Type:create table, State:queueing, SchemaState:none, SchemaID:2, TableID:107, RowCount:0, ArgLen:0, start time: 2024-05-17 10:53:02.943 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:53:02.949 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816660003782656] ["schema version"=56]
[2024/05/17 10:53:02.949 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=55] [neededSchemaVersion=56] ["start time"=117.833µs] [gotSchemaVersion=56] [phyTblIDs="[107]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:53:02.950 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=108] [version=56]
[2024/05/17 10:53:02.951 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=56] ["take time"=2.0665ms] [job="ID:108, Type:create table, State:done, SchemaState:public, SchemaID:2, TableID:107, RowCount:0, ArgLen:2, start time: 2024-05-17 10:53:02.943 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:53:02.955 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=108] [conn=1] [job="ID:108, Type:create table, State:synced, SchemaState:public, SchemaID:2, TableID:107, RowCount:0, ArgLen:0, start time: 2024-05-17 10:53:02.943 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:53:02.957 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=108]
[2024/05/17 10:53:02.957 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:53:02.957 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816660003782656] ["schema version"=56]
[2024/05/17 10:53:02.959 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:110, Type:create view, State:queueing, SchemaState:none, SchemaID:2, TableID:109, RowCount:0, ArgLen:3, start time: 2024-05-17 10:53:02.958 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:53:02.959 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:110, Type:create view, State:queueing, SchemaState:none, SchemaID:2, TableID:109, RowCount:0, ArgLen:3, start time: 2024-05-17 10:53:02.958 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="create or replace definer='root'@'localhost' view v as select * from t"]
[2024/05/17 10:53:02.963 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=110] [conn=1] [category=ddl] [job="ID:110, Type:create view, State:queueing, SchemaState:none, SchemaID:2, TableID:109, RowCount:0, ArgLen:0, start time: 2024-05-17 10:53:02.958 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:53:02.964 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816660007714816] ["schema version"=57]
[2024/05/17 10:53:02.964 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=56] [neededSchemaVersion=57] ["start time"=109.666µs] [gotSchemaVersion=57] [phyTblIDs="[109]"] [actionTypes="[21]"] [diffTypes="[\"create view\"]"]
[2024/05/17 10:53:02.965 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=110] [version=57]
[2024/05/17 10:53:02.966 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=57] ["take time"=2.087167ms] [job="ID:110, Type:create view, State:done, SchemaState:public, SchemaID:2, TableID:109, RowCount:0, ArgLen:3, start time: 2024-05-17 10:53:02.958 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:53:02.970 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=110] [conn=1] [job="ID:110, Type:create view, State:synced, SchemaState:public, SchemaID:2, TableID:109, RowCount:0, ArgLen:0, start time: 2024-05-17 10:53:02.958 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:53:02.972 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=110]
[2024/05/17 10:53:02.972 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:53:02.972 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816660007714816] ["schema version"=57]
[2024/05/17 10:53:02.972 +08:00] [WARN] [infoschema_v3.go:59] ["table not equal"] [tbl1="{\"id\":109,\"name\":{\"O\":\"v\",\"L\":\"v\"},\"charset\":\"utf8mb4\",\"collate\":\"utf8mb4_bin\",\"cols\":[{\"id\":1,\"name\":{\"O\":\"c\",\"L\":\"c\"},\"offset\":0,\"origin_default\":null,\"origin_default_bit\":null,\"default\":null,\"default_bit\":null,\"default_is_expr\":false,\"generated_expr_string\":\"\",\"generated_stored\":false,\"dependences\":null,\"type\":{\"Tp\":0,\"Flag\":0,\"Flen\":0,\"Decimal\":0,\"Charset\":\"\",\"Collate\":\"\",\"Elems\":null,\"ElemsIsBinaryLit\":null,\"Array\":false},\"state\":5,\"comment\":\"\",\"hidden\":false,\"change_state_info\":null,\"version\":0}],\"index_info\":null,\"constraint_info\":null,\"fk_info\":null,\"state\":5,\"pk_is_handle\":false,\"is_common_handle\":false,\"common_handle_version\":0,\"comment\":\"\",\"auto_inc_id\":0,\"auto_id_cache\":0,\"auto_rand_id\":0,\"max_col_id\":1,\"max_idx_id\":0,\"max_fk_id\":0,\"max_cst_id\":0,\"update_timestamp\":449816660007452674,\"ShardRowIDBits\":0,\"max_shard_row_id_bits\":0,\"auto_random_bits\":0,\"auto_random_range_bits\":0,\"pre_split_regions\":0,\"partition\":null,\"compression\":\"\",\"view\":{\"view_algorithm\":0,\"view_definer\":{\"Username\":\"root\",\"Hostname\":\"localhost\",\"CurrentUser\":false,\"AuthUsername\":\"\",\"AuthHostname\":\"\",\"AuthPlugin\":\"\"},\"view_security\":0,\"view_select\":\"SELECT `test`.`t`.`c` AS `c` FROM `test`.`t`\",\"view_checkoption\":1,\"view_cols\":null},\"sequence\":null,\"Lock\":null,\"version\":5,\"tiflash_replica\":null,\"is_columnar\":false,\"temp_table_type\":0,\"cache_table_status\":0,\"policy_ref_info\":null,\"stats_options\":null,\"exchange_partition_info\":null,\"ttl_info\":null,\"revision\":0}"] [tbl2="{\"id\":109,\"name\":{\"O\":\"v\",\"L\":\"v\"},\"charset\":\"utf8mb4\",\"collate\":\"utf8mb4_bin\",\"cols\":[{\"id\":1,\"name\":{\"O\":\"c\",\"L\":\"c\"},\"offset\":0,\"origin_default\":null,\"origin_default_bit\":null,\"default\":null,\"default_bit\":null,\"default_is_expr\":false,\"generated_expr_string\":\"\",\"generated_stored\":false,\"dependences\":null,\"type\":{\"Tp\":3,\"Flag\":0,\"Flen\":11,\"Decimal\":0,\"Charset\":\"binary\",\"Collate\":\"binary\",\"Elems\":null,\"ElemsIsBinaryLit\":null,\"Array\":false},\"state\":5,\"comment\":\"\",\"hidden\":false,\"change_state_info\":null,\"version\":0}],\"index_info\":null,\"constraint_info\":null,\"fk_info\":null,\"state\":5,\"pk_is_handle\":false,\"is_common_handle\":false,\"common_handle_version\":0,\"comment\":\"\",\"auto_inc_id\":0,\"auto_id_cache\":0,\"auto_rand_id\":0,\"max_col_id\":1,\"max_idx_id\":0,\"max_fk_id\":0,\"max_cst_id\":0,\"update_timestamp\":449816660007452674,\"ShardRowIDBits\":0,\"max_shard_row_id_bits\":0,\"auto_random_bits\":0,\"auto_random_range_bits\":0,\"pre_split_regions\":0,\"partition\":null,\"compression\":\"\",\"view\":{\"view_algorithm\":0,\"view_definer\":{\"Username\":\"root\",\"Hostname\":\"localhost\",\"CurrentUser\":false,\"AuthUsername\":\"\",\"AuthHostname\":\"\",\"AuthPlugin\":\"\"},\"view_security\":0,\"view_select\":\"SELECT `test`.`t`.`c` AS `c` FROM `test`.`t`\",\"view_checkoption\":1,\"view_cols\":null},\"sequence\":null,\"Lock\":null,\"version\":5,\"tiflash_replica\":null,\"is_columnar\":false,\"temp_table_type\":0,\"cache_table_status\":0,\"policy_ref_info\":null,\"stats_options\":null,\"exchange_partition_info\":null,\"ttl_info\":null,\"revision\":0}"]
[2024/05/17 10:53:02.973 +08:00] [INFO] [mock.go:106] ["owner manager is canceled"] [category=ddl] [ID=fafe9d99-7ea1-4d91-94f8-637082b2da78] [ownerKey=/tidb/ddl/fg/owner]
[2024/05/17 10:53:02.973 +08:00] [INFO] [ddl_workerpool.go:82] ["closing workerPool"] [category=ddl]
[2024/05/17 10:53:02.973 +08:00] [INFO] [ddl_worker.go:188] ["DDL worker closed"] [worker="worker 4, tp add index"] [category=ddl] ["take time"=917ns]
[2024/05/17 10:53:02.973 +08:00] [INFO] [ddl_workerpool.go:82] ["closing workerPool"] [category=ddl]
[2024/05/17 10:53:02.973 +08:00] [INFO] [ddl_worker.go:188] ["DDL worker closed"] [worker="worker 3, tp general"] [category=ddl] ["take time"=250ns]
[2024/05/17 10:53:02.973 +08:00] [INFO] [ddl_workerpool.go:82] ["closing workerPool"] [category=ddl]
[2024/05/17 10:53:02.973 +08:00] [INFO] [delete_range.go:162] ["closing delRange"] [category=ddl]
[2024/05/17 10:53:02.973 +08:00] [INFO] [session_pool.go:99] ["closing session pool"] [category=ddl]
[2024/05/17 10:53:02.973 +08:00] [INFO] [ddl.go:951] ["DDL closed"] [category=ddl] [ID=fafe9d99-7ea1-4d91-94f8-637082b2da78] ["take time"=202.833µs]
[2024/05/17 10:53:02.973 +08:00] [INFO] [ddl.go:769] ["stop DDL"] [category=ddl] [ID=fafe9d99-7ea1-4d91-94f8-637082b2da78]
[2024/05/17 10:53:02.973 +08:00] [INFO] [domain.go:1096] ["stopping ttlJobManager"]
[2024/05/17 10:53:02.973 +08:00] [INFO] [task_manager.go:194] ["shrink ttl worker"] [ttl-worker=job-manager] [ttl-worker=task-manager] [originalCount=4] [newCount=0]
[2024/05/17 10:53:02.973 +08:00] [INFO] [scan.go:309] ["ttlScanWorker loop exited."]
[2024/05/17 10:53:02.973 +08:00] [INFO] [scan.go:309] ["ttlScanWorker loop exited."]
[2024/05/17 10:53:02.973 +08:00] [INFO] [scan.go:309] ["ttlScanWorker loop exited."]
[2024/05/17 10:53:02.973 +08:00] [INFO] [scan.go:309] ["ttlScanWorker loop exited."]
[2024/05/17 10:53:02.973 +08:00] [INFO] [task_manager.go:194] ["shrink ttl worker"] [ttl-worker=job-manager] [ttl-worker=task-manager] [originalCount=4] [newCount=0]
[2024/05/17 10:53:02.973 +08:00] [INFO] [del.go:261] ["ttlDeleteWorker loop exited."]
[2024/05/17 10:53:02.973 +08:00] [INFO] [del.go:261] ["ttlDeleteWorker loop exited."]
[2024/05/17 10:53:02.973 +08:00] [INFO] [del.go:261] ["ttlDeleteWorker loop exited."]
[2024/05/17 10:53:02.973 +08:00] [INFO] [del.go:261] ["ttlDeleteWorker loop exited."]
[2024/05/17 10:53:02.973 +08:00] [INFO] [job_manager.go:174] ["ttlJobManager loop exited."] [ttl-worker=job-manager]
[2024/05/17 10:53:02.973 +08:00] [INFO] [domain.go:1107] ["ttlJobManager exited."]
[2024/05/17 10:53:02.973 +08:00] [INFO] [manager.go:280] ["recoverMetaLoop done"] [server-id=:4000]
[2024/05/17 10:53:02.973 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=mdlCheckLoop]
[2024/05/17 10:53:02.973 +08:00] [INFO] [domain.go:977] ["loadSchemaInLoop exited."]
[2024/05/17 10:53:02.973 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=loadSchemaInLoop]
[2024/05/17 10:53:02.973 +08:00] [INFO] [domain.go:1597] ["stopping dist task executor manager"]
[2024/05/17 10:53:02.973 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=loadSigningCertLoop]
[2024/05/17 10:53:02.973 +08:00] [INFO] [stats_syncload.go:216] ["SubLoadWorker exited."]
[2024/05/17 10:53:02.973 +08:00] [INFO] [stats_syncload.go:216] ["SubLoadWorker exited."]
[2024/05/17 10:53:02.973 +08:00] [INFO] [stats_syncload.go:216] ["SubLoadWorker exited."]
[2024/05/17 10:53:02.973 +08:00] [INFO] [stats_syncload.go:216] ["SubLoadWorker exited."]
[2024/05/17 10:53:02.973 +08:00] [INFO] [stats_syncload.go:216] ["SubLoadWorker exited."]
[2024/05/17 10:53:02.973 +08:00] [INFO] [mock.go:106] ["owner manager is canceled"] [category=ddl] [ID=fafe9d99-7ea1-4d91-94f8-637082b2da78] [ownerKey=/tidb/stats/owner]
[2024/05/17 10:53:02.973 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=quitStatsOwner]
[2024/05/17 10:53:02.973 +08:00] [INFO] [domain.go:2423] ["indexUsageWorker exited."]
[2024/05/17 10:53:02.973 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=indexUsageWorker]
[2024/05/17 10:53:02.973 +08:00] [INFO] [domain.go:2144] ["dumpFileGcChecker exited."]
[2024/05/17 10:53:02.973 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=dumpFileGcChecker]
[2024/05/17 10:53:02.973 +08:00] [INFO] [domain.go:1820] ["LoadSysVarCacheLoop exited."]
[2024/05/17 10:53:02.973 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=LoadSysVarCacheLoop]
[2024/05/17 10:53:02.973 +08:00] [INFO] [domain.go:1770] ["loadPrivilegeInLoop exited."]
[2024/05/17 10:53:02.973 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=loadPrivilegeInLoop]
[2024/05/17 10:53:02.973 +08:00] [INFO] [mock.go:106] ["owner manager is canceled"] [category=ddl] [ID=fafe9d99-7ea1-4d91-94f8-637082b2da78] [ownerKey=/tidb/bindinfo/owner]
[2024/05/17 10:53:02.973 +08:00] [INFO] [domain.go:1959] ["globalBindHandleWorkerLoop exited."]
[2024/05/17 10:53:02.973 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=globalBindHandleWorkerLoop]
[2024/05/17 10:53:02.973 +08:00] [INFO] [domain.go:831] ["topologySyncerKeeper exited."]
[2024/05/17 10:53:02.973 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=topologySyncerKeeper]
[2024/05/17 10:53:02.973 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=runawayStartLoop]
[2024/05/17 10:53:02.973 +08:00] [INFO] [domain.go:807] ["globalConfigSyncerKeeper exited."]
[2024/05/17 10:53:02.974 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=globalConfigSyncerKeeper]
[2024/05/17 10:53:02.974 +08:00] [INFO] [domain.go:781] ["infoSyncerKeeper exited."]
[2024/05/17 10:53:02.974 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=infoSyncerKeeper]
[2024/05/17 10:53:02.974 +08:00] [INFO] [domain.go:753] ["topNSlowQueryLoop exited."]
[2024/05/17 10:53:02.974 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=topNSlowQueryLoop]
[2024/05/17 10:53:02.974 +08:00] [INFO] [domain.go:1431] ["closestReplicaReadCheckLoop exited."]
[2024/05/17 10:53:02.974 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=closestReplicaReadCheckLoop]
[2024/05/17 10:53:02.974 +08:00] [INFO] [manager.go:179] ["handle tasks loop done"] [server-id=:4000]
[2024/05/17 10:53:02.974 +08:00] [INFO] [domain.go:1599] ["dist task executor manager stopped"]
[2024/05/17 10:53:02.974 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=distTaskFrameworkLoop]
[2024/05/17 10:53:02.974 +08:00] [INFO] [domain.go:1144] ["domain closed"] ["take time"=1.068459ms]
[2024/05/17 10:53:02.979 +08:00] [INFO] [db.go:567] ["Closing database"]
[2024/05/17 10:53:02.979 +08:00] [INFO] [db.go:592] ["Memtable flushed"]
[2024/05/17 10:53:02.979 +08:00] [INFO] [db.go:596] ["Compaction finished"]
[2024/05/17 10:53:02.979 +08:00] [INFO] [db.go:615] ["BlobManager finished"]
[2024/05/17 10:53:02.979 +08:00] [INFO] [db.go:619] ["ResourceManager finished"]
[2024/05/17 10:53:02.979 +08:00] [INFO] [db.go:625] ["Waiting for closer"]
--- FAIL: TestShow2 (1.43s)
panic: inconsistent infoschema [recovered]
	panic: inconsistent infoschema [recovered]
	panic: inconsistent infoschema

goroutine 72 [running]:
testing.tRunner.func1.2({0x1067c42e0, 0x1070a76d0})
	/Users/bba/.gvm/gos/go1.21.0/src/testing/testing.go:1545 +0x1c8
testing.tRunner.func1()
	/Users/bba/.gvm/gos/go1.21.0/src/testing/testing.go:1548 +0x360
panic({0x1067c42e0?, 0x1070a76d0?})
	/Users/bba/.gvm/gos/go1.21.0/src/runtime/panic.go:914 +0x218
github.com/pingcap/tidb/pkg/executor.(*Compiler).Compile.func1()
	/Users/bba/pc/tidb/pkg/executor/compiler.go:57 +0x360
panic({0x1067c42e0?, 0x1070a76d0?})
	/Users/bba/.gvm/gos/go1.21.0/src/runtime/panic.go:914 +0x218
github.com/pingcap/tidb/pkg/infoschema.(*InfoschemaV3).TableByName(0x1400624d290, {{0x105b27214?, 0x107088fa0?}, {0x105b27214?, 0x317c0a297b6d?}}, {{0x105b2dff6?, 0x1400aff4e78?}, {0x105b2dff6?, 0x80ddafcc06c13?}})
	/Users/bba/pc/tidb/pkg/infoschema/infoschema_v3.go:216 +0x128
github.com/pingcap/tidb/pkg/infoschema.(*SessionExtendedInfoSchema).TableByName(0x140090f9f20, {{0x105b27214?, 0x800000000a297b6f?}, {0x105b27214?, 0x1400aff5018?}}, {{0x105b2dff6?, 0x1400aff4ff8?}, {0x105b2dff6?, 0x1400aff5088?}})
	/Users/bba/pc/tidb/pkg/infoschema/infoschema.go:719 +0x138
github.com/pingcap/tidb/pkg/planner/core.(*preprocessor).tableByName(0x14004b76000, 0x14004b5e8f0)
	/Users/bba/pc/tidb/pkg/planner/core/preprocess.go:495 +0x150
github.com/pingcap/tidb/pkg/planner/core.(*preprocessor).handleTableName(0x14004b76000, 0x14004b5e8f0)
	/Users/bba/pc/tidb/pkg/planner/core/preprocess.go:1550 +0x120
github.com/pingcap/tidb/pkg/planner/core.(*preprocessor).Leave(0x14004b76000, {0x1070f5f10?, 0x14004b5e8f0?})
	/Users/bba/pc/tidb/pkg/planner/core/preprocess.go:596 +0x1a0
github.com/pingcap/tidb/pkg/parser/ast.(*TableName).Accept(0x14004b76000?, {0x1070cbb00, 0x14004b76000})
	/Users/bba/pc/tidb/pkg/parser/ast/dml.go:452 +0x12c
github.com/pingcap/tidb/pkg/parser/ast.(*ShowStmt).Accept(0x14004b76000?, {0x1070cbb00, 0x14004b76000})
	/Users/bba/pc/tidb/pkg/parser/ast/dml.go:3453 +0x68
github.com/pingcap/tidb/pkg/parser/ast.(*ExplainStmt).Accept(0x1070ea360?, {0x1070cbb00, 0x14004b76000})
	/Users/bba/pc/tidb/pkg/parser/ast/misc.go:257 +0x6c
github.com/pingcap/tidb/pkg/planner/core.Preprocess({0x1070ea360, 0x10a13a300}, {0x107160d70, 0x14005db46c0}, {0x1070f6310, 0x1400a491f80}, {0x1400aff5518, 0x2, 0x1400aff5428?})
	/Users/bba/pc/tidb/pkg/planner/core/preprocess.go:138 +0x19c
github.com/pingcap/tidb/pkg/executor.(*Compiler).Compile(0x1400aff57f0, {0x1070ea360?, 0x10a13a300?}, {0x1071002f0?, 0x1400a491f80})
	/Users/bba/pc/tidb/pkg/executor/compiler.go:67 +0x1d8
github.com/pingcap/tidb/pkg/session.(*session).ExecuteStmt(0x14005db46c0, {0x1070ea360?, 0x10a13a300?}, {0x1071002f0, 0x1400a491f80?})
	/Users/bba/pc/tidb/pkg/session/session.go:2094 +0x70c
github.com/pingcap/tidb/pkg/testkit.(*TestKit).ExecWithContext(0x140093b1310, {0x1070ea360, 0x10a13a300}, {0x105b2dfed, 0xa}, {0x0, 0x0, 0x0})
	/Users/bba/pc/tidb/pkg/testkit/testkit.go:384 +0x734
github.com/pingcap/tidb/pkg/testkit.(*TestKit).MustQueryWithContext(0x140093b1310, {0x1070ea360, 0x10a13a300}, {0x105b2dfed, 0xa}, {0x0, 0x0, 0x0})
	/Users/bba/pc/tidb/pkg/testkit/testkit.go:195 +0xc8
github.com/pingcap/tidb/pkg/testkit.(*TestKit).MustQuery(0x1400904c940?, {0x105b2dfed?, 0x1?}, {0x0?, 0x0?, 0x0?})
	/Users/bba/pc/tidb/pkg/testkit/testkit.go:173 +0x78
github.com/pingcap/tidb/pkg/executor/test/showtest.TestShow2(0x0?)
	/Users/bba/pc/tidb/pkg/executor/test/showtest/show_test.go:526 +0x458
testing.tRunner(0x140005829c0, 0x10709bdc0)
	/Users/bba/.gvm/gos/go1.21.0/src/testing/testing.go:1595 +0xe8
created by testing.(*T).Run in goroutine 1
	/Users/bba/.gvm/gos/go1.21.0/src/testing/testing.go:1648 +0x33c
[FAIL]  pkg/ddl TestAlterAddConstraintStateChange3
err=exit status 2
[2024/05/17 10:54:13.491 +08:00] [INFO] [store_cache.go:510] ["change store resolve state"] [store=1] [addr=store1] [from=unresolved] [to=resolved] [liveness-state=reachable]
[2024/05/17 10:54:13.500 +08:00] [INFO] [ddl_api.go:1141] ["Automatically convert BLOB(65535) to MEDIUMBLOB"] [category=ddl]
[2024/05/17 10:54:13.500 +08:00] [INFO] [ddl_api.go:1141] ["Automatically convert BLOB(65535) to MEDIUMBLOB"] [category=ddl]
[2024/05/17 10:54:13.501 +08:00] [INFO] [ddl_api.go:1141] ["Automatically convert BLOB(65535) to MEDIUMBLOB"] [category=ddl]
[2024/05/17 10:54:13.501 +08:00] [INFO] [ddl_api.go:1141] ["Automatically convert BLOB(65535) to MEDIUMBLOB"] [category=ddl]
[2024/05/17 10:54:13.502 +08:00] [INFO] [ddl_api.go:1141] ["Automatically convert BLOB(65535) to MEDIUMBLOB"] [category=ddl]
[2024/05/17 10:54:13.505 +08:00] [INFO] [tidb.go:80] ["new domain"] [store=badcdd06-f064-4f5f-8c38-b534915a5cf5] ["ddl lease"=500ms] ["stats lease"=-1ns]
[2024/05/17 10:54:13.510 +08:00] [WARN] [controller.go:198] ["[resource group controller] server does not save config, load config failed"]
[2024/05/17 10:54:13.510 +08:00] [INFO] [controller.go:185] ["load resource controller config"] [config="{\"degraded-mode-wait-duration\":\"0s\",\"ltb-max-wait-duration\":\"30s\",\"wait-retry-interval\":\"50ms\",\"wait-retry-times\":10,\"request-unit\":{\"read-base-cost\":0.125,\"read-per-batch-base-cost\":0.5,\"read-cost-per-byte\":0.0000152587890625,\"write-base-cost\":1,\"write-per-batch-base-cost\":1,\"write-cost-per-byte\":0.0009765625,\"read-cpu-ms-cost\":0.3333333333333333},\"enable-controller-trace-log\":\"false\"}"] [ru-config="{\"ReadBaseCost\":0.125,\"ReadPerBatchBaseCost\":0.5,\"ReadBytesCost\":0.0000152587890625,\"WriteBaseCost\":1,\"WritePerBatchBaseCost\":1,\"WriteBytesCost\":0.0009765625,\"CPUMsCost\":0.3333333333333333,\"LTBMaxWaitDuration\":30000000000,\"WaitRetryInterval\":50000000,\"WaitRetryTimes\":10,\"DegradedModeWaitDuration\":0}"]
[2024/05/17 10:54:13.510 +08:00] [WARN] [domain.go:302] ["failed to get schema version"] [error="There is no Write MVCC info for the schema version"] [errorVerbose="There is no Write MVCC info for the schema version\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).getTimestampForSchemaVersionWithNonEmptyDiff\n\t/Users/bba/pc/tidb/pkg/domain/domain.go:405\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).loadInfoSchema\n\t/Users/bba/pc/tidb/pkg/domain/domain.go:300\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).Reload\n\t/Users/bba/pc/tidb/pkg/domain/domain.go:676\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).Init\n\t/Users/bba/pc/tidb/pkg/domain/domain.go:1330\ngithub.com/pingcap/tidb/pkg/session.(*domainMap).Get.func1\n\t/Users/bba/pc/tidb/pkg/session/tidb.go:92\ngithub.com/pingcap/tidb/pkg/util.RunWithRetry\n\t/Users/bba/pc/tidb/pkg/util/misc.go:70\ngithub.com/pingcap/tidb/pkg/session.(*domainMap).Get\n\t/Users/bba/pc/tidb/pkg/session/tidb.go:79\ngithub.com/pingcap/tidb/pkg/session.createSessionWithOpt\n\t/Users/bba/pc/tidb/pkg/session/session.go:3634\ngithub.com/pingcap/tidb/pkg/session.createSession\n\t/Users/bba/pc/tidb/pkg/session/session.go:3626\ngithub.com/pingcap/tidb/pkg/session.runInBootstrapSession\n\t/Users/bba/pc/tidb/pkg/session/session.go:3576\ngithub.com/pingcap/tidb/pkg/session.bootstrapSessionImpl\n\t/Users/bba/pc/tidb/pkg/session/session.go:3352\ngithub.com/pingcap/tidb/pkg/session.BootstrapSession\n\t/Users/bba/pc/tidb/pkg/session/session.go:3318\ngithub.com/pingcap/tidb/pkg/testkit.bootstrap\n\t/Users/bba/pc/tidb/pkg/testkit/mockstore.go:294\ngithub.com/pingcap/tidb/pkg/testkit.CreateMockStoreAndDomain\n\t/Users/bba/pc/tidb/pkg/testkit/mockstore.go:265\ngithub.com/pingcap/tidb/pkg/ddl_test.TestAlterAddConstraintStateChange3\n\t/Users/bba/pc/tidb/pkg/ddl/constraint_test.go:200\ntesting.tRunner\n\t/Users/bba/.gvm/gos/go1.21.0/src/testing/testing.go:1595\nruntime.goexit\n\t/Users/bba/.gvm/gos/go1.21.0/src/runtime/asm_arm64.s:1197"] [version=0]
[2024/05/17 10:54:13.519 +08:00] [INFO] [domain.go:385] ["full load InfoSchema success"] [currentSchemaVersion=0] [neededSchemaVersion=0] ["start time"=8.661333ms]
[2024/05/17 10:54:13.520 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=0] ["schema version"=0]
[2024/05/17 10:54:13.520 +08:00] [INFO] [domain.go:705] ["full load and reset schema validator"]
[2024/05/17 10:54:13.520 +08:00] [INFO] [ddl.go:818] ["start DDL"] [category=ddl] [ID=d4601a4d-5673-48be-8a26-69c908bbd66e] [runWorker=true]
[2024/05/17 10:54:13.520 +08:00] [INFO] [ddl.go:777] ["start delRangeManager OK"] [category=ddl] ["is a emulator"=true]
[2024/05/17 10:54:13.520 +08:00] [WARN] [env.go:51] ["initialize environment failed"] [category=ddl-ingest] ["storage limitation"="only support TiKV storage"] ["current storage"=unistore] ["lightning is initialized"=false]
[2024/05/17 10:54:13.520 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=loadSchemaInLoop]
[2024/05/17 10:54:13.520 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=mdlCheckLoop]
[2024/05/17 10:54:13.520 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=topNSlowQueryLoop]
[2024/05/17 10:54:13.520 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=infoSyncerKeeper]
[2024/05/17 10:54:13.520 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=globalConfigSyncerKeeper]
[2024/05/17 10:54:13.520 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=runawayStartLoop]
[2024/05/17 10:54:13.520 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=requestUnitsWriterLoop]
[2024/05/17 10:54:13.520 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=topologySyncerKeeper]
[2024/05/17 10:54:13.520 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=closestReplicaReadCheckLoop]
[2024/05/17 10:54:13.520 +08:00] [WARN] [domain.go:1396] ["pd / etcd client not provided, won't begin Advancer."]
[2024/05/17 10:54:13.523 +08:00] [INFO] [delete_range.go:172] ["start delRange emulator"] [category=ddl]
[2024/05/17 10:54:13.523 +08:00] [INFO] [job_table.go:334] ["get global state and global state change"] [category=ddl] [oldState=false] [currState=false]
[2024/05/17 10:54:13.523 +08:00] [INFO] [runaway.go:149] ["try to start runaway manager loop"]
[2024/05/17 10:54:13.523 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=requestUnitsWriterLoop]
[2024/05/17 10:54:13.573 +08:00] [INFO] [job_table.go:334] ["get global state and global state change"] [category=ddl] [oldState=false] [currState=false]
[2024/05/17 10:54:13.573 +08:00] [INFO] [job_table.go:349] ["the owner sets owner operator value"] [category=ddl] [ownerOp=none]
[2024/05/17 10:54:13.724 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=0] [cur_db=mysql] [sql="CREATE DATABASE IF NOT EXISTS test"] [user=]
[2024/05/17 10:54:13.727 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:3, Type:create schema, State:queueing, SchemaState:none, SchemaID:2, TableID:0, RowCount:0, ArgLen:1, start time: 2024-05-17 10:54:13.726 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:54:13.727 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:3, Type:create schema, State:queueing, SchemaState:none, SchemaID:2, TableID:0, RowCount:0, ArgLen:1, start time: 2024-05-17 10:54:13.726 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE DATABASE IF NOT EXISTS test"]
[2024/05/17 10:54:13.733 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=3] [category=ddl] [job="ID:3, Type:create schema, State:queueing, SchemaState:none, SchemaID:2, TableID:0, RowCount:0, ArgLen:0, start time: 2024-05-17 10:54:13.726 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:54:13.740 +08:00] [INFO] [domain.go:385] ["full load InfoSchema success"] [currentSchemaVersion=0] [neededSchemaVersion=1] ["start time"=6.207ms]
[2024/05/17 10:54:13.741 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678559645696] ["schema version"=1]
[2024/05/17 10:54:13.741 +08:00] [INFO] [domain.go:705] ["full load and reset schema validator"]
[2024/05/17 10:54:13.742 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:54:13.742 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=3] [version=1]
[2024/05/17 10:54:13.742 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=1] ["take time"=8.012375ms] [job="ID:3, Type:create schema, State:done, SchemaState:public, SchemaID:2, TableID:0, RowCount:0, ArgLen:1, start time: 2024-05-17 10:54:13.726 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:54:13.743 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678559645696] ["schema version"=1]
[2024/05/17 10:54:13.746 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=3] [job="ID:3, Type:create schema, State:synced, SchemaState:public, SchemaID:2, TableID:0, RowCount:0, ArgLen:0, start time: 2024-05-17 10:54:13.726 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:54:13.747 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678559645696] ["schema version"=1]
[2024/05/17 10:54:13.747 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=3]
[2024/05/17 10:54:13.747 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:54:13.747 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678559645696] ["schema version"=1]
[2024/05/17 10:54:13.747 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=1] [cur_db=mysql] [sql="CREATE DATABASE IF NOT EXISTS `mysql`"] [user=]
[2024/05/17 10:54:13.747 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=1] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.user (\n\t\tHost\t\t\t\t\tCHAR(255),\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tauthentication_string\tTEXT,\n\t\tplugin\t\t\t\t\tCHAR(64),\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tProcess_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_db_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tSuper_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_user_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_slave_priv\t    \tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_client_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_role_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_role_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAccount_locked\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShutdown_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReload_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tFILE_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tConfig_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_Tablespace_Priv  ENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPassword_reuse_history  smallint unsigned DEFAULT NULL,\n\t\tPassword_reuse_time     smallint unsigned DEFAULT NULL,\n\t\tUser_attributes\t\t\tjson,\n\t\tToken_issuer\t\t\tVARCHAR(255),\n\t\tPassword_expired\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPassword_last_changed\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP(),\n\t\tPassword_lifetime\t\tSMALLINT UNSIGNED DEFAULT NULL,\n\t\tPRIMARY KEY (Host, User));"] [user=]
[2024/05/17 10:54:13.751 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:5, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:4, RowCount:0, ArgLen:2, start time: 2024-05-17 10:54:13.749 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:54:13.751 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:5, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:4, RowCount:0, ArgLen:2, start time: 2024-05-17 10:54:13.749 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.user (\n\t\tHost\t\t\t\t\tCHAR(255),\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tauthentication_string\tTEXT,\n\t\tplugin\t\t\t\t\tCHAR(64),\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tProcess_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_db_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tSuper_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_user_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_slave_priv\t    \tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_client_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_role_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_role_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAccount_locked\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShutdown_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReload_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tFILE_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tConfig_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_Tablespace_Priv  ENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPassword_reuse_history  smallint unsigned DEFAULT NULL,\n\t\tPassword_reuse_time     smallint unsigned DEFAULT NULL,\n\t\tUser_attributes\t\t\tjson,\n\t\tToken_issuer\t\t\tVARCHAR(255),\n\t\tPassword_expired\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPassword_last_changed\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP(),\n\t\tPassword_lifetime\t\tSMALLINT UNSIGNED DEFAULT NULL,\n\t\tPRIMARY KEY (Host, User));"]
[2024/05/17 10:54:13.755 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=5] [category=ddl] [job="ID:5, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:4, RowCount:0, ArgLen:0, start time: 2024-05-17 10:54:13.749 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:54:13.760 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678565937152] ["schema version"=2]
[2024/05/17 10:54:13.760 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=1] [neededSchemaVersion=2] ["start time"=985.833µs] [gotSchemaVersion=2] [phyTblIDs="[4]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:54:13.761 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:54:13.761 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=5] [version=2]
[2024/05/17 10:54:13.762 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=2] ["take time"=3.026708ms] [job="ID:5, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:4, RowCount:0, ArgLen:2, start time: 2024-05-17 10:54:13.749 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:54:13.762 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678565937152] ["schema version"=2]
[2024/05/17 10:54:13.766 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=5] [job="ID:5, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:4, RowCount:0, ArgLen:0, start time: 2024-05-17 10:54:13.749 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:54:13.768 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678565937152] ["schema version"=2]
[2024/05/17 10:54:13.769 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=5]
[2024/05/17 10:54:13.769 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:54:13.769 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678565937152] ["schema version"=2]
[2024/05/17 10:54:13.769 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=2] [cur_db=mysql] [sql="CREATE TABLE  IF NOT EXISTS mysql.password_history (\n         Host char(255)  NOT NULL DEFAULT '',\n         User char(32)  NOT NULL DEFAULT '',\n         Password_timestamp timestamp(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6),\n         Password text,\n         PRIMARY KEY (Host,User,Password_timestamp )\n        ) COMMENT='Password history for user accounts' "] [user=]
[2024/05/17 10:54:13.771 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:7, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:6, RowCount:0, ArgLen:2, start time: 2024-05-17 10:54:13.77 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:54:13.771 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:7, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:6, RowCount:0, ArgLen:2, start time: 2024-05-17 10:54:13.77 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE  IF NOT EXISTS mysql.password_history (\n         Host char(255)  NOT NULL DEFAULT '',\n         User char(32)  NOT NULL DEFAULT '',\n         Password_timestamp timestamp(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6),\n         Password text,\n         PRIMARY KEY (Host,User,Password_timestamp )\n        ) COMMENT='Password history for user accounts' "]
[2024/05/17 10:54:13.773 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678565937152] ["schema version"=2]
[2024/05/17 10:54:13.776 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=7] [category=ddl] [job="ID:7, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:6, RowCount:0, ArgLen:0, start time: 2024-05-17 10:54:13.77 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:54:13.777 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678570655750] ["schema version"=3]
[2024/05/17 10:54:13.777 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=2] [neededSchemaVersion=3] ["start time"=197.208µs] [gotSchemaVersion=3] [phyTblIDs="[6]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:54:13.778 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:54:13.778 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=7] [version=3]
[2024/05/17 10:54:13.779 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=3] ["take time"=2.526459ms] [job="ID:7, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:6, RowCount:0, ArgLen:2, start time: 2024-05-17 10:54:13.77 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:54:13.780 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678570655750] ["schema version"=3]
[2024/05/17 10:54:13.788 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=7] [job="ID:7, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:6, RowCount:0, ArgLen:0, start time: 2024-05-17 10:54:13.77 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:54:13.792 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678570655750] ["schema version"=3]
[2024/05/17 10:54:13.792 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=7]
[2024/05/17 10:54:13.792 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:54:13.792 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678570655750] ["schema version"=3]
[2024/05/17 10:54:13.792 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=3] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.global_priv (Host CHAR(255) NOT NULL DEFAULT '',User CHAR(80) NOT NULL DEFAULT '',Priv LONGTEXT NOT NULL DEFAULT '',PRIMARY KEY (Host, User))"] [user=]
[2024/05/17 10:54:13.795 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:9, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:8, RowCount:0, ArgLen:2, start time: 2024-05-17 10:54:13.794 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:54:13.795 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:9, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:8, RowCount:0, ArgLen:2, start time: 2024-05-17 10:54:13.794 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.global_priv (Host CHAR(255) NOT NULL DEFAULT '',User CHAR(80) NOT NULL DEFAULT '',Priv LONGTEXT NOT NULL DEFAULT '',PRIMARY KEY (Host, User))"]
[2024/05/17 10:54:13.800 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=9] [category=ddl] [job="ID:9, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:8, RowCount:0, ArgLen:0, start time: 2024-05-17 10:54:13.794 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:54:13.804 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678577995776] ["schema version"=4]
[2024/05/17 10:54:13.805 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=3] [neededSchemaVersion=4] ["start time"=204.416µs] [gotSchemaVersion=4] [phyTblIDs="[8]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:54:13.805 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:54:13.805 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=9] [version=4]
[2024/05/17 10:54:13.806 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=4] ["take time"=2.2035ms] [job="ID:9, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:8, RowCount:0, ArgLen:2, start time: 2024-05-17 10:54:13.794 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:54:13.808 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678577995776] ["schema version"=4]
[2024/05/17 10:54:13.812 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=9] [job="ID:9, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:8, RowCount:0, ArgLen:0, start time: 2024-05-17 10:54:13.794 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:54:13.814 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678577995776] ["schema version"=4]
[2024/05/17 10:54:13.814 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=9]
[2024/05/17 10:54:13.814 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:54:13.814 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678577995776] ["schema version"=4]
[2024/05/17 10:54:13.814 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=4] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.db (\n\t\tHost\t\t\t\t\tCHAR(255),\n\t\tDB\t\t\t\t\t\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv \t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (Host, DB, User));"] [user=]
[2024/05/17 10:54:13.816 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:11, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:10, RowCount:0, ArgLen:2, start time: 2024-05-17 10:54:13.815 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:54:13.816 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:11, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:10, RowCount:0, ArgLen:2, start time: 2024-05-17 10:54:13.815 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.db (\n\t\tHost\t\t\t\t\tCHAR(255),\n\t\tDB\t\t\t\t\t\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv \t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (Host, DB, User));"]
[2024/05/17 10:54:13.820 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=11] [category=ddl] [job="ID:11, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:10, RowCount:0, ArgLen:0, start time: 2024-05-17 10:54:13.815 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:54:13.824 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678582976512] ["schema version"=5]
[2024/05/17 10:54:13.824 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=4] [neededSchemaVersion=5] ["start time"=482.375µs] [gotSchemaVersion=5] [phyTblIDs="[10]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:54:13.824 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:54:13.824 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=11] [version=5]
[2024/05/17 10:54:13.826 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=5] ["take time"=2.624625ms] [job="ID:11, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:10, RowCount:0, ArgLen:2, start time: 2024-05-17 10:54:13.815 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:54:13.826 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678582976512] ["schema version"=5]
[2024/05/17 10:54:13.831 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=11] [job="ID:11, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:10, RowCount:0, ArgLen:0, start time: 2024-05-17 10:54:13.815 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:54:13.833 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678582976512] ["schema version"=5]
[2024/05/17 10:54:13.833 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=11]
[2024/05/17 10:54:13.833 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:54:13.833 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678582976512] ["schema version"=5]
[2024/05/17 10:54:13.833 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=5] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tables_priv (\n\t\tHost\t\tCHAR(255),\n\t\tDB\t\t\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tGrantor\t\tCHAR(77),\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tTable_priv\tSET('Select','Insert','Update','Delete','Create','Drop','Grant','Index','Alter','Create View','Show View','Trigger','References'),\n\t\tColumn_priv\tSET('Select','Insert','Update','References'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name));"] [user=]
[2024/05/17 10:54:13.836 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:13, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:12, RowCount:0, ArgLen:2, start time: 2024-05-17 10:54:13.835 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:54:13.836 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:13, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:12, RowCount:0, ArgLen:2, start time: 2024-05-17 10:54:13.835 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tables_priv (\n\t\tHost\t\tCHAR(255),\n\t\tDB\t\t\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tGrantor\t\tCHAR(77),\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tTable_priv\tSET('Select','Insert','Update','Delete','Create','Drop','Grant','Index','Alter','Create View','Show View','Trigger','References'),\n\t\tColumn_priv\tSET('Select','Insert','Update','References'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name));"]
[2024/05/17 10:54:13.839 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=13] [category=ddl] [job="ID:13, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:12, RowCount:0, ArgLen:0, start time: 2024-05-17 10:54:13.835 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:54:13.841 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678587695104] ["schema version"=6]
[2024/05/17 10:54:13.841 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=5] [neededSchemaVersion=6] ["start time"=240.5µs] [gotSchemaVersion=6] [phyTblIDs="[12]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:54:13.842 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:54:13.842 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=13] [version=6]
[2024/05/17 10:54:13.843 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=6] ["take time"=2.017458ms] [job="ID:13, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:12, RowCount:0, ArgLen:2, start time: 2024-05-17 10:54:13.835 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:54:13.844 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678587695104] ["schema version"=6]
[2024/05/17 10:54:13.847 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=13] [job="ID:13, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:12, RowCount:0, ArgLen:0, start time: 2024-05-17 10:54:13.835 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:54:13.850 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678587695104] ["schema version"=6]
[2024/05/17 10:54:13.851 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=13]
[2024/05/17 10:54:13.851 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:54:13.851 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678587695104] ["schema version"=6]
[2024/05/17 10:54:13.851 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=6] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.columns_priv(\n\t\tHost\t\tCHAR(255),\n\t\tDB\t\t\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tColumn_name\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tColumn_priv\tSET('Select','Insert','Update','References'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name, Column_name));"] [user=]
[2024/05/17 10:54:13.854 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:15, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:14, RowCount:0, ArgLen:2, start time: 2024-05-17 10:54:13.852 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:54:13.854 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:15, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:14, RowCount:0, ArgLen:2, start time: 2024-05-17 10:54:13.852 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.columns_priv(\n\t\tHost\t\tCHAR(255),\n\t\tDB\t\t\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tColumn_name\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tColumn_priv\tSET('Select','Insert','Update','References'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name, Column_name));"]
[2024/05/17 10:54:13.858 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=15] [category=ddl] [job="ID:15, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:14, RowCount:0, ArgLen:0, start time: 2024-05-17 10:54:13.852 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:54:13.861 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678592675840] ["schema version"=7]
[2024/05/17 10:54:13.861 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=6] [neededSchemaVersion=7] ["start time"=231.583µs] [gotSchemaVersion=7] [phyTblIDs="[14]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:54:13.862 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:54:13.862 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=15] [version=7]
[2024/05/17 10:54:13.865 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=7] ["take time"=3.892916ms] [job="ID:15, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:14, RowCount:0, ArgLen:2, start time: 2024-05-17 10:54:13.852 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:54:13.865 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678592675840] ["schema version"=7]
[2024/05/17 10:54:13.869 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=15] [job="ID:15, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:14, RowCount:0, ArgLen:0, start time: 2024-05-17 10:54:13.852 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:54:13.872 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678592675840] ["schema version"=7]
[2024/05/17 10:54:13.872 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=15]
[2024/05/17 10:54:13.872 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:54:13.872 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678592675840] ["schema version"=7]
[2024/05/17 10:54:13.872 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=7] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.GLOBAL_VARIABLES(\n\t\tVARIABLE_NAME  VARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE VARCHAR(16383) DEFAULT NULL);"] [user=]
[2024/05/17 10:54:13.874 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:17, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:16, RowCount:0, ArgLen:2, start time: 2024-05-17 10:54:13.873 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:54:13.874 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:17, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:16, RowCount:0, ArgLen:2, start time: 2024-05-17 10:54:13.873 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.GLOBAL_VARIABLES(\n\t\tVARIABLE_NAME  VARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE VARCHAR(16383) DEFAULT NULL);"]
[2024/05/17 10:54:13.877 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=17] [category=ddl] [job="ID:17, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:16, RowCount:0, ArgLen:0, start time: 2024-05-17 10:54:13.873 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:54:13.878 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678597394432] ["schema version"=8]
[2024/05/17 10:54:13.878 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=7] [neededSchemaVersion=8] ["start time"=135.041µs] [gotSchemaVersion=8] [phyTblIDs="[16]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:54:13.878 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:54:13.878 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=17] [version=8]
[2024/05/17 10:54:13.880 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=8] ["take time"=2.291792ms] [job="ID:17, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:16, RowCount:0, ArgLen:2, start time: 2024-05-17 10:54:13.873 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:54:13.880 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678597394432] ["schema version"=8]
[2024/05/17 10:54:13.883 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=17] [job="ID:17, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:16, RowCount:0, ArgLen:0, start time: 2024-05-17 10:54:13.873 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:54:13.884 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678597394432] ["schema version"=8]
[2024/05/17 10:54:13.884 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=17]
[2024/05/17 10:54:13.884 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:54:13.884 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678597394432] ["schema version"=8]
[2024/05/17 10:54:13.884 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=8] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb(\n\t\tVARIABLE_NAME  \tVARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE \tVARCHAR(1024) DEFAULT NULL,\n\t\tCOMMENT \t\tVARCHAR(1024));"] [user=]
[2024/05/17 10:54:13.886 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:19, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:18, RowCount:0, ArgLen:2, start time: 2024-05-17 10:54:13.885 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:54:13.886 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:19, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:18, RowCount:0, ArgLen:2, start time: 2024-05-17 10:54:13.885 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb(\n\t\tVARIABLE_NAME  \tVARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE \tVARCHAR(1024) DEFAULT NULL,\n\t\tCOMMENT \t\tVARCHAR(1024));"]
[2024/05/17 10:54:13.889 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=19] [category=ddl] [job="ID:19, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:18, RowCount:0, ArgLen:0, start time: 2024-05-17 10:54:13.885 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:54:13.890 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678600540166] ["schema version"=9]
[2024/05/17 10:54:13.891 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=8] [neededSchemaVersion=9] ["start time"=155.709µs] [gotSchemaVersion=9] [phyTblIDs="[18]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:54:13.891 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:54:13.891 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=19] [version=9]
[2024/05/17 10:54:13.892 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=9] ["take time"=2.003584ms] [job="ID:19, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:18, RowCount:0, ArgLen:2, start time: 2024-05-17 10:54:13.885 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:54:13.893 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678600540166] ["schema version"=9]
[2024/05/17 10:54:13.896 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=19] [job="ID:19, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:18, RowCount:0, ArgLen:0, start time: 2024-05-17 10:54:13.885 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:54:13.898 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678600540166] ["schema version"=9]
[2024/05/17 10:54:13.898 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=19]
[2024/05/17 10:54:13.898 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:54:13.898 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678600540166] ["schema version"=9]
[2024/05/17 10:54:13.899 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=9] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.help_topic (\n  \t\thelp_topic_id \t\tINT(10) UNSIGNED NOT NULL,\n  \t\tname \t\t\t\tCHAR(64) NOT NULL,\n  \t\thelp_category_id \tSMALLINT(5) UNSIGNED NOT NULL,\n  \t\tdescription \t\tTEXT NOT NULL,\n  \t\texample \t\t\tTEXT NOT NULL,\n  \t\turl \t\t\t\tTEXT NOT NULL,\n  \t\tPRIMARY KEY (help_topic_id) clustered,\n  \t\tUNIQUE KEY name (name)\n\t\t) ENGINE=InnoDB DEFAULT CHARSET=utf8 STATS_PERSISTENT=0 COMMENT='help topics';"] [user=]
[2024/05/17 10:54:13.900 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:21, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:20, RowCount:0, ArgLen:2, start time: 2024-05-17 10:54:13.899 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:54:13.900 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:21, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:20, RowCount:0, ArgLen:2, start time: 2024-05-17 10:54:13.899 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.help_topic (\n  \t\thelp_topic_id \t\tINT(10) UNSIGNED NOT NULL,\n  \t\tname \t\t\t\tCHAR(64) NOT NULL,\n  \t\thelp_category_id \tSMALLINT(5) UNSIGNED NOT NULL,\n  \t\tdescription \t\tTEXT NOT NULL,\n  \t\texample \t\t\tTEXT NOT NULL,\n  \t\turl \t\t\t\tTEXT NOT NULL,\n  \t\tPRIMARY KEY (help_topic_id) clustered,\n  \t\tUNIQUE KEY name (name)\n\t\t) ENGINE=InnoDB DEFAULT CHARSET=utf8 STATS_PERSISTENT=0 COMMENT='help topics';"]
[2024/05/17 10:54:13.903 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=21] [category=ddl] [job="ID:21, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:20, RowCount:0, ArgLen:0, start time: 2024-05-17 10:54:13.899 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:54:13.905 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678604210178] ["schema version"=10]
[2024/05/17 10:54:13.905 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=9] [neededSchemaVersion=10] ["start time"=261.541µs] [gotSchemaVersion=10] [phyTblIDs="[20]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:54:13.906 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:54:13.906 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=21] [version=10]
[2024/05/17 10:54:13.907 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=10] ["take time"=2.155084ms] [job="ID:21, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:20, RowCount:0, ArgLen:2, start time: 2024-05-17 10:54:13.899 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:54:13.907 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678604210178] ["schema version"=10]
[2024/05/17 10:54:13.910 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=21] [job="ID:21, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:20, RowCount:0, ArgLen:0, start time: 2024-05-17 10:54:13.899 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:54:13.913 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678604210178] ["schema version"=10]
[2024/05/17 10:54:13.913 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=21]
[2024/05/17 10:54:13.913 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:54:13.913 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678604210178] ["schema version"=10]
[2024/05/17 10:54:13.913 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=10] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_meta (\n\t\tversion \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\ttable_id \t\tBIGINT(64) NOT NULL,\n\t\tmodify_count\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcount \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tsnapshot        BIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tINDEX idx_ver(version),\n\t\tUNIQUE INDEX tbl(table_id)\n\t);"] [user=]
[2024/05/17 10:54:13.916 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:23, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:22, RowCount:0, ArgLen:2, start time: 2024-05-17 10:54:13.916 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:54:13.916 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:23, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:22, RowCount:0, ArgLen:2, start time: 2024-05-17 10:54:13.916 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_meta (\n\t\tversion \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\ttable_id \t\tBIGINT(64) NOT NULL,\n\t\tmodify_count\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcount \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tsnapshot        BIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tINDEX idx_ver(version),\n\t\tUNIQUE INDEX tbl(table_id)\n\t);"]
[2024/05/17 10:54:13.920 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=23] [category=ddl] [job="ID:23, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:22, RowCount:0, ArgLen:0, start time: 2024-05-17 10:54:13.916 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:54:13.923 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678608928768] ["schema version"=11]
[2024/05/17 10:54:13.923 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=10] [neededSchemaVersion=11] ["start time"=249µs] [gotSchemaVersion=11] [phyTblIDs="[22]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:54:13.924 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:54:13.924 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=23] [version=11]
[2024/05/17 10:54:13.925 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=11] ["take time"=2.2685ms] [job="ID:23, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:22, RowCount:0, ArgLen:2, start time: 2024-05-17 10:54:13.916 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:54:13.926 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678608928768] ["schema version"=11]
[2024/05/17 10:54:13.929 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=23] [job="ID:23, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:22, RowCount:0, ArgLen:0, start time: 2024-05-17 10:54:13.916 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:54:13.931 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678608928768] ["schema version"=11]
[2024/05/17 10:54:13.931 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=23]
[2024/05/17 10:54:13.931 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:54:13.931 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678608928768] ["schema version"=11]
[2024/05/17 10:54:13.931 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=11] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_histograms (\n\t\ttable_id \t\t\tBIGINT(64) NOT NULL,\n\t\tis_index \t\t\tTINYINT(2) NOT NULL,\n\t\thist_id \t\t\tBIGINT(64) NOT NULL,\n\t\tdistinct_count \t\tBIGINT(64) NOT NULL,\n\t\tnull_count \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\ttot_col_size \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tmodify_count \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tversion \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tcm_sketch \t\t\tBLOB(6291456),\n\t\tstats_ver \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tflag \t\t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcorrelation \t\tDOUBLE NOT NULL DEFAULT 0,\n\t\tlast_analyze_pos \tLONGBLOB DEFAULT NULL,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id)\n\t);"] [user=]
[2024/05/17 10:54:13.931 +08:00] [INFO] [ddl_api.go:1141] ["Automatically convert BLOB(6291456) to MEDIUMBLOB"] [category=ddl]
[2024/05/17 10:54:13.933 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:25, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:24, RowCount:0, ArgLen:2, start time: 2024-05-17 10:54:13.932 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:54:13.933 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:25, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:24, RowCount:0, ArgLen:2, start time: 2024-05-17 10:54:13.932 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_histograms (\n\t\ttable_id \t\t\tBIGINT(64) NOT NULL,\n\t\tis_index \t\t\tTINYINT(2) NOT NULL,\n\t\thist_id \t\t\tBIGINT(64) NOT NULL,\n\t\tdistinct_count \t\tBIGINT(64) NOT NULL,\n\t\tnull_count \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\ttot_col_size \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tmodify_count \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tversion \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tcm_sketch \t\t\tBLOB(6291456),\n\t\tstats_ver \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tflag \t\t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcorrelation \t\tDOUBLE NOT NULL DEFAULT 0,\n\t\tlast_analyze_pos \tLONGBLOB DEFAULT NULL,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id)\n\t);"]
[2024/05/17 10:54:13.938 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=25] [category=ddl] [job="ID:25, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:24, RowCount:0, ArgLen:0, start time: 2024-05-17 10:54:13.932 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:54:13.940 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678613647360] ["schema version"=12]
[2024/05/17 10:54:13.940 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=11] [neededSchemaVersion=12] ["start time"=328.459µs] [gotSchemaVersion=12] [phyTblIDs="[24]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:54:13.941 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:54:13.941 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=25] [version=12]
[2024/05/17 10:54:13.942 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=12] ["take time"=2.281667ms] [job="ID:25, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:24, RowCount:0, ArgLen:2, start time: 2024-05-17 10:54:13.932 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:54:13.943 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678613647360] ["schema version"=12]
[2024/05/17 10:54:13.950 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=25] [job="ID:25, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:24, RowCount:0, ArgLen:0, start time: 2024-05-17 10:54:13.932 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:54:13.952 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678613647360] ["schema version"=12]
[2024/05/17 10:54:13.952 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=25]
[2024/05/17 10:54:13.952 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:54:13.952 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678613647360] ["schema version"=12]
[2024/05/17 10:54:13.952 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=12] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_buckets (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tbucket_id \tBIGINT(64) NOT NULL,\n\t\tcount \t\tBIGINT(64) NOT NULL,\n\t\trepeats \tBIGINT(64) NOT NULL,\n\t\tupper_bound LONGBLOB NOT NULL,\n\t\tlower_bound LONGBLOB ,\n\t\tndv         BIGINT NOT NULL DEFAULT 0,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id, bucket_id)\n\t);"] [user=]
[2024/05/17 10:54:13.954 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:27, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:26, RowCount:0, ArgLen:2, start time: 2024-05-17 10:54:13.953 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:54:13.954 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:27, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:26, RowCount:0, ArgLen:2, start time: 2024-05-17 10:54:13.953 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_buckets (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tbucket_id \tBIGINT(64) NOT NULL,\n\t\tcount \t\tBIGINT(64) NOT NULL,\n\t\trepeats \tBIGINT(64) NOT NULL,\n\t\tupper_bound LONGBLOB NOT NULL,\n\t\tlower_bound LONGBLOB ,\n\t\tndv         BIGINT NOT NULL DEFAULT 0,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id, bucket_id)\n\t);"]
[2024/05/17 10:54:13.957 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=27] [category=ddl] [job="ID:27, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:26, RowCount:0, ArgLen:0, start time: 2024-05-17 10:54:13.953 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:54:13.959 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678618628096] ["schema version"=13]
[2024/05/17 10:54:13.959 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=12] [neededSchemaVersion=13] ["start time"=246.167µs] [gotSchemaVersion=13] [phyTblIDs="[26]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:54:13.960 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:54:13.960 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=27] [version=13]
[2024/05/17 10:54:13.961 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=13] ["take time"=2.031792ms] [job="ID:27, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:26, RowCount:0, ArgLen:2, start time: 2024-05-17 10:54:13.953 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:54:13.961 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678618628096] ["schema version"=13]
[2024/05/17 10:54:13.965 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=27] [job="ID:27, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:26, RowCount:0, ArgLen:0, start time: 2024-05-17 10:54:13.953 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:54:13.966 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678618628096] ["schema version"=13]
[2024/05/17 10:54:13.967 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=27]
[2024/05/17 10:54:13.967 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:54:13.967 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678618628096] ["schema version"=13]
[2024/05/17 10:54:13.967 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=13] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_index (job_id, element_id)\n\t);"] [user=]
[2024/05/17 10:54:13.968 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:29, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:28, RowCount:0, ArgLen:2, start time: 2024-05-17 10:54:13.967 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:54:13.968 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:29, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:28, RowCount:0, ArgLen:2, start time: 2024-05-17 10:54:13.967 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_index (job_id, element_id)\n\t);"]
[2024/05/17 10:54:13.971 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=29] [category=ddl] [job="ID:29, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:28, RowCount:0, ArgLen:0, start time: 2024-05-17 10:54:13.967 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:54:13.973 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678622035970] ["schema version"=14]
[2024/05/17 10:54:13.973 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=13] [neededSchemaVersion=14] ["start time"=213.791µs] [gotSchemaVersion=14] [phyTblIDs="[28]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:54:13.973 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:54:13.973 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=29] [version=14]
[2024/05/17 10:54:13.974 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=14] ["take time"=2.003542ms] [job="ID:29, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:28, RowCount:0, ArgLen:2, start time: 2024-05-17 10:54:13.967 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:54:13.975 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678622035970] ["schema version"=14]
[2024/05/17 10:54:13.978 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=29] [job="ID:29, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:28, RowCount:0, ArgLen:0, start time: 2024-05-17 10:54:13.967 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:54:13.980 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678622035970] ["schema version"=14]
[2024/05/17 10:54:13.980 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=29]
[2024/05/17 10:54:13.980 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:54:13.980 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678622035970] ["schema version"=14]
[2024/05/17 10:54:13.980 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=14] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range_done (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_done_index (job_id, element_id)\n\t);"] [user=]
[2024/05/17 10:54:13.981 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:31, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:30, RowCount:0, ArgLen:2, start time: 2024-05-17 10:54:13.98 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:54:13.981 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:31, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:30, RowCount:0, ArgLen:2, start time: 2024-05-17 10:54:13.98 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range_done (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_done_index (job_id, element_id)\n\t);"]
[2024/05/17 10:54:13.985 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=31] [category=ddl] [job="ID:31, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:30, RowCount:0, ArgLen:0, start time: 2024-05-17 10:54:13.98 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:54:13.986 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678625705984] ["schema version"=15]
[2024/05/17 10:54:13.986 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=14] [neededSchemaVersion=15] ["start time"=213.667µs] [gotSchemaVersion=15] [phyTblIDs="[30]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:54:13.987 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:54:13.987 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=31] [version=15]
[2024/05/17 10:54:13.989 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=15] ["take time"=2.710542ms] [job="ID:31, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:30, RowCount:0, ArgLen:2, start time: 2024-05-17 10:54:13.98 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:54:13.990 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678625705984] ["schema version"=15]
[2024/05/17 10:54:13.998 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=31] [job="ID:31, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:30, RowCount:0, ArgLen:0, start time: 2024-05-17 10:54:13.98 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:54:14.000 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678625705984] ["schema version"=15]
[2024/05/17 10:54:14.001 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=31]
[2024/05/17 10:54:14.001 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:54:14.001 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678625705984] ["schema version"=15]
[2024/05/17 10:54:14.001 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=15] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_feedback (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tfeedback \tBLOB NOT NULL,\n\t\tINDEX hist(table_id, is_index, hist_id)\n\t);"] [user=]
[2024/05/17 10:54:14.003 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:33, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:32, RowCount:0, ArgLen:2, start time: 2024-05-17 10:54:14.002 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:54:14.003 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:33, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:32, RowCount:0, ArgLen:2, start time: 2024-05-17 10:54:14.002 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_feedback (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tfeedback \tBLOB NOT NULL,\n\t\tINDEX hist(table_id, is_index, hist_id)\n\t);"]
[2024/05/17 10:54:14.010 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=33] [category=ddl] [job="ID:33, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:32, RowCount:0, ArgLen:0, start time: 2024-05-17 10:54:14.002 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:54:14.012 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678632521728] ["schema version"=16]
[2024/05/17 10:54:14.012 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=15] [neededSchemaVersion=16] ["start time"=275.625µs] [gotSchemaVersion=16] [phyTblIDs="[32]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:54:14.013 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:54:14.013 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=33] [version=16]
[2024/05/17 10:54:14.014 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=16] ["take time"=2.295334ms] [job="ID:33, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:32, RowCount:0, ArgLen:2, start time: 2024-05-17 10:54:14.002 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:54:14.017 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678632521728] ["schema version"=16]
[2024/05/17 10:54:14.022 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=33] [job="ID:33, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:32, RowCount:0, ArgLen:0, start time: 2024-05-17 10:54:14.002 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:54:14.023 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678632521728] ["schema version"=16]
[2024/05/17 10:54:14.024 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678632521728] ["schema version"=16]
[2024/05/17 10:54:14.024 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=33]
[2024/05/17 10:54:14.024 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:54:14.024 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678632521728] ["schema version"=16]
[2024/05/17 10:54:14.024 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=16] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.role_edges (\n\t\tFROM_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tFROM_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tWITH_ADMIN_OPTION \tENUM('N','Y') CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (FROM_HOST,FROM_USER,TO_HOST,TO_USER)\n\t);"] [user=]
[2024/05/17 10:54:14.026 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:35, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:34, RowCount:0, ArgLen:2, start time: 2024-05-17 10:54:14.025 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:54:14.026 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:35, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:34, RowCount:0, ArgLen:2, start time: 2024-05-17 10:54:14.025 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.role_edges (\n\t\tFROM_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tFROM_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tWITH_ADMIN_OPTION \tENUM('N','Y') CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (FROM_HOST,FROM_USER,TO_HOST,TO_USER)\n\t);"]
[2024/05/17 10:54:14.030 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=35] [category=ddl] [job="ID:35, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:34, RowCount:0, ArgLen:0, start time: 2024-05-17 10:54:14.025 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:54:14.031 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678637502464] ["schema version"=17]
[2024/05/17 10:54:14.031 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=16] [neededSchemaVersion=17] ["start time"=221.709µs] [gotSchemaVersion=17] [phyTblIDs="[34]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:54:14.032 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:54:14.032 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=35] [version=17]
[2024/05/17 10:54:14.033 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=17] ["take time"=2.091958ms] [job="ID:35, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:34, RowCount:0, ArgLen:2, start time: 2024-05-17 10:54:14.025 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:54:14.034 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678637502464] ["schema version"=17]
[2024/05/17 10:54:14.038 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=35] [job="ID:35, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:34, RowCount:0, ArgLen:0, start time: 2024-05-17 10:54:14.025 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:54:14.039 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678637502464] ["schema version"=17]
[2024/05/17 10:54:14.040 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=35]
[2024/05/17 10:54:14.040 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:54:14.040 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678637502464] ["schema version"=17]
[2024/05/17 10:54:14.040 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=17] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.default_roles (\n\t\tHOST \t\t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tUSER \t\t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tDEFAULT_ROLE_HOST \tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '%',\n\t\tDEFAULT_ROLE_USER \tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tPRIMARY KEY (HOST,USER,DEFAULT_ROLE_HOST,DEFAULT_ROLE_USER)\n\t)"] [user=]
[2024/05/17 10:54:14.041 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:37, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:36, RowCount:0, ArgLen:2, start time: 2024-05-17 10:54:14.04 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:54:14.041 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:37, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:36, RowCount:0, ArgLen:2, start time: 2024-05-17 10:54:14.04 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.default_roles (\n\t\tHOST \t\t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tUSER \t\t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tDEFAULT_ROLE_HOST \tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '%',\n\t\tDEFAULT_ROLE_USER \tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tPRIMARY KEY (HOST,USER,DEFAULT_ROLE_HOST,DEFAULT_ROLE_USER)\n\t)"]
[2024/05/17 10:54:14.046 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=37] [category=ddl] [job="ID:37, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:36, RowCount:0, ArgLen:0, start time: 2024-05-17 10:54:14.04 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:54:14.048 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678641696768] ["schema version"=18]
[2024/05/17 10:54:14.048 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=17] [neededSchemaVersion=18] ["start time"=193.709µs] [gotSchemaVersion=18] [phyTblIDs="[36]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:54:14.048 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:54:14.048 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=37] [version=18]
[2024/05/17 10:54:14.049 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=18] ["take time"=2.049916ms] [job="ID:37, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:36, RowCount:0, ArgLen:2, start time: 2024-05-17 10:54:14.04 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:54:14.050 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678641696768] ["schema version"=18]
[2024/05/17 10:54:14.053 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=37] [job="ID:37, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:36, RowCount:0, ArgLen:0, start time: 2024-05-17 10:54:14.04 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:54:14.055 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678641696768] ["schema version"=18]
[2024/05/17 10:54:14.055 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=37]
[2024/05/17 10:54:14.055 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:54:14.055 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678641696768] ["schema version"=18]
[2024/05/17 10:54:14.056 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=18] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.bind_info (\n\t\toriginal_sql TEXT NOT NULL,\n\t\tbind_sql TEXT NOT NULL,\n\t\tdefault_db TEXT NOT NULL,\n\t\tstatus TEXT NOT NULL,\n\t\tcreate_time TIMESTAMP(3) NOT NULL,\n\t\tupdate_time TIMESTAMP(3) NOT NULL,\n\t\tcharset TEXT NOT NULL,\n\t\tcollation TEXT NOT NULL,\n\t\tsource VARCHAR(10) NOT NULL DEFAULT 'unknown',\n\t\tsql_digest varchar(64),\n\t\tplan_digest varchar(64),\n\t\tINDEX sql_index(original_sql(700),default_db(68)) COMMENT \"accelerate the speed when add global binding query\",\n\t\tINDEX time_index(update_time) COMMENT \"accelerate the speed when querying with last update time\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"] [user=]
[2024/05/17 10:54:14.057 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:39, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:38, RowCount:0, ArgLen:2, start time: 2024-05-17 10:54:14.056 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:54:14.057 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:39, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:38, RowCount:0, ArgLen:2, start time: 2024-05-17 10:54:14.056 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.bind_info (\n\t\toriginal_sql TEXT NOT NULL,\n\t\tbind_sql TEXT NOT NULL,\n\t\tdefault_db TEXT NOT NULL,\n\t\tstatus TEXT NOT NULL,\n\t\tcreate_time TIMESTAMP(3) NOT NULL,\n\t\tupdate_time TIMESTAMP(3) NOT NULL,\n\t\tcharset TEXT NOT NULL,\n\t\tcollation TEXT NOT NULL,\n\t\tsource VARCHAR(10) NOT NULL DEFAULT 'unknown',\n\t\tsql_digest varchar(64),\n\t\tplan_digest varchar(64),\n\t\tINDEX sql_index(original_sql(700),default_db(68)) COMMENT \"accelerate the speed when add global binding query\",\n\t\tINDEX time_index(update_time) COMMENT \"accelerate the speed when querying with last update time\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"]
[2024/05/17 10:54:14.061 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=39] [category=ddl] [job="ID:39, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:38, RowCount:0, ArgLen:0, start time: 2024-05-17 10:54:14.056 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:54:14.063 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678645628928] ["schema version"=19]
[2024/05/17 10:54:14.063 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=18] [neededSchemaVersion=19] ["start time"=547.292µs] [gotSchemaVersion=19] [phyTblIDs="[38]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:54:14.063 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:54:14.063 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=39] [version=19]
[2024/05/17 10:54:14.065 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=19] ["take time"=2.386208ms] [job="ID:39, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:38, RowCount:0, ArgLen:2, start time: 2024-05-17 10:54:14.056 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:54:14.065 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678645628928] ["schema version"=19]
[2024/05/17 10:54:14.069 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=39] [job="ID:39, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:38, RowCount:0, ArgLen:0, start time: 2024-05-17 10:54:14.056 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:54:14.070 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678645628928] ["schema version"=19]
[2024/05/17 10:54:14.071 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=39]
[2024/05/17 10:54:14.071 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:54:14.071 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678645628928] ["schema version"=19]
[2024/05/17 10:54:14.071 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=19] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_top_n (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tvalue \t\tLONGBLOB,\n\t\tcount \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\tINDEX tbl(table_id, is_index, hist_id)\n\t);"] [user=]
[2024/05/17 10:54:14.072 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:41, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:40, RowCount:0, ArgLen:2, start time: 2024-05-17 10:54:14.072 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:54:14.072 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:41, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:40, RowCount:0, ArgLen:2, start time: 2024-05-17 10:54:14.072 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_top_n (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tvalue \t\tLONGBLOB,\n\t\tcount \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\tINDEX tbl(table_id, is_index, hist_id)\n\t);"]
[2024/05/17 10:54:14.076 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=41] [category=ddl] [job="ID:41, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:40, RowCount:0, ArgLen:0, start time: 2024-05-17 10:54:14.072 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:54:14.077 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678649561088] ["schema version"=20]
[2024/05/17 10:54:14.077 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=19] [neededSchemaVersion=20] ["start time"=208.459µs] [gotSchemaVersion=20] [phyTblIDs="[40]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:54:14.078 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:54:14.078 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=41] [version=20]
[2024/05/17 10:54:14.080 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=20] ["take time"=2.793958ms] [job="ID:41, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:40, RowCount:0, ArgLen:2, start time: 2024-05-17 10:54:14.072 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:54:14.080 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678649561088] ["schema version"=20]
[2024/05/17 10:54:14.084 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=41] [job="ID:41, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:40, RowCount:0, ArgLen:0, start time: 2024-05-17 10:54:14.072 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:54:14.085 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678649561088] ["schema version"=20]
[2024/05/17 10:54:14.085 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=41]
[2024/05/17 10:54:14.085 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:54:14.085 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678649561088] ["schema version"=20]
[2024/05/17 10:54:14.086 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=20] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.expr_pushdown_blacklist (\n\t\tname \t\tCHAR(100) NOT NULL,\n\t\tstore_type \tCHAR(100) NOT NULL DEFAULT 'tikv,tiflash,tidb',\n\t\treason \t\tVARCHAR(200)\n\t);"] [user=]
[2024/05/17 10:54:14.087 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:43, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:42, RowCount:0, ArgLen:2, start time: 2024-05-17 10:54:14.086 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:54:14.087 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:43, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:42, RowCount:0, ArgLen:2, start time: 2024-05-17 10:54:14.086 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.expr_pushdown_blacklist (\n\t\tname \t\tCHAR(100) NOT NULL,\n\t\tstore_type \tCHAR(100) NOT NULL DEFAULT 'tikv,tiflash,tidb',\n\t\treason \t\tVARCHAR(200)\n\t);"]
[2024/05/17 10:54:14.090 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=43] [category=ddl] [job="ID:43, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:42, RowCount:0, ArgLen:0, start time: 2024-05-17 10:54:14.086 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:54:14.092 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678653231110] ["schema version"=21]
[2024/05/17 10:54:14.092 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=20] [neededSchemaVersion=21] ["start time"=145.75µs] [gotSchemaVersion=21] [phyTblIDs="[42]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:54:14.092 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:54:14.092 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=43] [version=21]
[2024/05/17 10:54:14.094 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=21] ["take time"=2.534ms] [job="ID:43, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:42, RowCount:0, ArgLen:2, start time: 2024-05-17 10:54:14.086 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:54:14.094 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678653231110] ["schema version"=21]
[2024/05/17 10:54:14.097 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=43] [job="ID:43, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:42, RowCount:0, ArgLen:0, start time: 2024-05-17 10:54:14.086 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:54:14.098 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678653231110] ["schema version"=21]
[2024/05/17 10:54:14.098 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=43]
[2024/05/17 10:54:14.098 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:54:14.098 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678653231110] ["schema version"=21]
[2024/05/17 10:54:14.098 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=21] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.opt_rule_blacklist (\n\t\tname \tCHAR(100) NOT NULL\n\t);"] [user=]
[2024/05/17 10:54:14.100 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:45, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:44, RowCount:0, ArgLen:2, start time: 2024-05-17 10:54:14.099 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:54:14.100 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:45, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:44, RowCount:0, ArgLen:2, start time: 2024-05-17 10:54:14.099 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.opt_rule_blacklist (\n\t\tname \tCHAR(100) NOT NULL\n\t);"]
[2024/05/17 10:54:14.105 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=45] [category=ddl] [job="ID:45, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:44, RowCount:0, ArgLen:0, start time: 2024-05-17 10:54:14.099 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:54:14.106 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678657163267] ["schema version"=22]
[2024/05/17 10:54:14.107 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=21] [neededSchemaVersion=22] ["start time"=158.25µs] [gotSchemaVersion=22] [phyTblIDs="[44]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:54:14.107 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:54:14.107 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=45] [version=22]
[2024/05/17 10:54:14.109 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=22] ["take time"=2.657ms] [job="ID:45, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:44, RowCount:0, ArgLen:2, start time: 2024-05-17 10:54:14.099 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:54:14.110 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678657163267] ["schema version"=22]
[2024/05/17 10:54:14.114 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=45] [job="ID:45, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:44, RowCount:0, ArgLen:0, start time: 2024-05-17 10:54:14.099 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:54:14.116 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678657163267] ["schema version"=22]
[2024/05/17 10:54:14.116 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=45]
[2024/05/17 10:54:14.116 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:54:14.116 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678657163267] ["schema version"=22]
[2024/05/17 10:54:14.117 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=22] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_extended (\n\t\tname varchar(32) NOT NULL,\n\t\ttype tinyint(4) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tcolumn_ids varchar(32) NOT NULL,\n\t\tstats blob DEFAULT NULL,\n\t\tversion bigint(64) unsigned NOT NULL,\n\t\tstatus tinyint(4) NOT NULL,\n\t\tPRIMARY KEY(name, table_id),\n\t\tKEY idx_1 (table_id, status, version),\n\t\tKEY idx_2 (status, version)\n\t);"] [user=]
[2024/05/17 10:54:14.118 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:47, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:46, RowCount:0, ArgLen:2, start time: 2024-05-17 10:54:14.117 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:54:14.118 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:47, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:46, RowCount:0, ArgLen:2, start time: 2024-05-17 10:54:14.117 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_extended (\n\t\tname varchar(32) NOT NULL,\n\t\ttype tinyint(4) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tcolumn_ids varchar(32) NOT NULL,\n\t\tstats blob DEFAULT NULL,\n\t\tversion bigint(64) unsigned NOT NULL,\n\t\tstatus tinyint(4) NOT NULL,\n\t\tPRIMARY KEY(name, table_id),\n\t\tKEY idx_1 (table_id, status, version),\n\t\tKEY idx_2 (status, version)\n\t);"]
[2024/05/17 10:54:14.121 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=47] [category=ddl] [job="ID:47, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:46, RowCount:0, ArgLen:0, start time: 2024-05-17 10:54:14.117 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:54:14.123 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678661619712] ["schema version"=23]
[2024/05/17 10:54:14.123 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=22] [neededSchemaVersion=23] ["start time"=525.208µs] [gotSchemaVersion=23] [phyTblIDs="[46]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:54:14.124 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:54:14.124 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=47] [version=23]
[2024/05/17 10:54:14.125 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=23] ["take time"=2.094084ms] [job="ID:47, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:46, RowCount:0, ArgLen:2, start time: 2024-05-17 10:54:14.117 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:54:14.125 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678661619712] ["schema version"=23]
[2024/05/17 10:54:14.129 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=47] [job="ID:47, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:46, RowCount:0, ArgLen:0, start time: 2024-05-17 10:54:14.117 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:54:14.131 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678661619712] ["schema version"=23]
[2024/05/17 10:54:14.131 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=47]
[2024/05/17 10:54:14.131 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:54:14.131 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678661619712] ["schema version"=23]
[2024/05/17 10:54:14.131 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=23] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_fm_sketch (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tvalue \t\tLONGBLOB,\n\t\tINDEX tbl(table_id, is_index, hist_id)\n\t);"] [user=]
[2024/05/17 10:54:14.132 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:49, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:48, RowCount:0, ArgLen:2, start time: 2024-05-17 10:54:14.132 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:54:14.132 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:49, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:48, RowCount:0, ArgLen:2, start time: 2024-05-17 10:54:14.132 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_fm_sketch (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tvalue \t\tLONGBLOB,\n\t\tINDEX tbl(table_id, is_index, hist_id)\n\t);"]
[2024/05/17 10:54:14.136 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=49] [category=ddl] [job="ID:49, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:48, RowCount:0, ArgLen:0, start time: 2024-05-17 10:54:14.132 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:54:14.138 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678665551872] ["schema version"=24]
[2024/05/17 10:54:14.138 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=23] [neededSchemaVersion=24] ["start time"=190.167µs] [gotSchemaVersion=24] [phyTblIDs="[48]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:54:14.138 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:54:14.138 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=49] [version=24]
[2024/05/17 10:54:14.140 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=24] ["take time"=2.004833ms] [job="ID:49, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:48, RowCount:0, ArgLen:2, start time: 2024-05-17 10:54:14.132 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:54:14.140 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678665551872] ["schema version"=24]
[2024/05/17 10:54:14.143 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=49] [job="ID:49, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:48, RowCount:0, ArgLen:0, start time: 2024-05-17 10:54:14.132 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:54:14.144 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678665551872] ["schema version"=24]
[2024/05/17 10:54:14.145 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=49]
[2024/05/17 10:54:14.145 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:54:14.145 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678665551872] ["schema version"=24]
[2024/05/17 10:54:14.145 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=24] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.global_grants (\n\t\tUSER char(32) NOT NULL DEFAULT '',\n\t\tHOST char(255) NOT NULL DEFAULT '',\n\t\tPRIV char(32) NOT NULL DEFAULT '',\n\t\tWITH_GRANT_OPTION enum('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (USER,HOST,PRIV)\n\t);"] [user=]
[2024/05/17 10:54:14.146 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:51, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:50, RowCount:0, ArgLen:2, start time: 2024-05-17 10:54:14.146 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:54:14.146 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:51, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:50, RowCount:0, ArgLen:2, start time: 2024-05-17 10:54:14.146 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.global_grants (\n\t\tUSER char(32) NOT NULL DEFAULT '',\n\t\tHOST char(255) NOT NULL DEFAULT '',\n\t\tPRIV char(32) NOT NULL DEFAULT '',\n\t\tWITH_GRANT_OPTION enum('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (USER,HOST,PRIV)\n\t);"]
[2024/05/17 10:54:14.150 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=51] [category=ddl] [job="ID:51, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:50, RowCount:0, ArgLen:0, start time: 2024-05-17 10:54:14.146 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:54:14.151 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678668959744] ["schema version"=25]
[2024/05/17 10:54:14.151 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=24] [neededSchemaVersion=25] ["start time"=186.834µs] [gotSchemaVersion=25] [phyTblIDs="[50]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:54:14.152 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:54:14.152 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=51] [version=25]
[2024/05/17 10:54:14.153 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=25] ["take time"=2.003167ms] [job="ID:51, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:50, RowCount:0, ArgLen:2, start time: 2024-05-17 10:54:14.146 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:54:14.153 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678668959744] ["schema version"=25]
[2024/05/17 10:54:14.157 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=51] [job="ID:51, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:50, RowCount:0, ArgLen:0, start time: 2024-05-17 10:54:14.146 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:54:14.158 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678668959744] ["schema version"=25]
[2024/05/17 10:54:14.158 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=51]
[2024/05/17 10:54:14.158 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:54:14.158 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678668959744] ["schema version"=25]
[2024/05/17 10:54:14.158 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=25] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.capture_plan_baselines_blacklist (\n\t\tid bigint(64) auto_increment,\n\t\tfilter_type varchar(32) NOT NULL COMMENT \"type of the filter, only db, table and frequency supported now\",\n\t\tfilter_value varchar(32) NOT NULL,\n\t\tkey idx(filter_type),\n\t\tprimary key(id)\n\t);"] [user=]
[2024/05/17 10:54:14.159 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:53, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:52, RowCount:0, ArgLen:2, start time: 2024-05-17 10:54:14.159 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:54:14.159 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:53, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:52, RowCount:0, ArgLen:2, start time: 2024-05-17 10:54:14.159 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.capture_plan_baselines_blacklist (\n\t\tid bigint(64) auto_increment,\n\t\tfilter_type varchar(32) NOT NULL COMMENT \"type of the filter, only db, table and frequency supported now\",\n\t\tfilter_value varchar(32) NOT NULL,\n\t\tkey idx(filter_type),\n\t\tprimary key(id)\n\t);"]
[2024/05/17 10:54:14.163 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=53] [category=ddl] [job="ID:53, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:52, RowCount:0, ArgLen:0, start time: 2024-05-17 10:54:14.159 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:54:14.164 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678672367618] ["schema version"=26]
[2024/05/17 10:54:14.164 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=25] [neededSchemaVersion=26] ["start time"=155.125µs] [gotSchemaVersion=26] [phyTblIDs="[52]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:54:14.165 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:54:14.165 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=53] [version=26]
[2024/05/17 10:54:14.166 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=26] ["take time"=2.177792ms] [job="ID:53, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:52, RowCount:0, ArgLen:2, start time: 2024-05-17 10:54:14.159 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:54:14.167 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678672367618] ["schema version"=26]
[2024/05/17 10:54:14.171 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=53] [job="ID:53, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:52, RowCount:0, ArgLen:0, start time: 2024-05-17 10:54:14.159 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:54:14.172 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678672367618] ["schema version"=26]
[2024/05/17 10:54:14.172 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=53]
[2024/05/17 10:54:14.172 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:54:14.172 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678672367618] ["schema version"=26]
[2024/05/17 10:54:14.172 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=26] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.column_stats_usage (\n\t\ttable_id BIGINT(64) NOT NULL,\n\t\tcolumn_id BIGINT(64) NOT NULL,\n\t\tlast_used_at TIMESTAMP,\n\t\tlast_analyzed_at TIMESTAMP,\n\t\tPRIMARY KEY (table_id, column_id) CLUSTERED\n\t);"] [user=]
[2024/05/17 10:54:14.174 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:55, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:54, RowCount:0, ArgLen:2, start time: 2024-05-17 10:54:14.173 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:54:14.174 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:55, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:54, RowCount:0, ArgLen:2, start time: 2024-05-17 10:54:14.173 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.column_stats_usage (\n\t\ttable_id BIGINT(64) NOT NULL,\n\t\tcolumn_id BIGINT(64) NOT NULL,\n\t\tlast_used_at TIMESTAMP,\n\t\tlast_analyzed_at TIMESTAMP,\n\t\tPRIMARY KEY (table_id, column_id) CLUSTERED\n\t);"]
[2024/05/17 10:54:14.178 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=55] [category=ddl] [job="ID:55, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:54, RowCount:0, ArgLen:0, start time: 2024-05-17 10:54:14.173 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:54:14.180 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678676561920] ["schema version"=27]
[2024/05/17 10:54:14.180 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=26] [neededSchemaVersion=27] ["start time"=192.875µs] [gotSchemaVersion=27] [phyTblIDs="[54]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:54:14.181 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:54:14.181 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=55] [version=27]
[2024/05/17 10:54:14.182 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=27] ["take time"=2.003666ms] [job="ID:55, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:54, RowCount:0, ArgLen:2, start time: 2024-05-17 10:54:14.173 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:54:14.182 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678676561920] ["schema version"=27]
[2024/05/17 10:54:14.186 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=55] [job="ID:55, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:54, RowCount:0, ArgLen:0, start time: 2024-05-17 10:54:14.173 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:54:14.188 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678676561920] ["schema version"=27]
[2024/05/17 10:54:14.188 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=55]
[2024/05/17 10:54:14.188 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:54:14.188 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678676561920] ["schema version"=27]
[2024/05/17 10:54:14.188 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=27] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.table_cache_meta (\n\t\ttid bigint(11) NOT NULL DEFAULT 0,\n\t\tlock_type enum('NONE','READ', 'INTEND', 'WRITE') NOT NULL DEFAULT 'NONE',\n\t\tlease bigint(20) NOT NULL DEFAULT 0,\n\t\toldReadLease bigint(20) NOT NULL DEFAULT 0,\n\t\tPRIMARY KEY (tid)\n\t);"] [user=]
[2024/05/17 10:54:14.190 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:57, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:56, RowCount:0, ArgLen:2, start time: 2024-05-17 10:54:14.189 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:54:14.190 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:57, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:56, RowCount:0, ArgLen:2, start time: 2024-05-17 10:54:14.189 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.table_cache_meta (\n\t\ttid bigint(11) NOT NULL DEFAULT 0,\n\t\tlock_type enum('NONE','READ', 'INTEND', 'WRITE') NOT NULL DEFAULT 'NONE',\n\t\tlease bigint(20) NOT NULL DEFAULT 0,\n\t\toldReadLease bigint(20) NOT NULL DEFAULT 0,\n\t\tPRIMARY KEY (tid)\n\t);"]
[2024/05/17 10:54:14.193 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=57] [category=ddl] [job="ID:57, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:56, RowCount:0, ArgLen:0, start time: 2024-05-17 10:54:14.189 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:54:14.195 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678680494080] ["schema version"=28]
[2024/05/17 10:54:14.195 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=27] [neededSchemaVersion=28] ["start time"=217.292µs] [gotSchemaVersion=28] [phyTblIDs="[56]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:54:14.196 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:54:14.196 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=57] [version=28]
[2024/05/17 10:54:14.205 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=28] ["take time"=10.165458ms] [job="ID:57, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:56, RowCount:0, ArgLen:2, start time: 2024-05-17 10:54:14.189 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:54:14.206 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678680494080] ["schema version"=28]
[2024/05/17 10:54:14.213 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=57] [job="ID:57, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:56, RowCount:0, ArgLen:0, start time: 2024-05-17 10:54:14.189 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:54:14.215 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678680494080] ["schema version"=28]
[2024/05/17 10:54:14.216 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=57]
[2024/05/17 10:54:14.216 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:54:14.216 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678680494080] ["schema version"=28]
[2024/05/17 10:54:14.216 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=28] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.analyze_options (\n\t\ttable_id BIGINT(64) NOT NULL,\n\t\tsample_num BIGINT(64) NOT NULL DEFAULT 0,\n\t\tsample_rate DOUBLE NOT NULL DEFAULT -1,\n\t\tbuckets BIGINT(64) NOT NULL DEFAULT 0,\n\t\ttopn BIGINT(64) NOT NULL DEFAULT -1,\n\t\tcolumn_choice enum('DEFAULT','ALL','PREDICATE','LIST') NOT NULL DEFAULT 'DEFAULT',\n\t\tcolumn_ids TEXT(19372),\n\t\tPRIMARY KEY (table_id) CLUSTERED\n\t);"] [user=]
[2024/05/17 10:54:14.216 +08:00] [INFO] [ddl_api.go:1141] ["Automatically convert BLOB(19372) to MEDIUMBLOB"] [category=ddl]
[2024/05/17 10:54:14.219 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:59, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:58, RowCount:0, ArgLen:2, start time: 2024-05-17 10:54:14.218 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:54:14.219 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:59, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:58, RowCount:0, ArgLen:2, start time: 2024-05-17 10:54:14.218 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.analyze_options (\n\t\ttable_id BIGINT(64) NOT NULL,\n\t\tsample_num BIGINT(64) NOT NULL DEFAULT 0,\n\t\tsample_rate DOUBLE NOT NULL DEFAULT -1,\n\t\tbuckets BIGINT(64) NOT NULL DEFAULT 0,\n\t\ttopn BIGINT(64) NOT NULL DEFAULT -1,\n\t\tcolumn_choice enum('DEFAULT','ALL','PREDICATE','LIST') NOT NULL DEFAULT 'DEFAULT',\n\t\tcolumn_ids TEXT(19372),\n\t\tPRIMARY KEY (table_id) CLUSTERED\n\t);"]
[2024/05/17 10:54:14.225 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=59] [category=ddl] [job="ID:59, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:58, RowCount:0, ArgLen:0, start time: 2024-05-17 10:54:14.218 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:54:14.227 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678688620544] ["schema version"=29]
[2024/05/17 10:54:14.227 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=28] [neededSchemaVersion=29] ["start time"=317.167µs] [gotSchemaVersion=29] [phyTblIDs="[58]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:54:14.227 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:54:14.227 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=59] [version=29]
[2024/05/17 10:54:14.228 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=29] ["take time"=2.169208ms] [job="ID:59, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:58, RowCount:0, ArgLen:2, start time: 2024-05-17 10:54:14.218 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:54:14.229 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678688620544] ["schema version"=29]
[2024/05/17 10:54:14.233 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=59] [job="ID:59, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:58, RowCount:0, ArgLen:0, start time: 2024-05-17 10:54:14.218 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:54:14.234 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678688620544] ["schema version"=29]
[2024/05/17 10:54:14.235 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=59]
[2024/05/17 10:54:14.235 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:54:14.235 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678688620544] ["schema version"=29]
[2024/05/17 10:54:14.235 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=29] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_history (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tstats_data longblob NOT NULL,\n\t\tseq_no bigint(64) NOT NULL comment 'sequence number of the gzipped data slice',\n\t\tversion bigint(64) NOT NULL comment 'stats version which corresponding to stats:version in EXPLAIN',\n\t\tcreate_time datetime(6) NOT NULL,\n\t\tUNIQUE KEY table_version_seq (table_id, version, seq_no),\n\t\tKEY table_create_time (table_id, create_time, seq_no),\n    \tKEY idx_create_time (create_time)\n\t);"] [user=]
[2024/05/17 10:54:14.236 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:61, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:60, RowCount:0, ArgLen:2, start time: 2024-05-17 10:54:14.236 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:54:14.236 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:61, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:60, RowCount:0, ArgLen:2, start time: 2024-05-17 10:54:14.236 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_history (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tstats_data longblob NOT NULL,\n\t\tseq_no bigint(64) NOT NULL comment 'sequence number of the gzipped data slice',\n\t\tversion bigint(64) NOT NULL comment 'stats version which corresponding to stats:version in EXPLAIN',\n\t\tcreate_time datetime(6) NOT NULL,\n\t\tUNIQUE KEY table_version_seq (table_id, version, seq_no),\n\t\tKEY table_create_time (table_id, create_time, seq_no),\n    \tKEY idx_create_time (create_time)\n\t);"]
[2024/05/17 10:54:14.240 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=61] [category=ddl] [job="ID:61, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:60, RowCount:0, ArgLen:0, start time: 2024-05-17 10:54:14.236 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:54:14.241 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678692552704] ["schema version"=30]
[2024/05/17 10:54:14.241 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=29] [neededSchemaVersion=30] ["start time"=230.625µs] [gotSchemaVersion=30] [phyTblIDs="[60]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:54:14.242 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:54:14.242 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=61] [version=30]
[2024/05/17 10:54:14.243 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=30] ["take time"=2.005708ms] [job="ID:61, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:60, RowCount:0, ArgLen:2, start time: 2024-05-17 10:54:14.236 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:54:14.243 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678692552704] ["schema version"=30]
[2024/05/17 10:54:14.247 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=61] [job="ID:61, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:60, RowCount:0, ArgLen:0, start time: 2024-05-17 10:54:14.236 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:54:14.249 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678692552704] ["schema version"=30]
[2024/05/17 10:54:14.249 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=61]
[2024/05/17 10:54:14.249 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:54:14.249 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678692552704] ["schema version"=30]
[2024/05/17 10:54:14.249 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=30] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_meta_history (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tmodify_count bigint(64) NOT NULL,\n\t\tcount bigint(64) NOT NULL,\n\t\tversion bigint(64) NOT NULL comment 'stats version which corresponding to stats:version in EXPLAIN',\n    \tsource varchar(40) NOT NULL,\n\t\tcreate_time datetime(6) NOT NULL,\n\t\tUNIQUE KEY table_version (table_id, version),\n\t\tKEY table_create_time (table_id, create_time),\n    \tKEY idx_create_time (create_time)\n\t);"] [user=]
[2024/05/17 10:54:14.251 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:63, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:62, RowCount:0, ArgLen:2, start time: 2024-05-17 10:54:14.25 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:54:14.251 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:63, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:62, RowCount:0, ArgLen:2, start time: 2024-05-17 10:54:14.25 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_meta_history (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tmodify_count bigint(64) NOT NULL,\n\t\tcount bigint(64) NOT NULL,\n\t\tversion bigint(64) NOT NULL comment 'stats version which corresponding to stats:version in EXPLAIN',\n    \tsource varchar(40) NOT NULL,\n\t\tcreate_time datetime(6) NOT NULL,\n\t\tUNIQUE KEY table_version (table_id, version),\n\t\tKEY table_create_time (table_id, create_time),\n    \tKEY idx_create_time (create_time)\n\t);"]
[2024/05/17 10:54:14.256 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=63] [category=ddl] [job="ID:63, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:62, RowCount:0, ArgLen:0, start time: 2024-05-17 10:54:14.25 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:54:14.258 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678696747008] ["schema version"=31]
[2024/05/17 10:54:14.258 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=30] [neededSchemaVersion=31] ["start time"=659.75µs] [gotSchemaVersion=31] [phyTblIDs="[62]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:54:14.259 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:54:14.259 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=63] [version=31]
[2024/05/17 10:54:14.260 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=31] ["take time"=3.265083ms] [job="ID:63, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:62, RowCount:0, ArgLen:2, start time: 2024-05-17 10:54:14.25 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:54:14.261 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678696747008] ["schema version"=31]
[2024/05/17 10:54:14.265 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=63] [job="ID:63, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:62, RowCount:0, ArgLen:0, start time: 2024-05-17 10:54:14.25 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:54:14.267 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678696747008] ["schema version"=31]
[2024/05/17 10:54:14.267 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=63]
[2024/05/17 10:54:14.268 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:54:14.268 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678696747008] ["schema version"=31]
[2024/05/17 10:54:14.268 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=31] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.analyze_jobs (\n\t\tid BIGINT(64) UNSIGNED NOT NULL AUTO_INCREMENT,\n\t\tupdate_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\ttable_schema CHAR(64) NOT NULL DEFAULT '',\n\t\ttable_name CHAR(64) NOT NULL DEFAULT '',\n\t\tpartition_name CHAR(64) NOT NULL DEFAULT '',\n\t\tjob_info TEXT NOT NULL,\n\t\tprocessed_rows BIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tstart_time TIMESTAMP,\n\t\tend_time TIMESTAMP,\n\t\tstate ENUM('pending', 'running', 'finished', 'failed') NOT NULL,\n\t\tfail_reason TEXT,\n\t\tinstance VARCHAR(512) NOT NULL comment 'address of the TiDB instance executing the analyze job',\n\t\tprocess_id BIGINT(64) UNSIGNED comment 'ID of the process executing the analyze job',\n\t\tPRIMARY KEY (id),\n\t\tKEY (update_time)\n\t);"] [user=]
[2024/05/17 10:54:14.269 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:65, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:64, RowCount:0, ArgLen:2, start time: 2024-05-17 10:54:14.269 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:54:14.269 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:65, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:64, RowCount:0, ArgLen:2, start time: 2024-05-17 10:54:14.269 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.analyze_jobs (\n\t\tid BIGINT(64) UNSIGNED NOT NULL AUTO_INCREMENT,\n\t\tupdate_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\ttable_schema CHAR(64) NOT NULL DEFAULT '',\n\t\ttable_name CHAR(64) NOT NULL DEFAULT '',\n\t\tpartition_name CHAR(64) NOT NULL DEFAULT '',\n\t\tjob_info TEXT NOT NULL,\n\t\tprocessed_rows BIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tstart_time TIMESTAMP,\n\t\tend_time TIMESTAMP,\n\t\tstate ENUM('pending', 'running', 'finished', 'failed') NOT NULL,\n\t\tfail_reason TEXT,\n\t\tinstance VARCHAR(512) NOT NULL comment 'address of the TiDB instance executing the analyze job',\n\t\tprocess_id BIGINT(64) UNSIGNED comment 'ID of the process executing the analyze job',\n\t\tPRIMARY KEY (id),\n\t\tKEY (update_time)\n\t);"]
[2024/05/17 10:54:14.273 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=65] [category=ddl] [job="ID:65, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:64, RowCount:0, ArgLen:0, start time: 2024-05-17 10:54:14.269 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:54:14.275 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678701465600] ["schema version"=32]
[2024/05/17 10:54:14.275 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=31] [neededSchemaVersion=32] ["start time"=318.166µs] [gotSchemaVersion=32] [phyTblIDs="[64]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:54:14.276 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678701465600] ["schema version"=32]
[2024/05/17 10:54:14.276 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:54:14.276 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=65] [version=32]
[2024/05/17 10:54:14.277 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=32] ["take time"=2.004375ms] [job="ID:65, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:64, RowCount:0, ArgLen:2, start time: 2024-05-17 10:54:14.269 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:54:14.278 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678701465600] ["schema version"=32]
[2024/05/17 10:54:14.282 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=65] [job="ID:65, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:64, RowCount:0, ArgLen:0, start time: 2024-05-17 10:54:14.269 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:54:14.285 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678701465600] ["schema version"=32]
[2024/05/17 10:54:14.286 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=65]
[2024/05/17 10:54:14.286 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:54:14.286 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678701465600] ["schema version"=32]
[2024/05/17 10:54:14.286 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=32] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.advisory_locks (\n\t\tlock_name VARCHAR(64) NOT NULL PRIMARY KEY\n\t);"] [user=]
[2024/05/17 10:54:14.288 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:67, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:66, RowCount:0, ArgLen:2, start time: 2024-05-17 10:54:14.287 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:54:14.288 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:67, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:66, RowCount:0, ArgLen:2, start time: 2024-05-17 10:54:14.287 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.advisory_locks (\n\t\tlock_name VARCHAR(64) NOT NULL PRIMARY KEY\n\t);"]
[2024/05/17 10:54:14.291 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=67] [category=ddl] [job="ID:67, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:66, RowCount:0, ArgLen:0, start time: 2024-05-17 10:54:14.287 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:54:14.292 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678705922048] ["schema version"=33]
[2024/05/17 10:54:14.292 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=32] [neededSchemaVersion=33] ["start time"=146.25µs] [gotSchemaVersion=33] [phyTblIDs="[66]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:54:14.293 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:54:14.293 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=67] [version=33]
[2024/05/17 10:54:14.294 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=33] ["take time"=2.5295ms] [job="ID:67, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:66, RowCount:0, ArgLen:2, start time: 2024-05-17 10:54:14.287 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:54:14.295 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678705922048] ["schema version"=33]
[2024/05/17 10:54:14.297 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=67] [job="ID:67, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:66, RowCount:0, ArgLen:0, start time: 2024-05-17 10:54:14.287 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:54:14.299 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678705922048] ["schema version"=33]
[2024/05/17 10:54:14.299 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=67]
[2024/05/17 10:54:14.299 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:54:14.299 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678705922048] ["schema version"=33]
[2024/05/17 10:54:14.301 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:69, Type:create view, State:queueing, SchemaState:none, SchemaID:1, TableID:68, RowCount:0, ArgLen:3, start time: 2024-05-17 10:54:14.301 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:54:14.301 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:69, Type:create view, State:queueing, SchemaState:none, SchemaID:1, TableID:68, RowCount:0, ArgLen:3, start time: 2024-05-17 10:54:14.301 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE OR REPLACE VIEW mysql.tidb_mdl_view as (\n\t\tSELECT tidb_mdl_info.job_id,\n\t\t\tJSON_UNQUOTE(JSON_EXTRACT(cast(cast(job_meta as char) as json), \"$.schema_name\")) as db_name,\n\t\t\tJSON_UNQUOTE(JSON_EXTRACT(cast(cast(job_meta as char) as json), \"$.table_name\")) as table_name,\n\t\t\tJSON_UNQUOTE(JSON_EXTRACT(cast(cast(job_meta as char) as json), \"$.query\")) as query,\n\t\t\tsession_id,\n\t\t\tcluster_tidb_trx.start_time,\n\t\t\ttidb_decode_sql_digests(all_sql_digests, 4096) AS SQL_DIGESTS\n\t\tFROM mysql.tidb_ddl_job,\n\t\t\tmysql.tidb_mdl_info,\n\t\t\tinformation_schema.cluster_tidb_trx\n\t\tWHERE tidb_ddl_job.job_id=tidb_mdl_info.job_id\n\t\t\tAND CONCAT(',', tidb_mdl_info.table_ids, ',') REGEXP CONCAT(',(', REPLACE(cluster_tidb_trx.related_table_ids, ',', '|'), '),') != 0\n\t);"]
[2024/05/17 10:54:14.305 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=69] [category=ddl] [job="ID:69, Type:create view, State:queueing, SchemaState:none, SchemaID:1, TableID:68, RowCount:0, ArgLen:0, start time: 2024-05-17 10:54:14.301 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:54:14.307 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678709854208] ["schema version"=34]
[2024/05/17 10:54:14.307 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=33] [neededSchemaVersion=34] ["start time"=201.25µs] [gotSchemaVersion=34] [phyTblIDs="[68]"] [actionTypes="[21]"] [diffTypes="[\"create view\"]"]
[2024/05/17 10:54:14.308 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:54:14.308 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=69] [version=34]
[2024/05/17 10:54:14.310 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=34] ["take time"=2.863ms] [job="ID:69, Type:create view, State:done, SchemaState:public, SchemaID:1, TableID:68, RowCount:0, ArgLen:3, start time: 2024-05-17 10:54:14.301 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:54:14.310 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678709854208] ["schema version"=34]
[2024/05/17 10:54:14.312 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=69] [job="ID:69, Type:create view, State:synced, SchemaState:public, SchemaID:1, TableID:68, RowCount:0, ArgLen:0, start time: 2024-05-17 10:54:14.301 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:54:14.314 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678709854208] ["schema version"=34]
[2024/05/17 10:54:14.314 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=69]
[2024/05/17 10:54:14.314 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:54:14.314 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678709854208] ["schema version"=34]
[2024/05/17 10:54:14.314 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=34] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.plan_replayer_status (\n\t\tsql_digest VARCHAR(128),\n\t\tplan_digest VARCHAR(128),\n\t\torigin_sql TEXT,\n\t\ttoken VARCHAR(128),\n\t\tupdate_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\tfail_reason TEXT,\n\t\tinstance VARCHAR(512) NOT NULL comment 'address of the TiDB instance executing the plan replayer job');"] [user=]
[2024/05/17 10:54:14.315 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:71, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:70, RowCount:0, ArgLen:2, start time: 2024-05-17 10:54:14.315 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:54:14.315 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:71, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:70, RowCount:0, ArgLen:2, start time: 2024-05-17 10:54:14.315 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.plan_replayer_status (\n\t\tsql_digest VARCHAR(128),\n\t\tplan_digest VARCHAR(128),\n\t\torigin_sql TEXT,\n\t\ttoken VARCHAR(128),\n\t\tupdate_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\tfail_reason TEXT,\n\t\tinstance VARCHAR(512) NOT NULL comment 'address of the TiDB instance executing the plan replayer job');"]
[2024/05/17 10:54:14.318 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=71] [category=ddl] [job="ID:71, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:70, RowCount:0, ArgLen:0, start time: 2024-05-17 10:54:14.315 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:54:14.320 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678713262080] ["schema version"=35]
[2024/05/17 10:54:14.320 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=34] [neededSchemaVersion=35] ["start time"=202.209µs] [gotSchemaVersion=35] [phyTblIDs="[70]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:54:14.320 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:54:14.320 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=71] [version=35]
[2024/05/17 10:54:14.322 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=35] ["take time"=2.459167ms] [job="ID:71, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:70, RowCount:0, ArgLen:2, start time: 2024-05-17 10:54:14.315 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:54:14.322 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678713262080] ["schema version"=35]
[2024/05/17 10:54:14.325 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=71] [job="ID:71, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:70, RowCount:0, ArgLen:0, start time: 2024-05-17 10:54:14.315 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:54:14.327 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678713262080] ["schema version"=35]
[2024/05/17 10:54:14.327 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=71]
[2024/05/17 10:54:14.327 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:54:14.327 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678713262080] ["schema version"=35]
[2024/05/17 10:54:14.327 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=35] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.plan_replayer_task (\n\t\tsql_digest VARCHAR(128) NOT NULL,\n\t\tplan_digest VARCHAR(128) NOT NULL,\n\t\tupdate_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\tPRIMARY KEY (sql_digest,plan_digest));"] [user=]
[2024/05/17 10:54:14.328 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:73, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:72, RowCount:0, ArgLen:2, start time: 2024-05-17 10:54:14.327 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:54:14.328 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:73, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:72, RowCount:0, ArgLen:2, start time: 2024-05-17 10:54:14.327 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.plan_replayer_task (\n\t\tsql_digest VARCHAR(128) NOT NULL,\n\t\tplan_digest VARCHAR(128) NOT NULL,\n\t\tupdate_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\tPRIMARY KEY (sql_digest,plan_digest));"]
[2024/05/17 10:54:14.331 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=73] [category=ddl] [job="ID:73, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:72, RowCount:0, ArgLen:0, start time: 2024-05-17 10:54:14.327 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:54:14.332 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678716407808] ["schema version"=36]
[2024/05/17 10:54:14.332 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=35] [neededSchemaVersion=36] ["start time"=165.167µs] [gotSchemaVersion=36] [phyTblIDs="[72]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:54:14.333 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:54:14.333 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=73] [version=36]
[2024/05/17 10:54:14.334 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=36] ["take time"=2.304917ms] [job="ID:73, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:72, RowCount:0, ArgLen:2, start time: 2024-05-17 10:54:14.327 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:54:14.335 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678716407808] ["schema version"=36]
[2024/05/17 10:54:14.337 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=73] [job="ID:73, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:72, RowCount:0, ArgLen:0, start time: 2024-05-17 10:54:14.327 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:54:14.339 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678716407808] ["schema version"=36]
[2024/05/17 10:54:14.339 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=73]
[2024/05/17 10:54:14.339 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:54:14.339 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678716407808] ["schema version"=36]
[2024/05/17 10:54:14.339 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=36] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_table_locked(\n\t\ttable_id bigint(64) NOT NULL,\n\t\tmodify_count bigint(64) NOT NULL DEFAULT 0,\n\t\tcount bigint(64) NOT NULL DEFAULT 0,\n\t\tversion bigint(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tPRIMARY KEY (table_id));"] [user=]
[2024/05/17 10:54:14.340 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:75, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:74, RowCount:0, ArgLen:2, start time: 2024-05-17 10:54:14.34 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:54:14.340 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:75, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:74, RowCount:0, ArgLen:2, start time: 2024-05-17 10:54:14.34 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_table_locked(\n\t\ttable_id bigint(64) NOT NULL,\n\t\tmodify_count bigint(64) NOT NULL DEFAULT 0,\n\t\tcount bigint(64) NOT NULL DEFAULT 0,\n\t\tversion bigint(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tPRIMARY KEY (table_id));"]
[2024/05/17 10:54:14.343 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=75] [category=ddl] [job="ID:75, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:74, RowCount:0, ArgLen:0, start time: 2024-05-17 10:54:14.34 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:54:14.345 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678719815680] ["schema version"=37]
[2024/05/17 10:54:14.345 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=36] [neededSchemaVersion=37] ["start time"=168µs] [gotSchemaVersion=37] [phyTblIDs="[74]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:54:14.345 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:54:14.345 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=75] [version=37]
[2024/05/17 10:54:14.347 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=37] ["take time"=2.476084ms] [job="ID:75, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:74, RowCount:0, ArgLen:2, start time: 2024-05-17 10:54:14.34 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:54:14.348 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678719815680] ["schema version"=37]
[2024/05/17 10:54:14.350 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=75] [job="ID:75, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:74, RowCount:0, ArgLen:0, start time: 2024-05-17 10:54:14.34 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:54:14.351 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678719815680] ["schema version"=37]
[2024/05/17 10:54:14.351 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=75]
[2024/05/17 10:54:14.351 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:54:14.351 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678719815680] ["schema version"=37]
[2024/05/17 10:54:14.352 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=37] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_ttl_table_status (\n\t\ttable_id bigint(64) PRIMARY KEY,\n        parent_table_id bigint(64),\n        table_statistics text DEFAULT NULL,\n\t\tlast_job_id varchar(64) DEFAULT NULL,\n\t\tlast_job_start_time timestamp NULL DEFAULT NULL,\n\t\tlast_job_finish_time timestamp NULL DEFAULT NULL,\n\t\tlast_job_ttl_expire timestamp NULL DEFAULT NULL,\n        last_job_summary text DEFAULT NULL,\n\t\tcurrent_job_id varchar(64) DEFAULT NULL,\n\t\tcurrent_job_owner_id varchar(64) DEFAULT NULL,\n\t\tcurrent_job_owner_addr varchar(256) DEFAULT NULL,\n\t\tcurrent_job_owner_hb_time timestamp,\n\t\tcurrent_job_start_time timestamp NULL DEFAULT NULL,\n\t\tcurrent_job_ttl_expire timestamp NULL DEFAULT NULL,\n\t\tcurrent_job_state text DEFAULT NULL,\n\t\tcurrent_job_status varchar(64) DEFAULT NULL,\n  \t\tcurrent_job_status_update_time timestamp NULL DEFAULT NULL);"] [user=]
[2024/05/17 10:54:14.353 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:77, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:76, RowCount:0, ArgLen:2, start time: 2024-05-17 10:54:14.352 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:54:14.353 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:77, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:76, RowCount:0, ArgLen:2, start time: 2024-05-17 10:54:14.352 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_ttl_table_status (\n\t\ttable_id bigint(64) PRIMARY KEY,\n        parent_table_id bigint(64),\n        table_statistics text DEFAULT NULL,\n\t\tlast_job_id varchar(64) DEFAULT NULL,\n\t\tlast_job_start_time timestamp NULL DEFAULT NULL,\n\t\tlast_job_finish_time timestamp NULL DEFAULT NULL,\n\t\tlast_job_ttl_expire timestamp NULL DEFAULT NULL,\n        last_job_summary text DEFAULT NULL,\n\t\tcurrent_job_id varchar(64) DEFAULT NULL,\n\t\tcurrent_job_owner_id varchar(64) DEFAULT NULL,\n\t\tcurrent_job_owner_addr varchar(256) DEFAULT NULL,\n\t\tcurrent_job_owner_hb_time timestamp,\n\t\tcurrent_job_start_time timestamp NULL DEFAULT NULL,\n\t\tcurrent_job_ttl_expire timestamp NULL DEFAULT NULL,\n\t\tcurrent_job_state text DEFAULT NULL,\n\t\tcurrent_job_status varchar(64) DEFAULT NULL,\n  \t\tcurrent_job_status_update_time timestamp NULL DEFAULT NULL);"]
[2024/05/17 10:54:14.356 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=77] [category=ddl] [job="ID:77, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:76, RowCount:0, ArgLen:0, start time: 2024-05-17 10:54:14.352 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:54:14.357 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678722961408] ["schema version"=38]
[2024/05/17 10:54:14.357 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=37] [neededSchemaVersion=38] ["start time"=323.334µs] [gotSchemaVersion=38] [phyTblIDs="[76]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:54:14.358 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:54:14.358 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=77] [version=38]
[2024/05/17 10:54:14.360 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=38] ["take time"=2.58075ms] [job="ID:77, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:76, RowCount:0, ArgLen:2, start time: 2024-05-17 10:54:14.352 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:54:14.360 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678722961408] ["schema version"=38]
[2024/05/17 10:54:14.362 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=77] [job="ID:77, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:76, RowCount:0, ArgLen:0, start time: 2024-05-17 10:54:14.352 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:54:14.364 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678722961408] ["schema version"=38]
[2024/05/17 10:54:14.364 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=77]
[2024/05/17 10:54:14.364 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:54:14.364 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678722961408] ["schema version"=38]
[2024/05/17 10:54:14.365 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=38] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_ttl_task (\n\t\tjob_id varchar(64) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tscan_id int NOT NULL,\n\t\tscan_range_start BLOB,\n\t\tscan_range_end BLOB,\n\t\texpire_time timestamp NOT NULL,\n\t\towner_id varchar(64) DEFAULT NULL,\n\t\towner_addr varchar(64) DEFAULT NULL,\n\t\towner_hb_time timestamp DEFAULT NULL,\n\t\tstatus varchar(64) DEFAULT 'waiting',\n\t\tstatus_update_time timestamp NULL DEFAULT NULL,\n\t\tstate text,\n\t\tcreated_time timestamp NOT NULL,\n\t\tprimary key(job_id, scan_id),\n\t\tkey(created_time));"] [user=]
[2024/05/17 10:54:14.366 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:79, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:78, RowCount:0, ArgLen:2, start time: 2024-05-17 10:54:14.365 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:54:14.366 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:79, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:78, RowCount:0, ArgLen:2, start time: 2024-05-17 10:54:14.365 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_ttl_task (\n\t\tjob_id varchar(64) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tscan_id int NOT NULL,\n\t\tscan_range_start BLOB,\n\t\tscan_range_end BLOB,\n\t\texpire_time timestamp NOT NULL,\n\t\towner_id varchar(64) DEFAULT NULL,\n\t\towner_addr varchar(64) DEFAULT NULL,\n\t\towner_hb_time timestamp DEFAULT NULL,\n\t\tstatus varchar(64) DEFAULT 'waiting',\n\t\tstatus_update_time timestamp NULL DEFAULT NULL,\n\t\tstate text,\n\t\tcreated_time timestamp NOT NULL,\n\t\tprimary key(job_id, scan_id),\n\t\tkey(created_time));"]
[2024/05/17 10:54:14.371 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=79] [category=ddl] [job="ID:79, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:78, RowCount:0, ArgLen:0, start time: 2024-05-17 10:54:14.365 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:54:14.372 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678726893568] ["schema version"=39]
[2024/05/17 10:54:14.373 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=38] [neededSchemaVersion=39] ["start time"=323.417µs] [gotSchemaVersion=39] [phyTblIDs="[78]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:54:14.373 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:54:14.373 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=79] [version=39]
[2024/05/17 10:54:14.374 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=39] ["take time"=2.218042ms] [job="ID:79, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:78, RowCount:0, ArgLen:2, start time: 2024-05-17 10:54:14.365 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:54:14.375 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678726893568] ["schema version"=39]
[2024/05/17 10:54:14.379 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=79] [job="ID:79, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:78, RowCount:0, ArgLen:0, start time: 2024-05-17 10:54:14.365 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:54:14.381 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678726893568] ["schema version"=39]
[2024/05/17 10:54:14.381 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=79]
[2024/05/17 10:54:14.381 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:54:14.381 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678726893568] ["schema version"=39]
[2024/05/17 10:54:14.381 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=39] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_ttl_job_history (\n\t\tjob_id varchar(64) PRIMARY KEY,\n\t\ttable_id bigint(64) NOT NULL,\n        parent_table_id bigint(64) NOT NULL,\n    \ttable_schema varchar(64) NOT NULL,\n\t\ttable_name varchar(64) NOT NULL,\n    \tpartition_name varchar(64) DEFAULT NULL,\n\t\tcreate_time timestamp NOT NULL,\n\t\tfinish_time timestamp NOT NULL,\n\t\tttl_expire timestamp NOT NULL,\n        summary_text text,\n\t\texpired_rows bigint(64) DEFAULT NULL,\n    \tdeleted_rows bigint(64) DEFAULT NULL,\n    \terror_delete_rows bigint(64) DEFAULT NULL,\n    \tstatus varchar(64) NOT NULL,\n    \tkey(table_schema, table_name, create_time),\n    \tkey(parent_table_id, create_time),\n    \tkey(create_time)\n\t);"] [user=]
[2024/05/17 10:54:14.383 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:81, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:80, RowCount:0, ArgLen:2, start time: 2024-05-17 10:54:14.382 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:54:14.383 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:81, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:80, RowCount:0, ArgLen:2, start time: 2024-05-17 10:54:14.382 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_ttl_job_history (\n\t\tjob_id varchar(64) PRIMARY KEY,\n\t\ttable_id bigint(64) NOT NULL,\n        parent_table_id bigint(64) NOT NULL,\n    \ttable_schema varchar(64) NOT NULL,\n\t\ttable_name varchar(64) NOT NULL,\n    \tpartition_name varchar(64) DEFAULT NULL,\n\t\tcreate_time timestamp NOT NULL,\n\t\tfinish_time timestamp NOT NULL,\n\t\tttl_expire timestamp NOT NULL,\n        summary_text text,\n\t\texpired_rows bigint(64) DEFAULT NULL,\n    \tdeleted_rows bigint(64) DEFAULT NULL,\n    \terror_delete_rows bigint(64) DEFAULT NULL,\n    \tstatus varchar(64) NOT NULL,\n    \tkey(table_schema, table_name, create_time),\n    \tkey(parent_table_id, create_time),\n    \tkey(create_time)\n\t);"]
[2024/05/17 10:54:14.386 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=81] [category=ddl] [job="ID:81, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:80, RowCount:0, ArgLen:0, start time: 2024-05-17 10:54:14.382 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:54:14.388 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678731087872] ["schema version"=40]
[2024/05/17 10:54:14.388 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=39] [neededSchemaVersion=40] ["start time"=529.167µs] [gotSchemaVersion=40] [phyTblIDs="[80]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:54:14.389 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:54:14.389 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=81] [version=40]
[2024/05/17 10:54:14.390 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=40] ["take time"=2.444ms] [job="ID:81, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:80, RowCount:0, ArgLen:2, start time: 2024-05-17 10:54:14.382 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:54:14.391 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678731087872] ["schema version"=40]
[2024/05/17 10:54:14.394 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=81] [job="ID:81, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:80, RowCount:0, ArgLen:0, start time: 2024-05-17 10:54:14.382 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:54:14.396 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678731087872] ["schema version"=40]
[2024/05/17 10:54:14.396 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=81]
[2024/05/17 10:54:14.396 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:54:14.396 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678731087872] ["schema version"=40]
[2024/05/17 10:54:14.396 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=40] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_global_task (\n\t\tid BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n    \ttask_key VARCHAR(256) NOT NULL,\n\t\ttype VARCHAR(256) NOT NULL,\n\t\tdispatcher_id VARCHAR(261),\n\t\tstate VARCHAR(64) NOT NULL,\n\t\tpriority INT DEFAULT 1,\n\t\tcreate_time TIMESTAMP,\n\t\tstart_time TIMESTAMP,\n\t\tstate_update_time TIMESTAMP,\n\t\tend_time TIMESTAMP,\n\t\tmeta LONGBLOB,\n\t\tconcurrency INT(11),\n\t\tstep INT(11),\n\t\ttarget_scope VARCHAR(256) DEFAULT \"\",\n\t\terror BLOB,\n\t\tkey(state),\n      \tUNIQUE KEY task_key(task_key)\n\t);"] [user=]
[2024/05/17 10:54:14.399 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:83, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:82, RowCount:0, ArgLen:2, start time: 2024-05-17 10:54:14.397 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:54:14.399 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:83, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:82, RowCount:0, ArgLen:2, start time: 2024-05-17 10:54:14.397 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_global_task (\n\t\tid BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n    \ttask_key VARCHAR(256) NOT NULL,\n\t\ttype VARCHAR(256) NOT NULL,\n\t\tdispatcher_id VARCHAR(261),\n\t\tstate VARCHAR(64) NOT NULL,\n\t\tpriority INT DEFAULT 1,\n\t\tcreate_time TIMESTAMP,\n\t\tstart_time TIMESTAMP,\n\t\tstate_update_time TIMESTAMP,\n\t\tend_time TIMESTAMP,\n\t\tmeta LONGBLOB,\n\t\tconcurrency INT(11),\n\t\tstep INT(11),\n\t\ttarget_scope VARCHAR(256) DEFAULT \"\",\n\t\terror BLOB,\n\t\tkey(state),\n      \tUNIQUE KEY task_key(task_key)\n\t);"]
[2024/05/17 10:54:14.402 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=83] [category=ddl] [job="ID:83, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:82, RowCount:0, ArgLen:0, start time: 2024-05-17 10:54:14.397 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:54:14.406 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678735544320] ["schema version"=41]
[2024/05/17 10:54:14.406 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=40] [neededSchemaVersion=41] ["start time"=501.834µs] [gotSchemaVersion=41] [phyTblIDs="[82]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:54:14.408 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:54:14.408 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=83] [version=41]
[2024/05/17 10:54:14.412 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=41] ["take time"=6.447458ms] [job="ID:83, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:82, RowCount:0, ArgLen:2, start time: 2024-05-17 10:54:14.397 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:54:14.413 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678735544320] ["schema version"=41]
[2024/05/17 10:54:14.424 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=83] [job="ID:83, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:82, RowCount:0, ArgLen:0, start time: 2024-05-17 10:54:14.397 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:54:14.426 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678735544320] ["schema version"=41]
[2024/05/17 10:54:14.426 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=83]
[2024/05/17 10:54:14.426 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:54:14.426 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678735544320] ["schema version"=41]
[2024/05/17 10:54:14.427 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=41] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_global_task_history (\n\t\tid BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n    \ttask_key VARCHAR(256) NOT NULL,\n\t\ttype VARCHAR(256) NOT NULL,\n\t\tdispatcher_id VARCHAR(261),\n\t\tstate VARCHAR(64) NOT NULL,\n\t\tpriority INT DEFAULT 1,\n\t\tcreate_time TIMESTAMP,\n\t\tstart_time TIMESTAMP,\n\t\tstate_update_time TIMESTAMP,\n\t\tend_time TIMESTAMP,\n\t\tmeta LONGBLOB,\n\t\tconcurrency INT(11),\n\t\tstep INT(11),\n\t\ttarget_scope VARCHAR(256) DEFAULT \"\",\n\t\terror BLOB,\n\t\tkey(state),\n      \tUNIQUE KEY task_key(task_key)\n\t);"] [user=]
[2024/05/17 10:54:14.431 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:85, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:84, RowCount:0, ArgLen:2, start time: 2024-05-17 10:54:14.429 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:54:14.431 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:85, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:84, RowCount:0, ArgLen:2, start time: 2024-05-17 10:54:14.429 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_global_task_history (\n\t\tid BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n    \ttask_key VARCHAR(256) NOT NULL,\n\t\ttype VARCHAR(256) NOT NULL,\n\t\tdispatcher_id VARCHAR(261),\n\t\tstate VARCHAR(64) NOT NULL,\n\t\tpriority INT DEFAULT 1,\n\t\tcreate_time TIMESTAMP,\n\t\tstart_time TIMESTAMP,\n\t\tstate_update_time TIMESTAMP,\n\t\tend_time TIMESTAMP,\n\t\tmeta LONGBLOB,\n\t\tconcurrency INT(11),\n\t\tstep INT(11),\n\t\ttarget_scope VARCHAR(256) DEFAULT \"\",\n\t\terror BLOB,\n\t\tkey(state),\n      \tUNIQUE KEY task_key(task_key)\n\t);"]
[2024/05/17 10:54:14.437 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=85] [category=ddl] [job="ID:85, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:84, RowCount:0, ArgLen:0, start time: 2024-05-17 10:54:14.429 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:54:14.440 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678744457216] ["schema version"=42]
[2024/05/17 10:54:14.440 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=41] [neededSchemaVersion=42] ["start time"=503.25µs] [gotSchemaVersion=42] [phyTblIDs="[84]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:54:14.441 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:54:14.441 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=85] [version=42]
[2024/05/17 10:54:14.442 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=42] ["take time"=2.33375ms] [job="ID:85, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:84, RowCount:0, ArgLen:2, start time: 2024-05-17 10:54:14.429 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:54:14.443 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678744457216] ["schema version"=42]
[2024/05/17 10:54:14.448 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=85] [job="ID:85, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:84, RowCount:0, ArgLen:0, start time: 2024-05-17 10:54:14.429 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:54:14.450 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678744457216] ["schema version"=42]
[2024/05/17 10:54:14.451 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=85]
[2024/05/17 10:54:14.451 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:54:14.451 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678744457216] ["schema version"=42]
[2024/05/17 10:54:14.451 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=42] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_import_jobs (\n\t\tid bigint(64) NOT NULL AUTO_INCREMENT,\n\t\tcreate_time TIMESTAMP(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6),\n\t\tstart_time TIMESTAMP(6) NULL DEFAULT NULL,\n\t\tupdate_time TIMESTAMP(6) NULL DEFAULT NULL,\n\t\tend_time TIMESTAMP(6) NULL DEFAULT NULL,\n\t\ttable_schema VARCHAR(64) NOT NULL,\n\t\ttable_name VARCHAR(64) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tcreated_by VARCHAR(300) NOT NULL,\n\t\tparameters text NOT NULL,\n\t\tsource_file_size bigint(64) NOT NULL,\n\t\tstatus VARCHAR(64) NOT NULL,\n\t\tstep VARCHAR(64) NOT NULL,\n\t\tsummary text DEFAULT NULL,\n\t\terror_message TEXT DEFAULT NULL,\n\t\tPRIMARY KEY (id),\n\t\tKEY (created_by),\n\t\tKEY (status));"] [user=]
[2024/05/17 10:54:14.452 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:87, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:86, RowCount:0, ArgLen:2, start time: 2024-05-17 10:54:14.452 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:54:14.452 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:87, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:86, RowCount:0, ArgLen:2, start time: 2024-05-17 10:54:14.452 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_import_jobs (\n\t\tid bigint(64) NOT NULL AUTO_INCREMENT,\n\t\tcreate_time TIMESTAMP(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6),\n\t\tstart_time TIMESTAMP(6) NULL DEFAULT NULL,\n\t\tupdate_time TIMESTAMP(6) NULL DEFAULT NULL,\n\t\tend_time TIMESTAMP(6) NULL DEFAULT NULL,\n\t\ttable_schema VARCHAR(64) NOT NULL,\n\t\ttable_name VARCHAR(64) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tcreated_by VARCHAR(300) NOT NULL,\n\t\tparameters text NOT NULL,\n\t\tsource_file_size bigint(64) NOT NULL,\n\t\tstatus VARCHAR(64) NOT NULL,\n\t\tstep VARCHAR(64) NOT NULL,\n\t\tsummary text DEFAULT NULL,\n\t\terror_message TEXT DEFAULT NULL,\n\t\tPRIMARY KEY (id),\n\t\tKEY (created_by),\n\t\tKEY (status));"]
[2024/05/17 10:54:14.455 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=87] [category=ddl] [job="ID:87, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:86, RowCount:0, ArgLen:0, start time: 2024-05-17 10:54:14.452 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:54:14.457 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678748913666] ["schema version"=43]
[2024/05/17 10:54:14.457 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=42] [neededSchemaVersion=43] ["start time"=338.25µs] [gotSchemaVersion=43] [phyTblIDs="[86]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:54:14.457 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:54:14.457 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=87] [version=43]
[2024/05/17 10:54:14.459 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=43] ["take time"=2.5355ms] [job="ID:87, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:86, RowCount:0, ArgLen:2, start time: 2024-05-17 10:54:14.452 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:54:14.460 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678748913666] ["schema version"=43]
[2024/05/17 10:54:14.462 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=87] [job="ID:87, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:86, RowCount:0, ArgLen:0, start time: 2024-05-17 10:54:14.452 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:54:14.464 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678748913666] ["schema version"=43]
[2024/05/17 10:54:14.464 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=87]
[2024/05/17 10:54:14.464 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:54:14.464 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678748913666] ["schema version"=43]
[2024/05/17 10:54:14.464 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=43] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_runaway_watch (\n\t\tid BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n\t\tresource_group_name varchar(32) not null,\n\t\tstart_time datetime(6) NOT NULL,\n\t\tend_time datetime(6),\n\t\twatch bigint(10) NOT NULL,\n\t\twatch_text TEXT NOT NULL,\n\t\tsource varchar(512) NOT NULL,\n\t\taction bigint(10),\n\t\tINDEX sql_index(resource_group_name,watch_text(700)) COMMENT \"accelerate the speed when select quarantined query\",\n\t\tINDEX time_index(end_time) COMMENT \"accelerate the speed when querying with active watch\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"] [user=]
[2024/05/17 10:54:14.466 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:89, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:88, RowCount:0, ArgLen:2, start time: 2024-05-17 10:54:14.465 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:54:14.466 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:89, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:88, RowCount:0, ArgLen:2, start time: 2024-05-17 10:54:14.465 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_runaway_watch (\n\t\tid BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n\t\tresource_group_name varchar(32) not null,\n\t\tstart_time datetime(6) NOT NULL,\n\t\tend_time datetime(6),\n\t\twatch bigint(10) NOT NULL,\n\t\twatch_text TEXT NOT NULL,\n\t\tsource varchar(512) NOT NULL,\n\t\taction bigint(10),\n\t\tINDEX sql_index(resource_group_name,watch_text(700)) COMMENT \"accelerate the speed when select quarantined query\",\n\t\tINDEX time_index(end_time) COMMENT \"accelerate the speed when querying with active watch\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"]
[2024/05/17 10:54:14.468 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=89] [category=ddl] [job="ID:89, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:88, RowCount:0, ArgLen:0, start time: 2024-05-17 10:54:14.465 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:54:14.470 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678752583680] ["schema version"=44]
[2024/05/17 10:54:14.470 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=43] [neededSchemaVersion=44] ["start time"=257.25µs] [gotSchemaVersion=44] [phyTblIDs="[88]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:54:14.470 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:54:14.470 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=89] [version=44]
[2024/05/17 10:54:14.472 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=44] ["take time"=2.755417ms] [job="ID:89, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:88, RowCount:0, ArgLen:2, start time: 2024-05-17 10:54:14.465 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:54:14.473 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678752583680] ["schema version"=44]
[2024/05/17 10:54:14.475 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=89] [job="ID:89, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:88, RowCount:0, ArgLen:0, start time: 2024-05-17 10:54:14.465 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:54:14.477 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678752583680] ["schema version"=44]
[2024/05/17 10:54:14.477 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=89]
[2024/05/17 10:54:14.477 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:54:14.477 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678752583680] ["schema version"=44]
[2024/05/17 10:54:14.477 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=44] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_runaway_queries (\n\t\tresource_group_name varchar(32) not null,\n\t\ttime TIMESTAMP NOT NULL,\n\t\tmatch_type varchar(12) NOT NULL,\n\t\taction varchar(12) NOT NULL,\n\t\toriginal_sql TEXT NOT NULL,\n\t\tplan_digest TEXT NOT NULL,\n\t\ttidb_server varchar(512),\n\t\tINDEX plan_index(plan_digest(64)) COMMENT \"accelerate the speed when select runaway query\",\n\t\tINDEX time_index(time) COMMENT \"accelerate the speed when querying with active watch\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"] [user=]
[2024/05/17 10:54:14.478 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:91, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:90, RowCount:0, ArgLen:2, start time: 2024-05-17 10:54:14.478 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:54:14.478 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:91, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:90, RowCount:0, ArgLen:2, start time: 2024-05-17 10:54:14.478 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_runaway_queries (\n\t\tresource_group_name varchar(32) not null,\n\t\ttime TIMESTAMP NOT NULL,\n\t\tmatch_type varchar(12) NOT NULL,\n\t\taction varchar(12) NOT NULL,\n\t\toriginal_sql TEXT NOT NULL,\n\t\tplan_digest TEXT NOT NULL,\n\t\ttidb_server varchar(512),\n\t\tINDEX plan_index(plan_digest(64)) COMMENT \"accelerate the speed when select runaway query\",\n\t\tINDEX time_index(time) COMMENT \"accelerate the speed when querying with active watch\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"]
[2024/05/17 10:54:14.481 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=91] [category=ddl] [job="ID:91, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:90, RowCount:0, ArgLen:0, start time: 2024-05-17 10:54:14.478 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:54:14.482 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678755729408] ["schema version"=45]
[2024/05/17 10:54:14.482 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=44] [neededSchemaVersion=45] ["start time"=222.833µs] [gotSchemaVersion=45] [phyTblIDs="[90]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:54:14.482 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:54:14.482 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=91] [version=45]
[2024/05/17 10:54:14.484 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=45] ["take time"=2.468708ms] [job="ID:91, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:90, RowCount:0, ArgLen:2, start time: 2024-05-17 10:54:14.478 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:54:14.485 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678755729408] ["schema version"=45]
[2024/05/17 10:54:14.487 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=91] [job="ID:91, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:90, RowCount:0, ArgLen:0, start time: 2024-05-17 10:54:14.478 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:54:14.488 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678755729408] ["schema version"=45]
[2024/05/17 10:54:14.489 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=91]
[2024/05/17 10:54:14.489 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:54:14.489 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678755729408] ["schema version"=45]
[2024/05/17 10:54:14.489 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=45] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS `mysql`.`tidb_timers` (\n\t\tID BIGINT(64) UNSIGNED NOT NULL AUTO_INCREMENT,\n\t\tNAMESPACE VARCHAR(256) NOT NULL,\n\t\tTIMER_KEY VARCHAR(256) NOT NULL,\n\t\tTIMER_DATA BLOB,\n\t\tTIMEZONE VARCHAR(64) NOT NULL,\n\t\tSCHED_POLICY_TYPE VARCHAR(32) NOT NULL,\n\t\tSCHED_POLICY_EXPR VARCHAR(256) NOT NULL,\n\t\tHOOK_CLASS VARCHAR(64) NOT NULL,\n\t\tWATERMARK TIMESTAMP DEFAULT NULL,\n\t\tENABLE TINYINT(2) NOT NULL,\n\t\tTIMER_EXT JSON NOT NULL,\n\t\tEVENT_STATUS VARCHAR(32) NOT NULL,\n\t\tEVENT_ID VARCHAR(64) NOT NULL,\n\t\tEVENT_DATA BLOB,\n\t\tEVENT_START TIMESTAMP DEFAULT NULL,\n\t\tSUMMARY_DATA BLOB,\n\t\tCREATE_TIME TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,\n\t\tUPDATE_TIME TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\tVERSION BIGINT(64) UNSIGNED NOT NULL,\n\t\tPRIMARY KEY (ID),\n\t\tUNIQUE KEY timer_key(NAMESPACE, TIMER_KEY),\n\t\tKEY hook_class(HOOK_CLASS)\n\t)"] [user=]
[2024/05/17 10:54:14.490 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:93, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:92, RowCount:0, ArgLen:2, start time: 2024-05-17 10:54:14.489 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:54:14.490 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:93, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:92, RowCount:0, ArgLen:2, start time: 2024-05-17 10:54:14.489 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS `mysql`.`tidb_timers` (\n\t\tID BIGINT(64) UNSIGNED NOT NULL AUTO_INCREMENT,\n\t\tNAMESPACE VARCHAR(256) NOT NULL,\n\t\tTIMER_KEY VARCHAR(256) NOT NULL,\n\t\tTIMER_DATA BLOB,\n\t\tTIMEZONE VARCHAR(64) NOT NULL,\n\t\tSCHED_POLICY_TYPE VARCHAR(32) NOT NULL,\n\t\tSCHED_POLICY_EXPR VARCHAR(256) NOT NULL,\n\t\tHOOK_CLASS VARCHAR(64) NOT NULL,\n\t\tWATERMARK TIMESTAMP DEFAULT NULL,\n\t\tENABLE TINYINT(2) NOT NULL,\n\t\tTIMER_EXT JSON NOT NULL,\n\t\tEVENT_STATUS VARCHAR(32) NOT NULL,\n\t\tEVENT_ID VARCHAR(64) NOT NULL,\n\t\tEVENT_DATA BLOB,\n\t\tEVENT_START TIMESTAMP DEFAULT NULL,\n\t\tSUMMARY_DATA BLOB,\n\t\tCREATE_TIME TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,\n\t\tUPDATE_TIME TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\tVERSION BIGINT(64) UNSIGNED NOT NULL,\n\t\tPRIMARY KEY (ID),\n\t\tUNIQUE KEY timer_key(NAMESPACE, TIMER_KEY),\n\t\tKEY hook_class(HOOK_CLASS)\n\t)"]
[2024/05/17 10:54:14.494 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=93] [category=ddl] [job="ID:93, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:92, RowCount:0, ArgLen:0, start time: 2024-05-17 10:54:14.489 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:54:14.496 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678759399424] ["schema version"=46]
[2024/05/17 10:54:14.496 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=45] [neededSchemaVersion=46] ["start time"=404.417µs] [gotSchemaVersion=46] [phyTblIDs="[92]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:54:14.497 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:54:14.497 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=93] [version=46]
[2024/05/17 10:54:14.498 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=46] ["take time"=2.008875ms] [job="ID:93, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:92, RowCount:0, ArgLen:2, start time: 2024-05-17 10:54:14.489 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:54:14.498 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678759399424] ["schema version"=46]
[2024/05/17 10:54:14.501 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=93] [job="ID:93, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:92, RowCount:0, ArgLen:0, start time: 2024-05-17 10:54:14.489 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:54:14.503 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678759399424] ["schema version"=46]
[2024/05/17 10:54:14.503 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=93]
[2024/05/17 10:54:14.503 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:54:14.503 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678759399424] ["schema version"=46]
[2024/05/17 10:54:14.504 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=46] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_runaway_watch_done (\n\t\tid BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n\t\trecord_id BIGINT(20) not null,\n\t\tresource_group_name varchar(32) not null,\n\t\tstart_time datetime(6) NOT NULL,\n\t\tend_time datetime(6),\n\t\twatch bigint(10) NOT NULL,\n\t\twatch_text TEXT NOT NULL,\n\t\tsource varchar(512) NOT NULL,\n\t\taction bigint(10),\n\t\tdone_time TIMESTAMP(6) NOT NULL\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"] [user=]
[2024/05/17 10:54:14.505 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:95, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:94, RowCount:0, ArgLen:2, start time: 2024-05-17 10:54:14.504 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:54:14.505 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:95, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:94, RowCount:0, ArgLen:2, start time: 2024-05-17 10:54:14.504 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_runaway_watch_done (\n\t\tid BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n\t\trecord_id BIGINT(20) not null,\n\t\tresource_group_name varchar(32) not null,\n\t\tstart_time datetime(6) NOT NULL,\n\t\tend_time datetime(6),\n\t\twatch bigint(10) NOT NULL,\n\t\twatch_text TEXT NOT NULL,\n\t\tsource varchar(512) NOT NULL,\n\t\taction bigint(10),\n\t\tdone_time TIMESTAMP(6) NOT NULL\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"]
[2024/05/17 10:54:14.507 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=95] [category=ddl] [job="ID:95, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:94, RowCount:0, ArgLen:0, start time: 2024-05-17 10:54:14.504 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:54:14.509 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678762545154] ["schema version"=47]
[2024/05/17 10:54:14.509 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=46] [neededSchemaVersion=47] ["start time"=232.042µs] [gotSchemaVersion=47] [phyTblIDs="[94]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:54:14.509 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:54:14.509 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=95] [version=47]
[2024/05/17 10:54:14.511 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=47] ["take time"=2.268583ms] [job="ID:95, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:94, RowCount:0, ArgLen:2, start time: 2024-05-17 10:54:14.504 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:54:14.511 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678762545154] ["schema version"=47]
[2024/05/17 10:54:14.513 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=95] [job="ID:95, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:94, RowCount:0, ArgLen:0, start time: 2024-05-17 10:54:14.504 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:54:14.515 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678762545154] ["schema version"=47]
[2024/05/17 10:54:14.515 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=95]
[2024/05/17 10:54:14.515 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:54:14.515 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678762545154] ["schema version"=47]
[2024/05/17 10:54:14.515 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=47] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.dist_framework_meta (\n        host VARCHAR(261) NOT NULL PRIMARY KEY,\n        role VARCHAR(64),\n        cpu_count int default 0,\n        keyspace_id bigint(8) NOT NULL DEFAULT -1\n    );"] [user=]
[2024/05/17 10:54:14.516 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:97, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:96, RowCount:0, ArgLen:2, start time: 2024-05-17 10:54:14.515 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:54:14.516 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:97, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:96, RowCount:0, ArgLen:2, start time: 2024-05-17 10:54:14.515 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.dist_framework_meta (\n        host VARCHAR(261) NOT NULL PRIMARY KEY,\n        role VARCHAR(64),\n        cpu_count int default 0,\n        keyspace_id bigint(8) NOT NULL DEFAULT -1\n    );"]
[2024/05/17 10:54:14.518 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=97] [category=ddl] [job="ID:97, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:96, RowCount:0, ArgLen:0, start time: 2024-05-17 10:54:14.515 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:54:14.519 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678765428736] ["schema version"=48]
[2024/05/17 10:54:14.519 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=47] [neededSchemaVersion=48] ["start time"=155.541µs] [gotSchemaVersion=48] [phyTblIDs="[96]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:54:14.519 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:54:14.519 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=97] [version=48]
[2024/05/17 10:54:14.521 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=48] ["take time"=2.221209ms] [job="ID:97, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:96, RowCount:0, ArgLen:2, start time: 2024-05-17 10:54:14.515 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:54:14.521 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678765428736] ["schema version"=48]
[2024/05/17 10:54:14.523 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=97] [job="ID:97, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:96, RowCount:0, ArgLen:0, start time: 2024-05-17 10:54:14.515 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:54:14.524 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678765428736] ["schema version"=48]
[2024/05/17 10:54:14.525 +08:00] [INFO] [runaway.go:158] ["preparations for the runaway manager are finished and start runaway manager loop"]
[2024/05/17 10:54:14.525 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=runawayRecordFlushLoop]
[2024/05/17 10:54:14.525 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=runawayWatchSyncLoop]
[2024/05/17 10:54:14.525 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=runawayStartLoop]
[2024/05/17 10:54:14.526 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678765428736] ["schema version"=48]
[2024/05/17 10:54:14.526 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=97]
[2024/05/17 10:54:14.526 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:54:14.526 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678765428736] ["schema version"=48]
[2024/05/17 10:54:14.526 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=48] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.request_unit_by_group (\n\t\tstart_time TIMESTAMP(6) NOT NULL,\n\t\tend_time TIMESTAMP(6) NOT NULL,\n\t\tresource_group VARCHAR(32) NOT null,\n\t\ttotal_ru bigint(64) UNSIGNED NOT NULL,\n\t\tPRIMARY KEY (start_time, end_time, resource_group),\n\t\tKEY (resource_group)\n\t);"] [user=]
[2024/05/17 10:54:14.527 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:99, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:98, RowCount:0, ArgLen:2, start time: 2024-05-17 10:54:14.526 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:54:14.527 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:99, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:98, RowCount:0, ArgLen:2, start time: 2024-05-17 10:54:14.526 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.request_unit_by_group (\n\t\tstart_time TIMESTAMP(6) NOT NULL,\n\t\tend_time TIMESTAMP(6) NOT NULL,\n\t\tresource_group VARCHAR(32) NOT null,\n\t\ttotal_ru bigint(64) UNSIGNED NOT NULL,\n\t\tPRIMARY KEY (start_time, end_time, resource_group),\n\t\tKEY (resource_group)\n\t);"]
[2024/05/17 10:54:14.530 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=99] [category=ddl] [job="ID:99, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:98, RowCount:0, ArgLen:0, start time: 2024-05-17 10:54:14.526 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:54:14.531 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678768574464] ["schema version"=49]
[2024/05/17 10:54:14.531 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=48] [neededSchemaVersion=49] ["start time"=188.084µs] [gotSchemaVersion=49] [phyTblIDs="[98]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:54:14.532 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:54:14.532 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=99] [version=49]
[2024/05/17 10:54:14.533 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=49] ["take time"=2.581333ms] [job="ID:99, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:98, RowCount:0, ArgLen:2, start time: 2024-05-17 10:54:14.526 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:54:14.534 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678768574464] ["schema version"=49]
[2024/05/17 10:54:14.536 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=99] [job="ID:99, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:98, RowCount:0, ArgLen:0, start time: 2024-05-17 10:54:14.526 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:54:14.538 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678768574464] ["schema version"=49]
[2024/05/17 10:54:14.538 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=99]
[2024/05/17 10:54:14.538 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:54:14.538 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678768574464] ["schema version"=49]
[2024/05/17 10:54:14.538 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=49] [cur_db=mysql] [sql="CREATE DATABASE IF NOT EXISTS sys;"] [user=]
[2024/05/17 10:54:14.540 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:101, Type:create schema, State:queueing, SchemaState:none, SchemaID:100, TableID:0, RowCount:0, ArgLen:1, start time: 2024-05-17 10:54:14.539 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:54:14.540 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:101, Type:create schema, State:queueing, SchemaState:none, SchemaID:100, TableID:0, RowCount:0, ArgLen:1, start time: 2024-05-17 10:54:14.539 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE DATABASE IF NOT EXISTS sys;"]
[2024/05/17 10:54:14.543 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=101] [category=ddl] [job="ID:101, Type:create schema, State:queueing, SchemaState:none, SchemaID:100, TableID:0, RowCount:0, ArgLen:0, start time: 2024-05-17 10:54:14.539 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:54:14.544 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678771982338] ["schema version"=50]
[2024/05/17 10:54:14.544 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=49] [neededSchemaVersion=50] ["start time"=50.917µs] [gotSchemaVersion=50] [phyTblIDs="[]"] [actionTypes="[]"] [diffTypes="[\"create schema\"]"]
[2024/05/17 10:54:14.545 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:54:14.545 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=101] [version=50]
[2024/05/17 10:54:14.546 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=50] ["take time"=2.158667ms] [job="ID:101, Type:create schema, State:done, SchemaState:public, SchemaID:100, TableID:0, RowCount:0, ArgLen:1, start time: 2024-05-17 10:54:14.539 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:54:14.547 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678771982338] ["schema version"=50]
[2024/05/17 10:54:14.549 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=101] [job="ID:101, Type:create schema, State:synced, SchemaState:public, SchemaID:100, TableID:0, RowCount:0, ArgLen:0, start time: 2024-05-17 10:54:14.539 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:54:14.550 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678771982338] ["schema version"=50]
[2024/05/17 10:54:14.551 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=101]
[2024/05/17 10:54:14.551 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:54:14.551 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678771982338] ["schema version"=50]
[2024/05/17 10:54:14.552 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:103, Type:create view, State:queueing, SchemaState:none, SchemaID:100, TableID:102, RowCount:0, ArgLen:3, start time: 2024-05-17 10:54:14.551 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:54:14.552 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:103, Type:create view, State:queueing, SchemaState:none, SchemaID:100, TableID:102, RowCount:0, ArgLen:3, start time: 2024-05-17 10:54:14.551 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE OR REPLACE VIEW sys.schema_unused_indexes AS\n\t\tSELECT\n\t\t\ttable_schema as object_schema,\n\t\t\ttable_name as object_name,\n\t\t\tindex_name\n\t\tFROM information_schema.cluster_tidb_index_usage\n\t\tWHERE\n\t\t\ttable_schema not in ('sys', 'mysql', 'INFORMATION_SCHEMA', 'PERFORMANCE_SCHEMA') and\n\t\t\tindex_name != 'PRIMARY'\n\t\tGROUP BY table_schema, table_name, index_name\n\t\tHAVING\n\t\t\tsum(last_access_time) is null;"]
[2024/05/17 10:54:14.555 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=103] [category=ddl] [job="ID:103, Type:create view, State:queueing, SchemaState:none, SchemaID:100, TableID:102, RowCount:0, ArgLen:0, start time: 2024-05-17 10:54:14.551 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:54:14.558 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678775390208] ["schema version"=51]
[2024/05/17 10:54:14.558 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=50] [neededSchemaVersion=51] ["start time"=187.667µs] [gotSchemaVersion=51] [phyTblIDs="[102]"] [actionTypes="[21]"] [diffTypes="[\"create view\"]"]
[2024/05/17 10:54:14.559 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:54:14.559 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=103] [version=51]
[2024/05/17 10:54:14.560 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=51] ["take time"=2.006792ms] [job="ID:103, Type:create view, State:done, SchemaState:public, SchemaID:100, TableID:102, RowCount:0, ArgLen:3, start time: 2024-05-17 10:54:14.551 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:54:14.560 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678775390208] ["schema version"=51]
[2024/05/17 10:54:14.564 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=103] [job="ID:103, Type:create view, State:synced, SchemaState:public, SchemaID:100, TableID:102, RowCount:0, ArgLen:0, start time: 2024-05-17 10:54:14.551 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:54:14.566 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678775390208] ["schema version"=51]
[2024/05/17 10:54:14.566 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=103]
[2024/05/17 10:54:14.566 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:54:14.566 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678775390208] ["schema version"=51]
[2024/05/17 10:54:14.580 +08:00] [INFO] [bootstrap.go:745] ["bootstrap successful"] ["take time"=1.059605917s]
[2024/05/17 10:54:14.582 +08:00] [INFO] [mock.go:106] ["owner manager is canceled"] [category=ddl] [ID=d4601a4d-5673-48be-8a26-69c908bbd66e] [ownerKey=/tidb/ddl/fg/owner]
[2024/05/17 10:54:14.582 +08:00] [INFO] [ddl_workerpool.go:82] ["closing workerPool"] [category=ddl]
[2024/05/17 10:54:14.582 +08:00] [INFO] [ddl_worker.go:188] ["DDL worker closed"] [worker="worker 2, tp add index"] [category=ddl] ["take time"=833ns]
[2024/05/17 10:54:14.582 +08:00] [INFO] [ddl_workerpool.go:82] ["closing workerPool"] [category=ddl]
[2024/05/17 10:54:14.582 +08:00] [INFO] [ddl_worker.go:188] ["DDL worker closed"] [worker="worker 1, tp general"] [category=ddl] ["take time"=166ns]
[2024/05/17 10:54:14.582 +08:00] [INFO] [ddl_workerpool.go:82] ["closing workerPool"] [category=ddl]
[2024/05/17 10:54:14.582 +08:00] [INFO] [delete_range.go:162] ["closing delRange"] [category=ddl]
[2024/05/17 10:54:14.582 +08:00] [INFO] [session_pool.go:99] ["closing session pool"] [category=ddl]
[2024/05/17 10:54:14.582 +08:00] [INFO] [ddl.go:951] ["DDL closed"] [category=ddl] [ID=d4601a4d-5673-48be-8a26-69c908bbd66e] ["take time"=2.361083ms]
[2024/05/17 10:54:14.582 +08:00] [INFO] [ddl.go:769] ["stop DDL"] [category=ddl] [ID=d4601a4d-5673-48be-8a26-69c908bbd66e]
[2024/05/17 10:54:14.582 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=mdlCheckLoop]
[2024/05/17 10:54:14.582 +08:00] [INFO] [domain.go:977] ["loadSchemaInLoop exited."]
[2024/05/17 10:54:14.582 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=loadSchemaInLoop]
[2024/05/17 10:54:14.582 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=runawayRecordFlushLoop]
[2024/05/17 10:54:14.582 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=runawayWatchSyncLoop]
[2024/05/17 10:54:14.582 +08:00] [INFO] [domain.go:831] ["topologySyncerKeeper exited."]
[2024/05/17 10:54:14.582 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=topologySyncerKeeper]
[2024/05/17 10:54:14.582 +08:00] [INFO] [domain.go:807] ["globalConfigSyncerKeeper exited."]
[2024/05/17 10:54:14.582 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=globalConfigSyncerKeeper]
[2024/05/17 10:54:14.582 +08:00] [INFO] [domain.go:781] ["infoSyncerKeeper exited."]
[2024/05/17 10:54:14.582 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=infoSyncerKeeper]
[2024/05/17 10:54:14.582 +08:00] [INFO] [domain.go:753] ["topNSlowQueryLoop exited."]
[2024/05/17 10:54:14.582 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=topNSlowQueryLoop]
[2024/05/17 10:54:14.582 +08:00] [INFO] [domain.go:1431] ["closestReplicaReadCheckLoop exited."]
[2024/05/17 10:54:14.582 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=closestReplicaReadCheckLoop]
[2024/05/17 10:54:14.582 +08:00] [INFO] [domain.go:1144] ["domain closed"] ["take time"=2.573875ms]
[2024/05/17 10:54:14.583 +08:00] [INFO] [tidb.go:80] ["new domain"] [store=badcdd06-f064-4f5f-8c38-b534915a5cf5] ["ddl lease"=500ms] ["stats lease"=-1ns]
[2024/05/17 10:54:14.585 +08:00] [WARN] [controller.go:198] ["[resource group controller] server does not save config, load config failed"]
[2024/05/17 10:54:14.585 +08:00] [INFO] [controller.go:185] ["load resource controller config"] [config="{\"degraded-mode-wait-duration\":\"0s\",\"ltb-max-wait-duration\":\"30s\",\"wait-retry-interval\":\"50ms\",\"wait-retry-times\":10,\"request-unit\":{\"read-base-cost\":0.125,\"read-per-batch-base-cost\":0.5,\"read-cost-per-byte\":0.0000152587890625,\"write-base-cost\":1,\"write-per-batch-base-cost\":1,\"write-cost-per-byte\":0.0009765625,\"read-cpu-ms-cost\":0.3333333333333333},\"enable-controller-trace-log\":\"false\"}"] [ru-config="{\"ReadBaseCost\":0.125,\"ReadPerBatchBaseCost\":0.5,\"ReadBytesCost\":0.0000152587890625,\"WriteBaseCost\":1,\"WritePerBatchBaseCost\":1,\"WriteBytesCost\":0.0009765625,\"CPUMsCost\":0.3333333333333333,\"LTBMaxWaitDuration\":30000000000,\"WaitRetryInterval\":50000000,\"WaitRetryTimes\":10,\"DegradedModeWaitDuration\":0}"]
[2024/05/17 10:54:14.596 +08:00] [INFO] [domain.go:385] ["full load InfoSchema success"] [currentSchemaVersion=0] [neededSchemaVersion=51] ["start time"=10.892209ms]
[2024/05/17 10:54:14.607 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678775390208] ["schema version"=51]
[2024/05/17 10:54:14.607 +08:00] [INFO] [domain.go:705] ["full load and reset schema validator"]
[2024/05/17 10:54:14.607 +08:00] [INFO] [ddl.go:818] ["start DDL"] [category=ddl] [ID=0930dc35-a02c-41bd-af55-9f193c6b493c] [runWorker=true]
[2024/05/17 10:54:14.607 +08:00] [INFO] [ddl.go:777] ["start delRangeManager OK"] [category=ddl] ["is a emulator"=true]
[2024/05/17 10:54:14.607 +08:00] [WARN] [env.go:51] ["initialize environment failed"] [category=ddl-ingest] ["storage limitation"="only support TiKV storage"] ["current storage"=unistore] ["lightning is initialized"=false]
[2024/05/17 10:54:14.607 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=loadSchemaInLoop]
[2024/05/17 10:54:14.607 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=mdlCheckLoop]
[2024/05/17 10:54:14.607 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=topNSlowQueryLoop]
[2024/05/17 10:54:14.607 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=infoSyncerKeeper]
[2024/05/17 10:54:14.607 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=globalConfigSyncerKeeper]
[2024/05/17 10:54:14.607 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=runawayStartLoop]
[2024/05/17 10:54:14.607 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=requestUnitsWriterLoop]
[2024/05/17 10:54:14.607 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=topologySyncerKeeper]
[2024/05/17 10:54:14.607 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=closestReplicaReadCheckLoop]
[2024/05/17 10:54:14.607 +08:00] [WARN] [domain.go:1396] ["pd / etcd client not provided, won't begin Advancer."]
[2024/05/17 10:54:14.631 +08:00] [INFO] [delete_range.go:172] ["start delRange emulator"] [category=ddl]
[2024/05/17 10:54:14.632 +08:00] [INFO] [job_table.go:334] ["get global state and global state change"] [category=ddl] [oldState=false] [currState=false]
[2024/05/17 10:54:14.632 +08:00] [INFO] [runaway.go:149] ["try to start runaway manager loop"]
[2024/05/17 10:54:14.632 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=requestUnitsWriterLoop]
[2024/05/17 10:54:14.641 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=globalBindHandleWorkerLoop]
[2024/05/17 10:54:14.641 +08:00] [WARN] [sysvar_cache.go:49] ["sysvar cache is empty, triggering rebuild"]
[2024/05/17 10:54:14.642 +08:00] [INFO] [sysvar.go:2748] ["set resource control"] [enable=true]
[2024/05/17 10:54:14.643 +08:00] [INFO] [controller.go:447] ["[resource group controller] create resource group cost controller"] [name=default]
[2024/05/17 10:54:14.647 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=loadPrivilegeInLoop]
[2024/05/17 10:54:14.648 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=LoadSysVarCacheLoop]
[2024/05/17 10:54:14.649 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=dumpFileGcChecker]
[2024/05/17 10:54:14.649 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=indexUsageWorker]
[2024/05/17 10:54:14.649 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=quitStatsOwner]
[2024/05/17 10:54:14.649 +08:00] [INFO] [domain.go:2340] ["start load stats sub workers"] ["worker count"=5]
[2024/05/17 10:54:14.649 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=loadSigningCertLoop]
[2024/05/17 10:54:14.649 +08:00] [INFO] [manager.go:113] ["build task executor manager"] [server-id=:4000] [total-cpu=1] [total-mem=32GiB]
[2024/05/17 10:54:14.650 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=distTaskFrameworkLoop]
[2024/05/17 10:54:14.650 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=1] [schemaVersion=51] [cur_db=test] [sql="drop table if exists t"] [user=]
[2024/05/17 10:54:14.651 +08:00] [INFO] [domain.go:2140] ["dumpFileGcChecker started"]
[2024/05/17 10:54:14.654 +08:00] [INFO] [task_manager.go:217] ["scale ttl worker"] [ttl-worker=job-manager] [ttl-worker=task-manager] [originalCount=0] [newCount=4]
[2024/05/17 10:54:14.654 +08:00] [INFO] [task_manager.go:217] ["scale ttl worker"] [ttl-worker=job-manager] [ttl-worker=task-manager] [originalCount=0] [newCount=4]
[2024/05/17 10:54:14.655 +08:00] [INFO] [manager.go:146] ["task executor manager start"] [server-id=:4000]
[2024/05/17 10:54:14.655 +08:00] [INFO] [domain.go:1595] ["dist task executor manager started"]
[2024/05/17 10:54:14.659 +08:00] [INFO] [set.go:170] ["set global var"] [conn=1] [name=tidb_enable_check_constraint] [val=1]
[2024/05/17 10:54:14.659 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=1] [schemaVersion=51] [cur_db=test] [sql="create table t (a int)"] [user=]
[2024/05/17 10:54:14.660 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:105, Type:create table, State:queueing, SchemaState:none, SchemaID:2, TableID:104, RowCount:0, ArgLen:2, start time: 2024-05-17 10:54:14.66 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:54:14.660 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:105, Type:create table, State:queueing, SchemaState:none, SchemaID:2, TableID:104, RowCount:0, ArgLen:2, start time: 2024-05-17 10:54:14.66 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="create table t (a int)"]
[2024/05/17 10:54:14.688 +08:00] [INFO] [job_table.go:334] ["get global state and global state change"] [category=ddl] [oldState=false] [currState=false]
[2024/05/17 10:54:14.688 +08:00] [INFO] [job_table.go:349] ["the owner sets owner operator value"] [category=ddl] [ownerOp=none]
[2024/05/17 10:54:14.692 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=105] [conn=1] [category=ddl] [job="ID:105, Type:create table, State:queueing, SchemaState:none, SchemaID:2, TableID:104, RowCount:0, ArgLen:0, start time: 2024-05-17 10:54:14.66 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:54:14.694 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678811303936] ["schema version"=52]
[2024/05/17 10:54:14.694 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=51] [neededSchemaVersion=52] ["start time"=100.417µs] [gotSchemaVersion=52] [phyTblIDs="[104]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:54:14.695 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=105] [version=52]
[2024/05/17 10:54:14.696 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=52] ["take time"=2.2655ms] [job="ID:105, Type:create table, State:done, SchemaState:public, SchemaID:2, TableID:104, RowCount:0, ArgLen:2, start time: 2024-05-17 10:54:14.66 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:54:14.697 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678811303936] ["schema version"=52]
[2024/05/17 10:54:14.700 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=105] [conn=1] [job="ID:105, Type:create table, State:synced, SchemaState:public, SchemaID:2, TableID:104, RowCount:0, ArgLen:0, start time: 2024-05-17 10:54:14.66 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:54:14.702 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678811303936] ["schema version"=52]
[2024/05/17 10:54:14.702 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=105]
[2024/05/17 10:54:14.702 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:54:14.702 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678811303936] ["schema version"=52]
[2024/05/17 10:54:14.704 +08:00] [INFO] [set.go:170] ["set global var"] [conn=2] [name=tidb_schema_cache_size] [val=1024]
[2024/05/17 10:54:14.705 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=1] [schemaVersion=52] [cur_db=test] [sql="alter table t add constraint c3 check ( a > 10)"] [user=]
[2024/05/17 10:54:14.707 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:106, Type:add check constraint, State:queueing, SchemaState:none, SchemaID:2, TableID:104, RowCount:0, ArgLen:1, start time: 2024-05-17 10:54:14.706 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:54:14.707 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:106, Type:add check constraint, State:queueing, SchemaState:none, SchemaID:2, TableID:104, RowCount:0, ArgLen:1, start time: 2024-05-17 10:54:14.706 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="alter table t add constraint c3 check ( a > 10)"]
[2024/05/17 10:54:14.712 +08:00] [INFO] [callback.go:96] ["on job run before"] [category=ddl] [job="ID:106, Type:add check constraint, State:queueing, SchemaState:none, SchemaID:2, TableID:104, RowCount:0, ArgLen:0, start time: 2024-05-17 10:54:14.706 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:54:14.712 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=106] [conn=1] [category=ddl] [job="ID:106, Type:add check constraint, State:queueing, SchemaState:none, SchemaID:2, TableID:104, RowCount:0, ArgLen:0, start time: 2024-05-17 10:54:14.706 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:54:14.714 +08:00] [INFO] [callback.go:111] ["on job run after"] [category=ddl] [job="ID:106, Type:add check constraint, State:running, SchemaState:write only, SchemaID:2, TableID:104, RowCount:0, ArgLen:1, start time: 2024-05-17 10:54:14.706 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:54:14.717 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678816808960] ["schema version"=53]
[2024/05/17 10:54:14.717 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=52] [neededSchemaVersion=53] ["start time"=229.25µs] [gotSchemaVersion=53] [phyTblIDs="[104]"] [actionTypes="[43]"] [diffTypes="[\"add check constraint\"]"]
[2024/05/17 10:54:14.718 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=106] [version=53]
[2024/05/17 10:54:14.718 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=53] ["take time"=2.00425ms] [job="ID:106, Type:add check constraint, State:running, SchemaState:write only, SchemaID:2, TableID:104, RowCount:0, ArgLen:1, start time: 2024-05-17 10:54:14.706 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:54:14.719 +08:00] [INFO] [callback.go:122] ["on job updated"] [category=ddl] [job="ID:106, Type:add check constraint, State:running, SchemaState:write only, SchemaID:2, TableID:104, RowCount:0, ArgLen:1, start time: 2024-05-17 10:54:14.706 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:54:14.719 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:54:14.720 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678816808960] ["schema version"=53]
[2024/05/17 10:54:14.722 +08:00] [INFO] [callback.go:96] ["on job run before"] [category=ddl] [job="ID:106, Type:add check constraint, State:running, SchemaState:write only, SchemaID:2, TableID:104, RowCount:0, ArgLen:0, start time: 2024-05-17 10:54:14.706 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:54:14.722 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=106] [conn=1] [category=ddl] [job="ID:106, Type:add check constraint, State:running, SchemaState:write only, SchemaID:2, TableID:104, RowCount:0, ArgLen:0, start time: 2024-05-17 10:54:14.706 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:54:14.723 +08:00] [INFO] [callback.go:111] ["on job run after"] [category=ddl] [job="ID:106, Type:add check constraint, State:running, SchemaState:write reorganization, SchemaID:2, TableID:104, RowCount:0, ArgLen:1, start time: 2024-05-17 10:54:14.706 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:54:14.725 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678819168256] ["schema version"=54]
[2024/05/17 10:54:14.725 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=53] [neededSchemaVersion=54] ["start time"=211.917µs] [gotSchemaVersion=54] [phyTblIDs="[104]"] [actionTypes="[43]"] [diffTypes="[\"add check constraint\"]"]
[2024/05/17 10:54:14.726 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=106] [version=54]
[2024/05/17 10:54:14.728 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=54] ["take time"=3.094375ms] [job="ID:106, Type:add check constraint, State:running, SchemaState:write reorganization, SchemaID:2, TableID:104, RowCount:0, ArgLen:1, start time: 2024-05-17 10:54:14.706 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:54:14.729 +08:00] [INFO] [callback.go:122] ["on job updated"] [category=ddl] [job="ID:106, Type:add check constraint, State:running, SchemaState:write reorganization, SchemaID:2, TableID:104, RowCount:0, ArgLen:1, start time: 2024-05-17 10:54:14.706 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:54:14.729 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:54:14.729 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678819168256] ["schema version"=54]
[2024/05/17 10:54:14.737 +08:00] [INFO] [callback.go:96] ["on job run before"] [category=ddl] [job="ID:106, Type:add check constraint, State:running, SchemaState:write reorganization, SchemaID:2, TableID:104, RowCount:0, ArgLen:0, start time: 2024-05-17 10:54:14.706 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:54:14.737 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=106] [conn=1] [category=ddl] [job="ID:106, Type:add check constraint, State:running, SchemaState:write reorganization, SchemaID:2, TableID:104, RowCount:0, ArgLen:0, start time: 2024-05-17 10:54:14.706 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:54:14.740 +08:00] [INFO] [callback.go:111] ["on job run after"] [category=ddl] [job="ID:106, Type:add check constraint, State:done, SchemaState:public, SchemaID:2, TableID:104, RowCount:0, ArgLen:1, start time: 2024-05-17 10:54:14.706 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:54:14.752 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678824148992] ["schema version"=55]
[2024/05/17 10:54:14.752 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=54] [neededSchemaVersion=55] ["start time"=2.157708ms] [gotSchemaVersion=55] [phyTblIDs="[104]"] [actionTypes="[43]"] [diffTypes="[\"add check constraint\"]"]
[2024/05/17 10:54:14.763 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=106] [version=55]
[2024/05/17 10:54:14.764 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=55] ["take time"=14.109084ms] [job="ID:106, Type:add check constraint, State:done, SchemaState:public, SchemaID:2, TableID:104, RowCount:0, ArgLen:1, start time: 2024-05-17 10:54:14.706 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:54:14.772 +08:00] [INFO] [callback.go:122] ["on job updated"] [category=ddl] [job="ID:106, Type:add check constraint, State:done, SchemaState:public, SchemaID:2, TableID:104, RowCount:0, ArgLen:1, start time: 2024-05-17 10:54:14.706 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:54:14.772 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:54:14.772 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678824148992] ["schema version"=55]
[2024/05/17 10:54:14.772 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816678824148992] ["schema version"=55]
[2024/05/17 10:54:14.772 +08:00] [WARN] [infoschema_v3.go:59] ["table not equal"] [tbl1="{\"id\":104,\"name\":{\"O\":\"t\",\"L\":\"t\"},\"charset\":\"utf8mb4\",\"collate\":\"utf8mb4_bin\",\"cols\":[{\"id\":1,\"name\":{\"O\":\"a\",\"L\":\"a\"},\"offset\":0,\"origin_default\":null,\"origin_default_bit\":null,\"default\":null,\"default_bit\":null,\"default_is_expr\":false,\"generated_expr_string\":\"\",\"generated_stored\":false,\"dependences\":null,\"type\":{\"Tp\":3,\"Flag\":0,\"Flen\":11,\"Decimal\":0,\"Charset\":\"binary\",\"Collate\":\"binary\",\"Elems\":null,\"ElemsIsBinaryLit\":null,\"Array\":false},\"state\":5,\"comment\":\"\",\"hidden\":false,\"change_state_info\":null,\"version\":2}],\"index_info\":null,\"constraint_info\":[{\"id\":1,\"constraint_name\":{\"O\":\"c3\",\"L\":\"c3\"},\"tbl_name\":{\"O\":\"t\",\"L\":\"t\"},\"constraint_cols\":[{\"O\":\"a\",\"L\":\"a\"}],\"enforced\":true,\"in_column\":false,\"expr_string\":\"`a` \\u003e 10\",\"state\":5}],\"fk_info\":null,\"state\":5,\"pk_is_handle\":false,\"is_common_handle\":false,\"common_handle_version\":0,\"comment\":\"\",\"auto_inc_id\":0,\"auto_id_cache\":0,\"auto_rand_id\":0,\"max_col_id\":1,\"max_idx_id\":0,\"max_fk_id\":0,\"max_cst_id\":1,\"update_timestamp\":449816678822576131,\"ShardRowIDBits\":0,\"max_shard_row_id_bits\":0,\"auto_random_bits\":0,\"auto_random_range_bits\":0,\"pre_split_regions\":0,\"partition\":null,\"compression\":\"\",\"view\":null,\"sequence\":null,\"Lock\":null,\"version\":5,\"tiflash_replica\":null,\"is_columnar\":false,\"temp_table_type\":0,\"cache_table_status\":0,\"policy_ref_info\":null,\"stats_options\":null,\"exchange_partition_info\":null,\"ttl_info\":null,\"revision\":3}"] [tbl2="{\"id\":104,\"name\":{\"O\":\"t\",\"L\":\"t\"},\"charset\":\"utf8mb4\",\"collate\":\"utf8mb4_bin\",\"cols\":[{\"id\":1,\"name\":{\"O\":\"a\",\"L\":\"a\"},\"offset\":0,\"origin_default\":null,\"origin_default_bit\":null,\"default\":null,\"default_bit\":null,\"default_is_expr\":false,\"generated_expr_string\":\"\",\"generated_stored\":false,\"dependences\":null,\"type\":{\"Tp\":3,\"Flag\":0,\"Flen\":11,\"Decimal\":0,\"Charset\":\"binary\",\"Collate\":\"binary\",\"Elems\":null,\"ElemsIsBinaryLit\":null,\"Array\":false},\"state\":5,\"comment\":\"\",\"hidden\":false,\"change_state_info\":null,\"version\":2}],\"index_info\":null,\"constraint_info\":[{\"id\":1,\"constraint_name\":{\"O\":\"c3\",\"L\":\"c3\"},\"tbl_name\":{\"O\":\"t\",\"L\":\"t\"},\"constraint_cols\":[{\"O\":\"a\",\"L\":\"a\"}],\"enforced\":true,\"in_column\":false,\"expr_string\":\"`a` \\u003e 10\",\"state\":3}],\"fk_info\":null,\"state\":5,\"pk_is_handle\":false,\"is_common_handle\":false,\"common_handle_version\":0,\"comment\":\"\",\"auto_inc_id\":0,\"auto_id_cache\":0,\"auto_rand_id\":0,\"max_col_id\":1,\"max_idx_id\":0,\"max_fk_id\":0,\"max_cst_id\":1,\"update_timestamp\":449816678822576131,\"ShardRowIDBits\":0,\"max_shard_row_id_bits\":0,\"auto_random_bits\":0,\"auto_random_range_bits\":0,\"pre_split_regions\":0,\"partition\":null,\"compression\":\"\",\"view\":null,\"sequence\":null,\"Lock\":null,\"version\":5,\"tiflash_replica\":null,\"is_columnar\":false,\"temp_table_type\":0,\"cache_table_status\":0,\"policy_ref_info\":null,\"stats_options\":null,\"exchange_partition_info\":null,\"ttl_info\":null,\"revision\":3}"]
panic: inconsistent infoschema [recovered]
	panic: inconsistent infoschema

goroutine 16699 [running]:
github.com/pingcap/tidb/pkg/executor.(*Compiler).Compile.func1()
	/Users/bba/pc/tidb/pkg/executor/compiler.go:57 +0x360
panic({0x104c15800?, 0x105519100?})
	/Users/bba/.gvm/gos/go1.21.0/src/runtime/panic.go:914 +0x218
github.com/pingcap/tidb/pkg/infoschema.(*InfoschemaV3).TableByName(0x1400a1e8bb0, {{0x103f0aaaf?, 0x140058b4d88?}, {0x103f0aaaf?, 0x317c70df3eab?}}, {{0x103f53deb?, 0x140058b4d68?}, {0x103f53deb?, 0x80debb455ddd5?}})
	/Users/bba/pc/tidb/pkg/infoschema/infoschema_v3.go:216 +0x128
github.com/pingcap/tidb/pkg/infoschema.(*SessionExtendedInfoSchema).TableByName(0x14006c1ea20, {{0x103f0aaaf?, 0x8000000070df3eb0?}, {0x103f0aaaf?, 0x140058b4f08?}}, {{0x103f53deb?, 0x140058b4ee8?}, {0x103f53deb?, 0x140058b4f78?}})
	/Users/bba/pc/tidb/pkg/infoschema/infoschema.go:719 +0x138
github.com/pingcap/tidb/pkg/planner/core.(*preprocessor).tableByName(0x14006b75ce0, 0x14006386820)
	/Users/bba/pc/tidb/pkg/planner/core/preprocess.go:495 +0x150
github.com/pingcap/tidb/pkg/planner/core.(*preprocessor).handleTableName(0x14006b75ce0, 0x14006386820)
	/Users/bba/pc/tidb/pkg/planner/core/preprocess.go:1550 +0x120
github.com/pingcap/tidb/pkg/planner/core.(*preprocessor).Enter(0x14006b75ce0, {0x10556ad10?, 0x14000955c20?})
	/Users/bba/pc/tidb/pkg/planner/core/preprocess.go:256 +0x2e0
github.com/pingcap/tidb/pkg/parser/ast.(*InsertStmt).Accept(0x10555be88?, {0x105540e68, 0x14006b75ce0})
	/Users/bba/pc/tidb/pkg/parser/ast/dml.go:2436 +0x40
github.com/pingcap/tidb/pkg/planner/core.Preprocess({0x10555be88, 0x14006c1e990}, {0x1055d30e0, 0x14005cb4240}, {0x10556ad10, 0x14000955c20}, {0x140058b5408, 0x2, 0x140058b5318?})
	/Users/bba/pc/tidb/pkg/planner/core/preprocess.go:138 +0x19c
github.com/pingcap/tidb/pkg/executor.(*Compiler).Compile(0x140058b56e0, {0x10555be88?, 0x14006c1e990?}, {0x1055723e0?, 0x14000955c20})
	/Users/bba/pc/tidb/pkg/executor/compiler.go:67 +0x1d8
github.com/pingcap/tidb/pkg/session.(*session).ExecuteStmt(0x14005cb4240, {0x10555be88?, 0x14006c1e990?}, {0x1055723e0, 0x14000955c20?})
	/Users/bba/pc/tidb/pkg/session/session.go:2094 +0x70c
github.com/pingcap/tidb/pkg/testkit.(*TestKit).ExecWithContext(0x14005b41900, {0x10555be88, 0x14006c1e990}, {0x103f53ddf, 0x17}, {0x0, 0x0, 0x0})
	/Users/bba/pc/tidb/pkg/testkit/testkit.go:384 +0x734
github.com/pingcap/tidb/pkg/testkit.(*TestKit).Exec(0x1025fd5cc?, {0x103f53ddf, 0x17}, {0x0, 0x0, 0x0})
	/Users/bba/pc/tidb/pkg/testkit/testkit.go:357 +0x80
github.com/pingcap/tidb/pkg/testkit.(*TestKit).ExecToErr(0x14005b41900, {0x103f53ddf?, 0x14000603860?}, {0x0?, 0x14008e63a20?, 0x103f01fe9?})
	/Users/bba/pc/tidb/pkg/testkit/testkit.go:430 +0x28
github.com/pingcap/tidb/pkg/testkit.(*TestKit).MustGetErrMsg(0x14005b41900, {0x103f53ddf?, 0x103f01fe9?}, {0x103fe8fc8, 0x2e})
	/Users/bba/pc/tidb/pkg/testkit/testkit.go:474 +0x38
github.com/pingcap/tidb/pkg/ddl_test.TestAlterAddConstraintStateChange3.func1(0x1400522e9c0)
	/Users/bba/pc/tidb/pkg/ddl/constraint_test.go:227 +0x128
github.com/pingcap/tidb/pkg/ddl/util/callback.(*TestDDLCallback).OnJobUpdated(0x140057ed030, 0x1400522e9c0)
	/Users/bba/pc/tidb/pkg/ddl/util/callback/callback.go:124 +0x144
github.com/pingcap/tidb/pkg/ddl.(*ddl).delivery2Worker.func1()
	/Users/bba/pc/tidb/pkg/ddl/job_table.go:495 +0x7cc
github.com/pingcap/tidb/pkg/util.(*WaitGroupWrapper).Run.func1()
	/Users/bba/pc/tidb/pkg/util/wait_group_wrapper.go:157 +0x58
created by github.com/pingcap/tidb/pkg/util.(*WaitGroupWrapper).Run in goroutine 15906
	/Users/bba/pc/tidb/pkg/util/wait_group_wrapper.go:155 +0x7c
[FAIL]  pkg/executor/test/ddl TestRenameTable
err=exit status 1
[2024/05/17 10:55:12.622 +08:00] [INFO] [store_cache.go:510] ["change store resolve state"] [store=1] [addr=store1] [from=unresolved] [to=resolved] [liveness-state=reachable]
[2024/05/17 10:55:12.626 +08:00] [INFO] [ddl_api.go:1141] ["Automatically convert BLOB(65535) to MEDIUMBLOB"] [category=ddl]
[2024/05/17 10:55:12.626 +08:00] [INFO] [ddl_api.go:1141] ["Automatically convert BLOB(65535) to MEDIUMBLOB"] [category=ddl]
[2024/05/17 10:55:12.628 +08:00] [INFO] [ddl_api.go:1141] ["Automatically convert BLOB(65535) to MEDIUMBLOB"] [category=ddl]
[2024/05/17 10:55:12.628 +08:00] [INFO] [ddl_api.go:1141] ["Automatically convert BLOB(65535) to MEDIUMBLOB"] [category=ddl]
[2024/05/17 10:55:12.629 +08:00] [INFO] [ddl_api.go:1141] ["Automatically convert BLOB(65535) to MEDIUMBLOB"] [category=ddl]
[2024/05/17 10:55:12.635 +08:00] [INFO] [tidb.go:80] ["new domain"] [store=2397f6c2-5c1c-4a59-aac0-edf587a40c2c] ["ddl lease"=500ms] ["stats lease"=-1ns]
[2024/05/17 10:55:12.640 +08:00] [WARN] [runaway.go:462] ["cannot setup up resource controller, not using tikv storage"]
[2024/05/17 10:55:12.640 +08:00] [WARN] [domain.go:302] ["failed to get schema version"] [error="There is no Write MVCC info for the schema version"] [errorVerbose="There is no Write MVCC info for the schema version\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).getTimestampForSchemaVersionWithNonEmptyDiff\n\t/Users/bba/pc/tidb/pkg/domain/domain.go:405\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).loadInfoSchema\n\t/Users/bba/pc/tidb/pkg/domain/domain.go:300\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).Reload\n\t/Users/bba/pc/tidb/pkg/domain/domain.go:676\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).Init\n\t/Users/bba/pc/tidb/pkg/domain/domain.go:1330\ngithub.com/pingcap/tidb/pkg/session.(*domainMap).Get.func1\n\t/Users/bba/pc/tidb/pkg/session/tidb.go:92\ngithub.com/pingcap/tidb/pkg/util.RunWithRetry\n\t/Users/bba/pc/tidb/pkg/util/misc.go:70\ngithub.com/pingcap/tidb/pkg/session.(*domainMap).Get\n\t/Users/bba/pc/tidb/pkg/session/tidb.go:79\ngithub.com/pingcap/tidb/pkg/session.createSessionWithOpt\n\t/Users/bba/pc/tidb/pkg/session/session.go:3634\ngithub.com/pingcap/tidb/pkg/session.createSession\n\t/Users/bba/pc/tidb/pkg/session/session.go:3626\ngithub.com/pingcap/tidb/pkg/session.runInBootstrapSession\n\t/Users/bba/pc/tidb/pkg/session/session.go:3576\ngithub.com/pingcap/tidb/pkg/session.bootstrapSessionImpl\n\t/Users/bba/pc/tidb/pkg/session/session.go:3352\ngithub.com/pingcap/tidb/pkg/session.BootstrapSession\n\t/Users/bba/pc/tidb/pkg/session/session.go:3318\ngithub.com/pingcap/tidb/pkg/testkit.bootstrap\n\t/Users/bba/pc/tidb/pkg/testkit/mockstore.go:294\ngithub.com/pingcap/tidb/pkg/testkit.CreateMockStoreAndDomain\n\t/Users/bba/pc/tidb/pkg/testkit/mockstore.go:265\ngithub.com/pingcap/tidb/pkg/executor/test/ddl.TestRenameTable\n\t/Users/bba/pc/tidb/pkg/executor/test/ddl/ddl_test.go:903\ntesting.tRunner\n\t/Users/bba/.gvm/gos/go1.21.0/src/testing/testing.go:1595\nruntime.goexit\n\t/Users/bba/.gvm/gos/go1.21.0/src/runtime/asm_arm64.s:1197"] [version=0]
[2024/05/17 10:55:12.646 +08:00] [INFO] [domain.go:385] ["full load InfoSchema success"] [currentSchemaVersion=0] [neededSchemaVersion=0] ["start time"=6.337792ms]
[2024/05/17 10:55:12.647 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=0] ["schema version"=0]
[2024/05/17 10:55:12.647 +08:00] [INFO] [domain.go:705] ["full load and reset schema validator"]
[2024/05/17 10:55:12.647 +08:00] [INFO] [ddl.go:818] ["start DDL"] [category=ddl] [ID=77fc3c98-d190-4b46-a66d-d777ba014a1c] [runWorker=true]
[2024/05/17 10:55:12.647 +08:00] [INFO] [ddl.go:777] ["start delRangeManager OK"] [category=ddl] ["is a emulator"=true]
[2024/05/17 10:55:12.647 +08:00] [WARN] [env.go:51] ["initialize environment failed"] [category=ddl-ingest] ["storage limitation"="only support TiKV storage"] ["current storage"=unistore] ["lightning is initialized"=false]
[2024/05/17 10:55:12.647 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=loadSchemaInLoop]
[2024/05/17 10:55:12.647 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=mdlCheckLoop]
[2024/05/17 10:55:12.647 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=topNSlowQueryLoop]
[2024/05/17 10:55:12.647 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=infoSyncerKeeper]
[2024/05/17 10:55:12.647 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=globalConfigSyncerKeeper]
[2024/05/17 10:55:12.647 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=runawayStartLoop]
[2024/05/17 10:55:12.647 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=requestUnitsWriterLoop]
[2024/05/17 10:55:12.647 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=topologySyncerKeeper]
[2024/05/17 10:55:12.647 +08:00] [WARN] [domain.go:1396] ["pd / etcd client not provided, won't begin Advancer."]
[2024/05/17 10:55:12.647 +08:00] [INFO] [delete_range.go:172] ["start delRange emulator"] [category=ddl]
[2024/05/17 10:55:12.647 +08:00] [INFO] [job_table.go:334] ["get global state and global state change"] [category=ddl] [oldState=false] [currState=false]
[2024/05/17 10:55:12.648 +08:00] [INFO] [runaway.go:149] ["try to start runaway manager loop"]
[2024/05/17 10:55:12.648 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=requestUnitsWriterLoop]
[2024/05/17 10:55:12.652 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=0] [cur_db=mysql] [sql="CREATE DATABASE IF NOT EXISTS test"] [user=]
[2024/05/17 10:55:12.656 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:3, Type:create schema, State:queueing, SchemaState:none, SchemaID:2, TableID:0, RowCount:0, ArgLen:1, start time: 2024-05-17 10:55:12.654 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:55:12.656 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:3, Type:create schema, State:queueing, SchemaState:none, SchemaID:2, TableID:0, RowCount:0, ArgLen:1, start time: 2024-05-17 10:55:12.654 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE DATABASE IF NOT EXISTS test"]
[2024/05/17 10:55:12.698 +08:00] [INFO] [job_table.go:334] ["get global state and global state change"] [category=ddl] [oldState=false] [currState=false]
[2024/05/17 10:55:12.698 +08:00] [INFO] [job_table.go:349] ["the owner sets owner operator value"] [category=ddl] [ownerOp=none]
[2024/05/17 10:55:12.705 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=3] [category=ddl] [job="ID:3, Type:create schema, State:queueing, SchemaState:none, SchemaID:2, TableID:0, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:12.654 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:12.713 +08:00] [INFO] [domain.go:385] ["full load InfoSchema success"] [currentSchemaVersion=0] [neededSchemaVersion=1] ["start time"=6.979166ms]
[2024/05/17 10:55:12.714 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816694018801664] ["schema version"=1]
[2024/05/17 10:55:12.714 +08:00] [INFO] [domain.go:705] ["full load and reset schema validator"]
[2024/05/17 10:55:12.714 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:55:12.714 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=3] [version=1]
[2024/05/17 10:55:12.714 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=1] ["take time"=8.683041ms] [job="ID:3, Type:create schema, State:done, SchemaState:public, SchemaID:2, TableID:0, RowCount:0, ArgLen:1, start time: 2024-05-17 10:55:12.654 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:12.717 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=3] [job="ID:3, Type:create schema, State:synced, SchemaState:public, SchemaID:2, TableID:0, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:12.654 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:12.720 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=3]
[2024/05/17 10:55:12.721 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:55:12.721 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816694018801664] ["schema version"=1]
[2024/05/17 10:55:12.722 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=1] [cur_db=mysql] [sql="CREATE DATABASE IF NOT EXISTS `mysql`"] [user=]
[2024/05/17 10:55:12.722 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=1] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.user (\n\t\tHost\t\t\t\t\tCHAR(255),\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tauthentication_string\tTEXT,\n\t\tplugin\t\t\t\t\tCHAR(64),\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tProcess_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_db_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tSuper_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_user_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_slave_priv\t    \tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_client_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_role_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_role_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAccount_locked\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShutdown_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReload_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tFILE_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tConfig_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_Tablespace_Priv  ENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPassword_reuse_history  smallint unsigned DEFAULT NULL,\n\t\tPassword_reuse_time     smallint unsigned DEFAULT NULL,\n\t\tUser_attributes\t\t\tjson,\n\t\tToken_issuer\t\t\tVARCHAR(255),\n\t\tPassword_expired\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPassword_last_changed\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP(),\n\t\tPassword_lifetime\t\tSMALLINT UNSIGNED DEFAULT NULL,\n\t\tPRIMARY KEY (Host, User));"] [user=]
[2024/05/17 10:55:12.725 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:5, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:4, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:12.723 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:55:12.725 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:5, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:4, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:12.723 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.user (\n\t\tHost\t\t\t\t\tCHAR(255),\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tauthentication_string\tTEXT,\n\t\tplugin\t\t\t\t\tCHAR(64),\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tProcess_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_db_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tSuper_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_user_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_slave_priv\t    \tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_client_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_role_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_role_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAccount_locked\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShutdown_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReload_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tFILE_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tConfig_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_Tablespace_Priv  ENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPassword_reuse_history  smallint unsigned DEFAULT NULL,\n\t\tPassword_reuse_time     smallint unsigned DEFAULT NULL,\n\t\tUser_attributes\t\t\tjson,\n\t\tToken_issuer\t\t\tVARCHAR(255),\n\t\tPassword_expired\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPassword_last_changed\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP(),\n\t\tPassword_lifetime\t\tSMALLINT UNSIGNED DEFAULT NULL,\n\t\tPRIMARY KEY (Host, User));"]
[2024/05/17 10:55:12.728 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=5] [category=ddl] [job="ID:5, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:4, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:12.723 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:12.733 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816694025617408] ["schema version"=2]
[2024/05/17 10:55:12.733 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=1] [neededSchemaVersion=2] ["start time"=777.25µs] [gotSchemaVersion=2] [phyTblIDs="[4]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:55:12.734 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:55:12.734 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=5] [version=2]
[2024/05/17 10:55:12.735 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=2] ["take time"=2.476916ms] [job="ID:5, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:4, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:12.723 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:12.739 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=5] [job="ID:5, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:4, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:12.723 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:12.742 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=5]
[2024/05/17 10:55:12.743 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:55:12.743 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816694025617408] ["schema version"=2]
[2024/05/17 10:55:12.743 +08:00] [INFO] [ddl_api.go:1141] ["Automatically convert BLOB(65535) to MEDIUMBLOB"] [category=ddl]
[2024/05/17 10:55:12.744 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=2] [cur_db=mysql] [sql="CREATE TABLE  IF NOT EXISTS mysql.password_history (\n         Host char(255)  NOT NULL DEFAULT '',\n         User char(32)  NOT NULL DEFAULT '',\n         Password_timestamp timestamp(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6),\n         Password text,\n         PRIMARY KEY (Host,User,Password_timestamp )\n        ) COMMENT='Password history for user accounts' "] [user=]
[2024/05/17 10:55:12.746 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:7, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:6, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:12.745 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:55:12.746 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:7, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:6, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:12.745 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE  IF NOT EXISTS mysql.password_history (\n         Host char(255)  NOT NULL DEFAULT '',\n         User char(32)  NOT NULL DEFAULT '',\n         Password_timestamp timestamp(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6),\n         Password text,\n         PRIMARY KEY (Host,User,Password_timestamp )\n        ) COMMENT='Password history for user accounts' "]
[2024/05/17 10:55:12.752 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=7] [category=ddl] [job="ID:7, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:6, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:12.745 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:12.754 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816694031122434] ["schema version"=3]
[2024/05/17 10:55:12.754 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=2] [neededSchemaVersion=3] ["start time"=185.875µs] [gotSchemaVersion=3] [phyTblIDs="[6]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:55:12.754 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:55:12.754 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=7] [version=3]
[2024/05/17 10:55:12.756 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=3] ["take time"=2.401ms] [job="ID:7, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:6, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:12.745 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:12.766 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=7] [job="ID:7, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:6, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:12.745 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:12.770 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=7]
[2024/05/17 10:55:12.770 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:55:12.770 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816694031122434] ["schema version"=3]
[2024/05/17 10:55:12.770 +08:00] [INFO] [ddl_api.go:1141] ["Automatically convert BLOB(65535) to MEDIUMBLOB"] [category=ddl]
[2024/05/17 10:55:12.770 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=3] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.global_priv (Host CHAR(255) NOT NULL DEFAULT '',User CHAR(80) NOT NULL DEFAULT '',Priv LONGTEXT NOT NULL DEFAULT '',PRIMARY KEY (Host, User))"] [user=]
[2024/05/17 10:55:12.775 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:9, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:8, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:12.773 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:55:12.775 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:9, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:8, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:12.773 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.global_priv (Host CHAR(255) NOT NULL DEFAULT '',User CHAR(80) NOT NULL DEFAULT '',Priv LONGTEXT NOT NULL DEFAULT '',PRIMARY KEY (Host, User))"]
[2024/05/17 10:55:12.780 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=9] [category=ddl] [job="ID:9, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:8, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:12.773 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:12.782 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816694038462470] ["schema version"=4]
[2024/05/17 10:55:12.782 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=3] [neededSchemaVersion=4] ["start time"=183.791µs] [gotSchemaVersion=4] [phyTblIDs="[8]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:55:12.782 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:55:12.783 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=9] [version=4]
[2024/05/17 10:55:12.784 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=4] ["take time"=2.069791ms] [job="ID:9, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:8, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:12.773 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:12.788 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=9] [job="ID:9, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:8, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:12.773 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:12.791 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=9]
[2024/05/17 10:55:12.791 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:55:12.791 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816694038462470] ["schema version"=4]
[2024/05/17 10:55:12.791 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=4] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.db (\n\t\tHost\t\t\t\t\tCHAR(255),\n\t\tDB\t\t\t\t\t\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv \t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (Host, DB, User));"] [user=]
[2024/05/17 10:55:12.793 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:11, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:10, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:12.792 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:55:12.793 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:11, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:10, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:12.792 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.db (\n\t\tHost\t\t\t\t\tCHAR(255),\n\t\tDB\t\t\t\t\t\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv \t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (Host, DB, User));"]
[2024/05/17 10:55:12.796 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=11] [category=ddl] [job="ID:11, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:10, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:12.792 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:12.800 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816694043181056] ["schema version"=5]
[2024/05/17 10:55:12.800 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=4] [neededSchemaVersion=5] ["start time"=503.792µs] [gotSchemaVersion=5] [phyTblIDs="[10]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:55:12.801 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:55:12.801 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=11] [version=5]
[2024/05/17 10:55:12.802 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=5] ["take time"=2.493ms] [job="ID:11, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:10, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:12.792 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:12.807 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=11] [job="ID:11, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:10, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:12.792 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:12.809 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=11]
[2024/05/17 10:55:12.809 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:55:12.809 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816694043181056] ["schema version"=5]
[2024/05/17 10:55:12.810 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=5] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tables_priv (\n\t\tHost\t\tCHAR(255),\n\t\tDB\t\t\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tGrantor\t\tCHAR(77),\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tTable_priv\tSET('Select','Insert','Update','Delete','Create','Drop','Grant','Index','Alter','Create View','Show View','Trigger','References'),\n\t\tColumn_priv\tSET('Select','Insert','Update','References'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name));"] [user=]
[2024/05/17 10:55:12.811 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:13, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:12, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:12.811 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:55:12.811 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:13, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:12, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:12.811 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tables_priv (\n\t\tHost\t\tCHAR(255),\n\t\tDB\t\t\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tGrantor\t\tCHAR(77),\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tTable_priv\tSET('Select','Insert','Update','Delete','Create','Drop','Grant','Index','Alter','Create View','Show View','Trigger','References'),\n\t\tColumn_priv\tSET('Select','Insert','Update','References'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name));"]
[2024/05/17 10:55:12.816 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=13] [category=ddl] [job="ID:13, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:12, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:12.811 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:12.819 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816694048161792] ["schema version"=6]
[2024/05/17 10:55:12.819 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=5] [neededSchemaVersion=6] ["start time"=266.166µs] [gotSchemaVersion=6] [phyTblIDs="[12]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:55:12.819 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:55:12.819 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=13] [version=6]
[2024/05/17 10:55:12.820 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=6] ["take time"=2.004333ms] [job="ID:13, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:12, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:12.811 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:12.825 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=13] [job="ID:13, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:12, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:12.811 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:12.829 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=13]
[2024/05/17 10:55:12.829 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:55:12.829 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816694048161792] ["schema version"=6]
[2024/05/17 10:55:12.829 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=6] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.columns_priv(\n\t\tHost\t\tCHAR(255),\n\t\tDB\t\t\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tColumn_name\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tColumn_priv\tSET('Select','Insert','Update','References'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name, Column_name));"] [user=]
[2024/05/17 10:55:12.830 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:15, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:14, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:12.829 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:55:12.830 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:15, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:14, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:12.829 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.columns_priv(\n\t\tHost\t\tCHAR(255),\n\t\tDB\t\t\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tColumn_name\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tColumn_priv\tSET('Select','Insert','Update','References'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name, Column_name));"]
[2024/05/17 10:55:12.834 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=15] [category=ddl] [job="ID:15, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:14, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:12.829 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:12.835 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816694052618240] ["schema version"=7]
[2024/05/17 10:55:12.835 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=6] [neededSchemaVersion=7] ["start time"=228.041µs] [gotSchemaVersion=7] [phyTblIDs="[14]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:55:12.836 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:55:12.836 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=15] [version=7]
[2024/05/17 10:55:12.837 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=7] ["take time"=2.4545ms] [job="ID:15, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:14, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:12.829 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:12.842 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=15] [job="ID:15, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:14, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:12.829 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:12.845 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=15]
[2024/05/17 10:55:12.845 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:55:12.845 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816694052618240] ["schema version"=7]
[2024/05/17 10:55:12.845 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=7] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.GLOBAL_VARIABLES(\n\t\tVARIABLE_NAME  VARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE VARCHAR(16383) DEFAULT NULL);"] [user=]
[2024/05/17 10:55:12.847 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:17, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:16, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:12.846 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:55:12.847 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:17, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:16, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:12.846 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.GLOBAL_VARIABLES(\n\t\tVARIABLE_NAME  VARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE VARCHAR(16383) DEFAULT NULL);"]
[2024/05/17 10:55:12.852 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=17] [category=ddl] [job="ID:17, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:16, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:12.846 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:12.853 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816694057336833] ["schema version"=8]
[2024/05/17 10:55:12.853 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=7] [neededSchemaVersion=8] ["start time"=151.417µs] [gotSchemaVersion=8] [phyTblIDs="[16]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:55:12.854 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:55:12.854 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=17] [version=8]
[2024/05/17 10:55:12.855 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=8] ["take time"=2.008667ms] [job="ID:17, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:16, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:12.846 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:12.859 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=17] [job="ID:17, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:16, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:12.846 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:12.861 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=17]
[2024/05/17 10:55:12.861 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:55:12.861 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816694057336833] ["schema version"=8]
[2024/05/17 10:55:12.861 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=8] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb(\n\t\tVARIABLE_NAME  \tVARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE \tVARCHAR(1024) DEFAULT NULL,\n\t\tCOMMENT \t\tVARCHAR(1024));"] [user=]
[2024/05/17 10:55:12.862 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:19, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:18, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:12.862 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:55:12.862 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:19, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:18, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:12.862 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb(\n\t\tVARIABLE_NAME  \tVARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE \tVARCHAR(1024) DEFAULT NULL,\n\t\tCOMMENT \t\tVARCHAR(1024));"]
[2024/05/17 10:55:12.866 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=19] [category=ddl] [job="ID:19, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:18, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:12.862 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:12.870 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816694061531136] ["schema version"=9]
[2024/05/17 10:55:12.870 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=8] [neededSchemaVersion=9] ["start time"=175.625µs] [gotSchemaVersion=9] [phyTblIDs="[18]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:55:12.870 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:55:12.870 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=19] [version=9]
[2024/05/17 10:55:12.871 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=9] ["take time"=2.013584ms] [job="ID:19, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:18, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:12.862 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:12.876 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=19] [job="ID:19, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:18, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:12.862 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:12.877 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=19]
[2024/05/17 10:55:12.877 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:55:12.877 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816694061531136] ["schema version"=9]
[2024/05/17 10:55:12.878 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=9] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.help_topic (\n  \t\thelp_topic_id \t\tINT(10) UNSIGNED NOT NULL,\n  \t\tname \t\t\t\tCHAR(64) NOT NULL,\n  \t\thelp_category_id \tSMALLINT(5) UNSIGNED NOT NULL,\n  \t\tdescription \t\tTEXT NOT NULL,\n  \t\texample \t\t\tTEXT NOT NULL,\n  \t\turl \t\t\t\tTEXT NOT NULL,\n  \t\tPRIMARY KEY (help_topic_id) clustered,\n  \t\tUNIQUE KEY name (name)\n\t\t) ENGINE=InnoDB DEFAULT CHARSET=utf8 STATS_PERSISTENT=0 COMMENT='help topics';"] [user=]
[2024/05/17 10:55:12.881 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:21, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:20, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:12.879 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:55:12.881 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:21, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:20, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:12.879 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.help_topic (\n  \t\thelp_topic_id \t\tINT(10) UNSIGNED NOT NULL,\n  \t\tname \t\t\t\tCHAR(64) NOT NULL,\n  \t\thelp_category_id \tSMALLINT(5) UNSIGNED NOT NULL,\n  \t\tdescription \t\tTEXT NOT NULL,\n  \t\texample \t\t\tTEXT NOT NULL,\n  \t\turl \t\t\t\tTEXT NOT NULL,\n  \t\tPRIMARY KEY (help_topic_id) clustered,\n  \t\tUNIQUE KEY name (name)\n\t\t) ENGINE=InnoDB DEFAULT CHARSET=utf8 STATS_PERSISTENT=0 COMMENT='help topics';"]
[2024/05/17 10:55:12.886 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=21] [category=ddl] [job="ID:21, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:20, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:12.879 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:12.887 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816694066249728] ["schema version"=10]
[2024/05/17 10:55:12.887 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=9] [neededSchemaVersion=10] ["start time"=198.916µs] [gotSchemaVersion=10] [phyTblIDs="[20]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:55:12.888 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:55:12.888 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=21] [version=10]
[2024/05/17 10:55:12.889 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=10] ["take time"=2.409959ms] [job="ID:21, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:20, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:12.879 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:12.892 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=21] [job="ID:21, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:20, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:12.879 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:12.893 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=21]
[2024/05/17 10:55:12.893 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:55:12.894 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816694066249728] ["schema version"=10]
[2024/05/17 10:55:12.894 +08:00] [INFO] [ddl_api.go:1141] ["Automatically convert BLOB(65535) to MEDIUMBLOB"] [category=ddl]
[2024/05/17 10:55:12.894 +08:00] [INFO] [ddl_api.go:1141] ["Automatically convert BLOB(65535) to MEDIUMBLOB"] [category=ddl]
[2024/05/17 10:55:12.894 +08:00] [INFO] [ddl_api.go:1141] ["Automatically convert BLOB(65535) to MEDIUMBLOB"] [category=ddl]
[2024/05/17 10:55:12.894 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=10] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_meta (\n\t\tversion \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\ttable_id \t\tBIGINT(64) NOT NULL,\n\t\tmodify_count\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcount \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tsnapshot        BIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tINDEX idx_ver(version),\n\t\tUNIQUE INDEX tbl(table_id)\n\t);"] [user=]
[2024/05/17 10:55:12.895 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:23, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:22, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:12.895 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:55:12.895 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:23, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:22, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:12.895 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_meta (\n\t\tversion \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\ttable_id \t\tBIGINT(64) NOT NULL,\n\t\tmodify_count\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcount \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tsnapshot        BIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tINDEX idx_ver(version),\n\t\tUNIQUE INDEX tbl(table_id)\n\t);"]
[2024/05/17 10:55:12.898 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=23] [category=ddl] [job="ID:23, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:22, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:12.895 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:12.902 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816694069395458] ["schema version"=11]
[2024/05/17 10:55:12.902 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=10] [neededSchemaVersion=11] ["start time"=232.375µs] [gotSchemaVersion=11] [phyTblIDs="[22]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:55:12.903 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816694069395458] ["schema version"=11]
[2024/05/17 10:55:12.903 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:55:12.903 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=23] [version=11]
[2024/05/17 10:55:12.905 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=11] ["take time"=4.050417ms] [job="ID:23, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:22, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:12.895 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:12.910 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=23] [job="ID:23, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:22, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:12.895 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:12.912 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=23]
[2024/05/17 10:55:12.912 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:55:12.912 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816694069395458] ["schema version"=11]
[2024/05/17 10:55:12.913 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=11] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_histograms (\n\t\ttable_id \t\t\tBIGINT(64) NOT NULL,\n\t\tis_index \t\t\tTINYINT(2) NOT NULL,\n\t\thist_id \t\t\tBIGINT(64) NOT NULL,\n\t\tdistinct_count \t\tBIGINT(64) NOT NULL,\n\t\tnull_count \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\ttot_col_size \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tmodify_count \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tversion \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tcm_sketch \t\t\tBLOB(6291456),\n\t\tstats_ver \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tflag \t\t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcorrelation \t\tDOUBLE NOT NULL DEFAULT 0,\n\t\tlast_analyze_pos \tLONGBLOB DEFAULT NULL,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id)\n\t);"] [user=]
[2024/05/17 10:55:12.913 +08:00] [INFO] [ddl_api.go:1141] ["Automatically convert BLOB(6291456) to MEDIUMBLOB"] [category=ddl]
[2024/05/17 10:55:12.916 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:25, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:24, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:12.914 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:55:12.916 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:25, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:24, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:12.914 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_histograms (\n\t\ttable_id \t\t\tBIGINT(64) NOT NULL,\n\t\tis_index \t\t\tTINYINT(2) NOT NULL,\n\t\thist_id \t\t\tBIGINT(64) NOT NULL,\n\t\tdistinct_count \t\tBIGINT(64) NOT NULL,\n\t\tnull_count \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\ttot_col_size \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tmodify_count \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tversion \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tcm_sketch \t\t\tBLOB(6291456),\n\t\tstats_ver \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tflag \t\t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcorrelation \t\tDOUBLE NOT NULL DEFAULT 0,\n\t\tlast_analyze_pos \tLONGBLOB DEFAULT NULL,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id)\n\t);"]
[2024/05/17 10:55:12.920 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=25] [category=ddl] [job="ID:25, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:24, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:12.914 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:12.922 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816694075162626] ["schema version"=12]
[2024/05/17 10:55:12.922 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=11] [neededSchemaVersion=12] ["start time"=434.916µs] [gotSchemaVersion=12] [phyTblIDs="[24]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:55:12.923 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:55:12.923 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=25] [version=12]
[2024/05/17 10:55:12.924 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=12] ["take time"=2.872542ms] [job="ID:25, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:24, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:12.914 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:12.929 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=25] [job="ID:25, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:24, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:12.914 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:12.930 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=25]
[2024/05/17 10:55:12.930 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:55:12.930 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816694075162626] ["schema version"=12]
[2024/05/17 10:55:12.931 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=12] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_buckets (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tbucket_id \tBIGINT(64) NOT NULL,\n\t\tcount \t\tBIGINT(64) NOT NULL,\n\t\trepeats \tBIGINT(64) NOT NULL,\n\t\tupper_bound LONGBLOB NOT NULL,\n\t\tlower_bound LONGBLOB ,\n\t\tndv         BIGINT NOT NULL DEFAULT 0,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id, bucket_id)\n\t);"] [user=]
[2024/05/17 10:55:12.932 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:27, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:26, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:12.931 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:55:12.932 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:27, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:26, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:12.931 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_buckets (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tbucket_id \tBIGINT(64) NOT NULL,\n\t\tcount \t\tBIGINT(64) NOT NULL,\n\t\trepeats \tBIGINT(64) NOT NULL,\n\t\tupper_bound LONGBLOB NOT NULL,\n\t\tlower_bound LONGBLOB ,\n\t\tndv         BIGINT NOT NULL DEFAULT 0,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id, bucket_id)\n\t);"]
[2024/05/17 10:55:12.936 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=27] [category=ddl] [job="ID:27, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:26, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:12.931 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:12.938 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816694079619072] ["schema version"=13]
[2024/05/17 10:55:12.938 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=12] [neededSchemaVersion=13] ["start time"=276.542µs] [gotSchemaVersion=13] [phyTblIDs="[26]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:55:12.939 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:55:12.939 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=27] [version=13]
[2024/05/17 10:55:12.940 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=13] ["take time"=2.668083ms] [job="ID:27, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:26, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:12.931 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:12.946 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=27] [job="ID:27, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:26, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:12.931 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:12.948 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=27]
[2024/05/17 10:55:12.948 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:55:12.948 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816694079619072] ["schema version"=13]
[2024/05/17 10:55:12.949 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=13] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_index (job_id, element_id)\n\t);"] [user=]
[2024/05/17 10:55:12.950 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:29, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:28, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:12.949 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:55:12.950 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:29, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:28, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:12.949 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_index (job_id, element_id)\n\t);"]
[2024/05/17 10:55:12.954 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=29] [category=ddl] [job="ID:29, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:28, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:12.949 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:12.956 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816694084075520] ["schema version"=14]
[2024/05/17 10:55:12.956 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=13] [neededSchemaVersion=14] ["start time"=260.791µs] [gotSchemaVersion=14] [phyTblIDs="[28]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:55:12.956 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:55:12.956 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=29] [version=14]
[2024/05/17 10:55:12.957 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=14] ["take time"=2.249209ms] [job="ID:29, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:28, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:12.949 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:12.961 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=29] [job="ID:29, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:28, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:12.949 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:12.962 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=29]
[2024/05/17 10:55:12.962 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:55:12.962 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816694084075520] ["schema version"=14]
[2024/05/17 10:55:12.963 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=14] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range_done (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_done_index (job_id, element_id)\n\t);"] [user=]
[2024/05/17 10:55:12.963 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:31, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:30, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:12.963 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:55:12.964 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:31, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:30, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:12.963 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range_done (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_done_index (job_id, element_id)\n\t);"]
[2024/05/17 10:55:12.967 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=31] [category=ddl] [job="ID:31, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:30, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:12.963 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:12.968 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816694087483392] ["schema version"=15]
[2024/05/17 10:55:12.968 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=14] [neededSchemaVersion=15] ["start time"=224.666µs] [gotSchemaVersion=15] [phyTblIDs="[30]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:55:12.969 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:55:12.969 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=31] [version=15]
[2024/05/17 10:55:12.970 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=15] ["take time"=2.222334ms] [job="ID:31, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:30, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:12.963 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:12.978 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=31] [job="ID:31, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:30, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:12.963 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:12.982 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=31]
[2024/05/17 10:55:12.982 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:55:12.982 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816694087483392] ["schema version"=15]
[2024/05/17 10:55:12.982 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=15] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_feedback (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tfeedback \tBLOB NOT NULL,\n\t\tINDEX hist(table_id, is_index, hist_id)\n\t);"] [user=]
[2024/05/17 10:55:12.986 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:33, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:32, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:12.984 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:55:12.986 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:33, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:32, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:12.984 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_feedback (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tfeedback \tBLOB NOT NULL,\n\t\tINDEX hist(table_id, is_index, hist_id)\n\t);"]
[2024/05/17 10:55:12.995 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=33] [category=ddl] [job="ID:33, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:32, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:12.984 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:12.999 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816694095085568] ["schema version"=16]
[2024/05/17 10:55:13.000 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=15] [neededSchemaVersion=16] ["start time"=307.334µs] [gotSchemaVersion=16] [phyTblIDs="[32]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:55:13.003 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:55:13.003 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=33] [version=16]
[2024/05/17 10:55:13.004 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=16] ["take time"=4.831875ms] [job="ID:33, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:32, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:12.984 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:13.008 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=33] [job="ID:33, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:32, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:12.984 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:13.009 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=33]
[2024/05/17 10:55:13.009 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:55:13.009 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816694095085568] ["schema version"=16]
[2024/05/17 10:55:13.010 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=16] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.role_edges (\n\t\tFROM_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tFROM_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tWITH_ADMIN_OPTION \tENUM('N','Y') CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (FROM_HOST,FROM_USER,TO_HOST,TO_USER)\n\t);"] [user=]
[2024/05/17 10:55:13.011 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:35, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:34, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:13.01 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:55:13.011 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:35, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:34, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:13.01 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.role_edges (\n\t\tFROM_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tFROM_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tWITH_ADMIN_OPTION \tENUM('N','Y') CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (FROM_HOST,FROM_USER,TO_HOST,TO_USER)\n\t);"]
[2024/05/17 10:55:13.014 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=35] [category=ddl] [job="ID:35, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:34, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:13.01 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:13.016 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816694100066304] ["schema version"=17]
[2024/05/17 10:55:13.016 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=16] [neededSchemaVersion=17] ["start time"=234µs] [gotSchemaVersion=17] [phyTblIDs="[34]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:55:13.018 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:55:13.018 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=35] [version=17]
[2024/05/17 10:55:13.021 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=17] ["take time"=4.671709ms] [job="ID:35, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:34, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:13.01 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:13.025 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=35] [job="ID:35, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:34, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:13.01 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:13.027 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=35]
[2024/05/17 10:55:13.027 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:55:13.027 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816694100066304] ["schema version"=17]
[2024/05/17 10:55:13.027 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=17] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.default_roles (\n\t\tHOST \t\t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tUSER \t\t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tDEFAULT_ROLE_HOST \tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '%',\n\t\tDEFAULT_ROLE_USER \tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tPRIMARY KEY (HOST,USER,DEFAULT_ROLE_HOST,DEFAULT_ROLE_USER)\n\t)"] [user=]
[2024/05/17 10:55:13.030 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:37, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:36, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:13.029 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:55:13.030 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:37, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:36, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:13.029 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.default_roles (\n\t\tHOST \t\t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tUSER \t\t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tDEFAULT_ROLE_HOST \tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '%',\n\t\tDEFAULT_ROLE_USER \tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tPRIMARY KEY (HOST,USER,DEFAULT_ROLE_HOST,DEFAULT_ROLE_USER)\n\t)"]
[2024/05/17 10:55:13.033 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=37] [category=ddl] [job="ID:37, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:36, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:13.029 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:13.035 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816694105047040] ["schema version"=18]
[2024/05/17 10:55:13.035 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=17] [neededSchemaVersion=18] ["start time"=193.041µs] [gotSchemaVersion=18] [phyTblIDs="[36]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:55:13.036 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:55:13.036 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=37] [version=18]
[2024/05/17 10:55:13.037 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=18] ["take time"=2.020292ms] [job="ID:37, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:36, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:13.029 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:13.041 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=37] [job="ID:37, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:36, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:13.029 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:13.043 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=37]
[2024/05/17 10:55:13.043 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:55:13.043 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816694105047040] ["schema version"=18]
[2024/05/17 10:55:13.043 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=18] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.bind_info (\n\t\toriginal_sql TEXT NOT NULL,\n\t\tbind_sql TEXT NOT NULL,\n\t\tdefault_db TEXT NOT NULL,\n\t\tstatus TEXT NOT NULL,\n\t\tcreate_time TIMESTAMP(3) NOT NULL,\n\t\tupdate_time TIMESTAMP(3) NOT NULL,\n\t\tcharset TEXT NOT NULL,\n\t\tcollation TEXT NOT NULL,\n\t\tsource VARCHAR(10) NOT NULL DEFAULT 'unknown',\n\t\tsql_digest varchar(64),\n\t\tplan_digest varchar(64),\n\t\tINDEX sql_index(original_sql(700),default_db(68)) COMMENT \"accelerate the speed when add global binding query\",\n\t\tINDEX time_index(update_time) COMMENT \"accelerate the speed when querying with last update time\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"] [user=]
[2024/05/17 10:55:13.046 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:39, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:38, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:13.044 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:55:13.046 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:39, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:38, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:13.044 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.bind_info (\n\t\toriginal_sql TEXT NOT NULL,\n\t\tbind_sql TEXT NOT NULL,\n\t\tdefault_db TEXT NOT NULL,\n\t\tstatus TEXT NOT NULL,\n\t\tcreate_time TIMESTAMP(3) NOT NULL,\n\t\tupdate_time TIMESTAMP(3) NOT NULL,\n\t\tcharset TEXT NOT NULL,\n\t\tcollation TEXT NOT NULL,\n\t\tsource VARCHAR(10) NOT NULL DEFAULT 'unknown',\n\t\tsql_digest varchar(64),\n\t\tplan_digest varchar(64),\n\t\tINDEX sql_index(original_sql(700),default_db(68)) COMMENT \"accelerate the speed when add global binding query\",\n\t\tINDEX time_index(update_time) COMMENT \"accelerate the speed when querying with last update time\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"]
[2024/05/17 10:55:13.050 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=39] [category=ddl] [job="ID:39, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:38, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:13.044 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:13.053 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816694109503488] ["schema version"=19]
[2024/05/17 10:55:13.053 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=18] [neededSchemaVersion=19] ["start time"=329.334µs] [gotSchemaVersion=19] [phyTblIDs="[38]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:55:13.053 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:55:13.053 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=39] [version=19]
[2024/05/17 10:55:13.054 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=19] ["take time"=2.105667ms] [job="ID:39, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:38, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:13.044 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:13.059 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=39] [job="ID:39, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:38, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:13.044 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:13.062 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=39]
[2024/05/17 10:55:13.062 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:55:13.062 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816694109503488] ["schema version"=19]
[2024/05/17 10:55:13.062 +08:00] [INFO] [ddl_api.go:1141] ["Automatically convert BLOB(65535) to MEDIUMBLOB"] [category=ddl]
[2024/05/17 10:55:13.062 +08:00] [INFO] [ddl_api.go:1141] ["Automatically convert BLOB(65535) to MEDIUMBLOB"] [category=ddl]
[2024/05/17 10:55:13.062 +08:00] [INFO] [ddl_api.go:1141] ["Automatically convert BLOB(65535) to MEDIUMBLOB"] [category=ddl]
[2024/05/17 10:55:13.062 +08:00] [INFO] [ddl_api.go:1141] ["Automatically convert BLOB(65535) to MEDIUMBLOB"] [category=ddl]
[2024/05/17 10:55:13.062 +08:00] [INFO] [ddl_api.go:1141] ["Automatically convert BLOB(65535) to MEDIUMBLOB"] [category=ddl]
[2024/05/17 10:55:13.062 +08:00] [INFO] [ddl_api.go:1141] ["Automatically convert BLOB(65535) to MEDIUMBLOB"] [category=ddl]
[2024/05/17 10:55:13.063 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=19] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_top_n (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tvalue \t\tLONGBLOB,\n\t\tcount \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\tINDEX tbl(table_id, is_index, hist_id)\n\t);"] [user=]
[2024/05/17 10:55:13.065 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:41, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:40, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:13.064 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:55:13.065 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:41, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:40, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:13.064 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_top_n (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tvalue \t\tLONGBLOB,\n\t\tcount \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\tINDEX tbl(table_id, is_index, hist_id)\n\t);"]
[2024/05/17 10:55:13.070 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=41] [category=ddl] [job="ID:41, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:40, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:13.064 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:13.072 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816694114484224] ["schema version"=20]
[2024/05/17 10:55:13.072 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=19] [neededSchemaVersion=20] ["start time"=204.917µs] [gotSchemaVersion=20] [phyTblIDs="[40]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:55:13.072 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:55:13.072 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=41] [version=20]
[2024/05/17 10:55:13.073 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=20] ["take time"=2.168583ms] [job="ID:41, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:40, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:13.064 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:13.078 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=41] [job="ID:41, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:40, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:13.064 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:13.080 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=41]
[2024/05/17 10:55:13.080 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:55:13.080 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816694114484224] ["schema version"=20]
[2024/05/17 10:55:13.080 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=20] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.expr_pushdown_blacklist (\n\t\tname \t\tCHAR(100) NOT NULL,\n\t\tstore_type \tCHAR(100) NOT NULL DEFAULT 'tikv,tiflash,tidb',\n\t\treason \t\tVARCHAR(200)\n\t);"] [user=]
[2024/05/17 10:55:13.081 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:43, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:42, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:13.081 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:55:13.081 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:43, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:42, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:13.081 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.expr_pushdown_blacklist (\n\t\tname \t\tCHAR(100) NOT NULL,\n\t\tstore_type \tCHAR(100) NOT NULL DEFAULT 'tikv,tiflash,tidb',\n\t\treason \t\tVARCHAR(200)\n\t);"]
[2024/05/17 10:55:13.085 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=43] [category=ddl] [job="ID:43, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:42, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:13.081 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:13.086 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816694118416384] ["schema version"=21]
[2024/05/17 10:55:13.086 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=20] [neededSchemaVersion=21] ["start time"=135.667µs] [gotSchemaVersion=21] [phyTblIDs="[42]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:55:13.086 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:55:13.086 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=43] [version=21]
[2024/05/17 10:55:13.088 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=21] ["take time"=2.694292ms] [job="ID:43, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:42, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:13.081 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:13.091 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=43] [job="ID:43, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:42, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:13.081 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:13.093 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=43]
[2024/05/17 10:55:13.093 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:55:13.093 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816694118416384] ["schema version"=21]
[2024/05/17 10:55:13.093 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=21] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.opt_rule_blacklist (\n\t\tname \tCHAR(100) NOT NULL\n\t);"] [user=]
[2024/05/17 10:55:13.095 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:45, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:44, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:13.094 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:55:13.095 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:45, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:44, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:13.094 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.opt_rule_blacklist (\n\t\tname \tCHAR(100) NOT NULL\n\t);"]
[2024/05/17 10:55:13.099 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=45] [category=ddl] [job="ID:45, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:44, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:13.094 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:13.101 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816694122348544] ["schema version"=22]
[2024/05/17 10:55:13.101 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=21] [neededSchemaVersion=22] ["start time"=118.875µs] [gotSchemaVersion=22] [phyTblIDs="[44]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:55:13.101 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:55:13.102 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=45] [version=22]
[2024/05/17 10:55:13.103 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=22] ["take time"=2.613625ms] [job="ID:45, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:44, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:13.094 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:13.107 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=45] [job="ID:45, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:44, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:13.094 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:13.109 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=45]
[2024/05/17 10:55:13.109 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:55:13.109 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816694122348544] ["schema version"=22]
[2024/05/17 10:55:13.109 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=22] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_extended (\n\t\tname varchar(32) NOT NULL,\n\t\ttype tinyint(4) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tcolumn_ids varchar(32) NOT NULL,\n\t\tstats blob DEFAULT NULL,\n\t\tversion bigint(64) unsigned NOT NULL,\n\t\tstatus tinyint(4) NOT NULL,\n\t\tPRIMARY KEY(name, table_id),\n\t\tKEY idx_1 (table_id, status, version),\n\t\tKEY idx_2 (status, version)\n\t);"] [user=]
[2024/05/17 10:55:13.111 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:47, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:46, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:13.11 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:55:13.111 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:47, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:46, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:13.11 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_extended (\n\t\tname varchar(32) NOT NULL,\n\t\ttype tinyint(4) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tcolumn_ids varchar(32) NOT NULL,\n\t\tstats blob DEFAULT NULL,\n\t\tversion bigint(64) unsigned NOT NULL,\n\t\tstatus tinyint(4) NOT NULL,\n\t\tPRIMARY KEY(name, table_id),\n\t\tKEY idx_1 (table_id, status, version),\n\t\tKEY idx_2 (status, version)\n\t);"]
[2024/05/17 10:55:13.114 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=47] [category=ddl] [job="ID:47, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:46, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:13.11 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:13.116 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816694126018563] ["schema version"=23]
[2024/05/17 10:55:13.116 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=22] [neededSchemaVersion=23] ["start time"=249.542µs] [gotSchemaVersion=23] [phyTblIDs="[46]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:55:13.116 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:55:13.116 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=47] [version=23]
[2024/05/17 10:55:13.118 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=23] ["take time"=2.678834ms] [job="ID:47, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:46, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:13.11 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:13.122 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=47] [job="ID:47, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:46, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:13.11 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:13.125 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=47]
[2024/05/17 10:55:13.125 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:55:13.125 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816694126018563] ["schema version"=23]
[2024/05/17 10:55:13.125 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=23] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_fm_sketch (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tvalue \t\tLONGBLOB,\n\t\tINDEX tbl(table_id, is_index, hist_id)\n\t);"] [user=]
[2024/05/17 10:55:13.127 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:49, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:48, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:13.126 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:55:13.127 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:49, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:48, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:13.126 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_fm_sketch (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tvalue \t\tLONGBLOB,\n\t\tINDEX tbl(table_id, is_index, hist_id)\n\t);"]
[2024/05/17 10:55:13.130 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=49] [category=ddl] [job="ID:49, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:48, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:13.126 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:13.132 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816694130212867] ["schema version"=24]
[2024/05/17 10:55:13.132 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=23] [neededSchemaVersion=24] ["start time"=185.542µs] [gotSchemaVersion=24] [phyTblIDs="[48]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:55:13.132 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:55:13.132 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=49] [version=24]
[2024/05/17 10:55:13.133 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=24] ["take time"=2.004958ms] [job="ID:49, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:48, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:13.126 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:13.138 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=49] [job="ID:49, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:48, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:13.126 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:13.141 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=49]
[2024/05/17 10:55:13.141 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:55:13.141 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816694130212867] ["schema version"=24]
[2024/05/17 10:55:13.141 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=24] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.global_grants (\n\t\tUSER char(32) NOT NULL DEFAULT '',\n\t\tHOST char(255) NOT NULL DEFAULT '',\n\t\tPRIV char(32) NOT NULL DEFAULT '',\n\t\tWITH_GRANT_OPTION enum('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (USER,HOST,PRIV)\n\t);"] [user=]
[2024/05/17 10:55:13.143 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:51, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:50, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:13.142 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:55:13.143 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:51, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:50, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:13.142 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.global_grants (\n\t\tUSER char(32) NOT NULL DEFAULT '',\n\t\tHOST char(255) NOT NULL DEFAULT '',\n\t\tPRIV char(32) NOT NULL DEFAULT '',\n\t\tWITH_GRANT_OPTION enum('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (USER,HOST,PRIV)\n\t);"]
[2024/05/17 10:55:13.146 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=51] [category=ddl] [job="ID:51, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:50, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:13.142 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:13.150 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816694134931456] ["schema version"=25]
[2024/05/17 10:55:13.150 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=24] [neededSchemaVersion=25] ["start time"=205.5µs] [gotSchemaVersion=25] [phyTblIDs="[50]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:55:13.151 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816694134931456] ["schema version"=25]
[2024/05/17 10:55:13.151 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:55:13.151 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=51] [version=25]
[2024/05/17 10:55:13.152 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=25] ["take time"=2.29625ms] [job="ID:51, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:50, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:13.142 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:13.156 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=51] [job="ID:51, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:50, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:13.142 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:13.158 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=51]
[2024/05/17 10:55:13.158 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:55:13.158 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816694134931456] ["schema version"=25]
[2024/05/17 10:55:13.158 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=25] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.capture_plan_baselines_blacklist (\n\t\tid bigint(64) auto_increment,\n\t\tfilter_type varchar(32) NOT NULL COMMENT \"type of the filter, only db, table and frequency supported now\",\n\t\tfilter_value varchar(32) NOT NULL,\n\t\tkey idx(filter_type),\n\t\tprimary key(id)\n\t);"] [user=]
[2024/05/17 10:55:13.159 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:53, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:52, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:13.159 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:55:13.159 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:53, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:52, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:13.159 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.capture_plan_baselines_blacklist (\n\t\tid bigint(64) auto_increment,\n\t\tfilter_type varchar(32) NOT NULL COMMENT \"type of the filter, only db, table and frequency supported now\",\n\t\tfilter_value varchar(32) NOT NULL,\n\t\tkey idx(filter_type),\n\t\tprimary key(id)\n\t);"]
[2024/05/17 10:55:13.162 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=53] [category=ddl] [job="ID:53, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:52, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:13.159 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:13.163 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816694138601474] ["schema version"=26]
[2024/05/17 10:55:13.163 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=25] [neededSchemaVersion=26] ["start time"=162.542µs] [gotSchemaVersion=26] [phyTblIDs="[52]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:55:13.164 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:55:13.164 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=53] [version=26]
[2024/05/17 10:55:13.165 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=26] ["take time"=2.003292ms] [job="ID:53, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:52, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:13.159 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:13.169 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=53] [job="ID:53, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:52, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:13.159 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:13.170 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=53]
[2024/05/17 10:55:13.170 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:55:13.171 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816694138601474] ["schema version"=26]
[2024/05/17 10:55:13.171 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=26] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.column_stats_usage (\n\t\ttable_id BIGINT(64) NOT NULL,\n\t\tcolumn_id BIGINT(64) NOT NULL,\n\t\tlast_used_at TIMESTAMP,\n\t\tlast_analyzed_at TIMESTAMP,\n\t\tPRIMARY KEY (table_id, column_id) CLUSTERED\n\t);"] [user=]
[2024/05/17 10:55:13.172 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:55, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:54, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:13.171 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:55:13.172 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:55, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:54, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:13.171 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.column_stats_usage (\n\t\ttable_id BIGINT(64) NOT NULL,\n\t\tcolumn_id BIGINT(64) NOT NULL,\n\t\tlast_used_at TIMESTAMP,\n\t\tlast_analyzed_at TIMESTAMP,\n\t\tPRIMARY KEY (table_id, column_id) CLUSTERED\n\t);"]
[2024/05/17 10:55:13.175 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=55] [category=ddl] [job="ID:55, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:54, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:13.171 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:13.177 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816694142009344] ["schema version"=27]
[2024/05/17 10:55:13.177 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=26] [neededSchemaVersion=27] ["start time"=221.125µs] [gotSchemaVersion=27] [phyTblIDs="[54]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:55:13.178 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:55:13.178 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=55] [version=27]
[2024/05/17 10:55:13.179 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=27] ["take time"=2.011959ms] [job="ID:55, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:54, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:13.171 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:13.183 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=55] [job="ID:55, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:54, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:13.171 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:13.184 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=55]
[2024/05/17 10:55:13.184 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:55:13.184 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816694142009344] ["schema version"=27]
[2024/05/17 10:55:13.185 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=27] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.table_cache_meta (\n\t\ttid bigint(11) NOT NULL DEFAULT 0,\n\t\tlock_type enum('NONE','READ', 'INTEND', 'WRITE') NOT NULL DEFAULT 'NONE',\n\t\tlease bigint(20) NOT NULL DEFAULT 0,\n\t\toldReadLease bigint(20) NOT NULL DEFAULT 0,\n\t\tPRIMARY KEY (tid)\n\t);"] [user=]
[2024/05/17 10:55:13.186 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:57, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:56, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:13.185 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:55:13.186 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:57, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:56, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:13.185 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.table_cache_meta (\n\t\ttid bigint(11) NOT NULL DEFAULT 0,\n\t\tlock_type enum('NONE','READ', 'INTEND', 'WRITE') NOT NULL DEFAULT 'NONE',\n\t\tlease bigint(20) NOT NULL DEFAULT 0,\n\t\toldReadLease bigint(20) NOT NULL DEFAULT 0,\n\t\tPRIMARY KEY (tid)\n\t);"]
[2024/05/17 10:55:13.188 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=57] [category=ddl] [job="ID:57, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:56, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:13.185 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:13.189 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816694145417222] ["schema version"=28]
[2024/05/17 10:55:13.189 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=27] [neededSchemaVersion=28] ["start time"=151.75µs] [gotSchemaVersion=28] [phyTblIDs="[56]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:55:13.190 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:55:13.190 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=57] [version=28]
[2024/05/17 10:55:13.192 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=28] ["take time"=2.754125ms] [job="ID:57, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:56, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:13.185 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:13.195 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=57] [job="ID:57, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:56, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:13.185 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:13.197 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=57]
[2024/05/17 10:55:13.197 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:55:13.197 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816694145417222] ["schema version"=28]
[2024/05/17 10:55:13.198 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=28] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.analyze_options (\n\t\ttable_id BIGINT(64) NOT NULL,\n\t\tsample_num BIGINT(64) NOT NULL DEFAULT 0,\n\t\tsample_rate DOUBLE NOT NULL DEFAULT -1,\n\t\tbuckets BIGINT(64) NOT NULL DEFAULT 0,\n\t\ttopn BIGINT(64) NOT NULL DEFAULT -1,\n\t\tcolumn_choice enum('DEFAULT','ALL','PREDICATE','LIST') NOT NULL DEFAULT 'DEFAULT',\n\t\tcolumn_ids TEXT(19372),\n\t\tPRIMARY KEY (table_id) CLUSTERED\n\t);"] [user=]
[2024/05/17 10:55:13.198 +08:00] [INFO] [ddl_api.go:1141] ["Automatically convert BLOB(19372) to MEDIUMBLOB"] [category=ddl]
[2024/05/17 10:55:13.200 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:59, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:58, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:13.199 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:55:13.200 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:59, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:58, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:13.199 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.analyze_options (\n\t\ttable_id BIGINT(64) NOT NULL,\n\t\tsample_num BIGINT(64) NOT NULL DEFAULT 0,\n\t\tsample_rate DOUBLE NOT NULL DEFAULT -1,\n\t\tbuckets BIGINT(64) NOT NULL DEFAULT 0,\n\t\ttopn BIGINT(64) NOT NULL DEFAULT -1,\n\t\tcolumn_choice enum('DEFAULT','ALL','PREDICATE','LIST') NOT NULL DEFAULT 'DEFAULT',\n\t\tcolumn_ids TEXT(19372),\n\t\tPRIMARY KEY (table_id) CLUSTERED\n\t);"]
[2024/05/17 10:55:13.207 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=59] [category=ddl] [job="ID:59, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:58, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:13.199 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:13.210 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816694150922240] ["schema version"=29]
[2024/05/17 10:55:13.210 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=28] [neededSchemaVersion=29] ["start time"=267.75µs] [gotSchemaVersion=29] [phyTblIDs="[58]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:55:13.211 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:55:13.211 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=59] [version=29]
[2024/05/17 10:55:13.213 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=29] ["take time"=3.742667ms] [job="ID:59, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:58, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:13.199 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:13.223 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=59] [job="ID:59, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:58, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:13.199 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:13.226 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=59]
[2024/05/17 10:55:13.226 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:55:13.226 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816694150922240] ["schema version"=29]
[2024/05/17 10:55:13.226 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=29] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_history (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tstats_data longblob NOT NULL,\n\t\tseq_no bigint(64) NOT NULL comment 'sequence number of the gzipped data slice',\n\t\tversion bigint(64) NOT NULL comment 'stats version which corresponding to stats:version in EXPLAIN',\n\t\tcreate_time datetime(6) NOT NULL,\n\t\tUNIQUE KEY table_version_seq (table_id, version, seq_no),\n\t\tKEY table_create_time (table_id, create_time, seq_no),\n    \tKEY idx_create_time (create_time)\n\t);"] [user=]
[2024/05/17 10:55:13.229 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:61, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:60, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:13.227 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:55:13.229 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:61, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:60, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:13.227 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_history (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tstats_data longblob NOT NULL,\n\t\tseq_no bigint(64) NOT NULL comment 'sequence number of the gzipped data slice',\n\t\tversion bigint(64) NOT NULL comment 'stats version which corresponding to stats:version in EXPLAIN',\n\t\tcreate_time datetime(6) NOT NULL,\n\t\tUNIQUE KEY table_version_seq (table_id, version, seq_no),\n\t\tKEY table_create_time (table_id, create_time, seq_no),\n    \tKEY idx_create_time (create_time)\n\t);"]
[2024/05/17 10:55:13.232 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=61] [category=ddl] [job="ID:61, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:60, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:13.227 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:13.234 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816694156951554] ["schema version"=30]
[2024/05/17 10:55:13.234 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=29] [neededSchemaVersion=30] ["start time"=239.375µs] [gotSchemaVersion=30] [phyTblIDs="[60]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:55:13.234 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:55:13.234 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=61] [version=30]
[2024/05/17 10:55:13.235 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=30] ["take time"=2.014083ms] [job="ID:61, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:60, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:13.227 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:13.239 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=61] [job="ID:61, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:60, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:13.227 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:13.240 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=61]
[2024/05/17 10:55:13.240 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:55:13.240 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816694156951554] ["schema version"=30]
[2024/05/17 10:55:13.240 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=30] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_meta_history (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tmodify_count bigint(64) NOT NULL,\n\t\tcount bigint(64) NOT NULL,\n\t\tversion bigint(64) NOT NULL comment 'stats version which corresponding to stats:version in EXPLAIN',\n    \tsource varchar(40) NOT NULL,\n\t\tcreate_time datetime(6) NOT NULL,\n\t\tUNIQUE KEY table_version (table_id, version),\n\t\tKEY table_create_time (table_id, create_time),\n    \tKEY idx_create_time (create_time)\n\t);"] [user=]
[2024/05/17 10:55:13.242 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:63, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:62, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:13.241 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:55:13.242 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:63, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:62, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:13.241 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_meta_history (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tmodify_count bigint(64) NOT NULL,\n\t\tcount bigint(64) NOT NULL,\n\t\tversion bigint(64) NOT NULL comment 'stats version which corresponding to stats:version in EXPLAIN',\n    \tsource varchar(40) NOT NULL,\n\t\tcreate_time datetime(6) NOT NULL,\n\t\tUNIQUE KEY table_version (table_id, version),\n\t\tKEY table_create_time (table_id, create_time),\n    \tKEY idx_create_time (create_time)\n\t);"]
[2024/05/17 10:55:13.245 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=63] [category=ddl] [job="ID:63, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:62, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:13.241 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:13.247 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816694160359425] ["schema version"=31]
[2024/05/17 10:55:13.247 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=30] [neededSchemaVersion=31] ["start time"=253.25µs] [gotSchemaVersion=31] [phyTblIDs="[62]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:55:13.247 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:55:13.247 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=63] [version=31]
[2024/05/17 10:55:13.248 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=31] ["take time"=2.018833ms] [job="ID:63, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:62, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:13.241 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:13.252 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=63] [job="ID:63, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:62, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:13.241 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:13.254 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=63]
[2024/05/17 10:55:13.254 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:55:13.254 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816694160359425] ["schema version"=31]
[2024/05/17 10:55:13.254 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=31] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.analyze_jobs (\n\t\tid BIGINT(64) UNSIGNED NOT NULL AUTO_INCREMENT,\n\t\tupdate_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\ttable_schema CHAR(64) NOT NULL DEFAULT '',\n\t\ttable_name CHAR(64) NOT NULL DEFAULT '',\n\t\tpartition_name CHAR(64) NOT NULL DEFAULT '',\n\t\tjob_info TEXT NOT NULL,\n\t\tprocessed_rows BIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tstart_time TIMESTAMP,\n\t\tend_time TIMESTAMP,\n\t\tstate ENUM('pending', 'running', 'finished', 'failed') NOT NULL,\n\t\tfail_reason TEXT,\n\t\tinstance VARCHAR(512) NOT NULL comment 'address of the TiDB instance executing the analyze job',\n\t\tprocess_id BIGINT(64) UNSIGNED comment 'ID of the process executing the analyze job',\n\t\tPRIMARY KEY (id),\n\t\tKEY (update_time)\n\t);"] [user=]
[2024/05/17 10:55:13.256 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:65, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:64, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:13.255 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:55:13.256 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:65, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:64, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:13.255 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.analyze_jobs (\n\t\tid BIGINT(64) UNSIGNED NOT NULL AUTO_INCREMENT,\n\t\tupdate_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\ttable_schema CHAR(64) NOT NULL DEFAULT '',\n\t\ttable_name CHAR(64) NOT NULL DEFAULT '',\n\t\tpartition_name CHAR(64) NOT NULL DEFAULT '',\n\t\tjob_info TEXT NOT NULL,\n\t\tprocessed_rows BIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tstart_time TIMESTAMP,\n\t\tend_time TIMESTAMP,\n\t\tstate ENUM('pending', 'running', 'finished', 'failed') NOT NULL,\n\t\tfail_reason TEXT,\n\t\tinstance VARCHAR(512) NOT NULL comment 'address of the TiDB instance executing the analyze job',\n\t\tprocess_id BIGINT(64) UNSIGNED comment 'ID of the process executing the analyze job',\n\t\tPRIMARY KEY (id),\n\t\tKEY (update_time)\n\t);"]
[2024/05/17 10:55:13.259 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=65] [category=ddl] [job="ID:65, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:64, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:13.255 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:13.261 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816694164029440] ["schema version"=32]
[2024/05/17 10:55:13.261 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=31] [neededSchemaVersion=32] ["start time"=294.416µs] [gotSchemaVersion=32] [phyTblIDs="[64]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:55:13.261 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:55:13.261 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=65] [version=32]
[2024/05/17 10:55:13.263 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=32] ["take time"=2.593292ms] [job="ID:65, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:64, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:13.255 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:13.266 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=65] [job="ID:65, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:64, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:13.255 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:13.268 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=65]
[2024/05/17 10:55:13.268 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:55:13.268 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816694164029440] ["schema version"=32]
[2024/05/17 10:55:13.268 +08:00] [INFO] [ddl_api.go:1141] ["Automatically convert BLOB(65535) to MEDIUMBLOB"] [category=ddl]
[2024/05/17 10:55:13.268 +08:00] [INFO] [ddl_api.go:1141] ["Automatically convert BLOB(65535) to MEDIUMBLOB"] [category=ddl]
[2024/05/17 10:55:13.268 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=32] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.advisory_locks (\n\t\tlock_name VARCHAR(64) NOT NULL PRIMARY KEY\n\t);"] [user=]
[2024/05/17 10:55:13.269 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:67, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:66, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:13.269 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:55:13.269 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:67, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:66, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:13.269 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.advisory_locks (\n\t\tlock_name VARCHAR(64) NOT NULL PRIMARY KEY\n\t);"]
[2024/05/17 10:55:13.272 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=67] [category=ddl] [job="ID:67, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:66, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:13.269 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:13.273 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816694167437313] ["schema version"=33]
[2024/05/17 10:55:13.273 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=32] [neededSchemaVersion=33] ["start time"=124.291µs] [gotSchemaVersion=33] [phyTblIDs="[66]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:55:13.274 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:55:13.274 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=67] [version=33]
[2024/05/17 10:55:13.275 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=33] ["take time"=2.317ms] [job="ID:67, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:66, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:13.269 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:13.278 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=67] [job="ID:67, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:66, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:13.269 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:13.279 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=67]
[2024/05/17 10:55:13.279 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:55:13.279 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816694167437313] ["schema version"=33]
[2024/05/17 10:55:13.282 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:69, Type:create view, State:queueing, SchemaState:none, SchemaID:1, TableID:68, RowCount:0, ArgLen:3, start time: 2024-05-17 10:55:13.281 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:55:13.282 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:69, Type:create view, State:queueing, SchemaState:none, SchemaID:1, TableID:68, RowCount:0, ArgLen:3, start time: 2024-05-17 10:55:13.281 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE OR REPLACE VIEW mysql.tidb_mdl_view as (\n\t\tSELECT tidb_mdl_info.job_id,\n\t\t\tJSON_UNQUOTE(JSON_EXTRACT(cast(cast(job_meta as char) as json), \"$.schema_name\")) as db_name,\n\t\t\tJSON_UNQUOTE(JSON_EXTRACT(cast(cast(job_meta as char) as json), \"$.table_name\")) as table_name,\n\t\t\tJSON_UNQUOTE(JSON_EXTRACT(cast(cast(job_meta as char) as json), \"$.query\")) as query,\n\t\t\tsession_id,\n\t\t\tcluster_tidb_trx.start_time,\n\t\t\ttidb_decode_sql_digests(all_sql_digests, 4096) AS SQL_DIGESTS\n\t\tFROM mysql.tidb_ddl_job,\n\t\t\tmysql.tidb_mdl_info,\n\t\t\tinformation_schema.cluster_tidb_trx\n\t\tWHERE tidb_ddl_job.job_id=tidb_mdl_info.job_id\n\t\t\tAND CONCAT(',', tidb_mdl_info.table_ids, ',') REGEXP CONCAT(',(', REPLACE(cluster_tidb_trx.related_table_ids, ',', '|'), '),') != 0\n\t);"]
[2024/05/17 10:55:13.285 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=69] [category=ddl] [job="ID:69, Type:create view, State:queueing, SchemaState:none, SchemaID:1, TableID:68, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:13.281 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:13.286 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816694170845184] ["schema version"=34]
[2024/05/17 10:55:13.286 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=33] [neededSchemaVersion=34] ["start time"=190.5µs] [gotSchemaVersion=34] [phyTblIDs="[68]"] [actionTypes="[21]"] [diffTypes="[\"create view\"]"]
[2024/05/17 10:55:13.287 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:55:13.287 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=69] [version=34]
[2024/05/17 10:55:13.288 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=34] ["take time"=2.004625ms] [job="ID:69, Type:create view, State:done, SchemaState:public, SchemaID:1, TableID:68, RowCount:0, ArgLen:3, start time: 2024-05-17 10:55:13.281 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:13.291 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=69] [job="ID:69, Type:create view, State:synced, SchemaState:public, SchemaID:1, TableID:68, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:13.281 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:13.293 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=69]
[2024/05/17 10:55:13.293 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:55:13.293 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816694170845184] ["schema version"=34]
[2024/05/17 10:55:13.293 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=34] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.plan_replayer_status (\n\t\tsql_digest VARCHAR(128),\n\t\tplan_digest VARCHAR(128),\n\t\torigin_sql TEXT,\n\t\ttoken VARCHAR(128),\n\t\tupdate_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\tfail_reason TEXT,\n\t\tinstance VARCHAR(512) NOT NULL comment 'address of the TiDB instance executing the plan replayer job');"] [user=]
[2024/05/17 10:55:13.295 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:71, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:70, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:13.294 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:55:13.295 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:71, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:70, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:13.294 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.plan_replayer_status (\n\t\tsql_digest VARCHAR(128),\n\t\tplan_digest VARCHAR(128),\n\t\torigin_sql TEXT,\n\t\ttoken VARCHAR(128),\n\t\tupdate_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\tfail_reason TEXT,\n\t\tinstance VARCHAR(512) NOT NULL comment 'address of the TiDB instance executing the plan replayer job');"]
[2024/05/17 10:55:13.298 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=71] [category=ddl] [job="ID:71, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:70, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:13.294 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:13.301 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816694174777344] ["schema version"=35]
[2024/05/17 10:55:13.301 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=34] [neededSchemaVersion=35] ["start time"=220.833µs] [gotSchemaVersion=35] [phyTblIDs="[70]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:55:13.302 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:55:13.302 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=71] [version=35]
[2024/05/17 10:55:13.303 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=35] ["take time"=2.003542ms] [job="ID:71, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:70, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:13.294 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:13.307 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=71] [job="ID:71, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:70, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:13.294 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:13.309 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=71]
[2024/05/17 10:55:13.309 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:55:13.309 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816694174777344] ["schema version"=35]
[2024/05/17 10:55:13.309 +08:00] [INFO] [ddl_api.go:1141] ["Automatically convert BLOB(65535) to MEDIUMBLOB"] [category=ddl]
[2024/05/17 10:55:13.309 +08:00] [INFO] [ddl_api.go:1141] ["Automatically convert BLOB(65535) to MEDIUMBLOB"] [category=ddl]
[2024/05/17 10:55:13.309 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=35] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.plan_replayer_task (\n\t\tsql_digest VARCHAR(128) NOT NULL,\n\t\tplan_digest VARCHAR(128) NOT NULL,\n\t\tupdate_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\tPRIMARY KEY (sql_digest,plan_digest));"] [user=]
[2024/05/17 10:55:13.311 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:73, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:72, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:13.31 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:55:13.311 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:73, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:72, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:13.31 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.plan_replayer_task (\n\t\tsql_digest VARCHAR(128) NOT NULL,\n\t\tplan_digest VARCHAR(128) NOT NULL,\n\t\tupdate_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\tPRIMARY KEY (sql_digest,plan_digest));"]
[2024/05/17 10:55:13.314 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=73] [category=ddl] [job="ID:73, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:72, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:13.31 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:13.316 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816694178447362] ["schema version"=36]
[2024/05/17 10:55:13.316 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=35] [neededSchemaVersion=36] ["start time"=189.334µs] [gotSchemaVersion=36] [phyTblIDs="[72]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:55:13.316 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:55:13.316 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=73] [version=36]
[2024/05/17 10:55:13.319 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=36] ["take time"=3.917083ms] [job="ID:73, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:72, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:13.31 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:13.323 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=73] [job="ID:73, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:72, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:13.31 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:13.325 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=73]
[2024/05/17 10:55:13.325 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:55:13.325 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816694178447362] ["schema version"=36]
[2024/05/17 10:55:13.325 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=36] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_table_locked(\n\t\ttable_id bigint(64) NOT NULL,\n\t\tmodify_count bigint(64) NOT NULL DEFAULT 0,\n\t\tcount bigint(64) NOT NULL DEFAULT 0,\n\t\tversion bigint(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tPRIMARY KEY (table_id));"] [user=]
[2024/05/17 10:55:13.326 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:75, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:74, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:13.326 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:55:13.327 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:75, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:74, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:13.326 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_table_locked(\n\t\ttable_id bigint(64) NOT NULL,\n\t\tmodify_count bigint(64) NOT NULL DEFAULT 0,\n\t\tcount bigint(64) NOT NULL DEFAULT 0,\n\t\tversion bigint(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tPRIMARY KEY (table_id));"]
[2024/05/17 10:55:13.329 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=75] [category=ddl] [job="ID:75, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:74, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:13.326 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:13.331 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816694182379526] ["schema version"=37]
[2024/05/17 10:55:13.331 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=36] [neededSchemaVersion=37] ["start time"=170.417µs] [gotSchemaVersion=37] [phyTblIDs="[74]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:55:13.331 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:55:13.331 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=75] [version=37]
[2024/05/17 10:55:13.333 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=37] ["take time"=2.031958ms] [job="ID:75, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:74, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:13.326 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:13.336 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=75] [job="ID:75, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:74, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:13.326 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:13.339 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=75]
[2024/05/17 10:55:13.339 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:55:13.339 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816694182379526] ["schema version"=37]
[2024/05/17 10:55:13.339 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=37] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_ttl_table_status (\n\t\ttable_id bigint(64) PRIMARY KEY,\n        parent_table_id bigint(64),\n        table_statistics text DEFAULT NULL,\n\t\tlast_job_id varchar(64) DEFAULT NULL,\n\t\tlast_job_start_time timestamp NULL DEFAULT NULL,\n\t\tlast_job_finish_time timestamp NULL DEFAULT NULL,\n\t\tlast_job_ttl_expire timestamp NULL DEFAULT NULL,\n        last_job_summary text DEFAULT NULL,\n\t\tcurrent_job_id varchar(64) DEFAULT NULL,\n\t\tcurrent_job_owner_id varchar(64) DEFAULT NULL,\n\t\tcurrent_job_owner_addr varchar(256) DEFAULT NULL,\n\t\tcurrent_job_owner_hb_time timestamp,\n\t\tcurrent_job_start_time timestamp NULL DEFAULT NULL,\n\t\tcurrent_job_ttl_expire timestamp NULL DEFAULT NULL,\n\t\tcurrent_job_state text DEFAULT NULL,\n\t\tcurrent_job_status varchar(64) DEFAULT NULL,\n  \t\tcurrent_job_status_update_time timestamp NULL DEFAULT NULL);"] [user=]
[2024/05/17 10:55:13.341 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:77, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:76, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:13.34 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:55:13.341 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:77, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:76, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:13.34 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_ttl_table_status (\n\t\ttable_id bigint(64) PRIMARY KEY,\n        parent_table_id bigint(64),\n        table_statistics text DEFAULT NULL,\n\t\tlast_job_id varchar(64) DEFAULT NULL,\n\t\tlast_job_start_time timestamp NULL DEFAULT NULL,\n\t\tlast_job_finish_time timestamp NULL DEFAULT NULL,\n\t\tlast_job_ttl_expire timestamp NULL DEFAULT NULL,\n        last_job_summary text DEFAULT NULL,\n\t\tcurrent_job_id varchar(64) DEFAULT NULL,\n\t\tcurrent_job_owner_id varchar(64) DEFAULT NULL,\n\t\tcurrent_job_owner_addr varchar(256) DEFAULT NULL,\n\t\tcurrent_job_owner_hb_time timestamp,\n\t\tcurrent_job_start_time timestamp NULL DEFAULT NULL,\n\t\tcurrent_job_ttl_expire timestamp NULL DEFAULT NULL,\n\t\tcurrent_job_state text DEFAULT NULL,\n\t\tcurrent_job_status varchar(64) DEFAULT NULL,\n  \t\tcurrent_job_status_update_time timestamp NULL DEFAULT NULL);"]
[2024/05/17 10:55:13.345 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=77] [category=ddl] [job="ID:77, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:76, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:13.34 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:13.347 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816694186835968] ["schema version"=38]
[2024/05/17 10:55:13.347 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=37] [neededSchemaVersion=38] ["start time"=596.5µs] [gotSchemaVersion=38] [phyTblIDs="[76]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:55:13.348 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:55:13.348 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=77] [version=38]
[2024/05/17 10:55:13.349 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=38] ["take time"=2.43925ms] [job="ID:77, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:76, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:13.34 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:13.353 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=77] [job="ID:77, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:76, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:13.34 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:13.355 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=77]
[2024/05/17 10:55:13.355 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:55:13.355 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816694186835968] ["schema version"=38]
[2024/05/17 10:55:13.355 +08:00] [INFO] [ddl_api.go:1141] ["Automatically convert BLOB(65535) to MEDIUMBLOB"] [category=ddl]
[2024/05/17 10:55:13.355 +08:00] [INFO] [ddl_api.go:1141] ["Automatically convert BLOB(65535) to MEDIUMBLOB"] [category=ddl]
[2024/05/17 10:55:13.355 +08:00] [INFO] [ddl_api.go:1141] ["Automatically convert BLOB(65535) to MEDIUMBLOB"] [category=ddl]
[2024/05/17 10:55:13.355 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=38] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_ttl_task (\n\t\tjob_id varchar(64) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tscan_id int NOT NULL,\n\t\tscan_range_start BLOB,\n\t\tscan_range_end BLOB,\n\t\texpire_time timestamp NOT NULL,\n\t\towner_id varchar(64) DEFAULT NULL,\n\t\towner_addr varchar(64) DEFAULT NULL,\n\t\towner_hb_time timestamp DEFAULT NULL,\n\t\tstatus varchar(64) DEFAULT 'waiting',\n\t\tstatus_update_time timestamp NULL DEFAULT NULL,\n\t\tstate text,\n\t\tcreated_time timestamp NOT NULL,\n\t\tprimary key(job_id, scan_id),\n\t\tkey(created_time));"] [user=]
[2024/05/17 10:55:13.357 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:79, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:78, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:13.356 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:55:13.357 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:79, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:78, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:13.356 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_ttl_task (\n\t\tjob_id varchar(64) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tscan_id int NOT NULL,\n\t\tscan_range_start BLOB,\n\t\tscan_range_end BLOB,\n\t\texpire_time timestamp NOT NULL,\n\t\towner_id varchar(64) DEFAULT NULL,\n\t\towner_addr varchar(64) DEFAULT NULL,\n\t\towner_hb_time timestamp DEFAULT NULL,\n\t\tstatus varchar(64) DEFAULT 'waiting',\n\t\tstatus_update_time timestamp NULL DEFAULT NULL,\n\t\tstate text,\n\t\tcreated_time timestamp NOT NULL,\n\t\tprimary key(job_id, scan_id),\n\t\tkey(created_time));"]
[2024/05/17 10:55:13.360 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=79] [category=ddl] [job="ID:79, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:78, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:13.356 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:13.363 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816694190768128] ["schema version"=39]
[2024/05/17 10:55:13.363 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=38] [neededSchemaVersion=39] ["start time"=448.042µs] [gotSchemaVersion=39] [phyTblIDs="[78]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:55:13.364 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:55:13.364 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=79] [version=39]
[2024/05/17 10:55:13.365 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=39] ["take time"=2.922292ms] [job="ID:79, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:78, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:13.356 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:13.369 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=79] [job="ID:79, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:78, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:13.356 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:13.371 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=79]
[2024/05/17 10:55:13.371 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:55:13.371 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816694190768128] ["schema version"=39]
[2024/05/17 10:55:13.371 +08:00] [INFO] [ddl_api.go:1141] ["Automatically convert BLOB(65535) to MEDIUMBLOB"] [category=ddl]
[2024/05/17 10:55:13.371 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=39] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_ttl_job_history (\n\t\tjob_id varchar(64) PRIMARY KEY,\n\t\ttable_id bigint(64) NOT NULL,\n        parent_table_id bigint(64) NOT NULL,\n    \ttable_schema varchar(64) NOT NULL,\n\t\ttable_name varchar(64) NOT NULL,\n    \tpartition_name varchar(64) DEFAULT NULL,\n\t\tcreate_time timestamp NOT NULL,\n\t\tfinish_time timestamp NOT NULL,\n\t\tttl_expire timestamp NOT NULL,\n        summary_text text,\n\t\texpired_rows bigint(64) DEFAULT NULL,\n    \tdeleted_rows bigint(64) DEFAULT NULL,\n    \terror_delete_rows bigint(64) DEFAULT NULL,\n    \tstatus varchar(64) NOT NULL,\n    \tkey(table_schema, table_name, create_time),\n    \tkey(parent_table_id, create_time),\n    \tkey(create_time)\n\t);"] [user=]
[2024/05/17 10:55:13.375 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:81, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:80, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:13.373 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:55:13.375 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:81, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:80, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:13.373 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_ttl_job_history (\n\t\tjob_id varchar(64) PRIMARY KEY,\n\t\ttable_id bigint(64) NOT NULL,\n        parent_table_id bigint(64) NOT NULL,\n    \ttable_schema varchar(64) NOT NULL,\n\t\ttable_name varchar(64) NOT NULL,\n    \tpartition_name varchar(64) DEFAULT NULL,\n\t\tcreate_time timestamp NOT NULL,\n\t\tfinish_time timestamp NOT NULL,\n\t\tttl_expire timestamp NOT NULL,\n        summary_text text,\n\t\texpired_rows bigint(64) DEFAULT NULL,\n    \tdeleted_rows bigint(64) DEFAULT NULL,\n    \terror_delete_rows bigint(64) DEFAULT NULL,\n    \tstatus varchar(64) NOT NULL,\n    \tkey(table_schema, table_name, create_time),\n    \tkey(parent_table_id, create_time),\n    \tkey(create_time)\n\t);"]
[2024/05/17 10:55:13.378 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=81] [category=ddl] [job="ID:81, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:80, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:13.373 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:13.381 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816694195486720] ["schema version"=40]
[2024/05/17 10:55:13.381 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=39] [neededSchemaVersion=40] ["start time"=370.166µs] [gotSchemaVersion=40] [phyTblIDs="[80]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:55:13.382 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:55:13.382 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=81] [version=40]
[2024/05/17 10:55:13.382 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=40] ["take time"=2.038209ms] [job="ID:81, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:80, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:13.373 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:13.387 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=81] [job="ID:81, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:80, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:13.373 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:13.390 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=81]
[2024/05/17 10:55:13.390 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:55:13.390 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816694195486720] ["schema version"=40]
[2024/05/17 10:55:13.390 +08:00] [INFO] [ddl_api.go:1141] ["Automatically convert BLOB(65535) to MEDIUMBLOB"] [category=ddl]
[2024/05/17 10:55:13.390 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=40] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_global_task (\n\t\tid BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n    \ttask_key VARCHAR(256) NOT NULL,\n\t\ttype VARCHAR(256) NOT NULL,\n\t\tdispatcher_id VARCHAR(261),\n\t\tstate VARCHAR(64) NOT NULL,\n\t\tpriority INT DEFAULT 1,\n\t\tcreate_time TIMESTAMP,\n\t\tstart_time TIMESTAMP,\n\t\tstate_update_time TIMESTAMP,\n\t\tend_time TIMESTAMP,\n\t\tmeta LONGBLOB,\n\t\tconcurrency INT(11),\n\t\tstep INT(11),\n\t\ttarget_scope VARCHAR(256) DEFAULT \"\",\n\t\terror BLOB,\n\t\tkey(state),\n      \tUNIQUE KEY task_key(task_key)\n\t);"] [user=]
[2024/05/17 10:55:13.392 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:83, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:82, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:13.391 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:55:13.392 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:83, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:82, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:13.391 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_global_task (\n\t\tid BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n    \ttask_key VARCHAR(256) NOT NULL,\n\t\ttype VARCHAR(256) NOT NULL,\n\t\tdispatcher_id VARCHAR(261),\n\t\tstate VARCHAR(64) NOT NULL,\n\t\tpriority INT DEFAULT 1,\n\t\tcreate_time TIMESTAMP,\n\t\tstart_time TIMESTAMP,\n\t\tstate_update_time TIMESTAMP,\n\t\tend_time TIMESTAMP,\n\t\tmeta LONGBLOB,\n\t\tconcurrency INT(11),\n\t\tstep INT(11),\n\t\ttarget_scope VARCHAR(256) DEFAULT \"\",\n\t\terror BLOB,\n\t\tkey(state),\n      \tUNIQUE KEY task_key(task_key)\n\t);"]
[2024/05/17 10:55:13.396 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=83] [category=ddl] [job="ID:83, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:82, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:13.391 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:13.399 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816694200467456] ["schema version"=41]
[2024/05/17 10:55:13.399 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=40] [neededSchemaVersion=41] ["start time"=364.083µs] [gotSchemaVersion=41] [phyTblIDs="[82]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:55:13.400 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816694200467456] ["schema version"=41]
[2024/05/17 10:55:13.400 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:55:13.400 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=83] [version=41]
[2024/05/17 10:55:13.401 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=41] ["take time"=2.444209ms] [job="ID:83, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:82, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:13.391 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:13.405 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=83] [job="ID:83, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:82, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:13.391 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:13.407 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=83]
[2024/05/17 10:55:13.407 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:55:13.407 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816694200467456] ["schema version"=41]
[2024/05/17 10:55:13.407 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=41] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_global_task_history (\n\t\tid BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n    \ttask_key VARCHAR(256) NOT NULL,\n\t\ttype VARCHAR(256) NOT NULL,\n\t\tdispatcher_id VARCHAR(261),\n\t\tstate VARCHAR(64) NOT NULL,\n\t\tpriority INT DEFAULT 1,\n\t\tcreate_time TIMESTAMP,\n\t\tstart_time TIMESTAMP,\n\t\tstate_update_time TIMESTAMP,\n\t\tend_time TIMESTAMP,\n\t\tmeta LONGBLOB,\n\t\tconcurrency INT(11),\n\t\tstep INT(11),\n\t\ttarget_scope VARCHAR(256) DEFAULT \"\",\n\t\terror BLOB,\n\t\tkey(state),\n      \tUNIQUE KEY task_key(task_key)\n\t);"] [user=]
[2024/05/17 10:55:13.409 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:85, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:84, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:13.408 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:55:13.409 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:85, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:84, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:13.408 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_global_task_history (\n\t\tid BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n    \ttask_key VARCHAR(256) NOT NULL,\n\t\ttype VARCHAR(256) NOT NULL,\n\t\tdispatcher_id VARCHAR(261),\n\t\tstate VARCHAR(64) NOT NULL,\n\t\tpriority INT DEFAULT 1,\n\t\tcreate_time TIMESTAMP,\n\t\tstart_time TIMESTAMP,\n\t\tstate_update_time TIMESTAMP,\n\t\tend_time TIMESTAMP,\n\t\tmeta LONGBLOB,\n\t\tconcurrency INT(11),\n\t\tstep INT(11),\n\t\ttarget_scope VARCHAR(256) DEFAULT \"\",\n\t\terror BLOB,\n\t\tkey(state),\n      \tUNIQUE KEY task_key(task_key)\n\t);"]
[2024/05/17 10:55:13.416 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=85] [category=ddl] [job="ID:85, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:84, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:13.408 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:13.420 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816694205710336] ["schema version"=42]
[2024/05/17 10:55:13.420 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=41] [neededSchemaVersion=42] ["start time"=677.375µs] [gotSchemaVersion=42] [phyTblIDs="[84]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:55:13.422 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:55:13.422 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=85] [version=42]
[2024/05/17 10:55:13.423 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=42] ["take time"=4.109209ms] [job="ID:85, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:84, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:13.408 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:13.431 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=85] [job="ID:85, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:84, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:13.408 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:13.435 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=85]
[2024/05/17 10:55:13.435 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:55:13.435 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816694205710336] ["schema version"=42]
[2024/05/17 10:55:13.435 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=42] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_import_jobs (\n\t\tid bigint(64) NOT NULL AUTO_INCREMENT,\n\t\tcreate_time TIMESTAMP(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6),\n\t\tstart_time TIMESTAMP(6) NULL DEFAULT NULL,\n\t\tupdate_time TIMESTAMP(6) NULL DEFAULT NULL,\n\t\tend_time TIMESTAMP(6) NULL DEFAULT NULL,\n\t\ttable_schema VARCHAR(64) NOT NULL,\n\t\ttable_name VARCHAR(64) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tcreated_by VARCHAR(300) NOT NULL,\n\t\tparameters text NOT NULL,\n\t\tsource_file_size bigint(64) NOT NULL,\n\t\tstatus VARCHAR(64) NOT NULL,\n\t\tstep VARCHAR(64) NOT NULL,\n\t\tsummary text DEFAULT NULL,\n\t\terror_message TEXT DEFAULT NULL,\n\t\tPRIMARY KEY (id),\n\t\tKEY (created_by),\n\t\tKEY (status));"] [user=]
[2024/05/17 10:55:13.437 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:87, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:86, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:13.436 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:55:13.437 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:87, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:86, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:13.436 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_import_jobs (\n\t\tid bigint(64) NOT NULL AUTO_INCREMENT,\n\t\tcreate_time TIMESTAMP(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6),\n\t\tstart_time TIMESTAMP(6) NULL DEFAULT NULL,\n\t\tupdate_time TIMESTAMP(6) NULL DEFAULT NULL,\n\t\tend_time TIMESTAMP(6) NULL DEFAULT NULL,\n\t\ttable_schema VARCHAR(64) NOT NULL,\n\t\ttable_name VARCHAR(64) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tcreated_by VARCHAR(300) NOT NULL,\n\t\tparameters text NOT NULL,\n\t\tsource_file_size bigint(64) NOT NULL,\n\t\tstatus VARCHAR(64) NOT NULL,\n\t\tstep VARCHAR(64) NOT NULL,\n\t\tsummary text DEFAULT NULL,\n\t\terror_message TEXT DEFAULT NULL,\n\t\tPRIMARY KEY (id),\n\t\tKEY (created_by),\n\t\tKEY (status));"]
[2024/05/17 10:55:13.445 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=87] [category=ddl] [job="ID:87, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:86, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:13.436 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:13.457 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816694215147520] ["schema version"=43]
[2024/05/17 10:55:13.457 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=42] [neededSchemaVersion=43] ["start time"=529.458µs] [gotSchemaVersion=43] [phyTblIDs="[86]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:55:13.458 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:55:13.458 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=87] [version=43]
[2024/05/17 10:55:13.459 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=43] ["take time"=2.592208ms] [job="ID:87, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:86, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:13.436 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:13.467 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=87] [job="ID:87, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:86, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:13.436 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:13.469 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=87]
[2024/05/17 10:55:13.469 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:55:13.469 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816694215147520] ["schema version"=43]
[2024/05/17 10:55:13.469 +08:00] [INFO] [ddl_api.go:1141] ["Automatically convert BLOB(65535) to MEDIUMBLOB"] [category=ddl]
[2024/05/17 10:55:13.469 +08:00] [INFO] [ddl_api.go:1141] ["Automatically convert BLOB(65535) to MEDIUMBLOB"] [category=ddl]
[2024/05/17 10:55:13.469 +08:00] [INFO] [ddl_api.go:1141] ["Automatically convert BLOB(65535) to MEDIUMBLOB"] [category=ddl]
[2024/05/17 10:55:13.469 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=43] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_runaway_watch (\n\t\tid BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n\t\tresource_group_name varchar(32) not null,\n\t\tstart_time datetime(6) NOT NULL,\n\t\tend_time datetime(6),\n\t\twatch bigint(10) NOT NULL,\n\t\twatch_text TEXT NOT NULL,\n\t\tsource varchar(512) NOT NULL,\n\t\taction bigint(10),\n\t\tINDEX sql_index(resource_group_name,watch_text(700)) COMMENT \"accelerate the speed when select quarantined query\",\n\t\tINDEX time_index(end_time) COMMENT \"accelerate the speed when querying with active watch\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"] [user=]
[2024/05/17 10:55:13.472 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:89, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:88, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:13.471 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:55:13.473 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:89, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:88, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:13.471 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_runaway_watch (\n\t\tid BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n\t\tresource_group_name varchar(32) not null,\n\t\tstart_time datetime(6) NOT NULL,\n\t\tend_time datetime(6),\n\t\twatch bigint(10) NOT NULL,\n\t\twatch_text TEXT NOT NULL,\n\t\tsource varchar(512) NOT NULL,\n\t\taction bigint(10),\n\t\tINDEX sql_index(resource_group_name,watch_text(700)) COMMENT \"accelerate the speed when select quarantined query\",\n\t\tINDEX time_index(end_time) COMMENT \"accelerate the speed when querying with active watch\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"]
[2024/05/17 10:55:13.477 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=89] [category=ddl] [job="ID:89, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:88, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:13.471 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:13.479 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816694221176832] ["schema version"=44]
[2024/05/17 10:55:13.479 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=43] [neededSchemaVersion=44] ["start time"=261.417µs] [gotSchemaVersion=44] [phyTblIDs="[88]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:55:13.479 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:55:13.479 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=89] [version=44]
[2024/05/17 10:55:13.481 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=44] ["take time"=2.0155ms] [job="ID:89, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:88, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:13.471 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:13.484 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=89] [job="ID:89, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:88, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:13.471 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:13.486 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=89]
[2024/05/17 10:55:13.486 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:55:13.486 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816694221176832] ["schema version"=44]
[2024/05/17 10:55:13.486 +08:00] [INFO] [ddl_api.go:1141] ["Automatically convert BLOB(65535) to MEDIUMBLOB"] [category=ddl]
[2024/05/17 10:55:13.486 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=44] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_runaway_queries (\n\t\tresource_group_name varchar(32) not null,\n\t\ttime TIMESTAMP NOT NULL,\n\t\tmatch_type varchar(12) NOT NULL,\n\t\taction varchar(12) NOT NULL,\n\t\toriginal_sql TEXT NOT NULL,\n\t\tplan_digest TEXT NOT NULL,\n\t\ttidb_server varchar(512),\n\t\tINDEX plan_index(plan_digest(64)) COMMENT \"accelerate the speed when select runaway query\",\n\t\tINDEX time_index(time) COMMENT \"accelerate the speed when querying with active watch\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"] [user=]
[2024/05/17 10:55:13.487 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:91, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:90, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:13.486 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:55:13.487 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:91, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:90, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:13.486 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_runaway_queries (\n\t\tresource_group_name varchar(32) not null,\n\t\ttime TIMESTAMP NOT NULL,\n\t\tmatch_type varchar(12) NOT NULL,\n\t\taction varchar(12) NOT NULL,\n\t\toriginal_sql TEXT NOT NULL,\n\t\tplan_digest TEXT NOT NULL,\n\t\ttidb_server varchar(512),\n\t\tINDEX plan_index(plan_digest(64)) COMMENT \"accelerate the speed when select runaway query\",\n\t\tINDEX time_index(time) COMMENT \"accelerate the speed when querying with active watch\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"]
[2024/05/17 10:55:13.491 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=91] [category=ddl] [job="ID:91, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:90, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:13.486 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:13.493 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816694225108992] ["schema version"=45]
[2024/05/17 10:55:13.493 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=44] [neededSchemaVersion=45] ["start time"=495.459µs] [gotSchemaVersion=45] [phyTblIDs="[90]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:55:13.494 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:55:13.494 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=91] [version=45]
[2024/05/17 10:55:13.495 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=45] ["take time"=2.604292ms] [job="ID:91, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:90, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:13.486 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:13.502 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=91] [job="ID:91, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:90, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:13.486 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:13.504 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=91]
[2024/05/17 10:55:13.504 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:55:13.504 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816694225108992] ["schema version"=45]
[2024/05/17 10:55:13.504 +08:00] [INFO] [ddl_api.go:1141] ["Automatically convert BLOB(65535) to MEDIUMBLOB"] [category=ddl]
[2024/05/17 10:55:13.504 +08:00] [INFO] [ddl_api.go:1141] ["Automatically convert BLOB(65535) to MEDIUMBLOB"] [category=ddl]
[2024/05/17 10:55:13.504 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=45] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS `mysql`.`tidb_timers` (\n\t\tID BIGINT(64) UNSIGNED NOT NULL AUTO_INCREMENT,\n\t\tNAMESPACE VARCHAR(256) NOT NULL,\n\t\tTIMER_KEY VARCHAR(256) NOT NULL,\n\t\tTIMER_DATA BLOB,\n\t\tTIMEZONE VARCHAR(64) NOT NULL,\n\t\tSCHED_POLICY_TYPE VARCHAR(32) NOT NULL,\n\t\tSCHED_POLICY_EXPR VARCHAR(256) NOT NULL,\n\t\tHOOK_CLASS VARCHAR(64) NOT NULL,\n\t\tWATERMARK TIMESTAMP DEFAULT NULL,\n\t\tENABLE TINYINT(2) NOT NULL,\n\t\tTIMER_EXT JSON NOT NULL,\n\t\tEVENT_STATUS VARCHAR(32) NOT NULL,\n\t\tEVENT_ID VARCHAR(64) NOT NULL,\n\t\tEVENT_DATA BLOB,\n\t\tEVENT_START TIMESTAMP DEFAULT NULL,\n\t\tSUMMARY_DATA BLOB,\n\t\tCREATE_TIME TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,\n\t\tUPDATE_TIME TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\tVERSION BIGINT(64) UNSIGNED NOT NULL,\n\t\tPRIMARY KEY (ID),\n\t\tUNIQUE KEY timer_key(NAMESPACE, TIMER_KEY),\n\t\tKEY hook_class(HOOK_CLASS)\n\t)"] [user=]
[2024/05/17 10:55:13.507 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:93, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:92, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:13.506 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:55:13.507 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:93, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:92, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:13.506 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS `mysql`.`tidb_timers` (\n\t\tID BIGINT(64) UNSIGNED NOT NULL AUTO_INCREMENT,\n\t\tNAMESPACE VARCHAR(256) NOT NULL,\n\t\tTIMER_KEY VARCHAR(256) NOT NULL,\n\t\tTIMER_DATA BLOB,\n\t\tTIMEZONE VARCHAR(64) NOT NULL,\n\t\tSCHED_POLICY_TYPE VARCHAR(32) NOT NULL,\n\t\tSCHED_POLICY_EXPR VARCHAR(256) NOT NULL,\n\t\tHOOK_CLASS VARCHAR(64) NOT NULL,\n\t\tWATERMARK TIMESTAMP DEFAULT NULL,\n\t\tENABLE TINYINT(2) NOT NULL,\n\t\tTIMER_EXT JSON NOT NULL,\n\t\tEVENT_STATUS VARCHAR(32) NOT NULL,\n\t\tEVENT_ID VARCHAR(64) NOT NULL,\n\t\tEVENT_DATA BLOB,\n\t\tEVENT_START TIMESTAMP DEFAULT NULL,\n\t\tSUMMARY_DATA BLOB,\n\t\tCREATE_TIME TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,\n\t\tUPDATE_TIME TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\tVERSION BIGINT(64) UNSIGNED NOT NULL,\n\t\tPRIMARY KEY (ID),\n\t\tUNIQUE KEY timer_key(NAMESPACE, TIMER_KEY),\n\t\tKEY hook_class(HOOK_CLASS)\n\t)"]
[2024/05/17 10:55:13.510 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=93] [category=ddl] [job="ID:93, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:92, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:13.506 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:13.513 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816694230089728] ["schema version"=46]
[2024/05/17 10:55:13.513 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=45] [neededSchemaVersion=46] ["start time"=412.458µs] [gotSchemaVersion=46] [phyTblIDs="[92]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:55:13.513 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:55:13.513 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=93] [version=46]
[2024/05/17 10:55:13.514 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=46] ["take time"=2.295334ms] [job="ID:93, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:92, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:13.506 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:13.519 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=93] [job="ID:93, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:92, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:13.506 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:13.522 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=93]
[2024/05/17 10:55:13.522 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:55:13.522 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816694230089728] ["schema version"=46]
[2024/05/17 10:55:13.522 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=46] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_runaway_watch_done (\n\t\tid BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n\t\trecord_id BIGINT(20) not null,\n\t\tresource_group_name varchar(32) not null,\n\t\tstart_time datetime(6) NOT NULL,\n\t\tend_time datetime(6),\n\t\twatch bigint(10) NOT NULL,\n\t\twatch_text TEXT NOT NULL,\n\t\tsource varchar(512) NOT NULL,\n\t\taction bigint(10),\n\t\tdone_time TIMESTAMP(6) NOT NULL\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"] [user=]
[2024/05/17 10:55:13.525 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:95, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:94, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:13.524 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:55:13.525 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:95, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:94, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:13.524 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_runaway_watch_done (\n\t\tid BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n\t\trecord_id BIGINT(20) not null,\n\t\tresource_group_name varchar(32) not null,\n\t\tstart_time datetime(6) NOT NULL,\n\t\tend_time datetime(6),\n\t\twatch bigint(10) NOT NULL,\n\t\twatch_text TEXT NOT NULL,\n\t\tsource varchar(512) NOT NULL,\n\t\taction bigint(10),\n\t\tdone_time TIMESTAMP(6) NOT NULL\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"]
[2024/05/17 10:55:13.528 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=95] [category=ddl] [job="ID:95, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:94, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:13.524 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:13.530 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816694234808320] ["schema version"=47]
[2024/05/17 10:55:13.530 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=46] [neededSchemaVersion=47] ["start time"=241.459µs] [gotSchemaVersion=47] [phyTblIDs="[94]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:55:13.531 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:55:13.531 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=95] [version=47]
[2024/05/17 10:55:13.532 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=47] ["take time"=2.376542ms] [job="ID:95, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:94, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:13.524 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:13.536 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=95] [job="ID:95, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:94, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:13.524 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:13.539 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=95]
[2024/05/17 10:55:13.539 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:55:13.539 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816694234808320] ["schema version"=47]
[2024/05/17 10:55:13.539 +08:00] [INFO] [ddl_api.go:1141] ["Automatically convert BLOB(65535) to MEDIUMBLOB"] [category=ddl]
[2024/05/17 10:55:13.539 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=47] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.dist_framework_meta (\n        host VARCHAR(261) NOT NULL PRIMARY KEY,\n        role VARCHAR(64),\n        cpu_count int default 0,\n        keyspace_id bigint(8) NOT NULL DEFAULT -1\n    );"] [user=]
[2024/05/17 10:55:13.540 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:97, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:96, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:13.54 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:55:13.540 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:97, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:96, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:13.54 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.dist_framework_meta (\n        host VARCHAR(261) NOT NULL PRIMARY KEY,\n        role VARCHAR(64),\n        cpu_count int default 0,\n        keyspace_id bigint(8) NOT NULL DEFAULT -1\n    );"]
[2024/05/17 10:55:13.544 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=97] [category=ddl] [job="ID:97, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:96, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:13.54 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:13.546 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816694239002624] ["schema version"=48]
[2024/05/17 10:55:13.546 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=47] [neededSchemaVersion=48] ["start time"=262.291µs] [gotSchemaVersion=48] [phyTblIDs="[96]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:55:13.547 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:55:13.547 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=97] [version=48]
[2024/05/17 10:55:13.548 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=48] ["take time"=2.149042ms] [job="ID:97, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:96, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:13.54 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:13.552 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=97] [job="ID:97, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:96, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:13.54 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:13.554 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=97]
[2024/05/17 10:55:13.554 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:55:13.554 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816694239002624] ["schema version"=48]
[2024/05/17 10:55:13.554 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=48] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.request_unit_by_group (\n\t\tstart_time TIMESTAMP(6) NOT NULL,\n\t\tend_time TIMESTAMP(6) NOT NULL,\n\t\tresource_group VARCHAR(32) NOT null,\n\t\ttotal_ru bigint(64) UNSIGNED NOT NULL,\n\t\tPRIMARY KEY (start_time, end_time, resource_group),\n\t\tKEY (resource_group)\n\t);"] [user=]
[2024/05/17 10:55:13.556 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:99, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:98, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:13.555 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:55:13.556 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:99, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:98, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:13.555 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.request_unit_by_group (\n\t\tstart_time TIMESTAMP(6) NOT NULL,\n\t\tend_time TIMESTAMP(6) NOT NULL,\n\t\tresource_group VARCHAR(32) NOT null,\n\t\ttotal_ru bigint(64) UNSIGNED NOT NULL,\n\t\tPRIMARY KEY (start_time, end_time, resource_group),\n\t\tKEY (resource_group)\n\t);"]
[2024/05/17 10:55:13.559 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=99] [category=ddl] [job="ID:99, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:98, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:13.555 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:13.561 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816694242934784] ["schema version"=49]
[2024/05/17 10:55:13.561 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=48] [neededSchemaVersion=49] ["start time"=206.208µs] [gotSchemaVersion=49] [phyTblIDs="[98]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:55:13.562 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:55:13.562 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=99] [version=49]
[2024/05/17 10:55:13.563 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=49] ["take time"=2.004083ms] [job="ID:99, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:98, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:13.555 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:13.566 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=99] [job="ID:99, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:98, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:13.555 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:13.569 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=99]
[2024/05/17 10:55:13.569 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:55:13.569 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816694242934784] ["schema version"=49]
[2024/05/17 10:55:13.569 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=49] [cur_db=mysql] [sql="CREATE DATABASE IF NOT EXISTS sys;"] [user=]
[2024/05/17 10:55:13.570 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:101, Type:create schema, State:queueing, SchemaState:none, SchemaID:100, TableID:0, RowCount:0, ArgLen:1, start time: 2024-05-17 10:55:13.569 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:55:13.570 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:101, Type:create schema, State:queueing, SchemaState:none, SchemaID:100, TableID:0, RowCount:0, ArgLen:1, start time: 2024-05-17 10:55:13.569 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE DATABASE IF NOT EXISTS sys;"]
[2024/05/17 10:55:13.573 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=101] [category=ddl] [job="ID:101, Type:create schema, State:queueing, SchemaState:none, SchemaID:100, TableID:0, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:13.569 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:13.573 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816694246080519] ["schema version"=50]
[2024/05/17 10:55:13.573 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=49] [neededSchemaVersion=50] ["start time"=42.834µs] [gotSchemaVersion=50] [phyTblIDs="[]"] [actionTypes="[]"] [diffTypes="[\"create schema\"]"]
[2024/05/17 10:55:13.574 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:55:13.574 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=101] [version=50]
[2024/05/17 10:55:13.576 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=50] ["take time"=2.979125ms] [job="ID:101, Type:create schema, State:done, SchemaState:public, SchemaID:100, TableID:0, RowCount:0, ArgLen:1, start time: 2024-05-17 10:55:13.569 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:13.579 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=101] [job="ID:101, Type:create schema, State:synced, SchemaState:public, SchemaID:100, TableID:0, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:13.569 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:13.580 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=101]
[2024/05/17 10:55:13.580 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:55:13.581 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816694246080519] ["schema version"=50]
[2024/05/17 10:55:13.582 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:103, Type:create view, State:queueing, SchemaState:none, SchemaID:100, TableID:102, RowCount:0, ArgLen:3, start time: 2024-05-17 10:55:13.582 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:55:13.582 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:103, Type:create view, State:queueing, SchemaState:none, SchemaID:100, TableID:102, RowCount:0, ArgLen:3, start time: 2024-05-17 10:55:13.582 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE OR REPLACE VIEW sys.schema_unused_indexes AS\n\t\tSELECT\n\t\t\ttable_schema as object_schema,\n\t\t\ttable_name as object_name,\n\t\t\tindex_name\n\t\tFROM information_schema.cluster_tidb_index_usage\n\t\tWHERE\n\t\t\ttable_schema not in ('sys', 'mysql', 'INFORMATION_SCHEMA', 'PERFORMANCE_SCHEMA') and\n\t\t\tindex_name != 'PRIMARY'\n\t\tGROUP BY table_schema, table_name, index_name\n\t\tHAVING\n\t\t\tsum(last_access_time) is null;"]
[2024/05/17 10:55:13.585 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=103] [category=ddl] [job="ID:103, Type:create view, State:queueing, SchemaState:none, SchemaID:100, TableID:102, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:13.582 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:13.586 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816694249488384] ["schema version"=51]
[2024/05/17 10:55:13.586 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=50] [neededSchemaVersion=51] ["start time"=154.708µs] [gotSchemaVersion=51] [phyTblIDs="[102]"] [actionTypes="[21]"] [diffTypes="[\"create view\"]"]
[2024/05/17 10:55:13.587 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:55:13.587 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=103] [version=51]
[2024/05/17 10:55:13.588 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=51] ["take time"=2.360041ms] [job="ID:103, Type:create view, State:done, SchemaState:public, SchemaID:100, TableID:102, RowCount:0, ArgLen:3, start time: 2024-05-17 10:55:13.582 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:13.593 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=103] [job="ID:103, Type:create view, State:synced, SchemaState:public, SchemaID:100, TableID:102, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:13.582 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:13.594 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=103]
[2024/05/17 10:55:13.594 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:55:13.594 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816694249488384] ["schema version"=51]
[2024/05/17 10:55:13.605 +08:00] [INFO] [bootstrap.go:745] ["bootstrap successful"] ["take time"=957.73175ms]
[2024/05/17 10:55:13.606 +08:00] [INFO] [mock.go:106] ["owner manager is canceled"] [category=ddl] [ID=77fc3c98-d190-4b46-a66d-d777ba014a1c] [ownerKey=/tidb/ddl/fg/owner]
[2024/05/17 10:55:13.606 +08:00] [INFO] [ddl_workerpool.go:82] ["closing workerPool"] [category=ddl]
[2024/05/17 10:55:13.606 +08:00] [INFO] [ddl_worker.go:188] ["DDL worker closed"] [worker="worker 2, tp add index"] [category=ddl] ["take time"=1.208µs]
[2024/05/17 10:55:13.606 +08:00] [INFO] [ddl_workerpool.go:82] ["closing workerPool"] [category=ddl]
[2024/05/17 10:55:13.606 +08:00] [INFO] [ddl_worker.go:188] ["DDL worker closed"] [worker="worker 1, tp general"] [category=ddl] ["take time"=375ns]
[2024/05/17 10:55:13.606 +08:00] [INFO] [ddl_workerpool.go:82] ["closing workerPool"] [category=ddl]
[2024/05/17 10:55:13.606 +08:00] [INFO] [delete_range.go:162] ["closing delRange"] [category=ddl]
[2024/05/17 10:55:13.606 +08:00] [INFO] [session_pool.go:99] ["closing session pool"] [category=ddl]
[2024/05/17 10:55:13.607 +08:00] [INFO] [ddl.go:951] ["DDL closed"] [category=ddl] [ID=77fc3c98-d190-4b46-a66d-d777ba014a1c] ["take time"=1.468125ms]
[2024/05/17 10:55:13.607 +08:00] [INFO] [ddl.go:769] ["stop DDL"] [category=ddl] [ID=77fc3c98-d190-4b46-a66d-d777ba014a1c]
[2024/05/17 10:55:13.607 +08:00] [INFO] [domain.go:753] ["topNSlowQueryLoop exited."]
[2024/05/17 10:55:13.607 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=topNSlowQueryLoop]
[2024/05/17 10:55:13.607 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=mdlCheckLoop]
[2024/05/17 10:55:13.607 +08:00] [INFO] [domain.go:977] ["loadSchemaInLoop exited."]
[2024/05/17 10:55:13.607 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=loadSchemaInLoop]
[2024/05/17 10:55:13.607 +08:00] [INFO] [domain.go:831] ["topologySyncerKeeper exited."]
[2024/05/17 10:55:13.607 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=topologySyncerKeeper]
[2024/05/17 10:55:13.607 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=runawayStartLoop]
[2024/05/17 10:55:13.607 +08:00] [INFO] [domain.go:807] ["globalConfigSyncerKeeper exited."]
[2024/05/17 10:55:13.607 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=globalConfigSyncerKeeper]
[2024/05/17 10:55:13.607 +08:00] [INFO] [domain.go:781] ["infoSyncerKeeper exited."]
[2024/05/17 10:55:13.607 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=infoSyncerKeeper]
[2024/05/17 10:55:13.607 +08:00] [INFO] [domain.go:1144] ["domain closed"] ["take time"=1.660875ms]
[2024/05/17 10:55:13.607 +08:00] [INFO] [tidb.go:80] ["new domain"] [store=2397f6c2-5c1c-4a59-aac0-edf587a40c2c] ["ddl lease"=500ms] ["stats lease"=-1ns]
[2024/05/17 10:55:13.609 +08:00] [WARN] [runaway.go:462] ["cannot setup up resource controller, not using tikv storage"]
[2024/05/17 10:55:13.620 +08:00] [INFO] [domain.go:385] ["full load InfoSchema success"] [currentSchemaVersion=0] [neededSchemaVersion=51] ["start time"=11.121583ms]
[2024/05/17 10:55:13.624 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816694249488384] ["schema version"=51]
[2024/05/17 10:55:13.624 +08:00] [INFO] [domain.go:705] ["full load and reset schema validator"]
[2024/05/17 10:55:13.624 +08:00] [INFO] [ddl.go:818] ["start DDL"] [category=ddl] [ID=ad85221d-66b9-4b8f-acef-aa2cd43cd9c5] [runWorker=true]
[2024/05/17 10:55:13.624 +08:00] [INFO] [ddl.go:777] ["start delRangeManager OK"] [category=ddl] ["is a emulator"=true]
[2024/05/17 10:55:13.624 +08:00] [WARN] [env.go:51] ["initialize environment failed"] [category=ddl-ingest] ["storage limitation"="only support TiKV storage"] ["current storage"=unistore] ["lightning is initialized"=false]
[2024/05/17 10:55:13.624 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=loadSchemaInLoop]
[2024/05/17 10:55:13.624 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=mdlCheckLoop]
[2024/05/17 10:55:13.624 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=topNSlowQueryLoop]
[2024/05/17 10:55:13.624 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=infoSyncerKeeper]
[2024/05/17 10:55:13.624 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=globalConfigSyncerKeeper]
[2024/05/17 10:55:13.624 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=runawayStartLoop]
[2024/05/17 10:55:13.624 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=requestUnitsWriterLoop]
[2024/05/17 10:55:13.624 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=topologySyncerKeeper]
[2024/05/17 10:55:13.624 +08:00] [WARN] [domain.go:1396] ["pd / etcd client not provided, won't begin Advancer."]
[2024/05/17 10:55:13.625 +08:00] [INFO] [delete_range.go:172] ["start delRange emulator"] [category=ddl]
[2024/05/17 10:55:13.625 +08:00] [INFO] [job_table.go:334] ["get global state and global state change"] [category=ddl] [oldState=false] [currState=false]
[2024/05/17 10:55:13.625 +08:00] [INFO] [runaway.go:149] ["try to start runaway manager loop"]
[2024/05/17 10:55:13.625 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=requestUnitsWriterLoop]
[2024/05/17 10:55:13.648 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=globalBindHandleWorkerLoop]
[2024/05/17 10:55:13.649 +08:00] [WARN] [sysvar_cache.go:49] ["sysvar cache is empty, triggering rebuild"]
[2024/05/17 10:55:13.650 +08:00] [INFO] [sysvar.go:2748] ["set resource control"] [enable=true]
[2024/05/17 10:55:13.659 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=loadPrivilegeInLoop]
[2024/05/17 10:55:13.660 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=LoadSysVarCacheLoop]
[2024/05/17 10:55:13.663 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=dumpFileGcChecker]
[2024/05/17 10:55:13.663 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=indexUsageWorker]
[2024/05/17 10:55:13.663 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=quitStatsOwner]
[2024/05/17 10:55:13.663 +08:00] [INFO] [domain.go:2340] ["start load stats sub workers"] ["worker count"=5]
[2024/05/17 10:55:13.663 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=loadSigningCertLoop]
[2024/05/17 10:55:13.663 +08:00] [INFO] [manager.go:113] ["build task executor manager"] [server-id=:4000] [total-cpu=1] [total-mem=32GiB]
[2024/05/17 10:55:13.664 +08:00] [INFO] [domain.go:2140] ["dumpFileGcChecker started"]
[2024/05/17 10:55:13.664 +08:00] [INFO] [task_manager.go:217] ["scale ttl worker"] [ttl-worker=job-manager] [ttl-worker=task-manager] [originalCount=0] [newCount=4]
[2024/05/17 10:55:13.664 +08:00] [INFO] [task_manager.go:217] ["scale ttl worker"] [ttl-worker=job-manager] [ttl-worker=task-manager] [originalCount=0] [newCount=4]
[2024/05/17 10:55:13.668 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=distTaskFrameworkLoop]
[2024/05/17 10:55:13.668 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=1] [schemaVersion=51] [cur_db=] [sql="drop database if exists rename1"] [user=]
[2024/05/17 10:55:13.668 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=1] [schemaVersion=51] [cur_db=] [sql="drop database if exists rename2"] [user=]
[2024/05/17 10:55:13.668 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=1] [schemaVersion=51] [cur_db=] [sql="drop database if exists rename3"] [user=]
[2024/05/17 10:55:13.668 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=1] [schemaVersion=51] [cur_db=] [sql="create database rename1"] [user=]
[2024/05/17 10:55:13.670 +08:00] [INFO] [manager.go:146] ["task executor manager start"] [server-id=:4000]
[2024/05/17 10:55:13.670 +08:00] [INFO] [domain.go:1595] ["dist task executor manager started"]
[2024/05/17 10:55:13.671 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:105, Type:create schema, State:queueing, SchemaState:none, SchemaID:104, TableID:0, RowCount:0, ArgLen:1, start time: 2024-05-17 10:55:13.67 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:55:13.671 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:105, Type:create schema, State:queueing, SchemaState:none, SchemaID:104, TableID:0, RowCount:0, ArgLen:1, start time: 2024-05-17 10:55:13.67 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="create database rename1"]
[2024/05/17 10:55:13.692 +08:00] [INFO] [job_table.go:334] ["get global state and global state change"] [category=ddl] [oldState=false] [currState=false]
[2024/05/17 10:55:13.692 +08:00] [INFO] [job_table.go:349] ["the owner sets owner operator value"] [category=ddl] [ownerOp=none]
[2024/05/17 10:55:13.696 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=105] [conn=1] [category=ddl] [job="ID:105, Type:create schema, State:queueing, SchemaState:none, SchemaID:104, TableID:0, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:13.67 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:13.696 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816694278324229] ["schema version"=52]
[2024/05/17 10:55:13.696 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=51] [neededSchemaVersion=52] ["start time"=46.791µs] [gotSchemaVersion=52] [phyTblIDs="[]"] [actionTypes="[]"] [diffTypes="[\"create schema\"]"]
[2024/05/17 10:55:13.697 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=105] [version=52]
[2024/05/17 10:55:13.698 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=52] ["take time"=2.012542ms] [job="ID:105, Type:create schema, State:done, SchemaState:public, SchemaID:104, TableID:0, RowCount:0, ArgLen:1, start time: 2024-05-17 10:55:13.67 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:13.702 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=105] [conn=1] [job="ID:105, Type:create schema, State:synced, SchemaState:public, SchemaID:104, TableID:0, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:13.67 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:13.704 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=105]
[2024/05/17 10:55:13.704 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:55:13.704 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816694278324229] ["schema version"=52]
[2024/05/17 10:55:13.704 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=1] [schemaVersion=52] [cur_db=] [sql="create database rename2"] [user=]
[2024/05/17 10:55:13.706 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:107, Type:create schema, State:queueing, SchemaState:none, SchemaID:106, TableID:0, RowCount:0, ArgLen:1, start time: 2024-05-17 10:55:13.705 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:55:13.706 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:107, Type:create schema, State:queueing, SchemaState:none, SchemaID:106, TableID:0, RowCount:0, ArgLen:1, start time: 2024-05-17 10:55:13.705 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="create database rename2"]
[2024/05/17 10:55:13.709 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=107] [conn=1] [category=ddl] [job="ID:107, Type:create schema, State:queueing, SchemaState:none, SchemaID:106, TableID:0, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:13.705 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:13.710 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816694281994241] ["schema version"=53]
[2024/05/17 10:55:13.710 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=52] [neededSchemaVersion=53] ["start time"=44.958µs] [gotSchemaVersion=53] [phyTblIDs="[]"] [actionTypes="[]"] [diffTypes="[\"create schema\"]"]
[2024/05/17 10:55:13.711 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=107] [version=53]
[2024/05/17 10:55:13.713 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=53] ["take time"=2.632666ms] [job="ID:107, Type:create schema, State:done, SchemaState:public, SchemaID:106, TableID:0, RowCount:0, ArgLen:1, start time: 2024-05-17 10:55:13.705 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:13.716 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=107] [conn=1] [job="ID:107, Type:create schema, State:synced, SchemaState:public, SchemaID:106, TableID:0, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:13.705 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:13.717 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=107]
[2024/05/17 10:55:13.717 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:55:13.717 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816694281994241] ["schema version"=53]
[2024/05/17 10:55:13.718 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=1] [schemaVersion=53] [cur_db=] [sql="create database rename3"] [user=]
[2024/05/17 10:55:13.719 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:109, Type:create schema, State:queueing, SchemaState:none, SchemaID:108, TableID:0, RowCount:0, ArgLen:1, start time: 2024-05-17 10:55:13.718 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:55:13.719 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:109, Type:create schema, State:queueing, SchemaState:none, SchemaID:108, TableID:0, RowCount:0, ArgLen:1, start time: 2024-05-17 10:55:13.718 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="create database rename3"]
[2024/05/17 10:55:13.722 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=109] [conn=1] [category=ddl] [job="ID:109, Type:create schema, State:queueing, SchemaState:none, SchemaID:108, TableID:0, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:13.718 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:13.723 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816694285402117] ["schema version"=54]
[2024/05/17 10:55:13.723 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=53] [neededSchemaVersion=54] ["start time"=44.958µs] [gotSchemaVersion=54] [phyTblIDs="[]"] [actionTypes="[]"] [diffTypes="[\"create schema\"]"]
[2024/05/17 10:55:13.724 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=109] [version=54]
[2024/05/17 10:55:13.726 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=54] ["take time"=2.544792ms] [job="ID:109, Type:create schema, State:done, SchemaState:public, SchemaID:108, TableID:0, RowCount:0, ArgLen:1, start time: 2024-05-17 10:55:13.718 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:13.729 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=109] [conn=1] [job="ID:109, Type:create schema, State:synced, SchemaState:public, SchemaID:108, TableID:0, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:13.718 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:13.731 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=109]
[2024/05/17 10:55:13.731 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:55:13.731 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816694285402117] ["schema version"=54]
[2024/05/17 10:55:13.731 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=1] [schemaVersion=54] [cur_db=] [sql="create table rename1.t (a int primary key auto_increment)"] [user=]
[2024/05/17 10:55:13.732 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:111, Type:create table, State:queueing, SchemaState:none, SchemaID:104, TableID:110, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:13.732 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:55:13.732 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:111, Type:create table, State:queueing, SchemaState:none, SchemaID:104, TableID:110, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:13.732 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="create table rename1.t (a int primary key auto_increment)"]
[2024/05/17 10:55:13.736 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=111] [conn=1] [category=ddl] [job="ID:111, Type:create table, State:queueing, SchemaState:none, SchemaID:104, TableID:110, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:13.732 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:13.737 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816694289072128] ["schema version"=55]
[2024/05/17 10:55:13.737 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=54] [neededSchemaVersion=55] ["start time"=119.583µs] [gotSchemaVersion=55] [phyTblIDs="[110]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:55:13.738 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=111] [version=55]
[2024/05/17 10:55:13.739 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=55] ["take time"=2.038791ms] [job="ID:111, Type:create table, State:done, SchemaState:public, SchemaID:104, TableID:110, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:13.732 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:13.743 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=111] [conn=1] [job="ID:111, Type:create table, State:synced, SchemaState:public, SchemaID:104, TableID:110, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:13.732 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:13.745 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=111]
[2024/05/17 10:55:13.745 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:55:13.745 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816694289072128] ["schema version"=55]
[2024/05/17 10:55:13.745 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=1] [schemaVersion=55] [cur_db=] [sql="rename table rename1.t to rename2.t"] [user=]
[2024/05/17 10:55:13.746 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:112, Type:rename table, State:queueing, SchemaState:none, SchemaID:106, TableID:110, RowCount:0, ArgLen:3, start time: 2024-05-17 10:55:13.746 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:55:13.746 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:112, Type:rename table, State:queueing, SchemaState:none, SchemaID:106, TableID:110, RowCount:0, ArgLen:3, start time: 2024-05-17 10:55:13.746 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="rename table rename1.t to rename2.t"]
[2024/05/17 10:55:13.749 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=112] [conn=1] [category=ddl] [job="ID:112, Type:rename table, State:queueing, SchemaState:none, SchemaID:106, TableID:110, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:13.746 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:13.750 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816694292480000] ["schema version"=56]
[2024/05/17 10:55:13.750 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=55] [neededSchemaVersion=56] ["start time"=117.708µs] [gotSchemaVersion=56] [phyTblIDs="[110]"] [actionTypes="[14]"] [diffTypes="[\"rename table\"]"]
[2024/05/17 10:55:13.751 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=112] [version=56]
[2024/05/17 10:55:13.753 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=56] ["take time"=2.619084ms] [job="ID:112, Type:rename table, State:running, SchemaState:public, SchemaID:106, TableID:110, RowCount:0, ArgLen:1, start time: 2024-05-17 10:55:13.746 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:13.755 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=112] [conn=1] [category=ddl] [job="ID:112, Type:rename table, State:running, SchemaState:public, SchemaID:106, TableID:110, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:13.746 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:13.756 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816694294052864] ["schema version"=57]
[2024/05/17 10:55:13.756 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=56] [neededSchemaVersion=57] ["start time"=123.291µs] [gotSchemaVersion=57] [phyTblIDs="[110]"] [actionTypes="[14]"] [diffTypes="[\"rename table\"]"]
[2024/05/17 10:55:13.757 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=112] [version=57]
[2024/05/17 10:55:13.758 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=57] ["take time"=2.003792ms] [job="ID:112, Type:rename table, State:done, SchemaState:public, SchemaID:106, TableID:110, RowCount:0, ArgLen:1, start time: 2024-05-17 10:55:13.746 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:13.761 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=112] [conn=1] [job="ID:112, Type:rename table, State:synced, SchemaState:public, SchemaID:106, TableID:110, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:13.746 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:13.764 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=112]
[2024/05/17 10:55:13.764 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:55:13.764 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816694294052864] ["schema version"=57]
[2024/05/17 10:55:13.764 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=1] [schemaVersion=57] [cur_db=] [sql="drop database rename1"] [user=]
[2024/05/17 10:55:13.765 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:113, Type:drop schema, State:queueing, SchemaState:public, SchemaID:104, TableID:0, RowCount:0, ArgLen:1, start time: 2024-05-17 10:55:13.765 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:55:13.765 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:113, Type:drop schema, State:queueing, SchemaState:public, SchemaID:104, TableID:0, RowCount:0, ArgLen:1, start time: 2024-05-17 10:55:13.765 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="drop database rename1"]
[2024/05/17 10:55:13.770 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=113] [conn=1] [category=ddl] [job="ID:113, Type:drop schema, State:queueing, SchemaState:public, SchemaID:104, TableID:0, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:13.765 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:13.771 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816694297722887] ["schema version"=58]
[2024/05/17 10:55:13.771 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=57] [neededSchemaVersion=58] ["start time"=55.5µs] [gotSchemaVersion=58] [phyTblIDs="[]"] [actionTypes="[]"] [diffTypes="[\"drop schema\"]"]
[2024/05/17 10:55:13.772 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=113] [version=58]
[2024/05/17 10:55:13.773 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=58] ["take time"=2.01175ms] [job="ID:113, Type:drop schema, State:running, SchemaState:write only, SchemaID:104, TableID:0, RowCount:0, ArgLen:1, start time: 2024-05-17 10:55:13.765 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:13.776 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=113] [conn=1] [category=ddl] [job="ID:113, Type:drop schema, State:running, SchemaState:write only, SchemaID:104, TableID:0, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:13.765 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:13.777 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816694299557890] ["schema version"=59]
[2024/05/17 10:55:13.777 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=58] [neededSchemaVersion=59] ["start time"=39.208µs] [gotSchemaVersion=59] [phyTblIDs="[]"] [actionTypes="[]"] [diffTypes="[\"drop schema\"]"]
[2024/05/17 10:55:13.778 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=113] [version=59]
[2024/05/17 10:55:13.779 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=59] ["take time"=2.025291ms] [job="ID:113, Type:drop schema, State:running, SchemaState:delete only, SchemaID:104, TableID:0, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:13.765 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:13.783 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=113] [conn=1] [category=ddl] [job="ID:113, Type:drop schema, State:running, SchemaState:delete only, SchemaID:104, TableID:0, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:13.765 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:13.784 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816694301392896] ["schema version"=60]
[2024/05/17 10:55:13.784 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=59] [neededSchemaVersion=60] ["start time"=33.833µs] [gotSchemaVersion=60] [phyTblIDs="[]"] [actionTypes="[]"] [diffTypes="[\"drop schema\"]"]
[2024/05/17 10:55:13.785 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=113] [version=60]
[2024/05/17 10:55:13.786 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=60] ["take time"=2.163541ms] [job="ID:113, Type:drop schema, State:done, SchemaState:none, SchemaID:104, TableID:0, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:13.765 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:13.791 +08:00] [INFO] [delete_range.go:112] ["add job into delete-range table"] [category=ddl] [jobID=113] [jobType="drop schema"]
[2024/05/17 10:55:13.791 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=113] [conn=1] [job="ID:113, Type:drop schema, State:synced, SchemaState:none, SchemaID:104, TableID:0, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:13.765 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:13.801 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=113]
[2024/05/17 10:55:13.801 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:55:13.801 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816694301392896] ["schema version"=60]
[2024/05/17 10:55:13.812 +08:00] [INFO] [domain.go:268] ["full load InfoSchema success"] [currentSchemaVersion=60] [neededSchemaVersion=60] ["start time"=10.8165ms]
[2024/05/17 10:55:13.816 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816694301392896] ["schema version"=60]
[2024/05/17 10:55:13.817 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=1] [schemaVersion=60] [cur_db=] [sql="rename table rename2.t to rename3.t"] [user=]
[2024/05/17 10:55:13.818 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:114, Type:rename table, State:queueing, SchemaState:none, SchemaID:108, TableID:110, RowCount:0, ArgLen:3, start time: 2024-05-17 10:55:13.818 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:55:13.818 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:114, Type:rename table, State:queueing, SchemaState:none, SchemaID:108, TableID:110, RowCount:0, ArgLen:3, start time: 2024-05-17 10:55:13.818 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="rename table rename2.t to rename3.t"]
[2024/05/17 10:55:13.822 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=114] [conn=1] [category=ddl] [job="ID:114, Type:rename table, State:queueing, SchemaState:none, SchemaID:108, TableID:110, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:13.818 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:13.823 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816694311616512] ["schema version"=61]
[2024/05/17 10:55:13.823 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=60] [neededSchemaVersion=61] ["start time"=238.875µs] [gotSchemaVersion=61] [phyTblIDs="[110]"] [actionTypes="[14]"] [diffTypes="[\"rename table\"]"]
[2024/05/17 10:55:13.824 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=114] [version=61]
[2024/05/17 10:55:13.826 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=61] ["take time"=2.794ms] [job="ID:114, Type:rename table, State:running, SchemaState:public, SchemaID:108, TableID:110, RowCount:0, ArgLen:1, start time: 2024-05-17 10:55:13.818 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:13.831 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=114] [conn=1] [category=ddl] [job="ID:114, Type:rename table, State:running, SchemaState:public, SchemaID:108, TableID:110, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:13.818 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:13.833 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816694313975811] ["schema version"=62]
[2024/05/17 10:55:13.833 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=61] [neededSchemaVersion=62] ["start time"=119.209µs] [gotSchemaVersion=62] [phyTblIDs="[110]"] [actionTypes="[14]"] [diffTypes="[\"rename table\"]"]
[2024/05/17 10:55:13.833 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=114] [version=62]
[2024/05/17 10:55:13.834 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=62] ["take time"=2.03875ms] [job="ID:114, Type:rename table, State:done, SchemaState:public, SchemaID:108, TableID:110, RowCount:0, ArgLen:1, start time: 2024-05-17 10:55:13.818 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:13.842 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=114] [conn=1] [job="ID:114, Type:rename table, State:synced, SchemaState:public, SchemaID:108, TableID:110, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:13.818 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:13.844 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=114]
[2024/05/17 10:55:13.844 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:55:13.844 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816694313975811] ["schema version"=62]
[2024/05/17 10:55:13.847 +08:00] [INFO] [mock.go:106] ["owner manager is canceled"] [category=ddl] [ID=ad85221d-66b9-4b8f-acef-aa2cd43cd9c5] [ownerKey=/tidb/ddl/fg/owner]
[2024/05/17 10:55:13.847 +08:00] [INFO] [ddl_workerpool.go:82] ["closing workerPool"] [category=ddl]
[2024/05/17 10:55:13.847 +08:00] [INFO] [ddl_worker.go:188] ["DDL worker closed"] [worker="worker 4, tp add index"] [category=ddl] ["take time"=792ns]
[2024/05/17 10:55:13.847 +08:00] [INFO] [ddl_workerpool.go:82] ["closing workerPool"] [category=ddl]
[2024/05/17 10:55:13.847 +08:00] [INFO] [ddl_worker.go:188] ["DDL worker closed"] [worker="worker 3, tp general"] [category=ddl] ["take time"=167ns]
[2024/05/17 10:55:13.847 +08:00] [INFO] [ddl_workerpool.go:82] ["closing workerPool"] [category=ddl]
[2024/05/17 10:55:13.847 +08:00] [INFO] [delete_range.go:162] ["closing delRange"] [category=ddl]
[2024/05/17 10:55:13.847 +08:00] [INFO] [session_pool.go:99] ["closing session pool"] [category=ddl]
[2024/05/17 10:55:13.847 +08:00] [INFO] [ddl.go:951] ["DDL closed"] [category=ddl] [ID=ad85221d-66b9-4b8f-acef-aa2cd43cd9c5] ["take time"=442.75µs]
[2024/05/17 10:55:13.847 +08:00] [INFO] [ddl.go:769] ["stop DDL"] [category=ddl] [ID=ad85221d-66b9-4b8f-acef-aa2cd43cd9c5]
[2024/05/17 10:55:13.847 +08:00] [INFO] [domain.go:1096] ["stopping ttlJobManager"]
[2024/05/17 10:55:13.847 +08:00] [INFO] [task_manager.go:194] ["shrink ttl worker"] [ttl-worker=job-manager] [ttl-worker=task-manager] [originalCount=4] [newCount=0]
[2024/05/17 10:55:13.847 +08:00] [INFO] [scan.go:309] ["ttlScanWorker loop exited."]
[2024/05/17 10:55:13.847 +08:00] [INFO] [scan.go:309] ["ttlScanWorker loop exited."]
[2024/05/17 10:55:13.847 +08:00] [INFO] [scan.go:309] ["ttlScanWorker loop exited."]
[2024/05/17 10:55:13.847 +08:00] [INFO] [scan.go:309] ["ttlScanWorker loop exited."]
[2024/05/17 10:55:13.847 +08:00] [INFO] [task_manager.go:194] ["shrink ttl worker"] [ttl-worker=job-manager] [ttl-worker=task-manager] [originalCount=4] [newCount=0]
[2024/05/17 10:55:13.847 +08:00] [INFO] [del.go:261] ["ttlDeleteWorker loop exited."]
[2024/05/17 10:55:13.847 +08:00] [INFO] [del.go:261] ["ttlDeleteWorker loop exited."]
[2024/05/17 10:55:13.847 +08:00] [INFO] [del.go:261] ["ttlDeleteWorker loop exited."]
[2024/05/17 10:55:13.847 +08:00] [INFO] [del.go:261] ["ttlDeleteWorker loop exited."]
[2024/05/17 10:55:13.847 +08:00] [INFO] [job_manager.go:174] ["ttlJobManager loop exited."] [ttl-worker=job-manager]
[2024/05/17 10:55:13.847 +08:00] [INFO] [domain.go:1107] ["ttlJobManager exited."]
[2024/05/17 10:55:13.847 +08:00] [INFO] [manager.go:280] ["recoverMetaLoop done"] [server-id=:4000]
[2024/05/17 10:55:13.847 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=mdlCheckLoop]
[2024/05/17 10:55:13.847 +08:00] [INFO] [domain.go:977] ["loadSchemaInLoop exited."]
[2024/05/17 10:55:13.847 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=loadSchemaInLoop]
[2024/05/17 10:55:13.847 +08:00] [INFO] [domain.go:1597] ["stopping dist task executor manager"]
[2024/05/17 10:55:13.847 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=loadSigningCertLoop]
[2024/05/17 10:55:13.847 +08:00] [INFO] [stats_syncload.go:216] ["SubLoadWorker exited."]
[2024/05/17 10:55:13.847 +08:00] [INFO] [stats_syncload.go:216] ["SubLoadWorker exited."]
[2024/05/17 10:55:13.847 +08:00] [INFO] [stats_syncload.go:216] ["SubLoadWorker exited."]
[2024/05/17 10:55:13.847 +08:00] [INFO] [stats_syncload.go:216] ["SubLoadWorker exited."]
[2024/05/17 10:55:13.847 +08:00] [INFO] [stats_syncload.go:216] ["SubLoadWorker exited."]
[2024/05/17 10:55:13.847 +08:00] [INFO] [mock.go:106] ["owner manager is canceled"] [category=ddl] [ID=ad85221d-66b9-4b8f-acef-aa2cd43cd9c5] [ownerKey=/tidb/stats/owner]
[2024/05/17 10:55:13.847 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=quitStatsOwner]
[2024/05/17 10:55:13.847 +08:00] [INFO] [domain.go:2423] ["indexUsageWorker exited."]
[2024/05/17 10:55:13.847 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=indexUsageWorker]
[2024/05/17 10:55:13.847 +08:00] [INFO] [domain.go:2144] ["dumpFileGcChecker exited."]
[2024/05/17 10:55:13.847 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=dumpFileGcChecker]
[2024/05/17 10:55:13.847 +08:00] [INFO] [domain.go:1820] ["LoadSysVarCacheLoop exited."]
[2024/05/17 10:55:13.847 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=LoadSysVarCacheLoop]
[2024/05/17 10:55:13.847 +08:00] [INFO] [domain.go:1770] ["loadPrivilegeInLoop exited."]
[2024/05/17 10:55:13.847 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=loadPrivilegeInLoop]
[2024/05/17 10:55:13.847 +08:00] [INFO] [mock.go:106] ["owner manager is canceled"] [category=ddl] [ID=ad85221d-66b9-4b8f-acef-aa2cd43cd9c5] [ownerKey=/tidb/bindinfo/owner]
[2024/05/17 10:55:13.848 +08:00] [INFO] [domain.go:1959] ["globalBindHandleWorkerLoop exited."]
[2024/05/17 10:55:13.848 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=globalBindHandleWorkerLoop]
[2024/05/17 10:55:13.848 +08:00] [INFO] [domain.go:831] ["topologySyncerKeeper exited."]
[2024/05/17 10:55:13.848 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=topologySyncerKeeper]
[2024/05/17 10:55:13.848 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=runawayStartLoop]
[2024/05/17 10:55:13.848 +08:00] [INFO] [domain.go:807] ["globalConfigSyncerKeeper exited."]
[2024/05/17 10:55:13.848 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=globalConfigSyncerKeeper]
[2024/05/17 10:55:13.848 +08:00] [INFO] [domain.go:781] ["infoSyncerKeeper exited."]
[2024/05/17 10:55:13.848 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=infoSyncerKeeper]
[2024/05/17 10:55:13.848 +08:00] [INFO] [domain.go:753] ["topNSlowQueryLoop exited."]
[2024/05/17 10:55:13.848 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=topNSlowQueryLoop]
[2024/05/17 10:55:13.848 +08:00] [INFO] [manager.go:179] ["handle tasks loop done"] [server-id=:4000]
[2024/05/17 10:55:13.848 +08:00] [INFO] [domain.go:1599] ["dist task executor manager stopped"]
[2024/05/17 10:55:13.848 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=distTaskFrameworkLoop]
[2024/05/17 10:55:13.848 +08:00] [INFO] [domain.go:1144] ["domain closed"] ["take time"=1.394625ms]
[2024/05/17 10:55:13.854 +08:00] [INFO] [db.go:567] ["Closing database"]
[2024/05/17 10:55:13.854 +08:00] [INFO] [db.go:592] ["Memtable flushed"]
[2024/05/17 10:55:13.854 +08:00] [INFO] [db.go:596] ["Compaction finished"]
[2024/05/17 10:55:13.854 +08:00] [INFO] [db.go:615] ["BlobManager finished"]
[2024/05/17 10:55:13.854 +08:00] [INFO] [db.go:619] ["ResourceManager finished"]
[2024/05/17 10:55:13.854 +08:00] [INFO] [db.go:625] ["Waiting for closer"]
--- FAIL: TestRenameTable (1.27s)
    testkit.go:158: 
        	Error Trace:	/Users/bba/pc/tidb/pkg/testkit/testkit.go:158
        	            				/Users/bba/pc/tidb/pkg/testkit/testkit.go:151
        	            				/Users/bba/pc/tidb/pkg/executor/test/ddl/ddl_test.go:927
        	Error:      	Received unexpected error:
        	            	[kv:1062]Duplicate entry '1' for key 't.PRIMARY'
        	            	github.com/pingcap/errors.AddStack
        	            		/Users/bba/.gvm/pkgsets/go1.21.0/global/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20240318064555-6bd07397691f/errors.go:178
        	            	github.com/pingcap/errors.Trace
        	            		/Users/bba/.gvm/pkgsets/go1.21.0/global/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20240318064555-6bd07397691f/juju_adaptor.go:15
        	            	github.com/pingcap/tidb/pkg/testkit.(*TestKit).ExecWithContext
        	            		/Users/bba/pc/tidb/pkg/testkit/testkit.go:402
        	            	github.com/pingcap/tidb/pkg/testkit.(*TestKit).MustExecWithContext
        	            		/Users/bba/pc/tidb/pkg/testkit/testkit.go:156
        	            	github.com/pingcap/tidb/pkg/testkit.(*TestKit).MustExec
        	            		/Users/bba/pc/tidb/pkg/testkit/testkit.go:151
        	            	github.com/pingcap/tidb/pkg/executor/test/ddl.TestRenameTable
        	            		/Users/bba/pc/tidb/pkg/executor/test/ddl/ddl_test.go:927
        	            	testing.tRunner
        	            		/Users/bba/.gvm/gos/go1.21.0/src/testing/testing.go:1595
        	            	runtime.goexit
        	            		/Users/bba/.gvm/gos/go1.21.0/src/runtime/asm_arm64.s:1197
        	Test:       	TestRenameTable
        	Messages:   	sql:insert rename3.t values (), [], error stack [kv:1062]Duplicate entry '1' for key 't.PRIMARY'
        	            	github.com/pingcap/errors.AddStack
        	            		/Users/bba/.gvm/pkgsets/go1.21.0/global/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20240318064555-6bd07397691f/errors.go:178
        	            	github.com/pingcap/errors.Trace
        	            		/Users/bba/.gvm/pkgsets/go1.21.0/global/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20240318064555-6bd07397691f/juju_adaptor.go:15
        	            	github.com/pingcap/tidb/pkg/testkit.(*TestKit).ExecWithContext
        	            		/Users/bba/pc/tidb/pkg/testkit/testkit.go:402
        	            	github.com/pingcap/tidb/pkg/testkit.(*TestKit).MustExecWithContext
        	            		/Users/bba/pc/tidb/pkg/testkit/testkit.go:156
        	            	github.com/pingcap/tidb/pkg/testkit.(*TestKit).MustExec
        	            		/Users/bba/pc/tidb/pkg/testkit/testkit.go:151
        	            	github.com/pingcap/tidb/pkg/executor/test/ddl.TestRenameTable
        	            		/Users/bba/pc/tidb/pkg/executor/test/ddl/ddl_test.go:927
        	            	testing.tRunner
        	            		/Users/bba/.gvm/gos/go1.21.0/src/testing/testing.go:1595
        	            	runtime.goexit
        	            		/Users/bba/.gvm/gos/go1.21.0/src/runtime/asm_arm64.s:1197
FAIL
[FAIL]  pkg/ddl TestRepairTableWithPartition
err=exit status 1
[2024/05/17 10:55:17.216 +08:00] [INFO] [store_cache.go:510] ["change store resolve state"] [store=1] [addr=store1] [from=unresolved] [to=resolved] [liveness-state=reachable]
[2024/05/17 10:55:17.217 +08:00] [INFO] [ddl_api.go:1141] ["Automatically convert BLOB(65535) to MEDIUMBLOB"] [category=ddl]
[2024/05/17 10:55:17.217 +08:00] [INFO] [ddl_api.go:1141] ["Automatically convert BLOB(65535) to MEDIUMBLOB"] [category=ddl]
[2024/05/17 10:55:17.217 +08:00] [INFO] [ddl_api.go:1141] ["Automatically convert BLOB(65535) to MEDIUMBLOB"] [category=ddl]
[2024/05/17 10:55:17.217 +08:00] [INFO] [ddl_api.go:1141] ["Automatically convert BLOB(65535) to MEDIUMBLOB"] [category=ddl]
[2024/05/17 10:55:17.217 +08:00] [INFO] [ddl_api.go:1141] ["Automatically convert BLOB(65535) to MEDIUMBLOB"] [category=ddl]
[2024/05/17 10:55:17.218 +08:00] [INFO] [tidb.go:80] ["new domain"] [store=11f25974-cc01-45e5-8e81-0f32ca5d7770] ["ddl lease"=600ms] ["stats lease"=-1ns]
[2024/05/17 10:55:17.221 +08:00] [WARN] [controller.go:198] ["[resource group controller] server does not save config, load config failed"]
[2024/05/17 10:55:17.221 +08:00] [INFO] [controller.go:185] ["load resource controller config"] [config="{\"degraded-mode-wait-duration\":\"0s\",\"ltb-max-wait-duration\":\"30s\",\"wait-retry-interval\":\"50ms\",\"wait-retry-times\":10,\"request-unit\":{\"read-base-cost\":0.125,\"read-per-batch-base-cost\":0.5,\"read-cost-per-byte\":0.0000152587890625,\"write-base-cost\":1,\"write-per-batch-base-cost\":1,\"write-cost-per-byte\":0.0009765625,\"read-cpu-ms-cost\":0.3333333333333333},\"enable-controller-trace-log\":\"false\"}"] [ru-config="{\"ReadBaseCost\":0.125,\"ReadPerBatchBaseCost\":0.5,\"ReadBytesCost\":0.0000152587890625,\"WriteBaseCost\":1,\"WritePerBatchBaseCost\":1,\"WriteBytesCost\":0.0009765625,\"CPUMsCost\":0.3333333333333333,\"LTBMaxWaitDuration\":30000000000,\"WaitRetryInterval\":50000000,\"WaitRetryTimes\":10,\"DegradedModeWaitDuration\":0}"]
[2024/05/17 10:55:17.221 +08:00] [WARN] [domain.go:302] ["failed to get schema version"] [error="There is no Write MVCC info for the schema version"] [errorVerbose="There is no Write MVCC info for the schema version\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).getTimestampForSchemaVersionWithNonEmptyDiff\n\t/Users/bba/pc/tidb/pkg/domain/domain.go:405\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).loadInfoSchema\n\t/Users/bba/pc/tidb/pkg/domain/domain.go:300\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).Reload\n\t/Users/bba/pc/tidb/pkg/domain/domain.go:676\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).Init\n\t/Users/bba/pc/tidb/pkg/domain/domain.go:1330\ngithub.com/pingcap/tidb/pkg/session.(*domainMap).Get.func1\n\t/Users/bba/pc/tidb/pkg/session/tidb.go:92\ngithub.com/pingcap/tidb/pkg/util.RunWithRetry\n\t/Users/bba/pc/tidb/pkg/util/misc.go:70\ngithub.com/pingcap/tidb/pkg/session.(*domainMap).Get\n\t/Users/bba/pc/tidb/pkg/session/tidb.go:79\ngithub.com/pingcap/tidb/pkg/session.createSessionWithOpt\n\t/Users/bba/pc/tidb/pkg/session/session.go:3634\ngithub.com/pingcap/tidb/pkg/session.createSession\n\t/Users/bba/pc/tidb/pkg/session/session.go:3626\ngithub.com/pingcap/tidb/pkg/session.runInBootstrapSession\n\t/Users/bba/pc/tidb/pkg/session/session.go:3576\ngithub.com/pingcap/tidb/pkg/session.bootstrapSessionImpl\n\t/Users/bba/pc/tidb/pkg/session/session.go:3352\ngithub.com/pingcap/tidb/pkg/session.BootstrapSession\n\t/Users/bba/pc/tidb/pkg/session/session.go:3318\ngithub.com/pingcap/tidb/pkg/testkit.bootstrap\n\t/Users/bba/pc/tidb/pkg/testkit/mockstore.go:294\ngithub.com/pingcap/tidb/pkg/testkit.CreateMockStoreAndDomainWithSchemaLease\n\t/Users/bba/pc/tidb/pkg/testkit/mockstore.go:319\ngithub.com/pingcap/tidb/pkg/testkit.CreateMockStoreWithSchemaLease\n\t/Users/bba/pc/tidb/pkg/testkit/mockstore.go:311\ngithub.com/pingcap/tidb/pkg/ddl_test.TestRepairTableWithPartition\n\t/Users/bba/pc/tidb/pkg/ddl/repair_table_test.go:171\ntesting.tRunner\n\t/Users/bba/.gvm/gos/go1.21.0/src/testing/testing.go:1595\nruntime.goexit\n\t/Users/bba/.gvm/gos/go1.21.0/src/runtime/asm_arm64.s:1197"] [version=0]
[2024/05/17 10:55:17.234 +08:00] [INFO] [domain.go:385] ["full load InfoSchema success"] [currentSchemaVersion=0] [neededSchemaVersion=0] ["start time"=12.271083ms]
[2024/05/17 10:55:17.235 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=0] ["schema version"=0]
[2024/05/17 10:55:17.235 +08:00] [INFO] [domain.go:705] ["full load and reset schema validator"]
[2024/05/17 10:55:17.235 +08:00] [INFO] [ddl.go:818] ["start DDL"] [category=ddl] [ID=5c6dfabe-a52b-44be-b4fc-92cd1c220a47] [runWorker=true]
[2024/05/17 10:55:17.237 +08:00] [INFO] [ddl.go:777] ["start delRangeManager OK"] [category=ddl] ["is a emulator"=true]
[2024/05/17 10:55:17.237 +08:00] [WARN] [env.go:51] ["initialize environment failed"] [category=ddl-ingest] ["storage limitation"="only support TiKV storage"] ["current storage"=unistore] ["lightning is initialized"=false]
[2024/05/17 10:55:17.237 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=loadSchemaInLoop]
[2024/05/17 10:55:17.237 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=mdlCheckLoop]
[2024/05/17 10:55:17.237 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=topNSlowQueryLoop]
[2024/05/17 10:55:17.237 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=infoSyncerKeeper]
[2024/05/17 10:55:17.237 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=globalConfigSyncerKeeper]
[2024/05/17 10:55:17.237 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=runawayStartLoop]
[2024/05/17 10:55:17.237 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=requestUnitsWriterLoop]
[2024/05/17 10:55:17.237 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=topologySyncerKeeper]
[2024/05/17 10:55:17.237 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=closestReplicaReadCheckLoop]
[2024/05/17 10:55:17.237 +08:00] [WARN] [domain.go:1396] ["pd / etcd client not provided, won't begin Advancer."]
[2024/05/17 10:55:17.238 +08:00] [INFO] [delete_range.go:172] ["start delRange emulator"] [category=ddl]
[2024/05/17 10:55:17.238 +08:00] [INFO] [job_table.go:334] ["get global state and global state change"] [category=ddl] [oldState=false] [currState=false]
[2024/05/17 10:55:17.238 +08:00] [INFO] [runaway.go:149] ["try to start runaway manager loop"]
[2024/05/17 10:55:17.238 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=requestUnitsWriterLoop]
[2024/05/17 10:55:17.288 +08:00] [INFO] [job_table.go:334] ["get global state and global state change"] [category=ddl] [oldState=false] [currState=false]
[2024/05/17 10:55:17.288 +08:00] [INFO] [job_table.go:349] ["the owner sets owner operator value"] [category=ddl] [ownerOp=none]
[2024/05/17 10:55:17.439 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=0] [cur_db=mysql] [sql="CREATE DATABASE IF NOT EXISTS test"] [user=]
[2024/05/17 10:55:17.440 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:3, Type:create schema, State:queueing, SchemaState:none, SchemaID:2, TableID:0, RowCount:0, ArgLen:1, start time: 2024-05-17 10:55:17.44 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:55:17.440 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:3, Type:create schema, State:queueing, SchemaState:none, SchemaID:2, TableID:0, RowCount:0, ArgLen:1, start time: 2024-05-17 10:55:17.44 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE DATABASE IF NOT EXISTS test"]
[2024/05/17 10:55:17.445 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=3] [category=ddl] [job="ID:3, Type:create schema, State:queueing, SchemaState:none, SchemaID:2, TableID:0, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:17.44 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:17.453 +08:00] [INFO] [domain.go:385] ["full load InfoSchema success"] [currentSchemaVersion=0] [neededSchemaVersion=1] ["start time"=6.645709ms]
[2024/05/17 10:55:17.454 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695261364224] ["schema version"=1]
[2024/05/17 10:55:17.454 +08:00] [INFO] [domain.go:705] ["full load and reset schema validator"]
[2024/05/17 10:55:17.455 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:55:17.455 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=3] [version=1]
[2024/05/17 10:55:17.457 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=1] ["take time"=10.049833ms] [job="ID:3, Type:create schema, State:done, SchemaState:public, SchemaID:2, TableID:0, RowCount:0, ArgLen:1, start time: 2024-05-17 10:55:17.44 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:17.457 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695261364224] ["schema version"=1]
[2024/05/17 10:55:17.461 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=3] [job="ID:3, Type:create schema, State:synced, SchemaState:public, SchemaID:2, TableID:0, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:17.44 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:17.463 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695261364224] ["schema version"=1]
[2024/05/17 10:55:17.463 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=3]
[2024/05/17 10:55:17.463 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:55:17.463 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695261364224] ["schema version"=1]
[2024/05/17 10:55:17.463 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=1] [cur_db=mysql] [sql="CREATE DATABASE IF NOT EXISTS `mysql`"] [user=]
[2024/05/17 10:55:17.464 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=1] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.user (\n\t\tHost\t\t\t\t\tCHAR(255),\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tauthentication_string\tTEXT,\n\t\tplugin\t\t\t\t\tCHAR(64),\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tProcess_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_db_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tSuper_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_user_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_slave_priv\t    \tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_client_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_role_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_role_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAccount_locked\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShutdown_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReload_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tFILE_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tConfig_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_Tablespace_Priv  ENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPassword_reuse_history  smallint unsigned DEFAULT NULL,\n\t\tPassword_reuse_time     smallint unsigned DEFAULT NULL,\n\t\tUser_attributes\t\t\tjson,\n\t\tToken_issuer\t\t\tVARCHAR(255),\n\t\tPassword_expired\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPassword_last_changed\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP(),\n\t\tPassword_lifetime\t\tSMALLINT UNSIGNED DEFAULT NULL,\n\t\tPRIMARY KEY (Host, User));"] [user=]
[2024/05/17 10:55:17.467 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:5, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:4, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:17.465 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:55:17.467 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:5, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:4, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:17.465 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.user (\n\t\tHost\t\t\t\t\tCHAR(255),\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tauthentication_string\tTEXT,\n\t\tplugin\t\t\t\t\tCHAR(64),\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tProcess_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_db_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tSuper_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_user_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_slave_priv\t    \tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_client_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_role_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_role_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAccount_locked\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShutdown_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReload_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tFILE_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tConfig_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_Tablespace_Priv  ENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPassword_reuse_history  smallint unsigned DEFAULT NULL,\n\t\tPassword_reuse_time     smallint unsigned DEFAULT NULL,\n\t\tUser_attributes\t\t\tjson,\n\t\tToken_issuer\t\t\tVARCHAR(255),\n\t\tPassword_expired\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPassword_last_changed\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP(),\n\t\tPassword_lifetime\t\tSMALLINT UNSIGNED DEFAULT NULL,\n\t\tPRIMARY KEY (Host, User));"]
[2024/05/17 10:55:17.472 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=5] [category=ddl] [job="ID:5, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:4, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:17.465 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:17.479 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695269752832] ["schema version"=2]
[2024/05/17 10:55:17.479 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=1] [neededSchemaVersion=2] ["start time"=757.833µs] [gotSchemaVersion=2] [phyTblIDs="[4]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:55:17.479 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:55:17.479 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=5] [version=2]
[2024/05/17 10:55:17.480 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=2] ["take time"=2.364959ms] [job="ID:5, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:4, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:17.465 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:17.481 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695269752832] ["schema version"=2]
[2024/05/17 10:55:17.484 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=5] [job="ID:5, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:4, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:17.465 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:17.486 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695269752832] ["schema version"=2]
[2024/05/17 10:55:17.487 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=5]
[2024/05/17 10:55:17.487 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:55:17.487 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695269752832] ["schema version"=2]
[2024/05/17 10:55:17.487 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=2] [cur_db=mysql] [sql="CREATE TABLE  IF NOT EXISTS mysql.password_history (\n         Host char(255)  NOT NULL DEFAULT '',\n         User char(32)  NOT NULL DEFAULT '',\n         Password_timestamp timestamp(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6),\n         Password text,\n         PRIMARY KEY (Host,User,Password_timestamp )\n        ) COMMENT='Password history for user accounts' "] [user=]
[2024/05/17 10:55:17.488 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:7, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:6, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:17.487 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:55:17.488 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:7, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:6, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:17.487 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE  IF NOT EXISTS mysql.password_history (\n         Host char(255)  NOT NULL DEFAULT '',\n         User char(32)  NOT NULL DEFAULT '',\n         Password_timestamp timestamp(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6),\n         Password text,\n         PRIMARY KEY (Host,User,Password_timestamp )\n        ) COMMENT='Password history for user accounts' "]
[2024/05/17 10:55:17.491 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=7] [category=ddl] [job="ID:7, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:6, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:17.487 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:17.492 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695273160712] ["schema version"=3]
[2024/05/17 10:55:17.492 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=2] [neededSchemaVersion=3] ["start time"=180.417µs] [gotSchemaVersion=3] [phyTblIDs="[6]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:55:17.492 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:55:17.492 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=7] [version=3]
[2024/05/17 10:55:17.494 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=3] ["take time"=2.812084ms] [job="ID:7, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:6, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:17.487 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:17.495 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695273160712] ["schema version"=3]
[2024/05/17 10:55:17.497 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=7] [job="ID:7, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:6, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:17.487 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:17.499 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695273160712] ["schema version"=3]
[2024/05/17 10:55:17.499 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=7]
[2024/05/17 10:55:17.499 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:55:17.499 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695273160712] ["schema version"=3]
[2024/05/17 10:55:17.499 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=3] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.global_priv (Host CHAR(255) NOT NULL DEFAULT '',User CHAR(80) NOT NULL DEFAULT '',Priv LONGTEXT NOT NULL DEFAULT '',PRIMARY KEY (Host, User))"] [user=]
[2024/05/17 10:55:17.500 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:9, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:8, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:17.5 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:55:17.500 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:9, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:8, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:17.5 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.global_priv (Host CHAR(255) NOT NULL DEFAULT '',User CHAR(80) NOT NULL DEFAULT '',Priv LONGTEXT NOT NULL DEFAULT '',PRIMARY KEY (Host, User))"]
[2024/05/17 10:55:17.503 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=9] [category=ddl] [job="ID:9, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:8, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:17.5 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:17.504 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695276568576] ["schema version"=4]
[2024/05/17 10:55:17.504 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=3] [neededSchemaVersion=4] ["start time"=164.125µs] [gotSchemaVersion=4] [phyTblIDs="[8]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:55:17.505 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:55:17.505 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=9] [version=4]
[2024/05/17 10:55:17.506 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=4] ["take time"=2.004125ms] [job="ID:9, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:8, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:17.5 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:17.506 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695276568576] ["schema version"=4]
[2024/05/17 10:55:17.509 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=9] [job="ID:9, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:8, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:17.5 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:17.511 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695276568576] ["schema version"=4]
[2024/05/17 10:55:17.511 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=9]
[2024/05/17 10:55:17.511 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:55:17.511 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695276568576] ["schema version"=4]
[2024/05/17 10:55:17.511 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=4] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.db (\n\t\tHost\t\t\t\t\tCHAR(255),\n\t\tDB\t\t\t\t\t\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv \t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (Host, DB, User));"] [user=]
[2024/05/17 10:55:17.512 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:11, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:10, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:17.512 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:55:17.513 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:11, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:10, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:17.512 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.db (\n\t\tHost\t\t\t\t\tCHAR(255),\n\t\tDB\t\t\t\t\t\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv \t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (Host, DB, User));"]
[2024/05/17 10:55:17.515 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=11] [category=ddl] [job="ID:11, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:10, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:17.512 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:17.518 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695279976448] ["schema version"=5]
[2024/05/17 10:55:17.518 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=4] [neededSchemaVersion=5] ["start time"=431.583µs] [gotSchemaVersion=5] [phyTblIDs="[10]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:55:17.518 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:55:17.518 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=11] [version=5]
[2024/05/17 10:55:17.519 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=5] ["take time"=2.003542ms] [job="ID:11, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:10, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:17.512 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:17.520 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695279976448] ["schema version"=5]
[2024/05/17 10:55:17.523 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=11] [job="ID:11, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:10, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:17.512 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:17.525 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695279976448] ["schema version"=5]
[2024/05/17 10:55:17.525 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=11]
[2024/05/17 10:55:17.525 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:55:17.525 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695279976448] ["schema version"=5]
[2024/05/17 10:55:17.525 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=5] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tables_priv (\n\t\tHost\t\tCHAR(255),\n\t\tDB\t\t\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tGrantor\t\tCHAR(77),\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tTable_priv\tSET('Select','Insert','Update','Delete','Create','Drop','Grant','Index','Alter','Create View','Show View','Trigger','References'),\n\t\tColumn_priv\tSET('Select','Insert','Update','References'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name));"] [user=]
[2024/05/17 10:55:17.526 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:13, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:12, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:17.526 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:55:17.526 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:13, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:12, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:17.526 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tables_priv (\n\t\tHost\t\tCHAR(255),\n\t\tDB\t\t\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tGrantor\t\tCHAR(77),\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tTable_priv\tSET('Select','Insert','Update','Delete','Create','Drop','Grant','Index','Alter','Create View','Show View','Trigger','References'),\n\t\tColumn_priv\tSET('Select','Insert','Update','References'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name));"]
[2024/05/17 10:55:17.529 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=13] [category=ddl] [job="ID:13, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:12, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:17.526 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:17.530 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695283384320] ["schema version"=6]
[2024/05/17 10:55:17.530 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=5] [neededSchemaVersion=6] ["start time"=228.375µs] [gotSchemaVersion=6] [phyTblIDs="[12]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:55:17.530 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:55:17.530 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=13] [version=6]
[2024/05/17 10:55:17.532 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=6] ["take time"=2.564125ms] [job="ID:13, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:12, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:17.526 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:17.533 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695283384320] ["schema version"=6]
[2024/05/17 10:55:17.535 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=13] [job="ID:13, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:12, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:17.526 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:17.537 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695283384320] ["schema version"=6]
[2024/05/17 10:55:17.537 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=13]
[2024/05/17 10:55:17.537 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:55:17.537 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695283384320] ["schema version"=6]
[2024/05/17 10:55:17.537 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=6] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.columns_priv(\n\t\tHost\t\tCHAR(255),\n\t\tDB\t\t\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tColumn_name\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tColumn_priv\tSET('Select','Insert','Update','References'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name, Column_name));"] [user=]
[2024/05/17 10:55:17.539 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:15, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:14, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:17.538 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:55:17.539 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:15, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:14, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:17.538 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.columns_priv(\n\t\tHost\t\tCHAR(255),\n\t\tDB\t\t\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tColumn_name\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tColumn_priv\tSET('Select','Insert','Update','References'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name, Column_name));"]
[2024/05/17 10:55:17.539 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695283384320] ["schema version"=6]
[2024/05/17 10:55:17.542 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=15] [category=ddl] [job="ID:15, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:14, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:17.538 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:17.544 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695287054336] ["schema version"=7]
[2024/05/17 10:55:17.544 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=6] [neededSchemaVersion=7] ["start time"=244.959µs] [gotSchemaVersion=7] [phyTblIDs="[14]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:55:17.545 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:55:17.545 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=15] [version=7]
[2024/05/17 10:55:17.547 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=7] ["take time"=2.6885ms] [job="ID:15, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:14, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:17.538 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:17.547 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695287054336] ["schema version"=7]
[2024/05/17 10:55:17.549 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=15] [job="ID:15, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:14, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:17.538 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:17.551 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695287054336] ["schema version"=7]
[2024/05/17 10:55:17.551 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=15]
[2024/05/17 10:55:17.551 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:55:17.551 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695287054336] ["schema version"=7]
[2024/05/17 10:55:17.551 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=7] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.GLOBAL_VARIABLES(\n\t\tVARIABLE_NAME  VARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE VARCHAR(16383) DEFAULT NULL);"] [user=]
[2024/05/17 10:55:17.552 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:17, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:16, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:17.552 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:55:17.552 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:17, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:16, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:17.552 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.GLOBAL_VARIABLES(\n\t\tVARIABLE_NAME  VARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE VARCHAR(16383) DEFAULT NULL);"]
[2024/05/17 10:55:17.555 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=17] [category=ddl] [job="ID:17, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:16, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:17.552 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:17.557 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695290462208] ["schema version"=8]
[2024/05/17 10:55:17.557 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=7] [neededSchemaVersion=8] ["start time"=151.25µs] [gotSchemaVersion=8] [phyTblIDs="[16]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:55:17.557 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:55:17.557 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=17] [version=8]
[2024/05/17 10:55:17.559 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=8] ["take time"=2.476792ms] [job="ID:17, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:16, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:17.552 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:17.560 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695290462208] ["schema version"=8]
[2024/05/17 10:55:17.562 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=17] [job="ID:17, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:16, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:17.552 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:17.564 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695290462208] ["schema version"=8]
[2024/05/17 10:55:17.564 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=17]
[2024/05/17 10:55:17.564 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:55:17.564 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695290462208] ["schema version"=8]
[2024/05/17 10:55:17.564 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=8] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb(\n\t\tVARIABLE_NAME  \tVARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE \tVARCHAR(1024) DEFAULT NULL,\n\t\tCOMMENT \t\tVARCHAR(1024));"] [user=]
[2024/05/17 10:55:17.565 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:19, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:18, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:17.565 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:55:17.565 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:19, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:18, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:17.565 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb(\n\t\tVARIABLE_NAME  \tVARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE \tVARCHAR(1024) DEFAULT NULL,\n\t\tCOMMENT \t\tVARCHAR(1024));"]
[2024/05/17 10:55:17.568 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=19] [category=ddl] [job="ID:19, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:18, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:17.565 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:17.570 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695293607938] ["schema version"=9]
[2024/05/17 10:55:17.570 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=8] [neededSchemaVersion=9] ["start time"=163.916µs] [gotSchemaVersion=9] [phyTblIDs="[18]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:55:17.570 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:55:17.570 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=19] [version=9]
[2024/05/17 10:55:17.571 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=9] ["take time"=2.003875ms] [job="ID:19, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:18, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:17.565 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:17.572 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695293607938] ["schema version"=9]
[2024/05/17 10:55:17.575 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=19] [job="ID:19, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:18, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:17.565 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:17.577 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695293607938] ["schema version"=9]
[2024/05/17 10:55:17.577 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=19]
[2024/05/17 10:55:17.577 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:55:17.577 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695293607938] ["schema version"=9]
[2024/05/17 10:55:17.577 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=9] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.help_topic (\n  \t\thelp_topic_id \t\tINT(10) UNSIGNED NOT NULL,\n  \t\tname \t\t\t\tCHAR(64) NOT NULL,\n  \t\thelp_category_id \tSMALLINT(5) UNSIGNED NOT NULL,\n  \t\tdescription \t\tTEXT NOT NULL,\n  \t\texample \t\t\tTEXT NOT NULL,\n  \t\turl \t\t\t\tTEXT NOT NULL,\n  \t\tPRIMARY KEY (help_topic_id) clustered,\n  \t\tUNIQUE KEY name (name)\n\t\t) ENGINE=InnoDB DEFAULT CHARSET=utf8 STATS_PERSISTENT=0 COMMENT='help topics';"] [user=]
[2024/05/17 10:55:17.578 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:21, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:20, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:17.578 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:55:17.578 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:21, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:20, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:17.578 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.help_topic (\n  \t\thelp_topic_id \t\tINT(10) UNSIGNED NOT NULL,\n  \t\tname \t\t\t\tCHAR(64) NOT NULL,\n  \t\thelp_category_id \tSMALLINT(5) UNSIGNED NOT NULL,\n  \t\tdescription \t\tTEXT NOT NULL,\n  \t\texample \t\t\tTEXT NOT NULL,\n  \t\turl \t\t\t\tTEXT NOT NULL,\n  \t\tPRIMARY KEY (help_topic_id) clustered,\n  \t\tUNIQUE KEY name (name)\n\t\t) ENGINE=InnoDB DEFAULT CHARSET=utf8 STATS_PERSISTENT=0 COMMENT='help topics';"]
[2024/05/17 10:55:17.581 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=21] [category=ddl] [job="ID:21, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:20, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:17.578 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:17.582 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695297015808] ["schema version"=10]
[2024/05/17 10:55:17.582 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=9] [neededSchemaVersion=10] ["start time"=186.291µs] [gotSchemaVersion=10] [phyTblIDs="[20]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:55:17.582 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:55:17.583 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=21] [version=10]
[2024/05/17 10:55:17.584 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=10] ["take time"=2.530334ms] [job="ID:21, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:20, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:17.578 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:17.585 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695297015808] ["schema version"=10]
[2024/05/17 10:55:17.586 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=21] [job="ID:21, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:20, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:17.578 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:17.588 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695297015808] ["schema version"=10]
[2024/05/17 10:55:17.588 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=21]
[2024/05/17 10:55:17.588 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:55:17.588 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695297015808] ["schema version"=10]
[2024/05/17 10:55:17.588 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=10] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_meta (\n\t\tversion \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\ttable_id \t\tBIGINT(64) NOT NULL,\n\t\tmodify_count\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcount \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tsnapshot        BIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tINDEX idx_ver(version),\n\t\tUNIQUE INDEX tbl(table_id)\n\t);"] [user=]
[2024/05/17 10:55:17.589 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:23, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:22, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:17.589 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:55:17.589 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:23, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:22, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:17.589 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_meta (\n\t\tversion \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\ttable_id \t\tBIGINT(64) NOT NULL,\n\t\tmodify_count\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcount \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tsnapshot        BIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tINDEX idx_ver(version),\n\t\tUNIQUE INDEX tbl(table_id)\n\t);"]
[2024/05/17 10:55:17.593 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=23] [category=ddl] [job="ID:23, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:22, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:17.589 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:17.594 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695300161536] ["schema version"=11]
[2024/05/17 10:55:17.594 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=10] [neededSchemaVersion=11] ["start time"=185.417µs] [gotSchemaVersion=11] [phyTblIDs="[22]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:55:17.594 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:55:17.594 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=23] [version=11]
[2024/05/17 10:55:17.596 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=11] ["take time"=2.566958ms] [job="ID:23, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:22, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:17.589 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:17.597 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695300161536] ["schema version"=11]
[2024/05/17 10:55:17.600 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=23] [job="ID:23, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:22, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:17.589 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:17.601 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695300161536] ["schema version"=11]
[2024/05/17 10:55:17.601 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=23]
[2024/05/17 10:55:17.601 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:55:17.601 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695300161536] ["schema version"=11]
[2024/05/17 10:55:17.601 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=11] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_histograms (\n\t\ttable_id \t\t\tBIGINT(64) NOT NULL,\n\t\tis_index \t\t\tTINYINT(2) NOT NULL,\n\t\thist_id \t\t\tBIGINT(64) NOT NULL,\n\t\tdistinct_count \t\tBIGINT(64) NOT NULL,\n\t\tnull_count \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\ttot_col_size \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tmodify_count \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tversion \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tcm_sketch \t\t\tBLOB(6291456),\n\t\tstats_ver \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tflag \t\t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcorrelation \t\tDOUBLE NOT NULL DEFAULT 0,\n\t\tlast_analyze_pos \tLONGBLOB DEFAULT NULL,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id)\n\t);"] [user=]
[2024/05/17 10:55:17.601 +08:00] [INFO] [ddl_api.go:1141] ["Automatically convert BLOB(6291456) to MEDIUMBLOB"] [category=ddl]
[2024/05/17 10:55:17.602 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:25, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:24, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:17.602 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:55:17.602 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:25, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:24, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:17.602 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_histograms (\n\t\ttable_id \t\t\tBIGINT(64) NOT NULL,\n\t\tis_index \t\t\tTINYINT(2) NOT NULL,\n\t\thist_id \t\t\tBIGINT(64) NOT NULL,\n\t\tdistinct_count \t\tBIGINT(64) NOT NULL,\n\t\tnull_count \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\ttot_col_size \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tmodify_count \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tversion \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tcm_sketch \t\t\tBLOB(6291456),\n\t\tstats_ver \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tflag \t\t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcorrelation \t\tDOUBLE NOT NULL DEFAULT 0,\n\t\tlast_analyze_pos \tLONGBLOB DEFAULT NULL,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id)\n\t);"]
[2024/05/17 10:55:17.605 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=25] [category=ddl] [job="ID:25, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:24, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:17.602 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:17.607 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695303307266] ["schema version"=12]
[2024/05/17 10:55:17.607 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=11] [neededSchemaVersion=12] ["start time"=299.875µs] [gotSchemaVersion=12] [phyTblIDs="[24]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:55:17.607 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:55:17.607 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=25] [version=12]
[2024/05/17 10:55:17.609 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=12] ["take time"=2.32125ms] [job="ID:25, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:24, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:17.602 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:17.609 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695303307266] ["schema version"=12]
[2024/05/17 10:55:17.612 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=25] [job="ID:25, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:24, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:17.602 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:17.613 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695303307266] ["schema version"=12]
[2024/05/17 10:55:17.613 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=25]
[2024/05/17 10:55:17.613 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:55:17.614 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695303307266] ["schema version"=12]
[2024/05/17 10:55:17.614 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=12] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_buckets (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tbucket_id \tBIGINT(64) NOT NULL,\n\t\tcount \t\tBIGINT(64) NOT NULL,\n\t\trepeats \tBIGINT(64) NOT NULL,\n\t\tupper_bound LONGBLOB NOT NULL,\n\t\tlower_bound LONGBLOB ,\n\t\tndv         BIGINT NOT NULL DEFAULT 0,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id, bucket_id)\n\t);"] [user=]
[2024/05/17 10:55:17.615 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:27, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:26, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:17.614 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:55:17.615 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:27, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:26, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:17.614 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_buckets (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tbucket_id \tBIGINT(64) NOT NULL,\n\t\tcount \t\tBIGINT(64) NOT NULL,\n\t\trepeats \tBIGINT(64) NOT NULL,\n\t\tupper_bound LONGBLOB NOT NULL,\n\t\tlower_bound LONGBLOB ,\n\t\tndv         BIGINT NOT NULL DEFAULT 0,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id, bucket_id)\n\t);"]
[2024/05/17 10:55:17.619 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=27] [category=ddl] [job="ID:27, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:26, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:17.614 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:17.622 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695307501568] ["schema version"=13]
[2024/05/17 10:55:17.622 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=12] [neededSchemaVersion=13] ["start time"=350.292µs] [gotSchemaVersion=13] [phyTblIDs="[26]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:55:17.623 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:55:17.623 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=27] [version=13]
[2024/05/17 10:55:17.625 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=13] ["take time"=3.346708ms] [job="ID:27, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:26, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:17.614 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:17.625 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695307501568] ["schema version"=13]
[2024/05/17 10:55:17.631 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=27] [job="ID:27, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:26, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:17.614 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:17.633 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695307501568] ["schema version"=13]
[2024/05/17 10:55:17.633 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=27]
[2024/05/17 10:55:17.633 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:55:17.633 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695307501568] ["schema version"=13]
[2024/05/17 10:55:17.633 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=13] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_index (job_id, element_id)\n\t);"] [user=]
[2024/05/17 10:55:17.636 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:29, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:28, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:17.635 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:55:17.636 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:29, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:28, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:17.635 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_index (job_id, element_id)\n\t);"]
[2024/05/17 10:55:17.641 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=29] [category=ddl] [job="ID:29, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:28, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:17.635 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:17.643 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695312744448] ["schema version"=14]
[2024/05/17 10:55:17.643 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=13] [neededSchemaVersion=14] ["start time"=253.875µs] [gotSchemaVersion=14] [phyTblIDs="[28]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:55:17.643 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:55:17.643 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=29] [version=14]
[2024/05/17 10:55:17.644 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=14] ["take time"=2.009375ms] [job="ID:29, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:28, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:17.635 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:17.645 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695312744448] ["schema version"=14]
[2024/05/17 10:55:17.649 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=29] [job="ID:29, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:28, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:17.635 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:17.650 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695312744448] ["schema version"=14]
[2024/05/17 10:55:17.650 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=29]
[2024/05/17 10:55:17.650 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:55:17.650 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695312744448] ["schema version"=14]
[2024/05/17 10:55:17.651 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=14] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range_done (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_done_index (job_id, element_id)\n\t);"] [user=]
[2024/05/17 10:55:17.652 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:31, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:30, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:17.651 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:55:17.652 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:31, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:30, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:17.651 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range_done (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_done_index (job_id, element_id)\n\t);"]
[2024/05/17 10:55:17.655 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=31] [category=ddl] [job="ID:31, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:30, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:17.651 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:17.656 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695316414464] ["schema version"=15]
[2024/05/17 10:55:17.656 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=14] [neededSchemaVersion=15] ["start time"=205.334µs] [gotSchemaVersion=15] [phyTblIDs="[30]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:55:17.657 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:55:17.657 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=31] [version=15]
[2024/05/17 10:55:17.659 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=15] ["take time"=2.594708ms] [job="ID:31, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:30, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:17.651 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:17.659 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695316414464] ["schema version"=15]
[2024/05/17 10:55:17.661 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=31] [job="ID:31, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:30, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:17.651 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:17.662 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695316414464] ["schema version"=15]
[2024/05/17 10:55:17.663 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=31]
[2024/05/17 10:55:17.663 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:55:17.663 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695316414464] ["schema version"=15]
[2024/05/17 10:55:17.663 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=15] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_feedback (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tfeedback \tBLOB NOT NULL,\n\t\tINDEX hist(table_id, is_index, hist_id)\n\t);"] [user=]
[2024/05/17 10:55:17.664 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:33, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:32, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:17.663 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:55:17.664 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:33, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:32, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:17.663 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_feedback (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tfeedback \tBLOB NOT NULL,\n\t\tINDEX hist(table_id, is_index, hist_id)\n\t);"]
[2024/05/17 10:55:17.667 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=33] [category=ddl] [job="ID:33, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:32, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:17.663 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:17.668 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695319560192] ["schema version"=16]
[2024/05/17 10:55:17.668 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=15] [neededSchemaVersion=16] ["start time"=175.792µs] [gotSchemaVersion=16] [phyTblIDs="[32]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:55:17.669 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:55:17.669 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=33] [version=16]
[2024/05/17 10:55:17.670 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=16] ["take time"=2.004125ms] [job="ID:33, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:32, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:17.663 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:17.670 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695319560192] ["schema version"=16]
[2024/05/17 10:55:17.673 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=33] [job="ID:33, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:32, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:17.663 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:17.674 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695319560192] ["schema version"=16]
[2024/05/17 10:55:17.674 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=33]
[2024/05/17 10:55:17.675 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:55:17.675 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695319560192] ["schema version"=16]
[2024/05/17 10:55:17.675 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=16] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.role_edges (\n\t\tFROM_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tFROM_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tWITH_ADMIN_OPTION \tENUM('N','Y') CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (FROM_HOST,FROM_USER,TO_HOST,TO_USER)\n\t);"] [user=]
[2024/05/17 10:55:17.676 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:35, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:34, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:17.675 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:55:17.676 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:35, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:34, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:17.675 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.role_edges (\n\t\tFROM_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tFROM_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tWITH_ADMIN_OPTION \tENUM('N','Y') CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (FROM_HOST,FROM_USER,TO_HOST,TO_USER)\n\t);"]
[2024/05/17 10:55:17.678 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=35] [category=ddl] [job="ID:35, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:34, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:17.675 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:17.680 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695322443782] ["schema version"=17]
[2024/05/17 10:55:17.680 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=16] [neededSchemaVersion=17] ["start time"=199.584µs] [gotSchemaVersion=17] [phyTblIDs="[34]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:55:17.680 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:55:17.680 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=35] [version=17]
[2024/05/17 10:55:17.682 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=17] ["take time"=2.536625ms] [job="ID:35, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:34, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:17.675 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:17.683 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695322443782] ["schema version"=17]
[2024/05/17 10:55:17.686 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=35] [job="ID:35, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:34, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:17.675 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:17.688 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695322443782] ["schema version"=17]
[2024/05/17 10:55:17.688 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=35]
[2024/05/17 10:55:17.688 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:55:17.688 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695322443782] ["schema version"=17]
[2024/05/17 10:55:17.688 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=17] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.default_roles (\n\t\tHOST \t\t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tUSER \t\t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tDEFAULT_ROLE_HOST \tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '%',\n\t\tDEFAULT_ROLE_USER \tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tPRIMARY KEY (HOST,USER,DEFAULT_ROLE_HOST,DEFAULT_ROLE_USER)\n\t)"] [user=]
[2024/05/17 10:55:17.691 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:37, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:36, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:17.689 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:55:17.691 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:37, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:36, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:17.689 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.default_roles (\n\t\tHOST \t\t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tUSER \t\t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tDEFAULT_ROLE_HOST \tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '%',\n\t\tDEFAULT_ROLE_USER \tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tPRIMARY KEY (HOST,USER,DEFAULT_ROLE_HOST,DEFAULT_ROLE_USER)\n\t)"]
[2024/05/17 10:55:17.694 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=37] [category=ddl] [job="ID:37, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:36, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:17.689 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:17.695 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695326638080] ["schema version"=18]
[2024/05/17 10:55:17.695 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=17] [neededSchemaVersion=18] ["start time"=199.792µs] [gotSchemaVersion=18] [phyTblIDs="[36]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:55:17.696 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:55:17.696 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=37] [version=18]
[2024/05/17 10:55:17.697 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=18] ["take time"=2.33825ms] [job="ID:37, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:36, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:17.689 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:17.698 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695326638080] ["schema version"=18]
[2024/05/17 10:55:17.701 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=37] [job="ID:37, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:36, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:17.689 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:17.702 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695326638080] ["schema version"=18]
[2024/05/17 10:55:17.702 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=37]
[2024/05/17 10:55:17.702 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:55:17.702 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695326638080] ["schema version"=18]
[2024/05/17 10:55:17.702 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=18] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.bind_info (\n\t\toriginal_sql TEXT NOT NULL,\n\t\tbind_sql TEXT NOT NULL,\n\t\tdefault_db TEXT NOT NULL,\n\t\tstatus TEXT NOT NULL,\n\t\tcreate_time TIMESTAMP(3) NOT NULL,\n\t\tupdate_time TIMESTAMP(3) NOT NULL,\n\t\tcharset TEXT NOT NULL,\n\t\tcollation TEXT NOT NULL,\n\t\tsource VARCHAR(10) NOT NULL DEFAULT 'unknown',\n\t\tsql_digest varchar(64),\n\t\tplan_digest varchar(64),\n\t\tINDEX sql_index(original_sql(700),default_db(68)) COMMENT \"accelerate the speed when add global binding query\",\n\t\tINDEX time_index(update_time) COMMENT \"accelerate the speed when querying with last update time\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"] [user=]
[2024/05/17 10:55:17.705 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:39, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:38, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:17.703 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:55:17.705 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:39, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:38, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:17.703 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.bind_info (\n\t\toriginal_sql TEXT NOT NULL,\n\t\tbind_sql TEXT NOT NULL,\n\t\tdefault_db TEXT NOT NULL,\n\t\tstatus TEXT NOT NULL,\n\t\tcreate_time TIMESTAMP(3) NOT NULL,\n\t\tupdate_time TIMESTAMP(3) NOT NULL,\n\t\tcharset TEXT NOT NULL,\n\t\tcollation TEXT NOT NULL,\n\t\tsource VARCHAR(10) NOT NULL DEFAULT 'unknown',\n\t\tsql_digest varchar(64),\n\t\tplan_digest varchar(64),\n\t\tINDEX sql_index(original_sql(700),default_db(68)) COMMENT \"accelerate the speed when add global binding query\",\n\t\tINDEX time_index(update_time) COMMENT \"accelerate the speed when querying with last update time\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"]
[2024/05/17 10:55:17.708 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=39] [category=ddl] [job="ID:39, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:38, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:17.703 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:17.710 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695330308098] ["schema version"=19]
[2024/05/17 10:55:17.710 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=18] [neededSchemaVersion=19] ["start time"=276.25µs] [gotSchemaVersion=19] [phyTblIDs="[38]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:55:17.710 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:55:17.710 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=39] [version=19]
[2024/05/17 10:55:17.712 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=19] ["take time"=2.421083ms] [job="ID:39, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:38, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:17.703 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:17.712 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695330308098] ["schema version"=19]
[2024/05/17 10:55:17.714 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=39] [job="ID:39, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:38, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:17.703 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:17.716 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695330308098] ["schema version"=19]
[2024/05/17 10:55:17.717 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=39]
[2024/05/17 10:55:17.717 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:55:17.717 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695330308098] ["schema version"=19]
[2024/05/17 10:55:17.717 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=19] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_top_n (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tvalue \t\tLONGBLOB,\n\t\tcount \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\tINDEX tbl(table_id, is_index, hist_id)\n\t);"] [user=]
[2024/05/17 10:55:17.718 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:41, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:40, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:17.718 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:55:17.718 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:41, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:40, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:17.718 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_top_n (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tvalue \t\tLONGBLOB,\n\t\tcount \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\tINDEX tbl(table_id, is_index, hist_id)\n\t);"]
[2024/05/17 10:55:17.721 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=41] [category=ddl] [job="ID:41, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:40, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:17.718 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:17.723 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695333978112] ["schema version"=20]
[2024/05/17 10:55:17.723 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=19] [neededSchemaVersion=20] ["start time"=197.958µs] [gotSchemaVersion=20] [phyTblIDs="[40]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:55:17.723 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:55:17.723 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=41] [version=20]
[2024/05/17 10:55:17.725 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=20] ["take time"=2.004417ms] [job="ID:41, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:40, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:17.718 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:17.725 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695333978112] ["schema version"=20]
[2024/05/17 10:55:17.728 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=41] [job="ID:41, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:40, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:17.718 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:17.729 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695333978112] ["schema version"=20]
[2024/05/17 10:55:17.729 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=41]
[2024/05/17 10:55:17.729 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:55:17.729 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695333978112] ["schema version"=20]
[2024/05/17 10:55:17.729 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=20] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.expr_pushdown_blacklist (\n\t\tname \t\tCHAR(100) NOT NULL,\n\t\tstore_type \tCHAR(100) NOT NULL DEFAULT 'tikv,tiflash,tidb',\n\t\treason \t\tVARCHAR(200)\n\t);"] [user=]
[2024/05/17 10:55:17.730 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:43, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:42, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:17.73 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:55:17.730 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:43, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:42, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:17.73 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.expr_pushdown_blacklist (\n\t\tname \t\tCHAR(100) NOT NULL,\n\t\tstore_type \tCHAR(100) NOT NULL DEFAULT 'tikv,tiflash,tidb',\n\t\treason \t\tVARCHAR(200)\n\t);"]
[2024/05/17 10:55:17.732 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=43] [category=ddl] [job="ID:43, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:42, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:17.73 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:17.733 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695336599558] ["schema version"=21]
[2024/05/17 10:55:17.733 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=20] [neededSchemaVersion=21] ["start time"=140.875µs] [gotSchemaVersion=21] [phyTblIDs="[42]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:55:17.734 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:55:17.734 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=43] [version=21]
[2024/05/17 10:55:17.736 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=21] ["take time"=2.338042ms] [job="ID:43, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:42, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:17.73 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:17.736 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695336599558] ["schema version"=21]
[2024/05/17 10:55:17.738 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=43] [job="ID:43, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:42, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:17.73 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:17.740 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695336599558] ["schema version"=21]
[2024/05/17 10:55:17.740 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=43]
[2024/05/17 10:55:17.740 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:55:17.740 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695336599558] ["schema version"=21]
[2024/05/17 10:55:17.740 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=21] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.opt_rule_blacklist (\n\t\tname \tCHAR(100) NOT NULL\n\t);"] [user=]
[2024/05/17 10:55:17.740 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:45, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:44, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:17.74 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:55:17.740 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:45, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:44, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:17.74 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.opt_rule_blacklist (\n\t\tname \tCHAR(100) NOT NULL\n\t);"]
[2024/05/17 10:55:17.743 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=45] [category=ddl] [job="ID:45, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:44, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:17.74 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:17.744 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695339483137] ["schema version"=22]
[2024/05/17 10:55:17.744 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=21] [neededSchemaVersion=22] ["start time"=100.625µs] [gotSchemaVersion=22] [phyTblIDs="[44]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:55:17.745 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:55:17.745 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=45] [version=22]
[2024/05/17 10:55:17.746 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=22] ["take time"=2.373167ms] [job="ID:45, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:44, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:17.74 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:17.747 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695339483137] ["schema version"=22]
[2024/05/17 10:55:17.748 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=45] [job="ID:45, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:44, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:17.74 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:17.750 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695339483137] ["schema version"=22]
[2024/05/17 10:55:17.750 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=45]
[2024/05/17 10:55:17.750 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:55:17.750 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695339483137] ["schema version"=22]
[2024/05/17 10:55:17.751 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=22] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_extended (\n\t\tname varchar(32) NOT NULL,\n\t\ttype tinyint(4) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tcolumn_ids varchar(32) NOT NULL,\n\t\tstats blob DEFAULT NULL,\n\t\tversion bigint(64) unsigned NOT NULL,\n\t\tstatus tinyint(4) NOT NULL,\n\t\tPRIMARY KEY(name, table_id),\n\t\tKEY idx_1 (table_id, status, version),\n\t\tKEY idx_2 (status, version)\n\t);"] [user=]
[2024/05/17 10:55:17.752 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:47, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:46, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:17.751 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:55:17.752 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:47, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:46, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:17.751 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_extended (\n\t\tname varchar(32) NOT NULL,\n\t\ttype tinyint(4) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tcolumn_ids varchar(32) NOT NULL,\n\t\tstats blob DEFAULT NULL,\n\t\tversion bigint(64) unsigned NOT NULL,\n\t\tstatus tinyint(4) NOT NULL,\n\t\tPRIMARY KEY(name, table_id),\n\t\tKEY idx_1 (table_id, status, version),\n\t\tKEY idx_2 (status, version)\n\t);"]
[2024/05/17 10:55:17.754 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=47] [category=ddl] [job="ID:47, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:46, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:17.751 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:17.756 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695342366726] ["schema version"=23]
[2024/05/17 10:55:17.756 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=22] [neededSchemaVersion=23] ["start time"=218.417µs] [gotSchemaVersion=23] [phyTblIDs="[46]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:55:17.756 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:55:17.756 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=47] [version=23]
[2024/05/17 10:55:17.758 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=23] ["take time"=2.260209ms] [job="ID:47, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:46, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:17.751 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:17.758 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695342366726] ["schema version"=23]
[2024/05/17 10:55:17.760 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=47] [job="ID:47, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:46, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:17.751 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:17.762 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695342366726] ["schema version"=23]
[2024/05/17 10:55:17.762 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=47]
[2024/05/17 10:55:17.762 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:55:17.762 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695342366726] ["schema version"=23]
[2024/05/17 10:55:17.762 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=23] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_fm_sketch (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tvalue \t\tLONGBLOB,\n\t\tINDEX tbl(table_id, is_index, hist_id)\n\t);"] [user=]
[2024/05/17 10:55:17.763 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:49, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:48, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:17.762 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:55:17.763 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:49, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:48, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:17.762 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_fm_sketch (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tvalue \t\tLONGBLOB,\n\t\tINDEX tbl(table_id, is_index, hist_id)\n\t);"]
[2024/05/17 10:55:17.765 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=49] [category=ddl] [job="ID:49, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:48, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:17.762 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:17.766 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695345250307] ["schema version"=24]
[2024/05/17 10:55:17.766 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=23] [neededSchemaVersion=24] ["start time"=158.75µs] [gotSchemaVersion=24] [phyTblIDs="[48]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:55:17.767 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:55:17.767 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=49] [version=24]
[2024/05/17 10:55:17.768 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=24] ["take time"=2.119625ms] [job="ID:49, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:48, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:17.762 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:17.769 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695345250307] ["schema version"=24]
[2024/05/17 10:55:17.771 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=49] [job="ID:49, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:48, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:17.762 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:17.772 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695345250307] ["schema version"=24]
[2024/05/17 10:55:17.772 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=49]
[2024/05/17 10:55:17.772 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:55:17.772 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695345250307] ["schema version"=24]
[2024/05/17 10:55:17.772 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=24] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.global_grants (\n\t\tUSER char(32) NOT NULL DEFAULT '',\n\t\tHOST char(255) NOT NULL DEFAULT '',\n\t\tPRIV char(32) NOT NULL DEFAULT '',\n\t\tWITH_GRANT_OPTION enum('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (USER,HOST,PRIV)\n\t);"] [user=]
[2024/05/17 10:55:17.773 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:51, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:50, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:17.773 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:55:17.773 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:51, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:50, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:17.773 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.global_grants (\n\t\tUSER char(32) NOT NULL DEFAULT '',\n\t\tHOST char(255) NOT NULL DEFAULT '',\n\t\tPRIV char(32) NOT NULL DEFAULT '',\n\t\tWITH_GRANT_OPTION enum('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (USER,HOST,PRIV)\n\t);"]
[2024/05/17 10:55:17.775 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=51] [category=ddl] [job="ID:51, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:50, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:17.773 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:17.776 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695347871746] ["schema version"=25]
[2024/05/17 10:55:17.776 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=24] [neededSchemaVersion=25] ["start time"=162.458µs] [gotSchemaVersion=25] [phyTblIDs="[50]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:55:17.777 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:55:17.777 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=51] [version=25]
[2024/05/17 10:55:17.778 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=25] ["take time"=2.125375ms] [job="ID:51, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:50, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:17.773 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:17.779 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695347871746] ["schema version"=25]
[2024/05/17 10:55:17.781 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=51] [job="ID:51, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:50, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:17.773 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:17.782 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695347871746] ["schema version"=25]
[2024/05/17 10:55:17.782 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=51]
[2024/05/17 10:55:17.782 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:55:17.782 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695347871746] ["schema version"=25]
[2024/05/17 10:55:17.782 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=25] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.capture_plan_baselines_blacklist (\n\t\tid bigint(64) auto_increment,\n\t\tfilter_type varchar(32) NOT NULL COMMENT \"type of the filter, only db, table and frequency supported now\",\n\t\tfilter_value varchar(32) NOT NULL,\n\t\tkey idx(filter_type),\n\t\tprimary key(id)\n\t);"] [user=]
[2024/05/17 10:55:17.783 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:53, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:52, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:17.783 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:55:17.783 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:53, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:52, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:17.783 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.capture_plan_baselines_blacklist (\n\t\tid bigint(64) auto_increment,\n\t\tfilter_type varchar(32) NOT NULL COMMENT \"type of the filter, only db, table and frequency supported now\",\n\t\tfilter_value varchar(32) NOT NULL,\n\t\tkey idx(filter_type),\n\t\tprimary key(id)\n\t);"]
[2024/05/17 10:55:17.785 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=53] [category=ddl] [job="ID:53, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:52, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:17.783 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:17.786 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695350493188] ["schema version"=26]
[2024/05/17 10:55:17.786 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=25] [neededSchemaVersion=26] ["start time"=160.333µs] [gotSchemaVersion=26] [phyTblIDs="[52]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:55:17.787 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:55:17.787 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=53] [version=26]
[2024/05/17 10:55:17.788 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=26] ["take time"=2.024583ms] [job="ID:53, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:52, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:17.783 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:17.789 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695350493188] ["schema version"=26]
[2024/05/17 10:55:17.794 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=53] [job="ID:53, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:52, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:17.783 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:17.797 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695350493188] ["schema version"=26]
[2024/05/17 10:55:17.797 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=53]
[2024/05/17 10:55:17.797 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:55:17.797 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695350493188] ["schema version"=26]
[2024/05/17 10:55:17.798 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=26] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.column_stats_usage (\n\t\ttable_id BIGINT(64) NOT NULL,\n\t\tcolumn_id BIGINT(64) NOT NULL,\n\t\tlast_used_at TIMESTAMP,\n\t\tlast_analyzed_at TIMESTAMP,\n\t\tPRIMARY KEY (table_id, column_id) CLUSTERED\n\t);"] [user=]
[2024/05/17 10:55:17.800 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:55, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:54, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:17.8 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:55:17.800 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:55, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:54, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:17.8 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.column_stats_usage (\n\t\ttable_id BIGINT(64) NOT NULL,\n\t\tcolumn_id BIGINT(64) NOT NULL,\n\t\tlast_used_at TIMESTAMP,\n\t\tlast_analyzed_at TIMESTAMP,\n\t\tPRIMARY KEY (table_id, column_id) CLUSTERED\n\t);"]
[2024/05/17 10:55:17.805 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=55] [category=ddl] [job="ID:55, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:54, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:17.8 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:17.807 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695355736065] ["schema version"=27]
[2024/05/17 10:55:17.807 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=26] [neededSchemaVersion=27] ["start time"=238.166µs] [gotSchemaVersion=27] [phyTblIDs="[54]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:55:17.809 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:55:17.809 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=55] [version=27]
[2024/05/17 10:55:17.811 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=27] ["take time"=4.696875ms] [job="ID:55, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:54, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:17.8 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:17.811 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695355736065] ["schema version"=27]
[2024/05/17 10:55:17.817 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=55] [job="ID:55, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:54, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:17.8 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:17.819 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695355736065] ["schema version"=27]
[2024/05/17 10:55:17.819 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=55]
[2024/05/17 10:55:17.819 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:55:17.819 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695355736065] ["schema version"=27]
[2024/05/17 10:55:17.819 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=27] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.table_cache_meta (\n\t\ttid bigint(11) NOT NULL DEFAULT 0,\n\t\tlock_type enum('NONE','READ', 'INTEND', 'WRITE') NOT NULL DEFAULT 'NONE',\n\t\tlease bigint(20) NOT NULL DEFAULT 0,\n\t\toldReadLease bigint(20) NOT NULL DEFAULT 0,\n\t\tPRIMARY KEY (tid)\n\t);"] [user=]
[2024/05/17 10:55:17.821 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:57, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:56, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:17.821 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:55:17.821 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:57, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:56, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:17.821 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.table_cache_meta (\n\t\ttid bigint(11) NOT NULL DEFAULT 0,\n\t\tlock_type enum('NONE','READ', 'INTEND', 'WRITE') NOT NULL DEFAULT 'NONE',\n\t\tlease bigint(20) NOT NULL DEFAULT 0,\n\t\toldReadLease bigint(20) NOT NULL DEFAULT 0,\n\t\tPRIMARY KEY (tid)\n\t);"]
[2024/05/17 10:55:17.824 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=57] [category=ddl] [job="ID:57, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:56, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:17.821 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:17.825 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695360716801] ["schema version"=28]
[2024/05/17 10:55:17.825 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=27] [neededSchemaVersion=28] ["start time"=149.5µs] [gotSchemaVersion=28] [phyTblIDs="[56]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:55:17.826 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:55:17.826 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=57] [version=28]
[2024/05/17 10:55:17.827 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=28] ["take time"=2.41675ms] [job="ID:57, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:56, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:17.821 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:17.828 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695360716801] ["schema version"=28]
[2024/05/17 10:55:17.830 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=57] [job="ID:57, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:56, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:17.821 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:17.831 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695360716801] ["schema version"=28]
[2024/05/17 10:55:17.831 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=57]
[2024/05/17 10:55:17.831 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:55:17.831 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695360716801] ["schema version"=28]
[2024/05/17 10:55:17.831 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=28] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.analyze_options (\n\t\ttable_id BIGINT(64) NOT NULL,\n\t\tsample_num BIGINT(64) NOT NULL DEFAULT 0,\n\t\tsample_rate DOUBLE NOT NULL DEFAULT -1,\n\t\tbuckets BIGINT(64) NOT NULL DEFAULT 0,\n\t\ttopn BIGINT(64) NOT NULL DEFAULT -1,\n\t\tcolumn_choice enum('DEFAULT','ALL','PREDICATE','LIST') NOT NULL DEFAULT 'DEFAULT',\n\t\tcolumn_ids TEXT(19372),\n\t\tPRIMARY KEY (table_id) CLUSTERED\n\t);"] [user=]
[2024/05/17 10:55:17.831 +08:00] [INFO] [ddl_api.go:1141] ["Automatically convert BLOB(19372) to MEDIUMBLOB"] [category=ddl]
[2024/05/17 10:55:17.832 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:59, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:58, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:17.832 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:55:17.832 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:59, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:58, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:17.832 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.analyze_options (\n\t\ttable_id BIGINT(64) NOT NULL,\n\t\tsample_num BIGINT(64) NOT NULL DEFAULT 0,\n\t\tsample_rate DOUBLE NOT NULL DEFAULT -1,\n\t\tbuckets BIGINT(64) NOT NULL DEFAULT 0,\n\t\ttopn BIGINT(64) NOT NULL DEFAULT -1,\n\t\tcolumn_choice enum('DEFAULT','ALL','PREDICATE','LIST') NOT NULL DEFAULT 'DEFAULT',\n\t\tcolumn_ids TEXT(19372),\n\t\tPRIMARY KEY (table_id) CLUSTERED\n\t);"]
[2024/05/17 10:55:17.836 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=59] [category=ddl] [job="ID:59, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:58, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:17.832 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:17.837 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695363862528] ["schema version"=29]
[2024/05/17 10:55:17.837 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=28] [neededSchemaVersion=29] ["start time"=213.042µs] [gotSchemaVersion=29] [phyTblIDs="[58]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:55:17.838 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:55:17.838 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=59] [version=29]
[2024/05/17 10:55:17.839 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695363862528] ["schema version"=29]
[2024/05/17 10:55:17.839 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=29] ["take time"=2.097208ms] [job="ID:59, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:58, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:17.832 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:17.839 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695363862528] ["schema version"=29]
[2024/05/17 10:55:17.842 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=59] [job="ID:59, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:58, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:17.832 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:17.844 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695363862528] ["schema version"=29]
[2024/05/17 10:55:17.844 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=59]
[2024/05/17 10:55:17.844 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:55:17.844 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695363862528] ["schema version"=29]
[2024/05/17 10:55:17.844 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=29] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_history (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tstats_data longblob NOT NULL,\n\t\tseq_no bigint(64) NOT NULL comment 'sequence number of the gzipped data slice',\n\t\tversion bigint(64) NOT NULL comment 'stats version which corresponding to stats:version in EXPLAIN',\n\t\tcreate_time datetime(6) NOT NULL,\n\t\tUNIQUE KEY table_version_seq (table_id, version, seq_no),\n\t\tKEY table_create_time (table_id, create_time, seq_no),\n    \tKEY idx_create_time (create_time)\n\t);"] [user=]
[2024/05/17 10:55:17.845 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:61, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:60, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:17.844 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:55:17.845 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:61, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:60, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:17.844 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_history (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tstats_data longblob NOT NULL,\n\t\tseq_no bigint(64) NOT NULL comment 'sequence number of the gzipped data slice',\n\t\tversion bigint(64) NOT NULL comment 'stats version which corresponding to stats:version in EXPLAIN',\n\t\tcreate_time datetime(6) NOT NULL,\n\t\tUNIQUE KEY table_version_seq (table_id, version, seq_no),\n\t\tKEY table_create_time (table_id, create_time, seq_no),\n    \tKEY idx_create_time (create_time)\n\t);"]
[2024/05/17 10:55:17.848 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=61] [category=ddl] [job="ID:61, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:60, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:17.844 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:17.849 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695367008257] ["schema version"=30]
[2024/05/17 10:55:17.849 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=29] [neededSchemaVersion=30] ["start time"=208µs] [gotSchemaVersion=30] [phyTblIDs="[60]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:55:17.850 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:55:17.850 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=61] [version=30]
[2024/05/17 10:55:17.852 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=30] ["take time"=2.612417ms] [job="ID:61, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:60, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:17.844 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:17.852 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695367008257] ["schema version"=30]
[2024/05/17 10:55:17.855 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=61] [job="ID:61, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:60, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:17.844 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:17.856 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695367008257] ["schema version"=30]
[2024/05/17 10:55:17.856 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=61]
[2024/05/17 10:55:17.856 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:55:17.856 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695367008257] ["schema version"=30]
[2024/05/17 10:55:17.856 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=30] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_meta_history (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tmodify_count bigint(64) NOT NULL,\n\t\tcount bigint(64) NOT NULL,\n\t\tversion bigint(64) NOT NULL comment 'stats version which corresponding to stats:version in EXPLAIN',\n    \tsource varchar(40) NOT NULL,\n\t\tcreate_time datetime(6) NOT NULL,\n\t\tUNIQUE KEY table_version (table_id, version),\n\t\tKEY table_create_time (table_id, create_time),\n    \tKEY idx_create_time (create_time)\n\t);"] [user=]
[2024/05/17 10:55:17.858 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:63, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:62, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:17.857 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:55:17.858 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:63, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:62, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:17.857 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_meta_history (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tmodify_count bigint(64) NOT NULL,\n\t\tcount bigint(64) NOT NULL,\n\t\tversion bigint(64) NOT NULL comment 'stats version which corresponding to stats:version in EXPLAIN',\n    \tsource varchar(40) NOT NULL,\n\t\tcreate_time datetime(6) NOT NULL,\n\t\tUNIQUE KEY table_version (table_id, version),\n\t\tKEY table_create_time (table_id, create_time),\n    \tKEY idx_create_time (create_time)\n\t);"]
[2024/05/17 10:55:17.860 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=63] [category=ddl] [job="ID:63, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:62, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:17.857 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:17.862 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695370153986] ["schema version"=31]
[2024/05/17 10:55:17.862 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=30] [neededSchemaVersion=31] ["start time"=226.792µs] [gotSchemaVersion=31] [phyTblIDs="[62]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:55:17.862 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:55:17.862 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=63] [version=31]
[2024/05/17 10:55:17.863 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=31] ["take time"=2.004209ms] [job="ID:63, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:62, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:17.857 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:17.864 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695370153986] ["schema version"=31]
[2024/05/17 10:55:17.866 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=63] [job="ID:63, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:62, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:17.857 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:17.868 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695370153986] ["schema version"=31]
[2024/05/17 10:55:17.869 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=63]
[2024/05/17 10:55:17.869 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:55:17.869 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695370153986] ["schema version"=31]
[2024/05/17 10:55:17.870 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=31] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.analyze_jobs (\n\t\tid BIGINT(64) UNSIGNED NOT NULL AUTO_INCREMENT,\n\t\tupdate_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\ttable_schema CHAR(64) NOT NULL DEFAULT '',\n\t\ttable_name CHAR(64) NOT NULL DEFAULT '',\n\t\tpartition_name CHAR(64) NOT NULL DEFAULT '',\n\t\tjob_info TEXT NOT NULL,\n\t\tprocessed_rows BIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tstart_time TIMESTAMP,\n\t\tend_time TIMESTAMP,\n\t\tstate ENUM('pending', 'running', 'finished', 'failed') NOT NULL,\n\t\tfail_reason TEXT,\n\t\tinstance VARCHAR(512) NOT NULL comment 'address of the TiDB instance executing the analyze job',\n\t\tprocess_id BIGINT(64) UNSIGNED comment 'ID of the process executing the analyze job',\n\t\tPRIMARY KEY (id),\n\t\tKEY (update_time)\n\t);"] [user=]
[2024/05/17 10:55:17.872 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:65, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:64, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:17.871 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:55:17.872 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:65, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:64, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:17.871 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.analyze_jobs (\n\t\tid BIGINT(64) UNSIGNED NOT NULL AUTO_INCREMENT,\n\t\tupdate_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\ttable_schema CHAR(64) NOT NULL DEFAULT '',\n\t\ttable_name CHAR(64) NOT NULL DEFAULT '',\n\t\tpartition_name CHAR(64) NOT NULL DEFAULT '',\n\t\tjob_info TEXT NOT NULL,\n\t\tprocessed_rows BIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tstart_time TIMESTAMP,\n\t\tend_time TIMESTAMP,\n\t\tstate ENUM('pending', 'running', 'finished', 'failed') NOT NULL,\n\t\tfail_reason TEXT,\n\t\tinstance VARCHAR(512) NOT NULL comment 'address of the TiDB instance executing the analyze job',\n\t\tprocess_id BIGINT(64) UNSIGNED comment 'ID of the process executing the analyze job',\n\t\tPRIMARY KEY (id),\n\t\tKEY (update_time)\n\t);"]
[2024/05/17 10:55:17.875 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=65] [category=ddl] [job="ID:65, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:64, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:17.871 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:17.876 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695374086144] ["schema version"=32]
[2024/05/17 10:55:17.876 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=31] [neededSchemaVersion=32] ["start time"=305.042µs] [gotSchemaVersion=32] [phyTblIDs="[64]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:55:17.877 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:55:17.877 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=65] [version=32]
[2024/05/17 10:55:17.878 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=32] ["take time"=2.023208ms] [job="ID:65, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:64, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:17.871 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:17.878 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695374086144] ["schema version"=32]
[2024/05/17 10:55:17.881 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=65] [job="ID:65, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:64, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:17.871 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:17.883 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695374086144] ["schema version"=32]
[2024/05/17 10:55:17.883 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=65]
[2024/05/17 10:55:17.883 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:55:17.883 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695374086144] ["schema version"=32]
[2024/05/17 10:55:17.883 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=32] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.advisory_locks (\n\t\tlock_name VARCHAR(64) NOT NULL PRIMARY KEY\n\t);"] [user=]
[2024/05/17 10:55:17.884 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:67, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:66, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:17.884 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:55:17.884 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:67, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:66, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:17.884 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.advisory_locks (\n\t\tlock_name VARCHAR(64) NOT NULL PRIMARY KEY\n\t);"]
[2024/05/17 10:55:17.887 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=67] [category=ddl] [job="ID:67, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:66, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:17.884 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:17.888 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695377231872] ["schema version"=33]
[2024/05/17 10:55:17.888 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=32] [neededSchemaVersion=33] ["start time"=141.125µs] [gotSchemaVersion=33] [phyTblIDs="[66]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:55:17.889 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:55:17.889 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=67] [version=33]
[2024/05/17 10:55:17.890 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=33] ["take time"=2.01175ms] [job="ID:67, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:66, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:17.884 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:17.891 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695377231872] ["schema version"=33]
[2024/05/17 10:55:17.894 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=67] [job="ID:67, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:66, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:17.884 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:17.895 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695377231872] ["schema version"=33]
[2024/05/17 10:55:17.895 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=67]
[2024/05/17 10:55:17.895 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:55:17.895 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695377231872] ["schema version"=33]
[2024/05/17 10:55:17.897 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:69, Type:create view, State:queueing, SchemaState:none, SchemaID:1, TableID:68, RowCount:0, ArgLen:3, start time: 2024-05-17 10:55:17.897 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:55:17.897 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:69, Type:create view, State:queueing, SchemaState:none, SchemaID:1, TableID:68, RowCount:0, ArgLen:3, start time: 2024-05-17 10:55:17.897 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE OR REPLACE VIEW mysql.tidb_mdl_view as (\n\t\tSELECT tidb_mdl_info.job_id,\n\t\t\tJSON_UNQUOTE(JSON_EXTRACT(cast(cast(job_meta as char) as json), \"$.schema_name\")) as db_name,\n\t\t\tJSON_UNQUOTE(JSON_EXTRACT(cast(cast(job_meta as char) as json), \"$.table_name\")) as table_name,\n\t\t\tJSON_UNQUOTE(JSON_EXTRACT(cast(cast(job_meta as char) as json), \"$.query\")) as query,\n\t\t\tsession_id,\n\t\t\tcluster_tidb_trx.start_time,\n\t\t\ttidb_decode_sql_digests(all_sql_digests, 4096) AS SQL_DIGESTS\n\t\tFROM mysql.tidb_ddl_job,\n\t\t\tmysql.tidb_mdl_info,\n\t\t\tinformation_schema.cluster_tidb_trx\n\t\tWHERE tidb_ddl_job.job_id=tidb_mdl_info.job_id\n\t\t\tAND CONCAT(',', tidb_mdl_info.table_ids, ',') REGEXP CONCAT(',(', REPLACE(cluster_tidb_trx.related_table_ids, ',', '|'), '),') != 0\n\t);"]
[2024/05/17 10:55:17.900 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=69] [category=ddl] [job="ID:69, Type:create view, State:queueing, SchemaState:none, SchemaID:1, TableID:68, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:17.897 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:17.902 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695380639746] ["schema version"=34]
[2024/05/17 10:55:17.902 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=33] [neededSchemaVersion=34] ["start time"=233.708µs] [gotSchemaVersion=34] [phyTblIDs="[68]"] [actionTypes="[21]"] [diffTypes="[\"create view\"]"]
[2024/05/17 10:55:17.902 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:55:17.902 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=69] [version=34]
[2024/05/17 10:55:17.903 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=34] ["take time"=2.023375ms] [job="ID:69, Type:create view, State:done, SchemaState:public, SchemaID:1, TableID:68, RowCount:0, ArgLen:3, start time: 2024-05-17 10:55:17.897 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:17.904 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695380639746] ["schema version"=34]
[2024/05/17 10:55:17.907 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=69] [job="ID:69, Type:create view, State:synced, SchemaState:public, SchemaID:1, TableID:68, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:17.897 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:17.908 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695380639746] ["schema version"=34]
[2024/05/17 10:55:17.908 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=69]
[2024/05/17 10:55:17.908 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:55:17.908 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695380639746] ["schema version"=34]
[2024/05/17 10:55:17.909 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=34] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.plan_replayer_status (\n\t\tsql_digest VARCHAR(128),\n\t\tplan_digest VARCHAR(128),\n\t\torigin_sql TEXT,\n\t\ttoken VARCHAR(128),\n\t\tupdate_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\tfail_reason TEXT,\n\t\tinstance VARCHAR(512) NOT NULL comment 'address of the TiDB instance executing the plan replayer job');"] [user=]
[2024/05/17 10:55:17.910 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:71, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:70, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:17.909 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:55:17.910 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:71, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:70, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:17.909 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.plan_replayer_status (\n\t\tsql_digest VARCHAR(128),\n\t\tplan_digest VARCHAR(128),\n\t\torigin_sql TEXT,\n\t\ttoken VARCHAR(128),\n\t\tupdate_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\tfail_reason TEXT,\n\t\tinstance VARCHAR(512) NOT NULL comment 'address of the TiDB instance executing the plan replayer job');"]
[2024/05/17 10:55:17.913 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=71] [category=ddl] [job="ID:71, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:70, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:17.909 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:17.914 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695384047616] ["schema version"=35]
[2024/05/17 10:55:17.914 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=34] [neededSchemaVersion=35] ["start time"=184.417µs] [gotSchemaVersion=35] [phyTblIDs="[70]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:55:17.915 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:55:17.915 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=71] [version=35]
[2024/05/17 10:55:17.917 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=35] ["take time"=2.798833ms] [job="ID:71, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:70, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:17.909 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:17.917 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695384047616] ["schema version"=35]
[2024/05/17 10:55:17.919 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=71] [job="ID:71, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:70, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:17.909 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:17.921 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695384047616] ["schema version"=35]
[2024/05/17 10:55:17.921 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=71]
[2024/05/17 10:55:17.921 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:55:17.921 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695384047616] ["schema version"=35]
[2024/05/17 10:55:17.922 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=35] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.plan_replayer_task (\n\t\tsql_digest VARCHAR(128) NOT NULL,\n\t\tplan_digest VARCHAR(128) NOT NULL,\n\t\tupdate_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\tPRIMARY KEY (sql_digest,plan_digest));"] [user=]
[2024/05/17 10:55:17.923 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:73, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:72, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:17.922 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:55:17.923 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:73, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:72, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:17.922 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.plan_replayer_task (\n\t\tsql_digest VARCHAR(128) NOT NULL,\n\t\tplan_digest VARCHAR(128) NOT NULL,\n\t\tupdate_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\tPRIMARY KEY (sql_digest,plan_digest));"]
[2024/05/17 10:55:17.925 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=73] [category=ddl] [job="ID:73, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:72, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:17.922 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:17.927 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695387193346] ["schema version"=36]
[2024/05/17 10:55:17.927 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=35] [neededSchemaVersion=36] ["start time"=171.25µs] [gotSchemaVersion=36] [phyTblIDs="[72]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:55:17.927 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:55:17.927 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=73] [version=36]
[2024/05/17 10:55:17.929 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=36] ["take time"=2.483125ms] [job="ID:73, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:72, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:17.922 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:17.929 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695387193346] ["schema version"=36]
[2024/05/17 10:55:17.931 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=73] [job="ID:73, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:72, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:17.922 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:17.932 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695387193346] ["schema version"=36]
[2024/05/17 10:55:17.933 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=73]
[2024/05/17 10:55:17.933 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:55:17.933 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695387193346] ["schema version"=36]
[2024/05/17 10:55:17.933 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=36] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_table_locked(\n\t\ttable_id bigint(64) NOT NULL,\n\t\tmodify_count bigint(64) NOT NULL DEFAULT 0,\n\t\tcount bigint(64) NOT NULL DEFAULT 0,\n\t\tversion bigint(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tPRIMARY KEY (table_id));"] [user=]
[2024/05/17 10:55:17.934 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:75, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:74, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:17.933 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:55:17.934 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:75, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:74, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:17.933 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_table_locked(\n\t\ttable_id bigint(64) NOT NULL,\n\t\tmodify_count bigint(64) NOT NULL DEFAULT 0,\n\t\tcount bigint(64) NOT NULL DEFAULT 0,\n\t\tversion bigint(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tPRIMARY KEY (table_id));"]
[2024/05/17 10:55:17.937 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=75] [category=ddl] [job="ID:75, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:74, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:17.933 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:17.938 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695390076936] ["schema version"=37]
[2024/05/17 10:55:17.938 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=36] [neededSchemaVersion=37] ["start time"=150.666µs] [gotSchemaVersion=37] [phyTblIDs="[74]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:55:17.938 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:55:17.938 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=75] [version=37]
[2024/05/17 10:55:17.940 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=37] ["take time"=2.400042ms] [job="ID:75, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:74, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:17.933 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:17.940 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695390076936] ["schema version"=37]
[2024/05/17 10:55:17.943 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=75] [job="ID:75, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:74, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:17.933 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:17.944 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695390076936] ["schema version"=37]
[2024/05/17 10:55:17.944 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=75]
[2024/05/17 10:55:17.944 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:55:17.944 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695390076936] ["schema version"=37]
[2024/05/17 10:55:17.945 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=37] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_ttl_table_status (\n\t\ttable_id bigint(64) PRIMARY KEY,\n        parent_table_id bigint(64),\n        table_statistics text DEFAULT NULL,\n\t\tlast_job_id varchar(64) DEFAULT NULL,\n\t\tlast_job_start_time timestamp NULL DEFAULT NULL,\n\t\tlast_job_finish_time timestamp NULL DEFAULT NULL,\n\t\tlast_job_ttl_expire timestamp NULL DEFAULT NULL,\n        last_job_summary text DEFAULT NULL,\n\t\tcurrent_job_id varchar(64) DEFAULT NULL,\n\t\tcurrent_job_owner_id varchar(64) DEFAULT NULL,\n\t\tcurrent_job_owner_addr varchar(256) DEFAULT NULL,\n\t\tcurrent_job_owner_hb_time timestamp,\n\t\tcurrent_job_start_time timestamp NULL DEFAULT NULL,\n\t\tcurrent_job_ttl_expire timestamp NULL DEFAULT NULL,\n\t\tcurrent_job_state text DEFAULT NULL,\n\t\tcurrent_job_status varchar(64) DEFAULT NULL,\n  \t\tcurrent_job_status_update_time timestamp NULL DEFAULT NULL);"] [user=]
[2024/05/17 10:55:17.946 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:77, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:76, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:17.945 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:55:17.946 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:77, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:76, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:17.945 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_ttl_table_status (\n\t\ttable_id bigint(64) PRIMARY KEY,\n        parent_table_id bigint(64),\n        table_statistics text DEFAULT NULL,\n\t\tlast_job_id varchar(64) DEFAULT NULL,\n\t\tlast_job_start_time timestamp NULL DEFAULT NULL,\n\t\tlast_job_finish_time timestamp NULL DEFAULT NULL,\n\t\tlast_job_ttl_expire timestamp NULL DEFAULT NULL,\n        last_job_summary text DEFAULT NULL,\n\t\tcurrent_job_id varchar(64) DEFAULT NULL,\n\t\tcurrent_job_owner_id varchar(64) DEFAULT NULL,\n\t\tcurrent_job_owner_addr varchar(256) DEFAULT NULL,\n\t\tcurrent_job_owner_hb_time timestamp,\n\t\tcurrent_job_start_time timestamp NULL DEFAULT NULL,\n\t\tcurrent_job_ttl_expire timestamp NULL DEFAULT NULL,\n\t\tcurrent_job_state text DEFAULT NULL,\n\t\tcurrent_job_status varchar(64) DEFAULT NULL,\n  \t\tcurrent_job_status_update_time timestamp NULL DEFAULT NULL);"]
[2024/05/17 10:55:17.948 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=77] [category=ddl] [job="ID:77, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:76, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:17.945 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:17.950 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695393484800] ["schema version"=38]
[2024/05/17 10:55:17.950 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=37] [neededSchemaVersion=38] ["start time"=324.541µs] [gotSchemaVersion=38] [phyTblIDs="[76]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:55:17.951 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:55:17.951 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=77] [version=38]
[2024/05/17 10:55:17.952 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=38] ["take time"=2.006ms] [job="ID:77, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:76, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:17.945 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:17.952 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695393484800] ["schema version"=38]
[2024/05/17 10:55:17.955 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=77] [job="ID:77, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:76, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:17.945 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:17.957 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695393484800] ["schema version"=38]
[2024/05/17 10:55:17.957 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=77]
[2024/05/17 10:55:17.957 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:55:17.957 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695393484800] ["schema version"=38]
[2024/05/17 10:55:17.957 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=38] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_ttl_task (\n\t\tjob_id varchar(64) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tscan_id int NOT NULL,\n\t\tscan_range_start BLOB,\n\t\tscan_range_end BLOB,\n\t\texpire_time timestamp NOT NULL,\n\t\towner_id varchar(64) DEFAULT NULL,\n\t\towner_addr varchar(64) DEFAULT NULL,\n\t\towner_hb_time timestamp DEFAULT NULL,\n\t\tstatus varchar(64) DEFAULT 'waiting',\n\t\tstatus_update_time timestamp NULL DEFAULT NULL,\n\t\tstate text,\n\t\tcreated_time timestamp NOT NULL,\n\t\tprimary key(job_id, scan_id),\n\t\tkey(created_time));"] [user=]
[2024/05/17 10:55:17.958 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:79, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:78, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:17.958 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:55:17.958 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:79, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:78, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:17.958 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_ttl_task (\n\t\tjob_id varchar(64) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tscan_id int NOT NULL,\n\t\tscan_range_start BLOB,\n\t\tscan_range_end BLOB,\n\t\texpire_time timestamp NOT NULL,\n\t\towner_id varchar(64) DEFAULT NULL,\n\t\towner_addr varchar(64) DEFAULT NULL,\n\t\towner_hb_time timestamp DEFAULT NULL,\n\t\tstatus varchar(64) DEFAULT 'waiting',\n\t\tstatus_update_time timestamp NULL DEFAULT NULL,\n\t\tstate text,\n\t\tcreated_time timestamp NOT NULL,\n\t\tprimary key(job_id, scan_id),\n\t\tkey(created_time));"]
[2024/05/17 10:55:17.961 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=79] [category=ddl] [job="ID:79, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:78, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:17.958 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:17.963 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695396630528] ["schema version"=39]
[2024/05/17 10:55:17.963 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=38] [neededSchemaVersion=39] ["start time"=308.334µs] [gotSchemaVersion=39] [phyTblIDs="[78]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:55:17.963 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:55:17.963 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=79] [version=39]
[2024/05/17 10:55:17.965 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=39] ["take time"=2.323708ms] [job="ID:79, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:78, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:17.958 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:17.965 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695396630528] ["schema version"=39]
[2024/05/17 10:55:17.969 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=79] [job="ID:79, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:78, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:17.958 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:17.971 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695396630528] ["schema version"=39]
[2024/05/17 10:55:17.972 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=79]
[2024/05/17 10:55:17.972 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:55:17.972 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695396630528] ["schema version"=39]
[2024/05/17 10:55:17.972 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=39] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_ttl_job_history (\n\t\tjob_id varchar(64) PRIMARY KEY,\n\t\ttable_id bigint(64) NOT NULL,\n        parent_table_id bigint(64) NOT NULL,\n    \ttable_schema varchar(64) NOT NULL,\n\t\ttable_name varchar(64) NOT NULL,\n    \tpartition_name varchar(64) DEFAULT NULL,\n\t\tcreate_time timestamp NOT NULL,\n\t\tfinish_time timestamp NOT NULL,\n\t\tttl_expire timestamp NOT NULL,\n        summary_text text,\n\t\texpired_rows bigint(64) DEFAULT NULL,\n    \tdeleted_rows bigint(64) DEFAULT NULL,\n    \terror_delete_rows bigint(64) DEFAULT NULL,\n    \tstatus varchar(64) NOT NULL,\n    \tkey(table_schema, table_name, create_time),\n    \tkey(parent_table_id, create_time),\n    \tkey(create_time)\n\t);"] [user=]
[2024/05/17 10:55:17.977 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:81, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:80, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:17.974 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:55:17.977 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:81, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:80, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:17.974 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_ttl_job_history (\n\t\tjob_id varchar(64) PRIMARY KEY,\n\t\ttable_id bigint(64) NOT NULL,\n        parent_table_id bigint(64) NOT NULL,\n    \ttable_schema varchar(64) NOT NULL,\n\t\ttable_name varchar(64) NOT NULL,\n    \tpartition_name varchar(64) DEFAULT NULL,\n\t\tcreate_time timestamp NOT NULL,\n\t\tfinish_time timestamp NOT NULL,\n\t\tttl_expire timestamp NOT NULL,\n        summary_text text,\n\t\texpired_rows bigint(64) DEFAULT NULL,\n    \tdeleted_rows bigint(64) DEFAULT NULL,\n    \terror_delete_rows bigint(64) DEFAULT NULL,\n    \tstatus varchar(64) NOT NULL,\n    \tkey(table_schema, table_name, create_time),\n    \tkey(parent_table_id, create_time),\n    \tkey(create_time)\n\t);"]
[2024/05/17 10:55:17.984 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=81] [category=ddl] [job="ID:81, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:80, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:17.974 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:17.987 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695402921984] ["schema version"=40]
[2024/05/17 10:55:17.987 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=39] [neededSchemaVersion=40] ["start time"=514.959µs] [gotSchemaVersion=40] [phyTblIDs="[80]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:55:17.988 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:55:17.988 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=81] [version=40]
[2024/05/17 10:55:17.991 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=40] ["take time"=4.256959ms] [job="ID:81, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:80, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:17.974 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:17.991 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695402921984] ["schema version"=40]
[2024/05/17 10:55:17.996 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=81] [job="ID:81, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:80, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:17.974 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:18.001 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695402921984] ["schema version"=40]
[2024/05/17 10:55:18.001 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=81]
[2024/05/17 10:55:18.001 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:55:18.001 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695402921984] ["schema version"=40]
[2024/05/17 10:55:18.001 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=40] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_global_task (\n\t\tid BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n    \ttask_key VARCHAR(256) NOT NULL,\n\t\ttype VARCHAR(256) NOT NULL,\n\t\tdispatcher_id VARCHAR(261),\n\t\tstate VARCHAR(64) NOT NULL,\n\t\tpriority INT DEFAULT 1,\n\t\tcreate_time TIMESTAMP,\n\t\tstart_time TIMESTAMP,\n\t\tstate_update_time TIMESTAMP,\n\t\tend_time TIMESTAMP,\n\t\tmeta LONGBLOB,\n\t\tconcurrency INT(11),\n\t\tstep INT(11),\n\t\ttarget_scope VARCHAR(256) DEFAULT \"\",\n\t\terror BLOB,\n\t\tkey(state),\n      \tUNIQUE KEY task_key(task_key)\n\t);"] [user=]
[2024/05/17 10:55:18.003 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:83, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:82, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:18.002 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:55:18.003 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:83, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:82, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:18.002 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_global_task (\n\t\tid BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n    \ttask_key VARCHAR(256) NOT NULL,\n\t\ttype VARCHAR(256) NOT NULL,\n\t\tdispatcher_id VARCHAR(261),\n\t\tstate VARCHAR(64) NOT NULL,\n\t\tpriority INT DEFAULT 1,\n\t\tcreate_time TIMESTAMP,\n\t\tstart_time TIMESTAMP,\n\t\tstate_update_time TIMESTAMP,\n\t\tend_time TIMESTAMP,\n\t\tmeta LONGBLOB,\n\t\tconcurrency INT(11),\n\t\tstep INT(11),\n\t\ttarget_scope VARCHAR(256) DEFAULT \"\",\n\t\terror BLOB,\n\t\tkey(state),\n      \tUNIQUE KEY task_key(task_key)\n\t);"]
[2024/05/17 10:55:18.008 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=83] [category=ddl] [job="ID:83, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:82, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:18.002 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:18.010 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695408951296] ["schema version"=41]
[2024/05/17 10:55:18.010 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=40] [neededSchemaVersion=41] ["start time"=370.166µs] [gotSchemaVersion=41] [phyTblIDs="[82]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:55:18.011 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:55:18.011 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=83] [version=41]
[2024/05/17 10:55:18.012 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=41] ["take time"=2.72875ms] [job="ID:83, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:82, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:18.002 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:18.013 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695408951296] ["schema version"=41]
[2024/05/17 10:55:18.015 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=83] [job="ID:83, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:82, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:18.002 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:18.018 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695408951296] ["schema version"=41]
[2024/05/17 10:55:18.018 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=83]
[2024/05/17 10:55:18.018 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:55:18.018 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695408951296] ["schema version"=41]
[2024/05/17 10:55:18.018 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=41] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_global_task_history (\n\t\tid BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n    \ttask_key VARCHAR(256) NOT NULL,\n\t\ttype VARCHAR(256) NOT NULL,\n\t\tdispatcher_id VARCHAR(261),\n\t\tstate VARCHAR(64) NOT NULL,\n\t\tpriority INT DEFAULT 1,\n\t\tcreate_time TIMESTAMP,\n\t\tstart_time TIMESTAMP,\n\t\tstate_update_time TIMESTAMP,\n\t\tend_time TIMESTAMP,\n\t\tmeta LONGBLOB,\n\t\tconcurrency INT(11),\n\t\tstep INT(11),\n\t\ttarget_scope VARCHAR(256) DEFAULT \"\",\n\t\terror BLOB,\n\t\tkey(state),\n      \tUNIQUE KEY task_key(task_key)\n\t);"] [user=]
[2024/05/17 10:55:18.020 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:85, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:84, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:18.019 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:55:18.020 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:85, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:84, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:18.019 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_global_task_history (\n\t\tid BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n    \ttask_key VARCHAR(256) NOT NULL,\n\t\ttype VARCHAR(256) NOT NULL,\n\t\tdispatcher_id VARCHAR(261),\n\t\tstate VARCHAR(64) NOT NULL,\n\t\tpriority INT DEFAULT 1,\n\t\tcreate_time TIMESTAMP,\n\t\tstart_time TIMESTAMP,\n\t\tstate_update_time TIMESTAMP,\n\t\tend_time TIMESTAMP,\n\t\tmeta LONGBLOB,\n\t\tconcurrency INT(11),\n\t\tstep INT(11),\n\t\ttarget_scope VARCHAR(256) DEFAULT \"\",\n\t\terror BLOB,\n\t\tkey(state),\n      \tUNIQUE KEY task_key(task_key)\n\t);"]
[2024/05/17 10:55:18.024 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=85] [category=ddl] [job="ID:85, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:84, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:18.019 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:18.026 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695413145602] ["schema version"=42]
[2024/05/17 10:55:18.026 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=41] [neededSchemaVersion=42] ["start time"=366.291µs] [gotSchemaVersion=42] [phyTblIDs="[84]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:55:18.027 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:55:18.027 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=85] [version=42]
[2024/05/17 10:55:18.028 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=42] ["take time"=2.024083ms] [job="ID:85, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:84, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:18.019 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:18.028 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695413145602] ["schema version"=42]
[2024/05/17 10:55:18.031 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=85] [job="ID:85, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:84, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:18.019 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:18.033 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695413145602] ["schema version"=42]
[2024/05/17 10:55:18.033 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=85]
[2024/05/17 10:55:18.033 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:55:18.033 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695413145602] ["schema version"=42]
[2024/05/17 10:55:18.033 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=42] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_import_jobs (\n\t\tid bigint(64) NOT NULL AUTO_INCREMENT,\n\t\tcreate_time TIMESTAMP(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6),\n\t\tstart_time TIMESTAMP(6) NULL DEFAULT NULL,\n\t\tupdate_time TIMESTAMP(6) NULL DEFAULT NULL,\n\t\tend_time TIMESTAMP(6) NULL DEFAULT NULL,\n\t\ttable_schema VARCHAR(64) NOT NULL,\n\t\ttable_name VARCHAR(64) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tcreated_by VARCHAR(300) NOT NULL,\n\t\tparameters text NOT NULL,\n\t\tsource_file_size bigint(64) NOT NULL,\n\t\tstatus VARCHAR(64) NOT NULL,\n\t\tstep VARCHAR(64) NOT NULL,\n\t\tsummary text DEFAULT NULL,\n\t\terror_message TEXT DEFAULT NULL,\n\t\tPRIMARY KEY (id),\n\t\tKEY (created_by),\n\t\tKEY (status));"] [user=]
[2024/05/17 10:55:18.035 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:87, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:86, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:18.034 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:55:18.035 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:87, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:86, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:18.034 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_import_jobs (\n\t\tid bigint(64) NOT NULL AUTO_INCREMENT,\n\t\tcreate_time TIMESTAMP(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6),\n\t\tstart_time TIMESTAMP(6) NULL DEFAULT NULL,\n\t\tupdate_time TIMESTAMP(6) NULL DEFAULT NULL,\n\t\tend_time TIMESTAMP(6) NULL DEFAULT NULL,\n\t\ttable_schema VARCHAR(64) NOT NULL,\n\t\ttable_name VARCHAR(64) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tcreated_by VARCHAR(300) NOT NULL,\n\t\tparameters text NOT NULL,\n\t\tsource_file_size bigint(64) NOT NULL,\n\t\tstatus VARCHAR(64) NOT NULL,\n\t\tstep VARCHAR(64) NOT NULL,\n\t\tsummary text DEFAULT NULL,\n\t\terror_message TEXT DEFAULT NULL,\n\t\tPRIMARY KEY (id),\n\t\tKEY (created_by),\n\t\tKEY (status));"]
[2024/05/17 10:55:18.038 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=87] [category=ddl] [job="ID:87, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:86, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:18.034 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:18.040 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695416815617] ["schema version"=43]
[2024/05/17 10:55:18.040 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=42] [neededSchemaVersion=43] ["start time"=335.042µs] [gotSchemaVersion=43] [phyTblIDs="[86]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:55:18.040 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:55:18.040 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=87] [version=43]
[2024/05/17 10:55:18.042 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=43] ["take time"=2.53925ms] [job="ID:87, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:86, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:18.034 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:18.043 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695416815617] ["schema version"=43]
[2024/05/17 10:55:18.045 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=87] [job="ID:87, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:86, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:18.034 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:18.046 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695416815617] ["schema version"=43]
[2024/05/17 10:55:18.047 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=87]
[2024/05/17 10:55:18.047 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:55:18.047 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695416815617] ["schema version"=43]
[2024/05/17 10:55:18.047 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=43] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_runaway_watch (\n\t\tid BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n\t\tresource_group_name varchar(32) not null,\n\t\tstart_time datetime(6) NOT NULL,\n\t\tend_time datetime(6),\n\t\twatch bigint(10) NOT NULL,\n\t\twatch_text TEXT NOT NULL,\n\t\tsource varchar(512) NOT NULL,\n\t\taction bigint(10),\n\t\tINDEX sql_index(resource_group_name,watch_text(700)) COMMENT \"accelerate the speed when select quarantined query\",\n\t\tINDEX time_index(end_time) COMMENT \"accelerate the speed when querying with active watch\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"] [user=]
[2024/05/17 10:55:18.048 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:89, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:88, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:18.047 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:55:18.048 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:89, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:88, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:18.047 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_runaway_watch (\n\t\tid BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n\t\tresource_group_name varchar(32) not null,\n\t\tstart_time datetime(6) NOT NULL,\n\t\tend_time datetime(6),\n\t\twatch bigint(10) NOT NULL,\n\t\twatch_text TEXT NOT NULL,\n\t\tsource varchar(512) NOT NULL,\n\t\taction bigint(10),\n\t\tINDEX sql_index(resource_group_name,watch_text(700)) COMMENT \"accelerate the speed when select quarantined query\",\n\t\tINDEX time_index(end_time) COMMENT \"accelerate the speed when querying with active watch\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"]
[2024/05/17 10:55:18.052 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=89] [category=ddl] [job="ID:89, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:88, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:18.047 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:18.053 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695420485632] ["schema version"=44]
[2024/05/17 10:55:18.053 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=43] [neededSchemaVersion=44] ["start time"=247.584µs] [gotSchemaVersion=44] [phyTblIDs="[88]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:55:18.054 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:55:18.054 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=89] [version=44]
[2024/05/17 10:55:18.056 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=44] ["take time"=2.538875ms] [job="ID:89, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:88, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:18.047 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:18.056 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695420485632] ["schema version"=44]
[2024/05/17 10:55:18.058 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=89] [job="ID:89, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:88, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:18.047 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:18.060 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695420485632] ["schema version"=44]
[2024/05/17 10:55:18.060 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=89]
[2024/05/17 10:55:18.060 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:55:18.060 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695420485632] ["schema version"=44]
[2024/05/17 10:55:18.060 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=44] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_runaway_queries (\n\t\tresource_group_name varchar(32) not null,\n\t\ttime TIMESTAMP NOT NULL,\n\t\tmatch_type varchar(12) NOT NULL,\n\t\taction varchar(12) NOT NULL,\n\t\toriginal_sql TEXT NOT NULL,\n\t\tplan_digest TEXT NOT NULL,\n\t\ttidb_server varchar(512),\n\t\tINDEX plan_index(plan_digest(64)) COMMENT \"accelerate the speed when select runaway query\",\n\t\tINDEX time_index(time) COMMENT \"accelerate the speed when querying with active watch\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"] [user=]
[2024/05/17 10:55:18.062 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:91, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:90, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:18.061 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:55:18.062 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:91, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:90, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:18.061 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_runaway_queries (\n\t\tresource_group_name varchar(32) not null,\n\t\ttime TIMESTAMP NOT NULL,\n\t\tmatch_type varchar(12) NOT NULL,\n\t\taction varchar(12) NOT NULL,\n\t\toriginal_sql TEXT NOT NULL,\n\t\tplan_digest TEXT NOT NULL,\n\t\ttidb_server varchar(512),\n\t\tINDEX plan_index(plan_digest(64)) COMMENT \"accelerate the speed when select runaway query\",\n\t\tINDEX time_index(time) COMMENT \"accelerate the speed when querying with active watch\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"]
[2024/05/17 10:55:18.065 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=91] [category=ddl] [job="ID:91, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:90, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:18.061 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:18.066 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695423893504] ["schema version"=45]
[2024/05/17 10:55:18.066 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=44] [neededSchemaVersion=45] ["start time"=224.958µs] [gotSchemaVersion=45] [phyTblIDs="[90]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:55:18.067 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:55:18.067 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=91] [version=45]
[2024/05/17 10:55:18.068 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=45] ["take time"=2.656834ms] [job="ID:91, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:90, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:18.061 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:18.069 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695423893504] ["schema version"=45]
[2024/05/17 10:55:18.071 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=91] [job="ID:91, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:90, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:18.061 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:18.072 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695423893504] ["schema version"=45]
[2024/05/17 10:55:18.072 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=91]
[2024/05/17 10:55:18.072 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:55:18.072 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695423893504] ["schema version"=45]
[2024/05/17 10:55:18.072 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=45] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS `mysql`.`tidb_timers` (\n\t\tID BIGINT(64) UNSIGNED NOT NULL AUTO_INCREMENT,\n\t\tNAMESPACE VARCHAR(256) NOT NULL,\n\t\tTIMER_KEY VARCHAR(256) NOT NULL,\n\t\tTIMER_DATA BLOB,\n\t\tTIMEZONE VARCHAR(64) NOT NULL,\n\t\tSCHED_POLICY_TYPE VARCHAR(32) NOT NULL,\n\t\tSCHED_POLICY_EXPR VARCHAR(256) NOT NULL,\n\t\tHOOK_CLASS VARCHAR(64) NOT NULL,\n\t\tWATERMARK TIMESTAMP DEFAULT NULL,\n\t\tENABLE TINYINT(2) NOT NULL,\n\t\tTIMER_EXT JSON NOT NULL,\n\t\tEVENT_STATUS VARCHAR(32) NOT NULL,\n\t\tEVENT_ID VARCHAR(64) NOT NULL,\n\t\tEVENT_DATA BLOB,\n\t\tEVENT_START TIMESTAMP DEFAULT NULL,\n\t\tSUMMARY_DATA BLOB,\n\t\tCREATE_TIME TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,\n\t\tUPDATE_TIME TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\tVERSION BIGINT(64) UNSIGNED NOT NULL,\n\t\tPRIMARY KEY (ID),\n\t\tUNIQUE KEY timer_key(NAMESPACE, TIMER_KEY),\n\t\tKEY hook_class(HOOK_CLASS)\n\t)"] [user=]
[2024/05/17 10:55:18.074 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:93, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:92, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:18.073 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:55:18.074 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:93, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:92, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:18.073 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS `mysql`.`tidb_timers` (\n\t\tID BIGINT(64) UNSIGNED NOT NULL AUTO_INCREMENT,\n\t\tNAMESPACE VARCHAR(256) NOT NULL,\n\t\tTIMER_KEY VARCHAR(256) NOT NULL,\n\t\tTIMER_DATA BLOB,\n\t\tTIMEZONE VARCHAR(64) NOT NULL,\n\t\tSCHED_POLICY_TYPE VARCHAR(32) NOT NULL,\n\t\tSCHED_POLICY_EXPR VARCHAR(256) NOT NULL,\n\t\tHOOK_CLASS VARCHAR(64) NOT NULL,\n\t\tWATERMARK TIMESTAMP DEFAULT NULL,\n\t\tENABLE TINYINT(2) NOT NULL,\n\t\tTIMER_EXT JSON NOT NULL,\n\t\tEVENT_STATUS VARCHAR(32) NOT NULL,\n\t\tEVENT_ID VARCHAR(64) NOT NULL,\n\t\tEVENT_DATA BLOB,\n\t\tEVENT_START TIMESTAMP DEFAULT NULL,\n\t\tSUMMARY_DATA BLOB,\n\t\tCREATE_TIME TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,\n\t\tUPDATE_TIME TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\tVERSION BIGINT(64) UNSIGNED NOT NULL,\n\t\tPRIMARY KEY (ID),\n\t\tUNIQUE KEY timer_key(NAMESPACE, TIMER_KEY),\n\t\tKEY hook_class(HOOK_CLASS)\n\t)"]
[2024/05/17 10:55:18.077 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=93] [category=ddl] [job="ID:93, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:92, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:18.073 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:18.079 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695427039232] ["schema version"=46]
[2024/05/17 10:55:18.079 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=45] [neededSchemaVersion=46] ["start time"=404.084µs] [gotSchemaVersion=46] [phyTblIDs="[92]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:55:18.079 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:55:18.079 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=93] [version=46]
[2024/05/17 10:55:18.081 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=46] ["take time"=2.578167ms] [job="ID:93, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:92, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:18.073 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:18.081 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695427039232] ["schema version"=46]
[2024/05/17 10:55:18.084 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=93] [job="ID:93, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:92, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:18.073 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:18.085 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695427039232] ["schema version"=46]
[2024/05/17 10:55:18.086 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=93]
[2024/05/17 10:55:18.086 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:55:18.086 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695427039232] ["schema version"=46]
[2024/05/17 10:55:18.086 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=46] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_runaway_watch_done (\n\t\tid BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n\t\trecord_id BIGINT(20) not null,\n\t\tresource_group_name varchar(32) not null,\n\t\tstart_time datetime(6) NOT NULL,\n\t\tend_time datetime(6),\n\t\twatch bigint(10) NOT NULL,\n\t\twatch_text TEXT NOT NULL,\n\t\tsource varchar(512) NOT NULL,\n\t\taction bigint(10),\n\t\tdone_time TIMESTAMP(6) NOT NULL\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"] [user=]
[2024/05/17 10:55:18.087 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:95, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:94, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:18.086 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:55:18.087 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:95, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:94, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:18.086 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_runaway_watch_done (\n\t\tid BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n\t\trecord_id BIGINT(20) not null,\n\t\tresource_group_name varchar(32) not null,\n\t\tstart_time datetime(6) NOT NULL,\n\t\tend_time datetime(6),\n\t\twatch bigint(10) NOT NULL,\n\t\twatch_text TEXT NOT NULL,\n\t\tsource varchar(512) NOT NULL,\n\t\taction bigint(10),\n\t\tdone_time TIMESTAMP(6) NOT NULL\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"]
[2024/05/17 10:55:18.089 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=95] [category=ddl] [job="ID:95, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:94, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:18.086 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:18.091 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695430447104] ["schema version"=47]
[2024/05/17 10:55:18.091 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=46] [neededSchemaVersion=47] ["start time"=221.833µs] [gotSchemaVersion=47] [phyTblIDs="[94]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:55:18.091 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:55:18.091 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=95] [version=47]
[2024/05/17 10:55:18.093 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=47] ["take time"=2.297958ms] [job="ID:95, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:94, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:18.086 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:18.093 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695430447104] ["schema version"=47]
[2024/05/17 10:55:18.095 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=95] [job="ID:95, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:94, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:18.086 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:18.097 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695430447104] ["schema version"=47]
[2024/05/17 10:55:18.097 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=95]
[2024/05/17 10:55:18.097 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:55:18.097 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695430447104] ["schema version"=47]
[2024/05/17 10:55:18.097 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=47] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.dist_framework_meta (\n        host VARCHAR(261) NOT NULL PRIMARY KEY,\n        role VARCHAR(64),\n        cpu_count int default 0,\n        keyspace_id bigint(8) NOT NULL DEFAULT -1\n    );"] [user=]
[2024/05/17 10:55:18.098 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:97, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:96, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:18.097 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:55:18.098 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:97, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:96, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:18.097 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.dist_framework_meta (\n        host VARCHAR(261) NOT NULL PRIMARY KEY,\n        role VARCHAR(64),\n        cpu_count int default 0,\n        keyspace_id bigint(8) NOT NULL DEFAULT -1\n    );"]
[2024/05/17 10:55:18.101 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=97] [category=ddl] [job="ID:97, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:96, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:18.097 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:18.102 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695433330688] ["schema version"=48]
[2024/05/17 10:55:18.102 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=47] [neededSchemaVersion=48] ["start time"=422.792µs] [gotSchemaVersion=48] [phyTblIDs="[96]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:55:18.103 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:55:18.103 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=97] [version=48]
[2024/05/17 10:55:18.104 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=48] ["take time"=2.1485ms] [job="ID:97, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:96, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:18.097 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:18.104 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695433330688] ["schema version"=48]
[2024/05/17 10:55:18.107 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=97] [job="ID:97, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:96, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:18.097 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:18.108 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695433330688] ["schema version"=48]
[2024/05/17 10:55:18.108 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=97]
[2024/05/17 10:55:18.108 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:55:18.108 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695433330688] ["schema version"=48]
[2024/05/17 10:55:18.108 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=48] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.request_unit_by_group (\n\t\tstart_time TIMESTAMP(6) NOT NULL,\n\t\tend_time TIMESTAMP(6) NOT NULL,\n\t\tresource_group VARCHAR(32) NOT null,\n\t\ttotal_ru bigint(64) UNSIGNED NOT NULL,\n\t\tPRIMARY KEY (start_time, end_time, resource_group),\n\t\tKEY (resource_group)\n\t);"] [user=]
[2024/05/17 10:55:18.109 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:99, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:98, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:18.109 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:55:18.109 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:99, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:98, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:18.109 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.request_unit_by_group (\n\t\tstart_time TIMESTAMP(6) NOT NULL,\n\t\tend_time TIMESTAMP(6) NOT NULL,\n\t\tresource_group VARCHAR(32) NOT null,\n\t\ttotal_ru bigint(64) UNSIGNED NOT NULL,\n\t\tPRIMARY KEY (start_time, end_time, resource_group),\n\t\tKEY (resource_group)\n\t);"]
[2024/05/17 10:55:18.112 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=99] [category=ddl] [job="ID:99, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:98, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:18.109 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:18.113 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695436214272] ["schema version"=49]
[2024/05/17 10:55:18.113 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=48] [neededSchemaVersion=49] ["start time"=205.042µs] [gotSchemaVersion=49] [phyTblIDs="[98]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:55:18.114 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:55:18.114 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=99] [version=49]
[2024/05/17 10:55:18.116 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=49] ["take time"=2.709583ms] [job="ID:99, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:98, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:18.109 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:18.116 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695436214272] ["schema version"=49]
[2024/05/17 10:55:18.118 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=99] [job="ID:99, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:98, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:18.109 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:18.119 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695436214272] ["schema version"=49]
[2024/05/17 10:55:18.120 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=99]
[2024/05/17 10:55:18.120 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:55:18.120 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695436214272] ["schema version"=49]
[2024/05/17 10:55:18.120 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=49] [cur_db=mysql] [sql="CREATE DATABASE IF NOT EXISTS sys;"] [user=]
[2024/05/17 10:55:18.121 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:101, Type:create schema, State:queueing, SchemaState:none, SchemaID:100, TableID:0, RowCount:0, ArgLen:1, start time: 2024-05-17 10:55:18.12 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:55:18.121 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:101, Type:create schema, State:queueing, SchemaState:none, SchemaID:100, TableID:0, RowCount:0, ArgLen:1, start time: 2024-05-17 10:55:18.12 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE DATABASE IF NOT EXISTS sys;"]
[2024/05/17 10:55:18.123 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=101] [category=ddl] [job="ID:101, Type:create schema, State:queueing, SchemaState:none, SchemaID:100, TableID:0, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:18.12 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:18.124 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695439097858] ["schema version"=50]
[2024/05/17 10:55:18.124 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=49] [neededSchemaVersion=50] ["start time"=46.042µs] [gotSchemaVersion=50] [phyTblIDs="[]"] [actionTypes="[]"] [diffTypes="[\"create schema\"]"]
[2024/05/17 10:55:18.125 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:55:18.125 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=101] [version=50]
[2024/05/17 10:55:18.127 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=50] ["take time"=2.646375ms] [job="ID:101, Type:create schema, State:done, SchemaState:public, SchemaID:100, TableID:0, RowCount:0, ArgLen:1, start time: 2024-05-17 10:55:18.12 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:18.127 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695439097858] ["schema version"=50]
[2024/05/17 10:55:18.129 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=101] [job="ID:101, Type:create schema, State:synced, SchemaState:public, SchemaID:100, TableID:0, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:18.12 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:18.130 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695439097858] ["schema version"=50]
[2024/05/17 10:55:18.130 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=101]
[2024/05/17 10:55:18.130 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:55:18.130 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695439097858] ["schema version"=50]
[2024/05/17 10:55:18.131 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:103, Type:create view, State:queueing, SchemaState:none, SchemaID:100, TableID:102, RowCount:0, ArgLen:3, start time: 2024-05-17 10:55:18.131 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:55:18.131 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:103, Type:create view, State:queueing, SchemaState:none, SchemaID:100, TableID:102, RowCount:0, ArgLen:3, start time: 2024-05-17 10:55:18.131 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE OR REPLACE VIEW sys.schema_unused_indexes AS\n\t\tSELECT\n\t\t\ttable_schema as object_schema,\n\t\t\ttable_name as object_name,\n\t\t\tindex_name\n\t\tFROM information_schema.cluster_tidb_index_usage\n\t\tWHERE\n\t\t\ttable_schema not in ('sys', 'mysql', 'INFORMATION_SCHEMA', 'PERFORMANCE_SCHEMA') and\n\t\t\tindex_name != 'PRIMARY'\n\t\tGROUP BY table_schema, table_name, index_name\n\t\tHAVING\n\t\t\tsum(last_access_time) is null;"]
[2024/05/17 10:55:18.134 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=103] [category=ddl] [job="ID:103, Type:create view, State:queueing, SchemaState:none, SchemaID:100, TableID:102, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:18.131 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:18.135 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695441981442] ["schema version"=51]
[2024/05/17 10:55:18.135 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=50] [neededSchemaVersion=51] ["start time"=151.542µs] [gotSchemaVersion=51] [phyTblIDs="[102]"] [actionTypes="[21]"] [diffTypes="[\"create view\"]"]
[2024/05/17 10:55:18.136 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:55:18.136 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=103] [version=51]
[2024/05/17 10:55:18.137 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=51] ["take time"=2.287375ms] [job="ID:103, Type:create view, State:done, SchemaState:public, SchemaID:100, TableID:102, RowCount:0, ArgLen:3, start time: 2024-05-17 10:55:18.131 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:18.138 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695441981442] ["schema version"=51]
[2024/05/17 10:55:18.139 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695441981442] ["schema version"=51]
[2024/05/17 10:55:18.142 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=103] [job="ID:103, Type:create view, State:synced, SchemaState:public, SchemaID:100, TableID:102, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:18.131 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:18.143 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695441981442] ["schema version"=51]
[2024/05/17 10:55:18.143 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=103]
[2024/05/17 10:55:18.143 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:55:18.143 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695441981442] ["schema version"=51]
[2024/05/17 10:55:18.153 +08:00] [INFO] [bootstrap.go:745] ["bootstrap successful"] ["take time"=916.023583ms]
[2024/05/17 10:55:18.154 +08:00] [INFO] [mock.go:106] ["owner manager is canceled"] [category=ddl] [ID=5c6dfabe-a52b-44be-b4fc-92cd1c220a47] [ownerKey=/tidb/ddl/fg/owner]
[2024/05/17 10:55:18.154 +08:00] [INFO] [ddl_workerpool.go:82] ["closing workerPool"] [category=ddl]
[2024/05/17 10:55:18.154 +08:00] [INFO] [ddl_worker.go:188] ["DDL worker closed"] [worker="worker 2, tp add index"] [category=ddl] ["take time"=584ns]
[2024/05/17 10:55:18.154 +08:00] [INFO] [ddl_workerpool.go:82] ["closing workerPool"] [category=ddl]
[2024/05/17 10:55:18.154 +08:00] [INFO] [ddl_worker.go:188] ["DDL worker closed"] [worker="worker 1, tp general"] [category=ddl] ["take time"=416ns]
[2024/05/17 10:55:18.154 +08:00] [INFO] [ddl_workerpool.go:82] ["closing workerPool"] [category=ddl]
[2024/05/17 10:55:18.154 +08:00] [INFO] [delete_range.go:162] ["closing delRange"] [category=ddl]
[2024/05/17 10:55:18.154 +08:00] [INFO] [session_pool.go:99] ["closing session pool"] [category=ddl]
[2024/05/17 10:55:18.155 +08:00] [INFO] [ddl.go:951] ["DDL closed"] [category=ddl] [ID=5c6dfabe-a52b-44be-b4fc-92cd1c220a47] ["take time"=1.408375ms]
[2024/05/17 10:55:18.155 +08:00] [INFO] [ddl.go:769] ["stop DDL"] [category=ddl] [ID=5c6dfabe-a52b-44be-b4fc-92cd1c220a47]
[2024/05/17 10:55:18.155 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=mdlCheckLoop]
[2024/05/17 10:55:18.155 +08:00] [INFO] [domain.go:977] ["loadSchemaInLoop exited."]
[2024/05/17 10:55:18.155 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=loadSchemaInLoop]
[2024/05/17 10:55:18.155 +08:00] [INFO] [domain.go:831] ["topologySyncerKeeper exited."]
[2024/05/17 10:55:18.155 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=topologySyncerKeeper]
[2024/05/17 10:55:18.155 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=runawayStartLoop]
[2024/05/17 10:55:18.155 +08:00] [INFO] [domain.go:807] ["globalConfigSyncerKeeper exited."]
[2024/05/17 10:55:18.155 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=globalConfigSyncerKeeper]
[2024/05/17 10:55:18.155 +08:00] [INFO] [domain.go:781] ["infoSyncerKeeper exited."]
[2024/05/17 10:55:18.155 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=infoSyncerKeeper]
[2024/05/17 10:55:18.155 +08:00] [INFO] [domain.go:753] ["topNSlowQueryLoop exited."]
[2024/05/17 10:55:18.155 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=topNSlowQueryLoop]
[2024/05/17 10:55:18.155 +08:00] [INFO] [domain.go:1431] ["closestReplicaReadCheckLoop exited."]
[2024/05/17 10:55:18.155 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=closestReplicaReadCheckLoop]
[2024/05/17 10:55:18.155 +08:00] [INFO] [domain.go:1144] ["domain closed"] ["take time"=1.544208ms]
[2024/05/17 10:55:18.155 +08:00] [INFO] [tidb.go:80] ["new domain"] [store=11f25974-cc01-45e5-8e81-0f32ca5d7770] ["ddl lease"=600ms] ["stats lease"=-1ns]
[2024/05/17 10:55:18.156 +08:00] [WARN] [controller.go:198] ["[resource group controller] server does not save config, load config failed"]
[2024/05/17 10:55:18.156 +08:00] [INFO] [controller.go:185] ["load resource controller config"] [config="{\"degraded-mode-wait-duration\":\"0s\",\"ltb-max-wait-duration\":\"30s\",\"wait-retry-interval\":\"50ms\",\"wait-retry-times\":10,\"request-unit\":{\"read-base-cost\":0.125,\"read-per-batch-base-cost\":0.5,\"read-cost-per-byte\":0.0000152587890625,\"write-base-cost\":1,\"write-per-batch-base-cost\":1,\"write-cost-per-byte\":0.0009765625,\"read-cpu-ms-cost\":0.3333333333333333},\"enable-controller-trace-log\":\"false\"}"] [ru-config="{\"ReadBaseCost\":0.125,\"ReadPerBatchBaseCost\":0.5,\"ReadBytesCost\":0.0000152587890625,\"WriteBaseCost\":1,\"WritePerBatchBaseCost\":1,\"WriteBytesCost\":0.0009765625,\"CPUMsCost\":0.3333333333333333,\"LTBMaxWaitDuration\":30000000000,\"WaitRetryInterval\":50000000,\"WaitRetryTimes\":10,\"DegradedModeWaitDuration\":0}"]
[2024/05/17 10:55:18.173 +08:00] [INFO] [domain.go:385] ["full load InfoSchema success"] [currentSchemaVersion=0] [neededSchemaVersion=51] ["start time"=16.039208ms]
[2024/05/17 10:55:18.179 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695441981442] ["schema version"=51]
[2024/05/17 10:55:18.179 +08:00] [INFO] [domain.go:705] ["full load and reset schema validator"]
[2024/05/17 10:55:18.179 +08:00] [INFO] [ddl.go:818] ["start DDL"] [category=ddl] [ID=24ec59ee-6d40-4474-bcb2-e3f1f4e46c22] [runWorker=true]
[2024/05/17 10:55:18.180 +08:00] [INFO] [ddl.go:777] ["start delRangeManager OK"] [category=ddl] ["is a emulator"=true]
[2024/05/17 10:55:18.180 +08:00] [WARN] [env.go:51] ["initialize environment failed"] [category=ddl-ingest] ["storage limitation"="only support TiKV storage"] ["current storage"=unistore] ["lightning is initialized"=false]
[2024/05/17 10:55:18.180 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=loadSchemaInLoop]
[2024/05/17 10:55:18.180 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=mdlCheckLoop]
[2024/05/17 10:55:18.180 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=topNSlowQueryLoop]
[2024/05/17 10:55:18.180 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=infoSyncerKeeper]
[2024/05/17 10:55:18.180 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=globalConfigSyncerKeeper]
[2024/05/17 10:55:18.180 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=runawayStartLoop]
[2024/05/17 10:55:18.180 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=requestUnitsWriterLoop]
[2024/05/17 10:55:18.180 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=topologySyncerKeeper]
[2024/05/17 10:55:18.180 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=closestReplicaReadCheckLoop]
[2024/05/17 10:55:18.180 +08:00] [WARN] [domain.go:1396] ["pd / etcd client not provided, won't begin Advancer."]
[2024/05/17 10:55:18.185 +08:00] [INFO] [delete_range.go:172] ["start delRange emulator"] [category=ddl]
[2024/05/17 10:55:18.185 +08:00] [INFO] [job_table.go:334] ["get global state and global state change"] [category=ddl] [oldState=false] [currState=false]
[2024/05/17 10:55:18.185 +08:00] [INFO] [runaway.go:149] ["try to start runaway manager loop"]
[2024/05/17 10:55:18.185 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=requestUnitsWriterLoop]
[2024/05/17 10:55:18.202 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=globalBindHandleWorkerLoop]
[2024/05/17 10:55:18.202 +08:00] [WARN] [sysvar_cache.go:49] ["sysvar cache is empty, triggering rebuild"]
[2024/05/17 10:55:18.204 +08:00] [INFO] [sysvar.go:2748] ["set resource control"] [enable=true]
[2024/05/17 10:55:18.204 +08:00] [INFO] [controller.go:447] ["[resource group controller] create resource group cost controller"] [name=default]
[2024/05/17 10:55:18.208 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=loadPrivilegeInLoop]
[2024/05/17 10:55:18.208 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=LoadSysVarCacheLoop]
[2024/05/17 10:55:18.209 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=dumpFileGcChecker]
[2024/05/17 10:55:18.209 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=indexUsageWorker]
[2024/05/17 10:55:18.209 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=quitStatsOwner]
[2024/05/17 10:55:18.209 +08:00] [INFO] [domain.go:2340] ["start load stats sub workers"] ["worker count"=5]
[2024/05/17 10:55:18.209 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=loadSigningCertLoop]
[2024/05/17 10:55:18.209 +08:00] [INFO] [manager.go:113] ["build task executor manager"] [server-id=:4000] [total-cpu=1] [total-mem=32GiB]
[2024/05/17 10:55:18.210 +08:00] [INFO] [domain.go:2140] ["dumpFileGcChecker started"]
[2024/05/17 10:55:18.210 +08:00] [INFO] [task_manager.go:217] ["scale ttl worker"] [ttl-worker=job-manager] [ttl-worker=task-manager] [originalCount=0] [newCount=4]
[2024/05/17 10:55:18.210 +08:00] [INFO] [task_manager.go:217] ["scale ttl worker"] [ttl-worker=job-manager] [ttl-worker=task-manager] [originalCount=0] [newCount=4]
[2024/05/17 10:55:18.211 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=distTaskFrameworkLoop]
[2024/05/17 10:55:18.212 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=1] [schemaVersion=51] [cur_db=test] [sql="drop table if exists origin"] [user=]
[2024/05/17 10:55:18.212 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=1] [schemaVersion=51] [cur_db=test] [sql="create table origin (a int not null) partition by RANGE(a) (partition p10 values less than (10),partition p30 values less than (30),partition p50 values less than (50),partition p70 values less than (70),partition p90 values less than (90));"] [user=]
[2024/05/17 10:55:18.213 +08:00] [INFO] [manager.go:146] ["task executor manager start"] [server-id=:4000]
[2024/05/17 10:55:18.213 +08:00] [INFO] [domain.go:1595] ["dist task executor manager started"]
[2024/05/17 10:55:18.214 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:110, Type:create table, State:queueing, SchemaState:none, SchemaID:2, TableID:104, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:18.214 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:55:18.214 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:110, Type:create table, State:queueing, SchemaState:none, SchemaID:2, TableID:104, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:18.214 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="create table origin (a int not null) partition by RANGE(a) (partition p10 values less than (10),partition p30 values less than (30),partition p50 values less than (50),partition p70 values less than (70),partition p90 values less than (90));"]
[2024/05/17 10:55:18.235 +08:00] [INFO] [job_table.go:334] ["get global state and global state change"] [category=ddl] [oldState=false] [currState=false]
[2024/05/17 10:55:18.235 +08:00] [INFO] [job_table.go:349] ["the owner sets owner operator value"] [category=ddl] [ownerOp=none]
[2024/05/17 10:55:18.238 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=110] [conn=1] [category=ddl] [job="ID:110, Type:create table, State:queueing, SchemaState:none, SchemaID:2, TableID:104, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:18.214 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:18.241 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695469244416] ["schema version"=52]
[2024/05/17 10:55:18.241 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=51] [neededSchemaVersion=52] ["start time"=2.369333ms] [gotSchemaVersion=52] [phyTblIDs="[]"] [actionTypes="[]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:55:18.242 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=110] [version=52]
[2024/05/17 10:55:18.243 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=52] ["take time"=4.079958ms] [job="ID:110, Type:create table, State:done, SchemaState:public, SchemaID:2, TableID:104, RowCount:0, ArgLen:2, start time: 2024-05-17 10:55:18.214 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:18.243 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695469244416] ["schema version"=52]
[2024/05/17 10:55:18.246 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=110] [conn=1] [job="ID:110, Type:create table, State:synced, SchemaState:public, SchemaID:2, TableID:104, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:18.214 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:18.248 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695469244416] ["schema version"=52]
[2024/05/17 10:55:18.248 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=110]
[2024/05/17 10:55:18.248 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:55:18.248 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695469244416] ["schema version"=52]
[2024/05/17 10:55:18.248 +08:00] [INFO] [tidb.go:269] ["rollbackTxn called due to ddl/autocommit failure"]
[2024/05/17 10:55:18.248 +08:00] [WARN] [session.go:2158] ["run statement failed"] [schemaVersion=52] [error="[ddl:8215]Failed to repair table: Partition p100 has lost"] [errorVerbose="[ddl:8215]Failed to repair table: Partition p100 has lost\ngithub.com/pingcap/errors.AddStack\n\t/Users/bba/.gvm/pkgsets/go1.21.0/global/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20240318064555-6bd07397691f/errors.go:178\ngithub.com/pingcap/errors.(*Error).GenWithStackByArgs\n\t/Users/bba/.gvm/pkgsets/go1.21.0/global/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20240318064555-6bd07397691f/normalize.go:175\ngithub.com/pingcap/tidb/pkg/ddl.checkAndOverridePartitionID\n\t/Users/bba/pc/tidb/pkg/ddl/partition.go:1598\ngithub.com/pingcap/tidb/pkg/ddl.(*ddl).RepairTable\n\t/Users/bba/pc/tidb/pkg/ddl/ddl_api.go:8498\ngithub.com/pingcap/tidb/pkg/executor.(*DDLExec).executeRepairTable\n\t/Users/bba/pc/tidb/pkg/executor/ddl.go:734\ngithub.com/pingcap/tidb/pkg/executor.(*DDLExec).Next\n\t/Users/bba/pc/tidb/pkg/executor/ddl.go:199\ngithub.com/pingcap/tidb/pkg/executor/internal/exec.Next\n\t/Users/bba/pc/tidb/pkg/executor/internal/exec/executor.go:410\ngithub.com/pingcap/tidb/pkg/executor.(*ExecStmt).next\n\t/Users/bba/pc/tidb/pkg/executor/adapter.go:1211\ngithub.com/pingcap/tidb/pkg/executor.(*ExecStmt).handleNoDelayExecutor\n\t/Users/bba/pc/tidb/pkg/executor/adapter.go:960\ngithub.com/pingcap/tidb/pkg/executor.(*ExecStmt).handleNoDelay\n\t/Users/bba/pc/tidb/pkg/executor/adapter.go:794\ngithub.com/pingcap/tidb/pkg/executor.(*ExecStmt).Exec\n\t/Users/bba/pc/tidb/pkg/executor/adapter.go:559\ngithub.com/pingcap/tidb/pkg/session.runStmt\n\t/Users/bba/pc/tidb/pkg/session/session.go:2285\ngithub.com/pingcap/tidb/pkg/session.(*session).ExecuteStmt\n\t/Users/bba/pc/tidb/pkg/session/session.go:2146\ngithub.com/pingcap/tidb/pkg/testkit.(*TestKit).ExecWithContext\n\t/Users/bba/pc/tidb/pkg/testkit/testkit.go:384\ngithub.com/pingcap/tidb/pkg/testkit.(*TestKit).Exec\n\t/Users/bba/pc/tidb/pkg/testkit/testkit.go:357\ngithub.com/pingcap/tidb/pkg/testkit.(*TestKit).ExecToErr\n\t/Users/bba/pc/tidb/pkg/testkit/testkit.go:430\ngithub.com/pingcap/tidb/pkg/testkit.(*TestKit).MustGetErrMsg\n\t/Users/bba/pc/tidb/pkg/testkit/testkit.go:474\ngithub.com/pingcap/tidb/pkg/ddl_test.TestRepairTableWithPartition\n\t/Users/bba/pc/tidb/pkg/ddl/repair_table_test.go:186\ntesting.tRunner\n\t/Users/bba/.gvm/gos/go1.21.0/src/testing/testing.go:1595\nruntime.goexit\n\t/Users/bba/.gvm/gos/go1.21.0/src/runtime/asm_arm64.s:1197"] [session="{\n  \"currDBName\": \"test\",\n  \"id\": 1,\n  \"status\": 2,\n  \"strictMode\": true,\n  \"user\": null\n}"]
[2024/05/17 10:55:18.249 +08:00] [INFO] [tidb.go:269] ["rollbackTxn called due to ddl/autocommit failure"]
[2024/05/17 10:55:18.249 +08:00] [WARN] [session.go:2158] ["run statement failed"] [schemaVersion=52] [error="[ddl:8215]Failed to repair table: Partition p20 has lost"] [errorVerbose="[ddl:8215]Failed to repair table: Partition p20 has lost\ngithub.com/pingcap/errors.AddStack\n\t/Users/bba/.gvm/pkgsets/go1.21.0/global/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20240318064555-6bd07397691f/errors.go:178\ngithub.com/pingcap/errors.(*Error).GenWithStackByArgs\n\t/Users/bba/.gvm/pkgsets/go1.21.0/global/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20240318064555-6bd07397691f/normalize.go:175\ngithub.com/pingcap/tidb/pkg/ddl.checkAndOverridePartitionID\n\t/Users/bba/pc/tidb/pkg/ddl/partition.go:1598\ngithub.com/pingcap/tidb/pkg/ddl.(*ddl).RepairTable\n\t/Users/bba/pc/tidb/pkg/ddl/ddl_api.go:8498\ngithub.com/pingcap/tidb/pkg/executor.(*DDLExec).executeRepairTable\n\t/Users/bba/pc/tidb/pkg/executor/ddl.go:734\ngithub.com/pingcap/tidb/pkg/executor.(*DDLExec).Next\n\t/Users/bba/pc/tidb/pkg/executor/ddl.go:199\ngithub.com/pingcap/tidb/pkg/executor/internal/exec.Next\n\t/Users/bba/pc/tidb/pkg/executor/internal/exec/executor.go:410\ngithub.com/pingcap/tidb/pkg/executor.(*ExecStmt).next\n\t/Users/bba/pc/tidb/pkg/executor/adapter.go:1211\ngithub.com/pingcap/tidb/pkg/executor.(*ExecStmt).handleNoDelayExecutor\n\t/Users/bba/pc/tidb/pkg/executor/adapter.go:960\ngithub.com/pingcap/tidb/pkg/executor.(*ExecStmt).handleNoDelay\n\t/Users/bba/pc/tidb/pkg/executor/adapter.go:794\ngithub.com/pingcap/tidb/pkg/executor.(*ExecStmt).Exec\n\t/Users/bba/pc/tidb/pkg/executor/adapter.go:559\ngithub.com/pingcap/tidb/pkg/session.runStmt\n\t/Users/bba/pc/tidb/pkg/session/session.go:2285\ngithub.com/pingcap/tidb/pkg/session.(*session).ExecuteStmt\n\t/Users/bba/pc/tidb/pkg/session/session.go:2146\ngithub.com/pingcap/tidb/pkg/testkit.(*TestKit).ExecWithContext\n\t/Users/bba/pc/tidb/pkg/testkit/testkit.go:384\ngithub.com/pingcap/tidb/pkg/testkit.(*TestKit).Exec\n\t/Users/bba/pc/tidb/pkg/testkit/testkit.go:357\ngithub.com/pingcap/tidb/pkg/testkit.(*TestKit).ExecToErr\n\t/Users/bba/pc/tidb/pkg/testkit/testkit.go:430\ngithub.com/pingcap/tidb/pkg/testkit.(*TestKit).MustGetErrMsg\n\t/Users/bba/pc/tidb/pkg/testkit/testkit.go:474\ngithub.com/pingcap/tidb/pkg/ddl_test.TestRepairTableWithPartition\n\t/Users/bba/pc/tidb/pkg/ddl/repair_table_test.go:194\ntesting.tRunner\n\t/Users/bba/.gvm/gos/go1.21.0/src/testing/testing.go:1595\nruntime.goexit\n\t/Users/bba/.gvm/gos/go1.21.0/src/runtime/asm_arm64.s:1197"] [session="{\n  \"currDBName\": \"test\",\n  \"id\": 1,\n  \"status\": 2,\n  \"strictMode\": true,\n  \"user\": null\n}"]
[2024/05/17 10:55:18.249 +08:00] [INFO] [tidb.go:269] ["rollbackTxn called due to ddl/autocommit failure"]
[2024/05/17 10:55:18.249 +08:00] [WARN] [session.go:2158] ["run statement failed"] [schemaVersion=52] [error="[ddl:8215]Failed to repair table: Partition pnew has lost"] [errorVerbose="[ddl:8215]Failed to repair table: Partition pnew has lost\ngithub.com/pingcap/errors.AddStack\n\t/Users/bba/.gvm/pkgsets/go1.21.0/global/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20240318064555-6bd07397691f/errors.go:178\ngithub.com/pingcap/errors.(*Error).GenWithStackByArgs\n\t/Users/bba/.gvm/pkgsets/go1.21.0/global/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20240318064555-6bd07397691f/normalize.go:175\ngithub.com/pingcap/tidb/pkg/ddl.checkAndOverridePartitionID\n\t/Users/bba/pc/tidb/pkg/ddl/partition.go:1598\ngithub.com/pingcap/tidb/pkg/ddl.(*ddl).RepairTable\n\t/Users/bba/pc/tidb/pkg/ddl/ddl_api.go:8498\ngithub.com/pingcap/tidb/pkg/executor.(*DDLExec).executeRepairTable\n\t/Users/bba/pc/tidb/pkg/executor/ddl.go:734\ngithub.com/pingcap/tidb/pkg/executor.(*DDLExec).Next\n\t/Users/bba/pc/tidb/pkg/executor/ddl.go:199\ngithub.com/pingcap/tidb/pkg/executor/internal/exec.Next\n\t/Users/bba/pc/tidb/pkg/executor/internal/exec/executor.go:410\ngithub.com/pingcap/tidb/pkg/executor.(*ExecStmt).next\n\t/Users/bba/pc/tidb/pkg/executor/adapter.go:1211\ngithub.com/pingcap/tidb/pkg/executor.(*ExecStmt).handleNoDelayExecutor\n\t/Users/bba/pc/tidb/pkg/executor/adapter.go:960\ngithub.com/pingcap/tidb/pkg/executor.(*ExecStmt).handleNoDelay\n\t/Users/bba/pc/tidb/pkg/executor/adapter.go:794\ngithub.com/pingcap/tidb/pkg/executor.(*ExecStmt).Exec\n\t/Users/bba/pc/tidb/pkg/executor/adapter.go:559\ngithub.com/pingcap/tidb/pkg/session.runStmt\n\t/Users/bba/pc/tidb/pkg/session/session.go:2285\ngithub.com/pingcap/tidb/pkg/session.(*session).ExecuteStmt\n\t/Users/bba/pc/tidb/pkg/session/session.go:2146\ngithub.com/pingcap/tidb/pkg/testkit.(*TestKit).ExecWithContext\n\t/Users/bba/pc/tidb/pkg/testkit/testkit.go:384\ngithub.com/pingcap/tidb/pkg/testkit.(*TestKit).Exec\n\t/Users/bba/pc/tidb/pkg/testkit/testkit.go:357\ngithub.com/pingcap/tidb/pkg/testkit.(*TestKit).ExecToErr\n\t/Users/bba/pc/tidb/pkg/testkit/testkit.go:430\ngithub.com/pingcap/tidb/pkg/testkit.(*TestKit).MustGetErrMsg\n\t/Users/bba/pc/tidb/pkg/testkit/testkit.go:474\ngithub.com/pingcap/tidb/pkg/ddl_test.TestRepairTableWithPartition\n\t/Users/bba/pc/tidb/pkg/ddl/repair_table_test.go:201\ntesting.tRunner\n\t/Users/bba/.gvm/gos/go1.21.0/src/testing/testing.go:1595\nruntime.goexit\n\t/Users/bba/.gvm/gos/go1.21.0/src/runtime/asm_arm64.s:1197"] [session="{\n  \"currDBName\": \"test\",\n  \"id\": 1,\n  \"status\": 2,\n  \"strictMode\": true,\n  \"user\": null\n}"]
[2024/05/17 10:55:18.250 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:111, Type:repair table, State:queueing, SchemaState:none, SchemaID:2, TableID:104, RowCount:0, ArgLen:1, start time: 2024-05-17 10:55:18.249 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:55:18.250 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:111, Type:repair table, State:queueing, SchemaState:none, SchemaID:2, TableID:104, RowCount:0, ArgLen:1, start time: 2024-05-17 10:55:18.249 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="admin repair table origin create table origin_rename (a int not null) partition by RANGE(a) (partition p10 values less than (10),partition p30 values less than (30),partition p50 values less than (50),partition p90 values less than (90));"]
[2024/05/17 10:55:18.253 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=111] [conn=1] [category=ddl] [job="ID:111, Type:repair table, State:queueing, SchemaState:none, SchemaID:2, TableID:104, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:18.249 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:18.257 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695473176578] ["schema version"=53]
[2024/05/17 10:55:18.257 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=52] [neededSchemaVersion=53] ["start time"=2.616083ms] [gotSchemaVersion=53] [phyTblIDs="[104,105,106,107,109]"] [actionTypes="[29,29,29,29,29]"] [diffTypes="[\"repair table\"]"]
[2024/05/17 10:55:18.258 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=111] [version=53]
[2024/05/17 10:55:18.258 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=53] ["take time"=4.185542ms] [job="ID:111, Type:repair table, State:done, SchemaState:public, SchemaID:2, TableID:104, RowCount:0, ArgLen:1, start time: 2024-05-17 10:55:18.249 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:18.259 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695473176578] ["schema version"=53]
[2024/05/17 10:55:18.262 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=111] [conn=1] [job="ID:111, Type:repair table, State:synced, SchemaState:public, SchemaID:2, TableID:104, RowCount:0, ArgLen:0, start time: 2024-05-17 10:55:18.249 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:55:18.264 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695473176578] ["schema version"=53]
[2024/05/17 10:55:18.264 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=111]
[2024/05/17 10:55:18.264 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:55:18.264 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695473176578] ["schema version"=53]
[2024/05/17 10:55:18.264 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816695473176578] ["schema version"=53]
[2024/05/17 10:55:18.264 +08:00] [WARN] [session.go:2116] ["compile SQL failed"] [error="[ddl:1103]Incorrect table name 'origin'%!(EXTRA string=this table is in repair)"] [errorVerbose="[ddl:1103]Incorrect table name 'origin'%!(EXTRA string=this table is in repair)\ngithub.com/pingcap/errors.AddStack\n\t/Users/bba/.gvm/pkgsets/go1.21.0/global/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20240318064555-6bd07397691f/errors.go:178\ngithub.com/pingcap/errors.(*Error).GenWithStackByArgs\n\t/Users/bba/.gvm/pkgsets/go1.21.0/global/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20240318064555-6bd07397691f/normalize.go:175\ngithub.com/pingcap/tidb/pkg/planner/core.(*preprocessor).checkNotInRepair\n\t/Users/bba/pc/tidb/pkg/planner/core/preprocess.go:1583\ngithub.com/pingcap/tidb/pkg/planner/core.(*preprocessor).handleTableName\n\t/Users/bba/pc/tidb/pkg/planner/core/preprocess.go:1530\ngithub.com/pingcap/tidb/pkg/planner/core.(*preprocessor).Leave\n\t/Users/bba/pc/tidb/pkg/planner/core/preprocess.go:596\ngithub.com/pingcap/tidb/pkg/parser/ast.(*TableName).Accept\n\t/Users/bba/pc/tidb/pkg/parser/ast/dml.go:452\ngithub.com/pingcap/tidb/pkg/parser/ast.(*DropTableStmt).Accept\n\t/Users/bba/pc/tidb/pkg/parser/ast/ddl.go:1268\ngithub.com/pingcap/tidb/pkg/planner/core.Preprocess\n\t/Users/bba/pc/tidb/pkg/planner/core/preprocess.go:138\ngithub.com/pingcap/tidb/pkg/executor.(*Compiler).Compile\n\t/Users/bba/pc/tidb/pkg/executor/compiler.go:67\ngithub.com/pingcap/tidb/pkg/session.(*session).ExecuteStmt\n\t/Users/bba/pc/tidb/pkg/session/session.go:2094\ngithub.com/pingcap/tidb/pkg/testkit.(*TestKit).ExecWithContext\n\t/Users/bba/pc/tidb/pkg/testkit/testkit.go:384\ngithub.com/pingcap/tidb/pkg/testkit.(*TestKit).MustExecWithContext\n\t/Users/bba/pc/tidb/pkg/testkit/testkit.go:156\ngithub.com/pingcap/tidb/pkg/testkit.(*TestKit).MustExec\n\t/Users/bba/pc/tidb/pkg/testkit/testkit.go:151\ngithub.com/pingcap/tidb/pkg/ddl_test.TestRepairTableWithPartition\n\t/Users/bba/pc/tidb/pkg/ddl/repair_table_test.go:224\ntesting.tRunner\n\t/Users/bba/.gvm/gos/go1.21.0/src/testing/testing.go:1595\nruntime.goexit\n\t/Users/bba/.gvm/gos/go1.21.0/src/runtime/asm_arm64.s:1197"] [SQL="drop table if exists origin"]
[2024/05/17 10:55:18.264 +08:00] [INFO] [mock.go:106] ["owner manager is canceled"] [category=ddl] [ID=24ec59ee-6d40-4474-bcb2-e3f1f4e46c22] [ownerKey=/tidb/ddl/fg/owner]
[2024/05/17 10:55:18.264 +08:00] [INFO] [ddl_workerpool.go:82] ["closing workerPool"] [category=ddl]
[2024/05/17 10:55:18.264 +08:00] [INFO] [ddl_worker.go:188] ["DDL worker closed"] [worker="worker 4, tp add index"] [category=ddl] ["take time"=875ns]
[2024/05/17 10:55:18.264 +08:00] [INFO] [ddl_workerpool.go:82] ["closing workerPool"] [category=ddl]
[2024/05/17 10:55:18.264 +08:00] [INFO] [ddl_worker.go:188] ["DDL worker closed"] [worker="worker 3, tp general"] [category=ddl] ["take time"=375ns]
[2024/05/17 10:55:18.264 +08:00] [INFO] [ddl_workerpool.go:82] ["closing workerPool"] [category=ddl]
[2024/05/17 10:55:18.264 +08:00] [INFO] [delete_range.go:162] ["closing delRange"] [category=ddl]
[2024/05/17 10:55:18.264 +08:00] [INFO] [session_pool.go:99] ["closing session pool"] [category=ddl]
[2024/05/17 10:55:18.264 +08:00] [INFO] [ddl.go:951] ["DDL closed"] [category=ddl] [ID=24ec59ee-6d40-4474-bcb2-e3f1f4e46c22] ["take time"=220.792µs]
[2024/05/17 10:55:18.264 +08:00] [INFO] [ddl.go:769] ["stop DDL"] [category=ddl] [ID=24ec59ee-6d40-4474-bcb2-e3f1f4e46c22]
[2024/05/17 10:55:18.264 +08:00] [INFO] [domain.go:1096] ["stopping ttlJobManager"]
[2024/05/17 10:55:18.264 +08:00] [INFO] [task_manager.go:194] ["shrink ttl worker"] [ttl-worker=job-manager] [ttl-worker=task-manager] [originalCount=4] [newCount=0]
[2024/05/17 10:55:18.265 +08:00] [INFO] [scan.go:309] ["ttlScanWorker loop exited."]
[2024/05/17 10:55:18.265 +08:00] [INFO] [scan.go:309] ["ttlScanWorker loop exited."]
[2024/05/17 10:55:18.265 +08:00] [INFO] [scan.go:309] ["ttlScanWorker loop exited."]
[2024/05/17 10:55:18.265 +08:00] [INFO] [scan.go:309] ["ttlScanWorker loop exited."]
[2024/05/17 10:55:18.265 +08:00] [INFO] [task_manager.go:194] ["shrink ttl worker"] [ttl-worker=job-manager] [ttl-worker=task-manager] [originalCount=4] [newCount=0]
[2024/05/17 10:55:18.265 +08:00] [INFO] [del.go:261] ["ttlDeleteWorker loop exited."]
[2024/05/17 10:55:18.265 +08:00] [INFO] [del.go:261] ["ttlDeleteWorker loop exited."]
[2024/05/17 10:55:18.265 +08:00] [INFO] [del.go:261] ["ttlDeleteWorker loop exited."]
[2024/05/17 10:55:18.265 +08:00] [INFO] [del.go:261] ["ttlDeleteWorker loop exited."]
[2024/05/17 10:55:18.265 +08:00] [INFO] [job_manager.go:174] ["ttlJobManager loop exited."] [ttl-worker=job-manager]
[2024/05/17 10:55:18.265 +08:00] [INFO] [domain.go:1107] ["ttlJobManager exited."]
[2024/05/17 10:55:18.265 +08:00] [INFO] [manager.go:280] ["recoverMetaLoop done"] [server-id=:4000]
[2024/05/17 10:55:18.265 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=mdlCheckLoop]
[2024/05/17 10:55:18.265 +08:00] [INFO] [domain.go:977] ["loadSchemaInLoop exited."]
[2024/05/17 10:55:18.265 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=loadSchemaInLoop]
[2024/05/17 10:55:18.265 +08:00] [INFO] [domain.go:1597] ["stopping dist task executor manager"]
[2024/05/17 10:55:18.265 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=loadSigningCertLoop]
[2024/05/17 10:55:18.265 +08:00] [INFO] [stats_syncload.go:216] ["SubLoadWorker exited."]
[2024/05/17 10:55:18.265 +08:00] [INFO] [stats_syncload.go:216] ["SubLoadWorker exited."]
[2024/05/17 10:55:18.265 +08:00] [INFO] [stats_syncload.go:216] ["SubLoadWorker exited."]
[2024/05/17 10:55:18.265 +08:00] [INFO] [stats_syncload.go:216] ["SubLoadWorker exited."]
[2024/05/17 10:55:18.265 +08:00] [INFO] [stats_syncload.go:216] ["SubLoadWorker exited."]
[2024/05/17 10:55:18.265 +08:00] [INFO] [mock.go:106] ["owner manager is canceled"] [category=ddl] [ID=24ec59ee-6d40-4474-bcb2-e3f1f4e46c22] [ownerKey=/tidb/stats/owner]
[2024/05/17 10:55:18.265 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=quitStatsOwner]
[2024/05/17 10:55:18.265 +08:00] [INFO] [domain.go:2423] ["indexUsageWorker exited."]
[2024/05/17 10:55:18.265 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=indexUsageWorker]
[2024/05/17 10:55:18.265 +08:00] [INFO] [domain.go:2144] ["dumpFileGcChecker exited."]
[2024/05/17 10:55:18.265 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=dumpFileGcChecker]
[2024/05/17 10:55:18.265 +08:00] [INFO] [domain.go:1820] ["LoadSysVarCacheLoop exited."]
[2024/05/17 10:55:18.265 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=LoadSysVarCacheLoop]
[2024/05/17 10:55:18.265 +08:00] [INFO] [domain.go:1770] ["loadPrivilegeInLoop exited."]
[2024/05/17 10:55:18.265 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=loadPrivilegeInLoop]
[2024/05/17 10:55:18.265 +08:00] [INFO] [mock.go:106] ["owner manager is canceled"] [category=ddl] [ID=24ec59ee-6d40-4474-bcb2-e3f1f4e46c22] [ownerKey=/tidb/bindinfo/owner]
[2024/05/17 10:55:18.265 +08:00] [INFO] [domain.go:1959] ["globalBindHandleWorkerLoop exited."]
[2024/05/17 10:55:18.265 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=globalBindHandleWorkerLoop]
[2024/05/17 10:55:18.265 +08:00] [INFO] [domain.go:831] ["topologySyncerKeeper exited."]
[2024/05/17 10:55:18.265 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=topologySyncerKeeper]
[2024/05/17 10:55:18.265 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=runawayStartLoop]
[2024/05/17 10:55:18.265 +08:00] [INFO] [domain.go:807] ["globalConfigSyncerKeeper exited."]
[2024/05/17 10:55:18.265 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=globalConfigSyncerKeeper]
[2024/05/17 10:55:18.265 +08:00] [INFO] [domain.go:781] ["infoSyncerKeeper exited."]
[2024/05/17 10:55:18.265 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=infoSyncerKeeper]
[2024/05/17 10:55:18.265 +08:00] [INFO] [domain.go:753] ["topNSlowQueryLoop exited."]
[2024/05/17 10:55:18.265 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=topNSlowQueryLoop]
[2024/05/17 10:55:18.265 +08:00] [INFO] [domain.go:1431] ["closestReplicaReadCheckLoop exited."]
[2024/05/17 10:55:18.265 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=closestReplicaReadCheckLoop]
[2024/05/17 10:55:18.265 +08:00] [INFO] [manager.go:179] ["handle tasks loop done"] [server-id=:4000]
[2024/05/17 10:55:18.265 +08:00] [INFO] [domain.go:1599] ["dist task executor manager stopped"]
[2024/05/17 10:55:18.265 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=distTaskFrameworkLoop]
[2024/05/17 10:55:18.265 +08:00] [INFO] [domain.go:1144] ["domain closed"] ["take time"=738.25µs]
[2024/05/17 10:55:18.272 +08:00] [INFO] [db.go:567] ["Closing database"]
[2024/05/17 10:55:18.272 +08:00] [INFO] [db.go:592] ["Memtable flushed"]
[2024/05/17 10:55:18.272 +08:00] [INFO] [db.go:596] ["Compaction finished"]
[2024/05/17 10:55:18.272 +08:00] [INFO] [db.go:615] ["BlobManager finished"]
[2024/05/17 10:55:18.272 +08:00] [INFO] [db.go:619] ["ResourceManager finished"]
[2024/05/17 10:55:18.272 +08:00] [INFO] [db.go:625] ["Waiting for closer"]
--- FAIL: TestRepairTableWithPartition (1.11s)
    testkit.go:158: 
        	Error Trace:	/Users/bba/pc/tidb/pkg/testkit/testkit.go:158
        	            				/Users/bba/pc/tidb/pkg/testkit/testkit.go:151
        	            				/Users/bba/pc/tidb/pkg/ddl/repair_table_test.go:224
        	Error:      	Received unexpected error:
        	            	[ddl:1103]Incorrect table name 'origin'%!(EXTRA string=this table is in repair)
        	            	github.com/pingcap/errors.AddStack
        	            		/Users/bba/.gvm/pkgsets/go1.21.0/global/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20240318064555-6bd07397691f/errors.go:178
        	            	github.com/pingcap/errors.(*Error).GenWithStackByArgs
        	            		/Users/bba/.gvm/pkgsets/go1.21.0/global/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20240318064555-6bd07397691f/normalize.go:175
        	            	github.com/pingcap/tidb/pkg/planner/core.(*preprocessor).checkNotInRepair
        	            		/Users/bba/pc/tidb/pkg/planner/core/preprocess.go:1583
        	            	github.com/pingcap/tidb/pkg/planner/core.(*preprocessor).handleTableName
        	            		/Users/bba/pc/tidb/pkg/planner/core/preprocess.go:1530
        	            	github.com/pingcap/tidb/pkg/planner/core.(*preprocessor).Leave
        	            		/Users/bba/pc/tidb/pkg/planner/core/preprocess.go:596
        	            	github.com/pingcap/tidb/pkg/parser/ast.(*TableName).Accept
        	            		/Users/bba/pc/tidb/pkg/parser/ast/dml.go:452
        	            	github.com/pingcap/tidb/pkg/parser/ast.(*DropTableStmt).Accept
        	            		/Users/bba/pc/tidb/pkg/parser/ast/ddl.go:1268
        	            	github.com/pingcap/tidb/pkg/planner/core.Preprocess
        	            		/Users/bba/pc/tidb/pkg/planner/core/preprocess.go:138
        	            	github.com/pingcap/tidb/pkg/executor.(*Compiler).Compile
        	            		/Users/bba/pc/tidb/pkg/executor/compiler.go:67
        	            	github.com/pingcap/tidb/pkg/session.(*session).ExecuteStmt
        	            		/Users/bba/pc/tidb/pkg/session/session.go:2094
        	            	github.com/pingcap/tidb/pkg/testkit.(*TestKit).ExecWithContext
        	            		/Users/bba/pc/tidb/pkg/testkit/testkit.go:384
        	            	github.com/pingcap/tidb/pkg/testkit.(*TestKit).MustExecWithContext
        	            		/Users/bba/pc/tidb/pkg/testkit/testkit.go:156
        	            	github.com/pingcap/tidb/pkg/testkit.(*TestKit).MustExec
        	            		/Users/bba/pc/tidb/pkg/testkit/testkit.go:151
        	            	github.com/pingcap/tidb/pkg/ddl_test.TestRepairTableWithPartition
        	            		/Users/bba/pc/tidb/pkg/ddl/repair_table_test.go:224
        	            	testing.tRunner
        	            		/Users/bba/.gvm/gos/go1.21.0/src/testing/testing.go:1595
        	            	runtime.goexit
        	            		/Users/bba/.gvm/gos/go1.21.0/src/runtime/asm_arm64.s:1197
        	Test:       	TestRepairTableWithPartition
        	Messages:   	sql:drop table if exists origin, [], error stack [ddl:1103]Incorrect table name 'origin'%!(EXTRA string=this table is in repair)
        	            	github.com/pingcap/errors.AddStack
        	            		/Users/bba/.gvm/pkgsets/go1.21.0/global/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20240318064555-6bd07397691f/errors.go:178
        	            	github.com/pingcap/errors.(*Error).GenWithStackByArgs
        	            		/Users/bba/.gvm/pkgsets/go1.21.0/global/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20240318064555-6bd07397691f/normalize.go:175
        	            	github.com/pingcap/tidb/pkg/planner/core.(*preprocessor).checkNotInRepair
        	            		/Users/bba/pc/tidb/pkg/planner/core/preprocess.go:1583
        	            	github.com/pingcap/tidb/pkg/planner/core.(*preprocessor).handleTableName
        	            		/Users/bba/pc/tidb/pkg/planner/core/preprocess.go:1530
        	            	github.com/pingcap/tidb/pkg/planner/core.(*preprocessor).Leave
        	            		/Users/bba/pc/tidb/pkg/planner/core/preprocess.go:596
        	            	github.com/pingcap/tidb/pkg/parser/ast.(*TableName).Accept
        	            		/Users/bba/pc/tidb/pkg/parser/ast/dml.go:452
        	            	github.com/pingcap/tidb/pkg/parser/ast.(*DropTableStmt).Accept
        	            		/Users/bba/pc/tidb/pkg/parser/ast/ddl.go:1268
        	            	github.com/pingcap/tidb/pkg/planner/core.Preprocess
        	            		/Users/bba/pc/tidb/pkg/planner/core/preprocess.go:138
        	            	github.com/pingcap/tidb/pkg/executor.(*Compiler).Compile
        	            		/Users/bba/pc/tidb/pkg/executor/compiler.go:67
        	            	github.com/pingcap/tidb/pkg/session.(*session).ExecuteStmt
        	            		/Users/bba/pc/tidb/pkg/session/session.go:2094
        	            	github.com/pingcap/tidb/pkg/testkit.(*TestKit).ExecWithContext
        	            		/Users/bba/pc/tidb/pkg/testkit/testkit.go:384
        	            	github.com/pingcap/tidb/pkg/testkit.(*TestKit).MustExecWithContext
        	            		/Users/bba/pc/tidb/pkg/testkit/testkit.go:156
        	            	github.com/pingcap/tidb/pkg/testkit.(*TestKit).MustExec
        	            		/Users/bba/pc/tidb/pkg/testkit/testkit.go:151
        	            	github.com/pingcap/tidb/pkg/ddl_test.TestRepairTableWithPartition
        	            		/Users/bba/pc/tidb/pkg/ddl/repair_table_test.go:224
        	            	testing.tRunner
        	            		/Users/bba/.gvm/gos/go1.21.0/src/testing/testing.go:1595
        	            	runtime.goexit
        	            		/Users/bba/.gvm/gos/go1.21.0/src/runtime/asm_arm64.s:1197
FAIL
[FAIL]  pkg/statistics/handle/storage TestGCExtendedStats
err=exit status 1
[2024/05/17 10:56:35.403 +08:00] [INFO] [store_cache.go:510] ["change store resolve state"] [store=1] [addr=store1] [from=unresolved] [to=resolved] [liveness-state=reachable]
[2024/05/17 10:56:35.413 +08:00] [INFO] [ddl_api.go:1141] ["Automatically convert BLOB(65535) to MEDIUMBLOB"] [category=ddl]
[2024/05/17 10:56:35.414 +08:00] [INFO] [ddl_api.go:1141] ["Automatically convert BLOB(65535) to MEDIUMBLOB"] [category=ddl]
[2024/05/17 10:56:35.418 +08:00] [INFO] [ddl_api.go:1141] ["Automatically convert BLOB(65535) to MEDIUMBLOB"] [category=ddl]
[2024/05/17 10:56:35.418 +08:00] [INFO] [ddl_api.go:1141] ["Automatically convert BLOB(65535) to MEDIUMBLOB"] [category=ddl]
[2024/05/17 10:56:35.422 +08:00] [INFO] [ddl_api.go:1141] ["Automatically convert BLOB(65535) to MEDIUMBLOB"] [category=ddl]
[2024/05/17 10:56:35.425 +08:00] [INFO] [tidb.go:80] ["new domain"] [store=3202c7d3-8617-424d-aedb-2acc81366976] ["ddl lease"=500ms] ["stats lease"=-1ns]
[2024/05/17 10:56:35.433 +08:00] [WARN] [controller.go:198] ["[resource group controller] server does not save config, load config failed"]
[2024/05/17 10:56:35.433 +08:00] [INFO] [controller.go:185] ["load resource controller config"] [config="{\"degraded-mode-wait-duration\":\"0s\",\"ltb-max-wait-duration\":\"30s\",\"wait-retry-interval\":\"50ms\",\"wait-retry-times\":10,\"request-unit\":{\"read-base-cost\":0.125,\"read-per-batch-base-cost\":0.5,\"read-cost-per-byte\":0.0000152587890625,\"write-base-cost\":1,\"write-per-batch-base-cost\":1,\"write-cost-per-byte\":0.0009765625,\"read-cpu-ms-cost\":0.3333333333333333},\"enable-controller-trace-log\":\"false\"}"] [ru-config="{\"ReadBaseCost\":0.125,\"ReadPerBatchBaseCost\":0.5,\"ReadBytesCost\":0.0000152587890625,\"WriteBaseCost\":1,\"WritePerBatchBaseCost\":1,\"WriteBytesCost\":0.0009765625,\"CPUMsCost\":0.3333333333333333,\"LTBMaxWaitDuration\":30000000000,\"WaitRetryInterval\":50000000,\"WaitRetryTimes\":10,\"DegradedModeWaitDuration\":0}"]
[2024/05/17 10:56:35.434 +08:00] [WARN] [domain.go:302] ["failed to get schema version"] [error="There is no Write MVCC info for the schema version"] [errorVerbose="There is no Write MVCC info for the schema version\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).getTimestampForSchemaVersionWithNonEmptyDiff\n\t/Users/bba/pc/tidb/pkg/domain/domain.go:405\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).loadInfoSchema\n\t/Users/bba/pc/tidb/pkg/domain/domain.go:300\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).Reload\n\t/Users/bba/pc/tidb/pkg/domain/domain.go:676\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).Init\n\t/Users/bba/pc/tidb/pkg/domain/domain.go:1330\ngithub.com/pingcap/tidb/pkg/session.(*domainMap).Get.func1\n\t/Users/bba/pc/tidb/pkg/session/tidb.go:92\ngithub.com/pingcap/tidb/pkg/util.RunWithRetry\n\t/Users/bba/pc/tidb/pkg/util/misc.go:70\ngithub.com/pingcap/tidb/pkg/session.(*domainMap).Get\n\t/Users/bba/pc/tidb/pkg/session/tidb.go:79\ngithub.com/pingcap/tidb/pkg/session.createSessionWithOpt\n\t/Users/bba/pc/tidb/pkg/session/session.go:3634\ngithub.com/pingcap/tidb/pkg/session.createSession\n\t/Users/bba/pc/tidb/pkg/session/session.go:3626\ngithub.com/pingcap/tidb/pkg/session.runInBootstrapSession\n\t/Users/bba/pc/tidb/pkg/session/session.go:3576\ngithub.com/pingcap/tidb/pkg/session.bootstrapSessionImpl\n\t/Users/bba/pc/tidb/pkg/session/session.go:3352\ngithub.com/pingcap/tidb/pkg/session.BootstrapSession\n\t/Users/bba/pc/tidb/pkg/session/session.go:3318\ngithub.com/pingcap/tidb/pkg/testkit.bootstrap\n\t/Users/bba/pc/tidb/pkg/testkit/mockstore.go:294\ngithub.com/pingcap/tidb/pkg/testkit.CreateMockStoreAndDomain\n\t/Users/bba/pc/tidb/pkg/testkit/mockstore.go:265\ngithub.com/pingcap/tidb/pkg/statistics/handle/storage_test.TestGCExtendedStats\n\t/Users/bba/pc/tidb/pkg/statistics/handle/storage/gc_test.go:98\ntesting.tRunner\n\t/Users/bba/.gvm/gos/go1.21.0/src/testing/testing.go:1595\nruntime.goexit\n\t/Users/bba/.gvm/gos/go1.21.0/src/runtime/asm_arm64.s:1197"] [version=0]
[2024/05/17 10:56:35.442 +08:00] [INFO] [domain.go:385] ["full load InfoSchema success"] [currentSchemaVersion=0] [neededSchemaVersion=0] ["start time"=7.740708ms]
[2024/05/17 10:56:35.443 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=0] ["schema version"=0]
[2024/05/17 10:56:35.444 +08:00] [INFO] [domain.go:705] ["full load and reset schema validator"]
[2024/05/17 10:56:35.444 +08:00] [INFO] [ddl.go:818] ["start DDL"] [category=ddl] [ID=ab519d6f-1b36-4040-a6d0-d75d771471bd] [runWorker=true]
[2024/05/17 10:56:35.445 +08:00] [INFO] [ddl.go:777] ["start delRangeManager OK"] [category=ddl] ["is a emulator"=true]
[2024/05/17 10:56:35.447 +08:00] [INFO] [delete_range.go:172] ["start delRange emulator"] [category=ddl]
[2024/05/17 10:56:35.449 +08:00] [INFO] [job_table.go:334] ["get global state and global state change"] [category=ddl] [oldState=false] [currState=false]
[2024/05/17 10:56:35.446 +08:00] [WARN] [env.go:51] ["initialize environment failed"] [category=ddl-ingest] ["storage limitation"="only support TiKV storage"] ["current storage"=unistore] ["lightning is initialized"=false]
[2024/05/17 10:56:35.450 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=loadSchemaInLoop]
[2024/05/17 10:56:35.450 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=mdlCheckLoop]
[2024/05/17 10:56:35.450 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=topNSlowQueryLoop]
[2024/05/17 10:56:35.450 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=infoSyncerKeeper]
[2024/05/17 10:56:35.450 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=globalConfigSyncerKeeper]
[2024/05/17 10:56:35.450 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=runawayStartLoop]
[2024/05/17 10:56:35.450 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=requestUnitsWriterLoop]
[2024/05/17 10:56:35.450 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=topologySyncerKeeper]
[2024/05/17 10:56:35.450 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=closestReplicaReadCheckLoop]
[2024/05/17 10:56:35.450 +08:00] [WARN] [domain.go:1396] ["pd / etcd client not provided, won't begin Advancer."]
[2024/05/17 10:56:35.457 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=0] [cur_db=mysql] [sql="CREATE DATABASE IF NOT EXISTS test"] [user=]
[2024/05/17 10:56:35.466 +08:00] [INFO] [runaway.go:149] ["try to start runaway manager loop"]
[2024/05/17 10:56:35.466 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=requestUnitsWriterLoop]
[2024/05/17 10:56:35.470 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:3, Type:create schema, State:queueing, SchemaState:none, SchemaID:2, TableID:0, RowCount:0, ArgLen:1, start time: 2024-05-17 10:56:35.467 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:56:35.470 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:3, Type:create schema, State:queueing, SchemaState:none, SchemaID:2, TableID:0, RowCount:0, ArgLen:1, start time: 2024-05-17 10:56:35.467 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE DATABASE IF NOT EXISTS test"]
[2024/05/17 10:56:35.499 +08:00] [INFO] [job_table.go:334] ["get global state and global state change"] [category=ddl] [oldState=false] [currState=false]
[2024/05/17 10:56:35.499 +08:00] [INFO] [job_table.go:349] ["the owner sets owner operator value"] [category=ddl] [ownerOp=none]
[2024/05/17 10:56:35.515 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=3] [category=ddl] [job="ID:3, Type:create schema, State:queueing, SchemaState:none, SchemaID:2, TableID:0, RowCount:0, ArgLen:0, start time: 2024-05-17 10:56:35.467 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:56:35.524 +08:00] [INFO] [domain.go:385] ["full load InfoSchema success"] [currentSchemaVersion=0] [neededSchemaVersion=1] ["start time"=6.711958ms]
[2024/05/17 10:56:35.525 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816715727470592] ["schema version"=1]
[2024/05/17 10:56:35.525 +08:00] [INFO] [domain.go:705] ["full load and reset schema validator"]
[2024/05/17 10:56:35.527 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:56:35.527 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=3] [version=1]
[2024/05/17 10:56:35.527 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=1] ["take time"=8.967042ms] [job="ID:3, Type:create schema, State:done, SchemaState:public, SchemaID:2, TableID:0, RowCount:0, ArgLen:1, start time: 2024-05-17 10:56:35.467 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:56:35.531 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=3] [job="ID:3, Type:create schema, State:synced, SchemaState:public, SchemaID:2, TableID:0, RowCount:0, ArgLen:0, start time: 2024-05-17 10:56:35.467 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:56:35.535 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=3]
[2024/05/17 10:56:35.535 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:56:35.535 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816715727470592] ["schema version"=1]
[2024/05/17 10:56:35.535 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=1] [cur_db=mysql] [sql="CREATE DATABASE IF NOT EXISTS `mysql`"] [user=]
[2024/05/17 10:56:35.535 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=1] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.user (\n\t\tHost\t\t\t\t\tCHAR(255),\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tauthentication_string\tTEXT,\n\t\tplugin\t\t\t\t\tCHAR(64),\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tProcess_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_db_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tSuper_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_user_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_slave_priv\t    \tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_client_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_role_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_role_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAccount_locked\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShutdown_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReload_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tFILE_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tConfig_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_Tablespace_Priv  ENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPassword_reuse_history  smallint unsigned DEFAULT NULL,\n\t\tPassword_reuse_time     smallint unsigned DEFAULT NULL,\n\t\tUser_attributes\t\t\tjson,\n\t\tToken_issuer\t\t\tVARCHAR(255),\n\t\tPassword_expired\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPassword_last_changed\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP(),\n\t\tPassword_lifetime\t\tSMALLINT UNSIGNED DEFAULT NULL,\n\t\tPRIMARY KEY (Host, User));"] [user=]
[2024/05/17 10:56:35.538 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:5, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:4, RowCount:0, ArgLen:2, start time: 2024-05-17 10:56:35.536 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:56:35.538 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:5, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:4, RowCount:0, ArgLen:2, start time: 2024-05-17 10:56:35.536 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.user (\n\t\tHost\t\t\t\t\tCHAR(255),\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tauthentication_string\tTEXT,\n\t\tplugin\t\t\t\t\tCHAR(64),\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tProcess_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_db_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tSuper_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_user_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_slave_priv\t    \tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_client_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_role_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_role_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAccount_locked\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShutdown_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReload_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tFILE_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tConfig_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_Tablespace_Priv  ENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPassword_reuse_history  smallint unsigned DEFAULT NULL,\n\t\tPassword_reuse_time     smallint unsigned DEFAULT NULL,\n\t\tUser_attributes\t\t\tjson,\n\t\tToken_issuer\t\t\tVARCHAR(255),\n\t\tPassword_expired\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPassword_last_changed\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP(),\n\t\tPassword_lifetime\t\tSMALLINT UNSIGNED DEFAULT NULL,\n\t\tPRIMARY KEY (Host, User));"]
[2024/05/17 10:56:35.542 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=5] [category=ddl] [job="ID:5, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:4, RowCount:0, ArgLen:0, start time: 2024-05-17 10:56:35.536 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:56:35.546 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816715734548480] ["schema version"=2]
[2024/05/17 10:56:35.546 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=1] [neededSchemaVersion=2] ["start time"=762.458µs] [gotSchemaVersion=2] [phyTblIDs="[4]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:56:35.547 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:56:35.547 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=5] [version=2]
[2024/05/17 10:56:35.548 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=2] ["take time"=2.567833ms] [job="ID:5, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:4, RowCount:0, ArgLen:2, start time: 2024-05-17 10:56:35.536 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:56:35.552 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=5] [job="ID:5, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:4, RowCount:0, ArgLen:0, start time: 2024-05-17 10:56:35.536 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:56:35.555 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=5]
[2024/05/17 10:56:35.555 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:56:35.555 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816715734548480] ["schema version"=2]
[2024/05/17 10:56:35.556 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=2] [cur_db=mysql] [sql="CREATE TABLE  IF NOT EXISTS mysql.password_history (\n         Host char(255)  NOT NULL DEFAULT '',\n         User char(32)  NOT NULL DEFAULT '',\n         Password_timestamp timestamp(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6),\n         Password text,\n         PRIMARY KEY (Host,User,Password_timestamp )\n        ) COMMENT='Password history for user accounts' "] [user=]
[2024/05/17 10:56:35.557 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:7, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:6, RowCount:0, ArgLen:2, start time: 2024-05-17 10:56:35.557 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:56:35.557 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:7, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:6, RowCount:0, ArgLen:2, start time: 2024-05-17 10:56:35.557 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE  IF NOT EXISTS mysql.password_history (\n         Host char(255)  NOT NULL DEFAULT '',\n         User char(32)  NOT NULL DEFAULT '',\n         Password_timestamp timestamp(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6),\n         Password text,\n         PRIMARY KEY (Host,User,Password_timestamp )\n        ) COMMENT='Password history for user accounts' "]
[2024/05/17 10:56:35.561 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=7] [category=ddl] [job="ID:7, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:6, RowCount:0, ArgLen:0, start time: 2024-05-17 10:56:35.557 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:56:35.562 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816715739004928] ["schema version"=3]
[2024/05/17 10:56:35.562 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=2] [neededSchemaVersion=3] ["start time"=216.292µs] [gotSchemaVersion=3] [phyTblIDs="[6]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:56:35.563 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:56:35.563 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=7] [version=3]
[2024/05/17 10:56:35.564 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=3] ["take time"=2.536583ms] [job="ID:7, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:6, RowCount:0, ArgLen:2, start time: 2024-05-17 10:56:35.557 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:56:35.569 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=7] [job="ID:7, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:6, RowCount:0, ArgLen:0, start time: 2024-05-17 10:56:35.557 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:56:35.572 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=7]
[2024/05/17 10:56:35.572 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:56:35.572 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816715739004928] ["schema version"=3]
[2024/05/17 10:56:35.572 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=3] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.global_priv (Host CHAR(255) NOT NULL DEFAULT '',User CHAR(80) NOT NULL DEFAULT '',Priv LONGTEXT NOT NULL DEFAULT '',PRIMARY KEY (Host, User))"] [user=]
[2024/05/17 10:56:35.574 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:9, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:8, RowCount:0, ArgLen:2, start time: 2024-05-17 10:56:35.573 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:56:35.574 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:9, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:8, RowCount:0, ArgLen:2, start time: 2024-05-17 10:56:35.573 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.global_priv (Host CHAR(255) NOT NULL DEFAULT '',User CHAR(80) NOT NULL DEFAULT '',Priv LONGTEXT NOT NULL DEFAULT '',PRIMARY KEY (Host, User))"]
[2024/05/17 10:56:35.582 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=9] [category=ddl] [job="ID:9, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:8, RowCount:0, ArgLen:0, start time: 2024-05-17 10:56:35.573 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:56:35.584 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816715744772096] ["schema version"=4]
[2024/05/17 10:56:35.584 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=3] [neededSchemaVersion=4] ["start time"=166.084µs] [gotSchemaVersion=4] [phyTblIDs="[8]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:56:35.585 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:56:35.585 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=9] [version=4]
[2024/05/17 10:56:35.586 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=4] ["take time"=2.122791ms] [job="ID:9, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:8, RowCount:0, ArgLen:2, start time: 2024-05-17 10:56:35.573 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:56:35.589 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=9] [job="ID:9, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:8, RowCount:0, ArgLen:0, start time: 2024-05-17 10:56:35.573 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:56:35.591 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=9]
[2024/05/17 10:56:35.591 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:56:35.591 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816715744772096] ["schema version"=4]
[2024/05/17 10:56:35.591 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=4] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.db (\n\t\tHost\t\t\t\t\tCHAR(255),\n\t\tDB\t\t\t\t\t\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv \t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (Host, DB, User));"] [user=]
[2024/05/17 10:56:35.592 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:11, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:10, RowCount:0, ArgLen:2, start time: 2024-05-17 10:56:35.591 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:56:35.592 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:11, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:10, RowCount:0, ArgLen:2, start time: 2024-05-17 10:56:35.591 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.db (\n\t\tHost\t\t\t\t\tCHAR(255),\n\t\tDB\t\t\t\t\t\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv \t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (Host, DB, User));"]
[2024/05/17 10:56:35.595 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=11] [category=ddl] [job="ID:11, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:10, RowCount:0, ArgLen:0, start time: 2024-05-17 10:56:35.591 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:56:35.597 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816715747917824] ["schema version"=5]
[2024/05/17 10:56:35.597 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=4] [neededSchemaVersion=5] ["start time"=459.25µs] [gotSchemaVersion=5] [phyTblIDs="[10]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:56:35.598 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:56:35.598 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=11] [version=5]
[2024/05/17 10:56:35.598 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=5] ["take time"=2.018208ms] [job="ID:11, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:10, RowCount:0, ArgLen:2, start time: 2024-05-17 10:56:35.591 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:56:35.602 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=11] [job="ID:11, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:10, RowCount:0, ArgLen:0, start time: 2024-05-17 10:56:35.591 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:56:35.604 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=11]
[2024/05/17 10:56:35.604 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:56:35.604 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816715747917824] ["schema version"=5]
[2024/05/17 10:56:35.604 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=5] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tables_priv (\n\t\tHost\t\tCHAR(255),\n\t\tDB\t\t\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tGrantor\t\tCHAR(77),\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tTable_priv\tSET('Select','Insert','Update','Delete','Create','Drop','Grant','Index','Alter','Create View','Show View','Trigger','References'),\n\t\tColumn_priv\tSET('Select','Insert','Update','References'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name));"] [user=]
[2024/05/17 10:56:35.605 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:13, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:12, RowCount:0, ArgLen:2, start time: 2024-05-17 10:56:35.605 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:56:35.605 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:13, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:12, RowCount:0, ArgLen:2, start time: 2024-05-17 10:56:35.605 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tables_priv (\n\t\tHost\t\tCHAR(255),\n\t\tDB\t\t\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tGrantor\t\tCHAR(77),\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tTable_priv\tSET('Select','Insert','Update','Delete','Create','Drop','Grant','Index','Alter','Create View','Show View','Trigger','References'),\n\t\tColumn_priv\tSET('Select','Insert','Update','References'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name));"]
[2024/05/17 10:56:35.608 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=13] [category=ddl] [job="ID:13, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:12, RowCount:0, ArgLen:0, start time: 2024-05-17 10:56:35.605 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:56:35.609 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816715751325696] ["schema version"=6]
[2024/05/17 10:56:35.609 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=5] [neededSchemaVersion=6] ["start time"=222.792µs] [gotSchemaVersion=6] [phyTblIDs="[12]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:56:35.609 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:56:35.609 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=13] [version=6]
[2024/05/17 10:56:35.611 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=6] ["take time"=2.328ms] [job="ID:13, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:12, RowCount:0, ArgLen:2, start time: 2024-05-17 10:56:35.605 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:56:35.613 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=13] [job="ID:13, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:12, RowCount:0, ArgLen:0, start time: 2024-05-17 10:56:35.605 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:56:35.614 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=13]
[2024/05/17 10:56:35.614 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:56:35.615 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816715751325696] ["schema version"=6]
[2024/05/17 10:56:35.615 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=6] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.columns_priv(\n\t\tHost\t\tCHAR(255),\n\t\tDB\t\t\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tColumn_name\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tColumn_priv\tSET('Select','Insert','Update','References'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name, Column_name));"] [user=]
[2024/05/17 10:56:35.615 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:15, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:14, RowCount:0, ArgLen:2, start time: 2024-05-17 10:56:35.615 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:56:35.615 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:15, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:14, RowCount:0, ArgLen:2, start time: 2024-05-17 10:56:35.615 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.columns_priv(\n\t\tHost\t\tCHAR(255),\n\t\tDB\t\t\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tColumn_name\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tColumn_priv\tSET('Select','Insert','Update','References'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name, Column_name));"]
[2024/05/17 10:56:35.618 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=15] [category=ddl] [job="ID:15, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:14, RowCount:0, ArgLen:0, start time: 2024-05-17 10:56:35.615 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:56:35.619 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816715753947136] ["schema version"=7]
[2024/05/17 10:56:35.619 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=6] [neededSchemaVersion=7] ["start time"=228.542µs] [gotSchemaVersion=7] [phyTblIDs="[14]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:56:35.620 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:56:35.620 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=15] [version=7]
[2024/05/17 10:56:35.621 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=7] ["take time"=2.003166ms] [job="ID:15, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:14, RowCount:0, ArgLen:2, start time: 2024-05-17 10:56:35.615 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:56:35.624 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=15] [job="ID:15, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:14, RowCount:0, ArgLen:0, start time: 2024-05-17 10:56:35.615 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:56:35.626 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=15]
[2024/05/17 10:56:35.626 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:56:35.626 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816715753947136] ["schema version"=7]
[2024/05/17 10:56:35.626 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=7] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.GLOBAL_VARIABLES(\n\t\tVARIABLE_NAME  VARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE VARCHAR(16383) DEFAULT NULL);"] [user=]
[2024/05/17 10:56:35.627 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:17, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:16, RowCount:0, ArgLen:2, start time: 2024-05-17 10:56:35.626 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:56:35.627 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:17, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:16, RowCount:0, ArgLen:2, start time: 2024-05-17 10:56:35.626 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.GLOBAL_VARIABLES(\n\t\tVARIABLE_NAME  VARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE VARCHAR(16383) DEFAULT NULL);"]
[2024/05/17 10:56:35.630 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=17] [category=ddl] [job="ID:17, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:16, RowCount:0, ArgLen:0, start time: 2024-05-17 10:56:35.626 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:56:35.631 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816715757092865] ["schema version"=8]
[2024/05/17 10:56:35.631 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=7] [neededSchemaVersion=8] ["start time"=138.333µs] [gotSchemaVersion=8] [phyTblIDs="[16]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:56:35.632 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:56:35.632 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=17] [version=8]
[2024/05/17 10:56:35.634 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=8] ["take time"=2.76025ms] [job="ID:17, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:16, RowCount:0, ArgLen:2, start time: 2024-05-17 10:56:35.626 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:56:35.636 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=17] [job="ID:17, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:16, RowCount:0, ArgLen:0, start time: 2024-05-17 10:56:35.626 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:56:35.638 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=17]
[2024/05/17 10:56:35.638 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:56:35.638 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816715757092865] ["schema version"=8]
[2024/05/17 10:56:35.638 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=8] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb(\n\t\tVARIABLE_NAME  \tVARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE \tVARCHAR(1024) DEFAULT NULL,\n\t\tCOMMENT \t\tVARCHAR(1024));"] [user=]
[2024/05/17 10:56:35.639 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:19, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:18, RowCount:0, ArgLen:2, start time: 2024-05-17 10:56:35.639 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:56:35.639 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:19, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:18, RowCount:0, ArgLen:2, start time: 2024-05-17 10:56:35.639 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb(\n\t\tVARIABLE_NAME  \tVARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE \tVARCHAR(1024) DEFAULT NULL,\n\t\tCOMMENT \t\tVARCHAR(1024));"]
[2024/05/17 10:56:35.642 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=19] [category=ddl] [job="ID:19, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:18, RowCount:0, ArgLen:0, start time: 2024-05-17 10:56:35.639 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:56:35.643 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816715760238592] ["schema version"=9]
[2024/05/17 10:56:35.643 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=8] [neededSchemaVersion=9] ["start time"=171.5µs] [gotSchemaVersion=9] [phyTblIDs="[18]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:56:35.644 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:56:35.644 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=19] [version=9]
[2024/05/17 10:56:35.645 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=9] ["take time"=2.010625ms] [job="ID:19, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:18, RowCount:0, ArgLen:2, start time: 2024-05-17 10:56:35.639 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:56:35.649 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=19] [job="ID:19, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:18, RowCount:0, ArgLen:0, start time: 2024-05-17 10:56:35.639 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:56:35.650 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=19]
[2024/05/17 10:56:35.650 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:56:35.650 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816715760238592] ["schema version"=9]
[2024/05/17 10:56:35.651 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=9] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.help_topic (\n  \t\thelp_topic_id \t\tINT(10) UNSIGNED NOT NULL,\n  \t\tname \t\t\t\tCHAR(64) NOT NULL,\n  \t\thelp_category_id \tSMALLINT(5) UNSIGNED NOT NULL,\n  \t\tdescription \t\tTEXT NOT NULL,\n  \t\texample \t\t\tTEXT NOT NULL,\n  \t\turl \t\t\t\tTEXT NOT NULL,\n  \t\tPRIMARY KEY (help_topic_id) clustered,\n  \t\tUNIQUE KEY name (name)\n\t\t) ENGINE=InnoDB DEFAULT CHARSET=utf8 STATS_PERSISTENT=0 COMMENT='help topics';"] [user=]
[2024/05/17 10:56:35.652 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:21, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:20, RowCount:0, ArgLen:2, start time: 2024-05-17 10:56:35.652 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:56:35.652 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:21, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:20, RowCount:0, ArgLen:2, start time: 2024-05-17 10:56:35.652 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.help_topic (\n  \t\thelp_topic_id \t\tINT(10) UNSIGNED NOT NULL,\n  \t\tname \t\t\t\tCHAR(64) NOT NULL,\n  \t\thelp_category_id \tSMALLINT(5) UNSIGNED NOT NULL,\n  \t\tdescription \t\tTEXT NOT NULL,\n  \t\texample \t\t\tTEXT NOT NULL,\n  \t\turl \t\t\t\tTEXT NOT NULL,\n  \t\tPRIMARY KEY (help_topic_id) clustered,\n  \t\tUNIQUE KEY name (name)\n\t\t) ENGINE=InnoDB DEFAULT CHARSET=utf8 STATS_PERSISTENT=0 COMMENT='help topics';"]
[2024/05/17 10:56:35.655 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=21] [category=ddl] [job="ID:21, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:20, RowCount:0, ArgLen:0, start time: 2024-05-17 10:56:35.652 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:56:35.657 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816715763646468] ["schema version"=10]
[2024/05/17 10:56:35.657 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=9] [neededSchemaVersion=10] ["start time"=200.25µs] [gotSchemaVersion=10] [phyTblIDs="[20]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:56:35.657 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:56:35.657 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=21] [version=10]
[2024/05/17 10:56:35.659 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=10] ["take time"=2.093958ms] [job="ID:21, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:20, RowCount:0, ArgLen:2, start time: 2024-05-17 10:56:35.652 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:56:35.662 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=21] [job="ID:21, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:20, RowCount:0, ArgLen:0, start time: 2024-05-17 10:56:35.652 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:56:35.664 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=21]
[2024/05/17 10:56:35.664 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:56:35.664 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816715763646468] ["schema version"=10]
[2024/05/17 10:56:35.664 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=10] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_meta (\n\t\tversion \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\ttable_id \t\tBIGINT(64) NOT NULL,\n\t\tmodify_count\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcount \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tsnapshot        BIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tINDEX idx_ver(version),\n\t\tUNIQUE INDEX tbl(table_id)\n\t);"] [user=]
[2024/05/17 10:56:35.665 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:23, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:22, RowCount:0, ArgLen:2, start time: 2024-05-17 10:56:35.664 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:56:35.665 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:23, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:22, RowCount:0, ArgLen:2, start time: 2024-05-17 10:56:35.664 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_meta (\n\t\tversion \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\ttable_id \t\tBIGINT(64) NOT NULL,\n\t\tmodify_count\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcount \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tsnapshot        BIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tINDEX idx_ver(version),\n\t\tUNIQUE INDEX tbl(table_id)\n\t);"]
[2024/05/17 10:56:35.668 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=23] [category=ddl] [job="ID:23, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:22, RowCount:0, ArgLen:0, start time: 2024-05-17 10:56:35.664 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:56:35.669 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816715767054336] ["schema version"=11]
[2024/05/17 10:56:35.669 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=10] [neededSchemaVersion=11] ["start time"=182.667µs] [gotSchemaVersion=11] [phyTblIDs="[22]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:56:35.670 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:56:35.670 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=23] [version=11]
[2024/05/17 10:56:35.671 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=11] ["take time"=2.006875ms] [job="ID:23, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:22, RowCount:0, ArgLen:2, start time: 2024-05-17 10:56:35.664 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:56:35.674 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=23] [job="ID:23, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:22, RowCount:0, ArgLen:0, start time: 2024-05-17 10:56:35.664 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:56:35.676 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=23]
[2024/05/17 10:56:35.676 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:56:35.676 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816715767054336] ["schema version"=11]
[2024/05/17 10:56:35.676 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=11] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_histograms (\n\t\ttable_id \t\t\tBIGINT(64) NOT NULL,\n\t\tis_index \t\t\tTINYINT(2) NOT NULL,\n\t\thist_id \t\t\tBIGINT(64) NOT NULL,\n\t\tdistinct_count \t\tBIGINT(64) NOT NULL,\n\t\tnull_count \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\ttot_col_size \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tmodify_count \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tversion \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tcm_sketch \t\t\tBLOB(6291456),\n\t\tstats_ver \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tflag \t\t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcorrelation \t\tDOUBLE NOT NULL DEFAULT 0,\n\t\tlast_analyze_pos \tLONGBLOB DEFAULT NULL,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id)\n\t);"] [user=]
[2024/05/17 10:56:35.676 +08:00] [INFO] [ddl_api.go:1141] ["Automatically convert BLOB(6291456) to MEDIUMBLOB"] [category=ddl]
[2024/05/17 10:56:35.677 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:25, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:24, RowCount:0, ArgLen:2, start time: 2024-05-17 10:56:35.676 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:56:35.677 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:25, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:24, RowCount:0, ArgLen:2, start time: 2024-05-17 10:56:35.676 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_histograms (\n\t\ttable_id \t\t\tBIGINT(64) NOT NULL,\n\t\tis_index \t\t\tTINYINT(2) NOT NULL,\n\t\thist_id \t\t\tBIGINT(64) NOT NULL,\n\t\tdistinct_count \t\tBIGINT(64) NOT NULL,\n\t\tnull_count \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\ttot_col_size \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tmodify_count \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tversion \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tcm_sketch \t\t\tBLOB(6291456),\n\t\tstats_ver \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tflag \t\t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcorrelation \t\tDOUBLE NOT NULL DEFAULT 0,\n\t\tlast_analyze_pos \tLONGBLOB DEFAULT NULL,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id)\n\t);"]
[2024/05/17 10:56:35.679 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=25] [category=ddl] [job="ID:25, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:24, RowCount:0, ArgLen:0, start time: 2024-05-17 10:56:35.676 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:56:35.681 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816715770200064] ["schema version"=12]
[2024/05/17 10:56:35.681 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=11] [neededSchemaVersion=12] ["start time"=351.5µs] [gotSchemaVersion=12] [phyTblIDs="[24]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:56:35.682 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:56:35.682 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=25] [version=12]
[2024/05/17 10:56:35.683 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=12] ["take time"=2.00525ms] [job="ID:25, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:24, RowCount:0, ArgLen:2, start time: 2024-05-17 10:56:35.676 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:56:35.686 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=25] [job="ID:25, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:24, RowCount:0, ArgLen:0, start time: 2024-05-17 10:56:35.676 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:56:35.688 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=25]
[2024/05/17 10:56:35.688 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:56:35.688 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816715770200064] ["schema version"=12]
[2024/05/17 10:56:35.688 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=12] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_buckets (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tbucket_id \tBIGINT(64) NOT NULL,\n\t\tcount \t\tBIGINT(64) NOT NULL,\n\t\trepeats \tBIGINT(64) NOT NULL,\n\t\tupper_bound LONGBLOB NOT NULL,\n\t\tlower_bound LONGBLOB ,\n\t\tndv         BIGINT NOT NULL DEFAULT 0,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id, bucket_id)\n\t);"] [user=]
[2024/05/17 10:56:35.690 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:27, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:26, RowCount:0, ArgLen:2, start time: 2024-05-17 10:56:35.689 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:56:35.690 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:27, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:26, RowCount:0, ArgLen:2, start time: 2024-05-17 10:56:35.689 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_buckets (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tbucket_id \tBIGINT(64) NOT NULL,\n\t\tcount \t\tBIGINT(64) NOT NULL,\n\t\trepeats \tBIGINT(64) NOT NULL,\n\t\tupper_bound LONGBLOB NOT NULL,\n\t\tlower_bound LONGBLOB ,\n\t\tndv         BIGINT NOT NULL DEFAULT 0,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id, bucket_id)\n\t);"]
[2024/05/17 10:56:35.693 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=27] [category=ddl] [job="ID:27, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:26, RowCount:0, ArgLen:0, start time: 2024-05-17 10:56:35.689 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:56:35.696 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816715773870080] ["schema version"=13]
[2024/05/17 10:56:35.696 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=12] [neededSchemaVersion=13] ["start time"=259µs] [gotSchemaVersion=13] [phyTblIDs="[26]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:56:35.696 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:56:35.696 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=27] [version=13]
[2024/05/17 10:56:35.697 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=13] ["take time"=2.03425ms] [job="ID:27, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:26, RowCount:0, ArgLen:2, start time: 2024-05-17 10:56:35.689 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:56:35.701 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=27] [job="ID:27, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:26, RowCount:0, ArgLen:0, start time: 2024-05-17 10:56:35.689 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:56:35.702 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=27]
[2024/05/17 10:56:35.702 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:56:35.703 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816715773870080] ["schema version"=13]
[2024/05/17 10:56:35.703 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=13] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_index (job_id, element_id)\n\t);"] [user=]
[2024/05/17 10:56:35.704 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:29, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:28, RowCount:0, ArgLen:2, start time: 2024-05-17 10:56:35.703 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:56:35.704 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:29, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:28, RowCount:0, ArgLen:2, start time: 2024-05-17 10:56:35.703 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_index (job_id, element_id)\n\t);"]
[2024/05/17 10:56:35.707 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=29] [category=ddl] [job="ID:29, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:28, RowCount:0, ArgLen:0, start time: 2024-05-17 10:56:35.703 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:56:35.708 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816715777277952] ["schema version"=14]
[2024/05/17 10:56:35.708 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=13] [neededSchemaVersion=14] ["start time"=179.584µs] [gotSchemaVersion=14] [phyTblIDs="[28]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:56:35.709 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:56:35.709 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=29] [version=14]
[2024/05/17 10:56:35.710 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=14] ["take time"=2.371167ms] [job="ID:29, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:28, RowCount:0, ArgLen:2, start time: 2024-05-17 10:56:35.703 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:56:35.713 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=29] [job="ID:29, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:28, RowCount:0, ArgLen:0, start time: 2024-05-17 10:56:35.703 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:56:35.716 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=29]
[2024/05/17 10:56:35.716 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:56:35.716 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816715777277952] ["schema version"=14]
[2024/05/17 10:56:35.716 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=14] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range_done (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_done_index (job_id, element_id)\n\t);"] [user=]
[2024/05/17 10:56:35.716 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816715777277952] ["schema version"=14]
[2024/05/17 10:56:35.717 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:31, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:30, RowCount:0, ArgLen:2, start time: 2024-05-17 10:56:35.717 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:56:35.717 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:31, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:30, RowCount:0, ArgLen:2, start time: 2024-05-17 10:56:35.717 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range_done (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_done_index (job_id, element_id)\n\t);"]
[2024/05/17 10:56:35.720 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=31] [category=ddl] [job="ID:31, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:30, RowCount:0, ArgLen:0, start time: 2024-05-17 10:56:35.717 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:56:35.721 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816715780685825] ["schema version"=15]
[2024/05/17 10:56:35.721 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=14] [neededSchemaVersion=15] ["start time"=201.083µs] [gotSchemaVersion=15] [phyTblIDs="[30]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:56:35.722 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:56:35.722 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=31] [version=15]
[2024/05/17 10:56:35.724 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=15] ["take time"=2.812959ms] [job="ID:31, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:30, RowCount:0, ArgLen:2, start time: 2024-05-17 10:56:35.717 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:56:35.727 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=31] [job="ID:31, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:30, RowCount:0, ArgLen:0, start time: 2024-05-17 10:56:35.717 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:56:35.730 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=31]
[2024/05/17 10:56:35.730 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:56:35.730 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816715780685825] ["schema version"=15]
[2024/05/17 10:56:35.730 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=15] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_feedback (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tfeedback \tBLOB NOT NULL,\n\t\tINDEX hist(table_id, is_index, hist_id)\n\t);"] [user=]
[2024/05/17 10:56:35.732 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:33, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:32, RowCount:0, ArgLen:2, start time: 2024-05-17 10:56:35.731 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:56:35.732 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:33, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:32, RowCount:0, ArgLen:2, start time: 2024-05-17 10:56:35.731 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_feedback (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tfeedback \tBLOB NOT NULL,\n\t\tINDEX hist(table_id, is_index, hist_id)\n\t);"]
[2024/05/17 10:56:35.739 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=33] [category=ddl] [job="ID:33, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:32, RowCount:0, ArgLen:0, start time: 2024-05-17 10:56:35.731 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:56:35.741 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816715785666561] ["schema version"=16]
[2024/05/17 10:56:35.741 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=15] [neededSchemaVersion=16] ["start time"=261.541µs] [gotSchemaVersion=16] [phyTblIDs="[32]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:56:35.743 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:56:35.743 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=33] [version=16]
[2024/05/17 10:56:35.744 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=16] ["take time"=4.014208ms] [job="ID:33, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:32, RowCount:0, ArgLen:2, start time: 2024-05-17 10:56:35.731 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:56:35.754 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=33] [job="ID:33, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:32, RowCount:0, ArgLen:0, start time: 2024-05-17 10:56:35.731 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:56:35.756 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=33]
[2024/05/17 10:56:35.756 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:56:35.756 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816715785666561] ["schema version"=16]
[2024/05/17 10:56:35.756 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=16] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.role_edges (\n\t\tFROM_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tFROM_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tWITH_ADMIN_OPTION \tENUM('N','Y') CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (FROM_HOST,FROM_USER,TO_HOST,TO_USER)\n\t);"] [user=]
[2024/05/17 10:56:35.762 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:35, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:34, RowCount:0, ArgLen:2, start time: 2024-05-17 10:56:35.758 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:56:35.762 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:35, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:34, RowCount:0, ArgLen:2, start time: 2024-05-17 10:56:35.758 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.role_edges (\n\t\tFROM_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tFROM_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tWITH_ADMIN_OPTION \tENUM('N','Y') CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (FROM_HOST,FROM_USER,TO_HOST,TO_USER)\n\t);"]
[2024/05/17 10:56:35.767 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=35] [category=ddl] [job="ID:35, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:34, RowCount:0, ArgLen:0, start time: 2024-05-17 10:56:35.758 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:56:35.769 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816715793006593] ["schema version"=17]
[2024/05/17 10:56:35.769 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=16] [neededSchemaVersion=17] ["start time"=513.958µs] [gotSchemaVersion=17] [phyTblIDs="[34]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:56:35.770 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:56:35.770 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=35] [version=17]
[2024/05/17 10:56:35.771 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=17] ["take time"=2.216041ms] [job="ID:35, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:34, RowCount:0, ArgLen:2, start time: 2024-05-17 10:56:35.758 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:56:35.774 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=35] [job="ID:35, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:34, RowCount:0, ArgLen:0, start time: 2024-05-17 10:56:35.758 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:56:35.776 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=35]
[2024/05/17 10:56:35.776 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:56:35.776 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816715793006593] ["schema version"=17]
[2024/05/17 10:56:35.776 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=17] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.default_roles (\n\t\tHOST \t\t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tUSER \t\t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tDEFAULT_ROLE_HOST \tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '%',\n\t\tDEFAULT_ROLE_USER \tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tPRIMARY KEY (HOST,USER,DEFAULT_ROLE_HOST,DEFAULT_ROLE_USER)\n\t)"] [user=]
[2024/05/17 10:56:35.778 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:37, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:36, RowCount:0, ArgLen:2, start time: 2024-05-17 10:56:35.777 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:56:35.778 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:37, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:36, RowCount:0, ArgLen:2, start time: 2024-05-17 10:56:35.777 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.default_roles (\n\t\tHOST \t\t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tUSER \t\t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tDEFAULT_ROLE_HOST \tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '%',\n\t\tDEFAULT_ROLE_USER \tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tPRIMARY KEY (HOST,USER,DEFAULT_ROLE_HOST,DEFAULT_ROLE_USER)\n\t)"]
[2024/05/17 10:56:35.782 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=37] [category=ddl] [job="ID:37, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:36, RowCount:0, ArgLen:0, start time: 2024-05-17 10:56:35.777 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:56:35.783 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816715796938752] ["schema version"=18]
[2024/05/17 10:56:35.783 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=17] [neededSchemaVersion=18] ["start time"=187.5µs] [gotSchemaVersion=18] [phyTblIDs="[36]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:56:35.784 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:56:35.784 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=37] [version=18]
[2024/05/17 10:56:35.785 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=18] ["take time"=2.296125ms] [job="ID:37, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:36, RowCount:0, ArgLen:2, start time: 2024-05-17 10:56:35.777 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:56:35.788 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=37] [job="ID:37, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:36, RowCount:0, ArgLen:0, start time: 2024-05-17 10:56:35.777 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:56:35.790 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=37]
[2024/05/17 10:56:35.790 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:56:35.790 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816715796938752] ["schema version"=18]
[2024/05/17 10:56:35.790 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=18] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.bind_info (\n\t\toriginal_sql TEXT NOT NULL,\n\t\tbind_sql TEXT NOT NULL,\n\t\tdefault_db TEXT NOT NULL,\n\t\tstatus TEXT NOT NULL,\n\t\tcreate_time TIMESTAMP(3) NOT NULL,\n\t\tupdate_time TIMESTAMP(3) NOT NULL,\n\t\tcharset TEXT NOT NULL,\n\t\tcollation TEXT NOT NULL,\n\t\tsource VARCHAR(10) NOT NULL DEFAULT 'unknown',\n\t\tsql_digest varchar(64),\n\t\tplan_digest varchar(64),\n\t\tINDEX sql_index(original_sql(700),default_db(68)) COMMENT \"accelerate the speed when add global binding query\",\n\t\tINDEX time_index(update_time) COMMENT \"accelerate the speed when querying with last update time\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"] [user=]
[2024/05/17 10:56:35.791 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:39, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:38, RowCount:0, ArgLen:2, start time: 2024-05-17 10:56:35.791 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:56:35.791 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:39, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:38, RowCount:0, ArgLen:2, start time: 2024-05-17 10:56:35.791 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.bind_info (\n\t\toriginal_sql TEXT NOT NULL,\n\t\tbind_sql TEXT NOT NULL,\n\t\tdefault_db TEXT NOT NULL,\n\t\tstatus TEXT NOT NULL,\n\t\tcreate_time TIMESTAMP(3) NOT NULL,\n\t\tupdate_time TIMESTAMP(3) NOT NULL,\n\t\tcharset TEXT NOT NULL,\n\t\tcollation TEXT NOT NULL,\n\t\tsource VARCHAR(10) NOT NULL DEFAULT 'unknown',\n\t\tsql_digest varchar(64),\n\t\tplan_digest varchar(64),\n\t\tINDEX sql_index(original_sql(700),default_db(68)) COMMENT \"accelerate the speed when add global binding query\",\n\t\tINDEX time_index(update_time) COMMENT \"accelerate the speed when querying with last update time\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"]
[2024/05/17 10:56:35.795 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=39] [category=ddl] [job="ID:39, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:38, RowCount:0, ArgLen:0, start time: 2024-05-17 10:56:35.791 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:56:35.797 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816715800346625] ["schema version"=19]
[2024/05/17 10:56:35.797 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=18] [neededSchemaVersion=19] ["start time"=306.541µs] [gotSchemaVersion=19] [phyTblIDs="[38]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:56:35.798 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:56:35.798 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=39] [version=19]
[2024/05/17 10:56:35.799 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=19] ["take time"=2.017792ms] [job="ID:39, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:38, RowCount:0, ArgLen:2, start time: 2024-05-17 10:56:35.791 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:56:35.803 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=39] [job="ID:39, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:38, RowCount:0, ArgLen:0, start time: 2024-05-17 10:56:35.791 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:56:35.805 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=39]
[2024/05/17 10:56:35.805 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:56:35.805 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816715800346625] ["schema version"=19]
[2024/05/17 10:56:35.806 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=19] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_top_n (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tvalue \t\tLONGBLOB,\n\t\tcount \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\tINDEX tbl(table_id, is_index, hist_id)\n\t);"] [user=]
[2024/05/17 10:56:35.807 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:41, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:40, RowCount:0, ArgLen:2, start time: 2024-05-17 10:56:35.806 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:56:35.807 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:41, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:40, RowCount:0, ArgLen:2, start time: 2024-05-17 10:56:35.806 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_top_n (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tvalue \t\tLONGBLOB,\n\t\tcount \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\tINDEX tbl(table_id, is_index, hist_id)\n\t);"]
[2024/05/17 10:56:35.810 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=41] [category=ddl] [job="ID:41, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:40, RowCount:0, ArgLen:0, start time: 2024-05-17 10:56:35.806 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:56:35.811 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816715804278785] ["schema version"=20]
[2024/05/17 10:56:35.811 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=19] [neededSchemaVersion=20] ["start time"=191.417µs] [gotSchemaVersion=20] [phyTblIDs="[40]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:56:35.812 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:56:35.812 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=41] [version=20]
[2024/05/17 10:56:35.813 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=20] ["take time"=2.004875ms] [job="ID:41, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:40, RowCount:0, ArgLen:2, start time: 2024-05-17 10:56:35.806 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:56:35.816 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=41] [job="ID:41, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:40, RowCount:0, ArgLen:0, start time: 2024-05-17 10:56:35.806 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:56:35.818 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=41]
[2024/05/17 10:56:35.818 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:56:35.818 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816715804278785] ["schema version"=20]
[2024/05/17 10:56:35.818 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=20] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.expr_pushdown_blacklist (\n\t\tname \t\tCHAR(100) NOT NULL,\n\t\tstore_type \tCHAR(100) NOT NULL DEFAULT 'tikv,tiflash,tidb',\n\t\treason \t\tVARCHAR(200)\n\t);"] [user=]
[2024/05/17 10:56:35.819 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:43, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:42, RowCount:0, ArgLen:2, start time: 2024-05-17 10:56:35.818 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:56:35.819 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:43, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:42, RowCount:0, ArgLen:2, start time: 2024-05-17 10:56:35.818 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.expr_pushdown_blacklist (\n\t\tname \t\tCHAR(100) NOT NULL,\n\t\tstore_type \tCHAR(100) NOT NULL DEFAULT 'tikv,tiflash,tidb',\n\t\treason \t\tVARCHAR(200)\n\t);"]
[2024/05/17 10:56:35.822 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=43] [category=ddl] [job="ID:43, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:42, RowCount:0, ArgLen:0, start time: 2024-05-17 10:56:35.818 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:56:35.823 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816715807424514] ["schema version"=21]
[2024/05/17 10:56:35.823 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=20] [neededSchemaVersion=21] ["start time"=139.333µs] [gotSchemaVersion=21] [phyTblIDs="[42]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:56:35.824 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:56:35.824 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=43] [version=21]
[2024/05/17 10:56:35.825 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=21] ["take time"=2.005084ms] [job="ID:43, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:42, RowCount:0, ArgLen:2, start time: 2024-05-17 10:56:35.818 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:56:35.829 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=43] [job="ID:43, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:42, RowCount:0, ArgLen:0, start time: 2024-05-17 10:56:35.818 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:56:35.830 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=43]
[2024/05/17 10:56:35.830 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:56:35.830 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816715807424514] ["schema version"=21]
[2024/05/17 10:56:35.831 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=21] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.opt_rule_blacklist (\n\t\tname \tCHAR(100) NOT NULL\n\t);"] [user=]
[2024/05/17 10:56:35.832 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:45, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:44, RowCount:0, ArgLen:2, start time: 2024-05-17 10:56:35.831 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:56:35.832 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:45, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:44, RowCount:0, ArgLen:2, start time: 2024-05-17 10:56:35.831 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.opt_rule_blacklist (\n\t\tname \tCHAR(100) NOT NULL\n\t);"]
[2024/05/17 10:56:35.835 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=45] [category=ddl] [job="ID:45, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:44, RowCount:0, ArgLen:0, start time: 2024-05-17 10:56:35.831 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:56:35.837 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816715810832384] ["schema version"=22]
[2024/05/17 10:56:35.837 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=21] [neededSchemaVersion=22] ["start time"=281.541µs] [gotSchemaVersion=22] [phyTblIDs="[44]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:56:35.837 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:56:35.837 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=45] [version=22]
[2024/05/17 10:56:35.838 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=22] ["take time"=2.057584ms] [job="ID:45, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:44, RowCount:0, ArgLen:2, start time: 2024-05-17 10:56:35.831 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:56:35.842 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=45] [job="ID:45, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:44, RowCount:0, ArgLen:0, start time: 2024-05-17 10:56:35.831 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:56:35.843 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=45]
[2024/05/17 10:56:35.843 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:56:35.843 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816715810832384] ["schema version"=22]
[2024/05/17 10:56:35.844 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=22] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_extended (\n\t\tname varchar(32) NOT NULL,\n\t\ttype tinyint(4) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tcolumn_ids varchar(32) NOT NULL,\n\t\tstats blob DEFAULT NULL,\n\t\tversion bigint(64) unsigned NOT NULL,\n\t\tstatus tinyint(4) NOT NULL,\n\t\tPRIMARY KEY(name, table_id),\n\t\tKEY idx_1 (table_id, status, version),\n\t\tKEY idx_2 (status, version)\n\t);"] [user=]
[2024/05/17 10:56:35.845 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:47, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:46, RowCount:0, ArgLen:2, start time: 2024-05-17 10:56:35.844 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:56:35.845 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:47, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:46, RowCount:0, ArgLen:2, start time: 2024-05-17 10:56:35.844 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_extended (\n\t\tname varchar(32) NOT NULL,\n\t\ttype tinyint(4) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tcolumn_ids varchar(32) NOT NULL,\n\t\tstats blob DEFAULT NULL,\n\t\tversion bigint(64) unsigned NOT NULL,\n\t\tstatus tinyint(4) NOT NULL,\n\t\tPRIMARY KEY(name, table_id),\n\t\tKEY idx_1 (table_id, status, version),\n\t\tKEY idx_2 (status, version)\n\t);"]
[2024/05/17 10:56:35.848 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=47] [category=ddl] [job="ID:47, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:46, RowCount:0, ArgLen:0, start time: 2024-05-17 10:56:35.844 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:56:35.849 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816715814240256] ["schema version"=23]
[2024/05/17 10:56:35.849 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=22] [neededSchemaVersion=23] ["start time"=228µs] [gotSchemaVersion=23] [phyTblIDs="[46]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:56:35.850 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:56:35.850 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=47] [version=23]
[2024/05/17 10:56:35.851 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=23] ["take time"=2.432417ms] [job="ID:47, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:46, RowCount:0, ArgLen:2, start time: 2024-05-17 10:56:35.844 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:56:35.855 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=47] [job="ID:47, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:46, RowCount:0, ArgLen:0, start time: 2024-05-17 10:56:35.844 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:56:35.856 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=47]
[2024/05/17 10:56:35.856 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:56:35.857 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816715814240256] ["schema version"=23]
[2024/05/17 10:56:35.857 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=23] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_fm_sketch (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tvalue \t\tLONGBLOB,\n\t\tINDEX tbl(table_id, is_index, hist_id)\n\t);"] [user=]
[2024/05/17 10:56:35.858 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:49, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:48, RowCount:0, ArgLen:2, start time: 2024-05-17 10:56:35.857 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:56:35.858 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:49, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:48, RowCount:0, ArgLen:2, start time: 2024-05-17 10:56:35.857 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_fm_sketch (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tvalue \t\tLONGBLOB,\n\t\tINDEX tbl(table_id, is_index, hist_id)\n\t);"]
[2024/05/17 10:56:35.861 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=49] [category=ddl] [job="ID:49, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:48, RowCount:0, ArgLen:0, start time: 2024-05-17 10:56:35.857 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:56:35.863 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816715817648128] ["schema version"=24]
[2024/05/17 10:56:35.863 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=23] [neededSchemaVersion=24] ["start time"=537.25µs] [gotSchemaVersion=24] [phyTblIDs="[48]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:56:35.863 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:56:35.863 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=49] [version=24]
[2024/05/17 10:56:35.864 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=24] ["take time"=2.2445ms] [job="ID:49, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:48, RowCount:0, ArgLen:2, start time: 2024-05-17 10:56:35.857 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:56:35.868 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=49] [job="ID:49, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:48, RowCount:0, ArgLen:0, start time: 2024-05-17 10:56:35.857 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:56:35.870 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=49]
[2024/05/17 10:56:35.870 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:56:35.870 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816715817648128] ["schema version"=24]
[2024/05/17 10:56:35.870 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=24] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.global_grants (\n\t\tUSER char(32) NOT NULL DEFAULT '',\n\t\tHOST char(255) NOT NULL DEFAULT '',\n\t\tPRIV char(32) NOT NULL DEFAULT '',\n\t\tWITH_GRANT_OPTION enum('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (USER,HOST,PRIV)\n\t);"] [user=]
[2024/05/17 10:56:35.872 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:51, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:50, RowCount:0, ArgLen:2, start time: 2024-05-17 10:56:35.871 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:56:35.872 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:51, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:50, RowCount:0, ArgLen:2, start time: 2024-05-17 10:56:35.871 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.global_grants (\n\t\tUSER char(32) NOT NULL DEFAULT '',\n\t\tHOST char(255) NOT NULL DEFAULT '',\n\t\tPRIV char(32) NOT NULL DEFAULT '',\n\t\tWITH_GRANT_OPTION enum('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (USER,HOST,PRIV)\n\t);"]
[2024/05/17 10:56:35.875 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=51] [category=ddl] [job="ID:51, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:50, RowCount:0, ArgLen:0, start time: 2024-05-17 10:56:35.871 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:56:35.876 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816715821318144] ["schema version"=25]
[2024/05/17 10:56:35.876 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=24] [neededSchemaVersion=25] ["start time"=187.209µs] [gotSchemaVersion=25] [phyTblIDs="[50]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:56:35.877 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:56:35.877 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=51] [version=25]
[2024/05/17 10:56:35.878 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=25] ["take time"=2.007333ms] [job="ID:51, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:50, RowCount:0, ArgLen:2, start time: 2024-05-17 10:56:35.871 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:56:35.881 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=51] [job="ID:51, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:50, RowCount:0, ArgLen:0, start time: 2024-05-17 10:56:35.871 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:56:35.883 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=51]
[2024/05/17 10:56:35.883 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:56:35.883 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816715821318144] ["schema version"=25]
[2024/05/17 10:56:35.883 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=25] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.capture_plan_baselines_blacklist (\n\t\tid bigint(64) auto_increment,\n\t\tfilter_type varchar(32) NOT NULL COMMENT \"type of the filter, only db, table and frequency supported now\",\n\t\tfilter_value varchar(32) NOT NULL,\n\t\tkey idx(filter_type),\n\t\tprimary key(id)\n\t);"] [user=]
[2024/05/17 10:56:35.884 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:53, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:52, RowCount:0, ArgLen:2, start time: 2024-05-17 10:56:35.883 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:56:35.884 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:53, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:52, RowCount:0, ArgLen:2, start time: 2024-05-17 10:56:35.883 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.capture_plan_baselines_blacklist (\n\t\tid bigint(64) auto_increment,\n\t\tfilter_type varchar(32) NOT NULL COMMENT \"type of the filter, only db, table and frequency supported now\",\n\t\tfilter_value varchar(32) NOT NULL,\n\t\tkey idx(filter_type),\n\t\tprimary key(id)\n\t);"]
[2024/05/17 10:56:35.888 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=53] [category=ddl] [job="ID:53, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:52, RowCount:0, ArgLen:0, start time: 2024-05-17 10:56:35.883 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:56:35.889 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816715824726016] ["schema version"=26]
[2024/05/17 10:56:35.889 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=25] [neededSchemaVersion=26] ["start time"=158.291µs] [gotSchemaVersion=26] [phyTblIDs="[52]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:56:35.889 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:56:35.889 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=53] [version=26]
[2024/05/17 10:56:35.891 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=26] ["take time"=2.48425ms] [job="ID:53, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:52, RowCount:0, ArgLen:2, start time: 2024-05-17 10:56:35.883 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:56:35.894 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=53] [job="ID:53, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:52, RowCount:0, ArgLen:0, start time: 2024-05-17 10:56:35.883 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:56:35.896 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=53]
[2024/05/17 10:56:35.896 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:56:35.896 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816715824726016] ["schema version"=26]
[2024/05/17 10:56:35.896 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=26] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.column_stats_usage (\n\t\ttable_id BIGINT(64) NOT NULL,\n\t\tcolumn_id BIGINT(64) NOT NULL,\n\t\tlast_used_at TIMESTAMP,\n\t\tlast_analyzed_at TIMESTAMP,\n\t\tPRIMARY KEY (table_id, column_id) CLUSTERED\n\t);"] [user=]
[2024/05/17 10:56:35.898 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:55, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:54, RowCount:0, ArgLen:2, start time: 2024-05-17 10:56:35.897 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:56:35.898 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:55, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:54, RowCount:0, ArgLen:2, start time: 2024-05-17 10:56:35.897 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.column_stats_usage (\n\t\ttable_id BIGINT(64) NOT NULL,\n\t\tcolumn_id BIGINT(64) NOT NULL,\n\t\tlast_used_at TIMESTAMP,\n\t\tlast_analyzed_at TIMESTAMP,\n\t\tPRIMARY KEY (table_id, column_id) CLUSTERED\n\t);"]
[2024/05/17 10:56:35.900 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=55] [category=ddl] [job="ID:55, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:54, RowCount:0, ArgLen:0, start time: 2024-05-17 10:56:35.897 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:56:35.901 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816715827871750] ["schema version"=27]
[2024/05/17 10:56:35.901 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=26] [neededSchemaVersion=27] ["start time"=163.708µs] [gotSchemaVersion=27] [phyTblIDs="[54]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:56:35.902 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:56:35.902 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=55] [version=27]
[2024/05/17 10:56:35.904 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=27] ["take time"=2.736166ms] [job="ID:55, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:54, RowCount:0, ArgLen:2, start time: 2024-05-17 10:56:35.897 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:56:35.907 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=55] [job="ID:55, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:54, RowCount:0, ArgLen:0, start time: 2024-05-17 10:56:35.897 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:56:35.909 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=55]
[2024/05/17 10:56:35.909 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:56:35.909 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816715827871750] ["schema version"=27]
[2024/05/17 10:56:35.909 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=27] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.table_cache_meta (\n\t\ttid bigint(11) NOT NULL DEFAULT 0,\n\t\tlock_type enum('NONE','READ', 'INTEND', 'WRITE') NOT NULL DEFAULT 'NONE',\n\t\tlease bigint(20) NOT NULL DEFAULT 0,\n\t\toldReadLease bigint(20) NOT NULL DEFAULT 0,\n\t\tPRIMARY KEY (tid)\n\t);"] [user=]
[2024/05/17 10:56:35.910 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:57, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:56, RowCount:0, ArgLen:2, start time: 2024-05-17 10:56:35.909 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:56:35.910 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:57, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:56, RowCount:0, ArgLen:2, start time: 2024-05-17 10:56:35.909 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.table_cache_meta (\n\t\ttid bigint(11) NOT NULL DEFAULT 0,\n\t\tlock_type enum('NONE','READ', 'INTEND', 'WRITE') NOT NULL DEFAULT 'NONE',\n\t\tlease bigint(20) NOT NULL DEFAULT 0,\n\t\toldReadLease bigint(20) NOT NULL DEFAULT 0,\n\t\tPRIMARY KEY (tid)\n\t);"]
[2024/05/17 10:56:35.913 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=57] [category=ddl] [job="ID:57, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:56, RowCount:0, ArgLen:0, start time: 2024-05-17 10:56:35.909 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:56:35.914 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816715831279616] ["schema version"=28]
[2024/05/17 10:56:35.914 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=27] [neededSchemaVersion=28] ["start time"=173.458µs] [gotSchemaVersion=28] [phyTblIDs="[56]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:56:35.915 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:56:35.915 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=57] [version=28]
[2024/05/17 10:56:35.916 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=28] ["take time"=2.004042ms] [job="ID:57, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:56, RowCount:0, ArgLen:2, start time: 2024-05-17 10:56:35.909 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:56:35.920 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=57] [job="ID:57, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:56, RowCount:0, ArgLen:0, start time: 2024-05-17 10:56:35.909 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:56:35.922 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=57]
[2024/05/17 10:56:35.922 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:56:35.922 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816715831279616] ["schema version"=28]
[2024/05/17 10:56:35.922 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=28] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.analyze_options (\n\t\ttable_id BIGINT(64) NOT NULL,\n\t\tsample_num BIGINT(64) NOT NULL DEFAULT 0,\n\t\tsample_rate DOUBLE NOT NULL DEFAULT -1,\n\t\tbuckets BIGINT(64) NOT NULL DEFAULT 0,\n\t\ttopn BIGINT(64) NOT NULL DEFAULT -1,\n\t\tcolumn_choice enum('DEFAULT','ALL','PREDICATE','LIST') NOT NULL DEFAULT 'DEFAULT',\n\t\tcolumn_ids TEXT(19372),\n\t\tPRIMARY KEY (table_id) CLUSTERED\n\t);"] [user=]
[2024/05/17 10:56:35.922 +08:00] [INFO] [ddl_api.go:1141] ["Automatically convert BLOB(19372) to MEDIUMBLOB"] [category=ddl]
[2024/05/17 10:56:35.924 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:59, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:58, RowCount:0, ArgLen:2, start time: 2024-05-17 10:56:35.923 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:56:35.924 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:59, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:58, RowCount:0, ArgLen:2, start time: 2024-05-17 10:56:35.923 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.analyze_options (\n\t\ttable_id BIGINT(64) NOT NULL,\n\t\tsample_num BIGINT(64) NOT NULL DEFAULT 0,\n\t\tsample_rate DOUBLE NOT NULL DEFAULT -1,\n\t\tbuckets BIGINT(64) NOT NULL DEFAULT 0,\n\t\ttopn BIGINT(64) NOT NULL DEFAULT -1,\n\t\tcolumn_choice enum('DEFAULT','ALL','PREDICATE','LIST') NOT NULL DEFAULT 'DEFAULT',\n\t\tcolumn_ids TEXT(19372),\n\t\tPRIMARY KEY (table_id) CLUSTERED\n\t);"]
[2024/05/17 10:56:35.927 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=59] [category=ddl] [job="ID:59, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:58, RowCount:0, ArgLen:0, start time: 2024-05-17 10:56:35.923 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:56:35.929 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816715835211776] ["schema version"=29]
[2024/05/17 10:56:35.929 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=28] [neededSchemaVersion=29] ["start time"=212.75µs] [gotSchemaVersion=29] [phyTblIDs="[58]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:56:35.930 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:56:35.930 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=59] [version=29]
[2024/05/17 10:56:35.931 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=29] ["take time"=2.01975ms] [job="ID:59, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:58, RowCount:0, ArgLen:2, start time: 2024-05-17 10:56:35.923 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:56:35.937 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=59] [job="ID:59, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:58, RowCount:0, ArgLen:0, start time: 2024-05-17 10:56:35.923 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:56:35.940 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=59]
[2024/05/17 10:56:35.940 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:56:35.940 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816715835211776] ["schema version"=29]
[2024/05/17 10:56:35.940 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=29] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_history (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tstats_data longblob NOT NULL,\n\t\tseq_no bigint(64) NOT NULL comment 'sequence number of the gzipped data slice',\n\t\tversion bigint(64) NOT NULL comment 'stats version which corresponding to stats:version in EXPLAIN',\n\t\tcreate_time datetime(6) NOT NULL,\n\t\tUNIQUE KEY table_version_seq (table_id, version, seq_no),\n\t\tKEY table_create_time (table_id, create_time, seq_no),\n    \tKEY idx_create_time (create_time)\n\t);"] [user=]
[2024/05/17 10:56:35.942 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:61, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:60, RowCount:0, ArgLen:2, start time: 2024-05-17 10:56:35.942 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:56:35.942 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:61, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:60, RowCount:0, ArgLen:2, start time: 2024-05-17 10:56:35.942 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_history (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tstats_data longblob NOT NULL,\n\t\tseq_no bigint(64) NOT NULL comment 'sequence number of the gzipped data slice',\n\t\tversion bigint(64) NOT NULL comment 'stats version which corresponding to stats:version in EXPLAIN',\n\t\tcreate_time datetime(6) NOT NULL,\n\t\tUNIQUE KEY table_version_seq (table_id, version, seq_no),\n\t\tKEY table_create_time (table_id, create_time, seq_no),\n    \tKEY idx_create_time (create_time)\n\t);"]
[2024/05/17 10:56:35.949 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=61] [category=ddl] [job="ID:61, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:60, RowCount:0, ArgLen:0, start time: 2024-05-17 10:56:35.942 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:56:35.952 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816715841241088] ["schema version"=30]
[2024/05/17 10:56:35.952 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=29] [neededSchemaVersion=30] ["start time"=344.834µs] [gotSchemaVersion=30] [phyTblIDs="[60]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:56:35.953 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:56:35.953 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=61] [version=30]
[2024/05/17 10:56:35.957 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=30] ["take time"=4.962292ms] [job="ID:61, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:60, RowCount:0, ArgLen:2, start time: 2024-05-17 10:56:35.942 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:56:35.964 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=61] [job="ID:61, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:60, RowCount:0, ArgLen:0, start time: 2024-05-17 10:56:35.942 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:56:35.966 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=61]
[2024/05/17 10:56:35.966 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:56:35.966 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816715841241088] ["schema version"=30]
[2024/05/17 10:56:35.966 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=30] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_meta_history (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tmodify_count bigint(64) NOT NULL,\n\t\tcount bigint(64) NOT NULL,\n\t\tversion bigint(64) NOT NULL comment 'stats version which corresponding to stats:version in EXPLAIN',\n    \tsource varchar(40) NOT NULL,\n\t\tcreate_time datetime(6) NOT NULL,\n\t\tUNIQUE KEY table_version (table_id, version),\n\t\tKEY table_create_time (table_id, create_time),\n    \tKEY idx_create_time (create_time)\n\t);"] [user=]
[2024/05/17 10:56:35.967 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816715841241088] ["schema version"=30]
[2024/05/17 10:56:35.968 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:63, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:62, RowCount:0, ArgLen:2, start time: 2024-05-17 10:56:35.967 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:56:35.968 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:63, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:62, RowCount:0, ArgLen:2, start time: 2024-05-17 10:56:35.967 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_meta_history (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tmodify_count bigint(64) NOT NULL,\n\t\tcount bigint(64) NOT NULL,\n\t\tversion bigint(64) NOT NULL comment 'stats version which corresponding to stats:version in EXPLAIN',\n    \tsource varchar(40) NOT NULL,\n\t\tcreate_time datetime(6) NOT NULL,\n\t\tUNIQUE KEY table_version (table_id, version),\n\t\tKEY table_create_time (table_id, create_time),\n    \tKEY idx_create_time (create_time)\n\t);"]
[2024/05/17 10:56:35.971 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=63] [category=ddl] [job="ID:63, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:62, RowCount:0, ArgLen:0, start time: 2024-05-17 10:56:35.967 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:56:35.973 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816715846483968] ["schema version"=31]
[2024/05/17 10:56:35.973 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=30] [neededSchemaVersion=31] ["start time"=384.541µs] [gotSchemaVersion=31] [phyTblIDs="[62]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:56:35.973 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:56:35.973 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=63] [version=31]
[2024/05/17 10:56:35.975 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=31] ["take time"=2.33125ms] [job="ID:63, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:62, RowCount:0, ArgLen:2, start time: 2024-05-17 10:56:35.967 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:56:35.979 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=63] [job="ID:63, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:62, RowCount:0, ArgLen:0, start time: 2024-05-17 10:56:35.967 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:56:35.981 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=63]
[2024/05/17 10:56:35.981 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:56:35.981 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816715846483968] ["schema version"=31]
[2024/05/17 10:56:35.981 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=31] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.analyze_jobs (\n\t\tid BIGINT(64) UNSIGNED NOT NULL AUTO_INCREMENT,\n\t\tupdate_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\ttable_schema CHAR(64) NOT NULL DEFAULT '',\n\t\ttable_name CHAR(64) NOT NULL DEFAULT '',\n\t\tpartition_name CHAR(64) NOT NULL DEFAULT '',\n\t\tjob_info TEXT NOT NULL,\n\t\tprocessed_rows BIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tstart_time TIMESTAMP,\n\t\tend_time TIMESTAMP,\n\t\tstate ENUM('pending', 'running', 'finished', 'failed') NOT NULL,\n\t\tfail_reason TEXT,\n\t\tinstance VARCHAR(512) NOT NULL comment 'address of the TiDB instance executing the analyze job',\n\t\tprocess_id BIGINT(64) UNSIGNED comment 'ID of the process executing the analyze job',\n\t\tPRIMARY KEY (id),\n\t\tKEY (update_time)\n\t);"] [user=]
[2024/05/17 10:56:35.982 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:65, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:64, RowCount:0, ArgLen:2, start time: 2024-05-17 10:56:35.982 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:56:35.982 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:65, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:64, RowCount:0, ArgLen:2, start time: 2024-05-17 10:56:35.982 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.analyze_jobs (\n\t\tid BIGINT(64) UNSIGNED NOT NULL AUTO_INCREMENT,\n\t\tupdate_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\ttable_schema CHAR(64) NOT NULL DEFAULT '',\n\t\ttable_name CHAR(64) NOT NULL DEFAULT '',\n\t\tpartition_name CHAR(64) NOT NULL DEFAULT '',\n\t\tjob_info TEXT NOT NULL,\n\t\tprocessed_rows BIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tstart_time TIMESTAMP,\n\t\tend_time TIMESTAMP,\n\t\tstate ENUM('pending', 'running', 'finished', 'failed') NOT NULL,\n\t\tfail_reason TEXT,\n\t\tinstance VARCHAR(512) NOT NULL comment 'address of the TiDB instance executing the analyze job',\n\t\tprocess_id BIGINT(64) UNSIGNED comment 'ID of the process executing the analyze job',\n\t\tPRIMARY KEY (id),\n\t\tKEY (update_time)\n\t);"]
[2024/05/17 10:56:35.985 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=65] [category=ddl] [job="ID:65, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:64, RowCount:0, ArgLen:0, start time: 2024-05-17 10:56:35.982 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:56:35.988 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816715850416128] ["schema version"=32]
[2024/05/17 10:56:35.988 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=31] [neededSchemaVersion=32] ["start time"=321.625µs] [gotSchemaVersion=32] [phyTblIDs="[64]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:56:35.988 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:56:35.988 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=65] [version=32]
[2024/05/17 10:56:35.989 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=32] ["take time"=2.027291ms] [job="ID:65, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:64, RowCount:0, ArgLen:2, start time: 2024-05-17 10:56:35.982 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:56:35.994 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=65] [job="ID:65, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:64, RowCount:0, ArgLen:0, start time: 2024-05-17 10:56:35.982 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:56:35.996 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=65]
[2024/05/17 10:56:35.996 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:56:35.996 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816715850416128] ["schema version"=32]
[2024/05/17 10:56:35.996 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=32] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.advisory_locks (\n\t\tlock_name VARCHAR(64) NOT NULL PRIMARY KEY\n\t);"] [user=]
[2024/05/17 10:56:35.997 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:67, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:66, RowCount:0, ArgLen:2, start time: 2024-05-17 10:56:35.997 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:56:35.997 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:67, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:66, RowCount:0, ArgLen:2, start time: 2024-05-17 10:56:35.997 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.advisory_locks (\n\t\tlock_name VARCHAR(64) NOT NULL PRIMARY KEY\n\t);"]
[2024/05/17 10:56:36.001 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=67] [category=ddl] [job="ID:67, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:66, RowCount:0, ArgLen:0, start time: 2024-05-17 10:56:35.997 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:56:36.001 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816715854086150] ["schema version"=33]
[2024/05/17 10:56:36.002 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=32] [neededSchemaVersion=33] ["start time"=137.791µs] [gotSchemaVersion=33] [phyTblIDs="[66]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:56:36.002 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:56:36.002 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=67] [version=33]
[2024/05/17 10:56:36.003 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=33] ["take time"=2.014667ms] [job="ID:67, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:66, RowCount:0, ArgLen:2, start time: 2024-05-17 10:56:35.997 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:56:36.006 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=67] [job="ID:67, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:66, RowCount:0, ArgLen:0, start time: 2024-05-17 10:56:35.997 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:56:36.008 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=67]
[2024/05/17 10:56:36.008 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:56:36.008 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816715854086150] ["schema version"=33]
[2024/05/17 10:56:36.014 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:69, Type:create view, State:queueing, SchemaState:none, SchemaID:1, TableID:68, RowCount:0, ArgLen:3, start time: 2024-05-17 10:56:36.014 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:56:36.014 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:69, Type:create view, State:queueing, SchemaState:none, SchemaID:1, TableID:68, RowCount:0, ArgLen:3, start time: 2024-05-17 10:56:36.014 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE OR REPLACE VIEW mysql.tidb_mdl_view as (\n\t\tSELECT tidb_mdl_info.job_id,\n\t\t\tJSON_UNQUOTE(JSON_EXTRACT(cast(cast(job_meta as char) as json), \"$.schema_name\")) as db_name,\n\t\t\tJSON_UNQUOTE(JSON_EXTRACT(cast(cast(job_meta as char) as json), \"$.table_name\")) as table_name,\n\t\t\tJSON_UNQUOTE(JSON_EXTRACT(cast(cast(job_meta as char) as json), \"$.query\")) as query,\n\t\t\tsession_id,\n\t\t\tcluster_tidb_trx.start_time,\n\t\t\ttidb_decode_sql_digests(all_sql_digests, 4096) AS SQL_DIGESTS\n\t\tFROM mysql.tidb_ddl_job,\n\t\t\tmysql.tidb_mdl_info,\n\t\t\tinformation_schema.cluster_tidb_trx\n\t\tWHERE tidb_ddl_job.job_id=tidb_mdl_info.job_id\n\t\t\tAND CONCAT(',', tidb_mdl_info.table_ids, ',') REGEXP CONCAT(',(', REPLACE(cluster_tidb_trx.related_table_ids, ',', '|'), '),') != 0\n\t);"]
[2024/05/17 10:56:36.018 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=69] [category=ddl] [job="ID:69, Type:create view, State:queueing, SchemaState:none, SchemaID:1, TableID:68, RowCount:0, ArgLen:0, start time: 2024-05-17 10:56:36.014 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:56:36.019 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816715858804736] ["schema version"=34]
[2024/05/17 10:56:36.019 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=33] [neededSchemaVersion=34] ["start time"=215.708µs] [gotSchemaVersion=34] [phyTblIDs="[68]"] [actionTypes="[21]"] [diffTypes="[\"create view\"]"]
[2024/05/17 10:56:36.020 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:56:36.020 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=69] [version=34]
[2024/05/17 10:56:36.021 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=34] ["take time"=2.024584ms] [job="ID:69, Type:create view, State:done, SchemaState:public, SchemaID:1, TableID:68, RowCount:0, ArgLen:3, start time: 2024-05-17 10:56:36.014 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:56:36.025 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=69] [job="ID:69, Type:create view, State:synced, SchemaState:public, SchemaID:1, TableID:68, RowCount:0, ArgLen:0, start time: 2024-05-17 10:56:36.014 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:56:36.026 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=69]
[2024/05/17 10:56:36.026 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:56:36.027 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816715858804736] ["schema version"=34]
[2024/05/17 10:56:36.027 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=34] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.plan_replayer_status (\n\t\tsql_digest VARCHAR(128),\n\t\tplan_digest VARCHAR(128),\n\t\torigin_sql TEXT,\n\t\ttoken VARCHAR(128),\n\t\tupdate_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\tfail_reason TEXT,\n\t\tinstance VARCHAR(512) NOT NULL comment 'address of the TiDB instance executing the plan replayer job');"] [user=]
[2024/05/17 10:56:36.028 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:71, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:70, RowCount:0, ArgLen:2, start time: 2024-05-17 10:56:36.027 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:56:36.028 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:71, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:70, RowCount:0, ArgLen:2, start time: 2024-05-17 10:56:36.027 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.plan_replayer_status (\n\t\tsql_digest VARCHAR(128),\n\t\tplan_digest VARCHAR(128),\n\t\torigin_sql TEXT,\n\t\ttoken VARCHAR(128),\n\t\tupdate_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\tfail_reason TEXT,\n\t\tinstance VARCHAR(512) NOT NULL comment 'address of the TiDB instance executing the plan replayer job');"]
[2024/05/17 10:56:36.031 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=71] [category=ddl] [job="ID:71, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:70, RowCount:0, ArgLen:0, start time: 2024-05-17 10:56:36.027 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:56:36.032 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816715862212608] ["schema version"=35]
[2024/05/17 10:56:36.032 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=34] [neededSchemaVersion=35] ["start time"=200.375µs] [gotSchemaVersion=35] [phyTblIDs="[70]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:56:36.033 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:56:36.033 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=71] [version=35]
[2024/05/17 10:56:36.034 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=35] ["take time"=2.2755ms] [job="ID:71, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:70, RowCount:0, ArgLen:2, start time: 2024-05-17 10:56:36.027 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:56:36.038 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=71] [job="ID:71, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:70, RowCount:0, ArgLen:0, start time: 2024-05-17 10:56:36.027 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:56:36.039 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=71]
[2024/05/17 10:56:36.039 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:56:36.039 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816715862212608] ["schema version"=35]
[2024/05/17 10:56:36.039 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=35] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.plan_replayer_task (\n\t\tsql_digest VARCHAR(128) NOT NULL,\n\t\tplan_digest VARCHAR(128) NOT NULL,\n\t\tupdate_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\tPRIMARY KEY (sql_digest,plan_digest));"] [user=]
[2024/05/17 10:56:36.040 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:73, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:72, RowCount:0, ArgLen:2, start time: 2024-05-17 10:56:36.04 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:56:36.040 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:73, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:72, RowCount:0, ArgLen:2, start time: 2024-05-17 10:56:36.04 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.plan_replayer_task (\n\t\tsql_digest VARCHAR(128) NOT NULL,\n\t\tplan_digest VARCHAR(128) NOT NULL,\n\t\tupdate_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\tPRIMARY KEY (sql_digest,plan_digest));"]
[2024/05/17 10:56:36.044 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=73] [category=ddl] [job="ID:73, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:72, RowCount:0, ArgLen:0, start time: 2024-05-17 10:56:36.04 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:56:36.046 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816715865620482] ["schema version"=36]
[2024/05/17 10:56:36.046 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=35] [neededSchemaVersion=36] ["start time"=197.083µs] [gotSchemaVersion=36] [phyTblIDs="[72]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:56:36.046 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:56:36.046 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=73] [version=36]
[2024/05/17 10:56:36.047 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=36] ["take time"=2.105375ms] [job="ID:73, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:72, RowCount:0, ArgLen:2, start time: 2024-05-17 10:56:36.04 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:56:36.051 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=73] [job="ID:73, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:72, RowCount:0, ArgLen:0, start time: 2024-05-17 10:56:36.04 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:56:36.053 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=73]
[2024/05/17 10:56:36.053 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:56:36.053 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816715865620482] ["schema version"=36]
[2024/05/17 10:56:36.053 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=36] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_table_locked(\n\t\ttable_id bigint(64) NOT NULL,\n\t\tmodify_count bigint(64) NOT NULL DEFAULT 0,\n\t\tcount bigint(64) NOT NULL DEFAULT 0,\n\t\tversion bigint(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tPRIMARY KEY (table_id));"] [user=]
[2024/05/17 10:56:36.054 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:75, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:74, RowCount:0, ArgLen:2, start time: 2024-05-17 10:56:36.053 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:56:36.054 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:75, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:74, RowCount:0, ArgLen:2, start time: 2024-05-17 10:56:36.053 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_table_locked(\n\t\ttable_id bigint(64) NOT NULL,\n\t\tmodify_count bigint(64) NOT NULL DEFAULT 0,\n\t\tcount bigint(64) NOT NULL DEFAULT 0,\n\t\tversion bigint(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tPRIMARY KEY (table_id));"]
[2024/05/17 10:56:36.058 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=75] [category=ddl] [job="ID:75, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:74, RowCount:0, ArgLen:0, start time: 2024-05-17 10:56:36.053 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:56:36.059 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816715869290496] ["schema version"=37]
[2024/05/17 10:56:36.059 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=36] [neededSchemaVersion=37] ["start time"=169.292µs] [gotSchemaVersion=37] [phyTblIDs="[74]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:56:36.060 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:56:36.060 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=75] [version=37]
[2024/05/17 10:56:36.061 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=37] ["take time"=2.371333ms] [job="ID:75, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:74, RowCount:0, ArgLen:2, start time: 2024-05-17 10:56:36.053 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:56:36.064 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=75] [job="ID:75, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:74, RowCount:0, ArgLen:0, start time: 2024-05-17 10:56:36.053 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:56:36.066 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=75]
[2024/05/17 10:56:36.066 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:56:36.066 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816715869290496] ["schema version"=37]
[2024/05/17 10:56:36.066 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=37] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_ttl_table_status (\n\t\ttable_id bigint(64) PRIMARY KEY,\n        parent_table_id bigint(64),\n        table_statistics text DEFAULT NULL,\n\t\tlast_job_id varchar(64) DEFAULT NULL,\n\t\tlast_job_start_time timestamp NULL DEFAULT NULL,\n\t\tlast_job_finish_time timestamp NULL DEFAULT NULL,\n\t\tlast_job_ttl_expire timestamp NULL DEFAULT NULL,\n        last_job_summary text DEFAULT NULL,\n\t\tcurrent_job_id varchar(64) DEFAULT NULL,\n\t\tcurrent_job_owner_id varchar(64) DEFAULT NULL,\n\t\tcurrent_job_owner_addr varchar(256) DEFAULT NULL,\n\t\tcurrent_job_owner_hb_time timestamp,\n\t\tcurrent_job_start_time timestamp NULL DEFAULT NULL,\n\t\tcurrent_job_ttl_expire timestamp NULL DEFAULT NULL,\n\t\tcurrent_job_state text DEFAULT NULL,\n\t\tcurrent_job_status varchar(64) DEFAULT NULL,\n  \t\tcurrent_job_status_update_time timestamp NULL DEFAULT NULL);"] [user=]
[2024/05/17 10:56:36.067 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:77, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:76, RowCount:0, ArgLen:2, start time: 2024-05-17 10:56:36.066 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:56:36.067 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:77, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:76, RowCount:0, ArgLen:2, start time: 2024-05-17 10:56:36.066 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_ttl_table_status (\n\t\ttable_id bigint(64) PRIMARY KEY,\n        parent_table_id bigint(64),\n        table_statistics text DEFAULT NULL,\n\t\tlast_job_id varchar(64) DEFAULT NULL,\n\t\tlast_job_start_time timestamp NULL DEFAULT NULL,\n\t\tlast_job_finish_time timestamp NULL DEFAULT NULL,\n\t\tlast_job_ttl_expire timestamp NULL DEFAULT NULL,\n        last_job_summary text DEFAULT NULL,\n\t\tcurrent_job_id varchar(64) DEFAULT NULL,\n\t\tcurrent_job_owner_id varchar(64) DEFAULT NULL,\n\t\tcurrent_job_owner_addr varchar(256) DEFAULT NULL,\n\t\tcurrent_job_owner_hb_time timestamp,\n\t\tcurrent_job_start_time timestamp NULL DEFAULT NULL,\n\t\tcurrent_job_ttl_expire timestamp NULL DEFAULT NULL,\n\t\tcurrent_job_state text DEFAULT NULL,\n\t\tcurrent_job_status varchar(64) DEFAULT NULL,\n  \t\tcurrent_job_status_update_time timestamp NULL DEFAULT NULL);"]
[2024/05/17 10:56:36.070 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=77] [category=ddl] [job="ID:77, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:76, RowCount:0, ArgLen:0, start time: 2024-05-17 10:56:36.066 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:56:36.072 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816715872698368] ["schema version"=38]
[2024/05/17 10:56:36.073 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=37] [neededSchemaVersion=38] ["start time"=356µs] [gotSchemaVersion=38] [phyTblIDs="[76]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:56:36.073 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:56:36.073 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=77] [version=38]
[2024/05/17 10:56:36.074 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=38] ["take time"=2.024125ms] [job="ID:77, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:76, RowCount:0, ArgLen:2, start time: 2024-05-17 10:56:36.066 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:56:36.078 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=77] [job="ID:77, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:76, RowCount:0, ArgLen:0, start time: 2024-05-17 10:56:36.066 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:56:36.080 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=77]
[2024/05/17 10:56:36.080 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:56:36.080 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816715872698368] ["schema version"=38]
[2024/05/17 10:56:36.080 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=38] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_ttl_task (\n\t\tjob_id varchar(64) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tscan_id int NOT NULL,\n\t\tscan_range_start BLOB,\n\t\tscan_range_end BLOB,\n\t\texpire_time timestamp NOT NULL,\n\t\towner_id varchar(64) DEFAULT NULL,\n\t\towner_addr varchar(64) DEFAULT NULL,\n\t\towner_hb_time timestamp DEFAULT NULL,\n\t\tstatus varchar(64) DEFAULT 'waiting',\n\t\tstatus_update_time timestamp NULL DEFAULT NULL,\n\t\tstate text,\n\t\tcreated_time timestamp NOT NULL,\n\t\tprimary key(job_id, scan_id),\n\t\tkey(created_time));"] [user=]
[2024/05/17 10:56:36.082 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:79, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:78, RowCount:0, ArgLen:2, start time: 2024-05-17 10:56:36.081 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:56:36.082 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:79, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:78, RowCount:0, ArgLen:2, start time: 2024-05-17 10:56:36.081 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_ttl_task (\n\t\tjob_id varchar(64) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tscan_id int NOT NULL,\n\t\tscan_range_start BLOB,\n\t\tscan_range_end BLOB,\n\t\texpire_time timestamp NOT NULL,\n\t\towner_id varchar(64) DEFAULT NULL,\n\t\towner_addr varchar(64) DEFAULT NULL,\n\t\towner_hb_time timestamp DEFAULT NULL,\n\t\tstatus varchar(64) DEFAULT 'waiting',\n\t\tstatus_update_time timestamp NULL DEFAULT NULL,\n\t\tstate text,\n\t\tcreated_time timestamp NOT NULL,\n\t\tprimary key(job_id, scan_id),\n\t\tkey(created_time));"]
[2024/05/17 10:56:36.085 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=79] [category=ddl] [job="ID:79, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:78, RowCount:0, ArgLen:0, start time: 2024-05-17 10:56:36.081 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:56:36.087 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816715876368385] ["schema version"=39]
[2024/05/17 10:56:36.087 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=38] [neededSchemaVersion=39] ["start time"=327.584µs] [gotSchemaVersion=39] [phyTblIDs="[78]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:56:36.087 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:56:36.087 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=79] [version=39]
[2024/05/17 10:56:36.088 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=39] ["take time"=2.033417ms] [job="ID:79, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:78, RowCount:0, ArgLen:2, start time: 2024-05-17 10:56:36.081 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:56:36.092 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=79] [job="ID:79, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:78, RowCount:0, ArgLen:0, start time: 2024-05-17 10:56:36.081 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:56:36.094 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=79]
[2024/05/17 10:56:36.094 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:56:36.094 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816715876368385] ["schema version"=39]
[2024/05/17 10:56:36.094 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=39] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_ttl_job_history (\n\t\tjob_id varchar(64) PRIMARY KEY,\n\t\ttable_id bigint(64) NOT NULL,\n        parent_table_id bigint(64) NOT NULL,\n    \ttable_schema varchar(64) NOT NULL,\n\t\ttable_name varchar(64) NOT NULL,\n    \tpartition_name varchar(64) DEFAULT NULL,\n\t\tcreate_time timestamp NOT NULL,\n\t\tfinish_time timestamp NOT NULL,\n\t\tttl_expire timestamp NOT NULL,\n        summary_text text,\n\t\texpired_rows bigint(64) DEFAULT NULL,\n    \tdeleted_rows bigint(64) DEFAULT NULL,\n    \terror_delete_rows bigint(64) DEFAULT NULL,\n    \tstatus varchar(64) NOT NULL,\n    \tkey(table_schema, table_name, create_time),\n    \tkey(parent_table_id, create_time),\n    \tkey(create_time)\n\t);"] [user=]
[2024/05/17 10:56:36.097 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:81, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:80, RowCount:0, ArgLen:2, start time: 2024-05-17 10:56:36.096 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:56:36.097 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:81, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:80, RowCount:0, ArgLen:2, start time: 2024-05-17 10:56:36.096 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_ttl_job_history (\n\t\tjob_id varchar(64) PRIMARY KEY,\n\t\ttable_id bigint(64) NOT NULL,\n        parent_table_id bigint(64) NOT NULL,\n    \ttable_schema varchar(64) NOT NULL,\n\t\ttable_name varchar(64) NOT NULL,\n    \tpartition_name varchar(64) DEFAULT NULL,\n\t\tcreate_time timestamp NOT NULL,\n\t\tfinish_time timestamp NOT NULL,\n\t\tttl_expire timestamp NOT NULL,\n        summary_text text,\n\t\texpired_rows bigint(64) DEFAULT NULL,\n    \tdeleted_rows bigint(64) DEFAULT NULL,\n    \terror_delete_rows bigint(64) DEFAULT NULL,\n    \tstatus varchar(64) NOT NULL,\n    \tkey(table_schema, table_name, create_time),\n    \tkey(parent_table_id, create_time),\n    \tkey(create_time)\n\t);"]
[2024/05/17 10:56:36.101 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=81] [category=ddl] [job="ID:81, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:80, RowCount:0, ArgLen:0, start time: 2024-05-17 10:56:36.096 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:56:36.103 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816715880562688] ["schema version"=40]
[2024/05/17 10:56:36.103 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=39] [neededSchemaVersion=40] ["start time"=354.666µs] [gotSchemaVersion=40] [phyTblIDs="[80]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:56:36.103 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:56:36.103 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=81] [version=40]
[2024/05/17 10:56:36.105 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=40] ["take time"=2.578333ms] [job="ID:81, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:80, RowCount:0, ArgLen:2, start time: 2024-05-17 10:56:36.096 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:56:36.107 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=81] [job="ID:81, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:80, RowCount:0, ArgLen:0, start time: 2024-05-17 10:56:36.096 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:56:36.109 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=81]
[2024/05/17 10:56:36.109 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:56:36.109 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816715880562688] ["schema version"=40]
[2024/05/17 10:56:36.109 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=40] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_global_task (\n\t\tid BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n    \ttask_key VARCHAR(256) NOT NULL,\n\t\ttype VARCHAR(256) NOT NULL,\n\t\tdispatcher_id VARCHAR(261),\n\t\tstate VARCHAR(64) NOT NULL,\n\t\tpriority INT DEFAULT 1,\n\t\tcreate_time TIMESTAMP,\n\t\tstart_time TIMESTAMP,\n\t\tstate_update_time TIMESTAMP,\n\t\tend_time TIMESTAMP,\n\t\tmeta LONGBLOB,\n\t\tconcurrency INT(11),\n\t\tstep INT(11),\n\t\ttarget_scope VARCHAR(256) DEFAULT \"\",\n\t\terror BLOB,\n\t\tkey(state),\n      \tUNIQUE KEY task_key(task_key)\n\t);"] [user=]
[2024/05/17 10:56:36.111 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:83, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:82, RowCount:0, ArgLen:2, start time: 2024-05-17 10:56:36.11 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:56:36.111 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:83, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:82, RowCount:0, ArgLen:2, start time: 2024-05-17 10:56:36.11 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_global_task (\n\t\tid BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n    \ttask_key VARCHAR(256) NOT NULL,\n\t\ttype VARCHAR(256) NOT NULL,\n\t\tdispatcher_id VARCHAR(261),\n\t\tstate VARCHAR(64) NOT NULL,\n\t\tpriority INT DEFAULT 1,\n\t\tcreate_time TIMESTAMP,\n\t\tstart_time TIMESTAMP,\n\t\tstate_update_time TIMESTAMP,\n\t\tend_time TIMESTAMP,\n\t\tmeta LONGBLOB,\n\t\tconcurrency INT(11),\n\t\tstep INT(11),\n\t\ttarget_scope VARCHAR(256) DEFAULT \"\",\n\t\terror BLOB,\n\t\tkey(state),\n      \tUNIQUE KEY task_key(task_key)\n\t);"]
[2024/05/17 10:56:36.114 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=83] [category=ddl] [job="ID:83, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:82, RowCount:0, ArgLen:0, start time: 2024-05-17 10:56:36.11 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:56:36.116 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816715883970562] ["schema version"=41]
[2024/05/17 10:56:36.116 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=40] [neededSchemaVersion=41] ["start time"=695.583µs] [gotSchemaVersion=41] [phyTblIDs="[82]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:56:36.117 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:56:36.117 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=83] [version=41]
[2024/05/17 10:56:36.118 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=41] ["take time"=2.749917ms] [job="ID:83, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:82, RowCount:0, ArgLen:2, start time: 2024-05-17 10:56:36.11 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:56:36.122 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=83] [job="ID:83, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:82, RowCount:0, ArgLen:0, start time: 2024-05-17 10:56:36.11 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:56:36.124 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=83]
[2024/05/17 10:56:36.124 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:56:36.124 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816715883970562] ["schema version"=41]
[2024/05/17 10:56:36.124 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=41] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_global_task_history (\n\t\tid BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n    \ttask_key VARCHAR(256) NOT NULL,\n\t\ttype VARCHAR(256) NOT NULL,\n\t\tdispatcher_id VARCHAR(261),\n\t\tstate VARCHAR(64) NOT NULL,\n\t\tpriority INT DEFAULT 1,\n\t\tcreate_time TIMESTAMP,\n\t\tstart_time TIMESTAMP,\n\t\tstate_update_time TIMESTAMP,\n\t\tend_time TIMESTAMP,\n\t\tmeta LONGBLOB,\n\t\tconcurrency INT(11),\n\t\tstep INT(11),\n\t\ttarget_scope VARCHAR(256) DEFAULT \"\",\n\t\terror BLOB,\n\t\tkey(state),\n      \tUNIQUE KEY task_key(task_key)\n\t);"] [user=]
[2024/05/17 10:56:36.126 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:85, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:84, RowCount:0, ArgLen:2, start time: 2024-05-17 10:56:36.125 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:56:36.126 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:85, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:84, RowCount:0, ArgLen:2, start time: 2024-05-17 10:56:36.125 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_global_task_history (\n\t\tid BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n    \ttask_key VARCHAR(256) NOT NULL,\n\t\ttype VARCHAR(256) NOT NULL,\n\t\tdispatcher_id VARCHAR(261),\n\t\tstate VARCHAR(64) NOT NULL,\n\t\tpriority INT DEFAULT 1,\n\t\tcreate_time TIMESTAMP,\n\t\tstart_time TIMESTAMP,\n\t\tstate_update_time TIMESTAMP,\n\t\tend_time TIMESTAMP,\n\t\tmeta LONGBLOB,\n\t\tconcurrency INT(11),\n\t\tstep INT(11),\n\t\ttarget_scope VARCHAR(256) DEFAULT \"\",\n\t\terror BLOB,\n\t\tkey(state),\n      \tUNIQUE KEY task_key(task_key)\n\t);"]
[2024/05/17 10:56:36.129 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=85] [category=ddl] [job="ID:85, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:84, RowCount:0, ArgLen:0, start time: 2024-05-17 10:56:36.125 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:56:36.131 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816715888164864] ["schema version"=42]
[2024/05/17 10:56:36.131 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=41] [neededSchemaVersion=42] ["start time"=342.875µs] [gotSchemaVersion=42] [phyTblIDs="[84]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:56:36.132 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:56:36.132 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=85] [version=42]
[2024/05/17 10:56:36.133 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=42] ["take time"=2.051292ms] [job="ID:85, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:84, RowCount:0, ArgLen:2, start time: 2024-05-17 10:56:36.125 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:56:36.137 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=85] [job="ID:85, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:84, RowCount:0, ArgLen:0, start time: 2024-05-17 10:56:36.125 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:56:36.139 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=85]
[2024/05/17 10:56:36.139 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:56:36.139 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816715888164864] ["schema version"=42]
[2024/05/17 10:56:36.139 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=42] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_import_jobs (\n\t\tid bigint(64) NOT NULL AUTO_INCREMENT,\n\t\tcreate_time TIMESTAMP(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6),\n\t\tstart_time TIMESTAMP(6) NULL DEFAULT NULL,\n\t\tupdate_time TIMESTAMP(6) NULL DEFAULT NULL,\n\t\tend_time TIMESTAMP(6) NULL DEFAULT NULL,\n\t\ttable_schema VARCHAR(64) NOT NULL,\n\t\ttable_name VARCHAR(64) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tcreated_by VARCHAR(300) NOT NULL,\n\t\tparameters text NOT NULL,\n\t\tsource_file_size bigint(64) NOT NULL,\n\t\tstatus VARCHAR(64) NOT NULL,\n\t\tstep VARCHAR(64) NOT NULL,\n\t\tsummary text DEFAULT NULL,\n\t\terror_message TEXT DEFAULT NULL,\n\t\tPRIMARY KEY (id),\n\t\tKEY (created_by),\n\t\tKEY (status));"] [user=]
[2024/05/17 10:56:36.141 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:87, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:86, RowCount:0, ArgLen:2, start time: 2024-05-17 10:56:36.14 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:56:36.141 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:87, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:86, RowCount:0, ArgLen:2, start time: 2024-05-17 10:56:36.14 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_import_jobs (\n\t\tid bigint(64) NOT NULL AUTO_INCREMENT,\n\t\tcreate_time TIMESTAMP(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6),\n\t\tstart_time TIMESTAMP(6) NULL DEFAULT NULL,\n\t\tupdate_time TIMESTAMP(6) NULL DEFAULT NULL,\n\t\tend_time TIMESTAMP(6) NULL DEFAULT NULL,\n\t\ttable_schema VARCHAR(64) NOT NULL,\n\t\ttable_name VARCHAR(64) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tcreated_by VARCHAR(300) NOT NULL,\n\t\tparameters text NOT NULL,\n\t\tsource_file_size bigint(64) NOT NULL,\n\t\tstatus VARCHAR(64) NOT NULL,\n\t\tstep VARCHAR(64) NOT NULL,\n\t\tsummary text DEFAULT NULL,\n\t\terror_message TEXT DEFAULT NULL,\n\t\tPRIMARY KEY (id),\n\t\tKEY (created_by),\n\t\tKEY (status));"]
[2024/05/17 10:56:36.147 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=87] [category=ddl] [job="ID:87, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:86, RowCount:0, ArgLen:0, start time: 2024-05-17 10:56:36.14 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:56:36.150 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816715892883456] ["schema version"=43]
[2024/05/17 10:56:36.150 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=42] [neededSchemaVersion=43] ["start time"=481.25µs] [gotSchemaVersion=43] [phyTblIDs="[86]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:56:36.151 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:56:36.151 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=87] [version=43]
[2024/05/17 10:56:36.153 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=43] ["take time"=3.865292ms] [job="ID:87, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:86, RowCount:0, ArgLen:2, start time: 2024-05-17 10:56:36.14 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:56:36.160 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=87] [job="ID:87, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:86, RowCount:0, ArgLen:0, start time: 2024-05-17 10:56:36.14 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:56:36.164 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=87]
[2024/05/17 10:56:36.164 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:56:36.164 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816715892883456] ["schema version"=43]
[2024/05/17 10:56:36.164 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=43] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_runaway_watch (\n\t\tid BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n\t\tresource_group_name varchar(32) not null,\n\t\tstart_time datetime(6) NOT NULL,\n\t\tend_time datetime(6),\n\t\twatch bigint(10) NOT NULL,\n\t\twatch_text TEXT NOT NULL,\n\t\tsource varchar(512) NOT NULL,\n\t\taction bigint(10),\n\t\tINDEX sql_index(resource_group_name,watch_text(700)) COMMENT \"accelerate the speed when select quarantined query\",\n\t\tINDEX time_index(end_time) COMMENT \"accelerate the speed when querying with active watch\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"] [user=]
[2024/05/17 10:56:36.166 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:89, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:88, RowCount:0, ArgLen:2, start time: 2024-05-17 10:56:36.165 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:56:36.166 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:89, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:88, RowCount:0, ArgLen:2, start time: 2024-05-17 10:56:36.165 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_runaway_watch (\n\t\tid BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n\t\tresource_group_name varchar(32) not null,\n\t\tstart_time datetime(6) NOT NULL,\n\t\tend_time datetime(6),\n\t\twatch bigint(10) NOT NULL,\n\t\twatch_text TEXT NOT NULL,\n\t\tsource varchar(512) NOT NULL,\n\t\taction bigint(10),\n\t\tINDEX sql_index(resource_group_name,watch_text(700)) COMMENT \"accelerate the speed when select quarantined query\",\n\t\tINDEX time_index(end_time) COMMENT \"accelerate the speed when querying with active watch\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"]
[2024/05/17 10:56:36.172 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=89] [category=ddl] [job="ID:89, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:88, RowCount:0, ArgLen:0, start time: 2024-05-17 10:56:36.165 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:56:36.174 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816715899174913] ["schema version"=44]
[2024/05/17 10:56:36.174 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=43] [neededSchemaVersion=44] ["start time"=360.958µs] [gotSchemaVersion=44] [phyTblIDs="[88]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:56:36.176 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:56:36.176 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=89] [version=44]
[2024/05/17 10:56:36.176 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=44] ["take time"=2.694875ms] [job="ID:89, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:88, RowCount:0, ArgLen:2, start time: 2024-05-17 10:56:36.165 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:56:36.179 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=89] [job="ID:89, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:88, RowCount:0, ArgLen:0, start time: 2024-05-17 10:56:36.165 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:56:36.180 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=89]
[2024/05/17 10:56:36.180 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:56:36.180 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816715899174913] ["schema version"=44]
[2024/05/17 10:56:36.181 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=44] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_runaway_queries (\n\t\tresource_group_name varchar(32) not null,\n\t\ttime TIMESTAMP NOT NULL,\n\t\tmatch_type varchar(12) NOT NULL,\n\t\taction varchar(12) NOT NULL,\n\t\toriginal_sql TEXT NOT NULL,\n\t\tplan_digest TEXT NOT NULL,\n\t\ttidb_server varchar(512),\n\t\tINDEX plan_index(plan_digest(64)) COMMENT \"accelerate the speed when select runaway query\",\n\t\tINDEX time_index(time) COMMENT \"accelerate the speed when querying with active watch\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"] [user=]
[2024/05/17 10:56:36.182 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:91, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:90, RowCount:0, ArgLen:2, start time: 2024-05-17 10:56:36.181 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:56:36.182 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:91, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:90, RowCount:0, ArgLen:2, start time: 2024-05-17 10:56:36.181 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_runaway_queries (\n\t\tresource_group_name varchar(32) not null,\n\t\ttime TIMESTAMP NOT NULL,\n\t\tmatch_type varchar(12) NOT NULL,\n\t\taction varchar(12) NOT NULL,\n\t\toriginal_sql TEXT NOT NULL,\n\t\tplan_digest TEXT NOT NULL,\n\t\ttidb_server varchar(512),\n\t\tINDEX plan_index(plan_digest(64)) COMMENT \"accelerate the speed when select runaway query\",\n\t\tINDEX time_index(time) COMMENT \"accelerate the speed when querying with active watch\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"]
[2024/05/17 10:56:36.185 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=91] [category=ddl] [job="ID:91, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:90, RowCount:0, ArgLen:0, start time: 2024-05-17 10:56:36.181 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:56:36.186 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816715902582784] ["schema version"=45]
[2024/05/17 10:56:36.186 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=44] [neededSchemaVersion=45] ["start time"=240.625µs] [gotSchemaVersion=45] [phyTblIDs="[90]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:56:36.187 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:56:36.187 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=91] [version=45]
[2024/05/17 10:56:36.189 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=45] ["take time"=2.561833ms] [job="ID:91, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:90, RowCount:0, ArgLen:2, start time: 2024-05-17 10:56:36.181 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:56:36.192 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=91] [job="ID:91, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:90, RowCount:0, ArgLen:0, start time: 2024-05-17 10:56:36.181 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:56:36.194 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=91]
[2024/05/17 10:56:36.194 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:56:36.194 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816715902582784] ["schema version"=45]
[2024/05/17 10:56:36.194 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=45] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS `mysql`.`tidb_timers` (\n\t\tID BIGINT(64) UNSIGNED NOT NULL AUTO_INCREMENT,\n\t\tNAMESPACE VARCHAR(256) NOT NULL,\n\t\tTIMER_KEY VARCHAR(256) NOT NULL,\n\t\tTIMER_DATA BLOB,\n\t\tTIMEZONE VARCHAR(64) NOT NULL,\n\t\tSCHED_POLICY_TYPE VARCHAR(32) NOT NULL,\n\t\tSCHED_POLICY_EXPR VARCHAR(256) NOT NULL,\n\t\tHOOK_CLASS VARCHAR(64) NOT NULL,\n\t\tWATERMARK TIMESTAMP DEFAULT NULL,\n\t\tENABLE TINYINT(2) NOT NULL,\n\t\tTIMER_EXT JSON NOT NULL,\n\t\tEVENT_STATUS VARCHAR(32) NOT NULL,\n\t\tEVENT_ID VARCHAR(64) NOT NULL,\n\t\tEVENT_DATA BLOB,\n\t\tEVENT_START TIMESTAMP DEFAULT NULL,\n\t\tSUMMARY_DATA BLOB,\n\t\tCREATE_TIME TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,\n\t\tUPDATE_TIME TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\tVERSION BIGINT(64) UNSIGNED NOT NULL,\n\t\tPRIMARY KEY (ID),\n\t\tUNIQUE KEY timer_key(NAMESPACE, TIMER_KEY),\n\t\tKEY hook_class(HOOK_CLASS)\n\t)"] [user=]
[2024/05/17 10:56:36.196 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:93, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:92, RowCount:0, ArgLen:2, start time: 2024-05-17 10:56:36.194 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:56:36.196 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:93, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:92, RowCount:0, ArgLen:2, start time: 2024-05-17 10:56:36.194 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS `mysql`.`tidb_timers` (\n\t\tID BIGINT(64) UNSIGNED NOT NULL AUTO_INCREMENT,\n\t\tNAMESPACE VARCHAR(256) NOT NULL,\n\t\tTIMER_KEY VARCHAR(256) NOT NULL,\n\t\tTIMER_DATA BLOB,\n\t\tTIMEZONE VARCHAR(64) NOT NULL,\n\t\tSCHED_POLICY_TYPE VARCHAR(32) NOT NULL,\n\t\tSCHED_POLICY_EXPR VARCHAR(256) NOT NULL,\n\t\tHOOK_CLASS VARCHAR(64) NOT NULL,\n\t\tWATERMARK TIMESTAMP DEFAULT NULL,\n\t\tENABLE TINYINT(2) NOT NULL,\n\t\tTIMER_EXT JSON NOT NULL,\n\t\tEVENT_STATUS VARCHAR(32) NOT NULL,\n\t\tEVENT_ID VARCHAR(64) NOT NULL,\n\t\tEVENT_DATA BLOB,\n\t\tEVENT_START TIMESTAMP DEFAULT NULL,\n\t\tSUMMARY_DATA BLOB,\n\t\tCREATE_TIME TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,\n\t\tUPDATE_TIME TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\tVERSION BIGINT(64) UNSIGNED NOT NULL,\n\t\tPRIMARY KEY (ID),\n\t\tUNIQUE KEY timer_key(NAMESPACE, TIMER_KEY),\n\t\tKEY hook_class(HOOK_CLASS)\n\t)"]
[2024/05/17 10:56:36.199 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=93] [category=ddl] [job="ID:93, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:92, RowCount:0, ArgLen:0, start time: 2024-05-17 10:56:36.194 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:56:36.202 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816715906514944] ["schema version"=46]
[2024/05/17 10:56:36.202 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=45] [neededSchemaVersion=46] ["start time"=393.333µs] [gotSchemaVersion=46] [phyTblIDs="[92]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:56:36.202 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:56:36.202 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=93] [version=46]
[2024/05/17 10:56:36.203 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=46] ["take time"=2.007584ms] [job="ID:93, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:92, RowCount:0, ArgLen:2, start time: 2024-05-17 10:56:36.194 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:56:36.207 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=93] [job="ID:93, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:92, RowCount:0, ArgLen:0, start time: 2024-05-17 10:56:36.194 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:56:36.208 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=93]
[2024/05/17 10:56:36.208 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:56:36.208 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816715906514944] ["schema version"=46]
[2024/05/17 10:56:36.209 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=46] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_runaway_watch_done (\n\t\tid BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n\t\trecord_id BIGINT(20) not null,\n\t\tresource_group_name varchar(32) not null,\n\t\tstart_time datetime(6) NOT NULL,\n\t\tend_time datetime(6),\n\t\twatch bigint(10) NOT NULL,\n\t\twatch_text TEXT NOT NULL,\n\t\tsource varchar(512) NOT NULL,\n\t\taction bigint(10),\n\t\tdone_time TIMESTAMP(6) NOT NULL\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"] [user=]
[2024/05/17 10:56:36.210 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:95, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:94, RowCount:0, ArgLen:2, start time: 2024-05-17 10:56:36.209 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:56:36.210 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:95, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:94, RowCount:0, ArgLen:2, start time: 2024-05-17 10:56:36.209 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_runaway_watch_done (\n\t\tid BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n\t\trecord_id BIGINT(20) not null,\n\t\tresource_group_name varchar(32) not null,\n\t\tstart_time datetime(6) NOT NULL,\n\t\tend_time datetime(6),\n\t\twatch bigint(10) NOT NULL,\n\t\twatch_text TEXT NOT NULL,\n\t\tsource varchar(512) NOT NULL,\n\t\taction bigint(10),\n\t\tdone_time TIMESTAMP(6) NOT NULL\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"]
[2024/05/17 10:56:36.213 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=95] [category=ddl] [job="ID:95, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:94, RowCount:0, ArgLen:0, start time: 2024-05-17 10:56:36.209 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:56:36.214 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816715909922816] ["schema version"=47]
[2024/05/17 10:56:36.214 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=46] [neededSchemaVersion=47] ["start time"=249.833µs] [gotSchemaVersion=47] [phyTblIDs="[94]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:56:36.215 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:56:36.215 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=95] [version=47]
[2024/05/17 10:56:36.216 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=47] ["take time"=2.114917ms] [job="ID:95, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:94, RowCount:0, ArgLen:2, start time: 2024-05-17 10:56:36.209 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:56:36.217 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816715909922816] ["schema version"=47]
[2024/05/17 10:56:36.219 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=95] [job="ID:95, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:94, RowCount:0, ArgLen:0, start time: 2024-05-17 10:56:36.209 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:56:36.221 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=95]
[2024/05/17 10:56:36.221 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:56:36.221 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816715909922816] ["schema version"=47]
[2024/05/17 10:56:36.221 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=47] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.dist_framework_meta (\n        host VARCHAR(261) NOT NULL PRIMARY KEY,\n        role VARCHAR(64),\n        cpu_count int default 0,\n        keyspace_id bigint(8) NOT NULL DEFAULT -1\n    );"] [user=]
[2024/05/17 10:56:36.222 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:97, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:96, RowCount:0, ArgLen:2, start time: 2024-05-17 10:56:36.221 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:56:36.222 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:97, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:96, RowCount:0, ArgLen:2, start time: 2024-05-17 10:56:36.221 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.dist_framework_meta (\n        host VARCHAR(261) NOT NULL PRIMARY KEY,\n        role VARCHAR(64),\n        cpu_count int default 0,\n        keyspace_id bigint(8) NOT NULL DEFAULT -1\n    );"]
[2024/05/17 10:56:36.225 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=97] [category=ddl] [job="ID:97, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:96, RowCount:0, ArgLen:0, start time: 2024-05-17 10:56:36.221 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:56:36.226 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816715913068544] ["schema version"=48]
[2024/05/17 10:56:36.226 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=47] [neededSchemaVersion=48] ["start time"=165.333µs] [gotSchemaVersion=48] [phyTblIDs="[96]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:56:36.226 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:56:36.226 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=97] [version=48]
[2024/05/17 10:56:36.228 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=48] ["take time"=2.862166ms] [job="ID:97, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:96, RowCount:0, ArgLen:2, start time: 2024-05-17 10:56:36.221 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:56:36.231 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=97] [job="ID:97, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:96, RowCount:0, ArgLen:0, start time: 2024-05-17 10:56:36.221 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:56:36.232 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=97]
[2024/05/17 10:56:36.232 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:56:36.232 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816715913068544] ["schema version"=48]
[2024/05/17 10:56:36.232 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=48] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.request_unit_by_group (\n\t\tstart_time TIMESTAMP(6) NOT NULL,\n\t\tend_time TIMESTAMP(6) NOT NULL,\n\t\tresource_group VARCHAR(32) NOT null,\n\t\ttotal_ru bigint(64) UNSIGNED NOT NULL,\n\t\tPRIMARY KEY (start_time, end_time, resource_group),\n\t\tKEY (resource_group)\n\t);"] [user=]
[2024/05/17 10:56:36.233 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:99, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:98, RowCount:0, ArgLen:2, start time: 2024-05-17 10:56:36.233 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:56:36.233 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:99, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:98, RowCount:0, ArgLen:2, start time: 2024-05-17 10:56:36.233 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.request_unit_by_group (\n\t\tstart_time TIMESTAMP(6) NOT NULL,\n\t\tend_time TIMESTAMP(6) NOT NULL,\n\t\tresource_group VARCHAR(32) NOT null,\n\t\ttotal_ru bigint(64) UNSIGNED NOT NULL,\n\t\tPRIMARY KEY (start_time, end_time, resource_group),\n\t\tKEY (resource_group)\n\t);"]
[2024/05/17 10:56:36.236 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=99] [category=ddl] [job="ID:99, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:98, RowCount:0, ArgLen:0, start time: 2024-05-17 10:56:36.233 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:56:36.237 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816715915952128] ["schema version"=49]
[2024/05/17 10:56:36.237 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=48] [neededSchemaVersion=49] ["start time"=192.166µs] [gotSchemaVersion=49] [phyTblIDs="[98]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:56:36.238 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:56:36.238 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=99] [version=49]
[2024/05/17 10:56:36.239 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=49] ["take time"=2.002916ms] [job="ID:99, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:98, RowCount:0, ArgLen:2, start time: 2024-05-17 10:56:36.233 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:56:36.242 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=99] [job="ID:99, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:98, RowCount:0, ArgLen:0, start time: 2024-05-17 10:56:36.233 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:56:36.244 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=99]
[2024/05/17 10:56:36.244 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:56:36.244 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816715915952128] ["schema version"=49]
[2024/05/17 10:56:36.244 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=49] [cur_db=mysql] [sql="CREATE DATABASE IF NOT EXISTS sys;"] [user=]
[2024/05/17 10:56:36.245 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:101, Type:create schema, State:queueing, SchemaState:none, SchemaID:100, TableID:0, RowCount:0, ArgLen:1, start time: 2024-05-17 10:56:36.245 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:56:36.245 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:101, Type:create schema, State:queueing, SchemaState:none, SchemaID:100, TableID:0, RowCount:0, ArgLen:1, start time: 2024-05-17 10:56:36.245 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE DATABASE IF NOT EXISTS sys;"]
[2024/05/17 10:56:36.248 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=101] [category=ddl] [job="ID:101, Type:create schema, State:queueing, SchemaState:none, SchemaID:100, TableID:0, RowCount:0, ArgLen:0, start time: 2024-05-17 10:56:36.245 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:56:36.249 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816715919097856] ["schema version"=50]
[2024/05/17 10:56:36.249 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=49] [neededSchemaVersion=50] ["start time"=45.375µs] [gotSchemaVersion=50] [phyTblIDs="[]"] [actionTypes="[]"] [diffTypes="[\"create schema\"]"]
[2024/05/17 10:56:36.249 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:56:36.249 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=101] [version=50]
[2024/05/17 10:56:36.251 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=50] ["take time"=2.420333ms] [job="ID:101, Type:create schema, State:done, SchemaState:public, SchemaID:100, TableID:0, RowCount:0, ArgLen:1, start time: 2024-05-17 10:56:36.245 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:56:36.254 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=101] [job="ID:101, Type:create schema, State:synced, SchemaState:public, SchemaID:100, TableID:0, RowCount:0, ArgLen:0, start time: 2024-05-17 10:56:36.245 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:56:36.255 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=101]
[2024/05/17 10:56:36.255 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:56:36.255 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816715919097856] ["schema version"=50]
[2024/05/17 10:56:36.257 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:103, Type:create view, State:queueing, SchemaState:none, SchemaID:100, TableID:102, RowCount:0, ArgLen:3, start time: 2024-05-17 10:56:36.257 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:56:36.257 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:103, Type:create view, State:queueing, SchemaState:none, SchemaID:100, TableID:102, RowCount:0, ArgLen:3, start time: 2024-05-17 10:56:36.257 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE OR REPLACE VIEW sys.schema_unused_indexes AS\n\t\tSELECT\n\t\t\ttable_schema as object_schema,\n\t\t\ttable_name as object_name,\n\t\t\tindex_name\n\t\tFROM information_schema.cluster_tidb_index_usage\n\t\tWHERE\n\t\t\ttable_schema not in ('sys', 'mysql', 'INFORMATION_SCHEMA', 'PERFORMANCE_SCHEMA') and\n\t\t\tindex_name != 'PRIMARY'\n\t\tGROUP BY table_schema, table_name, index_name\n\t\tHAVING\n\t\t\tsum(last_access_time) is null;"]
[2024/05/17 10:56:36.260 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=103] [category=ddl] [job="ID:103, Type:create view, State:queueing, SchemaState:none, SchemaID:100, TableID:102, RowCount:0, ArgLen:0, start time: 2024-05-17 10:56:36.257 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:56:36.262 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816715922243588] ["schema version"=51]
[2024/05/17 10:56:36.262 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=50] [neededSchemaVersion=51] ["start time"=151.125µs] [gotSchemaVersion=51] [phyTblIDs="[102]"] [actionTypes="[21]"] [diffTypes="[\"create view\"]"]
[2024/05/17 10:56:36.262 +08:00] [INFO] [domain.go:938] ["session manager is nil"]
[2024/05/17 10:56:36.262 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=103] [version=51]
[2024/05/17 10:56:36.263 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=51] ["take time"=2.005ms] [job="ID:103, Type:create view, State:done, SchemaState:public, SchemaID:100, TableID:102, RowCount:0, ArgLen:3, start time: 2024-05-17 10:56:36.257 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:56:36.267 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=103] [job="ID:103, Type:create view, State:synced, SchemaState:public, SchemaID:100, TableID:102, RowCount:0, ArgLen:0, start time: 2024-05-17 10:56:36.257 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:56:36.268 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=103]
[2024/05/17 10:56:36.268 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:56:36.268 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816715922243588] ["schema version"=51]
[2024/05/17 10:56:36.279 +08:00] [INFO] [bootstrap.go:745] ["bootstrap successful"] ["take time"=829.062292ms]
[2024/05/17 10:56:36.280 +08:00] [INFO] [mock.go:106] ["owner manager is canceled"] [category=ddl] [ID=ab519d6f-1b36-4040-a6d0-d75d771471bd] [ownerKey=/tidb/ddl/fg/owner]
[2024/05/17 10:56:36.280 +08:00] [INFO] [ddl_workerpool.go:82] ["closing workerPool"] [category=ddl]
[2024/05/17 10:56:36.280 +08:00] [INFO] [ddl_worker.go:188] ["DDL worker closed"] [worker="worker 2, tp add index"] [category=ddl] ["take time"=875ns]
[2024/05/17 10:56:36.280 +08:00] [INFO] [ddl_workerpool.go:82] ["closing workerPool"] [category=ddl]
[2024/05/17 10:56:36.280 +08:00] [INFO] [ddl_worker.go:188] ["DDL worker closed"] [worker="worker 1, tp general"] [category=ddl] ["take time"=542ns]
[2024/05/17 10:56:36.280 +08:00] [INFO] [ddl_workerpool.go:82] ["closing workerPool"] [category=ddl]
[2024/05/17 10:56:36.280 +08:00] [INFO] [delete_range.go:162] ["closing delRange"] [category=ddl]
[2024/05/17 10:56:36.280 +08:00] [INFO] [session_pool.go:99] ["closing session pool"] [category=ddl]
[2024/05/17 10:56:36.281 +08:00] [INFO] [ddl.go:951] ["DDL closed"] [category=ddl] [ID=ab519d6f-1b36-4040-a6d0-d75d771471bd] ["take time"=1.807375ms]
[2024/05/17 10:56:36.281 +08:00] [INFO] [ddl.go:769] ["stop DDL"] [category=ddl] [ID=ab519d6f-1b36-4040-a6d0-d75d771471bd]
[2024/05/17 10:56:36.281 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=mdlCheckLoop]
[2024/05/17 10:56:36.281 +08:00] [INFO] [domain.go:977] ["loadSchemaInLoop exited."]
[2024/05/17 10:56:36.281 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=loadSchemaInLoop]
[2024/05/17 10:56:36.281 +08:00] [INFO] [domain.go:831] ["topologySyncerKeeper exited."]
[2024/05/17 10:56:36.281 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=topologySyncerKeeper]
[2024/05/17 10:56:36.281 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=runawayStartLoop]
[2024/05/17 10:56:36.281 +08:00] [INFO] [domain.go:807] ["globalConfigSyncerKeeper exited."]
[2024/05/17 10:56:36.281 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=globalConfigSyncerKeeper]
[2024/05/17 10:56:36.281 +08:00] [INFO] [domain.go:781] ["infoSyncerKeeper exited."]
[2024/05/17 10:56:36.281 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=infoSyncerKeeper]
[2024/05/17 10:56:36.281 +08:00] [INFO] [domain.go:753] ["topNSlowQueryLoop exited."]
[2024/05/17 10:56:36.281 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=topNSlowQueryLoop]
[2024/05/17 10:56:36.281 +08:00] [INFO] [domain.go:1431] ["closestReplicaReadCheckLoop exited."]
[2024/05/17 10:56:36.281 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=closestReplicaReadCheckLoop]
[2024/05/17 10:56:36.281 +08:00] [INFO] [domain.go:1144] ["domain closed"] ["take time"=1.954ms]
[2024/05/17 10:56:36.281 +08:00] [INFO] [tidb.go:80] ["new domain"] [store=3202c7d3-8617-424d-aedb-2acc81366976] ["ddl lease"=500ms] ["stats lease"=-1ns]
[2024/05/17 10:56:36.282 +08:00] [WARN] [controller.go:198] ["[resource group controller] server does not save config, load config failed"]
[2024/05/17 10:56:36.282 +08:00] [INFO] [controller.go:185] ["load resource controller config"] [config="{\"degraded-mode-wait-duration\":\"0s\",\"ltb-max-wait-duration\":\"30s\",\"wait-retry-interval\":\"50ms\",\"wait-retry-times\":10,\"request-unit\":{\"read-base-cost\":0.125,\"read-per-batch-base-cost\":0.5,\"read-cost-per-byte\":0.0000152587890625,\"write-base-cost\":1,\"write-per-batch-base-cost\":1,\"write-cost-per-byte\":0.0009765625,\"read-cpu-ms-cost\":0.3333333333333333},\"enable-controller-trace-log\":\"false\"}"] [ru-config="{\"ReadBaseCost\":0.125,\"ReadPerBatchBaseCost\":0.5,\"ReadBytesCost\":0.0000152587890625,\"WriteBaseCost\":1,\"WritePerBatchBaseCost\":1,\"WriteBytesCost\":0.0009765625,\"CPUMsCost\":0.3333333333333333,\"LTBMaxWaitDuration\":30000000000,\"WaitRetryInterval\":50000000,\"WaitRetryTimes\":10,\"DegradedModeWaitDuration\":0}"]
[2024/05/17 10:56:36.293 +08:00] [INFO] [domain.go:385] ["full load InfoSchema success"] [currentSchemaVersion=0] [neededSchemaVersion=51] ["start time"=10.330334ms]
[2024/05/17 10:56:36.297 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816715922243588] ["schema version"=51]
[2024/05/17 10:56:36.297 +08:00] [INFO] [domain.go:705] ["full load and reset schema validator"]
[2024/05/17 10:56:36.297 +08:00] [INFO] [ddl.go:818] ["start DDL"] [category=ddl] [ID=6a1ba40c-b116-4ea3-979e-4650e5920fc1] [runWorker=true]
[2024/05/17 10:56:36.298 +08:00] [INFO] [ddl.go:777] ["start delRangeManager OK"] [category=ddl] ["is a emulator"=true]
[2024/05/17 10:56:36.298 +08:00] [WARN] [env.go:51] ["initialize environment failed"] [category=ddl-ingest] ["storage limitation"="only support TiKV storage"] ["current storage"=unistore] ["lightning is initialized"=false]
[2024/05/17 10:56:36.298 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=loadSchemaInLoop]
[2024/05/17 10:56:36.298 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=mdlCheckLoop]
[2024/05/17 10:56:36.298 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=topNSlowQueryLoop]
[2024/05/17 10:56:36.298 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=infoSyncerKeeper]
[2024/05/17 10:56:36.298 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=globalConfigSyncerKeeper]
[2024/05/17 10:56:36.298 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=runawayStartLoop]
[2024/05/17 10:56:36.298 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=requestUnitsWriterLoop]
[2024/05/17 10:56:36.298 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=topologySyncerKeeper]
[2024/05/17 10:56:36.298 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=closestReplicaReadCheckLoop]
[2024/05/17 10:56:36.298 +08:00] [WARN] [domain.go:1396] ["pd / etcd client not provided, won't begin Advancer."]
[2024/05/17 10:56:36.309 +08:00] [INFO] [delete_range.go:172] ["start delRange emulator"] [category=ddl]
[2024/05/17 10:56:36.309 +08:00] [INFO] [job_table.go:334] ["get global state and global state change"] [category=ddl] [oldState=false] [currState=false]
[2024/05/17 10:56:36.309 +08:00] [INFO] [runaway.go:149] ["try to start runaway manager loop"]
[2024/05/17 10:56:36.309 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=requestUnitsWriterLoop]
[2024/05/17 10:56:36.318 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=globalBindHandleWorkerLoop]
[2024/05/17 10:56:36.318 +08:00] [WARN] [sysvar_cache.go:49] ["sysvar cache is empty, triggering rebuild"]
[2024/05/17 10:56:36.319 +08:00] [INFO] [sysvar.go:2748] ["set resource control"] [enable=true]
[2024/05/17 10:56:36.320 +08:00] [INFO] [controller.go:447] ["[resource group controller] create resource group cost controller"] [name=default]
[2024/05/17 10:56:36.325 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=loadPrivilegeInLoop]
[2024/05/17 10:56:36.326 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=LoadSysVarCacheLoop]
[2024/05/17 10:56:36.326 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=dumpFileGcChecker]
[2024/05/17 10:56:36.327 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=indexUsageWorker]
[2024/05/17 10:56:36.327 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=quitStatsOwner]
[2024/05/17 10:56:36.327 +08:00] [INFO] [domain.go:2340] ["start load stats sub workers"] ["worker count"=5]
[2024/05/17 10:56:36.328 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=loadSigningCertLoop]
[2024/05/17 10:56:36.328 +08:00] [INFO] [manager.go:113] ["build task executor manager"] [server-id=:4000] [total-cpu=1] [total-mem=32GiB]
[2024/05/17 10:56:36.329 +08:00] [INFO] [domain.go:2140] ["dumpFileGcChecker started"]
[2024/05/17 10:56:36.331 +08:00] [INFO] [task_manager.go:217] ["scale ttl worker"] [ttl-worker=job-manager] [ttl-worker=task-manager] [originalCount=0] [newCount=4]
[2024/05/17 10:56:36.331 +08:00] [INFO] [task_manager.go:217] ["scale ttl worker"] [ttl-worker=job-manager] [ttl-worker=task-manager] [originalCount=0] [newCount=4]
[2024/05/17 10:56:36.339 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=distTaskFrameworkLoop]
[2024/05/17 10:56:36.341 +08:00] [INFO] [manager.go:146] ["task executor manager start"] [server-id=:4000]
[2024/05/17 10:56:36.341 +08:00] [INFO] [domain.go:1595] ["dist task executor manager started"]
[2024/05/17 10:56:36.343 +08:00] [INFO] [set.go:170] ["set global var"] [conn=1] [name=tidb_schema_cache_size] [val=1024]
[2024/05/17 10:56:36.343 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=1] [schemaVersion=51] [cur_db=test] [sql="create table t(a int, b int, c int)"] [user=]
[2024/05/17 10:56:36.346 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:105, Type:create table, State:queueing, SchemaState:none, SchemaID:2, TableID:104, RowCount:0, ArgLen:2, start time: 2024-05-17 10:56:36.345 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:56:36.346 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:105, Type:create table, State:queueing, SchemaState:none, SchemaID:2, TableID:104, RowCount:0, ArgLen:2, start time: 2024-05-17 10:56:36.345 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="create table t(a int, b int, c int)"]
[2024/05/17 10:56:36.370 +08:00] [INFO] [job_table.go:334] ["get global state and global state change"] [category=ddl] [oldState=false] [currState=false]
[2024/05/17 10:56:36.371 +08:00] [INFO] [job_table.go:349] ["the owner sets owner operator value"] [category=ddl] [ownerOp=none]
[2024/05/17 10:56:36.376 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=105] [conn=1] [category=ddl] [job="ID:105, Type:create table, State:queueing, SchemaState:none, SchemaID:2, TableID:104, RowCount:0, ArgLen:0, start time: 2024-05-17 10:56:36.345 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:56:36.376 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816715952390150] ["schema version"=52]
[2024/05/17 10:56:36.376 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=51] [neededSchemaVersion=52] ["start time"=119.625µs] [gotSchemaVersion=52] [phyTblIDs="[104]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/17 10:56:36.377 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=105] [version=52]
[2024/05/17 10:56:36.378 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=52] ["take time"=2.00525ms] [job="ID:105, Type:create table, State:done, SchemaState:public, SchemaID:2, TableID:104, RowCount:0, ArgLen:2, start time: 2024-05-17 10:56:36.345 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:56:36.382 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=105] [conn=1] [job="ID:105, Type:create table, State:synced, SchemaState:public, SchemaID:2, TableID:104, RowCount:0, ArgLen:0, start time: 2024-05-17 10:56:36.345 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:56:36.384 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=105]
[2024/05/17 10:56:36.384 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:56:36.384 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816715952390150] ["schema version"=52]
[2024/05/17 10:56:36.385 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=1] [schemaVersion=52] [cur_db=test] [sql="alter table t add stats_extended s1 correlation(a,b)"] [user=]
[2024/05/17 10:56:36.388 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=1] [schemaVersion=52] [cur_db=test] [sql="alter table t add stats_extended s2 correlation(b,c)"] [user=]
[2024/05/17 10:56:36.389 +08:00] [INFO] [ddl.go:78] ["Handle ddl event"] [category=stats] [event="(Event Type: create table, Schema ID: 2, Table ID: 104, Table Name: t"]
[2024/05/17 10:56:36.402 +08:00] [INFO] [save.go:200] ["incrementally update modifyCount"] [category=stats] [tableID=104] [curModifyCnt=0] [results.BaseModifyCnt=0] [modifyCount=0]
[2024/05/17 10:56:36.402 +08:00] [INFO] [save.go:222] ["directly update count"] [category=stats] [tableID=104] [results.Count=3] [count=3]
[2024/05/17 10:56:36.411 +08:00] [INFO] [analyze.go:747] ["analyze table `test`.`t` has finished"] [partition=] ["job info"="analyze table all columns with 256 buckets, 500 topn, 1 samplerate"] ["start time"=2024/05/17 10:56:36.398 +08:00] ["end time"=2024/05/17 10:56:36.411 +08:00] [cost=12.579541ms] ["sample rate reason"="use min(1, 110000/10000) as the sample-rate=1"]
[2024/05/17 10:56:36.439 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=1] [schemaVersion=52] [cur_db=test] [sql="alter table t drop column a"] [user=]
[2024/05/17 10:56:36.440 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:106, Type:drop column, State:queueing, SchemaState:public, SchemaID:2, TableID:104, RowCount:0, ArgLen:2, start time: 2024-05-17 10:56:36.44 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:56:36.440 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:106, Type:drop column, State:queueing, SchemaState:public, SchemaID:2, TableID:104, RowCount:0, ArgLen:2, start time: 2024-05-17 10:56:36.44 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="alter table t drop column a"]
[2024/05/17 10:56:36.444 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=106] [conn=1] [category=ddl] [job="ID:106, Type:drop column, State:queueing, SchemaState:public, SchemaID:2, TableID:104, RowCount:0, ArgLen:0, start time: 2024-05-17 10:56:36.44 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:56:36.445 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816715970478082] ["schema version"=53]
[2024/05/17 10:56:36.445 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=52] [neededSchemaVersion=53] ["start time"=158.208µs] [gotSchemaVersion=53] [phyTblIDs="[104]"] [actionTypes="[6]"] [diffTypes="[\"drop column\"]"]
[2024/05/17 10:56:36.446 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=106] [version=53]
[2024/05/17 10:56:36.447 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=53] ["take time"=2.006875ms] [job="ID:106, Type:drop column, State:running, SchemaState:write only, SchemaID:2, TableID:104, RowCount:0, ArgLen:2, start time: 2024-05-17 10:56:36.44 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:56:36.451 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=106] [conn=1] [category=ddl] [job="ID:106, Type:drop column, State:running, SchemaState:write only, SchemaID:2, TableID:104, RowCount:0, ArgLen:0, start time: 2024-05-17 10:56:36.44 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:56:36.452 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816715972050952] ["schema version"=54]
[2024/05/17 10:56:36.452 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=53] [neededSchemaVersion=54] ["start time"=136.708µs] [gotSchemaVersion=54] [phyTblIDs="[104]"] [actionTypes="[6]"] [diffTypes="[\"drop column\"]"]
[2024/05/17 10:56:36.452 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=106] [version=54]
[2024/05/17 10:56:36.454 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=54] ["take time"=2.070125ms] [job="ID:106, Type:drop column, State:running, SchemaState:delete only, SchemaID:2, TableID:104, RowCount:0, ArgLen:3, start time: 2024-05-17 10:56:36.44 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:56:36.457 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=106] [conn=1] [category=ddl] [job="ID:106, Type:drop column, State:running, SchemaState:delete only, SchemaID:2, TableID:104, RowCount:0, ArgLen:0, start time: 2024-05-17 10:56:36.44 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:56:36.458 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816715973885952] ["schema version"=55]
[2024/05/17 10:56:36.458 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=54] [neededSchemaVersion=55] ["start time"=147.708µs] [gotSchemaVersion=55] [phyTblIDs="[104]"] [actionTypes="[6]"] [diffTypes="[\"drop column\"]"]
[2024/05/17 10:56:36.459 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=106] [version=55]
[2024/05/17 10:56:36.460 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=55] ["take time"=2.368667ms] [job="ID:106, Type:drop column, State:running, SchemaState:delete reorganization, SchemaID:2, TableID:104, RowCount:0, ArgLen:3, start time: 2024-05-17 10:56:36.44 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:56:36.464 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=106] [conn=1] [category=ddl] [job="ID:106, Type:drop column, State:running, SchemaState:delete reorganization, SchemaID:2, TableID:104, RowCount:0, ArgLen:0, start time: 2024-05-17 10:56:36.44 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:56:36.465 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816715975720960] ["schema version"=56]
[2024/05/17 10:56:36.465 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=55] [neededSchemaVersion=56] ["start time"=118.916µs] [gotSchemaVersion=56] [phyTblIDs="[104]"] [actionTypes="[6]"] [diffTypes="[\"drop column\"]"]
[2024/05/17 10:56:36.466 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=106] [version=56]
[2024/05/17 10:56:36.467 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=56] ["take time"=2.25775ms] [job="ID:106, Type:drop column, State:done, SchemaState:none, SchemaID:2, TableID:104, RowCount:0, ArgLen:4, start time: 2024-05-17 10:56:36.44 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:56:36.470 +08:00] [INFO] [delete_range.go:112] ["add job into delete-range table"] [category=ddl] [jobID=106] [jobType="drop column"]
[2024/05/17 10:56:36.470 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=106] [conn=1] [job="ID:106, Type:drop column, State:synced, SchemaState:none, SchemaID:2, TableID:104, RowCount:0, ArgLen:4, start time: 2024-05-17 10:56:36.44 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:56:36.474 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=106]
[2024/05/17 10:56:36.474 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:56:36.474 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816715975720960] ["schema version"=56]
[2024/05/17 10:56:36.503 +08:00] [INFO] [gc.go:343] ["mark mysql.stats_extended record as 'deleted' in GC due to dropped columns"] [table_name=t] [table_id=104] [stats_name=s1] [dropped_column_id=1]
[2024/05/17 10:56:36.512 +08:00] [INFO] [session.go:3959] ["CRUCIAL OPERATION"] [conn=1] [schemaVersion=56] [cur_db=test] [sql="drop table t"] [user=]
[2024/05/17 10:56:36.513 +08:00] [INFO] [ddl_worker.go:261] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:107, Type:drop table, State:queueing, SchemaState:public, SchemaID:2, TableID:104, RowCount:0, ArgLen:2, start time: 2024-05-17 10:56:36.512 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/17 10:56:36.513 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:107, Type:drop table, State:queueing, SchemaState:public, SchemaID:2, TableID:104, RowCount:0, ArgLen:2, start time: 2024-05-17 10:56:36.512 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="drop table t"]
[2024/05/17 10:56:36.517 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=107] [conn=1] [category=ddl] [job="ID:107, Type:drop table, State:queueing, SchemaState:public, SchemaID:2, TableID:104, RowCount:0, ArgLen:0, start time: 2024-05-17 10:56:36.512 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:56:36.518 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816715989614592] ["schema version"=57]
[2024/05/17 10:56:36.518 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=56] [neededSchemaVersion=57] ["start time"=44.791µs] [gotSchemaVersion=57] [phyTblIDs="[104]"] [actionTypes="[4]"] [diffTypes="[\"drop table\"]"]
[2024/05/17 10:56:36.518 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=107] [version=57]
[2024/05/17 10:56:36.520 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=57] ["take time"=2.03525ms] [job="ID:107, Type:drop table, State:running, SchemaState:write only, SchemaID:2, TableID:104, RowCount:0, ArgLen:2, start time: 2024-05-17 10:56:36.512 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:56:36.522 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=107] [conn=1] [category=ddl] [job="ID:107, Type:drop table, State:running, SchemaState:write only, SchemaID:2, TableID:104, RowCount:0, ArgLen:0, start time: 2024-05-17 10:56:36.512 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:56:36.524 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816715990925314] ["schema version"=58]
[2024/05/17 10:56:36.524 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=57] [neededSchemaVersion=58] ["start time"=42.791µs] [gotSchemaVersion=58] [phyTblIDs="[]"] [actionTypes="[]"] [diffTypes="[\"drop table\"]"]
[2024/05/17 10:56:36.525 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=107] [version=58]
[2024/05/17 10:56:36.526 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=58] ["take time"=2.060291ms] [job="ID:107, Type:drop table, State:running, SchemaState:delete only, SchemaID:2, TableID:104, RowCount:0, ArgLen:0, start time: 2024-05-17 10:56:36.512 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:56:36.529 +08:00] [INFO] [ddl_worker.go:1212] ["run DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=107] [conn=1] [category=ddl] [job="ID:107, Type:drop table, State:running, SchemaState:delete only, SchemaID:2, TableID:104, RowCount:0, ArgLen:0, start time: 2024-05-17 10:56:36.512 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:56:36.529 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816715992498182] ["schema version"=59]
[2024/05/17 10:56:36.529 +08:00] [INFO] [domain.go:350] ["diff load InfoSchema success"] [currentSchemaVersion=58] [neededSchemaVersion=59] ["start time"=39.458µs] [gotSchemaVersion=59] [phyTblIDs="[]"] [actionTypes="[]"] [diffTypes="[\"drop table\"]"]
[2024/05/17 10:56:36.530 +08:00] [INFO] [domain.go:957] ["mdl gets lock, update self version to owner"] [jobID=107] [version=59]
[2024/05/17 10:56:36.532 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=59] ["take time"=2.245708ms] [job="ID:107, Type:drop table, State:done, SchemaState:none, SchemaID:2, TableID:104, RowCount:0, ArgLen:3, start time: 2024-05-17 10:56:36.512 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:56:36.534 +08:00] [INFO] [delete_range.go:447] ["insert into delete-range table"] [category=ddl] [jobID=107] [tableIDs="[104]"] [comment="drop table: table ID"]
[2024/05/17 10:56:36.534 +08:00] [INFO] [delete_range.go:112] ["add job into delete-range table"] [category=ddl] [jobID=107] [jobType="drop table"]
[2024/05/17 10:56:36.535 +08:00] [INFO] [ddl_worker.go:765] ["finish DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=107] [conn=1] [job="ID:107, Type:drop table, State:synced, SchemaState:none, SchemaID:2, TableID:104, RowCount:0, ArgLen:3, start time: 2024-05-17 10:56:36.512 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/17 10:56:36.539 +08:00] [INFO] [delete_range.go:259] ["delRange emulator complete task"] [category=ddl] [category=ddl] [jobID=107] [elementID=1] [startKey=748000000000000068] [endKey=748000000000000069]
[2024/05/17 10:56:36.540 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=107]
[2024/05/17 10:56:36.540 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/17 10:56:36.540 +08:00] [INFO] [cache.go:230] ["INSERT SCHEMA"] ["schema ts"=449816715992498182] ["schema version"=59]
[2024/05/17 10:56:36.541 +08:00] [INFO] [ddl.go:78] ["Handle ddl event"] [category=stats] [event="(Event Type: drop table, Schema ID: 2, Old Table ID: 104, Old Table Name: t"]
[2024/05/17 10:56:36.547 +08:00] [INFO] [mock.go:106] ["owner manager is canceled"] [category=ddl] [ID=6a1ba40c-b116-4ea3-979e-4650e5920fc1] [ownerKey=/tidb/ddl/fg/owner]
[2024/05/17 10:56:36.547 +08:00] [INFO] [ddl_workerpool.go:82] ["closing workerPool"] [category=ddl]
[2024/05/17 10:56:36.547 +08:00] [INFO] [ddl_worker.go:188] ["DDL worker closed"] [worker="worker 4, tp add index"] [category=ddl] ["take time"=1.25µs]
[2024/05/17 10:56:36.547 +08:00] [INFO] [ddl_workerpool.go:82] ["closing workerPool"] [category=ddl]
[2024/05/17 10:56:36.547 +08:00] [INFO] [ddl_worker.go:188] ["DDL worker closed"] [worker="worker 3, tp general"] [category=ddl] ["take time"=458ns]
[2024/05/17 10:56:36.547 +08:00] [INFO] [ddl_workerpool.go:82] ["closing workerPool"] [category=ddl]
[2024/05/17 10:56:36.547 +08:00] [INFO] [delete_range.go:162] ["closing delRange"] [category=ddl]
[2024/05/17 10:56:36.547 +08:00] [INFO] [session_pool.go:99] ["closing session pool"] [category=ddl]
[2024/05/17 10:56:36.547 +08:00] [INFO] [ddl.go:951] ["DDL closed"] [category=ddl] [ID=6a1ba40c-b116-4ea3-979e-4650e5920fc1] ["take time"=2.145292ms]
[2024/05/17 10:56:36.547 +08:00] [INFO] [ddl.go:769] ["stop DDL"] [category=ddl] [ID=6a1ba40c-b116-4ea3-979e-4650e5920fc1]
[2024/05/17 10:56:36.547 +08:00] [INFO] [domain.go:1096] ["stopping ttlJobManager"]
[2024/05/17 10:56:36.547 +08:00] [INFO] [task_manager.go:194] ["shrink ttl worker"] [ttl-worker=job-manager] [ttl-worker=task-manager] [originalCount=4] [newCount=0]
[2024/05/17 10:56:36.547 +08:00] [INFO] [scan.go:309] ["ttlScanWorker loop exited."]
[2024/05/17 10:56:36.547 +08:00] [INFO] [scan.go:309] ["ttlScanWorker loop exited."]
[2024/05/17 10:56:36.547 +08:00] [INFO] [scan.go:309] ["ttlScanWorker loop exited."]
[2024/05/17 10:56:36.547 +08:00] [INFO] [scan.go:309] ["ttlScanWorker loop exited."]
[2024/05/17 10:56:36.547 +08:00] [INFO] [task_manager.go:194] ["shrink ttl worker"] [ttl-worker=job-manager] [ttl-worker=task-manager] [originalCount=4] [newCount=0]
[2024/05/17 10:56:36.547 +08:00] [INFO] [del.go:261] ["ttlDeleteWorker loop exited."]
[2024/05/17 10:56:36.547 +08:00] [INFO] [del.go:261] ["ttlDeleteWorker loop exited."]
[2024/05/17 10:56:36.547 +08:00] [INFO] [del.go:261] ["ttlDeleteWorker loop exited."]
[2024/05/17 10:56:36.547 +08:00] [INFO] [del.go:261] ["ttlDeleteWorker loop exited."]
[2024/05/17 10:56:36.547 +08:00] [INFO] [job_manager.go:174] ["ttlJobManager loop exited."] [ttl-worker=job-manager]
[2024/05/17 10:56:36.547 +08:00] [INFO] [domain.go:1107] ["ttlJobManager exited."]
[2024/05/17 10:56:36.547 +08:00] [INFO] [manager.go:280] ["recoverMetaLoop done"] [server-id=:4000]
[2024/05/17 10:56:36.547 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=mdlCheckLoop]
[2024/05/17 10:56:36.547 +08:00] [INFO] [domain.go:977] ["loadSchemaInLoop exited."]
[2024/05/17 10:56:36.547 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=loadSchemaInLoop]
[2024/05/17 10:56:36.547 +08:00] [INFO] [domain.go:1597] ["stopping dist task executor manager"]
[2024/05/17 10:56:36.547 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=loadSigningCertLoop]
[2024/05/17 10:56:36.547 +08:00] [INFO] [stats_syncload.go:216] ["SubLoadWorker exited."]
[2024/05/17 10:56:36.548 +08:00] [INFO] [stats_syncload.go:216] ["SubLoadWorker exited."]
[2024/05/17 10:56:36.548 +08:00] [INFO] [stats_syncload.go:216] ["SubLoadWorker exited."]
[2024/05/17 10:56:36.548 +08:00] [INFO] [stats_syncload.go:216] ["SubLoadWorker exited."]
[2024/05/17 10:56:36.548 +08:00] [INFO] [stats_syncload.go:216] ["SubLoadWorker exited."]
[2024/05/17 10:56:36.548 +08:00] [INFO] [mock.go:106] ["owner manager is canceled"] [category=ddl] [ID=6a1ba40c-b116-4ea3-979e-4650e5920fc1] [ownerKey=/tidb/stats/owner]
[2024/05/17 10:56:36.548 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=quitStatsOwner]
[2024/05/17 10:56:36.548 +08:00] [INFO] [domain.go:2423] ["indexUsageWorker exited."]
[2024/05/17 10:56:36.548 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=indexUsageWorker]
[2024/05/17 10:56:36.548 +08:00] [INFO] [domain.go:2144] ["dumpFileGcChecker exited."]
[2024/05/17 10:56:36.548 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=dumpFileGcChecker]
[2024/05/17 10:56:36.548 +08:00] [INFO] [domain.go:1820] ["LoadSysVarCacheLoop exited."]
[2024/05/17 10:56:36.548 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=LoadSysVarCacheLoop]
[2024/05/17 10:56:36.548 +08:00] [INFO] [domain.go:1770] ["loadPrivilegeInLoop exited."]
[2024/05/17 10:56:36.548 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=loadPrivilegeInLoop]
[2024/05/17 10:56:36.548 +08:00] [INFO] [mock.go:106] ["owner manager is canceled"] [category=ddl] [ID=6a1ba40c-b116-4ea3-979e-4650e5920fc1] [ownerKey=/tidb/bindinfo/owner]
[2024/05/17 10:56:36.548 +08:00] [INFO] [domain.go:1959] ["globalBindHandleWorkerLoop exited."]
[2024/05/17 10:56:36.548 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=globalBindHandleWorkerLoop]
[2024/05/17 10:56:36.548 +08:00] [INFO] [domain.go:831] ["topologySyncerKeeper exited."]
[2024/05/17 10:56:36.548 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=topologySyncerKeeper]
[2024/05/17 10:56:36.548 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=runawayStartLoop]
[2024/05/17 10:56:36.548 +08:00] [INFO] [domain.go:807] ["globalConfigSyncerKeeper exited."]
[2024/05/17 10:56:36.548 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=globalConfigSyncerKeeper]
[2024/05/17 10:56:36.548 +08:00] [INFO] [domain.go:781] ["infoSyncerKeeper exited."]
[2024/05/17 10:56:36.548 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=infoSyncerKeeper]
[2024/05/17 10:56:36.548 +08:00] [INFO] [domain.go:753] ["topNSlowQueryLoop exited."]
[2024/05/17 10:56:36.548 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=topNSlowQueryLoop]
[2024/05/17 10:56:36.548 +08:00] [INFO] [domain.go:1431] ["closestReplicaReadCheckLoop exited."]
[2024/05/17 10:56:36.548 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=closestReplicaReadCheckLoop]
[2024/05/17 10:56:36.548 +08:00] [INFO] [manager.go:179] ["handle tasks loop done"] [server-id=:4000]
[2024/05/17 10:56:36.548 +08:00] [INFO] [domain.go:1599] ["dist task executor manager stopped"]
[2024/05/17 10:56:36.548 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=distTaskFrameworkLoop]
[2024/05/17 10:56:36.548 +08:00] [INFO] [domain.go:1144] ["domain closed"] ["take time"=3.020292ms]
[2024/05/17 10:56:36.553 +08:00] [INFO] [db.go:567] ["Closing database"]
[2024/05/17 10:56:36.553 +08:00] [INFO] [db.go:592] ["Memtable flushed"]
[2024/05/17 10:56:36.553 +08:00] [INFO] [db.go:596] ["Compaction finished"]
[2024/05/17 10:56:36.553 +08:00] [INFO] [db.go:615] ["BlobManager finished"]
[2024/05/17 10:56:36.553 +08:00] [INFO] [db.go:619] ["ResourceManager finished"]
[2024/05/17 10:56:36.553 +08:00] [INFO] [db.go:625] ["Waiting for closer"]
--- FAIL: TestGCExtendedStats (1.20s)
    result.go:49: 
        	Error Trace:	/Users/bba/pc/tidb/pkg/testkit/result.go:49
        	            				/Users/bba/pc/tidb/pkg/statistics/handle/storage/gc_test.go:136
        	Error:      	Not equal: 
        	            	expected: "[s2 2 [2,3] 1.000000 2]\n"
        	            	actual  : "[s2 2 [2,3] 1.000000 1]\n"
        	            	
        	            	Diff:
        	            	--- Expected
        	            	+++ Actual
        	            	@@ -1,2 +1,2 @@
        	            	-[s2 2 [2,3] 1.000000 2]
        	            	+[s2 2 [2,3] 1.000000 1]
        	            	 
        	Test:       	TestGCExtendedStats
        	Messages:   	sql:select name, type, column_ids, stats, status from mysql.stats_extended, args:[]
FAIL
run all tasks takes 12m9.501821542s
make: *** [ut] Error 1
