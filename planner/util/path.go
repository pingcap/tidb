package util

import (
	"github.com/pingcap/parser/model"
	"github.com/pingcap/tidb/expression"
	"github.com/pingcap/tidb/util/ranger"
)

// AccessPath tells how we access one index or just access table.
type AccessPath struct {
	Index      *model.IndexInfo
	IdxCols    []*expression.Column
	IdxColLens []int
	Ranges     []*ranger.Range
	// CountAfterAccess is the row count after we apply range seek and before we use other filter to filter data.
	CountAfterAccess float64
	// CountAfterIndex is the row count after we apply filters on index and before we apply the table filters.
	CountAfterIndex float64
	AccessConds     []expression.Expression
	EqCondCount     int
	IndexFilters    []expression.Expression
	TableFilters    []expression.Expression
	// IsTablePath indicates whether this path is table path.
	IsTablePath bool
	// Forced means this path is generated by `use/force index()`.
	Forced    bool
	IsDNFCond bool
}
