cd tools/check; \
	GO111MODULE=on go build -o ../bin/ut ut.go
cd tools/check; \
	GO111MODULE=on go build -o ../bin/xprog xprog.go
GOBIN=/Users/bba/pc/tidb/tools/bin GO111MODULE=on go install github.com/pingcap/failpoint/failpoint-ctl@2eaa328
tools/bin/ut  || { find $PWD/ -type d | grep -vE "(\.git|tools)" | xargs tools/bin/failpoint-ctl disable; exit 1; }
2024/05/15 16:51:47 maxprocs: Leaving GOMAXPROCS=10: CPU quota undefined
ok  	github.com/pingcap/tidb/pkg/autoid_service	0.065s
?   	github.com/pingcap/tidb/pkg/bindinfo/internal	[no test files]
?   	github.com/pingcap/tidb/pkg/bindinfo/internal/logutil	[no test files]
?   	github.com/pingcap/tidb/pkg/bindinfo/norm	[no test files]
ok  	github.com/pingcap/tidb/pkg/bindinfo	0.013s
ok  	github.com/pingcap/tidb/pkg/bindinfo/tests	0.014s
ok  	github.com/pingcap/tidb/pkg/bindinfo/tests/timeout	0.013s
ok  	github.com/pingcap/tidb/pkg/config	0.013s
ok  	github.com/pingcap/tidb/pkg/ddl	0.017s
ok  	github.com/pingcap/tidb/pkg/ddl/copr	0.017s
?   	github.com/pingcap/tidb/pkg/ddl/ingest/testutil	[no test files]
?   	github.com/pingcap/tidb/pkg/ddl/logutil	[no test files]
?   	github.com/pingcap/tidb/pkg/ddl/resourcegroup	[no test files]
ok  	github.com/pingcap/tidb/pkg/ddl/ingest	0.020s
ok  	github.com/pingcap/tidb/pkg/ddl/ingest/tests	0.017s
ok  	github.com/pingcap/tidb/pkg/ddl/internal/session	0.020s
ok  	github.com/pingcap/tidb/pkg/ddl/label	0.026s
ok  	github.com/pingcap/tidb/pkg/ddl/placement	0.019s
ok  	github.com/pingcap/tidb/pkg/ddl/schematracker	0.016s
ok  	github.com/pingcap/tidb/pkg/ddl/syncer	0.015s
ok  	github.com/pingcap/tidb/pkg/ddl/tests/adminpause	0.015s
ok  	github.com/pingcap/tidb/pkg/ddl/tests/fail	0.016s
ok  	github.com/pingcap/tidb/pkg/ddl/tests/fastcreatetable	0.016s
ok  	github.com/pingcap/tidb/pkg/ddl/tests/fk	0.018s
ok  	github.com/pingcap/tidb/pkg/ddl/tests/indexmerge	0.016s
ok  	github.com/pingcap/tidb/pkg/ddl/tests/metadatalock	0.016s
ok  	github.com/pingcap/tidb/pkg/ddl/tests/multivaluedindex	0.016s
ok  	github.com/pingcap/tidb/pkg/ddl/tests/partition	0.006s
ok  	github.com/pingcap/tidb/pkg/ddl/tests/resourcegroup	0.006s
ok  	github.com/pingcap/tidb/pkg/ddl/tests/serial	0.005s
?   	github.com/pingcap/tidb/pkg/ddl/testutil	[no test files]
?   	github.com/pingcap/tidb/pkg/distsql/context	[no test files]
ok  	github.com/pingcap/tidb/pkg/ddl/tests/tiflash	0.008s
ok  	github.com/pingcap/tidb/pkg/ddl/util	0.014s
ok  	github.com/pingcap/tidb/pkg/ddl/util/callback	0.013s
ok  	github.com/pingcap/tidb/pkg/distsql	0.018s
ok  	github.com/pingcap/tidb/pkg/disttask/framework/handle	0.018s
?   	github.com/pingcap/tidb/pkg/disttask/framework/mock	[no test files]
?   	github.com/pingcap/tidb/pkg/disttask/framework/mock/execute	[no test files]
ok  	github.com/pingcap/tidb/pkg/disttask/framework/integrationtests	0.012s
ok  	github.com/pingcap/tidb/pkg/disttask/framework/planner	0.011s
ok  	github.com/pingcap/tidb/pkg/disttask/framework/proto	0.009s
?   	github.com/pingcap/tidb/pkg/disttask/framework/scheduler/mock	[no test files]
ok  	github.com/pingcap/tidb/pkg/disttask/framework/scheduler	0.011s
ok  	github.com/pingcap/tidb/pkg/disttask/framework/storage	0.026s
?   	github.com/pingcap/tidb/pkg/disttask/framework/taskexecutor/execute	[no test files]
?   	github.com/pingcap/tidb/pkg/disttask/framework/testutil	[no test files]
?   	github.com/pingcap/tidb/pkg/disttask/importinto/mock	[no test files]
ok  	github.com/pingcap/tidb/pkg/disttask/framework/taskexecutor	0.011s
ok  	github.com/pingcap/tidb/pkg/disttask/importinto	0.016s
ok  	github.com/pingcap/tidb/pkg/disttask/operator	0.018s
?   	github.com/pingcap/tidb/pkg/domain/metrics	[no test files]
?   	github.com/pingcap/tidb/pkg/domain/resourcegroup	[no test files]
ok  	github.com/pingcap/tidb/pkg/domain	0.015s
ok  	github.com/pingcap/tidb/pkg/domain/globalconfigsync	0.015s
ok  	github.com/pingcap/tidb/pkg/domain/infosync	0.014s
ok  	github.com/pingcap/tidb/pkg/errctx	0.025s
ok  	github.com/pingcap/tidb/pkg/errno	0.020s
ok  	github.com/pingcap/tidb/pkg/executor	0.013s
ok  	github.com/pingcap/tidb/pkg/executor/aggfuncs	0.021s
ok  	github.com/pingcap/tidb/pkg/executor/aggregate	0.005s
?   	github.com/pingcap/tidb/pkg/executor/internal/builder	[no test files]
?   	github.com/pingcap/tidb/pkg/executor/internal/testutil	[no test files]
?   	github.com/pingcap/tidb/pkg/executor/internal/util	[no test files]
ok  	github.com/pingcap/tidb/pkg/executor/importer	0.010s
ok  	github.com/pingcap/tidb/pkg/executor/internal/applycache	0.010s
ok  	github.com/pingcap/tidb/pkg/executor/internal/calibrateresource	0.023s
ok  	github.com/pingcap/tidb/pkg/executor/internal/exec	0.030s
ok  	github.com/pingcap/tidb/pkg/executor/internal/mpp	0.022s
ok  	github.com/pingcap/tidb/pkg/executor/internal/pdhelper	0.016s
ok  	github.com/pingcap/tidb/pkg/executor/internal/querywatch	0.021s
ok  	github.com/pingcap/tidb/pkg/executor/internal/vecgroupchecker	0.011s
?   	github.com/pingcap/tidb/pkg/executor/metrics	[no test files]
ok  	github.com/pingcap/tidb/pkg/executor/join	0.007s
ok  	github.com/pingcap/tidb/pkg/executor/lockstats	0.008s
ok  	github.com/pingcap/tidb/pkg/executor/mppcoordmanager	0.007s
ok  	github.com/pingcap/tidb/pkg/executor/sortexec	0.009s
ok  	github.com/pingcap/tidb/pkg/executor/test/admintest	0.018s
ok  	github.com/pingcap/tidb/pkg/executor/test/aggregate	0.009s
ok  	github.com/pingcap/tidb/pkg/executor/test/analyzetest	0.012s
ok  	github.com/pingcap/tidb/pkg/executor/test/analyzetest/memorycontrol	0.013s
ok  	github.com/pingcap/tidb/pkg/executor/test/analyzetest/panictest	0.018s
ok  	github.com/pingcap/tidb/pkg/executor/test/autoidtest	0.019s
ok  	github.com/pingcap/tidb/pkg/executor/test/ddl	0.022s
ok  	github.com/pingcap/tidb/pkg/executor/test/distsqltest	0.020s
ok  	github.com/pingcap/tidb/pkg/executor/test/executor	0.011s
ok  	github.com/pingcap/tidb/pkg/executor/test/fktest	0.009s
ok  	github.com/pingcap/tidb/pkg/executor/test/indexmergereadtest	0.014s
ok  	github.com/pingcap/tidb/pkg/executor/test/issuetest	0.014s
ok  	github.com/pingcap/tidb/pkg/executor/test/jointest	0.014s
ok  	github.com/pingcap/tidb/pkg/executor/test/jointest/hashjoin	0.011s
ok  	github.com/pingcap/tidb/pkg/executor/test/loaddatatest	0.011s
ok  	github.com/pingcap/tidb/pkg/executor/test/loadremotetest	0.013s
ok  	github.com/pingcap/tidb/pkg/executor/test/memtest	0.011s
ok  	github.com/pingcap/tidb/pkg/executor/test/oomtest	0.017s
ok  	github.com/pingcap/tidb/pkg/executor/test/passwordtest	0.011s
ok  	github.com/pingcap/tidb/pkg/executor/test/seqtest	0.007s
ok  	github.com/pingcap/tidb/pkg/executor/test/showtest	0.009s
ok  	github.com/pingcap/tidb/pkg/executor/test/simpletest	0.007s
ok  	github.com/pingcap/tidb/pkg/executor/test/splittest	0.010s
?   	github.com/pingcap/tidb/pkg/executor/unionexec	[no test files]
ok  	github.com/pingcap/tidb/pkg/executor/test/tiflashtest	0.010s
ok  	github.com/pingcap/tidb/pkg/executor/test/unstabletest	0.009s
ok  	github.com/pingcap/tidb/pkg/executor/test/writetest	0.016s
?   	github.com/pingcap/tidb/pkg/expression/generator/helper	[no test files]
ok  	github.com/pingcap/tidb/pkg/expression	0.016s
ok  	github.com/pingcap/tidb/pkg/expression/aggregation	0.036s
ok  	github.com/pingcap/tidb/pkg/expression/context	0.015s
ok  	github.com/pingcap/tidb/pkg/expression/contextopt	0.016s
ok  	github.com/pingcap/tidb/pkg/expression/contextsession	0.037s
ok  	github.com/pingcap/tidb/pkg/expression/contextstatic	0.018s
ok  	github.com/pingcap/tidb/pkg/expression/integration_test	0.017s
ok  	github.com/pingcap/tidb/pkg/expression/test/multivaluedindex	0.039s
?   	github.com/pingcap/tidb/pkg/extension/extensionimpl	[no test files]
ok  	github.com/pingcap/tidb/pkg/extension	0.012s
?   	github.com/pingcap/tidb/pkg/infoschema/context	[no test files]
?   	github.com/pingcap/tidb/pkg/infoschema/metrics	[no test files]
ok  	github.com/pingcap/tidb/pkg/infoschema	0.006s
ok  	github.com/pingcap/tidb/pkg/infoschema/internal	0.007s
?   	github.com/pingcap/tidb/pkg/lock	[no test files]
?   	github.com/pingcap/tidb/pkg/lock/context	[no test files]
ok  	github.com/pingcap/tidb/pkg/infoschema/perfschema	0.028s
ok  	github.com/pingcap/tidb/pkg/infoschema/test/cachetest	0.024s
ok  	github.com/pingcap/tidb/pkg/infoschema/test/clustertablestest	0.032s
ok  	github.com/pingcap/tidb/pkg/infoschema/test/infoschemav2test	0.029s
ok  	github.com/pingcap/tidb/pkg/keyspace	0.023s
ok  	github.com/pingcap/tidb/pkg/kv	0.033s
ok  	github.com/pingcap/tidb/pkg/meta	0.022s
ok  	github.com/pingcap/tidb/pkg/meta/autoid	0.020s
ok  	github.com/pingcap/tidb/pkg/metrics	0.015s
?   	github.com/pingcap/tidb/pkg/param	[no test files]
?   	github.com/pingcap/tidb/pkg/planner	[no test files]
?   	github.com/pingcap/tidb/pkg/planner/context	[no test files]
?   	github.com/pingcap/tidb/pkg/planner/contextimpl	[no test files]
ok  	github.com/pingcap/tidb/pkg/owner	0.013s
ok  	github.com/pingcap/tidb/pkg/planner/cardinality	0.013s
ok  	github.com/pingcap/tidb/pkg/planner/cascades	0.013s
?   	github.com/pingcap/tidb/pkg/planner/core/base	[no test files]
ok  	github.com/pingcap/tidb/pkg/planner/core	0.011s
ok  	github.com/pingcap/tidb/pkg/planner/core/casetest	0.013s
ok  	github.com/pingcap/tidb/pkg/planner/core/casetest/binaryplan	0.010s
ok  	github.com/pingcap/tidb/pkg/planner/core/casetest/cbotest	0.008s
ok  	github.com/pingcap/tidb/pkg/planner/core/casetest/correlated	0.007s
ok  	github.com/pingcap/tidb/pkg/planner/core/casetest/dag	0.009s
ok  	github.com/pingcap/tidb/pkg/planner/core/casetest/enforcempp	0.008s
ok  	github.com/pingcap/tidb/pkg/planner/core/casetest/flatplan	0.010s
ok  	github.com/pingcap/tidb/pkg/planner/core/casetest/hint	0.011s
ok  	github.com/pingcap/tidb/pkg/planner/core/casetest/index	0.009s
ok  	github.com/pingcap/tidb/pkg/planner/core/casetest/mpp	0.009s
ok  	github.com/pingcap/tidb/pkg/planner/core/casetest/parallelapply	0.011s
ok  	github.com/pingcap/tidb/pkg/planner/core/casetest/partition	0.519s
ok  	github.com/pingcap/tidb/pkg/planner/core/casetest/physicalplantest	0.008s
ok  	github.com/pingcap/tidb/pkg/planner/core/casetest/planstats	0.007s
ok  	github.com/pingcap/tidb/pkg/planner/core/casetest/pushdown	0.008s
ok  	github.com/pingcap/tidb/pkg/planner/core/casetest/rule	0.009s
?   	github.com/pingcap/tidb/pkg/planner/core/cost	[no test files]
ok  	github.com/pingcap/tidb/pkg/planner/core/casetest/scalarsubquery	0.011s
ok  	github.com/pingcap/tidb/pkg/planner/core/casetest/windows	0.011s
?   	github.com/pingcap/tidb/pkg/planner/core/metrics	[no test files]
?   	github.com/pingcap/tidb/pkg/planner/core/operator/baseimpl	[no test files]
ok  	github.com/pingcap/tidb/pkg/planner/core/issuetest	0.019s
ok  	github.com/pingcap/tidb/pkg/planner/core/tests/prepare	0.006s
?   	github.com/pingcap/tidb/pkg/planner/property	[no test files]
?   	github.com/pingcap/tidb/pkg/planner/util/coretestsdk	[no test files]
?   	github.com/pingcap/tidb/pkg/planner/util/coreusage	[no test files]
?   	github.com/pingcap/tidb/pkg/planner/util/costusage	[no test files]
?   	github.com/pingcap/tidb/pkg/planner/util/debugtrace	[no test files]
ok  	github.com/pingcap/tidb/pkg/planner/funcdep	0.008s
ok  	github.com/pingcap/tidb/pkg/planner/implementation	0.018s
ok  	github.com/pingcap/tidb/pkg/planner/memo	0.008s
ok  	github.com/pingcap/tidb/pkg/planner/pattern	0.014s
ok  	github.com/pingcap/tidb/pkg/planner/task	0.010s
ok  	github.com/pingcap/tidb/pkg/planner/util	0.016s
?   	github.com/pingcap/tidb/pkg/planner/util/optimizetrace	[no test files]
?   	github.com/pingcap/tidb/pkg/planner/util/utilfuncp	[no test files]
?   	github.com/pingcap/tidb/pkg/planner/util/tablesampler	[no test files]
ok  	github.com/pingcap/tidb/pkg/planner/util/fixcontrol	0.018s
?   	github.com/pingcap/tidb/pkg/privilege	[no test files]
?   	github.com/pingcap/tidb/pkg/privilege/conn	[no test files]
ok  	github.com/pingcap/tidb/pkg/plugin	0.006s
ok  	github.com/pingcap/tidb/pkg/plugin/conn_ip_example	0.006s
?   	github.com/pingcap/tidb/pkg/resourcemanager/pool	[no test files]
?   	github.com/pingcap/tidb/pkg/resourcemanager/poolmanager	[no test files]
?   	github.com/pingcap/tidb/pkg/resourcemanager/scheduler	[no test files]
ok  	github.com/pingcap/tidb/pkg/privilege/privileges	0.012s
ok  	github.com/pingcap/tidb/pkg/privilege/privileges/ldap	0.016s
ok  	github.com/pingcap/tidb/pkg/resourcemanager	0.012s
ok  	github.com/pingcap/tidb/pkg/resourcemanager/pool/spool	0.018s
ok  	github.com/pingcap/tidb/pkg/resourcemanager/pool/workerpool	0.016s
ok  	github.com/pingcap/tidb/pkg/resourcemanager/util	0.011s
?   	github.com/pingcap/tidb/pkg/server/err	[no test files]
?   	github.com/pingcap/tidb/pkg/server/handler	[no test files]
ok  	github.com/pingcap/tidb/pkg/server	0.018s
ok  	github.com/pingcap/tidb/pkg/server/handler/extractorhandler	0.009s
ok  	github.com/pingcap/tidb/pkg/server/handler/optimizor	0.021s
?   	github.com/pingcap/tidb/pkg/server/handler/tikvhandler	[no test files]
?   	github.com/pingcap/tidb/pkg/server/handler/ttlhandler	[no test files]
?   	github.com/pingcap/tidb/pkg/server/internal/handshake	[no test files]
?   	github.com/pingcap/tidb/pkg/server/internal/resultset	[no test files]
?   	github.com/pingcap/tidb/pkg/server/internal/testserverclient	[no test files]
?   	github.com/pingcap/tidb/pkg/server/internal/testutil	[no test files]
ok  	github.com/pingcap/tidb/pkg/server/handler/tests	0.014s
ok  	github.com/pingcap/tidb/pkg/server/internal	0.020s
ok  	github.com/pingcap/tidb/pkg/server/internal/column	0.020s
ok  	github.com/pingcap/tidb/pkg/server/internal/dump	0.027s
ok  	github.com/pingcap/tidb/pkg/server/internal/parse	0.032s
?   	github.com/pingcap/tidb/pkg/server/metrics	[no test files]
ok  	github.com/pingcap/tidb/pkg/server/internal/util	0.011s
?   	github.com/pingcap/tidb/pkg/server/tests/servertestkit	[no test files]
ok  	github.com/pingcap/tidb/pkg/server/tests	0.011s
ok  	github.com/pingcap/tidb/pkg/server/tests/commontest	0.015s
ok  	github.com/pingcap/tidb/pkg/server/tests/cursor	0.012s
?   	github.com/pingcap/tidb/pkg/session/metrics	[no test files]
ok  	github.com/pingcap/tidb/pkg/server/tests/tls	0.009s
ok  	github.com/pingcap/tidb/pkg/session	0.013s
ok  	github.com/pingcap/tidb/pkg/session/bootstraptest	0.020s
ok  	github.com/pingcap/tidb/pkg/session/clusteredindextest	0.016s
ok  	github.com/pingcap/tidb/pkg/session/nontransactionaltest	0.016s
ok  	github.com/pingcap/tidb/pkg/session/resourcegrouptest	0.020s
ok  	github.com/pingcap/tidb/pkg/session/schematest	0.011s
ok  	github.com/pingcap/tidb/pkg/session/temporarytabletest	0.010s
ok  	github.com/pingcap/tidb/pkg/session/test	0.011s
ok  	github.com/pingcap/tidb/pkg/session/test/common	0.012s
ok  	github.com/pingcap/tidb/pkg/session/test/meta	0.030s
ok  	github.com/pingcap/tidb/pkg/session/test/privileges	0.025s
ok  	github.com/pingcap/tidb/pkg/session/test/txn	0.029s
ok  	github.com/pingcap/tidb/pkg/session/test/variable	0.014s
?   	github.com/pingcap/tidb/pkg/session/types	[no test files]
?   	github.com/pingcap/tidb/pkg/session/txninfo	[no test files]
ok  	github.com/pingcap/tidb/pkg/session/test/vars	0.008s
ok  	github.com/pingcap/tidb/pkg/sessionctx	0.008s
ok  	github.com/pingcap/tidb/pkg/sessionctx/binloginfo	0.009s
ok  	github.com/pingcap/tidb/pkg/sessionctx/sessionstates	0.009s
?   	github.com/pingcap/tidb/pkg/sessionctx/sysproctrack	[no test files]
ok  	github.com/pingcap/tidb/pkg/sessionctx/stmtctx	0.007s
?   	github.com/pingcap/tidb/pkg/sessiontxn/internal	[no test files]
?   	github.com/pingcap/tidb/pkg/sessiontxn/isolation/metrics	[no test files]
ok  	github.com/pingcap/tidb/pkg/sessionctx/variable	0.010s
ok  	github.com/pingcap/tidb/pkg/sessiontxn	0.016s
ok  	github.com/pingcap/tidb/pkg/sessiontxn/isolation	0.016s
ok  	github.com/pingcap/tidb/pkg/sessiontxn/staleread	0.019s
?   	github.com/pingcap/tidb/pkg/statistics/handle/cache/internal	[no test files]
?   	github.com/pingcap/tidb/pkg/statistics/handle/cache/internal/testutil	[no test files]
?   	github.com/pingcap/tidb/pkg/statistics/handle/cache/internal/mapcache	[no test files]
?   	github.com/pingcap/tidb/pkg/statistics/handle/cache/internal/metrics	[no test files]
ok  	github.com/pingcap/tidb/pkg/statistics	0.009s
ok  	github.com/pingcap/tidb/pkg/statistics/handle	0.021s
ok  	github.com/pingcap/tidb/pkg/statistics/handle/autoanalyze	0.018s
ok  	github.com/pingcap/tidb/pkg/statistics/handle/autoanalyze/exec	0.036s
ok  	github.com/pingcap/tidb/pkg/statistics/handle/autoanalyze/priorityqueue	0.042s
ok  	github.com/pingcap/tidb/pkg/statistics/handle/autoanalyze/refresher	0.013s
ok  	github.com/pingcap/tidb/pkg/statistics/handle/cache	0.027s
ok  	github.com/pingcap/tidb/pkg/statistics/handle/cache/internal/lfu	0.031s
ok  	github.com/pingcap/tidb/pkg/statistics/handle/ddl	0.015s
?   	github.com/pingcap/tidb/pkg/statistics/handle/history	[no test files]
?   	github.com/pingcap/tidb/pkg/statistics/handle/logutil	[no test files]
?   	github.com/pingcap/tidb/pkg/statistics/handle/initstats	[no test files]
?   	github.com/pingcap/tidb/pkg/statistics/handle/metrics	[no test files]
?   	github.com/pingcap/tidb/pkg/statistics/handle/internal	[no test files]
ok  	github.com/pingcap/tidb/pkg/statistics/handle/globalstats	0.008s
ok  	github.com/pingcap/tidb/pkg/statistics/handle/handletest	0.012s
ok  	github.com/pingcap/tidb/pkg/statistics/handle/handletest/analyze	0.017s
ok  	github.com/pingcap/tidb/pkg/statistics/handle/handletest/lockstats	0.026s
ok  	github.com/pingcap/tidb/pkg/statistics/handle/handletest/statstest	0.022s
ok  	github.com/pingcap/tidb/pkg/statistics/handle/lockstats	0.029s
?   	github.com/pingcap/tidb/pkg/statistics/handle/types	[no test files]
ok  	github.com/pingcap/tidb/pkg/statistics/handle/storage	0.014s
ok  	github.com/pingcap/tidb/pkg/statistics/handle/syncload	0.014s
ok  	github.com/pingcap/tidb/pkg/statistics/handle/updatetest	0.007s
?   	github.com/pingcap/tidb/pkg/statistics/handle/util/test	[no test files]
?   	github.com/pingcap/tidb/pkg/store/copr/metrics	[no test files]
?   	github.com/pingcap/tidb/pkg/store/driver/backoff	[no test files]
ok  	github.com/pingcap/tidb/pkg/statistics/handle/usage	0.026s
ok  	github.com/pingcap/tidb/pkg/statistics/handle/usage/collector	0.027s
ok  	github.com/pingcap/tidb/pkg/statistics/handle/usage/indexusage	0.027s
ok  	github.com/pingcap/tidb/pkg/statistics/handle/util	0.027s
ok  	github.com/pingcap/tidb/pkg/store	0.027s
ok  	github.com/pingcap/tidb/pkg/store/copr	0.027s
ok  	github.com/pingcap/tidb/pkg/store/copr/copr_test	0.027s
ok  	github.com/pingcap/tidb/pkg/store/driver	0.026s
?   	github.com/pingcap/tidb/pkg/store/driver/options	[no test files]
ok  	github.com/pingcap/tidb/pkg/store/driver/error	0.006s
ok  	github.com/pingcap/tidb/pkg/store/driver/txn	0.006s
ok  	github.com/pingcap/tidb/pkg/store/gcworker	0.007s
ok  	github.com/pingcap/tidb/pkg/store/helper	0.008s
ok  	github.com/pingcap/tidb/pkg/store/mockstore	0.007s
?   	github.com/pingcap/tidb/pkg/store/mockstore/mockstorage	[no test files]
?   	github.com/pingcap/tidb/pkg/store/mockstore/unistore/tikv/dbreader	[no test files]
?   	github.com/pingcap/tidb/pkg/store/mockstore/unistore/tikv/kverrors	[no test files]
?   	github.com/pingcap/tidb/pkg/store/mockstore/unistore/tikv/mvcc	[no test files]
?   	github.com/pingcap/tidb/pkg/store/mockstore/unistore/tikv/pberror	[no test files]
?   	github.com/pingcap/tidb/pkg/store/mockstore/unistore/metrics	[no test files]
?   	github.com/pingcap/tidb/pkg/store/mockstore/unistore/client	[no test files]
?   	github.com/pingcap/tidb/pkg/store/mockstore/unistore/config	[no test files]
?   	github.com/pingcap/tidb/pkg/store/mockstore/unistore/pd	[no test files]
?   	github.com/pingcap/tidb/pkg/store/mockstore/unistore/server	[no test files]
ok  	github.com/pingcap/tidb/pkg/store/mockstore/mockcopr	0.014s
ok  	github.com/pingcap/tidb/pkg/store/mockstore/unistore	0.023s
ok  	github.com/pingcap/tidb/pkg/store/mockstore/unistore/cophandler	0.013s
ok  	github.com/pingcap/tidb/pkg/store/mockstore/unistore/lockstore	0.017s
ok  	github.com/pingcap/tidb/pkg/store/mockstore/unistore/tikv	0.013s
?   	github.com/pingcap/tidb/pkg/store/pdtypes	[no test files]
ok  	github.com/pingcap/tidb/pkg/store/mockstore/unistore/util/lockwaiter	0.008s
?   	github.com/pingcap/tidb/pkg/table/context	[no test files]
?   	github.com/pingcap/tidb/pkg/table/contextimpl	[no test files]
ok  	github.com/pingcap/tidb/pkg/structure	0.012s
ok  	github.com/pingcap/tidb/pkg/table	0.012s
?   	github.com/pingcap/tidb/pkg/testkit/ddlhelper	[no test files]
?   	github.com/pingcap/tidb/pkg/testkit/testenv	[no test files]
?   	github.com/pingcap/tidb/pkg/testkit/external	[no test files]
?   	github.com/pingcap/tidb/pkg/testkit/testmain	[no test files]
?   	github.com/pingcap/tidb/pkg/testkit/testsetup	[no test files]
ok  	github.com/pingcap/tidb/pkg/table/tables	0.008s
ok  	github.com/pingcap/tidb/pkg/table/tables/test/partition	0.017s
ok  	github.com/pingcap/tidb/pkg/table/temptable	0.032s
ok  	github.com/pingcap/tidb/pkg/tablecodec	0.027s
ok  	github.com/pingcap/tidb/pkg/tablecodec/rowindexcodec	0.035s
ok  	github.com/pingcap/tidb/pkg/testkit	0.012s
ok  	github.com/pingcap/tidb/pkg/testkit/testfork	0.021s
?   	github.com/pingcap/tidb/pkg/tidb-binlog/proto/go-binlog	[no test files]
ok  	github.com/pingcap/tidb/pkg/testkit/testutil	0.015s
ok  	github.com/pingcap/tidb/pkg/tidb-binlog/driver/reader	0.022s
ok  	github.com/pingcap/tidb/pkg/tidb-binlog/node	0.022s
ok  	github.com/pingcap/tidb/pkg/tidb-binlog/pump_client	0.009s
?   	github.com/pingcap/tidb/pkg/timer/metrics	[no test files]
ok  	github.com/pingcap/tidb/pkg/timer	0.012s
ok  	github.com/pingcap/tidb/pkg/timer/api	0.012s
ok  	github.com/pingcap/tidb/pkg/timer/runtime	0.012s
ok  	github.com/pingcap/tidb/pkg/timer/tablestore	0.014s
ok  	github.com/pingcap/tidb/pkg/ttl/cache	0.016s
ok  	github.com/pingcap/tidb/pkg/ttl/client	0.030s
ok  	github.com/pingcap/tidb/pkg/ttl/metrics	0.016s
ok  	github.com/pingcap/tidb/pkg/ttl/session	0.017s
ok  	github.com/pingcap/tidb/pkg/ttl/sqlbuilder	0.023s
ok  	github.com/pingcap/tidb/pkg/ttl/ttlworker	0.030s
ok  	github.com/pingcap/tidb/pkg/types	0.017s
ok  	github.com/pingcap/tidb/pkg/types/parser_driver	0.015s
ok  	github.com/pingcap/tidb/pkg/util	0.017s
ok  	github.com/pingcap/tidb/pkg/util/admin	0.037s
ok  	github.com/pingcap/tidb/pkg/util/arena	0.040s
ok  	github.com/pingcap/tidb/pkg/util/backoff	0.032s
ok  	github.com/pingcap/tidb/pkg/util/benchdaily	0.012s
?   	github.com/pingcap/tidb/pkg/util/breakpoint	[no test files]
ok  	github.com/pingcap/tidb/pkg/util/bitmap	0.005s
?   	github.com/pingcap/tidb/pkg/util/cgmon	[no test files]
?   	github.com/pingcap/tidb/pkg/util/channel	[no test files]
ok  	github.com/pingcap/tidb/pkg/util/cdcutil	0.010s
ok  	github.com/pingcap/tidb/pkg/util/cgroup	0.010s
ok  	github.com/pingcap/tidb/pkg/util/checksum	0.012s
?   	github.com/pingcap/tidb/pkg/util/collate/ucadata/generator	[no test files]
?   	github.com/pingcap/tidb/pkg/util/collate/ucaimpl	[no test files]
?   	github.com/pingcap/tidb/pkg/util/compress	[no test files]
ok  	github.com/pingcap/tidb/pkg/util/chunk	0.009s
ok  	github.com/pingcap/tidb/pkg/util/codec	0.018s
ok  	github.com/pingcap/tidb/pkg/util/collate	0.012s
ok  	github.com/pingcap/tidb/pkg/util/collate/ucadata	0.018s
ok  	github.com/pingcap/tidb/pkg/util/column-mapping	0.021s
ok  	github.com/pingcap/tidb/pkg/util/context	0.018s
ok  	github.com/pingcap/tidb/pkg/util/cpu	0.005s
?   	github.com/pingcap/tidb/pkg/util/cpuprofile/testutil	[no test files]
?   	github.com/pingcap/tidb/pkg/util/dbterror/exeerrors	[no test files]
ok  	github.com/pingcap/tidb/pkg/util/cpuprofile	0.012s
ok  	github.com/pingcap/tidb/pkg/util/cteutil	0.010s
ok  	github.com/pingcap/tidb/pkg/util/dbterror	0.009s
ok  	github.com/pingcap/tidb/pkg/util/dbterror/plannererrors	0.011s
?   	github.com/pingcap/tidb/pkg/util/dbutil/dbutiltest	[no test files]
?   	github.com/pingcap/tidb/pkg/util/domainutil	[no test files]
ok  	github.com/pingcap/tidb/pkg/util/dbutil	0.008s
ok  	github.com/pingcap/tidb/pkg/util/ddl-checker	0.015s
ok  	github.com/pingcap/tidb/pkg/util/deadlockhistory	0.021s
ok  	github.com/pingcap/tidb/pkg/util/disjointset	0.017s
ok  	github.com/pingcap/tidb/pkg/util/disk	0.015s
ok  	github.com/pingcap/tidb/pkg/util/disttask	0.024s
ok  	github.com/pingcap/tidb/pkg/util/encrypt	0.039s
ok  	github.com/pingcap/tidb/pkg/util/engine	0.027s
ok  	github.com/pingcap/tidb/pkg/util/etcd	0.034s
ok  	github.com/pingcap/tidb/pkg/util/execdetails	0.031s
ok  	github.com/pingcap/tidb/pkg/util/expensivequery	0.044s
ok  	github.com/pingcap/tidb/pkg/util/extsort	0.006s
ok  	github.com/pingcap/tidb/pkg/util/fastrand	0.008s
ok  	github.com/pingcap/tidb/pkg/util/filter	0.007s
ok  	github.com/pingcap/tidb/pkg/util/format	0.009s
?   	github.com/pingcap/tidb/pkg/util/gcutil	[no test files]
ok  	github.com/pingcap/tidb/pkg/util/gctuner	0.011s
?   	github.com/pingcap/tidb/pkg/util/hint	[no test files]
?   	github.com/pingcap/tidb/pkg/util/importer	[no test files]
?   	github.com/pingcap/tidb/pkg/util/israce	[no test files]
ok  	github.com/pingcap/tidb/pkg/util/generatedexpr	0.013s
ok  	github.com/pingcap/tidb/pkg/util/generic	0.027s
ok  	github.com/pingcap/tidb/pkg/util/globalconn	0.017s
ok  	github.com/pingcap/tidb/pkg/util/hack	0.013s
ok  	github.com/pingcap/tidb/pkg/util/intest	0.018s
ok  	github.com/pingcap/tidb/pkg/util/intset	0.023s
?   	github.com/pingcap/tidb/pkg/util/linter/constructor	[no test files]
?   	github.com/pingcap/tidb/pkg/util/logutil/consistency	[no test files]
?   	github.com/pingcap/tidb/pkg/util/metricsutil	[no test files]
?   	github.com/pingcap/tidb/pkg/util/nocopy	[no test files]
?   	github.com/pingcap/tidb/pkg/util/plancache	[no test files]
ok  	github.com/pingcap/tidb/pkg/util/keydecoder	0.009s
ok  	github.com/pingcap/tidb/pkg/util/kvcache	0.029s
ok  	github.com/pingcap/tidb/pkg/util/localpool	0.038s
ok  	github.com/pingcap/tidb/pkg/util/logutil	0.023s
ok  	github.com/pingcap/tidb/pkg/util/mathutil	0.024s
ok  	github.com/pingcap/tidb/pkg/util/memory	0.029s
ok  	github.com/pingcap/tidb/pkg/util/memoryusagealarm	0.033s
ok  	github.com/pingcap/tidb/pkg/util/mock	0.013s
ok  	github.com/pingcap/tidb/pkg/util/mvmap	0.049s
ok  	github.com/pingcap/tidb/pkg/util/paging	0.041s
ok  	github.com/pingcap/tidb/pkg/util/parser	0.057s
ok  	github.com/pingcap/tidb/pkg/util/password-validation	0.055s
ok  	github.com/pingcap/tidb/pkg/util/plancodec	0.010s
ok  	github.com/pingcap/tidb/pkg/util/prefetch	0.007s
ok  	github.com/pingcap/tidb/pkg/util/printer	0.009s
?   	github.com/pingcap/tidb/pkg/util/ranger/context	[no test files]
?   	github.com/pingcap/tidb/pkg/util/replayer	[no test files]
?   	github.com/pingcap/tidb/pkg/util/serialization	[no test files]
ok  	github.com/pingcap/tidb/pkg/util/profile	0.015s
ok  	github.com/pingcap/tidb/pkg/util/promutil	0.040s
ok  	github.com/pingcap/tidb/pkg/util/ranger	0.016s
ok  	github.com/pingcap/tidb/pkg/util/redact	0.018s
ok  	github.com/pingcap/tidb/pkg/util/regexpr-router	0.044s
ok  	github.com/pingcap/tidb/pkg/util/resourcegrouptag	0.028s
ok  	github.com/pingcap/tidb/pkg/util/rowDecoder	0.033s
ok  	github.com/pingcap/tidb/pkg/util/rowcodec	0.029s
ok  	github.com/pingcap/tidb/pkg/util/schemacmp	0.018s
ok  	github.com/pingcap/tidb/pkg/util/selection	0.052s
ok  	github.com/pingcap/tidb/pkg/util/sem	0.048s
ok  	github.com/pingcap/tidb/pkg/util/servermemorylimit	0.011s
ok  	github.com/pingcap/tidb/pkg/util/servicescope	0.019s
?   	github.com/pingcap/tidb/pkg/util/signal	[no test files]
?   	github.com/pingcap/tidb/pkg/util/size	[no test files]
?   	github.com/pingcap/tidb/pkg/util/sli	[no test files]
?   	github.com/pingcap/tidb/pkg/util/skip	[no test files]
ok  	github.com/pingcap/tidb/pkg/util/set	0.008s
ok  	github.com/pingcap/tidb/pkg/util/slice	0.011s
ok  	github.com/pingcap/tidb/pkg/util/sqlescape	0.015s
?   	github.com/pingcap/tidb/pkg/util/sqlexec/mock	[no test files]
?   	github.com/pingcap/tidb/pkg/util/sqlkiller	[no test files]
ok  	github.com/pingcap/tidb/pkg/util/sqlexec	0.010s
ok  	github.com/pingcap/tidb/pkg/util/stmtsummary	0.011s
ok  	github.com/pingcap/tidb/pkg/util/stmtsummary/v2	0.013s
?   	github.com/pingcap/tidb/pkg/util/syncutil	[no test files]
?   	github.com/pingcap/tidb/pkg/util/tiflash	[no test files]
?   	github.com/pingcap/tidb/pkg/util/tikvutil	[no test files]
?   	github.com/pingcap/tidb/pkg/util/tiflashcompute	[no test files]
?   	github.com/pingcap/tidb/pkg/util/tableutil	[no test files]
?   	github.com/pingcap/tidb/pkg/util/tls	[no test files]
?   	github.com/pingcap/tidb/pkg/util/topsql/collector/mock	[no test files]
ok  	github.com/pingcap/tidb/pkg/util/stmtsummary/v2/tests	0.010s
ok  	github.com/pingcap/tidb/pkg/util/stringutil	0.028s
ok  	github.com/pingcap/tidb/pkg/util/sys/linux	0.023s
ok  	github.com/pingcap/tidb/pkg/util/sys/storage	0.016s
ok  	github.com/pingcap/tidb/pkg/util/systimemon	0.043s
ok  	github.com/pingcap/tidb/pkg/util/table-filter	0.047s
ok  	github.com/pingcap/tidb/pkg/util/table-router	0.057s
ok  	github.com/pingcap/tidb/pkg/util/table-rule-selector	0.033s
ok  	github.com/pingcap/tidb/pkg/util/texttree	0.039s
ok  	github.com/pingcap/tidb/pkg/util/timeutil	0.010s
ok  	github.com/pingcap/tidb/pkg/util/topsql	0.019s
ok  	github.com/pingcap/tidb/pkg/util/topsql/collector	0.048s
?   	github.com/pingcap/tidb/pkg/util/topsql/reporter/metrics	[no test files]
?   	github.com/pingcap/tidb/pkg/util/topsql/reporter/mock	[no test files]
?   	github.com/pingcap/tidb/pkg/util/topsql/state	[no test files]
?   	github.com/pingcap/tidb/pkg/util/trxevents	[no test files]
?   	github.com/pingcap/tidb/pkg/util/versioninfo	[no test files]
?   	github.com/pingcap/tidb/tools/dashboard-linter	[no test files]
?   	github.com/pingcap/tidb/tools/fake-oauth	[no test files]
?   	github.com/pingcap/tidb/tools/gen-parquet	[no test files]
?   	github.com/pingcap/tidb/tools/patch-go	[no test files]
?   	github.com/pingcap/tidb/tools/tazel	[no test files]
ok  	github.com/pingcap/tidb/pkg/util/topsql/reporter	0.010s
ok  	github.com/pingcap/tidb/pkg/util/topsql/stmtstats	0.011s
ok  	github.com/pingcap/tidb/pkg/util/tracing	0.009s
ok  	github.com/pingcap/tidb/pkg/util/vitess	0.013s
ok  	github.com/pingcap/tidb/pkg/util/watcher	0.011s
ok  	github.com/pingcap/tidb/pkg/util/zeropool	0.009s
no test case in  pkg/bindinfo/internal
no test case in  pkg/bindinfo/internal/logutil
no test case in  pkg/bindinfo/norm
no test case in  pkg/ddl/ingest/testutil
no test case in  pkg/ddl/logutil
no test case in  pkg/ddl/resourcegroup
no test case in  pkg/ddl/testutil
no test case in  pkg/distsql/context
no test case in  pkg/disttask/framework/mock
no test case in  pkg/disttask/framework/mock/execute
no test case in  pkg/disttask/framework/scheduler/mock
no test case in  pkg/disttask/framework/taskexecutor/execute
no test case in  pkg/disttask/framework/testutil
no test case in  pkg/disttask/importinto/mock
no test case in  pkg/domain/metrics
no test case in  pkg/domain/resourcegroup
no test case in  pkg/executor/internal/builder
no test case in  pkg/executor/internal/testutil
no test case in  pkg/executor/internal/util
no test case in  pkg/executor/metrics
no test case in  pkg/executor/unionexec
no test case in  pkg/expression/generator/helper
no test case in  pkg/extension/extensionimpl
no test case in  pkg/infoschema/context
no test case in  pkg/infoschema/metrics
no test case in  pkg/lock
no test case in  pkg/lock/context
no test case in  pkg/param
no test case in  pkg/planner
no test case in  pkg/planner/context
no test case in  pkg/planner/contextimpl
no test case in  pkg/planner/core/base
no test case in  pkg/planner/core/cost
no test case in  pkg/planner/core/metrics
no test case in  pkg/planner/core/operator/baseimpl
no test case in  pkg/planner/property
no test case in  pkg/planner/util/coretestsdk
no test case in  pkg/planner/util/coreusage
no test case in  pkg/planner/util/costusage
no test case in  pkg/planner/util/debugtrace
no test case in  pkg/planner/util/optimizetrace
no test case in  pkg/planner/util/tablesampler
no test case in  pkg/planner/util/utilfuncp
no test case in  pkg/privilege
no test case in  pkg/privilege/conn
no test case in  pkg/resourcemanager/pool
no test case in  pkg/resourcemanager/poolmanager
no test case in  pkg/resourcemanager/scheduler
no test case in  pkg/server/err
no test case in  pkg/server/handler
no test case in  pkg/server/handler/tikvhandler
no test case in  pkg/server/handler/ttlhandler
no test case in  pkg/server/internal/handshake
no test case in  pkg/server/internal/resultset
no test case in  pkg/server/internal/testserverclient
no test case in  pkg/server/internal/testutil
no test case in  pkg/server/metrics
no test case in  pkg/server/tests/servertestkit
no test case in  pkg/session/metrics
no test case in  pkg/session/txninfo
no test case in  pkg/session/types
no test case in  pkg/sessionctx/sysproctrack
no test case in  pkg/sessiontxn/internal
no test case in  pkg/sessiontxn/isolation/metrics
no test case in  pkg/statistics/handle/cache/internal
no test case in  pkg/statistics/handle/cache/internal/mapcache
no test case in  pkg/statistics/handle/cache/internal/metrics
no test case in  pkg/statistics/handle/cache/internal/testutil
no test case in  pkg/statistics/handle/history
no test case in  pkg/statistics/handle/initstats
no test case in  pkg/statistics/handle/internal
no test case in  pkg/statistics/handle/logutil
no test case in  pkg/statistics/handle/metrics
no test case in  pkg/statistics/handle/types
no test case in  pkg/statistics/handle/util/test
no test case in  pkg/store/copr/metrics
no test case in  pkg/store/driver/backoff
no test case in  pkg/store/driver/options
no test case in  pkg/store/mockstore/mockstorage
no test case in  pkg/store/mockstore/unistore/client
no test case in  pkg/store/mockstore/unistore/config
no test case in  pkg/store/mockstore/unistore/metrics
no test case in  pkg/store/mockstore/unistore/pd
no test case in  pkg/store/mockstore/unistore/server
no test case in  pkg/store/mockstore/unistore/tikv/dbreader
no test case in  pkg/store/mockstore/unistore/tikv/kverrors
no test case in  pkg/store/mockstore/unistore/tikv/mvcc
no test case in  pkg/store/mockstore/unistore/tikv/pberror
no test case in  pkg/store/pdtypes
no test case in  pkg/table/context
no test case in  pkg/table/contextimpl
no test case in  pkg/testkit/ddlhelper
no test case in  pkg/testkit/external
no test case in  pkg/testkit/testenv
no test case in  pkg/testkit/testmain
no test case in  pkg/testkit/testsetup
no test case in  pkg/tidb-binlog/proto/go-binlog
no test case in  pkg/timer/metrics
no test case in  pkg/util/breakpoint
no test case in  pkg/util/cgmon
no test case in  pkg/util/channel
no test case in  pkg/util/collate/ucadata/generator
no test case in  pkg/util/collate/ucaimpl
no test case in  pkg/util/compress
no test case in  pkg/util/cpuprofile/testutil
no test case in  pkg/util/dbterror/exeerrors
no test case in  pkg/util/dbutil/dbutiltest
no test case in  pkg/util/domainutil
no test case in  pkg/util/gcutil
no test case in  pkg/util/hint
no test case in  pkg/util/importer
no test case in  pkg/util/israce
no test case in  pkg/util/linter/constructor
no test case in  pkg/util/logutil/consistency
no test case in  pkg/util/metricsutil
no test case in  pkg/util/nocopy
no test case in  pkg/util/plancache
no test case in  pkg/util/ranger/context
no test case in  pkg/util/replayer
no test case in  pkg/util/serialization
no test case in  pkg/util/signal
no test case in  pkg/util/size
no test case in  pkg/util/skip
no test case in  pkg/util/sli
no test case in  pkg/util/sqlexec/mock
no test case in  pkg/util/sqlkiller
no test case in  pkg/util/syncutil
no test case in  pkg/util/tableutil
no test case in  pkg/util/tiflash
no test case in  pkg/util/tiflashcompute
no test case in  pkg/util/tikvutil
no test case in  pkg/util/tls
no test case in  pkg/util/topsql/collector/mock
no test case in  pkg/util/topsql/reporter/metrics
no test case in  pkg/util/topsql/reporter/mock
no test case in  pkg/util/topsql/state
no test case in  pkg/util/trxevents
no test case in  pkg/util/versioninfo
no test case in  tools/dashboard-linter
no test case in  tools/fake-oauth
no test case in  tools/gen-parquet
no test case in  tools/patch-go
no test case in  tools/tazel
building task finish, parallelism=20, count=5182, takes=16m45.917369625s
[FAIL]  pkg/table/tables/test/partition TestReorgPartExtensivePart
err=exit status 2
[2024/05/15 17:09:37.331 +08:00] [INFO] [store_cache.go:510] ["change store resolve state"] [store=1] [addr=store1] [from=unresolved] [to=resolved] [liveness-state=reachable]
[2024/05/15 17:09:37.339 +08:00] [INFO] [ddl_api.go:1139] ["Automatically convert BLOB(65535) to MEDIUMBLOB"] [category=ddl]
[2024/05/15 17:09:37.339 +08:00] [INFO] [ddl_api.go:1139] ["Automatically convert BLOB(65535) to MEDIUMBLOB"] [category=ddl]
[2024/05/15 17:09:37.342 +08:00] [INFO] [ddl_api.go:1139] ["Automatically convert BLOB(65535) to MEDIUMBLOB"] [category=ddl]
[2024/05/15 17:09:37.342 +08:00] [INFO] [ddl_api.go:1139] ["Automatically convert BLOB(65535) to MEDIUMBLOB"] [category=ddl]
[2024/05/15 17:09:37.345 +08:00] [INFO] [ddl_api.go:1139] ["Automatically convert BLOB(65535) to MEDIUMBLOB"] [category=ddl]
[2024/05/15 17:09:37.348 +08:00] [INFO] [tidb.go:80] ["new domain"] [store=ec9ec6bd-d126-4dad-ac44-b089b7d264a6] ["ddl lease"=500ms] ["stats lease"=-1ns]
[2024/05/15 17:09:37.356 +08:00] [WARN] [controller.go:198] ["[resource group controller] server does not save config, load config failed"]
[2024/05/15 17:09:37.356 +08:00] [INFO] [controller.go:185] ["load resource controller config"] [config="{\"degraded-mode-wait-duration\":\"0s\",\"ltb-max-wait-duration\":\"30s\",\"wait-retry-interval\":\"50ms\",\"wait-retry-times\":10,\"request-unit\":{\"read-base-cost\":0.125,\"read-per-batch-base-cost\":0.5,\"read-cost-per-byte\":0.0000152587890625,\"write-base-cost\":1,\"write-per-batch-base-cost\":1,\"write-cost-per-byte\":0.0009765625,\"read-cpu-ms-cost\":0.3333333333333333},\"enable-controller-trace-log\":\"false\"}"] [ru-config="{\"ReadBaseCost\":0.125,\"ReadPerBatchBaseCost\":0.5,\"ReadBytesCost\":0.0000152587890625,\"WriteBaseCost\":1,\"WritePerBatchBaseCost\":1,\"WriteBytesCost\":0.0009765625,\"CPUMsCost\":0.3333333333333333,\"LTBMaxWaitDuration\":30000000000,\"WaitRetryInterval\":50000000,\"WaitRetryTimes\":10,\"DegradedModeWaitDuration\":0}"]
[2024/05/15 17:09:37.357 +08:00] [WARN] [domain.go:244] ["failed to get schema version"] [error="There is no Write MVCC info for the schema version"] [errorVerbose="There is no Write MVCC info for the schema version\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).getTimestampForSchemaVersionWithNonEmptyDiff\n\t/Users/bba/pc/tidb/pkg/domain/domain.go:343\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).loadInfoSchema\n\t/Users/bba/pc/tidb/pkg/domain/domain.go:242\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).Reload\n\t/Users/bba/pc/tidb/pkg/domain/domain.go:614\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).Init\n\t/Users/bba/pc/tidb/pkg/domain/domain.go:1268\ngithub.com/pingcap/tidb/pkg/session.(*domainMap).Get.func1\n\t/Users/bba/pc/tidb/pkg/session/tidb.go:92\ngithub.com/pingcap/tidb/pkg/util.RunWithRetry\n\t/Users/bba/pc/tidb/pkg/util/misc.go:70\ngithub.com/pingcap/tidb/pkg/session.(*domainMap).Get\n\t/Users/bba/pc/tidb/pkg/session/tidb.go:79\ngithub.com/pingcap/tidb/pkg/session.createSessionWithOpt\n\t/Users/bba/pc/tidb/pkg/session/session.go:3633\ngithub.com/pingcap/tidb/pkg/session.createSession\n\t/Users/bba/pc/tidb/pkg/session/session.go:3625\ngithub.com/pingcap/tidb/pkg/session.runInBootstrapSession\n\t/Users/bba/pc/tidb/pkg/session/session.go:3575\ngithub.com/pingcap/tidb/pkg/session.bootstrapSessionImpl\n\t/Users/bba/pc/tidb/pkg/session/session.go:3351\ngithub.com/pingcap/tidb/pkg/session.BootstrapSession\n\t/Users/bba/pc/tidb/pkg/session/session.go:3317\ngithub.com/pingcap/tidb/pkg/testkit.bootstrap\n\t/Users/bba/pc/tidb/pkg/testkit/mockstore.go:294\ngithub.com/pingcap/tidb/pkg/testkit.CreateMockStoreAndDomain\n\t/Users/bba/pc/tidb/pkg/testkit/mockstore.go:265\ngithub.com/pingcap/tidb/pkg/testkit.CreateMockStore\n\t/Users/bba/pc/tidb/pkg/testkit/mockstore.go:72\ngithub.com/pingcap/tidb/pkg/table/tables/test/partition.TestReorgPartExtensivePart\n\t/Users/bba/pc/tidb/pkg/table/tables/test/partition/partition_test.go:2434\ntesting.tRunner\n\t/Users/bba/.gvm/gos/go1.21.0/src/testing/testing.go:1595\nruntime.goexit\n\t/Users/bba/.gvm/gos/go1.21.0/src/runtime/asm_arm64.s:1197"] [version=0]
[2024/05/15 17:09:37.370 +08:00] [INFO] [domain.go:323] ["full load InfoSchema success"] [currentSchemaVersion=0] [neededSchemaVersion=0] ["start time"=11.152625ms]
[2024/05/15 17:09:37.370 +08:00] [INFO] [domain.go:643] ["full load and reset schema validator"]
[2024/05/15 17:09:37.370 +08:00] [INFO] [ddl.go:818] ["start DDL"] [category=ddl] [ID=4d068e89-73a7-4c10-9eb4-fe55390f243d] [runWorker=true]
[2024/05/15 17:09:37.371 +08:00] [INFO] [ddl.go:777] ["start delRangeManager OK"] [category=ddl] ["is a emulator"=true]
[2024/05/15 17:09:37.371 +08:00] [WARN] [env.go:51] ["initialize environment failed"] [category=ddl-ingest] ["storage limitation"="only support TiKV storage"] ["current storage"=unistore] ["lightning is initialized"=false]
[2024/05/15 17:09:37.372 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=loadSchemaInLoop]
[2024/05/15 17:09:37.372 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=mdlCheckLoop]
[2024/05/15 17:09:37.372 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=topNSlowQueryLoop]
[2024/05/15 17:09:37.372 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=infoSyncerKeeper]
[2024/05/15 17:09:37.372 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=globalConfigSyncerKeeper]
[2024/05/15 17:09:37.372 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=runawayStartLoop]
[2024/05/15 17:09:37.372 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=requestUnitsWriterLoop]
[2024/05/15 17:09:37.372 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=topologySyncerKeeper]
[2024/05/15 17:09:37.372 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=closestReplicaReadCheckLoop]
[2024/05/15 17:09:37.372 +08:00] [WARN] [domain.go:1334] ["pd / etcd client not provided, won't begin Advancer."]
[2024/05/15 17:09:37.383 +08:00] [INFO] [delete_range.go:172] ["start delRange emulator"] [category=ddl]
[2024/05/15 17:09:37.384 +08:00] [INFO] [job_table.go:334] ["get global state and global state change"] [category=ddl] [oldState=false] [currState=false]
[2024/05/15 17:09:37.384 +08:00] [INFO] [runaway.go:149] ["try to start runaway manager loop"]
[2024/05/15 17:09:37.384 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=requestUnitsWriterLoop]
[2024/05/15 17:09:37.434 +08:00] [INFO] [job_table.go:334] ["get global state and global state change"] [category=ddl] [oldState=false] [currState=false]
[2024/05/15 17:09:37.434 +08:00] [INFO] [job_table.go:349] ["the owner sets owner operator value"] [category=ddl] [ownerOp=none]
[2024/05/15 17:09:37.582 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=0] [cur_db=mysql] [sql="CREATE DATABASE IF NOT EXISTS test"] [user=]
[2024/05/15 17:09:37.589 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:3, Type:create schema, State:queueing, SchemaState:none, SchemaID:2, TableID:0, RowCount:0, ArgLen:1, start time: 2024-05-15 17:09:37.585 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:09:37.589 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:3, Type:create schema, State:queueing, SchemaState:none, SchemaID:2, TableID:0, RowCount:0, ArgLen:1, start time: 2024-05-15 17:09:37.585 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE DATABASE IF NOT EXISTS test"]
[2024/05/15 17:09:37.601 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=3] [category=ddl] [job="ID:3, Type:create schema, State:queueing, SchemaState:none, SchemaID:2, TableID:0, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:37.585 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:37.612 +08:00] [INFO] [domain.go:323] ["full load InfoSchema success"] [currentSchemaVersion=0] [neededSchemaVersion=1] ["start time"=8.169584ms]
[2024/05/15 17:09:37.613 +08:00] [INFO] [domain.go:643] ["full load and reset schema validator"]
[2024/05/15 17:09:37.614 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:09:37.614 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=3] [version=1]
[2024/05/15 17:09:37.616 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=1] ["take time"=12.158667ms] [job="ID:3, Type:create schema, State:done, SchemaState:public, SchemaID:2, TableID:0, RowCount:0, ArgLen:1, start time: 2024-05-15 17:09:37.585 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:37.620 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=3] [job="ID:3, Type:create schema, State:synced, SchemaState:public, SchemaID:2, TableID:0, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:37.585 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:37.623 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=3]
[2024/05/15 17:09:37.623 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:09:37.623 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=1] [cur_db=mysql] [sql="CREATE DATABASE IF NOT EXISTS `mysql`"] [user=]
[2024/05/15 17:09:37.623 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=1] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.user (\n\t\tHost\t\t\t\t\tCHAR(255),\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tauthentication_string\tTEXT,\n\t\tplugin\t\t\t\t\tCHAR(64),\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tProcess_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_db_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tSuper_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_user_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_slave_priv\t    \tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_client_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_role_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_role_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAccount_locked\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShutdown_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReload_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tFILE_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tConfig_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_Tablespace_Priv  ENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPassword_reuse_history  smallint unsigned DEFAULT NULL,\n\t\tPassword_reuse_time     smallint unsigned DEFAULT NULL,\n\t\tUser_attributes\t\t\tjson,\n\t\tToken_issuer\t\t\tVARCHAR(255),\n\t\tPassword_expired\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPassword_last_changed\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP(),\n\t\tPassword_lifetime\t\tSMALLINT UNSIGNED DEFAULT NULL,\n\t\tPRIMARY KEY (Host, User));"] [user=]
[2024/05/15 17:09:37.626 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:5, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:4, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:37.624 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:09:37.626 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:5, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:4, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:37.624 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.user (\n\t\tHost\t\t\t\t\tCHAR(255),\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tauthentication_string\tTEXT,\n\t\tplugin\t\t\t\t\tCHAR(64),\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tProcess_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_db_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tSuper_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_user_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_slave_priv\t    \tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_client_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_role_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_role_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAccount_locked\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShutdown_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReload_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tFILE_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tConfig_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_Tablespace_Priv  ENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPassword_reuse_history  smallint unsigned DEFAULT NULL,\n\t\tPassword_reuse_time     smallint unsigned DEFAULT NULL,\n\t\tUser_attributes\t\t\tjson,\n\t\tToken_issuer\t\t\tVARCHAR(255),\n\t\tPassword_expired\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPassword_last_changed\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP(),\n\t\tPassword_lifetime\t\tSMALLINT UNSIGNED DEFAULT NULL,\n\t\tPRIMARY KEY (Host, User));"]
[2024/05/15 17:09:37.631 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=5] [category=ddl] [job="ID:5, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:4, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:37.624 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:37.639 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=1] [neededSchemaVersion=2] ["start time"=1.26575ms] [gotSchemaVersion=2] [phyTblIDs="[4]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:09:37.641 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:09:37.641 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=5] [version=2]
[2024/05/15 17:09:37.644 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=2] ["take time"=5.747042ms] [job="ID:5, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:4, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:37.624 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:37.653 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=5] [job="ID:5, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:4, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:37.624 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:37.660 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=5]
[2024/05/15 17:09:37.660 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:09:37.660 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=2] [cur_db=mysql] [sql="CREATE TABLE  IF NOT EXISTS mysql.password_history (\n         Host char(255)  NOT NULL DEFAULT '',\n         User char(32)  NOT NULL DEFAULT '',\n         Password_timestamp timestamp(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6),\n         Password text,\n         PRIMARY KEY (Host,User,Password_timestamp )\n        ) COMMENT='Password history for user accounts' "] [user=]
[2024/05/15 17:09:37.662 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:7, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:6, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:37.661 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:09:37.662 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:7, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:6, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:37.661 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE  IF NOT EXISTS mysql.password_history (\n         Host char(255)  NOT NULL DEFAULT '',\n         User char(32)  NOT NULL DEFAULT '',\n         Password_timestamp timestamp(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6),\n         Password text,\n         PRIMARY KEY (Host,User,Password_timestamp )\n        ) COMMENT='Password history for user accounts' "]
[2024/05/15 17:09:37.667 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=7] [category=ddl] [job="ID:7, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:6, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:37.661 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:37.669 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=2] [neededSchemaVersion=3] ["start time"=245.667s] [gotSchemaVersion=3] [phyTblIDs="[6]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:09:37.670 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:09:37.670 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=7] [version=3]
[2024/05/15 17:09:37.671 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=3] ["take time"=2.048208ms] [job="ID:7, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:6, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:37.661 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:37.675 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=7] [job="ID:7, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:6, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:37.661 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:37.677 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=7]
[2024/05/15 17:09:37.677 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:09:37.677 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=3] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.global_priv (Host CHAR(255) NOT NULL DEFAULT '',User CHAR(80) NOT NULL DEFAULT '',Priv LONGTEXT NOT NULL DEFAULT '',PRIMARY KEY (Host, User))"] [user=]
[2024/05/15 17:09:37.679 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:9, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:8, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:37.678 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:09:37.679 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:9, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:8, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:37.678 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.global_priv (Host CHAR(255) NOT NULL DEFAULT '',User CHAR(80) NOT NULL DEFAULT '',Priv LONGTEXT NOT NULL DEFAULT '',PRIMARY KEY (Host, User))"]
[2024/05/15 17:09:37.682 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=9] [category=ddl] [job="ID:9, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:8, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:37.678 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:37.684 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=3] [neededSchemaVersion=4] ["start time"=259.042s] [gotSchemaVersion=4] [phyTblIDs="[8]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:09:37.685 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:09:37.685 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=9] [version=4]
[2024/05/15 17:09:37.687 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=4] ["take time"=2.851916ms] [job="ID:9, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:8, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:37.678 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:37.690 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=9] [job="ID:9, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:8, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:37.678 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:37.692 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=9]
[2024/05/15 17:09:37.692 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:09:37.692 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=4] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.db (\n\t\tHost\t\t\t\t\tCHAR(255),\n\t\tDB\t\t\t\t\t\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv \t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (Host, DB, User));"] [user=]
[2024/05/15 17:09:37.694 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:11, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:10, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:37.693 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:09:37.694 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:11, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:10, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:37.693 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.db (\n\t\tHost\t\t\t\t\tCHAR(255),\n\t\tDB\t\t\t\t\t\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv \t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (Host, DB, User));"]
[2024/05/15 17:09:37.698 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=11] [category=ddl] [job="ID:11, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:10, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:37.693 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:37.700 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=4] [neededSchemaVersion=5] ["start time"=540.292s] [gotSchemaVersion=5] [phyTblIDs="[10]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:09:37.701 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:09:37.701 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=11] [version=5]
[2024/05/15 17:09:37.702 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=5] ["take time"=2.220666ms] [job="ID:11, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:10, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:37.693 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:37.707 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=11] [job="ID:11, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:10, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:37.693 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:37.709 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=11]
[2024/05/15 17:09:37.709 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:09:37.709 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=5] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tables_priv (\n\t\tHost\t\tCHAR(255),\n\t\tDB\t\t\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tGrantor\t\tCHAR(77),\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tTable_priv\tSET('Select','Insert','Update','Delete','Create','Drop','Grant','Index','Alter','Create View','Show View','Trigger','References'),\n\t\tColumn_priv\tSET('Select','Insert','Update','References'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name));"] [user=]
[2024/05/15 17:09:37.711 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:13, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:12, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:37.71 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:09:37.711 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:13, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:12, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:37.71 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tables_priv (\n\t\tHost\t\tCHAR(255),\n\t\tDB\t\t\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tGrantor\t\tCHAR(77),\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tTable_priv\tSET('Select','Insert','Update','Delete','Create','Drop','Grant','Index','Alter','Create View','Show View','Trigger','References'),\n\t\tColumn_priv\tSET('Select','Insert','Update','References'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name));"]
[2024/05/15 17:09:37.714 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=13] [category=ddl] [job="ID:13, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:12, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:37.71 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:37.716 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=5] [neededSchemaVersion=6] ["start time"=262.791s] [gotSchemaVersion=6] [phyTblIDs="[12]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:09:37.717 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:09:37.717 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=13] [version=6]
[2024/05/15 17:09:37.718 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=6] ["take time"=2.151917ms] [job="ID:13, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:12, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:37.71 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:37.722 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=13] [job="ID:13, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:12, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:37.71 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:37.724 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=13]
[2024/05/15 17:09:37.724 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:09:37.724 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=6] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.columns_priv(\n\t\tHost\t\tCHAR(255),\n\t\tDB\t\t\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tColumn_name\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tColumn_priv\tSET('Select','Insert','Update','References'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name, Column_name));"] [user=]
[2024/05/15 17:09:37.725 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:15, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:14, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:37.725 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:09:37.726 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:15, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:14, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:37.725 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.columns_priv(\n\t\tHost\t\tCHAR(255),\n\t\tDB\t\t\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tColumn_name\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tColumn_priv\tSET('Select','Insert','Update','References'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name, Column_name));"]
[2024/05/15 17:09:37.729 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=15] [category=ddl] [job="ID:15, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:14, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:37.725 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:37.731 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=6] [neededSchemaVersion=7] ["start time"=252.666s] [gotSchemaVersion=7] [phyTblIDs="[14]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:09:37.732 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:09:37.732 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=15] [version=7]
[2024/05/15 17:09:37.733 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=7] ["take time"=2.0325ms] [job="ID:15, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:14, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:37.725 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:37.737 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=15] [job="ID:15, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:14, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:37.725 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:37.740 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=15]
[2024/05/15 17:09:37.740 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:09:37.740 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=7] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.GLOBAL_VARIABLES(\n\t\tVARIABLE_NAME  VARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE VARCHAR(16383) DEFAULT NULL);"] [user=]
[2024/05/15 17:09:37.741 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:17, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:16, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:37.74 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:09:37.741 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:17, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:16, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:37.74 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.GLOBAL_VARIABLES(\n\t\tVARIABLE_NAME  VARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE VARCHAR(16383) DEFAULT NULL);"]
[2024/05/15 17:09:37.745 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=17] [category=ddl] [job="ID:17, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:16, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:37.74 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:37.746 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=7] [neededSchemaVersion=8] ["start time"=153.125s] [gotSchemaVersion=8] [phyTblIDs="[16]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:09:37.746 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:09:37.746 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=17] [version=8]
[2024/05/15 17:09:37.748 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=8] ["take time"=2.034ms] [job="ID:17, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:16, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:37.74 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:37.752 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=17] [job="ID:17, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:16, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:37.74 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:37.753 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=17]
[2024/05/15 17:09:37.753 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:09:37.754 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=8] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb(\n\t\tVARIABLE_NAME  \tVARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE \tVARCHAR(1024) DEFAULT NULL,\n\t\tCOMMENT \t\tVARCHAR(1024));"] [user=]
[2024/05/15 17:09:37.755 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:19, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:18, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:37.754 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:09:37.755 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:19, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:18, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:37.754 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb(\n\t\tVARIABLE_NAME  \tVARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE \tVARCHAR(1024) DEFAULT NULL,\n\t\tCOMMENT \t\tVARCHAR(1024));"]
[2024/05/15 17:09:37.758 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=19] [category=ddl] [job="ID:19, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:18, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:37.754 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:37.759 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=8] [neededSchemaVersion=9] ["start time"=161.708s] [gotSchemaVersion=9] [phyTblIDs="[18]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:09:37.760 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:09:37.760 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=19] [version=9]
[2024/05/15 17:09:37.762 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=9] ["take time"=2.804083ms] [job="ID:19, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:18, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:37.754 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:37.767 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=19] [job="ID:19, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:18, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:37.754 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:37.768 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=19]
[2024/05/15 17:09:37.768 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:09:37.769 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=9] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.help_topic (\n  \t\thelp_topic_id \t\tINT(10) UNSIGNED NOT NULL,\n  \t\tname \t\t\t\tCHAR(64) NOT NULL,\n  \t\thelp_category_id \tSMALLINT(5) UNSIGNED NOT NULL,\n  \t\tdescription \t\tTEXT NOT NULL,\n  \t\texample \t\t\tTEXT NOT NULL,\n  \t\turl \t\t\t\tTEXT NOT NULL,\n  \t\tPRIMARY KEY (help_topic_id) clustered,\n  \t\tUNIQUE KEY name (name)\n\t\t) ENGINE=InnoDB DEFAULT CHARSET=utf8 STATS_PERSISTENT=0 COMMENT='help topics';"] [user=]
[2024/05/15 17:09:37.770 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:21, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:20, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:37.77 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:09:37.770 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:21, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:20, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:37.77 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.help_topic (\n  \t\thelp_topic_id \t\tINT(10) UNSIGNED NOT NULL,\n  \t\tname \t\t\t\tCHAR(64) NOT NULL,\n  \t\thelp_category_id \tSMALLINT(5) UNSIGNED NOT NULL,\n  \t\tdescription \t\tTEXT NOT NULL,\n  \t\texample \t\t\tTEXT NOT NULL,\n  \t\turl \t\t\t\tTEXT NOT NULL,\n  \t\tPRIMARY KEY (help_topic_id) clustered,\n  \t\tUNIQUE KEY name (name)\n\t\t) ENGINE=InnoDB DEFAULT CHARSET=utf8 STATS_PERSISTENT=0 COMMENT='help topics';"]
[2024/05/15 17:09:37.774 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=21] [category=ddl] [job="ID:21, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:20, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:37.77 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:37.775 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=9] [neededSchemaVersion=10] ["start time"=217.208s] [gotSchemaVersion=10] [phyTblIDs="[20]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:09:37.776 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:09:37.776 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=21] [version=10]
[2024/05/15 17:09:37.777 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=10] ["take time"=2.004875ms] [job="ID:21, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:20, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:37.77 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:37.781 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=21] [job="ID:21, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:20, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:37.77 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:37.783 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=21]
[2024/05/15 17:09:37.783 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:09:37.783 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=10] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_meta (\n\t\tversion \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\ttable_id \t\tBIGINT(64) NOT NULL,\n\t\tmodify_count\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcount \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tsnapshot        BIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tINDEX idx_ver(version),\n\t\tUNIQUE INDEX tbl(table_id)\n\t);"] [user=]
[2024/05/15 17:09:37.784 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:23, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:22, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:37.784 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:09:37.784 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:23, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:22, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:37.784 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_meta (\n\t\tversion \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\ttable_id \t\tBIGINT(64) NOT NULL,\n\t\tmodify_count\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcount \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tsnapshot        BIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tINDEX idx_ver(version),\n\t\tUNIQUE INDEX tbl(table_id)\n\t);"]
[2024/05/15 17:09:37.788 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=23] [category=ddl] [job="ID:23, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:22, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:37.784 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:37.790 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=10] [neededSchemaVersion=11] ["start time"=216.875s] [gotSchemaVersion=11] [phyTblIDs="[22]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:09:37.790 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:09:37.790 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=23] [version=11]
[2024/05/15 17:09:37.791 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=11] ["take time"=2.0405ms] [job="ID:23, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:22, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:37.784 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:37.796 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=23] [job="ID:23, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:22, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:37.784 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:37.797 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=23]
[2024/05/15 17:09:37.797 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:09:37.798 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=11] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_histograms (\n\t\ttable_id \t\t\tBIGINT(64) NOT NULL,\n\t\tis_index \t\t\tTINYINT(2) NOT NULL,\n\t\thist_id \t\t\tBIGINT(64) NOT NULL,\n\t\tdistinct_count \t\tBIGINT(64) NOT NULL,\n\t\tnull_count \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\ttot_col_size \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tmodify_count \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tversion \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tcm_sketch \t\t\tBLOB(6291456),\n\t\tstats_ver \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tflag \t\t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcorrelation \t\tDOUBLE NOT NULL DEFAULT 0,\n\t\tlast_analyze_pos \tLONGBLOB DEFAULT NULL,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id)\n\t);"] [user=]
[2024/05/15 17:09:37.798 +08:00] [INFO] [ddl_api.go:1139] ["Automatically convert BLOB(6291456) to MEDIUMBLOB"] [category=ddl]
[2024/05/15 17:09:37.799 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:25, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:24, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:37.798 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:09:37.799 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:25, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:24, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:37.798 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_histograms (\n\t\ttable_id \t\t\tBIGINT(64) NOT NULL,\n\t\tis_index \t\t\tTINYINT(2) NOT NULL,\n\t\thist_id \t\t\tBIGINT(64) NOT NULL,\n\t\tdistinct_count \t\tBIGINT(64) NOT NULL,\n\t\tnull_count \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\ttot_col_size \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tmodify_count \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tversion \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tcm_sketch \t\t\tBLOB(6291456),\n\t\tstats_ver \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tflag \t\t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcorrelation \t\tDOUBLE NOT NULL DEFAULT 0,\n\t\tlast_analyze_pos \tLONGBLOB DEFAULT NULL,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id)\n\t);"]
[2024/05/15 17:09:37.803 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=25] [category=ddl] [job="ID:25, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:24, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:37.798 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:37.805 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=11] [neededSchemaVersion=12] ["start time"=340.875s] [gotSchemaVersion=12] [phyTblIDs="[24]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:09:37.806 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:09:37.806 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=25] [version=12]
[2024/05/15 17:09:37.809 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=12] ["take time"=3.962125ms] [job="ID:25, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:24, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:37.798 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:37.817 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=25] [job="ID:25, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:24, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:37.798 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:37.821 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=25]
[2024/05/15 17:09:37.821 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:09:37.821 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=12] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_buckets (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tbucket_id \tBIGINT(64) NOT NULL,\n\t\tcount \t\tBIGINT(64) NOT NULL,\n\t\trepeats \tBIGINT(64) NOT NULL,\n\t\tupper_bound LONGBLOB NOT NULL,\n\t\tlower_bound LONGBLOB ,\n\t\tndv         BIGINT NOT NULL DEFAULT 0,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id, bucket_id)\n\t);"] [user=]
[2024/05/15 17:09:37.824 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:27, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:26, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:37.822 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:09:37.824 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:27, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:26, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:37.822 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_buckets (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tbucket_id \tBIGINT(64) NOT NULL,\n\t\tcount \t\tBIGINT(64) NOT NULL,\n\t\trepeats \tBIGINT(64) NOT NULL,\n\t\tupper_bound LONGBLOB NOT NULL,\n\t\tlower_bound LONGBLOB ,\n\t\tndv         BIGINT NOT NULL DEFAULT 0,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id, bucket_id)\n\t);"]
[2024/05/15 17:09:37.831 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=27] [category=ddl] [job="ID:27, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:26, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:37.822 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:37.834 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=12] [neededSchemaVersion=13] ["start time"=447.833s] [gotSchemaVersion=13] [phyTblIDs="[26]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:09:37.835 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:09:37.835 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=27] [version=13]
[2024/05/15 17:09:37.838 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=13] ["take time"=4.293375ms] [job="ID:27, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:26, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:37.822 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:37.842 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=27] [job="ID:27, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:26, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:37.822 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:37.844 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=27]
[2024/05/15 17:09:37.844 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:09:37.844 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=13] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_index (job_id, element_id)\n\t);"] [user=]
[2024/05/15 17:09:37.845 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:29, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:28, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:37.844 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:09:37.845 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:29, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:28, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:37.844 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_index (job_id, element_id)\n\t);"]
[2024/05/15 17:09:37.848 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=29] [category=ddl] [job="ID:29, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:28, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:37.844 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:37.850 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=13] [neededSchemaVersion=14] ["start time"=212.458s] [gotSchemaVersion=14] [phyTblIDs="[28]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:09:37.850 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:09:37.850 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=29] [version=14]
[2024/05/15 17:09:37.851 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=14] ["take time"=2.049417ms] [job="ID:29, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:28, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:37.844 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:37.855 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=29] [job="ID:29, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:28, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:37.844 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:37.857 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=29]
[2024/05/15 17:09:37.857 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:09:37.858 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=14] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range_done (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_done_index (job_id, element_id)\n\t);"] [user=]
[2024/05/15 17:09:37.859 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:31, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:30, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:37.858 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:09:37.859 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:31, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:30, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:37.858 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range_done (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_done_index (job_id, element_id)\n\t);"]
[2024/05/15 17:09:37.863 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=31] [category=ddl] [job="ID:31, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:30, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:37.858 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:37.864 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=14] [neededSchemaVersion=15] ["start time"=276.625s] [gotSchemaVersion=15] [phyTblIDs="[30]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:09:37.865 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:09:37.865 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=31] [version=15]
[2024/05/15 17:09:37.866 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=15] ["take time"=2.416583ms] [job="ID:31, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:30, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:37.858 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:37.870 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=31] [job="ID:31, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:30, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:37.858 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:37.872 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=31]
[2024/05/15 17:09:37.872 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:09:37.872 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=15] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_feedback (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tfeedback \tBLOB NOT NULL,\n\t\tINDEX hist(table_id, is_index, hist_id)\n\t);"] [user=]
[2024/05/15 17:09:37.873 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:33, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:32, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:37.873 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:09:37.873 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:33, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:32, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:37.873 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_feedback (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tfeedback \tBLOB NOT NULL,\n\t\tINDEX hist(table_id, is_index, hist_id)\n\t);"]
[2024/05/15 17:09:37.877 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=33] [category=ddl] [job="ID:33, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:32, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:37.873 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:37.878 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=15] [neededSchemaVersion=16] ["start time"=212.917s] [gotSchemaVersion=16] [phyTblIDs="[32]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:09:37.879 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:09:37.879 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=33] [version=16]
[2024/05/15 17:09:37.880 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=16] ["take time"=2.419833ms] [job="ID:33, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:32, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:37.873 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:37.884 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=33] [job="ID:33, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:32, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:37.873 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:37.886 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=33]
[2024/05/15 17:09:37.886 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:09:37.886 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=16] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.role_edges (\n\t\tFROM_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tFROM_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tWITH_ADMIN_OPTION \tENUM('N','Y') CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (FROM_HOST,FROM_USER,TO_HOST,TO_USER)\n\t);"] [user=]
[2024/05/15 17:09:37.887 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:35, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:34, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:37.887 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:09:37.887 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:35, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:34, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:37.887 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.role_edges (\n\t\tFROM_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tFROM_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tWITH_ADMIN_OPTION \tENUM('N','Y') CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (FROM_HOST,FROM_USER,TO_HOST,TO_USER)\n\t);"]
[2024/05/15 17:09:37.891 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=35] [category=ddl] [job="ID:35, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:34, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:37.887 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:37.893 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=16] [neededSchemaVersion=17] ["start time"=220.75s] [gotSchemaVersion=17] [phyTblIDs="[34]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:09:37.894 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:09:37.894 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=35] [version=17]
[2024/05/15 17:09:37.895 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=17] ["take time"=2.240708ms] [job="ID:35, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:34, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:37.887 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:37.899 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=35] [job="ID:35, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:34, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:37.887 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:37.901 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=35]
[2024/05/15 17:09:37.901 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:09:37.901 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=17] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.default_roles (\n\t\tHOST \t\t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tUSER \t\t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tDEFAULT_ROLE_HOST \tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '%',\n\t\tDEFAULT_ROLE_USER \tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tPRIMARY KEY (HOST,USER,DEFAULT_ROLE_HOST,DEFAULT_ROLE_USER)\n\t)"] [user=]
[2024/05/15 17:09:37.903 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:37, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:36, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:37.902 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:09:37.903 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:37, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:36, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:37.902 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.default_roles (\n\t\tHOST \t\t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tUSER \t\t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tDEFAULT_ROLE_HOST \tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '%',\n\t\tDEFAULT_ROLE_USER \tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tPRIMARY KEY (HOST,USER,DEFAULT_ROLE_HOST,DEFAULT_ROLE_USER)\n\t)"]
[2024/05/15 17:09:37.907 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=37] [category=ddl] [job="ID:37, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:36, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:37.902 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:37.909 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=17] [neededSchemaVersion=18] ["start time"=196.458s] [gotSchemaVersion=18] [phyTblIDs="[36]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:09:37.910 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:09:37.910 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=37] [version=18]
[2024/05/15 17:09:37.911 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=18] ["take time"=2.010542ms] [job="ID:37, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:36, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:37.902 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:37.915 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=37] [job="ID:37, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:36, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:37.902 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:37.917 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=37]
[2024/05/15 17:09:37.917 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:09:37.917 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=18] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.bind_info (\n\t\toriginal_sql TEXT NOT NULL,\n\t\tbind_sql TEXT NOT NULL,\n\t\tdefault_db TEXT NOT NULL,\n\t\tstatus TEXT NOT NULL,\n\t\tcreate_time TIMESTAMP(3) NOT NULL,\n\t\tupdate_time TIMESTAMP(3) NOT NULL,\n\t\tcharset TEXT NOT NULL,\n\t\tcollation TEXT NOT NULL,\n\t\tsource VARCHAR(10) NOT NULL DEFAULT 'unknown',\n\t\tsql_digest varchar(64),\n\t\tplan_digest varchar(64),\n\t\tINDEX sql_index(original_sql(700),default_db(68)) COMMENT \"accelerate the speed when add global binding query\",\n\t\tINDEX time_index(update_time) COMMENT \"accelerate the speed when querying with last update time\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"] [user=]
[2024/05/15 17:09:37.919 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:39, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:38, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:37.918 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:09:37.919 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:39, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:38, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:37.918 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.bind_info (\n\t\toriginal_sql TEXT NOT NULL,\n\t\tbind_sql TEXT NOT NULL,\n\t\tdefault_db TEXT NOT NULL,\n\t\tstatus TEXT NOT NULL,\n\t\tcreate_time TIMESTAMP(3) NOT NULL,\n\t\tupdate_time TIMESTAMP(3) NOT NULL,\n\t\tcharset TEXT NOT NULL,\n\t\tcollation TEXT NOT NULL,\n\t\tsource VARCHAR(10) NOT NULL DEFAULT 'unknown',\n\t\tsql_digest varchar(64),\n\t\tplan_digest varchar(64),\n\t\tINDEX sql_index(original_sql(700),default_db(68)) COMMENT \"accelerate the speed when add global binding query\",\n\t\tINDEX time_index(update_time) COMMENT \"accelerate the speed when querying with last update time\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"]
[2024/05/15 17:09:37.923 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=39] [category=ddl] [job="ID:39, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:38, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:37.918 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:37.925 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=18] [neededSchemaVersion=19] ["start time"=314.333s] [gotSchemaVersion=19] [phyTblIDs="[38]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:09:37.925 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:09:37.925 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=39] [version=19]
[2024/05/15 17:09:37.927 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=19] ["take time"=2.006584ms] [job="ID:39, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:38, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:37.918 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:37.931 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=39] [job="ID:39, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:38, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:37.918 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:37.933 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=39]
[2024/05/15 17:09:37.933 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:09:37.933 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=0] ["to ID"=1] ["table ID"=38] ["database ID"=1]
[2024/05/15 17:09:37.934 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=19] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_top_n (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tvalue \t\tLONGBLOB,\n\t\tcount \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\tINDEX tbl(table_id, is_index, hist_id)\n\t);"] [user=]
[2024/05/15 17:09:37.935 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:41, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:40, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:37.935 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:09:37.936 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:41, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:40, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:37.935 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_top_n (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tvalue \t\tLONGBLOB,\n\t\tcount \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\tINDEX tbl(table_id, is_index, hist_id)\n\t);"]
[2024/05/15 17:09:37.941 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=41] [category=ddl] [job="ID:41, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:40, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:37.935 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:37.942 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=19] [neededSchemaVersion=20] ["start time"=218.209s] [gotSchemaVersion=20] [phyTblIDs="[40]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:09:37.943 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:09:37.943 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=41] [version=20]
[2024/05/15 17:09:37.945 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=20] ["take time"=2.639375ms] [job="ID:41, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:40, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:37.935 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:37.949 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=41] [job="ID:41, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:40, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:37.935 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:37.951 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=41]
[2024/05/15 17:09:37.952 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:09:37.952 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=20] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.expr_pushdown_blacklist (\n\t\tname \t\tCHAR(100) NOT NULL,\n\t\tstore_type \tCHAR(100) NOT NULL DEFAULT 'tikv,tiflash,tidb',\n\t\treason \t\tVARCHAR(200)\n\t);"] [user=]
[2024/05/15 17:09:37.953 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:43, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:42, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:37.952 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:09:37.953 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:43, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:42, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:37.952 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.expr_pushdown_blacklist (\n\t\tname \t\tCHAR(100) NOT NULL,\n\t\tstore_type \tCHAR(100) NOT NULL DEFAULT 'tikv,tiflash,tidb',\n\t\treason \t\tVARCHAR(200)\n\t);"]
[2024/05/15 17:09:37.957 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=43] [category=ddl] [job="ID:43, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:42, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:37.952 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:37.958 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=20] [neededSchemaVersion=21] ["start time"=132.708s] [gotSchemaVersion=21] [phyTblIDs="[42]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:09:37.959 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:09:37.959 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=43] [version=21]
[2024/05/15 17:09:37.960 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=21] ["take time"=2.441167ms] [job="ID:43, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:42, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:37.952 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:37.965 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=43] [job="ID:43, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:42, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:37.952 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:37.966 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=43]
[2024/05/15 17:09:37.966 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:09:37.967 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=21] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.opt_rule_blacklist (\n\t\tname \tCHAR(100) NOT NULL\n\t);"] [user=]
[2024/05/15 17:09:37.968 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:45, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:44, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:37.967 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:09:37.968 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:45, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:44, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:37.967 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.opt_rule_blacklist (\n\t\tname \tCHAR(100) NOT NULL\n\t);"]
[2024/05/15 17:09:37.971 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=45] [category=ddl] [job="ID:45, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:44, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:37.967 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:37.973 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=21] [neededSchemaVersion=22] ["start time"=120.375s] [gotSchemaVersion=22] [phyTblIDs="[44]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:09:37.973 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:09:37.973 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=45] [version=22]
[2024/05/15 17:09:37.974 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=22] ["take time"=2.037459ms] [job="ID:45, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:44, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:37.967 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:37.978 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=45] [job="ID:45, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:44, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:37.967 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:37.980 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=45]
[2024/05/15 17:09:37.980 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:09:37.980 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=22] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_extended (\n\t\tname varchar(32) NOT NULL,\n\t\ttype tinyint(4) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tcolumn_ids varchar(32) NOT NULL,\n\t\tstats blob DEFAULT NULL,\n\t\tversion bigint(64) unsigned NOT NULL,\n\t\tstatus tinyint(4) NOT NULL,\n\t\tPRIMARY KEY(name, table_id),\n\t\tKEY idx_1 (table_id, status, version),\n\t\tKEY idx_2 (status, version)\n\t);"] [user=]
[2024/05/15 17:09:37.981 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:47, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:46, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:37.98 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:09:37.981 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:47, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:46, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:37.98 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_extended (\n\t\tname varchar(32) NOT NULL,\n\t\ttype tinyint(4) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tcolumn_ids varchar(32) NOT NULL,\n\t\tstats blob DEFAULT NULL,\n\t\tversion bigint(64) unsigned NOT NULL,\n\t\tstatus tinyint(4) NOT NULL,\n\t\tPRIMARY KEY(name, table_id),\n\t\tKEY idx_1 (table_id, status, version),\n\t\tKEY idx_2 (status, version)\n\t);"]
[2024/05/15 17:09:37.984 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=47] [category=ddl] [job="ID:47, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:46, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:37.98 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:37.987 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=22] [neededSchemaVersion=23] ["start time"=405.916s] [gotSchemaVersion=23] [phyTblIDs="[46]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:09:37.988 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:09:37.988 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=47] [version=23]
[2024/05/15 17:09:37.991 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=23] ["take time"=4.103083ms] [job="ID:47, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:46, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:37.98 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:37.998 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=47] [job="ID:47, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:46, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:37.98 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:38.002 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=47]
[2024/05/15 17:09:38.002 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:09:38.003 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=23] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_fm_sketch (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tvalue \t\tLONGBLOB,\n\t\tINDEX tbl(table_id, is_index, hist_id)\n\t);"] [user=]
[2024/05/15 17:09:38.006 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:49, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:48, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:38.006 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:09:38.006 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:49, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:48, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:38.006 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_fm_sketch (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tvalue \t\tLONGBLOB,\n\t\tINDEX tbl(table_id, is_index, hist_id)\n\t);"]
[2024/05/15 17:09:38.013 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=49] [category=ddl] [job="ID:49, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:48, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:38.006 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:38.015 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=23] [neededSchemaVersion=24] ["start time"=272.333s] [gotSchemaVersion=24] [phyTblIDs="[48]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:09:38.016 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:09:38.016 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=49] [version=24]
[2024/05/15 17:09:38.020 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=24] ["take time"=5.029875ms] [job="ID:49, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:48, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:38.006 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:38.024 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=49] [job="ID:49, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:48, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:38.006 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:38.026 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=49]
[2024/05/15 17:09:38.026 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:09:38.026 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=24] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.global_grants (\n\t\tUSER char(32) NOT NULL DEFAULT '',\n\t\tHOST char(255) NOT NULL DEFAULT '',\n\t\tPRIV char(32) NOT NULL DEFAULT '',\n\t\tWITH_GRANT_OPTION enum('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (USER,HOST,PRIV)\n\t);"] [user=]
[2024/05/15 17:09:38.028 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:51, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:50, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:38.027 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:09:38.028 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:51, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:50, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:38.027 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.global_grants (\n\t\tUSER char(32) NOT NULL DEFAULT '',\n\t\tHOST char(255) NOT NULL DEFAULT '',\n\t\tPRIV char(32) NOT NULL DEFAULT '',\n\t\tWITH_GRANT_OPTION enum('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (USER,HOST,PRIV)\n\t);"]
[2024/05/15 17:09:38.031 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=51] [category=ddl] [job="ID:51, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:50, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:38.027 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:38.033 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=24] [neededSchemaVersion=25] ["start time"=198.375s] [gotSchemaVersion=25] [phyTblIDs="[50]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:09:38.033 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:09:38.033 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=51] [version=25]
[2024/05/15 17:09:38.035 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=25] ["take time"=2.290583ms] [job="ID:51, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:50, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:38.027 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:38.039 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=51] [job="ID:51, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:50, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:38.027 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:38.041 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=51]
[2024/05/15 17:09:38.041 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:09:38.041 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=25] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.capture_plan_baselines_blacklist (\n\t\tid bigint(64) auto_increment,\n\t\tfilter_type varchar(32) NOT NULL COMMENT \"type of the filter, only db, table and frequency supported now\",\n\t\tfilter_value varchar(32) NOT NULL,\n\t\tkey idx(filter_type),\n\t\tprimary key(id)\n\t);"] [user=]
[2024/05/15 17:09:38.042 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:53, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:52, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:38.042 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:09:38.042 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:53, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:52, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:38.042 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.capture_plan_baselines_blacklist (\n\t\tid bigint(64) auto_increment,\n\t\tfilter_type varchar(32) NOT NULL COMMENT \"type of the filter, only db, table and frequency supported now\",\n\t\tfilter_value varchar(32) NOT NULL,\n\t\tkey idx(filter_type),\n\t\tprimary key(id)\n\t);"]
[2024/05/15 17:09:38.046 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=53] [category=ddl] [job="ID:53, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:52, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:38.042 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:38.047 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=25] [neededSchemaVersion=26] ["start time"=155.75s] [gotSchemaVersion=26] [phyTblIDs="[52]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:09:38.048 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:09:38.048 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=53] [version=26]
[2024/05/15 17:09:38.050 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=26] ["take time"=2.635834ms] [job="ID:53, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:52, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:38.042 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:38.053 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=53] [job="ID:53, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:52, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:38.042 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:38.055 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=53]
[2024/05/15 17:09:38.055 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:09:38.055 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=26] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.column_stats_usage (\n\t\ttable_id BIGINT(64) NOT NULL,\n\t\tcolumn_id BIGINT(64) NOT NULL,\n\t\tlast_used_at TIMESTAMP,\n\t\tlast_analyzed_at TIMESTAMP,\n\t\tPRIMARY KEY (table_id, column_id) CLUSTERED\n\t);"] [user=]
[2024/05/15 17:09:38.056 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:55, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:54, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:38.056 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:09:38.056 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:55, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:54, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:38.056 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.column_stats_usage (\n\t\ttable_id BIGINT(64) NOT NULL,\n\t\tcolumn_id BIGINT(64) NOT NULL,\n\t\tlast_used_at TIMESTAMP,\n\t\tlast_analyzed_at TIMESTAMP,\n\t\tPRIMARY KEY (table_id, column_id) CLUSTERED\n\t);"]
[2024/05/15 17:09:38.060 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=55] [category=ddl] [job="ID:55, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:54, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:38.056 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:38.061 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=26] [neededSchemaVersion=27] ["start time"=191.791s] [gotSchemaVersion=27] [phyTblIDs="[54]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:09:38.062 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:09:38.062 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=55] [version=27]
[2024/05/15 17:09:38.063 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=27] ["take time"=2.020042ms] [job="ID:55, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:54, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:38.056 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:38.067 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=55] [job="ID:55, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:54, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:38.056 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:38.069 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=55]
[2024/05/15 17:09:38.069 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:09:38.069 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=27] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.table_cache_meta (\n\t\ttid bigint(11) NOT NULL DEFAULT 0,\n\t\tlock_type enum('NONE','READ', 'INTEND', 'WRITE') NOT NULL DEFAULT 'NONE',\n\t\tlease bigint(20) NOT NULL DEFAULT 0,\n\t\toldReadLease bigint(20) NOT NULL DEFAULT 0,\n\t\tPRIMARY KEY (tid)\n\t);"] [user=]
[2024/05/15 17:09:38.070 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:57, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:56, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:38.069 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:09:38.070 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:57, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:56, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:38.069 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.table_cache_meta (\n\t\ttid bigint(11) NOT NULL DEFAULT 0,\n\t\tlock_type enum('NONE','READ', 'INTEND', 'WRITE') NOT NULL DEFAULT 'NONE',\n\t\tlease bigint(20) NOT NULL DEFAULT 0,\n\t\toldReadLease bigint(20) NOT NULL DEFAULT 0,\n\t\tPRIMARY KEY (tid)\n\t);"]
[2024/05/15 17:09:38.073 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=57] [category=ddl] [job="ID:57, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:56, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:38.069 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:38.074 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=27] [neededSchemaVersion=28] ["start time"=155.375s] [gotSchemaVersion=28] [phyTblIDs="[56]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:09:38.075 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:09:38.075 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=57] [version=28]
[2024/05/15 17:09:38.076 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=28] ["take time"=2.006042ms] [job="ID:57, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:56, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:38.069 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:38.080 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=57] [job="ID:57, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:56, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:38.069 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:38.081 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=57]
[2024/05/15 17:09:38.081 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:09:38.081 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=28] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.analyze_options (\n\t\ttable_id BIGINT(64) NOT NULL,\n\t\tsample_num BIGINT(64) NOT NULL DEFAULT 0,\n\t\tsample_rate DOUBLE NOT NULL DEFAULT -1,\n\t\tbuckets BIGINT(64) NOT NULL DEFAULT 0,\n\t\ttopn BIGINT(64) NOT NULL DEFAULT -1,\n\t\tcolumn_choice enum('DEFAULT','ALL','PREDICATE','LIST') NOT NULL DEFAULT 'DEFAULT',\n\t\tcolumn_ids TEXT(19372),\n\t\tPRIMARY KEY (table_id) CLUSTERED\n\t);"] [user=]
[2024/05/15 17:09:38.082 +08:00] [INFO] [ddl_api.go:1139] ["Automatically convert BLOB(19372) to MEDIUMBLOB"] [category=ddl]
[2024/05/15 17:09:38.083 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:59, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:58, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:38.082 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:09:38.083 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:59, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:58, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:38.082 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.analyze_options (\n\t\ttable_id BIGINT(64) NOT NULL,\n\t\tsample_num BIGINT(64) NOT NULL DEFAULT 0,\n\t\tsample_rate DOUBLE NOT NULL DEFAULT -1,\n\t\tbuckets BIGINT(64) NOT NULL DEFAULT 0,\n\t\ttopn BIGINT(64) NOT NULL DEFAULT -1,\n\t\tcolumn_choice enum('DEFAULT','ALL','PREDICATE','LIST') NOT NULL DEFAULT 'DEFAULT',\n\t\tcolumn_ids TEXT(19372),\n\t\tPRIMARY KEY (table_id) CLUSTERED\n\t);"]
[2024/05/15 17:09:38.086 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=59] [category=ddl] [job="ID:59, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:58, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:38.082 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:38.088 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=28] [neededSchemaVersion=29] ["start time"=211.542s] [gotSchemaVersion=29] [phyTblIDs="[58]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:09:38.088 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:09:38.088 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=59] [version=29]
[2024/05/15 17:09:38.089 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=29] ["take time"=2.004541ms] [job="ID:59, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:58, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:38.082 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:38.093 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=59] [job="ID:59, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:58, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:38.082 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:38.095 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=59]
[2024/05/15 17:09:38.095 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:09:38.095 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=29] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_history (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tstats_data longblob NOT NULL,\n\t\tseq_no bigint(64) NOT NULL comment 'sequence number of the gzipped data slice',\n\t\tversion bigint(64) NOT NULL comment 'stats version which corresponding to stats:version in EXPLAIN',\n\t\tcreate_time datetime(6) NOT NULL,\n\t\tUNIQUE KEY table_version_seq (table_id, version, seq_no),\n\t\tKEY table_create_time (table_id, create_time, seq_no),\n    \tKEY idx_create_time (create_time)\n\t);"] [user=]
[2024/05/15 17:09:38.096 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:61, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:60, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:38.096 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:09:38.096 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:61, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:60, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:38.096 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_history (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tstats_data longblob NOT NULL,\n\t\tseq_no bigint(64) NOT NULL comment 'sequence number of the gzipped data slice',\n\t\tversion bigint(64) NOT NULL comment 'stats version which corresponding to stats:version in EXPLAIN',\n\t\tcreate_time datetime(6) NOT NULL,\n\t\tUNIQUE KEY table_version_seq (table_id, version, seq_no),\n\t\tKEY table_create_time (table_id, create_time, seq_no),\n    \tKEY idx_create_time (create_time)\n\t);"]
[2024/05/15 17:09:38.100 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=61] [category=ddl] [job="ID:61, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:60, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:38.096 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:38.102 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=29] [neededSchemaVersion=30] ["start time"=261.708s] [gotSchemaVersion=30] [phyTblIDs="[60]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:09:38.102 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:09:38.102 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=61] [version=30]
[2024/05/15 17:09:38.103 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=30] ["take time"=2.087125ms] [job="ID:61, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:60, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:38.096 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:38.107 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=61] [job="ID:61, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:60, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:38.096 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:38.109 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=61]
[2024/05/15 17:09:38.109 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:09:38.109 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=30] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_meta_history (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tmodify_count bigint(64) NOT NULL,\n\t\tcount bigint(64) NOT NULL,\n\t\tversion bigint(64) NOT NULL comment 'stats version which corresponding to stats:version in EXPLAIN',\n    \tsource varchar(40) NOT NULL,\n\t\tcreate_time datetime(6) NOT NULL,\n\t\tUNIQUE KEY table_version (table_id, version),\n\t\tKEY table_create_time (table_id, create_time),\n    \tKEY idx_create_time (create_time)\n\t);"] [user=]
[2024/05/15 17:09:38.110 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:63, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:62, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:38.11 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:09:38.111 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:63, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:62, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:38.11 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_meta_history (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tmodify_count bigint(64) NOT NULL,\n\t\tcount bigint(64) NOT NULL,\n\t\tversion bigint(64) NOT NULL comment 'stats version which corresponding to stats:version in EXPLAIN',\n    \tsource varchar(40) NOT NULL,\n\t\tcreate_time datetime(6) NOT NULL,\n\t\tUNIQUE KEY table_version (table_id, version),\n\t\tKEY table_create_time (table_id, create_time),\n    \tKEY idx_create_time (create_time)\n\t);"]
[2024/05/15 17:09:38.116 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=63] [category=ddl] [job="ID:63, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:62, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:38.11 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:38.121 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=30] [neededSchemaVersion=31] ["start time"=268.458s] [gotSchemaVersion=31] [phyTblIDs="[62]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:09:38.122 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:09:38.122 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=63] [version=31]
[2024/05/15 17:09:38.123 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=31] ["take time"=2.2435ms] [job="ID:63, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:62, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:38.11 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:38.127 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=63] [job="ID:63, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:62, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:38.11 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:38.129 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=63]
[2024/05/15 17:09:38.129 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:09:38.130 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=31] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.analyze_jobs (\n\t\tid BIGINT(64) UNSIGNED NOT NULL AUTO_INCREMENT,\n\t\tupdate_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\ttable_schema CHAR(64) NOT NULL DEFAULT '',\n\t\ttable_name CHAR(64) NOT NULL DEFAULT '',\n\t\tpartition_name CHAR(64) NOT NULL DEFAULT '',\n\t\tjob_info TEXT NOT NULL,\n\t\tprocessed_rows BIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tstart_time TIMESTAMP,\n\t\tend_time TIMESTAMP,\n\t\tstate ENUM('pending', 'running', 'finished', 'failed') NOT NULL,\n\t\tfail_reason TEXT,\n\t\tinstance VARCHAR(512) NOT NULL comment 'address of the TiDB instance executing the analyze job',\n\t\tprocess_id BIGINT(64) UNSIGNED comment 'ID of the process executing the analyze job',\n\t\tPRIMARY KEY (id),\n\t\tKEY (update_time)\n\t);"] [user=]
[2024/05/15 17:09:38.131 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:65, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:64, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:38.13 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:09:38.131 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:65, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:64, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:38.13 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.analyze_jobs (\n\t\tid BIGINT(64) UNSIGNED NOT NULL AUTO_INCREMENT,\n\t\tupdate_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\ttable_schema CHAR(64) NOT NULL DEFAULT '',\n\t\ttable_name CHAR(64) NOT NULL DEFAULT '',\n\t\tpartition_name CHAR(64) NOT NULL DEFAULT '',\n\t\tjob_info TEXT NOT NULL,\n\t\tprocessed_rows BIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tstart_time TIMESTAMP,\n\t\tend_time TIMESTAMP,\n\t\tstate ENUM('pending', 'running', 'finished', 'failed') NOT NULL,\n\t\tfail_reason TEXT,\n\t\tinstance VARCHAR(512) NOT NULL comment 'address of the TiDB instance executing the analyze job',\n\t\tprocess_id BIGINT(64) UNSIGNED comment 'ID of the process executing the analyze job',\n\t\tPRIMARY KEY (id),\n\t\tKEY (update_time)\n\t);"]
[2024/05/15 17:09:38.136 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=65] [category=ddl] [job="ID:65, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:64, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:38.13 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:38.138 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=31] [neededSchemaVersion=32] ["start time"=341.459s] [gotSchemaVersion=32] [phyTblIDs="[64]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:09:38.138 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:09:38.138 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=65] [version=32]
[2024/05/15 17:09:38.140 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=32] ["take time"=2.151083ms] [job="ID:65, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:64, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:38.13 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:38.144 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=65] [job="ID:65, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:64, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:38.13 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:38.146 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=65]
[2024/05/15 17:09:38.146 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:09:38.146 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=32] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.advisory_locks (\n\t\tlock_name VARCHAR(64) NOT NULL PRIMARY KEY\n\t);"] [user=]
[2024/05/15 17:09:38.148 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:67, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:66, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:38.147 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:09:38.148 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:67, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:66, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:38.147 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.advisory_locks (\n\t\tlock_name VARCHAR(64) NOT NULL PRIMARY KEY\n\t);"]
[2024/05/15 17:09:38.152 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=67] [category=ddl] [job="ID:67, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:66, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:38.147 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:38.154 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=32] [neededSchemaVersion=33] ["start time"=248.125s] [gotSchemaVersion=33] [phyTblIDs="[66]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:09:38.155 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:09:38.155 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=67] [version=33]
[2024/05/15 17:09:38.157 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=33] ["take time"=3.192125ms] [job="ID:67, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:66, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:38.147 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:38.161 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=67] [job="ID:67, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:66, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:38.147 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:38.163 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=67]
[2024/05/15 17:09:38.163 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:09:38.168 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:69, Type:create view, State:queueing, SchemaState:none, SchemaID:1, TableID:68, RowCount:0, ArgLen:3, start time: 2024-05-15 17:09:38.167 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:09:38.168 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:69, Type:create view, State:queueing, SchemaState:none, SchemaID:1, TableID:68, RowCount:0, ArgLen:3, start time: 2024-05-15 17:09:38.167 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE OR REPLACE VIEW mysql.tidb_mdl_view as (\n\t\tSELECT tidb_mdl_info.job_id,\n\t\t\tJSON_UNQUOTE(JSON_EXTRACT(cast(cast(job_meta as char) as json), \"$.schema_name\")) as db_name,\n\t\t\tJSON_UNQUOTE(JSON_EXTRACT(cast(cast(job_meta as char) as json), \"$.table_name\")) as table_name,\n\t\t\tJSON_UNQUOTE(JSON_EXTRACT(cast(cast(job_meta as char) as json), \"$.query\")) as query,\n\t\t\tsession_id,\n\t\t\tcluster_tidb_trx.start_time,\n\t\t\ttidb_decode_sql_digests(all_sql_digests, 4096) AS SQL_DIGESTS\n\t\tFROM mysql.tidb_ddl_job,\n\t\t\tmysql.tidb_mdl_info,\n\t\t\tinformation_schema.cluster_tidb_trx\n\t\tWHERE tidb_ddl_job.job_id=tidb_mdl_info.job_id\n\t\t\tAND CONCAT(',', tidb_mdl_info.table_ids, ',') REGEXP CONCAT(',(', REPLACE(cluster_tidb_trx.related_table_ids, ',', '|'), '),') != 0\n\t);"]
[2024/05/15 17:09:38.173 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=69] [category=ddl] [job="ID:69, Type:create view, State:queueing, SchemaState:none, SchemaID:1, TableID:68, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:38.167 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:38.175 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=33] [neededSchemaVersion=34] ["start time"=250.667s] [gotSchemaVersion=34] [phyTblIDs="[68]"] [actionTypes="[21]"] [diffTypes="[\"create view\"]"]
[2024/05/15 17:09:38.176 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:09:38.176 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=69] [version=34]
[2024/05/15 17:09:38.178 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=34] ["take time"=2.793167ms] [job="ID:69, Type:create view, State:done, SchemaState:public, SchemaID:1, TableID:68, RowCount:0, ArgLen:3, start time: 2024-05-15 17:09:38.167 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:38.187 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=69] [job="ID:69, Type:create view, State:synced, SchemaState:public, SchemaID:1, TableID:68, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:38.167 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:38.190 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=69]
[2024/05/15 17:09:38.190 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:09:38.191 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=34] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.plan_replayer_status (\n\t\tsql_digest VARCHAR(128),\n\t\tplan_digest VARCHAR(128),\n\t\torigin_sql TEXT,\n\t\ttoken VARCHAR(128),\n\t\tupdate_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\tfail_reason TEXT,\n\t\tinstance VARCHAR(512) NOT NULL comment 'address of the TiDB instance executing the plan replayer job');"] [user=]
[2024/05/15 17:09:38.194 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:71, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:70, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:38.191 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:09:38.194 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:71, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:70, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:38.191 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.plan_replayer_status (\n\t\tsql_digest VARCHAR(128),\n\t\tplan_digest VARCHAR(128),\n\t\torigin_sql TEXT,\n\t\ttoken VARCHAR(128),\n\t\tupdate_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\tfail_reason TEXT,\n\t\tinstance VARCHAR(512) NOT NULL comment 'address of the TiDB instance executing the plan replayer job');"]
[2024/05/15 17:09:38.201 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=71] [category=ddl] [job="ID:71, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:70, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:38.191 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:38.202 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=34] [neededSchemaVersion=35] ["start time"=313.167s] [gotSchemaVersion=35] [phyTblIDs="[70]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:09:38.205 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:09:38.205 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=71] [version=35]
[2024/05/15 17:09:38.207 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=35] ["take time"=5.385291ms] [job="ID:71, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:70, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:38.191 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:38.215 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=71] [job="ID:71, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:70, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:38.191 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:38.217 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=71]
[2024/05/15 17:09:38.217 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:09:38.217 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=35] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.plan_replayer_task (\n\t\tsql_digest VARCHAR(128) NOT NULL,\n\t\tplan_digest VARCHAR(128) NOT NULL,\n\t\tupdate_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\tPRIMARY KEY (sql_digest,plan_digest));"] [user=]
[2024/05/15 17:09:38.219 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:73, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:72, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:38.218 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:09:38.219 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:73, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:72, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:38.218 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.plan_replayer_task (\n\t\tsql_digest VARCHAR(128) NOT NULL,\n\t\tplan_digest VARCHAR(128) NOT NULL,\n\t\tupdate_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\tPRIMARY KEY (sql_digest,plan_digest));"]
[2024/05/15 17:09:38.223 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=73] [category=ddl] [job="ID:73, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:72, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:38.218 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:38.225 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=35] [neededSchemaVersion=36] ["start time"=192.917s] [gotSchemaVersion=36] [phyTblIDs="[72]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:09:38.226 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:09:38.226 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=73] [version=36]
[2024/05/15 17:09:38.227 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=36] ["take time"=2.052417ms] [job="ID:73, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:72, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:38.218 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:38.231 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=73] [job="ID:73, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:72, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:38.218 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:38.233 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=73]
[2024/05/15 17:09:38.233 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:09:38.233 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=36] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_table_locked(\n\t\ttable_id bigint(64) NOT NULL,\n\t\tmodify_count bigint(64) NOT NULL DEFAULT 0,\n\t\tcount bigint(64) NOT NULL DEFAULT 0,\n\t\tversion bigint(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tPRIMARY KEY (table_id));"] [user=]
[2024/05/15 17:09:38.235 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:75, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:74, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:38.234 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:09:38.235 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:75, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:74, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:38.234 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_table_locked(\n\t\ttable_id bigint(64) NOT NULL,\n\t\tmodify_count bigint(64) NOT NULL DEFAULT 0,\n\t\tcount bigint(64) NOT NULL DEFAULT 0,\n\t\tversion bigint(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tPRIMARY KEY (table_id));"]
[2024/05/15 17:09:38.240 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=75] [category=ddl] [job="ID:75, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:74, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:38.234 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:38.242 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=36] [neededSchemaVersion=37] ["start time"=169.333s] [gotSchemaVersion=37] [phyTblIDs="[74]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:09:38.243 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:09:38.243 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=75] [version=37]
[2024/05/15 17:09:38.244 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=37] ["take time"=2.368083ms] [job="ID:75, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:74, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:38.234 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:38.248 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=75] [job="ID:75, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:74, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:38.234 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:38.250 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=75]
[2024/05/15 17:09:38.250 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:09:38.250 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=37] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_ttl_table_status (\n\t\ttable_id bigint(64) PRIMARY KEY,\n        parent_table_id bigint(64),\n        table_statistics text DEFAULT NULL,\n\t\tlast_job_id varchar(64) DEFAULT NULL,\n\t\tlast_job_start_time timestamp NULL DEFAULT NULL,\n\t\tlast_job_finish_time timestamp NULL DEFAULT NULL,\n\t\tlast_job_ttl_expire timestamp NULL DEFAULT NULL,\n        last_job_summary text DEFAULT NULL,\n\t\tcurrent_job_id varchar(64) DEFAULT NULL,\n\t\tcurrent_job_owner_id varchar(64) DEFAULT NULL,\n\t\tcurrent_job_owner_addr varchar(256) DEFAULT NULL,\n\t\tcurrent_job_owner_hb_time timestamp,\n\t\tcurrent_job_start_time timestamp NULL DEFAULT NULL,\n\t\tcurrent_job_ttl_expire timestamp NULL DEFAULT NULL,\n\t\tcurrent_job_state text DEFAULT NULL,\n\t\tcurrent_job_status varchar(64) DEFAULT NULL,\n  \t\tcurrent_job_status_update_time timestamp NULL DEFAULT NULL);"] [user=]
[2024/05/15 17:09:38.254 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:77, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:76, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:38.251 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:09:38.254 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:77, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:76, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:38.251 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_ttl_table_status (\n\t\ttable_id bigint(64) PRIMARY KEY,\n        parent_table_id bigint(64),\n        table_statistics text DEFAULT NULL,\n\t\tlast_job_id varchar(64) DEFAULT NULL,\n\t\tlast_job_start_time timestamp NULL DEFAULT NULL,\n\t\tlast_job_finish_time timestamp NULL DEFAULT NULL,\n\t\tlast_job_ttl_expire timestamp NULL DEFAULT NULL,\n        last_job_summary text DEFAULT NULL,\n\t\tcurrent_job_id varchar(64) DEFAULT NULL,\n\t\tcurrent_job_owner_id varchar(64) DEFAULT NULL,\n\t\tcurrent_job_owner_addr varchar(256) DEFAULT NULL,\n\t\tcurrent_job_owner_hb_time timestamp,\n\t\tcurrent_job_start_time timestamp NULL DEFAULT NULL,\n\t\tcurrent_job_ttl_expire timestamp NULL DEFAULT NULL,\n\t\tcurrent_job_state text DEFAULT NULL,\n\t\tcurrent_job_status varchar(64) DEFAULT NULL,\n  \t\tcurrent_job_status_update_time timestamp NULL DEFAULT NULL);"]
[2024/05/15 17:09:38.257 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=77] [category=ddl] [job="ID:77, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:76, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:38.251 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:38.261 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=37] [neededSchemaVersion=38] ["start time"=388s] [gotSchemaVersion=38] [phyTblIDs="[76]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:09:38.262 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:09:38.262 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=77] [version=38]
[2024/05/15 17:09:38.263 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=38] ["take time"=2.252ms] [job="ID:77, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:76, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:38.251 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:38.269 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=77] [job="ID:77, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:76, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:38.251 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:38.271 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=77]
[2024/05/15 17:09:38.271 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:09:38.271 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=38] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_ttl_task (\n\t\tjob_id varchar(64) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tscan_id int NOT NULL,\n\t\tscan_range_start BLOB,\n\t\tscan_range_end BLOB,\n\t\texpire_time timestamp NOT NULL,\n\t\towner_id varchar(64) DEFAULT NULL,\n\t\towner_addr varchar(64) DEFAULT NULL,\n\t\towner_hb_time timestamp DEFAULT NULL,\n\t\tstatus varchar(64) DEFAULT 'waiting',\n\t\tstatus_update_time timestamp NULL DEFAULT NULL,\n\t\tstate text,\n\t\tcreated_time timestamp NOT NULL,\n\t\tprimary key(job_id, scan_id),\n\t\tkey(created_time));"] [user=]
[2024/05/15 17:09:38.274 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:79, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:78, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:38.272 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:09:38.274 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:79, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:78, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:38.272 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_ttl_task (\n\t\tjob_id varchar(64) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tscan_id int NOT NULL,\n\t\tscan_range_start BLOB,\n\t\tscan_range_end BLOB,\n\t\texpire_time timestamp NOT NULL,\n\t\towner_id varchar(64) DEFAULT NULL,\n\t\towner_addr varchar(64) DEFAULT NULL,\n\t\towner_hb_time timestamp DEFAULT NULL,\n\t\tstatus varchar(64) DEFAULT 'waiting',\n\t\tstatus_update_time timestamp NULL DEFAULT NULL,\n\t\tstate text,\n\t\tcreated_time timestamp NOT NULL,\n\t\tprimary key(job_id, scan_id),\n\t\tkey(created_time));"]
[2024/05/15 17:09:38.279 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=79] [category=ddl] [job="ID:79, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:78, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:38.272 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:38.283 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=38] [neededSchemaVersion=39] ["start time"=372.875s] [gotSchemaVersion=39] [phyTblIDs="[78]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:09:38.284 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:09:38.284 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=79] [version=39]
[2024/05/15 17:09:38.286 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=39] ["take time"=3.4335ms] [job="ID:79, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:78, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:38.272 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:38.290 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=79] [job="ID:79, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:78, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:38.272 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:38.294 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=79]
[2024/05/15 17:09:38.294 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:09:38.295 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=39] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_ttl_job_history (\n\t\tjob_id varchar(64) PRIMARY KEY,\n\t\ttable_id bigint(64) NOT NULL,\n        parent_table_id bigint(64) NOT NULL,\n    \ttable_schema varchar(64) NOT NULL,\n\t\ttable_name varchar(64) NOT NULL,\n    \tpartition_name varchar(64) DEFAULT NULL,\n\t\tcreate_time timestamp NOT NULL,\n\t\tfinish_time timestamp NOT NULL,\n\t\tttl_expire timestamp NOT NULL,\n        summary_text text,\n\t\texpired_rows bigint(64) DEFAULT NULL,\n    \tdeleted_rows bigint(64) DEFAULT NULL,\n    \terror_delete_rows bigint(64) DEFAULT NULL,\n    \tstatus varchar(64) NOT NULL,\n    \tkey(table_schema, table_name, create_time),\n    \tkey(parent_table_id, create_time),\n    \tkey(create_time)\n\t);"] [user=]
[2024/05/15 17:09:38.298 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:81, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:80, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:38.297 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:09:38.299 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:81, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:80, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:38.297 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_ttl_job_history (\n\t\tjob_id varchar(64) PRIMARY KEY,\n\t\ttable_id bigint(64) NOT NULL,\n        parent_table_id bigint(64) NOT NULL,\n    \ttable_schema varchar(64) NOT NULL,\n\t\ttable_name varchar(64) NOT NULL,\n    \tpartition_name varchar(64) DEFAULT NULL,\n\t\tcreate_time timestamp NOT NULL,\n\t\tfinish_time timestamp NOT NULL,\n\t\tttl_expire timestamp NOT NULL,\n        summary_text text,\n\t\texpired_rows bigint(64) DEFAULT NULL,\n    \tdeleted_rows bigint(64) DEFAULT NULL,\n    \terror_delete_rows bigint(64) DEFAULT NULL,\n    \tstatus varchar(64) NOT NULL,\n    \tkey(table_schema, table_name, create_time),\n    \tkey(parent_table_id, create_time),\n    \tkey(create_time)\n\t);"]
[2024/05/15 17:09:38.304 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=81] [category=ddl] [job="ID:81, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:80, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:38.297 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:38.308 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=39] [neededSchemaVersion=40] ["start time"=757.292s] [gotSchemaVersion=40] [phyTblIDs="[80]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:09:38.309 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:09:38.309 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=81] [version=40]
[2024/05/15 17:09:38.310 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=40] ["take time"=2.725125ms] [job="ID:81, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:80, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:38.297 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:38.317 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=81] [job="ID:81, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:80, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:38.297 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:38.319 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=81]
[2024/05/15 17:09:38.319 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:09:38.320 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=40] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_global_task (\n\t\tid BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n    \ttask_key VARCHAR(256) NOT NULL,\n\t\ttype VARCHAR(256) NOT NULL,\n\t\tdispatcher_id VARCHAR(261),\n\t\tstate VARCHAR(64) NOT NULL,\n\t\tpriority INT DEFAULT 1,\n\t\tcreate_time TIMESTAMP,\n\t\tstart_time TIMESTAMP,\n\t\tstate_update_time TIMESTAMP,\n\t\tend_time TIMESTAMP,\n\t\tmeta LONGBLOB,\n\t\tconcurrency INT(11),\n\t\tstep INT(11),\n\t\ttarget_scope VARCHAR(256) DEFAULT \"\",\n\t\terror BLOB,\n\t\tkey(state),\n      \tUNIQUE KEY task_key(task_key)\n\t);"] [user=]
[2024/05/15 17:09:38.322 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:83, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:82, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:38.321 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:09:38.322 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:83, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:82, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:38.321 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_global_task (\n\t\tid BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n    \ttask_key VARCHAR(256) NOT NULL,\n\t\ttype VARCHAR(256) NOT NULL,\n\t\tdispatcher_id VARCHAR(261),\n\t\tstate VARCHAR(64) NOT NULL,\n\t\tpriority INT DEFAULT 1,\n\t\tcreate_time TIMESTAMP,\n\t\tstart_time TIMESTAMP,\n\t\tstate_update_time TIMESTAMP,\n\t\tend_time TIMESTAMP,\n\t\tmeta LONGBLOB,\n\t\tconcurrency INT(11),\n\t\tstep INT(11),\n\t\ttarget_scope VARCHAR(256) DEFAULT \"\",\n\t\terror BLOB,\n\t\tkey(state),\n      \tUNIQUE KEY task_key(task_key)\n\t);"]
[2024/05/15 17:09:38.326 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=83] [category=ddl] [job="ID:83, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:82, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:38.321 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:38.331 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=40] [neededSchemaVersion=41] ["start time"=790.833s] [gotSchemaVersion=41] [phyTblIDs="[82]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:09:38.331 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:09:38.331 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=83] [version=41]
[2024/05/15 17:09:38.332 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=41] ["take time"=2.007208ms] [job="ID:83, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:82, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:38.321 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:38.337 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=83] [job="ID:83, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:82, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:38.321 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:38.339 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=83]
[2024/05/15 17:09:38.339 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:09:38.339 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=41] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_global_task_history (\n\t\tid BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n    \ttask_key VARCHAR(256) NOT NULL,\n\t\ttype VARCHAR(256) NOT NULL,\n\t\tdispatcher_id VARCHAR(261),\n\t\tstate VARCHAR(64) NOT NULL,\n\t\tpriority INT DEFAULT 1,\n\t\tcreate_time TIMESTAMP,\n\t\tstart_time TIMESTAMP,\n\t\tstate_update_time TIMESTAMP,\n\t\tend_time TIMESTAMP,\n\t\tmeta LONGBLOB,\n\t\tconcurrency INT(11),\n\t\tstep INT(11),\n\t\ttarget_scope VARCHAR(256) DEFAULT \"\",\n\t\terror BLOB,\n\t\tkey(state),\n      \tUNIQUE KEY task_key(task_key)\n\t);"] [user=]
[2024/05/15 17:09:38.341 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:85, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:84, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:38.34 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:09:38.342 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:85, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:84, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:38.34 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_global_task_history (\n\t\tid BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n    \ttask_key VARCHAR(256) NOT NULL,\n\t\ttype VARCHAR(256) NOT NULL,\n\t\tdispatcher_id VARCHAR(261),\n\t\tstate VARCHAR(64) NOT NULL,\n\t\tpriority INT DEFAULT 1,\n\t\tcreate_time TIMESTAMP,\n\t\tstart_time TIMESTAMP,\n\t\tstate_update_time TIMESTAMP,\n\t\tend_time TIMESTAMP,\n\t\tmeta LONGBLOB,\n\t\tconcurrency INT(11),\n\t\tstep INT(11),\n\t\ttarget_scope VARCHAR(256) DEFAULT \"\",\n\t\terror BLOB,\n\t\tkey(state),\n      \tUNIQUE KEY task_key(task_key)\n\t);"]
[2024/05/15 17:09:38.347 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=85] [category=ddl] [job="ID:85, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:84, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:38.34 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:38.351 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=41] [neededSchemaVersion=42] ["start time"=393.083s] [gotSchemaVersion=42] [phyTblIDs="[84]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:09:38.352 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:09:38.352 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=85] [version=42]
[2024/05/15 17:09:38.353 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=42] ["take time"=2.287458ms] [job="ID:85, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:84, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:38.34 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:38.360 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=85] [job="ID:85, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:84, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:38.34 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:38.363 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=85]
[2024/05/15 17:09:38.363 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:09:38.364 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=42] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_import_jobs (\n\t\tid bigint(64) NOT NULL AUTO_INCREMENT,\n\t\tcreate_time TIMESTAMP(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6),\n\t\tstart_time TIMESTAMP(6) NULL DEFAULT NULL,\n\t\tupdate_time TIMESTAMP(6) NULL DEFAULT NULL,\n\t\tend_time TIMESTAMP(6) NULL DEFAULT NULL,\n\t\ttable_schema VARCHAR(64) NOT NULL,\n\t\ttable_name VARCHAR(64) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tcreated_by VARCHAR(300) NOT NULL,\n\t\tparameters text NOT NULL,\n\t\tsource_file_size bigint(64) NOT NULL,\n\t\tstatus VARCHAR(64) NOT NULL,\n\t\tstep VARCHAR(64) NOT NULL,\n\t\tsummary text DEFAULT NULL,\n\t\terror_message TEXT DEFAULT NULL,\n\t\tPRIMARY KEY (id),\n\t\tKEY (created_by),\n\t\tKEY (status));"] [user=]
[2024/05/15 17:09:38.366 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:87, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:86, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:38.364 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:09:38.366 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:87, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:86, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:38.364 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_import_jobs (\n\t\tid bigint(64) NOT NULL AUTO_INCREMENT,\n\t\tcreate_time TIMESTAMP(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6),\n\t\tstart_time TIMESTAMP(6) NULL DEFAULT NULL,\n\t\tupdate_time TIMESTAMP(6) NULL DEFAULT NULL,\n\t\tend_time TIMESTAMP(6) NULL DEFAULT NULL,\n\t\ttable_schema VARCHAR(64) NOT NULL,\n\t\ttable_name VARCHAR(64) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tcreated_by VARCHAR(300) NOT NULL,\n\t\tparameters text NOT NULL,\n\t\tsource_file_size bigint(64) NOT NULL,\n\t\tstatus VARCHAR(64) NOT NULL,\n\t\tstep VARCHAR(64) NOT NULL,\n\t\tsummary text DEFAULT NULL,\n\t\terror_message TEXT DEFAULT NULL,\n\t\tPRIMARY KEY (id),\n\t\tKEY (created_by),\n\t\tKEY (status));"]
[2024/05/15 17:09:38.370 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=87] [category=ddl] [job="ID:87, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:86, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:38.364 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:38.374 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=42] [neededSchemaVersion=43] ["start time"=467.416s] [gotSchemaVersion=43] [phyTblIDs="[86]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:09:38.375 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:09:38.375 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=87] [version=43]
[2024/05/15 17:09:38.376 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=43] ["take time"=2.493208ms] [job="ID:87, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:86, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:38.364 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:38.381 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=87] [job="ID:87, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:86, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:38.364 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:38.384 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=87]
[2024/05/15 17:09:38.384 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:09:38.384 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=43] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_runaway_watch (\n\t\tid BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n\t\tresource_group_name varchar(32) not null,\n\t\tstart_time datetime(6) NOT NULL,\n\t\tend_time datetime(6),\n\t\twatch bigint(10) NOT NULL,\n\t\twatch_text TEXT NOT NULL,\n\t\tsource varchar(512) NOT NULL,\n\t\taction bigint(10),\n\t\tINDEX sql_index(resource_group_name,watch_text(700)) COMMENT \"accelerate the speed when select quarantined query\",\n\t\tINDEX time_index(end_time) COMMENT \"accelerate the speed when querying with active watch\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"] [user=]
[2024/05/15 17:09:38.384 +08:00] [WARN] [runaway.go:166] ["failed to start runaway manager loop, please check whether the bootstrap or update is finished"] [error="[schema:1146]Table 'mysql.tidb_runaway_watch' doesn't exist"] [errorVerbose="[schema:1146]Table 'mysql.tidb_runaway_watch' doesn't exist\ngithub.com/pingcap/errors.AddStack\n\t/Users/bba/.gvm/pkgsets/go1.21.0/global/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20240318064555-6bd07397691f/errors.go:178\ngithub.com/pingcap/errors.Trace\n\t/Users/bba/.gvm/pkgsets/go1.21.0/global/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20240318064555-6bd07397691f/juju_adaptor.go:15\ngithub.com/pingcap/tidb/pkg/planner/core.Preprocess\n\t/Users/bba/pc/tidb/pkg/planner/core/preprocess.go:141\ngithub.com/pingcap/tidb/pkg/executor.(*Compiler).Compile\n\t/Users/bba/pc/tidb/pkg/executor/compiler.go:67\ngithub.com/pingcap/tidb/pkg/session.(*session).ExecuteStmt\n\t/Users/bba/pc/tidb/pkg/session/session.go:2094\ngithub.com/pingcap/tidb/pkg/session.(*session).ExecuteInternalStmt\n\t/Users/bba/pc/tidb/pkg/session/session.go:1998\ngithub.com/pingcap/tidb/pkg/session.(*session).ExecRestrictedSQL.func1\n\t/Users/bba/pc/tidb/pkg/session/session.go:1963\ngithub.com/pingcap/tidb/pkg/session.(*session).withRestrictedSQLExecutor\n\t/Users/bba/pc/tidb/pkg/session/session.go:1949\ngithub.com/pingcap/tidb/pkg/session.(*session).ExecRestrictedSQL\n\t/Users/bba/pc/tidb/pkg/session/session.go:1953\ngithub.com/pingcap/tidb/pkg/domain.(*SystemTableReader).Read\n\t/Users/bba/pc/tidb/pkg/domain/runaway.go:655\ngithub.com/pingcap/tidb/pkg/domain.getRunawayWatchRecord\n\t/Users/bba/pc/tidb/pkg/domain/runaway.go:543\ngithub.com/pingcap/tidb/pkg/domain.(*runawaySyncer).getWatchRecord\n\t/Users/bba/pc/tidb/pkg/domain/runaway.go:526\ngithub.com/pingcap/tidb/pkg/domain.(*runawaySyncer).getNewWatchRecords\n\t/Users/bba/pc/tidb/pkg/domain/runaway.go:509\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).updateNewAndDoneWatch\n\t/Users/bba/pc/tidb/pkg/domain/runaway.go:177\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).runawayStartLoop\n\t/Users/bba/pc/tidb/pkg/domain/runaway.go:156\ngithub.com/pingcap/tidb/pkg/util.(*WaitGroupEnhancedWrapper).Run.func1\n\t/Users/bba/pc/tidb/pkg/util/wait_group_wrapper.go:99\nruntime.goexit\n\t/Users/bba/.gvm/gos/go1.21.0/src/runtime/asm_arm64.s:1197"]
[2024/05/15 17:09:38.388 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:89, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:88, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:38.385 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:09:38.388 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:89, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:88, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:38.385 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_runaway_watch (\n\t\tid BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n\t\tresource_group_name varchar(32) not null,\n\t\tstart_time datetime(6) NOT NULL,\n\t\tend_time datetime(6),\n\t\twatch bigint(10) NOT NULL,\n\t\twatch_text TEXT NOT NULL,\n\t\tsource varchar(512) NOT NULL,\n\t\taction bigint(10),\n\t\tINDEX sql_index(resource_group_name,watch_text(700)) COMMENT \"accelerate the speed when select quarantined query\",\n\t\tINDEX time_index(end_time) COMMENT \"accelerate the speed when querying with active watch\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"]
[2024/05/15 17:09:38.393 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=89] [category=ddl] [job="ID:89, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:88, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:38.385 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:38.397 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=43] [neededSchemaVersion=44] ["start time"=335.875s] [gotSchemaVersion=44] [phyTblIDs="[88]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:09:38.398 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:09:38.398 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=89] [version=44]
[2024/05/15 17:09:38.398 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=44] ["take time"=2.012083ms] [job="ID:89, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:88, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:38.385 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:38.402 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=89] [job="ID:89, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:88, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:38.385 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:38.404 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=89]
[2024/05/15 17:09:38.404 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:09:38.404 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=44] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_runaway_queries (\n\t\tresource_group_name varchar(32) not null,\n\t\ttime TIMESTAMP NOT NULL,\n\t\tmatch_type varchar(12) NOT NULL,\n\t\taction varchar(12) NOT NULL,\n\t\toriginal_sql TEXT NOT NULL,\n\t\tplan_digest TEXT NOT NULL,\n\t\ttidb_server varchar(512),\n\t\tINDEX plan_index(plan_digest(64)) COMMENT \"accelerate the speed when select runaway query\",\n\t\tINDEX time_index(time) COMMENT \"accelerate the speed when querying with active watch\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"] [user=]
[2024/05/15 17:09:38.408 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:91, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:90, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:38.405 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:09:38.408 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:91, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:90, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:38.405 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_runaway_queries (\n\t\tresource_group_name varchar(32) not null,\n\t\ttime TIMESTAMP NOT NULL,\n\t\tmatch_type varchar(12) NOT NULL,\n\t\taction varchar(12) NOT NULL,\n\t\toriginal_sql TEXT NOT NULL,\n\t\tplan_digest TEXT NOT NULL,\n\t\ttidb_server varchar(512),\n\t\tINDEX plan_index(plan_digest(64)) COMMENT \"accelerate the speed when select runaway query\",\n\t\tINDEX time_index(time) COMMENT \"accelerate the speed when querying with active watch\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"]
[2024/05/15 17:09:38.412 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=91] [category=ddl] [job="ID:91, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:90, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:38.405 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:38.414 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=44] [neededSchemaVersion=45] ["start time"=245.584s] [gotSchemaVersion=45] [phyTblIDs="[90]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:09:38.415 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:09:38.415 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=91] [version=45]
[2024/05/15 17:09:38.416 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=45] ["take time"=2.133167ms] [job="ID:91, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:90, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:38.405 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:38.426 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=91] [job="ID:91, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:90, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:38.405 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:38.430 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=91]
[2024/05/15 17:09:38.430 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:09:38.430 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=45] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS `mysql`.`tidb_timers` (\n\t\tID BIGINT(64) UNSIGNED NOT NULL AUTO_INCREMENT,\n\t\tNAMESPACE VARCHAR(256) NOT NULL,\n\t\tTIMER_KEY VARCHAR(256) NOT NULL,\n\t\tTIMER_DATA BLOB,\n\t\tTIMEZONE VARCHAR(64) NOT NULL,\n\t\tSCHED_POLICY_TYPE VARCHAR(32) NOT NULL,\n\t\tSCHED_POLICY_EXPR VARCHAR(256) NOT NULL,\n\t\tHOOK_CLASS VARCHAR(64) NOT NULL,\n\t\tWATERMARK TIMESTAMP DEFAULT NULL,\n\t\tENABLE TINYINT(2) NOT NULL,\n\t\tTIMER_EXT JSON NOT NULL,\n\t\tEVENT_STATUS VARCHAR(32) NOT NULL,\n\t\tEVENT_ID VARCHAR(64) NOT NULL,\n\t\tEVENT_DATA BLOB,\n\t\tEVENT_START TIMESTAMP DEFAULT NULL,\n\t\tSUMMARY_DATA BLOB,\n\t\tCREATE_TIME TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,\n\t\tUPDATE_TIME TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\tVERSION BIGINT(64) UNSIGNED NOT NULL,\n\t\tPRIMARY KEY (ID),\n\t\tUNIQUE KEY timer_key(NAMESPACE, TIMER_KEY),\n\t\tKEY hook_class(HOOK_CLASS)\n\t)"] [user=]
[2024/05/15 17:09:38.435 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:93, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:92, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:38.433 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:09:38.435 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:93, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:92, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:38.433 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS `mysql`.`tidb_timers` (\n\t\tID BIGINT(64) UNSIGNED NOT NULL AUTO_INCREMENT,\n\t\tNAMESPACE VARCHAR(256) NOT NULL,\n\t\tTIMER_KEY VARCHAR(256) NOT NULL,\n\t\tTIMER_DATA BLOB,\n\t\tTIMEZONE VARCHAR(64) NOT NULL,\n\t\tSCHED_POLICY_TYPE VARCHAR(32) NOT NULL,\n\t\tSCHED_POLICY_EXPR VARCHAR(256) NOT NULL,\n\t\tHOOK_CLASS VARCHAR(64) NOT NULL,\n\t\tWATERMARK TIMESTAMP DEFAULT NULL,\n\t\tENABLE TINYINT(2) NOT NULL,\n\t\tTIMER_EXT JSON NOT NULL,\n\t\tEVENT_STATUS VARCHAR(32) NOT NULL,\n\t\tEVENT_ID VARCHAR(64) NOT NULL,\n\t\tEVENT_DATA BLOB,\n\t\tEVENT_START TIMESTAMP DEFAULT NULL,\n\t\tSUMMARY_DATA BLOB,\n\t\tCREATE_TIME TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,\n\t\tUPDATE_TIME TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\tVERSION BIGINT(64) UNSIGNED NOT NULL,\n\t\tPRIMARY KEY (ID),\n\t\tUNIQUE KEY timer_key(NAMESPACE, TIMER_KEY),\n\t\tKEY hook_class(HOOK_CLASS)\n\t)"]
[2024/05/15 17:09:38.444 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=93] [category=ddl] [job="ID:93, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:92, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:38.433 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:38.450 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=45] [neededSchemaVersion=46] ["start time"=773.5s] [gotSchemaVersion=46] [phyTblIDs="[92]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:09:38.451 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:09:38.451 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=93] [version=46]
[2024/05/15 17:09:38.451 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=46] ["take time"=2.0075ms] [job="ID:93, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:92, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:38.433 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:38.465 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=93] [job="ID:93, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:92, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:38.433 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:38.468 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=93]
[2024/05/15 17:09:38.468 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:09:38.468 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=46] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_runaway_watch_done (\n\t\tid BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n\t\trecord_id BIGINT(20) not null,\n\t\tresource_group_name varchar(32) not null,\n\t\tstart_time datetime(6) NOT NULL,\n\t\tend_time datetime(6),\n\t\twatch bigint(10) NOT NULL,\n\t\twatch_text TEXT NOT NULL,\n\t\tsource varchar(512) NOT NULL,\n\t\taction bigint(10),\n\t\tdone_time TIMESTAMP(6) NOT NULL\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"] [user=]
[2024/05/15 17:09:38.469 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:95, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:94, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:38.469 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:09:38.469 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:95, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:94, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:38.469 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_runaway_watch_done (\n\t\tid BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n\t\trecord_id BIGINT(20) not null,\n\t\tresource_group_name varchar(32) not null,\n\t\tstart_time datetime(6) NOT NULL,\n\t\tend_time datetime(6),\n\t\twatch bigint(10) NOT NULL,\n\t\twatch_text TEXT NOT NULL,\n\t\tsource varchar(512) NOT NULL,\n\t\taction bigint(10),\n\t\tdone_time TIMESTAMP(6) NOT NULL\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"]
[2024/05/15 17:09:38.473 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=95] [category=ddl] [job="ID:95, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:94, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:38.469 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:38.475 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=46] [neededSchemaVersion=47] ["start time"=300.333s] [gotSchemaVersion=47] [phyTblIDs="[94]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:09:38.476 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:09:38.476 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=95] [version=47]
[2024/05/15 17:09:38.477 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=47] ["take time"=2.232ms] [job="ID:95, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:94, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:38.469 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:38.483 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=95] [job="ID:95, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:94, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:38.469 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:38.485 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=95]
[2024/05/15 17:09:38.485 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:09:38.485 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=47] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.dist_framework_meta (\n        host VARCHAR(261) NOT NULL PRIMARY KEY,\n        role VARCHAR(64),\n        cpu_count int default 0,\n        keyspace_id bigint(8) NOT NULL DEFAULT -1\n    );"] [user=]
[2024/05/15 17:09:38.486 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:97, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:96, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:38.486 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:09:38.486 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:97, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:96, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:38.486 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.dist_framework_meta (\n        host VARCHAR(261) NOT NULL PRIMARY KEY,\n        role VARCHAR(64),\n        cpu_count int default 0,\n        keyspace_id bigint(8) NOT NULL DEFAULT -1\n    );"]
[2024/05/15 17:09:38.490 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=97] [category=ddl] [job="ID:97, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:96, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:38.486 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:38.493 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=47] [neededSchemaVersion=48] ["start time"=222.458s] [gotSchemaVersion=48] [phyTblIDs="[96]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:09:38.494 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:09:38.494 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=97] [version=48]
[2024/05/15 17:09:38.495 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=48] ["take time"=2.203875ms] [job="ID:97, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:96, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:38.486 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:38.499 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=97] [job="ID:97, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:96, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:38.486 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:38.501 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=97]
[2024/05/15 17:09:38.501 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:09:38.501 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=48] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.request_unit_by_group (\n\t\tstart_time TIMESTAMP(6) NOT NULL,\n\t\tend_time TIMESTAMP(6) NOT NULL,\n\t\tresource_group VARCHAR(32) NOT null,\n\t\ttotal_ru bigint(64) UNSIGNED NOT NULL,\n\t\tPRIMARY KEY (start_time, end_time, resource_group),\n\t\tKEY (resource_group)\n\t);"] [user=]
[2024/05/15 17:09:38.504 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:99, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:98, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:38.503 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:09:38.504 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:99, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:98, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:38.503 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.request_unit_by_group (\n\t\tstart_time TIMESTAMP(6) NOT NULL,\n\t\tend_time TIMESTAMP(6) NOT NULL,\n\t\tresource_group VARCHAR(32) NOT null,\n\t\ttotal_ru bigint(64) UNSIGNED NOT NULL,\n\t\tPRIMARY KEY (start_time, end_time, resource_group),\n\t\tKEY (resource_group)\n\t);"]
[2024/05/15 17:09:38.508 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=99] [category=ddl] [job="ID:99, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:98, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:38.503 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:38.510 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=48] [neededSchemaVersion=49] ["start time"=218.917s] [gotSchemaVersion=49] [phyTblIDs="[98]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:09:38.511 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:09:38.511 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=99] [version=49]
[2024/05/15 17:09:38.512 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=49] ["take time"=2.301792ms] [job="ID:99, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:98, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:38.503 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:38.518 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=99] [job="ID:99, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:98, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:38.503 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:38.521 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=99]
[2024/05/15 17:09:38.521 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:09:38.521 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=49] [cur_db=mysql] [sql="CREATE DATABASE IF NOT EXISTS sys;"] [user=]
[2024/05/15 17:09:38.523 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:101, Type:create schema, State:queueing, SchemaState:none, SchemaID:100, TableID:0, RowCount:0, ArgLen:1, start time: 2024-05-15 17:09:38.522 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:09:38.523 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:101, Type:create schema, State:queueing, SchemaState:none, SchemaID:100, TableID:0, RowCount:0, ArgLen:1, start time: 2024-05-15 17:09:38.522 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE DATABASE IF NOT EXISTS sys;"]
[2024/05/15 17:09:38.531 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=101] [category=ddl] [job="ID:101, Type:create schema, State:queueing, SchemaState:none, SchemaID:100, TableID:0, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:38.522 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:38.532 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=49] [neededSchemaVersion=50] ["start time"=78.334s] [gotSchemaVersion=50] [phyTblIDs="[]"] [actionTypes="[]"] [diffTypes="[\"create schema\"]"]
[2024/05/15 17:09:38.533 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:09:38.533 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=101] [version=50]
[2024/05/15 17:09:38.535 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=50] ["take time"=3.493375ms] [job="ID:101, Type:create schema, State:done, SchemaState:public, SchemaID:100, TableID:0, RowCount:0, ArgLen:1, start time: 2024-05-15 17:09:38.522 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:38.540 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=101] [job="ID:101, Type:create schema, State:synced, SchemaState:public, SchemaID:100, TableID:0, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:38.522 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:38.541 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=101]
[2024/05/15 17:09:38.541 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:09:38.544 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:103, Type:create view, State:queueing, SchemaState:none, SchemaID:100, TableID:102, RowCount:0, ArgLen:3, start time: 2024-05-15 17:09:38.543 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:09:38.544 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:103, Type:create view, State:queueing, SchemaState:none, SchemaID:100, TableID:102, RowCount:0, ArgLen:3, start time: 2024-05-15 17:09:38.543 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE OR REPLACE VIEW sys.schema_unused_indexes AS\n\t\tSELECT\n\t\t\ttable_schema as object_schema,\n\t\t\ttable_name as object_name,\n\t\t\tindex_name\n\t\tFROM information_schema.cluster_tidb_index_usage\n\t\tWHERE\n\t\t\ttable_schema not in ('sys', 'mysql', 'INFORMATION_SCHEMA', 'PERFORMANCE_SCHEMA') and\n\t\t\tindex_name != 'PRIMARY'\n\t\tGROUP BY table_schema, table_name, index_name\n\t\tHAVING\n\t\t\tsum(last_access_time) is null;"]
[2024/05/15 17:09:38.548 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=103] [category=ddl] [job="ID:103, Type:create view, State:queueing, SchemaState:none, SchemaID:100, TableID:102, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:38.543 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:38.551 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=50] [neededSchemaVersion=51] ["start time"=194.25s] [gotSchemaVersion=51] [phyTblIDs="[102]"] [actionTypes="[21]"] [diffTypes="[\"create view\"]"]
[2024/05/15 17:09:38.553 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:09:38.553 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=103] [version=51]
[2024/05/15 17:09:38.553 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=51] ["take time"=2.019416ms] [job="ID:103, Type:create view, State:done, SchemaState:public, SchemaID:100, TableID:102, RowCount:0, ArgLen:3, start time: 2024-05-15 17:09:38.543 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:38.557 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=103] [job="ID:103, Type:create view, State:synced, SchemaState:public, SchemaID:100, TableID:102, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:38.543 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:38.562 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=103]
[2024/05/15 17:09:38.562 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:09:38.563 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=0] ["to ID"=1] ["table ID"=4] ["database ID"=1]
[2024/05/15 17:09:38.567 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=0] ["to ID"=655] ["table ID"=16] ["database ID"=1]
[2024/05/15 17:09:38.570 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=0] ["to ID"=1] ["table ID"=18] ["database ID"=1]
[2024/05/15 17:09:38.571 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1] ["to ID"=2] ["table ID"=18] ["database ID"=1]
[2024/05/15 17:09:38.571 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2] ["to ID"=3] ["table ID"=18] ["database ID"=1]
[2024/05/15 17:09:38.571 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3] ["to ID"=4] ["table ID"=18] ["database ID"=1]
[2024/05/15 17:09:38.572 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=4] ["to ID"=5] ["table ID"=18] ["database ID"=1]
[2024/05/15 17:09:38.575 +08:00] [INFO] [bootstrap.go:745] ["bootstrap successful"] ["take time"=1.203355334s]
[2024/05/15 17:09:38.578 +08:00] [INFO] [mock.go:106] ["owner manager is canceled"] [category=ddl] [ID=4d068e89-73a7-4c10-9eb4-fe55390f243d] [ownerKey=/tidb/ddl/fg/owner]
[2024/05/15 17:09:38.578 +08:00] [INFO] [ddl_workerpool.go:82] ["closing workerPool"] [category=ddl]
[2024/05/15 17:09:38.578 +08:00] [INFO] [ddl_worker.go:186] ["DDL worker closed"] [worker="worker 2, tp add index"] [category=ddl] ["take time"=750ns]
[2024/05/15 17:09:38.578 +08:00] [INFO] [ddl_workerpool.go:82] ["closing workerPool"] [category=ddl]
[2024/05/15 17:09:38.578 +08:00] [INFO] [ddl_worker.go:186] ["DDL worker closed"] [worker="worker 1, tp general"] [category=ddl] ["take time"=292ns]
[2024/05/15 17:09:38.578 +08:00] [INFO] [ddl_workerpool.go:82] ["closing workerPool"] [category=ddl]
[2024/05/15 17:09:38.578 +08:00] [INFO] [delete_range.go:162] ["closing delRange"] [category=ddl]
[2024/05/15 17:09:38.578 +08:00] [INFO] [session_pool.go:99] ["closing session pool"] [category=ddl]
[2024/05/15 17:09:38.578 +08:00] [INFO] [ddl.go:951] ["DDL closed"] [category=ddl] [ID=4d068e89-73a7-4c10-9eb4-fe55390f243d] ["take time"=2.763625ms]
[2024/05/15 17:09:38.578 +08:00] [INFO] [ddl.go:769] ["stop DDL"] [category=ddl] [ID=4d068e89-73a7-4c10-9eb4-fe55390f243d]
[2024/05/15 17:09:38.578 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=mdlCheckLoop]
[2024/05/15 17:09:38.578 +08:00] [INFO] [domain.go:915] ["loadSchemaInLoop exited."]
[2024/05/15 17:09:38.578 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=loadSchemaInLoop]
[2024/05/15 17:09:38.578 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=runawayStartLoop]
[2024/05/15 17:09:38.579 +08:00] [INFO] [domain.go:769] ["topologySyncerKeeper exited."]
[2024/05/15 17:09:38.579 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=topologySyncerKeeper]
[2024/05/15 17:09:38.579 +08:00] [INFO] [domain.go:745] ["globalConfigSyncerKeeper exited."]
[2024/05/15 17:09:38.579 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=globalConfigSyncerKeeper]
[2024/05/15 17:09:38.579 +08:00] [INFO] [domain.go:719] ["infoSyncerKeeper exited."]
[2024/05/15 17:09:38.579 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=infoSyncerKeeper]
[2024/05/15 17:09:38.579 +08:00] [INFO] [domain.go:691] ["topNSlowQueryLoop exited."]
[2024/05/15 17:09:38.579 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=topNSlowQueryLoop]
[2024/05/15 17:09:38.579 +08:00] [INFO] [domain.go:1369] ["closestReplicaReadCheckLoop exited."]
[2024/05/15 17:09:38.579 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=closestReplicaReadCheckLoop]
[2024/05/15 17:09:38.579 +08:00] [INFO] [domain.go:1082] ["domain closed"] ["take time"=3.103166ms]
[2024/05/15 17:09:38.579 +08:00] [INFO] [tidb.go:80] ["new domain"] [store=ec9ec6bd-d126-4dad-ac44-b089b7d264a6] ["ddl lease"=500ms] ["stats lease"=-1ns]
[2024/05/15 17:09:38.580 +08:00] [WARN] [controller.go:198] ["[resource group controller] server does not save config, load config failed"]
[2024/05/15 17:09:38.580 +08:00] [INFO] [controller.go:185] ["load resource controller config"] [config="{\"degraded-mode-wait-duration\":\"0s\",\"ltb-max-wait-duration\":\"30s\",\"wait-retry-interval\":\"50ms\",\"wait-retry-times\":10,\"request-unit\":{\"read-base-cost\":0.125,\"read-per-batch-base-cost\":0.5,\"read-cost-per-byte\":0.0000152587890625,\"write-base-cost\":1,\"write-per-batch-base-cost\":1,\"write-cost-per-byte\":0.0009765625,\"read-cpu-ms-cost\":0.3333333333333333},\"enable-controller-trace-log\":\"false\"}"] [ru-config="{\"ReadBaseCost\":0.125,\"ReadPerBatchBaseCost\":0.5,\"ReadBytesCost\":0.0000152587890625,\"WriteBaseCost\":1,\"WritePerBatchBaseCost\":1,\"WriteBytesCost\":0.0009765625,\"CPUMsCost\":0.3333333333333333,\"LTBMaxWaitDuration\":30000000000,\"WaitRetryInterval\":50000000,\"WaitRetryTimes\":10,\"DegradedModeWaitDuration\":0}"]
[2024/05/15 17:09:38.594 +08:00] [INFO] [domain.go:323] ["full load InfoSchema success"] [currentSchemaVersion=0] [neededSchemaVersion=51] ["start time"=13.422167ms]
[2024/05/15 17:09:38.597 +08:00] [INFO] [domain.go:643] ["full load and reset schema validator"]
[2024/05/15 17:09:38.597 +08:00] [INFO] [ddl.go:818] ["start DDL"] [category=ddl] [ID=b640b4ad-16f7-477e-b174-4d521c6401c7] [runWorker=true]
[2024/05/15 17:09:38.597 +08:00] [INFO] [ddl.go:777] ["start delRangeManager OK"] [category=ddl] ["is a emulator"=true]
[2024/05/15 17:09:38.597 +08:00] [WARN] [env.go:51] ["initialize environment failed"] [category=ddl-ingest] ["storage limitation"="only support TiKV storage"] ["current storage"=unistore] ["lightning is initialized"=false]
[2024/05/15 17:09:38.597 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=loadSchemaInLoop]
[2024/05/15 17:09:38.597 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=mdlCheckLoop]
[2024/05/15 17:09:38.597 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=topNSlowQueryLoop]
[2024/05/15 17:09:38.597 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=infoSyncerKeeper]
[2024/05/15 17:09:38.597 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=globalConfigSyncerKeeper]
[2024/05/15 17:09:38.597 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=runawayStartLoop]
[2024/05/15 17:09:38.597 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=requestUnitsWriterLoop]
[2024/05/15 17:09:38.597 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=topologySyncerKeeper]
[2024/05/15 17:09:38.597 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=closestReplicaReadCheckLoop]
[2024/05/15 17:09:38.597 +08:00] [WARN] [domain.go:1334] ["pd / etcd client not provided, won't begin Advancer."]
[2024/05/15 17:09:38.620 +08:00] [INFO] [delete_range.go:172] ["start delRange emulator"] [category=ddl]
[2024/05/15 17:09:38.621 +08:00] [INFO] [job_table.go:334] ["get global state and global state change"] [category=ddl] [oldState=false] [currState=false]
[2024/05/15 17:09:38.621 +08:00] [INFO] [runaway.go:149] ["try to start runaway manager loop"]
[2024/05/15 17:09:38.621 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=requestUnitsWriterLoop]
[2024/05/15 17:09:38.624 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=globalBindHandleWorkerLoop]
[2024/05/15 17:09:38.624 +08:00] [WARN] [sysvar_cache.go:49] ["sysvar cache is empty, triggering rebuild"]
[2024/05/15 17:09:38.626 +08:00] [INFO] [sysvar.go:2748] ["set resource control"] [enable=true]
[2024/05/15 17:09:38.626 +08:00] [INFO] [controller.go:447] ["[resource group controller] create resource group cost controller"] [name=default]
[2024/05/15 17:09:38.632 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=loadPrivilegeInLoop]
[2024/05/15 17:09:38.633 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=LoadSysVarCacheLoop]
[2024/05/15 17:09:38.634 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=dumpFileGcChecker]
[2024/05/15 17:09:38.635 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=indexUsageWorker]
[2024/05/15 17:09:38.635 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=quitStatsOwner]
[2024/05/15 17:09:38.636 +08:00] [INFO] [domain.go:2278] ["start load stats sub workers"] ["worker count"=5]
[2024/05/15 17:09:38.636 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=loadSigningCertLoop]
[2024/05/15 17:09:38.636 +08:00] [INFO] [manager.go:113] ["build task executor manager"] [server-id=:4000] [total-cpu=1] [total-mem=32GiB]
[2024/05/15 17:09:38.637 +08:00] [INFO] [domain.go:2078] ["dumpFileGcChecker started"]
[2024/05/15 17:09:38.638 +08:00] [INFO] [task_manager.go:217] ["scale ttl worker"] [ttl-worker=job-manager] [ttl-worker=task-manager] [originalCount=0] [newCount=4]
[2024/05/15 17:09:38.638 +08:00] [INFO] [task_manager.go:217] ["scale ttl worker"] [ttl-worker=job-manager] [ttl-worker=task-manager] [originalCount=0] [newCount=4]
[2024/05/15 17:09:38.641 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=0] ["to ID"=1] ["table ID"=96] ["database ID"=1]
[2024/05/15 17:09:38.642 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=distTaskFrameworkLoop]
[2024/05/15 17:09:38.643 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=1] [schemaVersion=51] [cur_db=] [sql="create database ReorgPartExtensive"] [user=]
[2024/05/15 17:09:38.644 +08:00] [INFO] [manager.go:146] ["task executor manager start"] [server-id=:4000]
[2024/05/15 17:09:38.644 +08:00] [INFO] [domain.go:1533] ["dist task executor manager started"]
[2024/05/15 17:09:38.646 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:105, Type:create schema, State:queueing, SchemaState:none, SchemaID:104, TableID:0, RowCount:0, ArgLen:1, start time: 2024-05-15 17:09:38.645 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:09:38.646 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:105, Type:create schema, State:queueing, SchemaState:none, SchemaID:104, TableID:0, RowCount:0, ArgLen:1, start time: 2024-05-15 17:09:38.645 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="create database ReorgPartExtensive"]
[2024/05/15 17:09:38.673 +08:00] [INFO] [job_table.go:334] ["get global state and global state change"] [category=ddl] [oldState=false] [currState=false]
[2024/05/15 17:09:38.673 +08:00] [INFO] [job_table.go:349] ["the owner sets owner operator value"] [category=ddl] [ownerOp=none]
[2024/05/15 17:09:38.677 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=105] [conn=1] [category=ddl] [job="ID:105, Type:create schema, State:queueing, SchemaState:none, SchemaID:104, TableID:0, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:38.645 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:38.680 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=51] [neededSchemaVersion=52] ["start time"=41.042s] [gotSchemaVersion=52] [phyTblIDs="[]"] [actionTypes="[]"] [diffTypes="[\"create schema\"]"]
[2024/05/15 17:09:38.681 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=105] [version=52]
[2024/05/15 17:09:38.682 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=52] ["take time"=2.579292ms] [job="ID:105, Type:create schema, State:done, SchemaState:public, SchemaID:104, TableID:0, RowCount:0, ArgLen:1, start time: 2024-05-15 17:09:38.645 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:38.690 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=105] [conn=1] [job="ID:105, Type:create schema, State:synced, SchemaState:public, SchemaID:104, TableID:0, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:38.645 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:38.692 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=105]
[2024/05/15 17:09:38.692 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:09:38.693 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=30000] ["to ID"=30001] ["table ID"=16] ["database ID"=1]
[2024/05/15 17:09:38.694 +08:00] [INFO] [set.go:170] ["set global var"] [conn=2] [name=tidb_schema_cache_size] [val=1024]
[2024/05/15 17:09:38.695 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=1] [schemaVersion=52] [cur_db=ReorgPartExtensive] [sql="create table t (a varchar(255) collate utf8mb4_unicode_ci, b varchar(255) collate utf8mb4_general_ci, c int, d datetime, e timestamp, f double, g text, primary key (a)) partition by range columns (a) (partition pNull values less than (\"\"), partition pM values less than (\"M\"), partition pLast values less than (maxvalue))"] [user=]
[2024/05/15 17:09:38.698 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:110, Type:create table, State:queueing, SchemaState:none, SchemaID:104, TableID:106, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:38.698 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:09:38.698 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:110, Type:create table, State:queueing, SchemaState:none, SchemaID:104, TableID:106, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:38.698 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="create table t (a varchar(255) collate utf8mb4_unicode_ci, b varchar(255) collate utf8mb4_general_ci, c int, d datetime, e timestamp, f double, g text, primary key (a)) partition by range columns (a) (partition pNull values less than (\"\"), partition pM values less than (\"M\"), partition pLast values less than (maxvalue))"]
[2024/05/15 17:09:38.706 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=110] [conn=1] [category=ddl] [job="ID:110, Type:create table, State:queueing, SchemaState:none, SchemaID:104, TableID:106, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:38.698 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:38.715 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=52] [neededSchemaVersion=53] ["start time"=6.045209ms] [gotSchemaVersion=53] [phyTblIDs="[106,107,108,109]"] [actionTypes="[3,3,3,3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:09:38.720 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=110] [version=53]
[2024/05/15 17:09:38.720 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=53] ["take time"=10.90525ms] [job="ID:110, Type:create table, State:done, SchemaState:public, SchemaID:104, TableID:106, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:38.698 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:38.728 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=110] [conn=1] [job="ID:110, Type:create table, State:synced, SchemaState:public, SchemaID:104, TableID:106, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:38.698 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:38.732 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=110]
[2024/05/15 17:09:38.732 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:09:38.732 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=1] [schemaVersion=53] [cur_db=ReorgPartExtensive] [sql="create table t2 (a varchar(255) collate utf8mb4_unicode_ci, b varchar(255) collate utf8mb4_general_ci, c int, d datetime, e timestamp, f double, g text, primary key (a), key (b), key (c,b), key (d,c), key(e))"] [user=]
[2024/05/15 17:09:38.734 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:112, Type:create table, State:queueing, SchemaState:none, SchemaID:104, TableID:111, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:38.733 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:09:38.734 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:112, Type:create table, State:queueing, SchemaState:none, SchemaID:104, TableID:111, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:38.733 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="create table t2 (a varchar(255) collate utf8mb4_unicode_ci, b varchar(255) collate utf8mb4_general_ci, c int, d datetime, e timestamp, f double, g text, primary key (a), key (b), key (c,b), key (d,c), key(e))"]
[2024/05/15 17:09:38.738 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=112] [conn=1] [category=ddl] [job="ID:112, Type:create table, State:queueing, SchemaState:none, SchemaID:104, TableID:111, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:38.733 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:38.741 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=53] [neededSchemaVersion=54] ["start time"=530.958s] [gotSchemaVersion=54] [phyTblIDs="[111]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:09:38.742 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=112] [version=54]
[2024/05/15 17:09:38.743 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=54] ["take time"=2.483542ms] [job="ID:112, Type:create table, State:done, SchemaState:public, SchemaID:104, TableID:111, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:38.733 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:38.747 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=112] [conn=1] [job="ID:112, Type:create table, State:synced, SchemaState:public, SchemaID:104, TableID:111, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:38.733 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:38.749 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=112]
[2024/05/15 17:09:38.749 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:09:38.751 +08:00] [INFO] [partition_test.go:2499] ["Seeding rand"] [seed=5472322688578459177]
[2024/05/15 17:09:39.626 +08:00] [INFO] [runaway.go:158] ["preparations for the runaway manager are finished and start runaway manager loop"]
[2024/05/15 17:09:39.626 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=runawayRecordFlushLoop]
[2024/05/15 17:09:39.626 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=runawayWatchSyncLoop]
[2024/05/15 17:09:39.626 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=runawayStartLoop]
[2024/05/15 17:09:39.640 +08:00] [INFO] [runtime.go:160] ["TimerGroupRuntime loop started"] [groupID=ttl]
[2024/05/15 17:09:39.640 +08:00] [INFO] [runtime.go:402] ["create watch chan if possible for timer runtime"] [groupID=ttl] [storeSupportWatch=true]
[2024/05/15 17:09:39.661 +08:00] [INFO] [slots.go:205] ["initialize slot capacity"] [capacity=1]
[2024/05/15 17:09:39.678 +08:00] [INFO] [scheduler_manager.go:200] ["schedule task loop start"] [server-id=:4000]
[2024/05/15 17:09:39.678 +08:00] [INFO] [scheduler_manager.go:312] ["subtask table gc loop start"] [server-id=:4000]
[2024/05/15 17:09:39.678 +08:00] [INFO] [scheduler_manager.go:373] ["cleanup loop start"] [server-id=:4000]
[2024/05/15 17:09:39.678 +08:00] [INFO] [scheduler_manager.go:453] ["collect loop start"] [server-id=:4000]
[2024/05/15 17:09:39.716 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=0] ["to ID"=1] ["table ID"=22] ["database ID"=1]
[2024/05/15 17:09:39.717 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1] ["to ID"=2] ["table ID"=22] ["database ID"=1]
[2024/05/15 17:09:39.734 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=0] ["to ID"=1] ["table ID"=48] ["database ID"=1]
[2024/05/15 17:09:39.734 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=0] ["to ID"=1] ["table ID"=24] ["database ID"=1]
[2024/05/15 17:09:39.735 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=0] ["to ID"=10] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.735 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=10] ["to ID"=20] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.735 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=20] ["to ID"=30] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.736 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=30] ["to ID"=40] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.736 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=40] ["to ID"=50] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.736 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=50] ["to ID"=60] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.736 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=60] ["to ID"=70] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.737 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=70] ["to ID"=80] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.737 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=80] ["to ID"=90] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.737 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=90] ["to ID"=100] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.738 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=100] ["to ID"=110] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.738 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=110] ["to ID"=120] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.738 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=120] ["to ID"=130] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.738 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=130] ["to ID"=140] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.739 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=140] ["to ID"=150] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.739 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=150] ["to ID"=160] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.741 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=160] ["to ID"=170] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.741 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=170] ["to ID"=180] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.741 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=180] ["to ID"=190] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.742 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=190] ["to ID"=200] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.742 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=200] ["to ID"=210] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.742 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=210] ["to ID"=220] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.742 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=220] ["to ID"=230] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.742 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=230] ["to ID"=240] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.742 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=240] ["to ID"=250] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.743 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=250] ["to ID"=260] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.743 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=260] ["to ID"=270] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.743 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=270] ["to ID"=280] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.744 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=280] ["to ID"=290] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.744 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=290] ["to ID"=300] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.744 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=300] ["to ID"=310] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.744 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=310] ["to ID"=320] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.744 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=320] ["to ID"=330] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.744 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=330] ["to ID"=340] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.745 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=340] ["to ID"=350] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.745 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=350] ["to ID"=360] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.746 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=360] ["to ID"=370] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.747 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=370] ["to ID"=380] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.747 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=380] ["to ID"=390] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.748 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=390] ["to ID"=400] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.748 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=400] ["to ID"=410] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.748 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=410] ["to ID"=420] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.749 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=420] ["to ID"=430] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.749 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=430] ["to ID"=440] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.750 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=440] ["to ID"=450] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.750 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=450] ["to ID"=451] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.750 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1] ["to ID"=2] ["table ID"=48] ["database ID"=1]
[2024/05/15 17:09:39.750 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1] ["to ID"=2] ["table ID"=24] ["database ID"=1]
[2024/05/15 17:09:39.752 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2] ["to ID"=3] ["table ID"=48] ["database ID"=1]
[2024/05/15 17:09:39.752 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2] ["to ID"=3] ["table ID"=24] ["database ID"=1]
[2024/05/15 17:09:39.754 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3] ["to ID"=4] ["table ID"=48] ["database ID"=1]
[2024/05/15 17:09:39.754 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3] ["to ID"=4] ["table ID"=24] ["database ID"=1]
[2024/05/15 17:09:39.754 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=451] ["to ID"=461] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.755 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=461] ["to ID"=471] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.755 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=471] ["to ID"=481] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.755 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=481] ["to ID"=491] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.755 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=491] ["to ID"=501] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.756 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=501] ["to ID"=511] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.756 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=511] ["to ID"=521] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.756 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=521] ["to ID"=531] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.756 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=531] ["to ID"=541] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.757 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=541] ["to ID"=551] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.757 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=551] ["to ID"=561] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.757 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=561] ["to ID"=571] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.758 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=571] ["to ID"=581] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.758 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=581] ["to ID"=591] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.758 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=591] ["to ID"=601] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.759 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=601] ["to ID"=611] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.759 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=611] ["to ID"=621] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.759 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=621] ["to ID"=631] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.759 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=631] ["to ID"=641] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.759 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=641] ["to ID"=651] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.760 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=651] ["to ID"=661] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.760 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=661] ["to ID"=671] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.761 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=671] ["to ID"=681] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.761 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=681] ["to ID"=691] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.761 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=691] ["to ID"=701] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.761 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=701] ["to ID"=711] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.762 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=711] ["to ID"=721] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.762 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=721] ["to ID"=731] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.762 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=731] ["to ID"=741] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.762 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=741] ["to ID"=751] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.762 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=751] ["to ID"=761] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.763 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=761] ["to ID"=771] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.763 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=771] ["to ID"=781] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.764 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=781] ["to ID"=791] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.764 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=791] ["to ID"=801] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.764 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=801] ["to ID"=811] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.764 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=811] ["to ID"=821] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.764 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=821] ["to ID"=831] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.765 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=831] ["to ID"=841] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.765 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=841] ["to ID"=851] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.765 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=851] ["to ID"=861] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.765 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=861] ["to ID"=867] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.766 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=4] ["to ID"=5] ["table ID"=48] ["database ID"=1]
[2024/05/15 17:09:39.766 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=4] ["to ID"=5] ["table ID"=24] ["database ID"=1]
[2024/05/15 17:09:39.767 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=5] ["to ID"=6] ["table ID"=48] ["database ID"=1]
[2024/05/15 17:09:39.767 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=5] ["to ID"=6] ["table ID"=24] ["database ID"=1]
[2024/05/15 17:09:39.770 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=867] ["to ID"=877] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.770 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=877] ["to ID"=887] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.770 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=887] ["to ID"=897] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.770 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=897] ["to ID"=907] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.770 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=907] ["to ID"=917] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.771 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=917] ["to ID"=927] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.772 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=6] ["to ID"=7] ["table ID"=48] ["database ID"=1]
[2024/05/15 17:09:39.772 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=6] ["to ID"=7] ["table ID"=24] ["database ID"=1]
[2024/05/15 17:09:39.773 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=927] ["to ID"=937] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.773 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=937] ["to ID"=947] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.773 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=947] ["to ID"=957] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.774 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=957] ["to ID"=967] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.774 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=967] ["to ID"=977] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.774 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=977] ["to ID"=987] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.774 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=987] ["to ID"=997] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.774 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=997] ["to ID"=1007] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.775 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1007] ["to ID"=1017] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.775 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1017] ["to ID"=1027] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.775 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1027] ["to ID"=1037] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.775 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1037] ["to ID"=1047] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.776 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1047] ["to ID"=1057] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.776 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1057] ["to ID"=1067] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.776 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1067] ["to ID"=1077] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.776 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1077] ["to ID"=1087] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.776 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1087] ["to ID"=1097] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.777 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1097] ["to ID"=1107] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.777 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1107] ["to ID"=1117] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.777 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1117] ["to ID"=1127] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.778 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1127] ["to ID"=1137] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.778 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1137] ["to ID"=1147] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.778 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1147] ["to ID"=1157] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.778 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1157] ["to ID"=1167] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.778 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1167] ["to ID"=1177] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.779 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1177] ["to ID"=1187] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.779 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1187] ["to ID"=1197] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.779 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1197] ["to ID"=1207] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.779 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1207] ["to ID"=1217] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.780 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1217] ["to ID"=1227] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.780 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1227] ["to ID"=1237] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.780 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1237] ["to ID"=1247] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.780 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1247] ["to ID"=1257] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.780 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1257] ["to ID"=1267] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.780 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1267] ["to ID"=1277] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.781 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1277] ["to ID"=1287] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.781 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1287] ["to ID"=1297] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.781 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1297] ["to ID"=1307] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.781 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1307] ["to ID"=1317] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.782 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1317] ["to ID"=1318] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.783 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=7] ["to ID"=8] ["table ID"=48] ["database ID"=1]
[2024/05/15 17:09:39.783 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=8] ["to ID"=9] ["table ID"=48] ["database ID"=1]
[2024/05/15 17:09:39.785 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=7] ["to ID"=8] ["table ID"=24] ["database ID"=1]
[2024/05/15 17:09:39.786 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=8] ["to ID"=9] ["table ID"=24] ["database ID"=1]
[2024/05/15 17:09:39.788 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1318] ["to ID"=1328] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.788 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1328] ["to ID"=1338] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.788 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1338] ["to ID"=1348] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.789 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1348] ["to ID"=1358] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.789 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1358] ["to ID"=1368] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.789 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1368] ["to ID"=1378] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.789 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1378] ["to ID"=1388] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.789 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1388] ["to ID"=1398] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.790 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1398] ["to ID"=1408] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.790 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1408] ["to ID"=1418] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.790 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1418] ["to ID"=1428] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.790 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1428] ["to ID"=1438] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.790 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1438] ["to ID"=1448] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.791 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1448] ["to ID"=1458] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.791 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1458] ["to ID"=1468] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.791 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1468] ["to ID"=1478] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.792 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1478] ["to ID"=1488] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.792 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1488] ["to ID"=1498] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.792 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1498] ["to ID"=1508] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.792 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1508] ["to ID"=1518] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.792 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1518] ["to ID"=1528] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.792 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1528] ["to ID"=1538] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.793 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1538] ["to ID"=1548] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.793 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=9] ["to ID"=10] ["table ID"=48] ["database ID"=1]
[2024/05/15 17:09:39.793 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=9] ["to ID"=10] ["table ID"=24] ["database ID"=1]
[2024/05/15 17:09:39.794 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1548] ["to ID"=1558] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.794 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1558] ["to ID"=1568] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.794 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1568] ["to ID"=1578] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.794 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1578] ["to ID"=1588] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.794 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1588] ["to ID"=1598] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.795 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1598] ["to ID"=1608] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.795 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1608] ["to ID"=1618] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.795 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1618] ["to ID"=1628] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.795 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1628] ["to ID"=1638] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.796 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1638] ["to ID"=1648] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.796 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1648] ["to ID"=1658] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.796 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1658] ["to ID"=1668] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.796 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1668] ["to ID"=1678] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.797 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1678] ["to ID"=1688] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.797 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1688] ["to ID"=1698] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.798 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1698] ["to ID"=1708] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.798 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1708] ["to ID"=1718] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.798 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1718] ["to ID"=1728] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.798 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1728] ["to ID"=1738] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.798 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1738] ["to ID"=1748] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.799 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1748] ["to ID"=1758] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.799 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1758] ["to ID"=1768] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.800 +08:00] [INFO] [analyze.go:747] ["analyze table `ReorgPartExtensive`.`t` has finished"] [partition=pNull] ["job info"="analyze table columns a, b, c, d, e, f with 256 buckets, 500 topn, 1 samplerate"] ["start time"=2024/05/15 17:09:39.702 +08:00] ["end time"=2024/05/15 17:09:39.800 +08:00] [cost=97.374459ms] ["sample rate reason"="use min(1, 110000/10000) as the sample-rate=1"]
[2024/05/15 17:09:39.801 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2] ["to ID"=3] ["table ID"=22] ["database ID"=1]
[2024/05/15 17:09:39.801 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1768] ["to ID"=1769] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.803 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=10] ["to ID"=11] ["table ID"=48] ["database ID"=1]
[2024/05/15 17:09:39.803 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1769] ["to ID"=1779] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.803 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1779] ["to ID"=1789] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.803 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1789] ["to ID"=1799] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.804 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1799] ["to ID"=1809] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.804 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1809] ["to ID"=1819] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.804 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1819] ["to ID"=1829] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.804 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1829] ["to ID"=1839] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.804 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1839] ["to ID"=1849] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.805 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1849] ["to ID"=1859] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.805 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1859] ["to ID"=1869] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.805 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=10] ["to ID"=11] ["table ID"=24] ["database ID"=1]
[2024/05/15 17:09:39.806 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1869] ["to ID"=1879] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.806 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1879] ["to ID"=1889] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.806 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1889] ["to ID"=1899] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.806 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1899] ["to ID"=1909] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.806 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1909] ["to ID"=1919] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.807 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1919] ["to ID"=1929] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.807 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1929] ["to ID"=1939] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.807 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1939] ["to ID"=1949] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.807 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1949] ["to ID"=1959] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.807 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1959] ["to ID"=1969] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.808 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1969] ["to ID"=1979] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.808 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1979] ["to ID"=1989] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.808 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1989] ["to ID"=1999] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.808 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1999] ["to ID"=2009] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.808 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2009] ["to ID"=2019] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.809 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2019] ["to ID"=2029] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.809 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2029] ["to ID"=2039] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.809 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2039] ["to ID"=2049] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.810 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2049] ["to ID"=2059] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.810 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2059] ["to ID"=2069] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.810 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2069] ["to ID"=2079] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.810 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2079] ["to ID"=2089] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.810 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2089] ["to ID"=2099] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.811 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2099] ["to ID"=2109] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.811 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2109] ["to ID"=2119] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.811 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2119] ["to ID"=2129] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.812 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2129] ["to ID"=2139] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.812 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2139] ["to ID"=2149] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.812 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2149] ["to ID"=2159] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.812 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2159] ["to ID"=2169] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.813 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2169] ["to ID"=2179] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.813 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2179] ["to ID"=2189] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.813 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2189] ["to ID"=2199] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.813 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2199] ["to ID"=2209] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.814 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2209] ["to ID"=2219] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.814 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2219] ["to ID"=2229] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.814 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2229] ["to ID"=2239] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.814 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2239] ["to ID"=2249] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.815 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2249] ["to ID"=2259] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.815 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2259] ["to ID"=2269] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.816 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2269] ["to ID"=2279] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.816 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2279] ["to ID"=2289] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.816 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2289] ["to ID"=2299] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.816 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2299] ["to ID"=2309] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.816 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2309] ["to ID"=2319] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.817 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2319] ["to ID"=2329] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.817 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2329] ["to ID"=2339] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.818 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2339] ["to ID"=2349] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.818 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2349] ["to ID"=2359] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.818 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2359] ["to ID"=2369] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.818 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2369] ["to ID"=2379] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.819 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2379] ["to ID"=2389] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.819 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2389] ["to ID"=2399] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.820 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=11] ["to ID"=12] ["table ID"=48] ["database ID"=1]
[2024/05/15 17:09:39.820 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=11] ["to ID"=12] ["table ID"=24] ["database ID"=1]
[2024/05/15 17:09:39.820 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2399] ["to ID"=2409] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.821 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2409] ["to ID"=2419] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.821 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2419] ["to ID"=2429] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.821 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2429] ["to ID"=2439] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.821 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2439] ["to ID"=2449] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.822 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2449] ["to ID"=2459] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.822 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2459] ["to ID"=2469] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.822 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2469] ["to ID"=2479] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.822 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2479] ["to ID"=2489] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.822 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2489] ["to ID"=2499] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.823 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2499] ["to ID"=2509] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.824 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2509] ["to ID"=2519] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.825 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2519] ["to ID"=2529] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.825 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=0] ["to ID"=10] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:39.826 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=10] ["to ID"=20] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:39.826 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=20] ["to ID"=30] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:39.826 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=30] ["to ID"=40] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:39.827 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=40] ["to ID"=49] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:39.827 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2529] ["to ID"=2539] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.827 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2539] ["to ID"=2549] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.828 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2549] ["to ID"=2559] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.828 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2559] ["to ID"=2569] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.828 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2569] ["to ID"=2579] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.828 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2579] ["to ID"=2589] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.828 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2589] ["to ID"=2599] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.829 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2599] ["to ID"=2609] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.830 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2609] ["to ID"=2619] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.830 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2619] ["to ID"=2629] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.830 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2629] ["to ID"=2639] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.830 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2639] ["to ID"=2649] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.830 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2649] ["to ID"=2659] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.831 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2659] ["to ID"=2669] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.831 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2669] ["to ID"=2679] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.831 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2679] ["to ID"=2689] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.831 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2689] ["to ID"=2699] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.831 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2699] ["to ID"=2709] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.832 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2709] ["to ID"=2719] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.832 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2719] ["to ID"=2720] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.832 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2720] ["to ID"=2730] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.833 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2730] ["to ID"=2740] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.833 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2740] ["to ID"=2750] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.833 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2750] ["to ID"=2760] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.833 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2760] ["to ID"=2770] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.834 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2770] ["to ID"=2780] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.834 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2780] ["to ID"=2790] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.834 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2790] ["to ID"=2800] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.834 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2800] ["to ID"=2810] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.835 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2810] ["to ID"=2820] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.835 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2820] ["to ID"=2830] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.835 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=12] ["to ID"=13] ["table ID"=48] ["database ID"=1]
[2024/05/15 17:09:39.836 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=12] ["to ID"=13] ["table ID"=24] ["database ID"=1]
[2024/05/15 17:09:39.836 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2830] ["to ID"=2840] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.837 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2840] ["to ID"=2850] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.837 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2850] ["to ID"=2860] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.837 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2860] ["to ID"=2870] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.837 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2870] ["to ID"=2880] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.838 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2880] ["to ID"=2890] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.838 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2890] ["to ID"=2900] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.838 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2900] ["to ID"=2910] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.838 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2910] ["to ID"=2920] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.838 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2920] ["to ID"=2930] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.839 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2930] ["to ID"=2940] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.839 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2940] ["to ID"=2950] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.840 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2950] ["to ID"=2960] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.841 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2960] ["to ID"=2970] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.841 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2970] ["to ID"=2980] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.842 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2980] ["to ID"=2990] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.842 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2990] ["to ID"=3000] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.842 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3000] ["to ID"=3010] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.843 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3010] ["to ID"=3020] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.843 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3020] ["to ID"=3030] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.843 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3030] ["to ID"=3040] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.843 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3040] ["to ID"=3050] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.844 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3050] ["to ID"=3060] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.844 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3060] ["to ID"=3070] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.844 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3070] ["to ID"=3080] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.844 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3080] ["to ID"=3090] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.844 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3090] ["to ID"=3100] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.845 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3100] ["to ID"=3110] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.847 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3110] ["to ID"=3120] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.847 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3120] ["to ID"=3130] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.848 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3130] ["to ID"=3140] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.848 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3140] ["to ID"=3150] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.848 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3150] ["to ID"=3160] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.848 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3160] ["to ID"=3170] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.848 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3170] ["to ID"=3180] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.849 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3180] ["to ID"=3190] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.849 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3190] ["to ID"=3200] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.849 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3200] ["to ID"=3210] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.849 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3210] ["to ID"=3220] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.850 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3220] ["to ID"=3230] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.850 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3230] ["to ID"=3240] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.851 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3240] ["to ID"=3250] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.851 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3250] ["to ID"=3260] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.851 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3260] ["to ID"=3270] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.851 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3270] ["to ID"=3280] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.851 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3280] ["to ID"=3290] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.852 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3290] ["to ID"=3300] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.852 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3300] ["to ID"=3310] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.852 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3310] ["to ID"=3320] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.852 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3320] ["to ID"=3330] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.853 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3330] ["to ID"=3340] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.853 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3340] ["to ID"=3350] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.853 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3350] ["to ID"=3360] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.854 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3360] ["to ID"=3370] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.854 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3370] ["to ID"=3380] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.854 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3380] ["to ID"=3390] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.854 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3390] ["to ID"=3400] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.854 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3400] ["to ID"=3410] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.855 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3410] ["to ID"=3420] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.855 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3420] ["to ID"=3430] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.856 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=13] ["to ID"=14] ["table ID"=48] ["database ID"=1]
[2024/05/15 17:09:39.856 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=13] ["to ID"=14] ["table ID"=24] ["database ID"=1]
[2024/05/15 17:09:39.857 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3430] ["to ID"=3440] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.857 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3440] ["to ID"=3450] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.857 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3450] ["to ID"=3460] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.857 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3460] ["to ID"=3470] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.858 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3470] ["to ID"=3480] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.858 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3480] ["to ID"=3490] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.858 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3490] ["to ID"=3500] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.858 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3500] ["to ID"=3510] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.858 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3510] ["to ID"=3520] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.859 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3520] ["to ID"=3530] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.859 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3530] ["to ID"=3540] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.859 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3540] ["to ID"=3550] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.860 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3550] ["to ID"=3560] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.860 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3560] ["to ID"=3570] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.860 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3570] ["to ID"=3580] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.860 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3580] ["to ID"=3590] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.860 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3590] ["to ID"=3600] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.861 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3600] ["to ID"=3610] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.862 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=49] ["to ID"=59] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:39.862 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=59] ["to ID"=67] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:39.863 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3610] ["to ID"=3620] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.863 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3620] ["to ID"=3630] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.864 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3630] ["to ID"=3640] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.864 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3640] ["to ID"=3650] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.864 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3650] ["to ID"=3660] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.864 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3660] ["to ID"=3670] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.864 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3670] ["to ID"=3671] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.865 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3671] ["to ID"=3681] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.866 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3681] ["to ID"=3691] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.866 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3691] ["to ID"=3701] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.866 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3701] ["to ID"=3711] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.866 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3711] ["to ID"=3721] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.866 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3721] ["to ID"=3731] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.867 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3731] ["to ID"=3741] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.867 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3741] ["to ID"=3751] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.867 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=14] ["to ID"=15] ["table ID"=48] ["database ID"=1]
[2024/05/15 17:09:39.868 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=14] ["to ID"=15] ["table ID"=24] ["database ID"=1]
[2024/05/15 17:09:39.868 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3751] ["to ID"=3761] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.868 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3761] ["to ID"=3771] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.868 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3771] ["to ID"=3781] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.869 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3781] ["to ID"=3791] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.869 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3791] ["to ID"=3801] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.869 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3801] ["to ID"=3811] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.869 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3811] ["to ID"=3821] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.870 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3821] ["to ID"=3831] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.870 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3831] ["to ID"=3841] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.870 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3841] ["to ID"=3851] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.870 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3851] ["to ID"=3861] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.870 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3861] ["to ID"=3871] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.870 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3871] ["to ID"=3881] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.871 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3881] ["to ID"=3891] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.872 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3891] ["to ID"=3901] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.872 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3901] ["to ID"=3911] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.873 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3911] ["to ID"=3921] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.873 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3921] ["to ID"=3931] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.874 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3931] ["to ID"=3941] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.875 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3941] ["to ID"=3951] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.875 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3951] ["to ID"=3961] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.875 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3961] ["to ID"=3971] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.875 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3971] ["to ID"=3981] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.876 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3981] ["to ID"=3991] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.876 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3991] ["to ID"=4001] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.876 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=4001] ["to ID"=4011] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.876 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=4011] ["to ID"=4021] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.876 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=4021] ["to ID"=4031] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.877 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=4031] ["to ID"=4041] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.877 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=4041] ["to ID"=4051] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.877 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=4051] ["to ID"=4061] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.877 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=4061] ["to ID"=4071] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.878 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=4071] ["to ID"=4081] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.878 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=4081] ["to ID"=4091] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.878 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=4091] ["to ID"=4101] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.878 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=4101] ["to ID"=4111] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.878 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=4111] ["to ID"=4121] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.879 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=4121] ["to ID"=4131] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.879 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=4131] ["to ID"=4141] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.879 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=4141] ["to ID"=4151] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.879 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=4151] ["to ID"=4161] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.879 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=4161] ["to ID"=4171] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.880 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=4171] ["to ID"=4181] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.880 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=4181] ["to ID"=4191] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.880 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=4191] ["to ID"=4201] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.880 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=4201] ["to ID"=4211] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.880 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=4211] ["to ID"=4221] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.881 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=4221] ["to ID"=4231] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.881 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=4231] ["to ID"=4241] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.881 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=4241] ["to ID"=4251] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.881 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=4251] ["to ID"=4261] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.882 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=4261] ["to ID"=4271] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.882 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=4271] ["to ID"=4281] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.882 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=4281] ["to ID"=4291] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.883 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=4291] ["to ID"=4301] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.883 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=4301] ["to ID"=4311] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.883 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=4311] ["to ID"=4321] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.883 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=4321] ["to ID"=4331] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.883 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=4331] ["to ID"=4341] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.884 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=4341] ["to ID"=4351] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.884 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=4351] ["to ID"=4361] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.884 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=4361] ["to ID"=4371] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.884 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=4371] ["to ID"=4381] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.884 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=4381] ["to ID"=4391] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.885 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=4391] ["to ID"=4401] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.885 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=4401] ["to ID"=4411] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.885 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=4411] ["to ID"=4421] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.885 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=4421] ["to ID"=4431] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.886 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=4431] ["to ID"=4441] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.886 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=4441] ["to ID"=4451] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.886 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=4451] ["to ID"=4461] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.886 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=4461] ["to ID"=4471] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.887 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=4471] ["to ID"=4481] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.887 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=4481] ["to ID"=4491] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.888 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=15] ["to ID"=16] ["table ID"=48] ["database ID"=1]
[2024/05/15 17:09:39.888 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=15] ["to ID"=16] ["table ID"=24] ["database ID"=1]
[2024/05/15 17:09:39.889 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=4491] ["to ID"=4501] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.889 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=4501] ["to ID"=4511] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.890 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=4511] ["to ID"=4521] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.890 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=4521] ["to ID"=4531] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.890 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=4531] ["to ID"=4541] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.890 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=4541] ["to ID"=4551] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.890 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=4551] ["to ID"=4561] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.891 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=4561] ["to ID"=4571] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.891 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=4571] ["to ID"=4581] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.892 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=4581] ["to ID"=4591] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.892 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=4591] ["to ID"=4601] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.892 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=4601] ["to ID"=4611] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.893 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=4611] ["to ID"=4621] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.893 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=4621] ["to ID"=4622] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.894 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=67] ["to ID"=77] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:39.894 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=77] ["to ID"=87] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:39.895 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=87] ["to ID"=97] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:39.896 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=97] ["to ID"=107] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:39.896 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=107] ["to ID"=116] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:39.897 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=16] ["to ID"=17] ["table ID"=48] ["database ID"=1]
[2024/05/15 17:09:39.898 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=16] ["to ID"=17] ["table ID"=24] ["database ID"=1]
[2024/05/15 17:09:39.898 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=4622] ["to ID"=4632] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.899 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=4632] ["to ID"=4642] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.899 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=4642] ["to ID"=4652] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.911 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=4652] ["to ID"=4662] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.913 +08:00] [INFO] [analyze.go:747] ["analyze table `ReorgPartExtensive`.`t` has finished"] [partition=pM] ["job info"="analyze table columns a, b, c, d, e, f with 256 buckets, 500 topn, 1 samplerate"] ["start time"=2024/05/15 17:09:39.703 +08:00] ["end time"=2024/05/15 17:09:39.912 +08:00] [cost=209.322667ms] ["sample rate reason"="use min(1, 110000/10000) as the sample-rate=1"]
[2024/05/15 17:09:39.913 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=4662] ["to ID"=4672] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.920 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=4672] ["to ID"=4682] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.920 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=4682] ["to ID"=4692] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.920 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=4692] ["to ID"=4702] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.921 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=4702] ["to ID"=4712] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.921 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=4712] ["to ID"=4722] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.924 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=4722] ["to ID"=4732] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.925 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=4732] ["to ID"=4742] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.925 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=4742] ["to ID"=4752] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.925 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=4752] ["to ID"=4762] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.925 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=4762] ["to ID"=4772] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.925 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=4772] ["to ID"=4782] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.926 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=4782] ["to ID"=4792] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.926 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=4792] ["to ID"=4802] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.926 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=4802] ["to ID"=4812] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.926 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=4812] ["to ID"=4822] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.926 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=4822] ["to ID"=4832] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.927 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=4832] ["to ID"=4842] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.927 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=4842] ["to ID"=4852] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.927 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=4852] ["to ID"=4862] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.927 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=4862] ["to ID"=4872] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.928 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=4872] ["to ID"=4882] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.928 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=4882] ["to ID"=4892] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.928 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=4892] ["to ID"=4902] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.928 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=4902] ["to ID"=4912] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.928 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=4912] ["to ID"=4922] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.928 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=4922] ["to ID"=4932] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.929 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=4932] ["to ID"=4942] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.929 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=4942] ["to ID"=4952] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.929 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=4952] ["to ID"=4962] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.929 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=4962] ["to ID"=4972] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.929 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=4972] ["to ID"=4982] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.930 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=4982] ["to ID"=4992] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.930 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=4992] ["to ID"=5002] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.930 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=5002] ["to ID"=5012] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.930 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=5012] ["to ID"=5022] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.930 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=5022] ["to ID"=5032] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.931 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=5032] ["to ID"=5042] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.931 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=5042] ["to ID"=5052] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.931 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=5052] ["to ID"=5062] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.931 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=5062] ["to ID"=5072] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.931 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=5072] ["to ID"=5082] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.932 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=5082] ["to ID"=5092] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.932 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=5092] ["to ID"=5102] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.932 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=5102] ["to ID"=5112] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.932 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=5112] ["to ID"=5122] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.934 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=17] ["to ID"=18] ["table ID"=48] ["database ID"=1]
[2024/05/15 17:09:39.934 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=17] ["to ID"=18] ["table ID"=24] ["database ID"=1]
[2024/05/15 17:09:39.936 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=116] ["to ID"=126] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:39.936 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=126] ["to ID"=136] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:39.936 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=136] ["to ID"=146] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:39.937 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=146] ["to ID"=156] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:39.937 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=156] ["to ID"=165] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:39.939 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=5122] ["to ID"=5132] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.939 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=5132] ["to ID"=5142] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.939 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=5142] ["to ID"=5152] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.940 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=5152] ["to ID"=5162] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.940 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=5162] ["to ID"=5172] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.940 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=5172] ["to ID"=5182] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.940 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=5182] ["to ID"=5192] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.941 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=5192] ["to ID"=5202] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.941 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=5202] ["to ID"=5212] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.941 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=5212] ["to ID"=5222] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.941 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=5222] ["to ID"=5232] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.941 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=5232] ["to ID"=5242] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.942 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=5242] ["to ID"=5252] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.942 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=5252] ["to ID"=5262] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.942 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=5262] ["to ID"=5272] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.942 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=5272] ["to ID"=5282] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.942 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=5282] ["to ID"=5292] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.943 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=5292] ["to ID"=5302] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.943 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=5302] ["to ID"=5312] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.943 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=5312] ["to ID"=5322] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.943 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=5322] ["to ID"=5332] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.943 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=5332] ["to ID"=5342] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.944 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=5342] ["to ID"=5352] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.944 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=5352] ["to ID"=5362] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.944 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=5362] ["to ID"=5372] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.944 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=5372] ["to ID"=5382] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.944 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=5382] ["to ID"=5392] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.945 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=5392] ["to ID"=5402] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.945 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=5402] ["to ID"=5412] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.945 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=5412] ["to ID"=5422] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.945 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=5422] ["to ID"=5432] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.945 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=5432] ["to ID"=5442] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.946 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=5442] ["to ID"=5452] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.946 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=5452] ["to ID"=5462] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.946 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=5462] ["to ID"=5472] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.946 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=5472] ["to ID"=5482] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.946 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=5482] ["to ID"=5492] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.947 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=5492] ["to ID"=5502] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.947 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=5502] ["to ID"=5512] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.947 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=5512] ["to ID"=5522] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.948 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=5522] ["to ID"=5532] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.948 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=5532] ["to ID"=5542] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.948 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=5542] ["to ID"=5552] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.948 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=5552] ["to ID"=5562] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.949 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=5562] ["to ID"=5572] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.949 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=5572] ["to ID"=5582] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.949 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=5582] ["to ID"=5592] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.949 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=5592] ["to ID"=5602] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.949 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=5602] ["to ID"=5612] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.950 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=5612] ["to ID"=5622] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.951 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=18] ["to ID"=19] ["table ID"=48] ["database ID"=1]
[2024/05/15 17:09:39.951 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=18] ["to ID"=19] ["table ID"=24] ["database ID"=1]
[2024/05/15 17:09:39.952 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=165] ["to ID"=175] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:39.952 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=175] ["to ID"=185] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:39.953 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=185] ["to ID"=195] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:39.953 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=195] ["to ID"=205] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:39.953 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=205] ["to ID"=214] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:39.954 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=5622] ["to ID"=5632] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.955 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=5632] ["to ID"=5642] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.955 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=5642] ["to ID"=5652] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.955 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=5652] ["to ID"=5662] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.955 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=5662] ["to ID"=5672] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.955 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=5672] ["to ID"=5682] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.956 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=5682] ["to ID"=5692] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.956 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=5692] ["to ID"=5702] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.956 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=5702] ["to ID"=5712] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.956 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=5712] ["to ID"=5722] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.956 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=5722] ["to ID"=5732] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.957 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=5732] ["to ID"=5742] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.957 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=5742] ["to ID"=5752] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.957 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=5752] ["to ID"=5762] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.957 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=5762] ["to ID"=5772] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.957 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=5772] ["to ID"=5782] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.958 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=5782] ["to ID"=5792] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.958 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=5792] ["to ID"=5802] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.958 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=5802] ["to ID"=5812] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.958 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=5812] ["to ID"=5822] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.958 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=5822] ["to ID"=5832] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.959 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=5832] ["to ID"=5842] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.959 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=5842] ["to ID"=5852] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.959 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=5852] ["to ID"=5862] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.959 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=5862] ["to ID"=5872] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.959 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=5872] ["to ID"=5882] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.960 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=5882] ["to ID"=5892] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.960 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=5892] ["to ID"=5902] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.960 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=5902] ["to ID"=5912] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.960 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=5912] ["to ID"=5922] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.960 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=5922] ["to ID"=5932] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.961 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=5932] ["to ID"=5942] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.961 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=5942] ["to ID"=5952] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.961 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=5952] ["to ID"=5962] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.961 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=5962] ["to ID"=5972] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.961 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=5972] ["to ID"=5982] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.962 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=5982] ["to ID"=5992] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.962 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=5992] ["to ID"=6002] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.962 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=6002] ["to ID"=6012] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.962 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=6012] ["to ID"=6022] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.962 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=6022] ["to ID"=6032] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.963 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=6032] ["to ID"=6042] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.963 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=6042] ["to ID"=6052] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.963 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=6052] ["to ID"=6062] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.963 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=6062] ["to ID"=6072] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.963 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=6072] ["to ID"=6082] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.964 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=6082] ["to ID"=6092] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.964 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=6092] ["to ID"=6102] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.964 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=6102] ["to ID"=6112] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.964 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=6112] ["to ID"=6122] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.965 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=19] ["to ID"=20] ["table ID"=48] ["database ID"=1]
[2024/05/15 17:09:39.966 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=19] ["to ID"=20] ["table ID"=24] ["database ID"=1]
[2024/05/15 17:09:39.966 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=214] ["to ID"=224] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:39.967 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=224] ["to ID"=234] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:39.967 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=234] ["to ID"=244] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:39.967 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=244] ["to ID"=254] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:39.967 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=254] ["to ID"=263] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:39.968 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=6122] ["to ID"=6132] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.969 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=6132] ["to ID"=6142] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.969 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=6142] ["to ID"=6152] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.969 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=6152] ["to ID"=6162] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.969 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=6162] ["to ID"=6172] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.969 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=6172] ["to ID"=6182] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.970 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=6182] ["to ID"=6192] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.970 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=6192] ["to ID"=6202] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.970 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=6202] ["to ID"=6212] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.970 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=6212] ["to ID"=6222] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.970 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=6222] ["to ID"=6232] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.971 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=6232] ["to ID"=6242] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.972 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=6242] ["to ID"=6252] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.972 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=6252] ["to ID"=6262] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.972 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=6262] ["to ID"=6272] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.973 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=6272] ["to ID"=6282] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.973 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=6282] ["to ID"=6292] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.973 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=6292] ["to ID"=6302] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.974 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=6302] ["to ID"=6312] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.974 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=6312] ["to ID"=6322] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.974 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=6322] ["to ID"=6332] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.974 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=6332] ["to ID"=6342] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.974 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=6342] ["to ID"=6352] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.975 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=6352] ["to ID"=6362] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.975 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=6362] ["to ID"=6372] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.975 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=6372] ["to ID"=6382] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.975 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=6382] ["to ID"=6392] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.976 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=6392] ["to ID"=6402] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.976 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=6402] ["to ID"=6412] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.976 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=6412] ["to ID"=6422] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.976 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=6422] ["to ID"=6432] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.976 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=6432] ["to ID"=6442] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.977 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=6442] ["to ID"=6452] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.977 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=6452] ["to ID"=6462] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.977 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=6462] ["to ID"=6472] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.977 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=6472] ["to ID"=6482] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.977 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=6482] ["to ID"=6492] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.978 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=6492] ["to ID"=6502] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.978 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=6502] ["to ID"=6512] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.978 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=6512] ["to ID"=6522] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.978 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=6522] ["to ID"=6532] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.979 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=6532] ["to ID"=6542] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.979 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=6542] ["to ID"=6552] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.979 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=6552] ["to ID"=6562] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.979 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=6562] ["to ID"=6572] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.979 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=6572] ["to ID"=6582] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.980 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=6582] ["to ID"=6592] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.980 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=6592] ["to ID"=6602] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.980 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=6602] ["to ID"=6612] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.980 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=6612] ["to ID"=6622] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:39.982 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=20] ["to ID"=21] ["table ID"=48] ["database ID"=1]
[2024/05/15 17:09:39.982 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=20] ["to ID"=21] ["table ID"=24] ["database ID"=1]
[2024/05/15 17:09:39.983 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=263] ["to ID"=273] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:39.984 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=273] ["to ID"=283] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:39.984 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=283] ["to ID"=293] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:39.985 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=293] ["to ID"=303] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:39.985 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=303] ["to ID"=312] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.012 +08:00] [INFO] [analyze.go:747] ["analyze table `ReorgPartExtensive`.`t` has finished"] [partition=pLast] ["job info"="analyze table columns a, b, c, d, e, f with 256 buckets, 500 topn, 1 samplerate"] ["start time"=2024/05/15 17:09:39.714 +08:00] ["end time"=2024/05/15 17:09:40.001 +08:00] [cost=286.513125ms] ["sample rate reason"="use min(1, 110000/10000) as the sample-rate=1"]
[2024/05/15 17:09:40.130 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3] ["to ID"=4] ["table ID"=22] ["database ID"=1]
[2024/05/15 17:09:40.131 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=6622] ["to ID"=6632] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.131 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=6632] ["to ID"=6642] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.132 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=6642] ["to ID"=6652] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.132 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=6652] ["to ID"=6662] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.132 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=6662] ["to ID"=6672] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.132 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=6672] ["to ID"=6682] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.132 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=6682] ["to ID"=6692] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.133 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=6692] ["to ID"=6702] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.133 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=6702] ["to ID"=6712] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.133 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=6712] ["to ID"=6722] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.133 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=6722] ["to ID"=6732] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.133 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=6732] ["to ID"=6742] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.134 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=6742] ["to ID"=6752] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.135 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=6752] ["to ID"=6762] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.135 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=6762] ["to ID"=6772] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.135 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=6772] ["to ID"=6782] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.135 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=6782] ["to ID"=6792] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.136 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=6792] ["to ID"=6802] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.136 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=6802] ["to ID"=6812] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.136 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=6812] ["to ID"=6822] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.136 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=6822] ["to ID"=6832] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.136 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=6832] ["to ID"=6842] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.137 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=6842] ["to ID"=6852] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.137 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=6852] ["to ID"=6862] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.137 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=6862] ["to ID"=6872] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.137 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=6872] ["to ID"=6882] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.137 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=6882] ["to ID"=6892] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.138 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=6892] ["to ID"=6902] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.138 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=6902] ["to ID"=6912] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.138 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=6912] ["to ID"=6922] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.138 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=6922] ["to ID"=6932] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.138 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=6932] ["to ID"=6942] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.139 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=6942] ["to ID"=6952] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.139 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=6952] ["to ID"=6962] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.139 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=6962] ["to ID"=6972] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.139 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=6972] ["to ID"=6982] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.139 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=6982] ["to ID"=6992] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.139 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=6992] ["to ID"=7002] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.140 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=7002] ["to ID"=7012] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.140 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=7012] ["to ID"=7022] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.140 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=7022] ["to ID"=7032] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.140 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=7032] ["to ID"=7042] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.140 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=7042] ["to ID"=7052] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.141 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=7052] ["to ID"=7062] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.141 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=7062] ["to ID"=7072] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.141 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=7072] ["to ID"=7082] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.141 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=7082] ["to ID"=7092] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.141 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=7092] ["to ID"=7102] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.142 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=7102] ["to ID"=7112] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.142 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=7112] ["to ID"=7122] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.143 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=21] ["to ID"=22] ["table ID"=24] ["database ID"=1]
[2024/05/15 17:09:40.144 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=312] ["to ID"=322] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.144 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=322] ["to ID"=332] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.144 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=332] ["to ID"=342] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.144 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=342] ["to ID"=352] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.145 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=352] ["to ID"=362] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.145 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=362] ["to ID"=372] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.148 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=372] ["to ID"=382] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.148 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=382] ["to ID"=392] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.149 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=392] ["to ID"=402] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.149 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=402] ["to ID"=412] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.150 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=412] ["to ID"=422] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.150 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=422] ["to ID"=432] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.150 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=432] ["to ID"=442] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.151 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=442] ["to ID"=452] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.151 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=452] ["to ID"=462] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.151 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=462] ["to ID"=472] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.152 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=472] ["to ID"=482] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.152 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=482] ["to ID"=492] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.152 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=492] ["to ID"=502] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.152 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=502] ["to ID"=512] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.153 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=512] ["to ID"=522] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.153 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=522] ["to ID"=532] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.153 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=532] ["to ID"=542] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.154 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=542] ["to ID"=552] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.154 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=552] ["to ID"=562] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.154 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=562] ["to ID"=568] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.160 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=4] ["to ID"=5] ["table ID"=22] ["database ID"=1]
[2024/05/15 17:09:40.163 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=7122] ["to ID"=7132] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.164 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=7132] ["to ID"=7142] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.164 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=7142] ["to ID"=7152] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.164 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=7152] ["to ID"=7162] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.164 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=7162] ["to ID"=7172] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.164 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=7172] ["to ID"=7182] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.165 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=7182] ["to ID"=7192] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.165 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=7192] ["to ID"=7202] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.165 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=7202] ["to ID"=7212] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.166 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=7212] ["to ID"=7222] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.166 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=7222] ["to ID"=7232] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.166 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=7232] ["to ID"=7242] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.166 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=7242] ["to ID"=7252] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.166 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=7252] ["to ID"=7262] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.167 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=7262] ["to ID"=7272] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.167 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=7272] ["to ID"=7282] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.167 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=7282] ["to ID"=7292] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.167 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=7292] ["to ID"=7302] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.167 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=7302] ["to ID"=7312] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.168 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=7312] ["to ID"=7322] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.168 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=7322] ["to ID"=7332] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.168 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=7332] ["to ID"=7342] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.168 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=7342] ["to ID"=7352] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.168 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=7352] ["to ID"=7362] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.168 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=7362] ["to ID"=7372] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.169 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=7372] ["to ID"=7382] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.169 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=7382] ["to ID"=7392] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.169 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=7392] ["to ID"=7402] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.169 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=7402] ["to ID"=7412] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.169 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=7412] ["to ID"=7422] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.170 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=7422] ["to ID"=7432] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.170 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=7432] ["to ID"=7442] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.170 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=7442] ["to ID"=7452] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.170 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=7452] ["to ID"=7462] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.170 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=7462] ["to ID"=7472] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.171 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=7472] ["to ID"=7482] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.172 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=7482] ["to ID"=7492] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.172 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=7492] ["to ID"=7502] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.172 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=7502] ["to ID"=7512] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.173 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=7512] ["to ID"=7522] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.173 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=7522] ["to ID"=7532] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.173 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=7532] ["to ID"=7542] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.174 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=7542] ["to ID"=7552] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.174 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=7552] ["to ID"=7562] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.174 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=7562] ["to ID"=7572] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.174 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=7572] ["to ID"=7582] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.175 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=7582] ["to ID"=7592] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.175 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=7592] ["to ID"=7602] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.175 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=7602] ["to ID"=7612] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.175 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=7612] ["to ID"=7622] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.177 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=22] ["to ID"=23] ["table ID"=24] ["database ID"=1]
[2024/05/15 17:09:40.178 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=568] ["to ID"=578] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.178 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=578] ["to ID"=588] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.178 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=588] ["to ID"=598] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.179 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=598] ["to ID"=608] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.179 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=608] ["to ID"=618] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.179 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=618] ["to ID"=628] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.180 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=628] ["to ID"=638] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.180 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=638] ["to ID"=648] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.180 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=648] ["to ID"=658] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.180 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=658] ["to ID"=668] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.181 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=668] ["to ID"=678] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.181 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=678] ["to ID"=688] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.182 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=688] ["to ID"=698] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.182 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=698] ["to ID"=708] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.182 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=708] ["to ID"=718] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.183 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=718] ["to ID"=728] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.183 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=728] ["to ID"=738] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.184 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=738] ["to ID"=748] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.185 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=748] ["to ID"=758] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.185 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=758] ["to ID"=768] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.186 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=768] ["to ID"=778] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.186 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=778] ["to ID"=788] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.186 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=788] ["to ID"=798] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.187 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=798] ["to ID"=808] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.187 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=808] ["to ID"=818] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.187 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=818] ["to ID"=824] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.192 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=5] ["to ID"=6] ["table ID"=22] ["database ID"=1]
[2024/05/15 17:09:40.195 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=7622] ["to ID"=7632] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.195 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=7632] ["to ID"=7642] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.196 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=7642] ["to ID"=7652] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.196 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=7652] ["to ID"=7662] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.196 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=7662] ["to ID"=7672] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.196 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=7672] ["to ID"=7682] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.196 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=7682] ["to ID"=7692] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.196 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=7692] ["to ID"=7702] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.197 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=7702] ["to ID"=7712] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.197 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=7712] ["to ID"=7722] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.197 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=7722] ["to ID"=7732] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.197 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=7732] ["to ID"=7742] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.197 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=7742] ["to ID"=7752] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.198 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=7752] ["to ID"=7762] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.198 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=7762] ["to ID"=7772] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.199 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=7772] ["to ID"=7782] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.199 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=7782] ["to ID"=7792] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.200 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=7792] ["to ID"=7802] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.201 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=7802] ["to ID"=7812] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.201 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=7812] ["to ID"=7822] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.202 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=7822] ["to ID"=7832] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.202 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=7832] ["to ID"=7842] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.202 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=7842] ["to ID"=7852] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.202 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=7852] ["to ID"=7862] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.202 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=7862] ["to ID"=7872] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.203 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=7872] ["to ID"=7882] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.203 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=7882] ["to ID"=7892] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.203 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=7892] ["to ID"=7902] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.203 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=7902] ["to ID"=7912] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.203 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=7912] ["to ID"=7922] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.203 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=7922] ["to ID"=7932] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.204 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=7932] ["to ID"=7942] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.204 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=7942] ["to ID"=7952] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.204 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=7952] ["to ID"=7962] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.204 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=7962] ["to ID"=7972] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.204 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=7972] ["to ID"=7982] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.205 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=7982] ["to ID"=7992] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.205 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=7992] ["to ID"=8002] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.205 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=8002] ["to ID"=8012] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.205 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=8012] ["to ID"=8022] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.205 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=8022] ["to ID"=8032] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.206 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=8032] ["to ID"=8042] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.206 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=8042] ["to ID"=8052] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.206 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=8052] ["to ID"=8062] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.207 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=8062] ["to ID"=8072] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.207 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=8072] ["to ID"=8082] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.208 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=8082] ["to ID"=8092] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.208 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=8092] ["to ID"=8102] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.208 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=8102] ["to ID"=8112] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.208 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=8112] ["to ID"=8122] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.209 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=23] ["to ID"=24] ["table ID"=24] ["database ID"=1]
[2024/05/15 17:09:40.210 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=824] ["to ID"=834] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.210 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=834] ["to ID"=844] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.210 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=844] ["to ID"=854] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.211 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=854] ["to ID"=864] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.211 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=864] ["to ID"=874] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.211 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=874] ["to ID"=884] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.212 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=884] ["to ID"=894] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.212 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=894] ["to ID"=904] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.212 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=904] ["to ID"=914] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.213 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=914] ["to ID"=924] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.213 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=924] ["to ID"=934] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.213 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=934] ["to ID"=944] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.213 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=944] ["to ID"=954] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.214 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=954] ["to ID"=964] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.214 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=964] ["to ID"=974] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.214 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=974] ["to ID"=984] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.215 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=984] ["to ID"=994] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.215 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=994] ["to ID"=1004] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.215 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1004] ["to ID"=1014] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.215 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1014] ["to ID"=1024] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.216 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1024] ["to ID"=1034] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.216 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1034] ["to ID"=1044] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.216 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1044] ["to ID"=1054] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.217 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1054] ["to ID"=1064] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.217 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1064] ["to ID"=1074] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.217 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1074] ["to ID"=1080] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.222 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=6] ["to ID"=7] ["table ID"=22] ["database ID"=1]
[2024/05/15 17:09:40.226 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=8122] ["to ID"=8132] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.226 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=8132] ["to ID"=8142] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.226 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=8142] ["to ID"=8152] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.226 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=8152] ["to ID"=8162] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.226 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=8162] ["to ID"=8172] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.227 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=8172] ["to ID"=8182] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.228 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=8182] ["to ID"=8192] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.228 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=8192] ["to ID"=8202] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.228 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=8202] ["to ID"=8212] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.228 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=8212] ["to ID"=8222] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.228 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=8222] ["to ID"=8232] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.229 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=8232] ["to ID"=8242] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.229 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=8242] ["to ID"=8252] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.229 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=8252] ["to ID"=8262] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.229 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=8262] ["to ID"=8272] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.229 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=8272] ["to ID"=8282] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.230 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=8282] ["to ID"=8292] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.230 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=8292] ["to ID"=8302] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.230 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=8302] ["to ID"=8312] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.230 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=8312] ["to ID"=8322] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.230 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=8322] ["to ID"=8332] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.231 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=8332] ["to ID"=8342] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.231 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=8342] ["to ID"=8352] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.231 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=8352] ["to ID"=8362] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.231 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=8362] ["to ID"=8372] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.231 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=8372] ["to ID"=8382] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.232 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=8382] ["to ID"=8392] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.232 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=8392] ["to ID"=8402] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.232 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=8402] ["to ID"=8412] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.232 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=8412] ["to ID"=8422] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.232 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=8422] ["to ID"=8432] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.233 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=8432] ["to ID"=8442] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.233 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=8442] ["to ID"=8452] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.233 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=8452] ["to ID"=8462] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.233 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=8462] ["to ID"=8472] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.233 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=8472] ["to ID"=8482] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.234 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=8482] ["to ID"=8492] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.234 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=8492] ["to ID"=8502] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.234 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=8502] ["to ID"=8512] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.234 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=8512] ["to ID"=8522] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.234 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=8522] ["to ID"=8532] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.235 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=8532] ["to ID"=8542] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.235 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=8542] ["to ID"=8552] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.235 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=8552] ["to ID"=8562] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.235 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=8562] ["to ID"=8572] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.235 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=8572] ["to ID"=8582] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.236 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=8582] ["to ID"=8592] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.236 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=8592] ["to ID"=8602] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.236 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=8602] ["to ID"=8612] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.236 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=8612] ["to ID"=8622] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.238 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=24] ["to ID"=25] ["table ID"=24] ["database ID"=1]
[2024/05/15 17:09:40.239 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1080] ["to ID"=1090] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.240 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1090] ["to ID"=1100] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.240 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1100] ["to ID"=1110] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.241 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1110] ["to ID"=1120] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.241 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1120] ["to ID"=1130] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.241 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1130] ["to ID"=1140] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.242 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1140] ["to ID"=1150] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.242 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1150] ["to ID"=1160] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.242 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1160] ["to ID"=1170] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.242 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1170] ["to ID"=1180] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.243 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1180] ["to ID"=1190] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.243 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1190] ["to ID"=1200] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.243 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1200] ["to ID"=1210] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.244 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1210] ["to ID"=1220] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.244 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1220] ["to ID"=1230] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.244 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1230] ["to ID"=1240] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.245 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1240] ["to ID"=1250] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.245 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1250] ["to ID"=1260] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.245 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1260] ["to ID"=1270] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.246 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1270] ["to ID"=1280] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.246 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1280] ["to ID"=1290] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.246 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1290] ["to ID"=1300] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.246 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1300] ["to ID"=1310] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.247 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1310] ["to ID"=1320] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.247 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1320] ["to ID"=1330] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.247 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1330] ["to ID"=1336] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.252 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=7] ["to ID"=8] ["table ID"=22] ["database ID"=1]
[2024/05/15 17:09:40.255 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=8622] ["to ID"=8632] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.255 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=8632] ["to ID"=8642] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.255 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=8642] ["to ID"=8652] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.256 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=8652] ["to ID"=8662] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.256 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=8662] ["to ID"=8672] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.256 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=8672] ["to ID"=8682] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.256 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=8682] ["to ID"=8692] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.256 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=8692] ["to ID"=8702] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.257 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=8702] ["to ID"=8712] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.257 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=8712] ["to ID"=8722] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.257 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=8722] ["to ID"=8732] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.257 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=8732] ["to ID"=8742] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.257 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=8742] ["to ID"=8752] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.257 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=8752] ["to ID"=8762] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.258 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=8762] ["to ID"=8772] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.258 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=8772] ["to ID"=8782] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.258 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=8782] ["to ID"=8792] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.258 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=8792] ["to ID"=8802] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.258 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=8802] ["to ID"=8812] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.259 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=8812] ["to ID"=8822] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.259 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=8822] ["to ID"=8832] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.259 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=8832] ["to ID"=8842] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.259 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=8842] ["to ID"=8852] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.259 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=8852] ["to ID"=8862] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.260 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=8862] ["to ID"=8872] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.260 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=8872] ["to ID"=8882] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.260 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=8882] ["to ID"=8892] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.260 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=8892] ["to ID"=8902] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.260 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=8902] ["to ID"=8912] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.261 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=8912] ["to ID"=8922] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.261 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=8922] ["to ID"=8932] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.261 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=8932] ["to ID"=8942] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.261 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=8942] ["to ID"=8952] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.261 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=8952] ["to ID"=8962] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.262 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=8962] ["to ID"=8972] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.262 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=8972] ["to ID"=8982] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.262 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=8982] ["to ID"=8992] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.262 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=8992] ["to ID"=9002] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.263 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=9002] ["to ID"=9012] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.263 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=9012] ["to ID"=9022] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.263 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=9022] ["to ID"=9032] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.263 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=9032] ["to ID"=9042] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.263 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=9042] ["to ID"=9052] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.264 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=9052] ["to ID"=9062] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.264 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=9062] ["to ID"=9072] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.264 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=9072] ["to ID"=9082] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.264 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=9082] ["to ID"=9092] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.264 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=9092] ["to ID"=9102] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.265 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=9102] ["to ID"=9112] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.265 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=9112] ["to ID"=9122] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.266 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=25] ["to ID"=26] ["table ID"=24] ["database ID"=1]
[2024/05/15 17:09:40.267 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1336] ["to ID"=1346] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.267 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1346] ["to ID"=1356] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.267 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1356] ["to ID"=1366] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.268 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1366] ["to ID"=1376] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.268 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1376] ["to ID"=1386] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.268 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1386] ["to ID"=1396] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.269 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1396] ["to ID"=1406] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.269 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1406] ["to ID"=1416] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.269 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1416] ["to ID"=1426] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.270 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1426] ["to ID"=1436] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.270 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1436] ["to ID"=1446] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.270 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1446] ["to ID"=1456] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.271 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1456] ["to ID"=1466] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.272 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1466] ["to ID"=1476] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.272 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1476] ["to ID"=1486] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.273 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1486] ["to ID"=1496] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.274 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1496] ["to ID"=1506] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.274 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1506] ["to ID"=1516] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.274 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1516] ["to ID"=1526] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.275 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1526] ["to ID"=1536] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.275 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1536] ["to ID"=1546] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.275 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1546] ["to ID"=1556] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.275 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1556] ["to ID"=1566] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.276 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1566] ["to ID"=1576] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.276 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1576] ["to ID"=1586] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.276 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1586] ["to ID"=1592] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.281 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=8] ["to ID"=9] ["table ID"=22] ["database ID"=1]
[2024/05/15 17:09:40.286 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=9122] ["to ID"=9132] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.286 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=9132] ["to ID"=9142] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.286 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=9142] ["to ID"=9152] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.286 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=9152] ["to ID"=9162] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.287 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=9162] ["to ID"=9172] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.287 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=9172] ["to ID"=9182] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.287 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=9182] ["to ID"=9192] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.287 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=9192] ["to ID"=9202] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.288 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=9202] ["to ID"=9212] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.288 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=9212] ["to ID"=9222] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.288 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=9222] ["to ID"=9232] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.288 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=9232] ["to ID"=9242] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.288 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=9242] ["to ID"=9252] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.289 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=9252] ["to ID"=9262] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.289 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=9262] ["to ID"=9272] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.289 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=9272] ["to ID"=9282] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.289 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=9282] ["to ID"=9292] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.290 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=9292] ["to ID"=9302] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.290 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=9302] ["to ID"=9312] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.290 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=9312] ["to ID"=9322] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.290 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=9322] ["to ID"=9332] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.290 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=9332] ["to ID"=9342] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.290 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=9342] ["to ID"=9352] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.291 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=9352] ["to ID"=9362] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.291 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=9362] ["to ID"=9372] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.291 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=9372] ["to ID"=9382] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.291 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=9382] ["to ID"=9392] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.291 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=9392] ["to ID"=9402] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.292 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=9402] ["to ID"=9412] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.292 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=9412] ["to ID"=9422] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.292 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=9422] ["to ID"=9432] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.292 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=9432] ["to ID"=9442] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.292 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=9442] ["to ID"=9452] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.293 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=9452] ["to ID"=9462] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.293 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=9462] ["to ID"=9472] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.293 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=9472] ["to ID"=9482] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.293 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=9482] ["to ID"=9492] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.293 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=9492] ["to ID"=9502] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.294 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=9502] ["to ID"=9512] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.294 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=9512] ["to ID"=9522] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.294 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=9522] ["to ID"=9532] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.295 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=9532] ["to ID"=9542] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.295 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=9542] ["to ID"=9552] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.295 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=9552] ["to ID"=9562] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.295 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=9562] ["to ID"=9572] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.295 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=9572] ["to ID"=9582] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.296 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=9582] ["to ID"=9592] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.296 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=9592] ["to ID"=9602] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.296 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=9602] ["to ID"=9612] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.296 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=9612] ["to ID"=9622] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.297 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=26] ["to ID"=27] ["table ID"=24] ["database ID"=1]
[2024/05/15 17:09:40.298 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1592] ["to ID"=1602] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.298 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1602] ["to ID"=1612] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.299 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1612] ["to ID"=1622] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.299 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1622] ["to ID"=1632] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.299 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1632] ["to ID"=1642] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.300 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1642] ["to ID"=1652] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.300 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1652] ["to ID"=1662] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.300 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1662] ["to ID"=1672] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.301 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1672] ["to ID"=1682] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.301 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1682] ["to ID"=1692] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.302 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1692] ["to ID"=1702] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.302 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1702] ["to ID"=1712] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.302 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1712] ["to ID"=1722] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.302 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1722] ["to ID"=1732] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.303 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1732] ["to ID"=1742] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.303 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1742] ["to ID"=1752] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.303 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1752] ["to ID"=1762] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.304 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1762] ["to ID"=1772] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.304 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1772] ["to ID"=1782] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.304 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1782] ["to ID"=1792] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.305 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1792] ["to ID"=1802] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.305 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1802] ["to ID"=1812] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.306 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1812] ["to ID"=1822] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.306 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1822] ["to ID"=1832] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.306 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1832] ["to ID"=1842] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.307 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1842] ["to ID"=1848] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.332 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=9] ["to ID"=10] ["table ID"=22] ["database ID"=1]
[2024/05/15 17:09:40.333 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=9622] ["to ID"=9632] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.334 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=9632] ["to ID"=9642] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.334 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=9642] ["to ID"=9652] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.334 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=9652] ["to ID"=9662] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.334 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=9662] ["to ID"=9672] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.334 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=9672] ["to ID"=9682] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.335 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=9682] ["to ID"=9692] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.335 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=9692] ["to ID"=9702] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.335 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=9702] ["to ID"=9712] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.335 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=9712] ["to ID"=9722] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.335 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=9722] ["to ID"=9732] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.336 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=9732] ["to ID"=9742] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.336 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=9742] ["to ID"=9752] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.336 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=9752] ["to ID"=9762] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.336 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=9762] ["to ID"=9772] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.336 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=9772] ["to ID"=9782] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.337 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=9782] ["to ID"=9792] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.337 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=9792] ["to ID"=9802] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.337 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=9802] ["to ID"=9812] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.337 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=9812] ["to ID"=9822] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.337 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=9822] ["to ID"=9832] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.338 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=9832] ["to ID"=9842] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.338 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=9842] ["to ID"=9852] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.338 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=9852] ["to ID"=9862] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.338 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=9862] ["to ID"=9872] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.338 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=9872] ["to ID"=9882] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.339 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=9882] ["to ID"=9892] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.339 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=9892] ["to ID"=9902] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.339 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=9902] ["to ID"=9912] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.339 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=9912] ["to ID"=9922] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.339 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=9922] ["to ID"=9932] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.340 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=9932] ["to ID"=9942] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.340 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=9942] ["to ID"=9952] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.340 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=9952] ["to ID"=9962] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.340 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=9962] ["to ID"=9972] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.340 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=9972] ["to ID"=9982] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.341 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=9982] ["to ID"=9992] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.341 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=9992] ["to ID"=10002] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.341 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=10002] ["to ID"=10012] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.341 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=10012] ["to ID"=10022] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.341 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=10022] ["to ID"=10032] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.342 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=10032] ["to ID"=10042] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.342 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=10042] ["to ID"=10052] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.342 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=10052] ["to ID"=10062] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.342 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=10062] ["to ID"=10072] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.342 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=10072] ["to ID"=10082] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.343 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=10082] ["to ID"=10092] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.343 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=10092] ["to ID"=10102] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.343 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=10102] ["to ID"=10112] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.343 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=10112] ["to ID"=10122] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.344 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=27] ["to ID"=28] ["table ID"=24] ["database ID"=1]
[2024/05/15 17:09:40.345 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1848] ["to ID"=1858] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.345 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1858] ["to ID"=1868] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.346 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1868] ["to ID"=1878] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.346 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1878] ["to ID"=1888] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.346 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1888] ["to ID"=1898] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.347 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1898] ["to ID"=1908] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.347 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1908] ["to ID"=1918] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.348 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1918] ["to ID"=1928] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.348 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1928] ["to ID"=1938] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.348 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1938] ["to ID"=1948] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.349 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1948] ["to ID"=1958] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.349 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1958] ["to ID"=1968] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.349 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1968] ["to ID"=1978] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.350 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1978] ["to ID"=1988] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.350 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1988] ["to ID"=1998] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.351 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1998] ["to ID"=2008] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.351 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2008] ["to ID"=2018] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.351 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2018] ["to ID"=2028] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.352 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2028] ["to ID"=2038] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.352 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2038] ["to ID"=2048] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.352 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2048] ["to ID"=2058] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.353 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2058] ["to ID"=2068] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.353 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2068] ["to ID"=2078] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.353 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2078] ["to ID"=2088] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.354 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2088] ["to ID"=2098] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.354 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2098] ["to ID"=2104] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.425 +08:00] [WARN] [adapter.go:1647] ["# Txn_start_ts: 449777285123014661\n# Conn_ID: 1\n# Query_time: 0.726081042\n# Parse_time: 0.000074875\n# Compile_time: 0.00046425\n# Rewrite_time: 0.000330541\n# Optimize_time: 0.000010083\n# Wait_TS: 0.000002167\n# DB: reorgpartextensive\n# Is_internal: false\n# Digest: d8a7882bcbe7ed5b735d585c8fc402824f4ac87a0772b64a1cdf2e93e0dbab7f\n# Num_cop_tasks: 0\n# Mem_max: 1188733\n# Prepared: false\n# Plan_from_cache: false\n# Plan_from_binding: false\n# Has_more_results: false\n# KV_total: 0\n# PD_total: 0\n# Backoff_total: 0\n# Write_sql_response_total: 0\n# Result_rows: 0\n# Warnings: [{\"Level\":\"Note\",\"Message\":\"Analyze use auto adjusted sample rate 1.000000 for table ReorgPartExtensive.t's partition pNull, reason to use this rate is \\\"use min(1, 110000/10000) as the sample-rate=1\\\"\"},{\"Level\":\"Note\",\"Message\":\"Analyze use auto adjusted sample rate 1.000000 for table ReorgPartExtensive.t's partition pM, reason to use this rate is \\\"use min(1, 110000/10000) as the sample-rate=1\\\"\"},{\"Level\":\"Note\",\"Message\":\"Analyze use auto adjusted sample rate 1.000000 for table ReorgPartExtensive.t's partition pLast, reason to use this rate is \\\"use min(1, 110000/10000) as the sample-rate=1\\\"\"}]\n# Succ: true\n# IsExplicitTxn: false\n# IsSyncStatsFailed: false\n# Resource_group: default\nuse reorgpartextensive;\nanalyze table t;"]
[2024/05/15 17:09:40.465 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=10] ["to ID"=11] ["table ID"=22] ["database ID"=1]
[2024/05/15 17:09:40.466 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=10122] ["to ID"=10132] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.466 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=10132] ["to ID"=10142] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.466 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=10142] ["to ID"=10152] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.466 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=10152] ["to ID"=10162] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.467 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=10162] ["to ID"=10172] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.467 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=10172] ["to ID"=10182] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.467 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=10182] ["to ID"=10192] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.467 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=10192] ["to ID"=10202] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.467 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=10202] ["to ID"=10212] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.468 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=10212] ["to ID"=10222] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.468 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=10222] ["to ID"=10232] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.468 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=10232] ["to ID"=10242] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.468 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=10242] ["to ID"=10252] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.468 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=10252] ["to ID"=10262] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.468 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=10262] ["to ID"=10272] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.469 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=10272] ["to ID"=10282] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.469 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=10282] ["to ID"=10292] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.469 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=10292] ["to ID"=10302] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.469 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=10302] ["to ID"=10312] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.469 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=10312] ["to ID"=10322] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.470 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=10322] ["to ID"=10332] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.470 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=10332] ["to ID"=10342] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.470 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=10342] ["to ID"=10352] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.470 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=10352] ["to ID"=10362] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.470 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=10362] ["to ID"=10372] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.471 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=10372] ["to ID"=10382] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.472 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=10382] ["to ID"=10392] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.472 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=10392] ["to ID"=10402] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.472 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=10402] ["to ID"=10412] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.473 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=10412] ["to ID"=10422] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.473 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=10422] ["to ID"=10432] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.473 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=10432] ["to ID"=10442] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.474 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=10442] ["to ID"=10452] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.474 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=10452] ["to ID"=10462] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.474 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=10462] ["to ID"=10472] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.474 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=10472] ["to ID"=10482] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.474 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=10482] ["to ID"=10492] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.475 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=10492] ["to ID"=10502] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.475 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=10502] ["to ID"=10512] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.475 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=10512] ["to ID"=10522] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.475 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=10522] ["to ID"=10532] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.476 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=10532] ["to ID"=10542] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.476 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=10542] ["to ID"=10552] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.476 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=10552] ["to ID"=10562] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.476 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=10562] ["to ID"=10572] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.477 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=10572] ["to ID"=10582] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.477 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=10582] ["to ID"=10592] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.477 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=10592] ["to ID"=10602] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.477 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=10602] ["to ID"=10612] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.477 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=10612] ["to ID"=10622] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.478 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=28] ["to ID"=29] ["table ID"=24] ["database ID"=1]
[2024/05/15 17:09:40.479 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2104] ["to ID"=2114] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.480 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2114] ["to ID"=2124] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.480 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2124] ["to ID"=2134] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.480 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2134] ["to ID"=2144] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.480 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2144] ["to ID"=2154] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.481 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2154] ["to ID"=2164] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.481 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2164] ["to ID"=2174] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.481 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2174] ["to ID"=2184] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.482 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2184] ["to ID"=2194] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.482 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2194] ["to ID"=2204] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.482 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2204] ["to ID"=2214] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.483 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2214] ["to ID"=2224] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.483 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2224] ["to ID"=2234] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.484 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2234] ["to ID"=2244] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.485 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2244] ["to ID"=2254] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.485 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2254] ["to ID"=2264] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.486 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2264] ["to ID"=2274] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.486 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2274] ["to ID"=2284] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.486 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2284] ["to ID"=2294] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.486 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2294] ["to ID"=2304] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.487 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2304] ["to ID"=2314] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.487 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2314] ["to ID"=2324] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.487 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2324] ["to ID"=2334] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.488 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2334] ["to ID"=2344] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.488 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2344] ["to ID"=2354] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.490 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=10622] ["to ID"=10632] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.490 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=10632] ["to ID"=10642] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.491 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=10642] ["to ID"=10652] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.491 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=10652] ["to ID"=10662] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.491 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=10662] ["to ID"=10672] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.491 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=10672] ["to ID"=10682] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.491 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=10682] ["to ID"=10692] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.492 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=10692] ["to ID"=10702] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.492 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=10702] ["to ID"=10712] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.492 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=10712] ["to ID"=10722] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.492 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=10722] ["to ID"=10732] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.492 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=10732] ["to ID"=10742] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.493 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=10742] ["to ID"=10752] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.493 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=10752] ["to ID"=10762] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.493 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=10762] ["to ID"=10772] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.493 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=10772] ["to ID"=10782] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.494 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=10782] ["to ID"=10792] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.494 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=10792] ["to ID"=10802] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.494 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=10802] ["to ID"=10812] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.494 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=10812] ["to ID"=10822] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.494 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=10822] ["to ID"=10832] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.495 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=10832] ["to ID"=10842] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.495 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=10842] ["to ID"=10852] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.495 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=10852] ["to ID"=10862] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.495 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=10862] ["to ID"=10872] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.495 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=10872] ["to ID"=10882] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.496 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=10882] ["to ID"=10892] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.496 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=10892] ["to ID"=10902] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.496 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=10902] ["to ID"=10912] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.496 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=10912] ["to ID"=10922] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.496 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=10922] ["to ID"=10932] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.497 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=10932] ["to ID"=10942] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.497 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=10942] ["to ID"=10952] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.497 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=10952] ["to ID"=10962] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.497 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=10962] ["to ID"=10972] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.497 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=10972] ["to ID"=10982] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.498 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=10982] ["to ID"=10992] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.498 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=10992] ["to ID"=11002] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.498 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=11002] ["to ID"=11012] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.498 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=11012] ["to ID"=11022] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.499 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=11022] ["to ID"=11032] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.499 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=11032] ["to ID"=11042] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.499 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=11042] ["to ID"=11052] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.500 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=11052] ["to ID"=11062] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.500 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=11062] ["to ID"=11072] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.500 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=11072] ["to ID"=11082] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.500 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=11082] ["to ID"=11092] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.501 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=11092] ["to ID"=11102] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.501 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=11102] ["to ID"=11112] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.501 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=11112] ["to ID"=11122] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.502 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=29] ["to ID"=30] ["table ID"=24] ["database ID"=1]
[2024/05/15 17:09:40.503 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2354] ["to ID"=2364] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.503 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2364] ["to ID"=2374] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.503 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2374] ["to ID"=2384] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.503 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2384] ["to ID"=2394] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.504 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2394] ["to ID"=2404] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.504 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2404] ["to ID"=2414] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.504 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2414] ["to ID"=2424] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.505 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2424] ["to ID"=2434] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.505 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2434] ["to ID"=2444] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.505 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2444] ["to ID"=2454] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.506 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2454] ["to ID"=2464] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.506 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2464] ["to ID"=2474] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.506 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2474] ["to ID"=2484] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.506 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2484] ["to ID"=2494] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.507 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2494] ["to ID"=2504] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.507 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2504] ["to ID"=2514] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.507 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2514] ["to ID"=2524] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.508 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2524] ["to ID"=2534] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.508 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2534] ["to ID"=2544] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.508 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2544] ["to ID"=2554] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.509 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2554] ["to ID"=2564] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.509 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2564] ["to ID"=2566] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.510 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=11122] ["to ID"=11132] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.510 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=11132] ["to ID"=11142] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.510 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=11142] ["to ID"=11152] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.511 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=11152] ["to ID"=11162] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.511 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=11162] ["to ID"=11172] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.511 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=11172] ["to ID"=11182] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.511 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=11182] ["to ID"=11192] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.511 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=11192] ["to ID"=11202] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.512 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=11202] ["to ID"=11212] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.512 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=11212] ["to ID"=11222] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.512 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=11222] ["to ID"=11232] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.512 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=11232] ["to ID"=11242] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.512 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=11242] ["to ID"=11252] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.512 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=11252] ["to ID"=11262] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.513 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=11262] ["to ID"=11272] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.513 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=11272] ["to ID"=11282] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.513 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=11282] ["to ID"=11292] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.513 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=11292] ["to ID"=11302] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.513 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=11302] ["to ID"=11312] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.514 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=11312] ["to ID"=11322] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.514 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=11322] ["to ID"=11332] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.514 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=11332] ["to ID"=11342] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.514 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=11342] ["to ID"=11352] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.514 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=11352] ["to ID"=11362] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.515 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=11362] ["to ID"=11372] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.515 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=11372] ["to ID"=11382] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.515 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=11382] ["to ID"=11392] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.516 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=11392] ["to ID"=11402] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.516 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=11402] ["to ID"=11412] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.516 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=11412] ["to ID"=11422] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.516 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=11422] ["to ID"=11432] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.516 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=11432] ["to ID"=11442] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.517 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=11442] ["to ID"=11452] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.517 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=11452] ["to ID"=11462] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.517 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=11462] ["to ID"=11472] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.518 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=11472] ["to ID"=11482] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.518 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=11482] ["to ID"=11492] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.518 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=11492] ["to ID"=11502] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.518 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=11502] ["to ID"=11512] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.518 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=11512] ["to ID"=11522] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.519 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=11522] ["to ID"=11532] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.519 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=11532] ["to ID"=11542] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.519 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=11542] ["to ID"=11552] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.519 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=11552] ["to ID"=11562] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.519 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=11562] ["to ID"=11572] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.520 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=11572] ["to ID"=11582] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.520 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=11582] ["to ID"=11592] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.520 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=11592] ["to ID"=11602] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.520 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=11602] ["to ID"=11612] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.520 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=11612] ["to ID"=11622] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.523 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=30] ["to ID"=31] ["table ID"=24] ["database ID"=1]
[2024/05/15 17:09:40.523 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2566] ["to ID"=2576] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.524 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2576] ["to ID"=2586] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.524 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2586] ["to ID"=2596] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.524 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2596] ["to ID"=2606] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.524 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2606] ["to ID"=2616] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.525 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2616] ["to ID"=2626] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.525 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2626] ["to ID"=2636] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.526 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2636] ["to ID"=2646] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.526 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2646] ["to ID"=2656] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.526 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2656] ["to ID"=2666] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.527 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2666] ["to ID"=2676] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.527 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2676] ["to ID"=2686] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.527 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2686] ["to ID"=2696] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.528 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2696] ["to ID"=2706] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.528 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2706] ["to ID"=2716] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.528 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2716] ["to ID"=2726] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.528 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2726] ["to ID"=2736] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.529 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2736] ["to ID"=2746] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.529 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2746] ["to ID"=2756] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.529 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2756] ["to ID"=2766] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.530 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2766] ["to ID"=2776] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.530 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2776] ["to ID"=2786] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.530 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2786] ["to ID"=2796] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.530 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2796] ["to ID"=2806] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.531 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2806] ["to ID"=2816] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.533 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=11622] ["to ID"=11632] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.533 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=11632] ["to ID"=11642] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.534 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=11642] ["to ID"=11652] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.534 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=11652] ["to ID"=11662] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.534 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=11662] ["to ID"=11672] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.534 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=11672] ["to ID"=11682] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.534 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=11682] ["to ID"=11692] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.535 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=11692] ["to ID"=11702] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.535 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=11702] ["to ID"=11712] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.536 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=11712] ["to ID"=11722] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.536 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=11722] ["to ID"=11732] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.536 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=11732] ["to ID"=11742] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.536 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=11742] ["to ID"=11752] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.537 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=11752] ["to ID"=11762] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.537 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=11762] ["to ID"=11772] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.537 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=11772] ["to ID"=11782] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.537 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=11782] ["to ID"=11792] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.537 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=11792] ["to ID"=11802] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.538 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=11802] ["to ID"=11812] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.538 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=11812] ["to ID"=11822] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.538 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=11822] ["to ID"=11832] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.538 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=11832] ["to ID"=11842] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.538 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=11842] ["to ID"=11852] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.539 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=11852] ["to ID"=11862] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.539 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=11862] ["to ID"=11872] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.539 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=11872] ["to ID"=11882] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.539 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=11882] ["to ID"=11892] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.539 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=11892] ["to ID"=11902] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.540 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=11902] ["to ID"=11912] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.540 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=11912] ["to ID"=11922] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.540 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=11922] ["to ID"=11932] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.540 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=11932] ["to ID"=11942] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.540 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=11942] ["to ID"=11952] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.541 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=11952] ["to ID"=11962] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.541 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=11962] ["to ID"=11972] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.541 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=11972] ["to ID"=11982] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.541 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=11982] ["to ID"=11992] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.541 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=11992] ["to ID"=12002] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.542 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=12002] ["to ID"=12012] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.542 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=12012] ["to ID"=12022] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.542 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=12022] ["to ID"=12032] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.542 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=12032] ["to ID"=12042] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.542 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=12042] ["to ID"=12052] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.543 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=12052] ["to ID"=12062] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.543 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=12062] ["to ID"=12072] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.543 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=12072] ["to ID"=12082] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.543 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=12082] ["to ID"=12092] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.543 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=12092] ["to ID"=12102] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.544 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=12102] ["to ID"=12112] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.544 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=12112] ["to ID"=12122] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.545 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=31] ["to ID"=32] ["table ID"=24] ["database ID"=1]
[2024/05/15 17:09:40.546 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2816] ["to ID"=2826] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.546 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2826] ["to ID"=2836] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.546 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2836] ["to ID"=2846] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.547 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2846] ["to ID"=2856] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.547 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2856] ["to ID"=2866] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.547 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2866] ["to ID"=2876] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.548 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2876] ["to ID"=2886] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.548 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2886] ["to ID"=2896] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.549 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2896] ["to ID"=2906] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.549 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2906] ["to ID"=2916] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.549 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2916] ["to ID"=2926] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.550 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2926] ["to ID"=2936] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.550 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2936] ["to ID"=2946] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.550 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2946] ["to ID"=2956] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.551 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2956] ["to ID"=2966] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.551 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2966] ["to ID"=2976] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.551 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2976] ["to ID"=2986] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.551 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2986] ["to ID"=2996] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.552 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2996] ["to ID"=3006] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.552 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3006] ["to ID"=3016] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.552 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3016] ["to ID"=3026] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.553 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3026] ["to ID"=3036] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.553 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3036] ["to ID"=3046] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.553 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3046] ["to ID"=3056] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.554 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3056] ["to ID"=3066] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.555 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=12122] ["to ID"=12132] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.555 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=12132] ["to ID"=12142] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.556 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=12142] ["to ID"=12152] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.556 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=12152] ["to ID"=12162] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.556 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=12162] ["to ID"=12172] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.556 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=12172] ["to ID"=12182] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.557 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=12182] ["to ID"=12192] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.557 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=12192] ["to ID"=12202] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.557 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=12202] ["to ID"=12212] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.557 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=12212] ["to ID"=12222] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.557 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=12222] ["to ID"=12232] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.558 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=12232] ["to ID"=12242] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.558 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=12242] ["to ID"=12252] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.558 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=12252] ["to ID"=12262] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.558 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=12262] ["to ID"=12272] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.559 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=12272] ["to ID"=12282] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.559 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=12282] ["to ID"=12292] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.559 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=12292] ["to ID"=12302] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.559 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=12302] ["to ID"=12312] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.560 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=12312] ["to ID"=12322] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.560 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=12322] ["to ID"=12332] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.560 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=12332] ["to ID"=12342] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.560 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=12342] ["to ID"=12352] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.561 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=12352] ["to ID"=12362] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.561 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=12362] ["to ID"=12372] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.561 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=12372] ["to ID"=12382] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.561 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=12382] ["to ID"=12392] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.561 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=12392] ["to ID"=12402] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.562 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=12402] ["to ID"=12412] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.562 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=12412] ["to ID"=12422] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.562 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=12422] ["to ID"=12432] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.562 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=12432] ["to ID"=12442] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.562 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=12442] ["to ID"=12452] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.563 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=12452] ["to ID"=12462] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.563 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=12462] ["to ID"=12472] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.563 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=12472] ["to ID"=12482] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.563 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=12482] ["to ID"=12492] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.563 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=12492] ["to ID"=12502] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.564 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=12502] ["to ID"=12512] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.564 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=12512] ["to ID"=12522] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.564 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=12522] ["to ID"=12532] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.564 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=12532] ["to ID"=12542] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.564 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=12542] ["to ID"=12552] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.564 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=12552] ["to ID"=12562] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.565 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=12562] ["to ID"=12572] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.565 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=12572] ["to ID"=12582] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.565 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=12582] ["to ID"=12592] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.565 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=12592] ["to ID"=12602] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.566 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=12602] ["to ID"=12612] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.566 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=12612] ["to ID"=12622] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.567 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=32] ["to ID"=33] ["table ID"=24] ["database ID"=1]
[2024/05/15 17:09:40.567 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3066] ["to ID"=3076] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.568 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3076] ["to ID"=3086] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.568 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3086] ["to ID"=3096] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.568 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3096] ["to ID"=3106] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.569 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3106] ["to ID"=3116] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.569 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3116] ["to ID"=3126] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.569 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3126] ["to ID"=3136] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.569 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3136] ["to ID"=3146] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.570 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3146] ["to ID"=3156] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.570 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3156] ["to ID"=3166] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.570 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3166] ["to ID"=3176] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.571 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3176] ["to ID"=3186] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.571 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3186] ["to ID"=3196] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.571 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3196] ["to ID"=3206] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.572 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3206] ["to ID"=3216] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.572 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3216] ["to ID"=3226] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.572 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3226] ["to ID"=3236] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.572 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3236] ["to ID"=3246] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.573 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3246] ["to ID"=3256] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.574 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3256] ["to ID"=3266] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.574 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3266] ["to ID"=3276] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.575 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3276] ["to ID"=3286] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.576 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3286] ["to ID"=3296] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.576 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3296] ["to ID"=3306] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.576 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3306] ["to ID"=3316] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.578 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=12622] ["to ID"=12632] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.578 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=12632] ["to ID"=12642] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.578 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=12642] ["to ID"=12652] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.578 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=12652] ["to ID"=12662] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.579 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=12662] ["to ID"=12672] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.579 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=12672] ["to ID"=12682] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.579 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=12682] ["to ID"=12692] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.579 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=12692] ["to ID"=12702] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.580 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=12702] ["to ID"=12712] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.580 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=12712] ["to ID"=12722] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.580 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=12722] ["to ID"=12732] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.580 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=12732] ["to ID"=12742] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.580 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=12742] ["to ID"=12752] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.581 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=12752] ["to ID"=12762] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.581 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=12762] ["to ID"=12772] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.581 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=12772] ["to ID"=12782] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.581 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=12782] ["to ID"=12792] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.581 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=12792] ["to ID"=12802] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.582 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=12802] ["to ID"=12812] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.582 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=12812] ["to ID"=12822] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.582 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=12822] ["to ID"=12832] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.582 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=12832] ["to ID"=12842] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.582 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=12842] ["to ID"=12852] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.583 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=12852] ["to ID"=12862] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.583 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=12862] ["to ID"=12872] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.583 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=12872] ["to ID"=12882] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.583 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=12882] ["to ID"=12892] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.584 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=12892] ["to ID"=12902] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.584 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=12902] ["to ID"=12912] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.584 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=12912] ["to ID"=12922] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.584 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=12922] ["to ID"=12932] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.585 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=12932] ["to ID"=12942] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.585 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=12942] ["to ID"=12952] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.585 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=12952] ["to ID"=12962] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.586 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=12962] ["to ID"=12972] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.586 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=12972] ["to ID"=12982] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.586 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=12982] ["to ID"=12992] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.586 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=12992] ["to ID"=13002] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.586 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=13002] ["to ID"=13012] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.587 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=13012] ["to ID"=13022] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.587 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=13022] ["to ID"=13032] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.587 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=13032] ["to ID"=13042] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.587 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=13042] ["to ID"=13052] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.587 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=13052] ["to ID"=13062] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.588 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=13062] ["to ID"=13072] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.588 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=13072] ["to ID"=13082] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.588 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=13082] ["to ID"=13092] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.588 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=13092] ["to ID"=13102] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.588 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=13102] ["to ID"=13112] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.589 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=13112] ["to ID"=13122] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.591 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=33] ["to ID"=34] ["table ID"=24] ["database ID"=1]
[2024/05/15 17:09:40.592 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3316] ["to ID"=3326] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.592 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3326] ["to ID"=3336] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.592 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3336] ["to ID"=3346] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.593 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3346] ["to ID"=3356] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.593 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3356] ["to ID"=3366] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.593 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3366] ["to ID"=3376] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.594 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3376] ["to ID"=3386] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.594 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3386] ["to ID"=3396] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.594 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3396] ["to ID"=3406] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.594 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3406] ["to ID"=3416] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.595 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3416] ["to ID"=3426] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.595 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3426] ["to ID"=3436] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.595 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3436] ["to ID"=3446] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.596 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3446] ["to ID"=3456] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.596 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3456] ["to ID"=3466] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.596 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3466] ["to ID"=3476] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.596 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3476] ["to ID"=3486] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.597 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3486] ["to ID"=3496] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.597 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3496] ["to ID"=3506] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.597 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3506] ["to ID"=3516] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.598 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3516] ["to ID"=3526] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.598 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3526] ["to ID"=3536] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.598 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3536] ["to ID"=3546] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.598 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3546] ["to ID"=3556] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.599 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3556] ["to ID"=3566] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.600 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=13122] ["to ID"=13132] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.600 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=13132] ["to ID"=13142] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.600 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=13142] ["to ID"=13152] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.601 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=13152] ["to ID"=13162] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.601 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=13162] ["to ID"=13172] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.601 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=13172] ["to ID"=13182] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.601 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=13182] ["to ID"=13192] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.602 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=13192] ["to ID"=13202] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.602 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=13202] ["to ID"=13212] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.602 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=13212] ["to ID"=13222] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.602 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=13222] ["to ID"=13232] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.602 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=13232] ["to ID"=13242] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.603 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=13242] ["to ID"=13252] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.603 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=13252] ["to ID"=13262] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.603 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=13262] ["to ID"=13272] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.603 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=13272] ["to ID"=13282] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.603 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=13282] ["to ID"=13292] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.604 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=13292] ["to ID"=13302] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.604 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=13302] ["to ID"=13312] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.604 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=13312] ["to ID"=13322] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.604 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=13322] ["to ID"=13332] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.604 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=13332] ["to ID"=13342] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.605 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=13342] ["to ID"=13352] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.605 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=13352] ["to ID"=13362] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.605 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=13362] ["to ID"=13372] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.605 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=13372] ["to ID"=13382] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.605 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=13382] ["to ID"=13392] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.606 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=13392] ["to ID"=13402] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.606 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=13402] ["to ID"=13412] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.606 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=13412] ["to ID"=13422] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.606 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=13422] ["to ID"=13432] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.606 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=13432] ["to ID"=13442] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.607 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=13442] ["to ID"=13452] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.607 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=13452] ["to ID"=13462] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.607 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=13462] ["to ID"=13472] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.607 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=13472] ["to ID"=13482] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.607 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=13482] ["to ID"=13492] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.608 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=13492] ["to ID"=13502] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.608 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=13502] ["to ID"=13512] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.608 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=13512] ["to ID"=13522] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.608 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=13522] ["to ID"=13532] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.608 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=13532] ["to ID"=13542] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.609 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=13542] ["to ID"=13552] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.609 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=13552] ["to ID"=13562] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.609 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=13562] ["to ID"=13572] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.609 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=13572] ["to ID"=13582] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.610 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=13582] ["to ID"=13592] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.610 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=13592] ["to ID"=13602] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.610 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=13602] ["to ID"=13612] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.610 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=13612] ["to ID"=13622] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.611 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=34] ["to ID"=35] ["table ID"=24] ["database ID"=1]
[2024/05/15 17:09:40.612 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3566] ["to ID"=3576] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.612 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3576] ["to ID"=3586] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.612 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3586] ["to ID"=3596] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.613 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3596] ["to ID"=3606] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.613 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3606] ["to ID"=3616] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.613 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3616] ["to ID"=3626] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.614 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3626] ["to ID"=3636] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.614 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3636] ["to ID"=3646] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.614 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3646] ["to ID"=3656] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.615 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3656] ["to ID"=3666] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.615 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3666] ["to ID"=3676] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.615 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3676] ["to ID"=3686] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.615 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3686] ["to ID"=3696] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.616 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3696] ["to ID"=3706] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.616 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3706] ["to ID"=3716] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.616 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3716] ["to ID"=3726] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.617 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3726] ["to ID"=3736] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.617 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3736] ["to ID"=3746] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.617 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3746] ["to ID"=3756] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.618 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3756] ["to ID"=3766] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.618 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3766] ["to ID"=3776] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.618 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3776] ["to ID"=3786] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.619 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3786] ["to ID"=3796] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.619 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3796] ["to ID"=3806] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.619 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3806] ["to ID"=3816] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.620 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=13622] ["to ID"=13632] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.622 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=13632] ["to ID"=13642] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.622 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=13642] ["to ID"=13652] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.622 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=13652] ["to ID"=13662] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.622 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=13662] ["to ID"=13672] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.623 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=13672] ["to ID"=13682] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.623 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=13682] ["to ID"=13692] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.623 +08:00] [INFO] [info.go:1142] [SetTiFlashGroupConfig]
[2024/05/15 17:09:40.624 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=13692] ["to ID"=13702] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.624 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=13702] ["to ID"=13712] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.624 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=13712] ["to ID"=13722] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.625 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=13722] ["to ID"=13732] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.625 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=13732] ["to ID"=13742] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.625 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=13742] ["to ID"=13752] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.625 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=13752] ["to ID"=13762] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.626 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=13762] ["to ID"=13772] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.626 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=13772] ["to ID"=13782] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.627 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=13782] ["to ID"=13792] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.627 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=13792] ["to ID"=13802] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.628 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=13802] ["to ID"=13812] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.628 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=13812] ["to ID"=13822] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.628 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=13822] ["to ID"=13832] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.628 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=13832] ["to ID"=13842] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.628 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=13842] ["to ID"=13852] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.629 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=13852] ["to ID"=13862] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.629 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=13862] ["to ID"=13872] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.629 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=13872] ["to ID"=13882] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.630 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=13882] ["to ID"=13892] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.630 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=13892] ["to ID"=13902] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.630 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=13902] ["to ID"=13912] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.630 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=13912] ["to ID"=13922] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.630 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=13922] ["to ID"=13932] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.631 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=13932] ["to ID"=13942] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.631 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=13942] ["to ID"=13952] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.631 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=13952] ["to ID"=13962] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.631 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=13962] ["to ID"=13972] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.631 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=13972] ["to ID"=13982] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.632 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=13982] ["to ID"=13992] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.632 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=13992] ["to ID"=14002] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.632 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=14002] ["to ID"=14012] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.632 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=14012] ["to ID"=14022] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.632 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=14022] ["to ID"=14032] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.633 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=14032] ["to ID"=14042] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.633 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=14042] ["to ID"=14052] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.633 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=14052] ["to ID"=14062] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.633 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=14062] ["to ID"=14072] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.633 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=14072] ["to ID"=14082] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.634 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=14082] ["to ID"=14092] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.634 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=14092] ["to ID"=14102] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.634 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=14102] ["to ID"=14112] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.634 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=14112] ["to ID"=14122] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.636 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=35] ["to ID"=36] ["table ID"=24] ["database ID"=1]
[2024/05/15 17:09:40.637 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3816] ["to ID"=3826] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.638 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3826] ["to ID"=3836] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.638 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3836] ["to ID"=3846] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.638 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3846] ["to ID"=3856] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.639 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3856] ["to ID"=3866] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.639 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3866] ["to ID"=3876] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.640 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3876] ["to ID"=3886] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.640 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3886] ["to ID"=3896] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.640 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3896] ["to ID"=3906] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.641 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3906] ["to ID"=3916] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.641 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3916] ["to ID"=3926] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.641 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3926] ["to ID"=3936] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.642 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3936] ["to ID"=3946] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.642 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3946] ["to ID"=3956] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.642 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3956] ["to ID"=3966] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.643 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3966] ["to ID"=3976] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.643 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3976] ["to ID"=3986] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.643 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3986] ["to ID"=3996] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.644 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3996] ["to ID"=4006] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.644 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=4006] ["to ID"=4016] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.644 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=4016] ["to ID"=4026] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.644 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=4026] ["to ID"=4028] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.646 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=14122] ["to ID"=14132] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.646 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=14132] ["to ID"=14142] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.646 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=14142] ["to ID"=14152] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.646 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=14152] ["to ID"=14162] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.646 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=14162] ["to ID"=14172] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.647 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=14172] ["to ID"=14182] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.647 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=14182] ["to ID"=14192] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.647 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=14192] ["to ID"=14202] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.647 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=14202] ["to ID"=14212] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.648 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=14212] ["to ID"=14222] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.648 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=14222] ["to ID"=14232] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.648 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=14232] ["to ID"=14242] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.648 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=14242] ["to ID"=14252] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.648 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=14252] ["to ID"=14262] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.649 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=14262] ["to ID"=14272] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.649 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=14272] ["to ID"=14282] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.649 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=14282] ["to ID"=14292] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.649 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=14292] ["to ID"=14302] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.649 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=14302] ["to ID"=14312] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.650 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=14312] ["to ID"=14322] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.650 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=14322] ["to ID"=14332] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.650 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=14332] ["to ID"=14342] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.650 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=14342] ["to ID"=14352] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.651 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=14352] ["to ID"=14362] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.651 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=14362] ["to ID"=14372] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.651 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=14372] ["to ID"=14382] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.651 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=14382] ["to ID"=14392] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.651 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=14392] ["to ID"=14402] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.652 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=14402] ["to ID"=14412] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.652 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=14412] ["to ID"=14422] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.652 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=14422] ["to ID"=14432] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.652 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=14432] ["to ID"=14442] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.652 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=14442] ["to ID"=14452] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.653 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=14452] ["to ID"=14462] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.653 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=14462] ["to ID"=14472] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.653 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=14472] ["to ID"=14482] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.653 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=14482] ["to ID"=14492] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.653 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=14492] ["to ID"=14502] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.654 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=14502] ["to ID"=14512] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.654 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=14512] ["to ID"=14522] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.654 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=14522] ["to ID"=14532] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.654 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=14532] ["to ID"=14542] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.655 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=14542] ["to ID"=14552] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.655 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=14552] ["to ID"=14562] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.655 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=14562] ["to ID"=14572] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.655 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=14572] ["to ID"=14582] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.655 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=14582] ["to ID"=14592] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.656 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=14592] ["to ID"=14602] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.656 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=14602] ["to ID"=14612] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.656 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=14612] ["to ID"=14622] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.657 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=36] ["to ID"=37] ["table ID"=24] ["database ID"=1]
[2024/05/15 17:09:40.657 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=4028] ["to ID"=4038] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.658 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=4038] ["to ID"=4048] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.658 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=4048] ["to ID"=4058] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.659 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=4058] ["to ID"=4068] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.659 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=4068] ["to ID"=4078] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.659 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=4078] ["to ID"=4088] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.660 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=4088] ["to ID"=4098] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.660 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=4098] ["to ID"=4108] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.660 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=4108] ["to ID"=4118] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.661 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=4118] ["to ID"=4128] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.661 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=4128] ["to ID"=4138] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.662 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=4138] ["to ID"=4148] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.662 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=4148] ["to ID"=4158] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.662 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=4158] ["to ID"=4168] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.663 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=4168] ["to ID"=4178] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.663 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=4178] ["to ID"=4188] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.664 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=4188] ["to ID"=4198] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.664 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=4198] ["to ID"=4208] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.664 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=4208] ["to ID"=4218] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.665 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=4218] ["to ID"=4228] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.665 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=4228] ["to ID"=4238] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.666 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=4238] ["to ID"=4248] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.666 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=4248] ["to ID"=4258] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.666 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=4258] ["to ID"=4268] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.667 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=4268] ["to ID"=4278] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.668 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=14622] ["to ID"=14632] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.668 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=14632] ["to ID"=14642] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.668 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=14642] ["to ID"=14652] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.668 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=14652] ["to ID"=14662] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.669 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=14662] ["to ID"=14672] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.669 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=14672] ["to ID"=14682] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.669 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=14682] ["to ID"=14692] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.669 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=14692] ["to ID"=14702] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.670 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=14702] ["to ID"=14712] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.670 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=14712] ["to ID"=14722] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.670 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=14722] ["to ID"=14732] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.670 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=14732] ["to ID"=14742] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.670 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=14742] ["to ID"=14752] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.671 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=14752] ["to ID"=14762] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.672 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=14762] ["to ID"=14772] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.672 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=14772] ["to ID"=14782] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.672 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=14782] ["to ID"=14792] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.673 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=14792] ["to ID"=14802] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.673 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=14802] ["to ID"=14812] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.673 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=14812] ["to ID"=14822] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.674 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=14822] ["to ID"=14832] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.674 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=14832] ["to ID"=14842] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.674 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=14842] ["to ID"=14852] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.674 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=14852] ["to ID"=14862] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.675 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=14862] ["to ID"=14872] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.675 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=14872] ["to ID"=14882] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.675 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=14882] ["to ID"=14892] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.675 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=14892] ["to ID"=14902] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.675 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=14902] ["to ID"=14912] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.676 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=14912] ["to ID"=14922] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.676 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=14922] ["to ID"=14932] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.676 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=14932] ["to ID"=14942] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.676 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=14942] ["to ID"=14952] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.676 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=14952] ["to ID"=14962] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.677 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=14962] ["to ID"=14972] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.677 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=14972] ["to ID"=14982] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.677 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=14982] ["to ID"=14992] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.677 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=14992] ["to ID"=15002] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.677 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=15002] ["to ID"=15012] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.678 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=15012] ["to ID"=15022] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.678 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=15022] ["to ID"=15032] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.678 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=15032] ["to ID"=15042] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.679 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=15042] ["to ID"=15052] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.679 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=15052] ["to ID"=15062] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.680 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=15062] ["to ID"=15072] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.680 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=15072] ["to ID"=15082] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.680 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=15082] ["to ID"=15092] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.680 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=15092] ["to ID"=15102] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.680 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=15102] ["to ID"=15112] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.681 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=15112] ["to ID"=15122] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.682 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=37] ["to ID"=38] ["table ID"=24] ["database ID"=1]
[2024/05/15 17:09:40.683 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=4278] ["to ID"=4288] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.684 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=4288] ["to ID"=4298] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.684 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=4298] ["to ID"=4308] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.685 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=4308] ["to ID"=4318] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.685 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=4318] ["to ID"=4328] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.686 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=4328] ["to ID"=4338] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.686 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=4338] ["to ID"=4348] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.686 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=4348] ["to ID"=4358] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.687 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=4358] ["to ID"=4368] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.687 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=4368] ["to ID"=4378] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.687 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=4378] ["to ID"=4388] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.688 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=4388] ["to ID"=4398] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.688 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=4398] ["to ID"=4408] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.688 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=4408] ["to ID"=4418] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.688 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=4418] ["to ID"=4428] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.689 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=4428] ["to ID"=4438] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.689 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=4438] ["to ID"=4448] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.690 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=4448] ["to ID"=4458] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.690 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=4458] ["to ID"=4468] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.690 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=4468] ["to ID"=4478] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.691 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=4478] ["to ID"=4488] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.691 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=4488] ["to ID"=4498] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.692 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=4498] ["to ID"=4508] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.692 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=4508] ["to ID"=4518] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.692 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=4518] ["to ID"=4528] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.693 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=15122] ["to ID"=15132] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.694 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=15132] ["to ID"=15142] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.694 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=15142] ["to ID"=15152] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.694 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=15152] ["to ID"=15162] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.694 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=15162] ["to ID"=15172] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.694 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=15172] ["to ID"=15182] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.695 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=15182] ["to ID"=15192] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.695 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=15192] ["to ID"=15202] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.695 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=15202] ["to ID"=15212] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.695 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=15212] ["to ID"=15222] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.695 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=15222] ["to ID"=15232] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.696 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=15232] ["to ID"=15242] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.696 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=15242] ["to ID"=15252] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.696 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=15252] ["to ID"=15262] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.696 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=15262] ["to ID"=15272] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.696 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=15272] ["to ID"=15282] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.697 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=15282] ["to ID"=15292] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.697 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=15292] ["to ID"=15302] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.697 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=15302] ["to ID"=15312] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.697 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=15312] ["to ID"=15322] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.697 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=15322] ["to ID"=15332] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.698 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=15332] ["to ID"=15342] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.698 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=15342] ["to ID"=15352] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.698 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=15352] ["to ID"=15362] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.698 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=15362] ["to ID"=15372] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.698 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=15372] ["to ID"=15382] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.699 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=15382] ["to ID"=15392] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.699 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=15392] ["to ID"=15402] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.699 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=15402] ["to ID"=15412] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.699 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=15412] ["to ID"=15422] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.700 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=15422] ["to ID"=15432] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.700 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=15432] ["to ID"=15442] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.700 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=15442] ["to ID"=15452] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.700 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=15452] ["to ID"=15462] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.700 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=15462] ["to ID"=15472] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.701 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=15472] ["to ID"=15482] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.701 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=15482] ["to ID"=15492] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.701 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=15492] ["to ID"=15502] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.701 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=15502] ["to ID"=15512] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.701 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=15512] ["to ID"=15522] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.702 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=15522] ["to ID"=15532] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.702 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=15532] ["to ID"=15542] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.702 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=15542] ["to ID"=15552] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.702 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=15552] ["to ID"=15562] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.702 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=15562] ["to ID"=15572] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.703 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=15572] ["to ID"=15582] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.703 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=15582] ["to ID"=15592] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.703 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=15592] ["to ID"=15602] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.703 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=15602] ["to ID"=15612] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.703 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=15612] ["to ID"=15622] ["table ID"=40] ["database ID"=1]
[2024/05/15 17:09:40.704 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=38] ["to ID"=39] ["table ID"=24] ["database ID"=1]
[2024/05/15 17:09:40.705 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=4528] ["to ID"=4538] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.705 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=4538] ["to ID"=4548] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.706 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=4548] ["to ID"=4558] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.706 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=4558] ["to ID"=4568] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.706 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=4568] ["to ID"=4578] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.707 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=4578] ["to ID"=4588] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.707 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=4588] ["to ID"=4598] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.707 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=4598] ["to ID"=4608] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.708 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=4608] ["to ID"=4618] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.708 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=4618] ["to ID"=4628] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.708 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=4628] ["to ID"=4638] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.708 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=4638] ["to ID"=4648] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.709 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=4648] ["to ID"=4658] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.709 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=4658] ["to ID"=4668] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.709 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=4668] ["to ID"=4678] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.710 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=4678] ["to ID"=4688] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.710 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=4688] ["to ID"=4698] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.710 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=4698] ["to ID"=4708] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.711 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=4708] ["to ID"=4718] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.711 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=4718] ["to ID"=4728] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.711 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=4728] ["to ID"=4738] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.712 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=4738] ["to ID"=4748] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.712 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=4748] ["to ID"=4758] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.712 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=4758] ["to ID"=4768] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.712 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=4768] ["to ID"=4778] ["table ID"=26] ["database ID"=1]
[2024/05/15 17:09:40.714 +08:00] [INFO] [2pc.go:692] ["[BIG_TXN]"] [session=0] ["key sample"=7480000000000000165f69800000000000000104063dee0ed7c0000203800000000000000b] [size=1041828] [keys=16379] [puts=16379] [dels=0] [locks=0] [checks=0] [txnStartTS=449777285323554818]
[2024/05/15 17:09:40.771 +08:00] [INFO] [analyze.go:747] ["analyze table `ReorgPartExtensive`.`t2` has finished"] [partition=] ["job info"="analyze table columns a, b, c, d, e, f with 256 buckets, 500 topn, 1 samplerate"] ["start time"=2024/05/15 17:09:40.428 +08:00] ["end time"=2024/05/15 17:09:40.749 +08:00] [cost=321.042417ms] ["sample rate reason"="use min(1, 110000/10000) as the sample-rate=1"]
[2024/05/15 17:09:40.806 +08:00] [WARN] [adapter.go:1647] ["# Txn_start_ts: 449777285313331202\n# Conn_ID: 1\n# Query_time: 0.381339625\n# Parse_time: 0.000009917\n# Compile_time: 0.000319292\n# Rewrite_time: 0.000176667\n# Optimize_time: 0.000010083\n# Wait_TS: 0.000003417\n# DB: reorgpartextensive\n# Is_internal: false\n# Digest: 056ac9c3320e8c41fe2582edaf8ad5250c7f3ece0243cd9fe31034637e3a8ea2\n# Num_cop_tasks: 0\n# Mem_max: 1759235\n# Prepared: false\n# Plan_from_cache: false\n# Plan_from_binding: false\n# Has_more_results: false\n# KV_total: 0\n# PD_total: 0\n# Backoff_total: 0\n# Write_sql_response_total: 0\n# Result_rows: 0\n# Warnings: [{\"Level\":\"Note\",\"Message\":\"Analyze use auto adjusted sample rate 1.000000 for table ReorgPartExtensive.t2, reason to use this rate is \\\"use min(1, 110000/10000) as the sample-rate=1\\\"\"}]\n# Succ: true\n# IsExplicitTxn: false\n# IsSyncStatsFailed: false\n# Resource_group: default\nanalyze table t2;"]
[2024/05/15 17:09:40.849 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=1] [schemaVersion=54] [cur_db=ReorgPartExtensive] [sql="alter table t reorganize partition pNull, pM, pLast into (partition pI values less than (\"I\"), partition pQ values less than (\"q\"), partition pLast values less than (MAXVALUE))"] [user=]
[2024/05/15 17:09:40.851 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:116, Type:alter table reorganize partition, State:queueing, SchemaState:none, SchemaID:104, TableID:106, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:40.85 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false, UniqueWarnings:0; "] [table=true]
[2024/05/15 17:09:40.851 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:116, Type:alter table reorganize partition, State:queueing, SchemaState:none, SchemaID:104, TableID:106, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:40.85 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false, UniqueWarnings:0"] [query="alter table t reorganize partition pNull, pM, pLast into (partition pI values less than (\"I\"), partition pQ values less than (\"q\"), partition pLast values less than (MAXVALUE))"]
[2024/05/15 17:09:40.855 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 4, tp add index"] [category=ddl] [jobID=116] [conn=1] [category=ddl] [job="ID:116, Type:alter table reorganize partition, State:queueing, SchemaState:none, SchemaID:104, TableID:106, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:40.85 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false, UniqueWarnings:0"]
[2024/05/15 17:09:40.855 +08:00] [INFO] [split_region.go:85] ["split batch regions request"] ["split key count"=1] ["batch count"=1] ["first batch, region ID"=2] ["first split key"=748000000000000071]
[2024/05/15 17:09:40.855 +08:00] [INFO] [split_region.go:187] ["batch split regions complete"] ["batch region ID"=2] ["first at"=748000000000000071] ["first new region left"="{Id:2 StartKey: EndKey:7480000000000000ff7100000000000000f8 RegionEpoch:{ConfVer:1 Version:2} Peers:[id:3 store_id:1 ] EncryptionMeta:<nil> IsInFlashback:false FlashbackStartTs:0}"] ["new region count"=1]
[2024/05/15 17:09:40.855 +08:00] [INFO] [split_region.go:242] ["start scatter region"] [regionID=2]
[2024/05/15 17:09:40.855 +08:00] [INFO] [split_region.go:199] ["batch split regions, scatter region complete"] ["batch region ID"=2] [at=748000000000000071] ["new region left"="{Id:2 StartKey: EndKey:7480000000000000ff7100000000000000f8 RegionEpoch:{ConfVer:1 Version:2} Peers:[id:3 store_id:1 ] EncryptionMeta:<nil> IsInFlashback:false FlashbackStartTs:0}"]
[2024/05/15 17:09:40.855 +08:00] [INFO] [split_region.go:236] ["split regions complete"] ["region count"=1] ["region IDs"="[2]"]
[2024/05/15 17:09:40.855 +08:00] [INFO] [split_region.go:85] ["split batch regions request"] ["split key count"=1] ["batch count"=1] ["first batch, region ID"=2] ["first split key"=748000000000000072]
[2024/05/15 17:09:40.858 +08:00] [INFO] [split_region.go:187] ["batch split regions complete"] ["batch region ID"=4] ["first at"=748000000000000072] ["first new region left"="{Id:4 StartKey:7480000000000000ff7100000000000000f8 EndKey:7480000000000000ff7200000000000000f8 RegionEpoch:{ConfVer:1 Version:2} Peers:[id:5 store_id:1 ] EncryptionMeta:<nil> IsInFlashback:false FlashbackStartTs:0}"] ["new region count"=1]
[2024/05/15 17:09:40.858 +08:00] [INFO] [split_region.go:242] ["start scatter region"] [regionID=4]
[2024/05/15 17:09:40.858 +08:00] [INFO] [split_region.go:199] ["batch split regions, scatter region complete"] ["batch region ID"=4] [at=748000000000000072] ["new region left"="{Id:4 StartKey:7480000000000000ff7100000000000000f8 EndKey:7480000000000000ff7200000000000000f8 RegionEpoch:{ConfVer:1 Version:2} Peers:[id:5 store_id:1 ] EncryptionMeta:<nil> IsInFlashback:false FlashbackStartTs:0}"]
[2024/05/15 17:09:40.858 +08:00] [INFO] [split_region.go:236] ["split regions complete"] ["region count"=1] ["region IDs"="[4]"]
[2024/05/15 17:09:40.858 +08:00] [INFO] [split_region.go:85] ["split batch regions request"] ["split key count"=1] ["batch count"=1] ["first batch, region ID"=4] ["first split key"=748000000000000073]
[2024/05/15 17:09:40.861 +08:00] [INFO] [split_region.go:187] ["batch split regions complete"] ["batch region ID"=6] ["first at"=748000000000000073] ["first new region left"="{Id:6 StartKey:7480000000000000ff7200000000000000f8 EndKey:7480000000000000ff7300000000000000f8 RegionEpoch:{ConfVer:1 Version:2} Peers:[id:7 store_id:1 ] EncryptionMeta:<nil> IsInFlashback:false FlashbackStartTs:0}"] ["new region count"=1]
[2024/05/15 17:09:40.861 +08:00] [INFO] [split_region.go:242] ["start scatter region"] [regionID=6]
[2024/05/15 17:09:40.861 +08:00] [INFO] [split_region.go:199] ["batch split regions, scatter region complete"] ["batch region ID"=6] [at=748000000000000073] ["new region left"="{Id:6 StartKey:7480000000000000ff7200000000000000f8 EndKey:7480000000000000ff7300000000000000f8 RegionEpoch:{ConfVer:1 Version:2} Peers:[id:7 store_id:1 ] EncryptionMeta:<nil> IsInFlashback:false FlashbackStartTs:0}"]
[2024/05/15 17:09:40.861 +08:00] [INFO] [split_region.go:236] ["split regions complete"] ["region count"=1] ["region IDs"="[6]"]
[2024/05/15 17:09:40.861 +08:00] [INFO] [split_region.go:279] ["wait scatter region"] [regionID=2] [backoff(ms)=120000]
[2024/05/15 17:09:40.861 +08:00] [INFO] [split_region.go:288] ["wait scatter region finished"] [regionID=2]
[2024/05/15 17:09:40.861 +08:00] [INFO] [split_region.go:279] ["wait scatter region"] [regionID=4] [backoff(ms)=120000]
[2024/05/15 17:09:40.861 +08:00] [INFO] [split_region.go:288] ["wait scatter region finished"] [regionID=4]
[2024/05/15 17:09:40.861 +08:00] [INFO] [split_region.go:279] ["wait scatter region"] [regionID=6] [backoff(ms)=120000]
[2024/05/15 17:09:40.861 +08:00] [INFO] [split_region.go:288] ["wait scatter region finished"] [regionID=6]
[2024/05/15 17:09:40.862 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=54] [neededSchemaVersion=55] ["start time"=513.5s] [gotSchemaVersion=55] [phyTblIDs="[106,107,108,109]"] [actionTypes="[64,64,64,64]"] [diffTypes="[\"alter table reorganize partition\"]"]
[2024/05/15 17:09:40.863 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=116] [version=55]
[2024/05/15 17:09:40.864 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=55] ["take time"=2.096ms] [job="ID:116, Type:alter table reorganize partition, State:running, SchemaState:delete only, SchemaID:104, TableID:106, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:40.85 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false, UniqueWarnings:0"]
[2024/05/15 17:09:40.867 +08:00] [INFO] [partition_test.go:2605] ["State before ins/upd/del"] [transitions=1] [rows=1000] [SchemaState="delete only"]
[2024/05/15 17:09:40.919 +08:00] [WARN] [infoschema_v3.go:59] ["table not equal"] [tbl1="{\"id\":106,\"name\":{\"O\":\"t\",\"L\":\"t\"},\"charset\":\"utf8mb4\",\"collate\":\"utf8mb4_bin\",\"cols\":[{\"id\":1,\"name\":{\"O\":\"a\",\"L\":\"a\"},\"offset\":0,\"origin_default\":null,\"origin_default_bit\":null,\"default\":null,\"default_bit\":null,\"default_is_expr\":false,\"generated_expr_string\":\"\",\"generated_stored\":false,\"dependences\":null,\"type\":{\"Tp\":15,\"Flag\":4099,\"Flen\":255,\"Decimal\":0,\"Charset\":\"utf8mb4\",\"Collate\":\"utf8mb4_unicode_ci\",\"Elems\":null,\"ElemsIsBinaryLit\":null,\"Array\":false},\"state\":5,\"comment\":\"\",\"hidden\":false,\"change_state_info\":null,\"version\":2},{\"id\":2,\"name\":{\"O\":\"b\",\"L\":\"b\"},\"offset\":1,\"origin_default\":null,\"origin_default_bit\":null,\"default\":null,\"default_bit\":null,\"default_is_expr\":false,\"generated_expr_string\":\"\",\"generated_stored\":false,\"dependences\":null,\"type\":{\"Tp\":15,\"Flag\":0,\"Flen\":255,\"Decimal\":0,\"Charset\":\"utf8mb4\",\"Collate\":\"utf8mb4_general_ci\",\"Elems\":null,\"ElemsIsBinaryLit\":null,\"Array\":false},\"state\":5,\"comment\":\"\",\"hidden\":false,\"change_state_info\":null,\"version\":2},{\"id\":3,\"name\":{\"O\":\"c\",\"L\":\"c\"},\"offset\":2,\"origin_default\":null,\"origin_default_bit\":null,\"default\":null,\"default_bit\":null,\"default_is_expr\":false,\"generated_expr_string\":\"\",\"generated_stored\":false,\"dependences\":null,\"type\":{\"Tp\":3,\"Flag\":0,\"Flen\":11,\"Decimal\":0,\"Charset\":\"binary\",\"Collate\":\"binary\",\"Elems\":null,\"ElemsIsBinaryLit\":null,\"Array\":false},\"state\":5,\"comment\":\"\",\"hidden\":false,\"change_state_info\":null,\"version\":2},{\"id\":4,\"name\":{\"O\":\"d\",\"L\":\"d\"},\"offset\":3,\"origin_default\":null,\"origin_default_bit\":null,\"default\":null,\"default_bit\":null,\"default_is_expr\":false,\"generated_expr_string\":\"\",\"generated_stored\":false,\"dependences\":null,\"type\":{\"Tp\":12,\"Flag\":128,\"Flen\":19,\"Decimal\":0,\"Charset\":\"binary\",\"Collate\":\"binary\",\"Elems\":null,\"ElemsIsBinaryLit\":null,\"Array\":false},\"state\":5,\"comment\":\"\",\"hidden\":false,\"change_state_info\":null,\"version\":2},{\"id\":5,\"name\":{\"O\":\"e\",\"L\":\"e\"},\"offset\":4,\"origin_default\":null,\"origin_default_bit\":null,\"default\":null,\"default_bit\":null,\"default_is_expr\":false,\"generated_expr_string\":\"\",\"generated_stored\":false,\"dependences\":null,\"type\":{\"Tp\":7,\"Flag\":128,\"Flen\":19,\"Decimal\":0,\"Charset\":\"binary\",\"Collate\":\"binary\",\"Elems\":null,\"ElemsIsBinaryLit\":null,\"Array\":false},\"state\":5,\"comment\":\"\",\"hidden\":false,\"change_state_info\":null,\"version\":2},{\"id\":6,\"name\":{\"O\":\"f\",\"L\":\"f\"},\"offset\":5,\"origin_default\":null,\"origin_default_bit\":null,\"default\":null,\"default_bit\":null,\"default_is_expr\":false,\"generated_expr_string\":\"\",\"generated_stored\":false,\"dependences\":null,\"type\":{\"Tp\":5,\"Flag\":0,\"Flen\":22,\"Decimal\":-1,\"Charset\":\"binary\",\"Collate\":\"binary\",\"Elems\":null,\"ElemsIsBinaryLit\":null,\"Array\":false},\"state\":5,\"comment\":\"\",\"hidden\":false,\"change_state_info\":null,\"version\":2},{\"id\":7,\"name\":{\"O\":\"g\",\"L\":\"g\"},\"offset\":6,\"origin_default\":null,\"origin_default_bit\":null,\"default\":null,\"default_bit\":null,\"default_is_expr\":false,\"generated_expr_string\":\"\",\"generated_stored\":false,\"dependences\":null,\"type\":{\"Tp\":252,\"Flag\":0,\"Flen\":65535,\"Decimal\":0,\"Charset\":\"utf8mb4\",\"Collate\":\"utf8mb4_bin\",\"Elems\":null,\"ElemsIsBinaryLit\":null,\"Array\":false},\"state\":5,\"comment\":\"\",\"hidden\":false,\"change_state_info\":null,\"version\":2}],\"index_info\":[{\"id\":1,\"idx_name\":{\"O\":\"PRIMARY\",\"L\":\"primary\"},\"tbl_name\":{\"O\":\"\",\"L\":\"\"},\"idx_cols\":[{\"name\":{\"O\":\"a\",\"L\":\"a\"},\"offset\":0,\"length\":-1}],\"state\":5,\"backfill_state\":0,\"comment\":\"\",\"index_type\":1,\"is_unique\":true,\"is_primary\":true,\"is_invisible\":false,\"is_global\":false,\"mv_index\":false}],\"constraint_info\":null,\"fk_info\":null,\"state\":5,\"pk_is_handle\":false,\"is_common_handle\":true,\"common_handle_version\":1,\"comment\":\"\",\"auto_inc_id\":0,\"auto_id_cache\":0,\"auto_rand_id\":0,\"max_col_id\":7,\"max_idx_id\":1,\"max_fk_id\":0,\"max_cst_id\":0,\"update_timestamp\":449777285426053123,\"ShardRowIDBits\":0,\"max_shard_row_id_bits\":0,\"auto_random_bits\":0,\"auto_random_range_bits\":0,\"pre_split_regions\":0,\"partition\":{\"type\":1,\"expr\":\"\",\"columns\":[{\"O\":\"a\",\"L\":\"a\"}],\"enable\":true,\"is_empty_columns\":false,\"definitions\":[{\"id\":107,\"name\":{\"O\":\"pNull\",\"L\":\"pnull\"},\"less_than\":[\"''\"],\"in_values\":null,\"policy_ref_info\":null},{\"id\":108,\"name\":{\"O\":\"pM\",\"L\":\"pm\"},\"less_than\":[\"'M'\"],\"in_values\":null,\"policy_ref_info\":null},{\"id\":109,\"name\":{\"O\":\"pLast\",\"L\":\"plast\"},\"less_than\":[\"MAXVALUE\"],\"in_values\":null,\"policy_ref_info\":null}],\"adding_definitions\":[{\"id\":113,\"name\":{\"O\":\"pI\",\"L\":\"pi\"},\"less_than\":[\"'I'\"],\"in_values\":null,\"policy_ref_info\":null},{\"id\":114,\"name\":{\"O\":\"pQ\",\"L\":\"pq\"},\"less_than\":[\"'q'\"],\"in_values\":null,\"policy_ref_info\":null},{\"id\":115,\"name\":{\"O\":\"pLast\",\"L\":\"plast\"},\"less_than\":[\"MAXVALUE\"],\"in_values\":null,\"policy_ref_info\":null}],\"dropping_definitions\":[{\"id\":107,\"name\":{\"O\":\"pNull\",\"L\":\"pnull\"},\"less_than\":[\"''\"],\"in_values\":null,\"policy_ref_info\":null},{\"id\":108,\"name\":{\"O\":\"pM\",\"L\":\"pm\"},\"less_than\":[\"'M'\"],\"in_values\":null,\"policy_ref_info\":null},{\"id\":109,\"name\":{\"O\":\"pLast\",\"L\":\"plast\"},\"less_than\":[\"MAXVALUE\"],\"in_values\":null,\"policy_ref_info\":null}],\"NewPartitionIDs\":null,\"states\":null,\"num\":3,\"ddl_state\":1,\"new_table_id\":0,\"ddl_type\":1,\"ddl_expr\":\"\",\"ddl_columns\":[{\"O\":\"a\",\"L\":\"a\"}]},\"compression\":\"\",\"view\":null,\"sequence\":null,\"Lock\":null,\"version\":5,\"tiflash_replica\":null,\"is_columnar\":false,\"temp_table_type\":0,\"cache_table_status\":0,\"policy_ref_info\":null,\"stats_options\":null,\"exchange_partition_info\":null,\"ttl_info\":null,\"revision\":1}"] [tbl2="{\"id\":106,\"name\":{\"O\":\"t\",\"L\":\"t\"},\"charset\":\"utf8mb4\",\"collate\":\"utf8mb4_bin\",\"cols\":[{\"id\":1,\"name\":{\"O\":\"a\",\"L\":\"a\"},\"offset\":0,\"origin_default\":null,\"origin_default_bit\":null,\"default\":null,\"default_bit\":null,\"default_is_expr\":false,\"generated_expr_string\":\"\",\"generated_stored\":false,\"dependences\":null,\"type\":{\"Tp\":15,\"Flag\":4099,\"Flen\":255,\"Decimal\":0,\"Charset\":\"utf8mb4\",\"Collate\":\"utf8mb4_unicode_ci\",\"Elems\":null,\"ElemsIsBinaryLit\":null,\"Array\":false},\"state\":5,\"comment\":\"\",\"hidden\":false,\"change_state_info\":null,\"version\":2},{\"id\":2,\"name\":{\"O\":\"b\",\"L\":\"b\"},\"offset\":1,\"origin_default\":null,\"origin_default_bit\":null,\"default\":null,\"default_bit\":null,\"default_is_expr\":false,\"generated_expr_string\":\"\",\"generated_stored\":false,\"dependences\":null,\"type\":{\"Tp\":15,\"Flag\":0,\"Flen\":255,\"Decimal\":0,\"Charset\":\"utf8mb4\",\"Collate\":\"utf8mb4_general_ci\",\"Elems\":null,\"ElemsIsBinaryLit\":null,\"Array\":false},\"state\":5,\"comment\":\"\",\"hidden\":false,\"change_state_info\":null,\"version\":2},{\"id\":3,\"name\":{\"O\":\"c\",\"L\":\"c\"},\"offset\":2,\"origin_default\":null,\"origin_default_bit\":null,\"default\":null,\"default_bit\":null,\"default_is_expr\":false,\"generated_expr_string\":\"\",\"generated_stored\":false,\"dependences\":null,\"type\":{\"Tp\":3,\"Flag\":0,\"Flen\":11,\"Decimal\":0,\"Charset\":\"binary\",\"Collate\":\"binary\",\"Elems\":null,\"ElemsIsBinaryLit\":null,\"Array\":false},\"state\":5,\"comment\":\"\",\"hidden\":false,\"change_state_info\":null,\"version\":2},{\"id\":4,\"name\":{\"O\":\"d\",\"L\":\"d\"},\"offset\":3,\"origin_default\":null,\"origin_default_bit\":null,\"default\":null,\"default_bit\":null,\"default_is_expr\":false,\"generated_expr_string\":\"\",\"generated_stored\":false,\"dependences\":null,\"type\":{\"Tp\":12,\"Flag\":128,\"Flen\":19,\"Decimal\":0,\"Charset\":\"binary\",\"Collate\":\"binary\",\"Elems\":null,\"ElemsIsBinaryLit\":null,\"Array\":false},\"state\":5,\"comment\":\"\",\"hidden\":false,\"change_state_info\":null,\"version\":2},{\"id\":5,\"name\":{\"O\":\"e\",\"L\":\"e\"},\"offset\":4,\"origin_default\":null,\"origin_default_bit\":null,\"default\":null,\"default_bit\":null,\"default_is_expr\":false,\"generated_expr_string\":\"\",\"generated_stored\":false,\"dependences\":null,\"type\":{\"Tp\":7,\"Flag\":128,\"Flen\":19,\"Decimal\":0,\"Charset\":\"binary\",\"Collate\":\"binary\",\"Elems\":null,\"ElemsIsBinaryLit\":null,\"Array\":false},\"state\":5,\"comment\":\"\",\"hidden\":false,\"change_state_info\":null,\"version\":2},{\"id\":6,\"name\":{\"O\":\"f\",\"L\":\"f\"},\"offset\":5,\"origin_default\":null,\"origin_default_bit\":null,\"default\":null,\"default_bit\":null,\"default_is_expr\":false,\"generated_expr_string\":\"\",\"generated_stored\":false,\"dependences\":null,\"type\":{\"Tp\":5,\"Flag\":0,\"Flen\":22,\"Decimal\":-1,\"Charset\":\"binary\",\"Collate\":\"binary\",\"Elems\":null,\"ElemsIsBinaryLit\":null,\"Array\":false},\"state\":5,\"comment\":\"\",\"hidden\":false,\"change_state_info\":null,\"version\":2},{\"id\":7,\"name\":{\"O\":\"g\",\"L\":\"g\"},\"offset\":6,\"origin_default\":null,\"origin_default_bit\":null,\"default\":null,\"default_bit\":null,\"default_is_expr\":false,\"generated_expr_string\":\"\",\"generated_stored\":false,\"dependences\":null,\"type\":{\"Tp\":252,\"Flag\":0,\"Flen\":65535,\"Decimal\":0,\"Charset\":\"utf8mb4\",\"Collate\":\"utf8mb4_bin\",\"Elems\":null,\"ElemsIsBinaryLit\":null,\"Array\":false},\"state\":5,\"comment\":\"\",\"hidden\":false,\"change_state_info\":null,\"version\":2}],\"index_info\":[{\"id\":1,\"idx_name\":{\"O\":\"PRIMARY\",\"L\":\"primary\"},\"tbl_name\":{\"O\":\"\",\"L\":\"\"},\"idx_cols\":[{\"name\":{\"O\":\"a\",\"L\":\"a\"},\"offset\":0,\"length\":-1}],\"state\":5,\"backfill_state\":0,\"comment\":\"\",\"index_type\":1,\"is_unique\":true,\"is_primary\":true,\"is_invisible\":false,\"is_global\":false,\"mv_index\":false}],\"constraint_info\":null,\"fk_info\":null,\"state\":5,\"pk_is_handle\":false,\"is_common_handle\":true,\"common_handle_version\":1,\"comment\":\"\",\"auto_inc_id\":0,\"auto_id_cache\":0,\"auto_rand_id\":0,\"max_col_id\":7,\"max_idx_id\":1,\"max_fk_id\":0,\"max_cst_id\":0,\"update_timestamp\":449777284862705664,\"ShardRowIDBits\":0,\"max_shard_row_id_bits\":0,\"auto_random_bits\":0,\"auto_random_range_bits\":0,\"pre_split_regions\":0,\"partition\":{\"type\":1,\"expr\":\"\",\"columns\":[{\"O\":\"a\",\"L\":\"a\"}],\"enable\":true,\"is_empty_columns\":false,\"definitions\":[{\"id\":107,\"name\":{\"O\":\"pNull\",\"L\":\"pnull\"},\"less_than\":[\"''\"],\"in_values\":null,\"policy_ref_info\":null},{\"id\":108,\"name\":{\"O\":\"pM\",\"L\":\"pm\"},\"less_than\":[\"'M'\"],\"in_values\":null,\"policy_ref_info\":null},{\"id\":109,\"name\":{\"O\":\"pLast\",\"L\":\"plast\"},\"less_than\":[\"MAXVALUE\"],\"in_values\":null,\"policy_ref_info\":null}],\"adding_definitions\":null,\"dropping_definitions\":null,\"NewPartitionIDs\":null,\"states\":null,\"num\":3,\"ddl_state\":0,\"new_table_id\":0,\"ddl_type\":0,\"ddl_expr\":\"\",\"ddl_columns\":null},\"compression\":\"\",\"view\":null,\"sequence\":null,\"Lock\":null,\"version\":5,\"tiflash_replica\":null,\"is_columnar\":false,\"temp_table_type\":0,\"cache_table_status\":0,\"policy_ref_info\":null,\"stats_options\":null,\"exchange_partition_info\":null,\"ttl_info\":null,\"revision\":0}"]
panic: inconsistent infoschema [recovered]
	panic: inconsistent infoschema

goroutine 24300 [running]:
github.com/pingcap/tidb/pkg/executor.(*Compiler).Compile.func1()
	/Users/bba/pc/tidb/pkg/executor/compiler.go:57 +0x360
panic({0x10834ba60?, 0x108c2f010?})
	/Users/bba/.gvm/gos/go1.21.0/src/runtime/panic.go:914 +0x218
github.com/pingcap/tidb/pkg/infoschema.(*infoschemaV3).TableByName(0x1401fdaea60, {{0x140244b0258?, 0x14023085ce8?}, {0x140244b0258?, 0x14023085d48?}}, {{0x1402440000c?, 0x14023085d18?}, {0x1402440000c?, 0x14023085d58?}})
	/Users/bba/pc/tidb/pkg/infoschema/infoschema_v3.go:216 +0x128
github.com/pingcap/tidb/pkg/infoschema.(*SessionExtendedInfoSchema).TableByName(0x1402433c690, {{0x140244b0258?, 0x12?}, {0x140244b0258?, 0x14023085de8?}}, {{0x1402440000c?, 0x14023085e88?}, {0x1402440000c?, 0x14023085ea8?}})
	/Users/bba/pc/tidb/pkg/infoschema/infoschema.go:696 +0x138
github.com/pingcap/tidb/pkg/planner/core.(*preprocessor).tableByName(0x140242f1730, 0x14024187450)
	/Users/bba/pc/tidb/pkg/planner/core/preprocess.go:495 +0x150
github.com/pingcap/tidb/pkg/planner/core.(*preprocessor).handleTableName(0x140242f1730, 0x14024187450)
	/Users/bba/pc/tidb/pkg/planner/core/preprocess.go:1574 +0x120
github.com/pingcap/tidb/pkg/planner/core.(*preprocessor).Enter(0x140242f1730, {0x108c7f970?, 0x14023e4d590?})
	/Users/bba/pc/tidb/pkg/planner/core/preprocess.go:256 +0x2e0
github.com/pingcap/tidb/pkg/parser/ast.(*InsertStmt).Accept(0x108c70ab0?, {0x108c524c8, 0x140242f1730})
	/Users/bba/pc/tidb/pkg/parser/ast/dml.go:2436 +0x40
github.com/pingcap/tidb/pkg/planner/core.Preprocess({0x108c70ab0, 0x1402433c5d0}, {0x108ce7720, 0x1400b5b8b40}, {0x108c7f970, 0x14023e4d590}, {0x14023086338, 0x2, 0x14023086248?})
	/Users/bba/pc/tidb/pkg/planner/core/preprocess.go:138 +0x19c
github.com/pingcap/tidb/pkg/executor.(*Compiler).Compile(0x14023086610, {0x108c70ab0?, 0x1402433c5d0?}, {0x108c87100?, 0x14023e4d590})
	/Users/bba/pc/tidb/pkg/executor/compiler.go:67 +0x1d8
github.com/pingcap/tidb/pkg/session.(*session).ExecuteStmt(0x1400b5b8b40, {0x108c70ab0?, 0x1402433c5d0?}, {0x108c87100, 0x14023e4d590?})
	/Users/bba/pc/tidb/pkg/session/session.go:2094 +0x70c
github.com/pingcap/tidb/pkg/testkit.(*TestKit).ExecWithContext(0x1400965d860, {0x108c70ab0, 0x1402433c5d0}, {0x14024400000, 0x1b902}, {0x0, 0x0, 0x0})
	/Users/bba/pc/tidb/pkg/testkit/testkit.go:384 +0x714
github.com/pingcap/tidb/pkg/testkit.(*TestKit).Exec(0x10834ba60?, {0x14024400000, 0x1b902}, {0x0, 0x0, 0x0})
	/Users/bba/pc/tidb/pkg/testkit/testkit.go:357 +0x80
github.com/pingcap/tidb/pkg/testkit.(*TestKit).ExecToErr(0x1400965d860, {0x14024400000?, 0xc8?}, {0x0?, 0x1?, 0x1?})
	/Users/bba/pc/tidb/pkg/testkit/testkit.go:430 +0x28
github.com/pingcap/tidb/pkg/table/tables/test/partition.checkDMLInAllStates.func1(0x140192c1d40)
	/Users/bba/pc/tidb/pkg/table/tables/test/partition/partition_test.go:2650 +0x1208
github.com/pingcap/tidb/pkg/table/tables/test/partition.(*testCallback).OnJobRunBefore(0x108ce3948?, 0x14008745208?)
	/Users/bba/pc/tidb/pkg/table/tables/test/partition/partition_test.go:2087 +0x2c
github.com/pingcap/tidb/pkg/ddl.(*worker).HandleDDLJobTable(0x1400b30ba00, 0x14007033500, 0x140192c1d40)
	/Users/bba/pc/tidb/pkg/ddl/ddl_worker.go:941 +0x1f0
github.com/pingcap/tidb/pkg/ddl.(*ddl).delivery2Worker.func1()
	/Users/bba/pc/tidb/pkg/ddl/job_table.go:461 +0x3c0
github.com/pingcap/tidb/pkg/util.(*WaitGroupWrapper).Run.func1()
	/Users/bba/pc/tidb/pkg/util/wait_group_wrapper.go:157 +0x58
created by github.com/pingcap/tidb/pkg/util.(*WaitGroupWrapper).Run in goroutine 15700
	/Users/bba/pc/tidb/pkg/util/wait_group_wrapper.go:155 +0x7c
[FAIL]  pkg/ddl/tests/fail TestHalfwayCancelOperations
err=exit status 1
[2024/05/15 17:09:25.259 +08:00] [INFO] [store_cache.go:510] ["change store resolve state"] [store=1] [addr=store1] [from=unresolved] [to=resolved] [liveness-state=reachable]
[2024/05/15 17:09:25.266 +08:00] [INFO] [ddl_api.go:1139] ["Automatically convert BLOB(65535) to MEDIUMBLOB"] [category=ddl]
[2024/05/15 17:09:25.267 +08:00] [INFO] [ddl_api.go:1139] ["Automatically convert BLOB(65535) to MEDIUMBLOB"] [category=ddl]
[2024/05/15 17:09:25.269 +08:00] [INFO] [ddl_api.go:1139] ["Automatically convert BLOB(65535) to MEDIUMBLOB"] [category=ddl]
[2024/05/15 17:09:25.269 +08:00] [INFO] [ddl_api.go:1139] ["Automatically convert BLOB(65535) to MEDIUMBLOB"] [category=ddl]
[2024/05/15 17:09:25.270 +08:00] [INFO] [ddl_api.go:1139] ["Automatically convert BLOB(65535) to MEDIUMBLOB"] [category=ddl]
[2024/05/15 17:09:25.277 +08:00] [INFO] [tidb.go:80] ["new domain"] [store=72674d7b-7798-4c7f-bcf1-401cdd5e3055] ["ddl lease"=200ms] ["stats lease"=3s]
[2024/05/15 17:09:25.284 +08:00] [WARN] [controller.go:198] ["[resource group controller] server does not save config, load config failed"]
[2024/05/15 17:09:25.285 +08:00] [INFO] [controller.go:185] ["load resource controller config"] [config="{\"degraded-mode-wait-duration\":\"0s\",\"ltb-max-wait-duration\":\"30s\",\"wait-retry-interval\":\"50ms\",\"wait-retry-times\":10,\"request-unit\":{\"read-base-cost\":0.125,\"read-per-batch-base-cost\":0.5,\"read-cost-per-byte\":0.0000152587890625,\"write-base-cost\":1,\"write-per-batch-base-cost\":1,\"write-cost-per-byte\":0.0009765625,\"read-cpu-ms-cost\":0.3333333333333333},\"enable-controller-trace-log\":\"false\"}"] [ru-config="{\"ReadBaseCost\":0.125,\"ReadPerBatchBaseCost\":0.5,\"ReadBytesCost\":0.0000152587890625,\"WriteBaseCost\":1,\"WritePerBatchBaseCost\":1,\"WriteBytesCost\":0.0009765625,\"CPUMsCost\":0.3333333333333333,\"LTBMaxWaitDuration\":30000000000,\"WaitRetryInterval\":50000000,\"WaitRetryTimes\":10,\"DegradedModeWaitDuration\":0}"]
[2024/05/15 17:09:25.286 +08:00] [WARN] [domain.go:244] ["failed to get schema version"] [error="There is no Write MVCC info for the schema version"] [errorVerbose="There is no Write MVCC info for the schema version\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).getTimestampForSchemaVersionWithNonEmptyDiff\n\t/Users/bba/pc/tidb/pkg/domain/domain.go:343\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).loadInfoSchema\n\t/Users/bba/pc/tidb/pkg/domain/domain.go:242\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).Reload\n\t/Users/bba/pc/tidb/pkg/domain/domain.go:614\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).Init\n\t/Users/bba/pc/tidb/pkg/domain/domain.go:1268\ngithub.com/pingcap/tidb/pkg/session.(*domainMap).Get.func1\n\t/Users/bba/pc/tidb/pkg/session/tidb.go:92\ngithub.com/pingcap/tidb/pkg/util.RunWithRetry\n\t/Users/bba/pc/tidb/pkg/util/misc.go:70\ngithub.com/pingcap/tidb/pkg/session.(*domainMap).Get\n\t/Users/bba/pc/tidb/pkg/session/tidb.go:79\ngithub.com/pingcap/tidb/pkg/session.createSessionWithOpt\n\t/Users/bba/pc/tidb/pkg/session/session.go:3633\ngithub.com/pingcap/tidb/pkg/session.createSession\n\t/Users/bba/pc/tidb/pkg/session/session.go:3625\ngithub.com/pingcap/tidb/pkg/session.runInBootstrapSession\n\t/Users/bba/pc/tidb/pkg/session/session.go:3575\ngithub.com/pingcap/tidb/pkg/session.bootstrapSessionImpl\n\t/Users/bba/pc/tidb/pkg/session/session.go:3351\ngithub.com/pingcap/tidb/pkg/session.BootstrapSession\n\t/Users/bba/pc/tidb/pkg/session/session.go:3317\ngithub.com/pingcap/tidb/pkg/ddl/tests/fail_test.createFailDBSuite\n\t/Users/bba/pc/tidb/pkg/ddl/tests/fail/fail_db_test.go:60\ngithub.com/pingcap/tidb/pkg/ddl/tests/fail_test.TestHalfwayCancelOperations\n\t/Users/bba/pc/tidb/pkg/ddl/tests/fail/fail_db_test.go:74\ntesting.tRunner\n\t/Users/bba/.gvm/gos/go1.21.0/src/testing/testing.go:1595\nruntime.goexit\n\t/Users/bba/.gvm/gos/go1.21.0/src/runtime/asm_arm64.s:1197"] [version=0]
[2024/05/15 17:09:25.296 +08:00] [INFO] [domain.go:323] ["full load InfoSchema success"] [currentSchemaVersion=0] [neededSchemaVersion=0] ["start time"=9.592708ms]
[2024/05/15 17:09:25.296 +08:00] [INFO] [domain.go:643] ["full load and reset schema validator"]
[2024/05/15 17:09:25.296 +08:00] [INFO] [ddl.go:818] ["start DDL"] [category=ddl] [ID=221fede7-e2f4-4385-86d0-8ad8f38c6fd3] [runWorker=true]
[2024/05/15 17:09:25.297 +08:00] [INFO] [ddl.go:777] ["start delRangeManager OK"] [category=ddl] ["is a emulator"=true]
[2024/05/15 17:09:25.297 +08:00] [WARN] [env.go:51] ["initialize environment failed"] [category=ddl-ingest] ["storage limitation"="only support TiKV storage"] ["current storage"=unistore] ["lightning is initialized"=false]
[2024/05/15 17:09:25.298 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=loadSchemaInLoop]
[2024/05/15 17:09:25.298 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=mdlCheckLoop]
[2024/05/15 17:09:25.298 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=topNSlowQueryLoop]
[2024/05/15 17:09:25.298 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=infoSyncerKeeper]
[2024/05/15 17:09:25.298 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=globalConfigSyncerKeeper]
[2024/05/15 17:09:25.298 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=runawayStartLoop]
[2024/05/15 17:09:25.298 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=requestUnitsWriterLoop]
[2024/05/15 17:09:25.298 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=topologySyncerKeeper]
[2024/05/15 17:09:25.298 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=closestReplicaReadCheckLoop]
[2024/05/15 17:09:25.298 +08:00] [WARN] [domain.go:1334] ["pd / etcd client not provided, won't begin Advancer."]
[2024/05/15 17:09:25.305 +08:00] [INFO] [delete_range.go:172] ["start delRange emulator"] [category=ddl]
[2024/05/15 17:09:25.306 +08:00] [INFO] [job_table.go:334] ["get global state and global state change"] [category=ddl] [oldState=false] [currState=false]
[2024/05/15 17:09:25.306 +08:00] [INFO] [runaway.go:149] ["try to start runaway manager loop"]
[2024/05/15 17:09:25.306 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=requestUnitsWriterLoop]
[2024/05/15 17:09:25.356 +08:00] [INFO] [job_table.go:334] ["get global state and global state change"] [category=ddl] [oldState=false] [currState=false]
[2024/05/15 17:09:25.356 +08:00] [INFO] [job_table.go:349] ["the owner sets owner operator value"] [category=ddl] [ownerOp=none]
[2024/05/15 17:09:25.408 +08:00] [WARN] [domain.go:244] ["failed to get schema version"] [error="There is no Write MVCC info for the schema version"] [errorVerbose="There is no Write MVCC info for the schema version\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).getTimestampForSchemaVersionWithNonEmptyDiff\n\t/Users/bba/pc/tidb/pkg/domain/domain.go:343\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).loadInfoSchema\n\t/Users/bba/pc/tidb/pkg/domain/domain.go:242\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).Reload\n\t/Users/bba/pc/tidb/pkg/domain/domain.go:614\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).loadSchemaInLoop\n\t/Users/bba/pc/tidb/pkg/domain/domain.go:922\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).Init.func2\n\t/Users/bba/pc/tidb/pkg/domain/domain.go:1295\ngithub.com/pingcap/tidb/pkg/util.(*WaitGroupEnhancedWrapper).Run.func1\n\t/Users/bba/pc/tidb/pkg/util/wait_group_wrapper.go:99\nruntime.goexit\n\t/Users/bba/.gvm/gos/go1.21.0/src/runtime/asm_arm64.s:1197"] [version=0]
[2024/05/15 17:09:25.506 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=0] [cur_db=mysql] [sql="CREATE DATABASE IF NOT EXISTS test"] [user=]
[2024/05/15 17:09:25.506 +08:00] [WARN] [domain.go:244] ["failed to get schema version"] [error="There is no Write MVCC info for the schema version"] [errorVerbose="There is no Write MVCC info for the schema version\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).getTimestampForSchemaVersionWithNonEmptyDiff\n\t/Users/bba/pc/tidb/pkg/domain/domain.go:343\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).loadInfoSchema\n\t/Users/bba/pc/tidb/pkg/domain/domain.go:242\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).Reload\n\t/Users/bba/pc/tidb/pkg/domain/domain.go:614\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).loadSchemaInLoop\n\t/Users/bba/pc/tidb/pkg/domain/domain.go:922\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).Init.func2\n\t/Users/bba/pc/tidb/pkg/domain/domain.go:1295\ngithub.com/pingcap/tidb/pkg/util.(*WaitGroupEnhancedWrapper).Run.func1\n\t/Users/bba/pc/tidb/pkg/util/wait_group_wrapper.go:99\nruntime.goexit\n\t/Users/bba/.gvm/gos/go1.21.0/src/runtime/asm_arm64.s:1197"] [version=0]
[2024/05/15 17:09:25.513 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:3, Type:create schema, State:queueing, SchemaState:none, SchemaID:2, TableID:0, RowCount:0, ArgLen:1, start time: 2024-05-15 17:09:25.509 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:09:25.513 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:3, Type:create schema, State:queueing, SchemaState:none, SchemaID:2, TableID:0, RowCount:0, ArgLen:1, start time: 2024-05-15 17:09:25.509 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE DATABASE IF NOT EXISTS test"]
[2024/05/15 17:09:25.528 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=3] [category=ddl] [job="ID:3, Type:create schema, State:queueing, SchemaState:none, SchemaID:2, TableID:0, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:25.509 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:25.538 +08:00] [INFO] [domain.go:323] ["full load InfoSchema success"] [currentSchemaVersion=0] [neededSchemaVersion=1] ["start time"=7.840666ms]
[2024/05/15 17:09:25.539 +08:00] [INFO] [domain.go:643] ["full load and reset schema validator"]
[2024/05/15 17:09:25.539 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:09:25.539 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=3] [version=1]
[2024/05/15 17:09:25.539 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=1] ["take time"=9.372ms] [job="ID:3, Type:create schema, State:done, SchemaState:public, SchemaID:2, TableID:0, RowCount:0, ArgLen:1, start time: 2024-05-15 17:09:25.509 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:25.543 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=3] [job="ID:3, Type:create schema, State:synced, SchemaState:public, SchemaID:2, TableID:0, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:25.509 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:25.547 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=3]
[2024/05/15 17:09:25.547 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:09:25.547 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=1] [cur_db=mysql] [sql="CREATE DATABASE IF NOT EXISTS `mysql`"] [user=]
[2024/05/15 17:09:25.548 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=1] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.user (\n\t\tHost\t\t\t\t\tCHAR(255),\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tauthentication_string\tTEXT,\n\t\tplugin\t\t\t\t\tCHAR(64),\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tProcess_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_db_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tSuper_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_user_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_slave_priv\t    \tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_client_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_role_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_role_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAccount_locked\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShutdown_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReload_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tFILE_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tConfig_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_Tablespace_Priv  ENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPassword_reuse_history  smallint unsigned DEFAULT NULL,\n\t\tPassword_reuse_time     smallint unsigned DEFAULT NULL,\n\t\tUser_attributes\t\t\tjson,\n\t\tToken_issuer\t\t\tVARCHAR(255),\n\t\tPassword_expired\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPassword_last_changed\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP(),\n\t\tPassword_lifetime\t\tSMALLINT UNSIGNED DEFAULT NULL,\n\t\tPRIMARY KEY (Host, User));"] [user=]
[2024/05/15 17:09:25.551 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:5, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:4, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:25.549 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:09:25.551 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:5, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:4, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:25.549 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.user (\n\t\tHost\t\t\t\t\tCHAR(255),\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tauthentication_string\tTEXT,\n\t\tplugin\t\t\t\t\tCHAR(64),\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tProcess_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_db_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tSuper_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_user_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_slave_priv\t    \tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_client_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_role_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_role_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAccount_locked\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShutdown_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReload_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tFILE_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tConfig_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_Tablespace_Priv  ENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPassword_reuse_history  smallint unsigned DEFAULT NULL,\n\t\tPassword_reuse_time     smallint unsigned DEFAULT NULL,\n\t\tUser_attributes\t\t\tjson,\n\t\tToken_issuer\t\t\tVARCHAR(255),\n\t\tPassword_expired\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPassword_last_changed\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP(),\n\t\tPassword_lifetime\t\tSMALLINT UNSIGNED DEFAULT NULL,\n\t\tPRIMARY KEY (Host, User));"]
[2024/05/15 17:09:25.556 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=5] [category=ddl] [job="ID:5, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:4, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:25.549 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:25.561 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=1] [neededSchemaVersion=2] ["start time"=886s] [gotSchemaVersion=2] [phyTblIDs="[4]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:09:25.562 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:09:25.562 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=5] [version=2]
[2024/05/15 17:09:25.563 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=2] ["take time"=2.698708ms] [job="ID:5, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:4, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:25.549 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:25.570 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=5] [job="ID:5, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:4, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:25.549 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:25.575 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=5]
[2024/05/15 17:09:25.575 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:09:25.576 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=2] [cur_db=mysql] [sql="CREATE TABLE  IF NOT EXISTS mysql.password_history (\n         Host char(255)  NOT NULL DEFAULT '',\n         User char(32)  NOT NULL DEFAULT '',\n         Password_timestamp timestamp(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6),\n         Password text,\n         PRIMARY KEY (Host,User,Password_timestamp )\n        ) COMMENT='Password history for user accounts' "] [user=]
[2024/05/15 17:09:25.579 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:7, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:6, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:25.577 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:09:25.579 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:7, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:6, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:25.577 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE  IF NOT EXISTS mysql.password_history (\n         Host char(255)  NOT NULL DEFAULT '',\n         User char(32)  NOT NULL DEFAULT '',\n         Password_timestamp timestamp(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6),\n         Password text,\n         PRIMARY KEY (Host,User,Password_timestamp )\n        ) COMMENT='Password history for user accounts' "]
[2024/05/15 17:09:25.588 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=7] [category=ddl] [job="ID:7, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:6, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:25.577 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:25.591 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=2] [neededSchemaVersion=3] ["start time"=202.084s] [gotSchemaVersion=3] [phyTblIDs="[6]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:09:25.592 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:09:25.592 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=7] [version=3]
[2024/05/15 17:09:25.593 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=3] ["take time"=2.369042ms] [job="ID:7, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:6, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:25.577 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:25.598 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=7] [job="ID:7, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:6, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:25.577 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:25.600 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=7]
[2024/05/15 17:09:25.600 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:09:25.600 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=3] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.global_priv (Host CHAR(255) NOT NULL DEFAULT '',User CHAR(80) NOT NULL DEFAULT '',Priv LONGTEXT NOT NULL DEFAULT '',PRIMARY KEY (Host, User))"] [user=]
[2024/05/15 17:09:25.601 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:9, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:8, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:25.601 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:09:25.601 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:9, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:8, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:25.601 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.global_priv (Host CHAR(255) NOT NULL DEFAULT '',User CHAR(80) NOT NULL DEFAULT '',Priv LONGTEXT NOT NULL DEFAULT '',PRIMARY KEY (Host, User))"]
[2024/05/15 17:09:25.605 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=9] [category=ddl] [job="ID:9, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:8, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:25.601 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:25.609 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=3] [neededSchemaVersion=4] ["start time"=209.792s] [gotSchemaVersion=4] [phyTblIDs="[8]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:09:25.610 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:09:25.610 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=9] [version=4]
[2024/05/15 17:09:25.611 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=4] ["take time"=2.691375ms] [job="ID:9, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:8, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:25.601 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:25.615 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=9] [job="ID:9, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:8, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:25.601 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:25.617 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=9]
[2024/05/15 17:09:25.617 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:09:25.617 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=4] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.db (\n\t\tHost\t\t\t\t\tCHAR(255),\n\t\tDB\t\t\t\t\t\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv \t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (Host, DB, User));"] [user=]
[2024/05/15 17:09:25.619 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:11, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:10, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:25.618 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:09:25.619 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:11, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:10, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:25.618 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.db (\n\t\tHost\t\t\t\t\tCHAR(255),\n\t\tDB\t\t\t\t\t\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv \t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (Host, DB, User));"]
[2024/05/15 17:09:25.624 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=11] [category=ddl] [job="ID:11, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:10, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:25.618 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:25.627 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=4] [neededSchemaVersion=5] ["start time"=525.417s] [gotSchemaVersion=5] [phyTblIDs="[10]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:09:25.627 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:09:25.627 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=11] [version=5]
[2024/05/15 17:09:25.629 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=5] ["take time"=2.660334ms] [job="ID:11, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:10, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:25.618 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:25.633 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=11] [job="ID:11, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:10, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:25.618 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:25.635 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=11]
[2024/05/15 17:09:25.635 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:09:25.636 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=5] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tables_priv (\n\t\tHost\t\tCHAR(255),\n\t\tDB\t\t\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tGrantor\t\tCHAR(77),\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tTable_priv\tSET('Select','Insert','Update','Delete','Create','Drop','Grant','Index','Alter','Create View','Show View','Trigger','References'),\n\t\tColumn_priv\tSET('Select','Insert','Update','References'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name));"] [user=]
[2024/05/15 17:09:25.637 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:13, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:12, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:25.636 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:09:25.637 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:13, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:12, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:25.636 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tables_priv (\n\t\tHost\t\tCHAR(255),\n\t\tDB\t\t\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tGrantor\t\tCHAR(77),\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tTable_priv\tSET('Select','Insert','Update','Delete','Create','Drop','Grant','Index','Alter','Create View','Show View','Trigger','References'),\n\t\tColumn_priv\tSET('Select','Insert','Update','References'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name));"]
[2024/05/15 17:09:25.642 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=13] [category=ddl] [job="ID:13, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:12, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:25.636 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:25.644 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=5] [neededSchemaVersion=6] ["start time"=304.958s] [gotSchemaVersion=6] [phyTblIDs="[12]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:09:25.644 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:09:25.644 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=13] [version=6]
[2024/05/15 17:09:25.646 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=6] ["take time"=2.223792ms] [job="ID:13, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:12, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:25.636 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:25.652 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=13] [job="ID:13, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:12, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:25.636 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:25.654 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=13]
[2024/05/15 17:09:25.654 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:09:25.654 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=6] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.columns_priv(\n\t\tHost\t\tCHAR(255),\n\t\tDB\t\t\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tColumn_name\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tColumn_priv\tSET('Select','Insert','Update','References'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name, Column_name));"] [user=]
[2024/05/15 17:09:25.656 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:15, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:14, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:25.655 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:09:25.656 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:15, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:14, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:25.655 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.columns_priv(\n\t\tHost\t\tCHAR(255),\n\t\tDB\t\t\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tColumn_name\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tColumn_priv\tSET('Select','Insert','Update','References'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name, Column_name));"]
[2024/05/15 17:09:25.660 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=15] [category=ddl] [job="ID:15, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:14, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:25.655 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:25.662 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=6] [neededSchemaVersion=7] ["start time"=253.333s] [gotSchemaVersion=7] [phyTblIDs="[14]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:09:25.663 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:09:25.663 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=15] [version=7]
[2024/05/15 17:09:25.665 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=7] ["take time"=2.480875ms] [job="ID:15, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:14, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:25.655 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:25.670 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=15] [job="ID:15, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:14, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:25.655 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:25.673 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=15]
[2024/05/15 17:09:25.673 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:09:25.673 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=7] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.GLOBAL_VARIABLES(\n\t\tVARIABLE_NAME  VARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE VARCHAR(16383) DEFAULT NULL);"] [user=]
[2024/05/15 17:09:25.675 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:17, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:16, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:25.675 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:09:25.675 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:17, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:16, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:25.675 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.GLOBAL_VARIABLES(\n\t\tVARIABLE_NAME  VARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE VARCHAR(16383) DEFAULT NULL);"]
[2024/05/15 17:09:25.679 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=17] [category=ddl] [job="ID:17, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:16, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:25.675 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:25.681 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=7] [neededSchemaVersion=8] ["start time"=158.416s] [gotSchemaVersion=8] [phyTblIDs="[16]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:09:25.681 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:09:25.681 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=17] [version=8]
[2024/05/15 17:09:25.683 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=8] ["take time"=2.46125ms] [job="ID:17, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:16, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:25.675 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:25.687 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=17] [job="ID:17, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:16, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:25.675 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:25.689 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=17]
[2024/05/15 17:09:25.689 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:09:25.689 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=8] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb(\n\t\tVARIABLE_NAME  \tVARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE \tVARCHAR(1024) DEFAULT NULL,\n\t\tCOMMENT \t\tVARCHAR(1024));"] [user=]
[2024/05/15 17:09:25.691 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:19, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:18, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:25.69 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:09:25.691 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:19, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:18, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:25.69 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb(\n\t\tVARIABLE_NAME  \tVARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE \tVARCHAR(1024) DEFAULT NULL,\n\t\tCOMMENT \t\tVARCHAR(1024));"]
[2024/05/15 17:09:25.695 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=19] [category=ddl] [job="ID:19, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:18, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:25.69 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:25.698 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=8] [neededSchemaVersion=9] ["start time"=175.625s] [gotSchemaVersion=9] [phyTblIDs="[18]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:09:25.698 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:09:25.699 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=19] [version=9]
[2024/05/15 17:09:25.700 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=9] ["take time"=2.357958ms] [job="ID:19, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:18, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:25.69 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:25.704 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=19] [job="ID:19, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:18, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:25.69 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:25.706 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=19]
[2024/05/15 17:09:25.706 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:09:25.707 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=9] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.help_topic (\n  \t\thelp_topic_id \t\tINT(10) UNSIGNED NOT NULL,\n  \t\tname \t\t\t\tCHAR(64) NOT NULL,\n  \t\thelp_category_id \tSMALLINT(5) UNSIGNED NOT NULL,\n  \t\tdescription \t\tTEXT NOT NULL,\n  \t\texample \t\t\tTEXT NOT NULL,\n  \t\turl \t\t\t\tTEXT NOT NULL,\n  \t\tPRIMARY KEY (help_topic_id) clustered,\n  \t\tUNIQUE KEY name (name)\n\t\t) ENGINE=InnoDB DEFAULT CHARSET=utf8 STATS_PERSISTENT=0 COMMENT='help topics';"] [user=]
[2024/05/15 17:09:25.709 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:21, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:20, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:25.708 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:09:25.709 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:21, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:20, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:25.708 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.help_topic (\n  \t\thelp_topic_id \t\tINT(10) UNSIGNED NOT NULL,\n  \t\tname \t\t\t\tCHAR(64) NOT NULL,\n  \t\thelp_category_id \tSMALLINT(5) UNSIGNED NOT NULL,\n  \t\tdescription \t\tTEXT NOT NULL,\n  \t\texample \t\t\tTEXT NOT NULL,\n  \t\turl \t\t\t\tTEXT NOT NULL,\n  \t\tPRIMARY KEY (help_topic_id) clustered,\n  \t\tUNIQUE KEY name (name)\n\t\t) ENGINE=InnoDB DEFAULT CHARSET=utf8 STATS_PERSISTENT=0 COMMENT='help topics';"]
[2024/05/15 17:09:25.713 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=21] [category=ddl] [job="ID:21, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:20, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:25.708 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:25.714 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=9] [neededSchemaVersion=10] ["start time"=218.958s] [gotSchemaVersion=10] [phyTblIDs="[20]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:09:25.715 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:09:25.715 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=21] [version=10]
[2024/05/15 17:09:25.717 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=10] ["take time"=3.175625ms] [job="ID:21, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:20, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:25.708 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:25.721 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=21] [job="ID:21, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:20, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:25.708 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:25.723 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=21]
[2024/05/15 17:09:25.723 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:09:25.723 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=10] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_meta (\n\t\tversion \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\ttable_id \t\tBIGINT(64) NOT NULL,\n\t\tmodify_count\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcount \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tsnapshot        BIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tINDEX idx_ver(version),\n\t\tUNIQUE INDEX tbl(table_id)\n\t);"] [user=]
[2024/05/15 17:09:25.724 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:23, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:22, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:25.724 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:09:25.724 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:23, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:22, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:25.724 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_meta (\n\t\tversion \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\ttable_id \t\tBIGINT(64) NOT NULL,\n\t\tmodify_count\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcount \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tsnapshot        BIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tINDEX idx_ver(version),\n\t\tUNIQUE INDEX tbl(table_id)\n\t);"]
[2024/05/15 17:09:25.728 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=23] [category=ddl] [job="ID:23, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:22, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:25.724 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:25.729 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=10] [neededSchemaVersion=11] ["start time"=205.875s] [gotSchemaVersion=11] [phyTblIDs="[22]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:09:25.730 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:09:25.730 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=23] [version=11]
[2024/05/15 17:09:25.731 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=11] ["take time"=2.004ms] [job="ID:23, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:22, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:25.724 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:25.735 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=23] [job="ID:23, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:22, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:25.724 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:25.737 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=23]
[2024/05/15 17:09:25.737 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:09:25.737 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=11] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_histograms (\n\t\ttable_id \t\t\tBIGINT(64) NOT NULL,\n\t\tis_index \t\t\tTINYINT(2) NOT NULL,\n\t\thist_id \t\t\tBIGINT(64) NOT NULL,\n\t\tdistinct_count \t\tBIGINT(64) NOT NULL,\n\t\tnull_count \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\ttot_col_size \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tmodify_count \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tversion \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tcm_sketch \t\t\tBLOB(6291456),\n\t\tstats_ver \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tflag \t\t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcorrelation \t\tDOUBLE NOT NULL DEFAULT 0,\n\t\tlast_analyze_pos \tLONGBLOB DEFAULT NULL,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id)\n\t);"] [user=]
[2024/05/15 17:09:25.738 +08:00] [INFO] [ddl_api.go:1139] ["Automatically convert BLOB(6291456) to MEDIUMBLOB"] [category=ddl]
[2024/05/15 17:09:25.739 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:25, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:24, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:25.738 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:09:25.739 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:25, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:24, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:25.738 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_histograms (\n\t\ttable_id \t\t\tBIGINT(64) NOT NULL,\n\t\tis_index \t\t\tTINYINT(2) NOT NULL,\n\t\thist_id \t\t\tBIGINT(64) NOT NULL,\n\t\tdistinct_count \t\tBIGINT(64) NOT NULL,\n\t\tnull_count \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\ttot_col_size \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tmodify_count \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tversion \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tcm_sketch \t\t\tBLOB(6291456),\n\t\tstats_ver \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tflag \t\t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcorrelation \t\tDOUBLE NOT NULL DEFAULT 0,\n\t\tlast_analyze_pos \tLONGBLOB DEFAULT NULL,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id)\n\t);"]
[2024/05/15 17:09:25.743 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=25] [category=ddl] [job="ID:25, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:24, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:25.738 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:25.745 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=11] [neededSchemaVersion=12] ["start time"=370.542s] [gotSchemaVersion=12] [phyTblIDs="[24]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:09:25.746 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:09:25.746 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=25] [version=12]
[2024/05/15 17:09:25.747 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=12] ["take time"=2.402375ms] [job="ID:25, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:24, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:25.738 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:25.752 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=25] [job="ID:25, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:24, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:25.738 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:25.754 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=25]
[2024/05/15 17:09:25.754 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:09:25.754 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=12] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_buckets (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tbucket_id \tBIGINT(64) NOT NULL,\n\t\tcount \t\tBIGINT(64) NOT NULL,\n\t\trepeats \tBIGINT(64) NOT NULL,\n\t\tupper_bound LONGBLOB NOT NULL,\n\t\tlower_bound LONGBLOB ,\n\t\tndv         BIGINT NOT NULL DEFAULT 0,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id, bucket_id)\n\t);"] [user=]
[2024/05/15 17:09:25.755 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:27, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:26, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:25.755 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:09:25.755 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:27, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:26, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:25.755 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_buckets (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tbucket_id \tBIGINT(64) NOT NULL,\n\t\tcount \t\tBIGINT(64) NOT NULL,\n\t\trepeats \tBIGINT(64) NOT NULL,\n\t\tupper_bound LONGBLOB NOT NULL,\n\t\tlower_bound LONGBLOB ,\n\t\tndv         BIGINT NOT NULL DEFAULT 0,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id, bucket_id)\n\t);"]
[2024/05/15 17:09:25.759 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=27] [category=ddl] [job="ID:27, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:26, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:25.755 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:25.761 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=12] [neededSchemaVersion=13] ["start time"=312.583s] [gotSchemaVersion=13] [phyTblIDs="[26]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:09:25.762 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:09:25.762 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=27] [version=13]
[2024/05/15 17:09:25.763 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=13] ["take time"=2.033333ms] [job="ID:27, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:26, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:25.755 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:25.767 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=27] [job="ID:27, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:26, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:25.755 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:25.769 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=27]
[2024/05/15 17:09:25.769 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:09:25.769 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=13] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_index (job_id, element_id)\n\t);"] [user=]
[2024/05/15 17:09:25.771 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:29, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:28, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:25.77 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:09:25.771 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:29, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:28, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:25.77 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_index (job_id, element_id)\n\t);"]
[2024/05/15 17:09:25.775 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=29] [category=ddl] [job="ID:29, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:28, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:25.77 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:25.776 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=13] [neededSchemaVersion=14] ["start time"=208.417s] [gotSchemaVersion=14] [phyTblIDs="[28]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:09:25.777 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:09:25.777 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=29] [version=14]
[2024/05/15 17:09:25.778 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=14] ["take time"=2.014542ms] [job="ID:29, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:28, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:25.77 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:25.782 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=29] [job="ID:29, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:28, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:25.77 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:25.783 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=29]
[2024/05/15 17:09:25.783 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:09:25.784 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=14] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range_done (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_done_index (job_id, element_id)\n\t);"] [user=]
[2024/05/15 17:09:25.785 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:31, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:30, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:25.784 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:09:25.785 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:31, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:30, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:25.784 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range_done (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_done_index (job_id, element_id)\n\t);"]
[2024/05/15 17:09:25.790 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=31] [category=ddl] [job="ID:31, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:30, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:25.784 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:25.793 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=14] [neededSchemaVersion=15] ["start time"=311.375s] [gotSchemaVersion=15] [phyTblIDs="[30]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:09:25.795 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:09:25.795 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=31] [version=15]
[2024/05/15 17:09:25.797 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=15] ["take time"=4.2195ms] [job="ID:31, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:30, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:25.784 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:25.806 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=31] [job="ID:31, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:30, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:25.784 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:25.811 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=31]
[2024/05/15 17:09:25.811 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:09:25.811 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=15] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_feedback (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tfeedback \tBLOB NOT NULL,\n\t\tINDEX hist(table_id, is_index, hist_id)\n\t);"] [user=]
[2024/05/15 17:09:25.812 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:33, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:32, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:25.812 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:09:25.812 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:33, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:32, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:25.812 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_feedback (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tfeedback \tBLOB NOT NULL,\n\t\tINDEX hist(table_id, is_index, hist_id)\n\t);"]
[2024/05/15 17:09:25.819 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=33] [category=ddl] [job="ID:33, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:32, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:25.812 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:25.820 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=15] [neededSchemaVersion=16] ["start time"=239.916s] [gotSchemaVersion=16] [phyTblIDs="[32]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:09:25.821 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:09:25.821 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=33] [version=16]
[2024/05/15 17:09:25.823 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=16] ["take time"=2.652833ms] [job="ID:33, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:32, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:25.812 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:25.827 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=33] [job="ID:33, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:32, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:25.812 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:25.829 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=33]
[2024/05/15 17:09:25.829 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:09:25.829 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=16] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.role_edges (\n\t\tFROM_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tFROM_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tWITH_ADMIN_OPTION \tENUM('N','Y') CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (FROM_HOST,FROM_USER,TO_HOST,TO_USER)\n\t);"] [user=]
[2024/05/15 17:09:25.830 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:35, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:34, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:25.83 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:09:25.830 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:35, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:34, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:25.83 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.role_edges (\n\t\tFROM_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tFROM_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tWITH_ADMIN_OPTION \tENUM('N','Y') CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (FROM_HOST,FROM_USER,TO_HOST,TO_USER)\n\t);"]
[2024/05/15 17:09:25.834 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=35] [category=ddl] [job="ID:35, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:34, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:25.83 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:25.836 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=16] [neededSchemaVersion=17] ["start time"=265.042s] [gotSchemaVersion=17] [phyTblIDs="[34]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:09:25.837 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:09:25.837 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=35] [version=17]
[2024/05/15 17:09:25.838 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=17] ["take time"=2.342292ms] [job="ID:35, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:34, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:25.83 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:25.843 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=35] [job="ID:35, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:34, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:25.83 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:25.845 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=35]
[2024/05/15 17:09:25.845 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:09:25.846 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=17] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.default_roles (\n\t\tHOST \t\t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tUSER \t\t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tDEFAULT_ROLE_HOST \tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '%',\n\t\tDEFAULT_ROLE_USER \tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tPRIMARY KEY (HOST,USER,DEFAULT_ROLE_HOST,DEFAULT_ROLE_USER)\n\t)"] [user=]
[2024/05/15 17:09:25.849 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:37, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:36, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:25.848 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:09:25.849 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:37, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:36, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:25.848 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.default_roles (\n\t\tHOST \t\t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tUSER \t\t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tDEFAULT_ROLE_HOST \tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '%',\n\t\tDEFAULT_ROLE_USER \tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tPRIMARY KEY (HOST,USER,DEFAULT_ROLE_HOST,DEFAULT_ROLE_USER)\n\t)"]
[2024/05/15 17:09:25.852 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=37] [category=ddl] [job="ID:37, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:36, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:25.848 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:25.854 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=17] [neededSchemaVersion=18] ["start time"=206.875s] [gotSchemaVersion=18] [phyTblIDs="[36]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:09:25.855 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:09:25.855 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=37] [version=18]
[2024/05/15 17:09:25.857 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=18] ["take time"=2.37825ms] [job="ID:37, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:36, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:25.848 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:25.860 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=37] [job="ID:37, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:36, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:25.848 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:25.862 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=37]
[2024/05/15 17:09:25.862 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:09:25.862 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=18] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.bind_info (\n\t\toriginal_sql TEXT NOT NULL,\n\t\tbind_sql TEXT NOT NULL,\n\t\tdefault_db TEXT NOT NULL,\n\t\tstatus TEXT NOT NULL,\n\t\tcreate_time TIMESTAMP(3) NOT NULL,\n\t\tupdate_time TIMESTAMP(3) NOT NULL,\n\t\tcharset TEXT NOT NULL,\n\t\tcollation TEXT NOT NULL,\n\t\tsource VARCHAR(10) NOT NULL DEFAULT 'unknown',\n\t\tsql_digest varchar(64),\n\t\tplan_digest varchar(64),\n\t\tINDEX sql_index(original_sql(700),default_db(68)) COMMENT \"accelerate the speed when add global binding query\",\n\t\tINDEX time_index(update_time) COMMENT \"accelerate the speed when querying with last update time\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"] [user=]
[2024/05/15 17:09:25.864 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:39, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:38, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:25.863 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:09:25.864 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:39, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:38, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:25.863 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.bind_info (\n\t\toriginal_sql TEXT NOT NULL,\n\t\tbind_sql TEXT NOT NULL,\n\t\tdefault_db TEXT NOT NULL,\n\t\tstatus TEXT NOT NULL,\n\t\tcreate_time TIMESTAMP(3) NOT NULL,\n\t\tupdate_time TIMESTAMP(3) NOT NULL,\n\t\tcharset TEXT NOT NULL,\n\t\tcollation TEXT NOT NULL,\n\t\tsource VARCHAR(10) NOT NULL DEFAULT 'unknown',\n\t\tsql_digest varchar(64),\n\t\tplan_digest varchar(64),\n\t\tINDEX sql_index(original_sql(700),default_db(68)) COMMENT \"accelerate the speed when add global binding query\",\n\t\tINDEX time_index(update_time) COMMENT \"accelerate the speed when querying with last update time\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"]
[2024/05/15 17:09:25.868 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=39] [category=ddl] [job="ID:39, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:38, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:25.863 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:25.870 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=18] [neededSchemaVersion=19] ["start time"=341.75s] [gotSchemaVersion=19] [phyTblIDs="[38]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:09:25.871 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:09:25.871 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=39] [version=19]
[2024/05/15 17:09:25.873 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=19] ["take time"=2.713333ms] [job="ID:39, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:38, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:25.863 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:25.878 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=39] [job="ID:39, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:38, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:25.863 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:25.880 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=39]
[2024/05/15 17:09:25.880 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:09:25.880 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=0] ["to ID"=1] ["table ID"=38] ["database ID"=1]
[2024/05/15 17:09:25.881 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=19] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_top_n (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tvalue \t\tLONGBLOB,\n\t\tcount \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\tINDEX tbl(table_id, is_index, hist_id)\n\t);"] [user=]
[2024/05/15 17:09:25.882 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:41, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:40, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:25.882 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:09:25.882 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:41, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:40, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:25.882 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_top_n (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tvalue \t\tLONGBLOB,\n\t\tcount \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\tINDEX tbl(table_id, is_index, hist_id)\n\t);"]
[2024/05/15 17:09:25.886 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=41] [category=ddl] [job="ID:41, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:40, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:25.882 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:25.888 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=19] [neededSchemaVersion=20] ["start time"=202.75s] [gotSchemaVersion=20] [phyTblIDs="[40]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:09:25.889 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:09:25.889 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=41] [version=20]
[2024/05/15 17:09:25.890 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=20] ["take time"=2.006959ms] [job="ID:41, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:40, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:25.882 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:25.895 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=41] [job="ID:41, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:40, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:25.882 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:25.898 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=41]
[2024/05/15 17:09:25.898 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:09:25.898 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=20] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.expr_pushdown_blacklist (\n\t\tname \t\tCHAR(100) NOT NULL,\n\t\tstore_type \tCHAR(100) NOT NULL DEFAULT 'tikv,tiflash,tidb',\n\t\treason \t\tVARCHAR(200)\n\t);"] [user=]
[2024/05/15 17:09:25.900 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:43, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:42, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:25.899 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:09:25.900 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:43, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:42, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:25.899 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.expr_pushdown_blacklist (\n\t\tname \t\tCHAR(100) NOT NULL,\n\t\tstore_type \tCHAR(100) NOT NULL DEFAULT 'tikv,tiflash,tidb',\n\t\treason \t\tVARCHAR(200)\n\t);"]
[2024/05/15 17:09:25.904 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=43] [category=ddl] [job="ID:43, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:42, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:25.899 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:25.905 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=20] [neededSchemaVersion=21] ["start time"=164.792s] [gotSchemaVersion=21] [phyTblIDs="[42]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:09:25.906 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:09:25.906 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=43] [version=21]
[2024/05/15 17:09:25.907 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=21] ["take time"=2.063542ms] [job="ID:43, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:42, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:25.899 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:25.912 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=43] [job="ID:43, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:42, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:25.899 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:25.914 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=43]
[2024/05/15 17:09:25.914 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:09:25.914 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=21] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.opt_rule_blacklist (\n\t\tname \tCHAR(100) NOT NULL\n\t);"] [user=]
[2024/05/15 17:09:25.915 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:45, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:44, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:25.915 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:09:25.915 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:45, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:44, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:25.915 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.opt_rule_blacklist (\n\t\tname \tCHAR(100) NOT NULL\n\t);"]
[2024/05/15 17:09:25.919 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=45] [category=ddl] [job="ID:45, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:44, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:25.915 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:25.921 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=21] [neededSchemaVersion=22] ["start time"=112.792s] [gotSchemaVersion=22] [phyTblIDs="[44]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:09:25.921 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:09:25.922 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=45] [version=22]
[2024/05/15 17:09:25.923 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=22] ["take time"=2.022916ms] [job="ID:45, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:44, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:25.915 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:25.926 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=45] [job="ID:45, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:44, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:25.915 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:25.928 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=45]
[2024/05/15 17:09:25.928 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:09:25.928 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=22] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_extended (\n\t\tname varchar(32) NOT NULL,\n\t\ttype tinyint(4) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tcolumn_ids varchar(32) NOT NULL,\n\t\tstats blob DEFAULT NULL,\n\t\tversion bigint(64) unsigned NOT NULL,\n\t\tstatus tinyint(4) NOT NULL,\n\t\tPRIMARY KEY(name, table_id),\n\t\tKEY idx_1 (table_id, status, version),\n\t\tKEY idx_2 (status, version)\n\t);"] [user=]
[2024/05/15 17:09:25.930 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:47, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:46, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:25.929 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:09:25.930 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:47, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:46, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:25.929 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_extended (\n\t\tname varchar(32) NOT NULL,\n\t\ttype tinyint(4) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tcolumn_ids varchar(32) NOT NULL,\n\t\tstats blob DEFAULT NULL,\n\t\tversion bigint(64) unsigned NOT NULL,\n\t\tstatus tinyint(4) NOT NULL,\n\t\tPRIMARY KEY(name, table_id),\n\t\tKEY idx_1 (table_id, status, version),\n\t\tKEY idx_2 (status, version)\n\t);"]
[2024/05/15 17:09:25.933 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=47] [category=ddl] [job="ID:47, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:46, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:25.929 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:25.935 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=22] [neededSchemaVersion=23] ["start time"=292.541s] [gotSchemaVersion=23] [phyTblIDs="[46]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:09:25.936 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:09:25.936 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=47] [version=23]
[2024/05/15 17:09:25.937 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=23] ["take time"=2.498208ms] [job="ID:47, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:46, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:25.929 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:25.945 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=47] [job="ID:47, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:46, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:25.929 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:25.949 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=47]
[2024/05/15 17:09:25.949 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:09:25.949 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=23] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_fm_sketch (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tvalue \t\tLONGBLOB,\n\t\tINDEX tbl(table_id, is_index, hist_id)\n\t);"] [user=]
[2024/05/15 17:09:25.951 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:49, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:48, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:25.95 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:09:25.951 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:49, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:48, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:25.95 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_fm_sketch (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tvalue \t\tLONGBLOB,\n\t\tINDEX tbl(table_id, is_index, hist_id)\n\t);"]
[2024/05/15 17:09:25.955 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=49] [category=ddl] [job="ID:49, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:48, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:25.95 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:25.956 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=23] [neededSchemaVersion=24] ["start time"=182.708s] [gotSchemaVersion=24] [phyTblIDs="[48]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:09:25.957 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:09:25.957 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=49] [version=24]
[2024/05/15 17:09:25.958 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=24] ["take time"=2.293375ms] [job="ID:49, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:48, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:25.95 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:25.962 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=49] [job="ID:49, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:48, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:25.95 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:25.964 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=49]
[2024/05/15 17:09:25.964 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:09:25.964 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=24] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.global_grants (\n\t\tUSER char(32) NOT NULL DEFAULT '',\n\t\tHOST char(255) NOT NULL DEFAULT '',\n\t\tPRIV char(32) NOT NULL DEFAULT '',\n\t\tWITH_GRANT_OPTION enum('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (USER,HOST,PRIV)\n\t);"] [user=]
[2024/05/15 17:09:25.965 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:51, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:50, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:25.965 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:09:25.965 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:51, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:50, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:25.965 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.global_grants (\n\t\tUSER char(32) NOT NULL DEFAULT '',\n\t\tHOST char(255) NOT NULL DEFAULT '',\n\t\tPRIV char(32) NOT NULL DEFAULT '',\n\t\tWITH_GRANT_OPTION enum('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (USER,HOST,PRIV)\n\t);"]
[2024/05/15 17:09:25.969 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=51] [category=ddl] [job="ID:51, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:50, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:25.965 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:25.970 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=24] [neededSchemaVersion=25] ["start time"=185.208s] [gotSchemaVersion=25] [phyTblIDs="[50]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:09:25.971 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:09:25.971 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=51] [version=25]
[2024/05/15 17:09:25.972 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=25] ["take time"=2.097292ms] [job="ID:51, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:50, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:25.965 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:25.976 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=51] [job="ID:51, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:50, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:25.965 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:25.978 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=51]
[2024/05/15 17:09:25.978 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:09:25.979 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=25] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.capture_plan_baselines_blacklist (\n\t\tid bigint(64) auto_increment,\n\t\tfilter_type varchar(32) NOT NULL COMMENT \"type of the filter, only db, table and frequency supported now\",\n\t\tfilter_value varchar(32) NOT NULL,\n\t\tkey idx(filter_type),\n\t\tprimary key(id)\n\t);"] [user=]
[2024/05/15 17:09:25.980 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:53, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:52, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:25.979 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:09:25.980 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:53, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:52, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:25.979 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.capture_plan_baselines_blacklist (\n\t\tid bigint(64) auto_increment,\n\t\tfilter_type varchar(32) NOT NULL COMMENT \"type of the filter, only db, table and frequency supported now\",\n\t\tfilter_value varchar(32) NOT NULL,\n\t\tkey idx(filter_type),\n\t\tprimary key(id)\n\t);"]
[2024/05/15 17:09:25.984 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=53] [category=ddl] [job="ID:53, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:52, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:25.979 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:25.985 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=25] [neededSchemaVersion=26] ["start time"=155.792s] [gotSchemaVersion=26] [phyTblIDs="[52]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:09:25.986 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:09:25.986 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=53] [version=26]
[2024/05/15 17:09:25.987 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=26] ["take time"=2.003334ms] [job="ID:53, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:52, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:25.979 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:25.991 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=53] [job="ID:53, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:52, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:25.979 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:25.993 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=53]
[2024/05/15 17:09:25.993 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:09:25.993 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=26] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.column_stats_usage (\n\t\ttable_id BIGINT(64) NOT NULL,\n\t\tcolumn_id BIGINT(64) NOT NULL,\n\t\tlast_used_at TIMESTAMP,\n\t\tlast_analyzed_at TIMESTAMP,\n\t\tPRIMARY KEY (table_id, column_id) CLUSTERED\n\t);"] [user=]
[2024/05/15 17:09:25.994 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:55, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:54, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:25.994 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:09:25.994 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:55, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:54, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:25.994 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.column_stats_usage (\n\t\ttable_id BIGINT(64) NOT NULL,\n\t\tcolumn_id BIGINT(64) NOT NULL,\n\t\tlast_used_at TIMESTAMP,\n\t\tlast_analyzed_at TIMESTAMP,\n\t\tPRIMARY KEY (table_id, column_id) CLUSTERED\n\t);"]
[2024/05/15 17:09:25.998 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=55] [category=ddl] [job="ID:55, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:54, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:25.994 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:26.000 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=26] [neededSchemaVersion=27] ["start time"=269.667s] [gotSchemaVersion=27] [phyTblIDs="[54]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:09:26.001 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:09:26.001 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=55] [version=27]
[2024/05/15 17:09:26.002 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=27] ["take time"=2.131083ms] [job="ID:55, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:54, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:25.994 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:26.006 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=55] [job="ID:55, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:54, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:25.994 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:26.009 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=55]
[2024/05/15 17:09:26.009 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:09:26.009 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=27] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.table_cache_meta (\n\t\ttid bigint(11) NOT NULL DEFAULT 0,\n\t\tlock_type enum('NONE','READ', 'INTEND', 'WRITE') NOT NULL DEFAULT 'NONE',\n\t\tlease bigint(20) NOT NULL DEFAULT 0,\n\t\toldReadLease bigint(20) NOT NULL DEFAULT 0,\n\t\tPRIMARY KEY (tid)\n\t);"] [user=]
[2024/05/15 17:09:26.011 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:57, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:56, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:26.01 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:09:26.011 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:57, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:56, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:26.01 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.table_cache_meta (\n\t\ttid bigint(11) NOT NULL DEFAULT 0,\n\t\tlock_type enum('NONE','READ', 'INTEND', 'WRITE') NOT NULL DEFAULT 'NONE',\n\t\tlease bigint(20) NOT NULL DEFAULT 0,\n\t\toldReadLease bigint(20) NOT NULL DEFAULT 0,\n\t\tPRIMARY KEY (tid)\n\t);"]
[2024/05/15 17:09:26.014 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=57] [category=ddl] [job="ID:57, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:56, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:26.01 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:26.016 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=27] [neededSchemaVersion=28] ["start time"=185.625s] [gotSchemaVersion=28] [phyTblIDs="[56]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:09:26.017 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:09:26.017 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=57] [version=28]
[2024/05/15 17:09:26.018 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=28] ["take time"=2.070042ms] [job="ID:57, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:56, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:26.01 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:26.023 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=57] [job="ID:57, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:56, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:26.01 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:26.025 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=57]
[2024/05/15 17:09:26.025 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:09:26.025 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=28] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.analyze_options (\n\t\ttable_id BIGINT(64) NOT NULL,\n\t\tsample_num BIGINT(64) NOT NULL DEFAULT 0,\n\t\tsample_rate DOUBLE NOT NULL DEFAULT -1,\n\t\tbuckets BIGINT(64) NOT NULL DEFAULT 0,\n\t\ttopn BIGINT(64) NOT NULL DEFAULT -1,\n\t\tcolumn_choice enum('DEFAULT','ALL','PREDICATE','LIST') NOT NULL DEFAULT 'DEFAULT',\n\t\tcolumn_ids TEXT(19372),\n\t\tPRIMARY KEY (table_id) CLUSTERED\n\t);"] [user=]
[2024/05/15 17:09:26.026 +08:00] [INFO] [ddl_api.go:1139] ["Automatically convert BLOB(19372) to MEDIUMBLOB"] [category=ddl]
[2024/05/15 17:09:26.032 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:59, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:58, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:26.028 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:09:26.032 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:59, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:58, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:26.028 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.analyze_options (\n\t\ttable_id BIGINT(64) NOT NULL,\n\t\tsample_num BIGINT(64) NOT NULL DEFAULT 0,\n\t\tsample_rate DOUBLE NOT NULL DEFAULT -1,\n\t\tbuckets BIGINT(64) NOT NULL DEFAULT 0,\n\t\ttopn BIGINT(64) NOT NULL DEFAULT -1,\n\t\tcolumn_choice enum('DEFAULT','ALL','PREDICATE','LIST') NOT NULL DEFAULT 'DEFAULT',\n\t\tcolumn_ids TEXT(19372),\n\t\tPRIMARY KEY (table_id) CLUSTERED\n\t);"]
[2024/05/15 17:09:26.039 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=59] [category=ddl] [job="ID:59, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:58, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:26.028 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:26.047 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=28] [neededSchemaVersion=29] ["start time"=335s] [gotSchemaVersion=29] [phyTblIDs="[58]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:09:26.048 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:09:26.048 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=59] [version=29]
[2024/05/15 17:09:26.050 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=29] ["take time"=3.667208ms] [job="ID:59, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:58, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:26.028 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:26.062 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=59] [job="ID:59, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:58, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:26.028 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:26.066 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=59]
[2024/05/15 17:09:26.066 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:09:26.066 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=29] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_history (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tstats_data longblob NOT NULL,\n\t\tseq_no bigint(64) NOT NULL comment 'sequence number of the gzipped data slice',\n\t\tversion bigint(64) NOT NULL comment 'stats version which corresponding to stats:version in EXPLAIN',\n\t\tcreate_time datetime(6) NOT NULL,\n\t\tUNIQUE KEY table_version_seq (table_id, version, seq_no),\n\t\tKEY table_create_time (table_id, create_time, seq_no),\n    \tKEY idx_create_time (create_time)\n\t);"] [user=]
[2024/05/15 17:09:26.067 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:61, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:60, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:26.067 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:09:26.067 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:61, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:60, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:26.067 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_history (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tstats_data longblob NOT NULL,\n\t\tseq_no bigint(64) NOT NULL comment 'sequence number of the gzipped data slice',\n\t\tversion bigint(64) NOT NULL comment 'stats version which corresponding to stats:version in EXPLAIN',\n\t\tcreate_time datetime(6) NOT NULL,\n\t\tUNIQUE KEY table_version_seq (table_id, version, seq_no),\n\t\tKEY table_create_time (table_id, create_time, seq_no),\n    \tKEY idx_create_time (create_time)\n\t);"]
[2024/05/15 17:09:26.074 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=61] [category=ddl] [job="ID:61, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:60, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:26.067 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:26.076 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=29] [neededSchemaVersion=30] ["start time"=273.625s] [gotSchemaVersion=30] [phyTblIDs="[60]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:09:26.077 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:09:26.077 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=61] [version=30]
[2024/05/15 17:09:26.080 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=30] ["take time"=4.352042ms] [job="ID:61, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:60, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:26.067 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:26.086 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=61] [job="ID:61, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:60, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:26.067 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:26.088 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=61]
[2024/05/15 17:09:26.088 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:09:26.088 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=30] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_meta_history (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tmodify_count bigint(64) NOT NULL,\n\t\tcount bigint(64) NOT NULL,\n\t\tversion bigint(64) NOT NULL comment 'stats version which corresponding to stats:version in EXPLAIN',\n    \tsource varchar(40) NOT NULL,\n\t\tcreate_time datetime(6) NOT NULL,\n\t\tUNIQUE KEY table_version (table_id, version),\n\t\tKEY table_create_time (table_id, create_time),\n    \tKEY idx_create_time (create_time)\n\t);"] [user=]
[2024/05/15 17:09:26.090 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:63, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:62, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:26.089 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:09:26.090 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:63, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:62, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:26.089 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_meta_history (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tmodify_count bigint(64) NOT NULL,\n\t\tcount bigint(64) NOT NULL,\n\t\tversion bigint(64) NOT NULL comment 'stats version which corresponding to stats:version in EXPLAIN',\n    \tsource varchar(40) NOT NULL,\n\t\tcreate_time datetime(6) NOT NULL,\n\t\tUNIQUE KEY table_version (table_id, version),\n\t\tKEY table_create_time (table_id, create_time),\n    \tKEY idx_create_time (create_time)\n\t);"]
[2024/05/15 17:09:26.094 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=63] [category=ddl] [job="ID:63, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:62, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:26.089 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:26.098 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=30] [neededSchemaVersion=31] ["start time"=319.625s] [gotSchemaVersion=31] [phyTblIDs="[62]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:09:26.099 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:09:26.099 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=63] [version=31]
[2024/05/15 17:09:26.101 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=31] ["take time"=2.905ms] [job="ID:63, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:62, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:26.089 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:26.106 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=63] [job="ID:63, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:62, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:26.089 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:26.108 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=63]
[2024/05/15 17:09:26.108 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:09:26.108 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=31] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.analyze_jobs (\n\t\tid BIGINT(64) UNSIGNED NOT NULL AUTO_INCREMENT,\n\t\tupdate_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\ttable_schema CHAR(64) NOT NULL DEFAULT '',\n\t\ttable_name CHAR(64) NOT NULL DEFAULT '',\n\t\tpartition_name CHAR(64) NOT NULL DEFAULT '',\n\t\tjob_info TEXT NOT NULL,\n\t\tprocessed_rows BIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tstart_time TIMESTAMP,\n\t\tend_time TIMESTAMP,\n\t\tstate ENUM('pending', 'running', 'finished', 'failed') NOT NULL,\n\t\tfail_reason TEXT,\n\t\tinstance VARCHAR(512) NOT NULL comment 'address of the TiDB instance executing the analyze job',\n\t\tprocess_id BIGINT(64) UNSIGNED comment 'ID of the process executing the analyze job',\n\t\tPRIMARY KEY (id),\n\t\tKEY (update_time)\n\t);"] [user=]
[2024/05/15 17:09:26.110 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:65, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:64, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:26.109 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:09:26.110 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:65, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:64, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:26.109 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.analyze_jobs (\n\t\tid BIGINT(64) UNSIGNED NOT NULL AUTO_INCREMENT,\n\t\tupdate_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\ttable_schema CHAR(64) NOT NULL DEFAULT '',\n\t\ttable_name CHAR(64) NOT NULL DEFAULT '',\n\t\tpartition_name CHAR(64) NOT NULL DEFAULT '',\n\t\tjob_info TEXT NOT NULL,\n\t\tprocessed_rows BIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tstart_time TIMESTAMP,\n\t\tend_time TIMESTAMP,\n\t\tstate ENUM('pending', 'running', 'finished', 'failed') NOT NULL,\n\t\tfail_reason TEXT,\n\t\tinstance VARCHAR(512) NOT NULL comment 'address of the TiDB instance executing the analyze job',\n\t\tprocess_id BIGINT(64) UNSIGNED comment 'ID of the process executing the analyze job',\n\t\tPRIMARY KEY (id),\n\t\tKEY (update_time)\n\t);"]
[2024/05/15 17:09:26.116 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=65] [category=ddl] [job="ID:65, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:64, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:26.109 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:26.118 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=31] [neededSchemaVersion=32] ["start time"=429.792s] [gotSchemaVersion=32] [phyTblIDs="[64]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:09:26.119 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:09:26.119 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=65] [version=32]
[2024/05/15 17:09:26.120 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=32] ["take time"=2.363667ms] [job="ID:65, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:64, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:26.109 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:26.125 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=65] [job="ID:65, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:64, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:26.109 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:26.127 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=65]
[2024/05/15 17:09:26.127 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:09:26.127 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=32] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.advisory_locks (\n\t\tlock_name VARCHAR(64) NOT NULL PRIMARY KEY\n\t);"] [user=]
[2024/05/15 17:09:26.129 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:67, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:66, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:26.128 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:09:26.129 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:67, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:66, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:26.128 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.advisory_locks (\n\t\tlock_name VARCHAR(64) NOT NULL PRIMARY KEY\n\t);"]
[2024/05/15 17:09:26.135 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=67] [category=ddl] [job="ID:67, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:66, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:26.128 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:26.136 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=32] [neededSchemaVersion=33] ["start time"=142.25s] [gotSchemaVersion=33] [phyTblIDs="[66]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:09:26.137 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:09:26.137 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=67] [version=33]
[2024/05/15 17:09:26.138 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=33] ["take time"=2.212625ms] [job="ID:67, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:66, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:26.128 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:26.142 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=67] [job="ID:67, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:66, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:26.128 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:26.143 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=67]
[2024/05/15 17:09:26.143 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:09:26.149 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:69, Type:create view, State:queueing, SchemaState:none, SchemaID:1, TableID:68, RowCount:0, ArgLen:3, start time: 2024-05-15 17:09:26.148 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:09:26.149 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:69, Type:create view, State:queueing, SchemaState:none, SchemaID:1, TableID:68, RowCount:0, ArgLen:3, start time: 2024-05-15 17:09:26.148 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE OR REPLACE VIEW mysql.tidb_mdl_view as (\n\t\tSELECT tidb_mdl_info.job_id,\n\t\t\tJSON_UNQUOTE(JSON_EXTRACT(cast(cast(job_meta as char) as json), \"$.schema_name\")) as db_name,\n\t\t\tJSON_UNQUOTE(JSON_EXTRACT(cast(cast(job_meta as char) as json), \"$.table_name\")) as table_name,\n\t\t\tJSON_UNQUOTE(JSON_EXTRACT(cast(cast(job_meta as char) as json), \"$.query\")) as query,\n\t\t\tsession_id,\n\t\t\tcluster_tidb_trx.start_time,\n\t\t\ttidb_decode_sql_digests(all_sql_digests, 4096) AS SQL_DIGESTS\n\t\tFROM mysql.tidb_ddl_job,\n\t\t\tmysql.tidb_mdl_info,\n\t\t\tinformation_schema.cluster_tidb_trx\n\t\tWHERE tidb_ddl_job.job_id=tidb_mdl_info.job_id\n\t\t\tAND CONCAT(',', tidb_mdl_info.table_ids, ',') REGEXP CONCAT(',(', REPLACE(cluster_tidb_trx.related_table_ids, ',', '|'), '),') != 0\n\t);"]
[2024/05/15 17:09:26.153 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=69] [category=ddl] [job="ID:69, Type:create view, State:queueing, SchemaState:none, SchemaID:1, TableID:68, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:26.148 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:26.156 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=33] [neededSchemaVersion=34] ["start time"=322.417s] [gotSchemaVersion=34] [phyTblIDs="[68]"] [actionTypes="[21]"] [diffTypes="[\"create view\"]"]
[2024/05/15 17:09:26.156 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:09:26.156 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=69] [version=34]
[2024/05/15 17:09:26.158 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=34] ["take time"=2.4195ms] [job="ID:69, Type:create view, State:done, SchemaState:public, SchemaID:1, TableID:68, RowCount:0, ArgLen:3, start time: 2024-05-15 17:09:26.148 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:26.162 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=69] [job="ID:69, Type:create view, State:synced, SchemaState:public, SchemaID:1, TableID:68, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:26.148 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:26.164 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=69]
[2024/05/15 17:09:26.164 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:09:26.164 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=34] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.plan_replayer_status (\n\t\tsql_digest VARCHAR(128),\n\t\tplan_digest VARCHAR(128),\n\t\torigin_sql TEXT,\n\t\ttoken VARCHAR(128),\n\t\tupdate_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\tfail_reason TEXT,\n\t\tinstance VARCHAR(512) NOT NULL comment 'address of the TiDB instance executing the plan replayer job');"] [user=]
[2024/05/15 17:09:26.165 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:71, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:70, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:26.165 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:09:26.165 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:71, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:70, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:26.165 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.plan_replayer_status (\n\t\tsql_digest VARCHAR(128),\n\t\tplan_digest VARCHAR(128),\n\t\torigin_sql TEXT,\n\t\ttoken VARCHAR(128),\n\t\tupdate_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\tfail_reason TEXT,\n\t\tinstance VARCHAR(512) NOT NULL comment 'address of the TiDB instance executing the plan replayer job');"]
[2024/05/15 17:09:26.168 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=71] [category=ddl] [job="ID:71, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:70, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:26.165 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:26.170 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=34] [neededSchemaVersion=35] ["start time"=237.125s] [gotSchemaVersion=35] [phyTblIDs="[70]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:09:26.171 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:09:26.171 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=71] [version=35]
[2024/05/15 17:09:26.173 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=35] ["take time"=2.62125ms] [job="ID:71, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:70, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:26.165 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:26.176 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=71] [job="ID:71, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:70, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:26.165 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:26.178 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=71]
[2024/05/15 17:09:26.178 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:09:26.178 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=35] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.plan_replayer_task (\n\t\tsql_digest VARCHAR(128) NOT NULL,\n\t\tplan_digest VARCHAR(128) NOT NULL,\n\t\tupdate_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\tPRIMARY KEY (sql_digest,plan_digest));"] [user=]
[2024/05/15 17:09:26.180 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:73, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:72, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:26.179 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:09:26.180 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:73, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:72, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:26.179 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.plan_replayer_task (\n\t\tsql_digest VARCHAR(128) NOT NULL,\n\t\tplan_digest VARCHAR(128) NOT NULL,\n\t\tupdate_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\tPRIMARY KEY (sql_digest,plan_digest));"]
[2024/05/15 17:09:26.183 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=73] [category=ddl] [job="ID:73, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:72, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:26.179 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:26.184 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=35] [neededSchemaVersion=36] ["start time"=170.209s] [gotSchemaVersion=36] [phyTblIDs="[72]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:09:26.185 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:09:26.185 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=73] [version=36]
[2024/05/15 17:09:26.186 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=36] ["take time"=2.11325ms] [job="ID:73, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:72, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:26.179 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:26.191 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=73] [job="ID:73, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:72, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:26.179 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:26.192 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=73]
[2024/05/15 17:09:26.193 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:09:26.193 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=36] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_table_locked(\n\t\ttable_id bigint(64) NOT NULL,\n\t\tmodify_count bigint(64) NOT NULL DEFAULT 0,\n\t\tcount bigint(64) NOT NULL DEFAULT 0,\n\t\tversion bigint(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tPRIMARY KEY (table_id));"] [user=]
[2024/05/15 17:09:26.194 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:75, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:74, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:26.194 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:09:26.194 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:75, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:74, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:26.194 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_table_locked(\n\t\ttable_id bigint(64) NOT NULL,\n\t\tmodify_count bigint(64) NOT NULL DEFAULT 0,\n\t\tcount bigint(64) NOT NULL DEFAULT 0,\n\t\tversion bigint(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tPRIMARY KEY (table_id));"]
[2024/05/15 17:09:26.198 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=75] [category=ddl] [job="ID:75, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:74, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:26.194 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:26.200 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=36] [neededSchemaVersion=37] ["start time"=191.083s] [gotSchemaVersion=37] [phyTblIDs="[74]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:09:26.201 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:09:26.201 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=75] [version=37]
[2024/05/15 17:09:26.203 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=37] ["take time"=2.600459ms] [job="ID:75, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:74, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:26.194 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:26.206 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=75] [job="ID:75, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:74, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:26.194 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:26.209 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=75]
[2024/05/15 17:09:26.209 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:09:26.209 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=37] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_ttl_table_status (\n\t\ttable_id bigint(64) PRIMARY KEY,\n        parent_table_id bigint(64),\n        table_statistics text DEFAULT NULL,\n\t\tlast_job_id varchar(64) DEFAULT NULL,\n\t\tlast_job_start_time timestamp NULL DEFAULT NULL,\n\t\tlast_job_finish_time timestamp NULL DEFAULT NULL,\n\t\tlast_job_ttl_expire timestamp NULL DEFAULT NULL,\n        last_job_summary text DEFAULT NULL,\n\t\tcurrent_job_id varchar(64) DEFAULT NULL,\n\t\tcurrent_job_owner_id varchar(64) DEFAULT NULL,\n\t\tcurrent_job_owner_addr varchar(256) DEFAULT NULL,\n\t\tcurrent_job_owner_hb_time timestamp,\n\t\tcurrent_job_start_time timestamp NULL DEFAULT NULL,\n\t\tcurrent_job_ttl_expire timestamp NULL DEFAULT NULL,\n\t\tcurrent_job_state text DEFAULT NULL,\n\t\tcurrent_job_status varchar(64) DEFAULT NULL,\n  \t\tcurrent_job_status_update_time timestamp NULL DEFAULT NULL);"] [user=]
[2024/05/15 17:09:26.212 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:77, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:76, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:26.21 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:09:26.212 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:77, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:76, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:26.21 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_ttl_table_status (\n\t\ttable_id bigint(64) PRIMARY KEY,\n        parent_table_id bigint(64),\n        table_statistics text DEFAULT NULL,\n\t\tlast_job_id varchar(64) DEFAULT NULL,\n\t\tlast_job_start_time timestamp NULL DEFAULT NULL,\n\t\tlast_job_finish_time timestamp NULL DEFAULT NULL,\n\t\tlast_job_ttl_expire timestamp NULL DEFAULT NULL,\n        last_job_summary text DEFAULT NULL,\n\t\tcurrent_job_id varchar(64) DEFAULT NULL,\n\t\tcurrent_job_owner_id varchar(64) DEFAULT NULL,\n\t\tcurrent_job_owner_addr varchar(256) DEFAULT NULL,\n\t\tcurrent_job_owner_hb_time timestamp,\n\t\tcurrent_job_start_time timestamp NULL DEFAULT NULL,\n\t\tcurrent_job_ttl_expire timestamp NULL DEFAULT NULL,\n\t\tcurrent_job_state text DEFAULT NULL,\n\t\tcurrent_job_status varchar(64) DEFAULT NULL,\n  \t\tcurrent_job_status_update_time timestamp NULL DEFAULT NULL);"]
[2024/05/15 17:09:26.216 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=77] [category=ddl] [job="ID:77, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:76, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:26.21 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:26.218 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=37] [neededSchemaVersion=38] ["start time"=394.667s] [gotSchemaVersion=38] [phyTblIDs="[76]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:09:26.219 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:09:26.219 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=77] [version=38]
[2024/05/15 17:09:26.220 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=38] ["take time"=2.298375ms] [job="ID:77, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:76, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:26.21 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:26.224 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=77] [job="ID:77, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:76, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:26.21 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:26.227 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=77]
[2024/05/15 17:09:26.227 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:09:26.227 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=38] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_ttl_task (\n\t\tjob_id varchar(64) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tscan_id int NOT NULL,\n\t\tscan_range_start BLOB,\n\t\tscan_range_end BLOB,\n\t\texpire_time timestamp NOT NULL,\n\t\towner_id varchar(64) DEFAULT NULL,\n\t\towner_addr varchar(64) DEFAULT NULL,\n\t\towner_hb_time timestamp DEFAULT NULL,\n\t\tstatus varchar(64) DEFAULT 'waiting',\n\t\tstatus_update_time timestamp NULL DEFAULT NULL,\n\t\tstate text,\n\t\tcreated_time timestamp NOT NULL,\n\t\tprimary key(job_id, scan_id),\n\t\tkey(created_time));"] [user=]
[2024/05/15 17:09:26.231 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:79, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:78, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:26.229 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:09:26.231 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:79, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:78, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:26.229 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_ttl_task (\n\t\tjob_id varchar(64) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tscan_id int NOT NULL,\n\t\tscan_range_start BLOB,\n\t\tscan_range_end BLOB,\n\t\texpire_time timestamp NOT NULL,\n\t\towner_id varchar(64) DEFAULT NULL,\n\t\towner_addr varchar(64) DEFAULT NULL,\n\t\towner_hb_time timestamp DEFAULT NULL,\n\t\tstatus varchar(64) DEFAULT 'waiting',\n\t\tstatus_update_time timestamp NULL DEFAULT NULL,\n\t\tstate text,\n\t\tcreated_time timestamp NOT NULL,\n\t\tprimary key(job_id, scan_id),\n\t\tkey(created_time));"]
[2024/05/15 17:09:26.236 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=79] [category=ddl] [job="ID:79, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:78, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:26.229 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:26.238 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=38] [neededSchemaVersion=39] ["start time"=419.417s] [gotSchemaVersion=39] [phyTblIDs="[78]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:09:26.239 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:09:26.239 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=79] [version=39]
[2024/05/15 17:09:26.240 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=39] ["take time"=2.270916ms] [job="ID:79, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:78, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:26.229 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:26.244 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=79] [job="ID:79, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:78, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:26.229 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:26.247 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=79]
[2024/05/15 17:09:26.247 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:09:26.247 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=39] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_ttl_job_history (\n\t\tjob_id varchar(64) PRIMARY KEY,\n\t\ttable_id bigint(64) NOT NULL,\n        parent_table_id bigint(64) NOT NULL,\n    \ttable_schema varchar(64) NOT NULL,\n\t\ttable_name varchar(64) NOT NULL,\n    \tpartition_name varchar(64) DEFAULT NULL,\n\t\tcreate_time timestamp NOT NULL,\n\t\tfinish_time timestamp NOT NULL,\n\t\tttl_expire timestamp NOT NULL,\n        summary_text text,\n\t\texpired_rows bigint(64) DEFAULT NULL,\n    \tdeleted_rows bigint(64) DEFAULT NULL,\n    \terror_delete_rows bigint(64) DEFAULT NULL,\n    \tstatus varchar(64) NOT NULL,\n    \tkey(table_schema, table_name, create_time),\n    \tkey(parent_table_id, create_time),\n    \tkey(create_time)\n\t);"] [user=]
[2024/05/15 17:09:26.249 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:81, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:80, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:26.248 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:09:26.249 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:81, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:80, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:26.248 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_ttl_job_history (\n\t\tjob_id varchar(64) PRIMARY KEY,\n\t\ttable_id bigint(64) NOT NULL,\n        parent_table_id bigint(64) NOT NULL,\n    \ttable_schema varchar(64) NOT NULL,\n\t\ttable_name varchar(64) NOT NULL,\n    \tpartition_name varchar(64) DEFAULT NULL,\n\t\tcreate_time timestamp NOT NULL,\n\t\tfinish_time timestamp NOT NULL,\n\t\tttl_expire timestamp NOT NULL,\n        summary_text text,\n\t\texpired_rows bigint(64) DEFAULT NULL,\n    \tdeleted_rows bigint(64) DEFAULT NULL,\n    \terror_delete_rows bigint(64) DEFAULT NULL,\n    \tstatus varchar(64) NOT NULL,\n    \tkey(table_schema, table_name, create_time),\n    \tkey(parent_table_id, create_time),\n    \tkey(create_time)\n\t);"]
[2024/05/15 17:09:26.252 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=81] [category=ddl] [job="ID:81, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:80, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:26.248 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:26.255 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=39] [neededSchemaVersion=40] ["start time"=425.833s] [gotSchemaVersion=40] [phyTblIDs="[80]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:09:26.256 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:09:26.256 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=81] [version=40]
[2024/05/15 17:09:26.257 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=40] ["take time"=2.701209ms] [job="ID:81, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:80, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:26.248 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:26.262 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=81] [job="ID:81, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:80, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:26.248 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:26.264 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=81]
[2024/05/15 17:09:26.264 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:09:26.264 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=40] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_global_task (\n\t\tid BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n    \ttask_key VARCHAR(256) NOT NULL,\n\t\ttype VARCHAR(256) NOT NULL,\n\t\tdispatcher_id VARCHAR(261),\n\t\tstate VARCHAR(64) NOT NULL,\n\t\tpriority INT DEFAULT 1,\n\t\tcreate_time TIMESTAMP,\n\t\tstart_time TIMESTAMP,\n\t\tstate_update_time TIMESTAMP,\n\t\tend_time TIMESTAMP,\n\t\tmeta LONGBLOB,\n\t\tconcurrency INT(11),\n\t\tstep INT(11),\n\t\ttarget_scope VARCHAR(256) DEFAULT \"\",\n\t\terror BLOB,\n\t\tkey(state),\n      \tUNIQUE KEY task_key(task_key)\n\t);"] [user=]
[2024/05/15 17:09:26.266 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:83, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:82, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:26.265 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:09:26.266 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:83, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:82, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:26.265 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_global_task (\n\t\tid BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n    \ttask_key VARCHAR(256) NOT NULL,\n\t\ttype VARCHAR(256) NOT NULL,\n\t\tdispatcher_id VARCHAR(261),\n\t\tstate VARCHAR(64) NOT NULL,\n\t\tpriority INT DEFAULT 1,\n\t\tcreate_time TIMESTAMP,\n\t\tstart_time TIMESTAMP,\n\t\tstate_update_time TIMESTAMP,\n\t\tend_time TIMESTAMP,\n\t\tmeta LONGBLOB,\n\t\tconcurrency INT(11),\n\t\tstep INT(11),\n\t\ttarget_scope VARCHAR(256) DEFAULT \"\",\n\t\terror BLOB,\n\t\tkey(state),\n      \tUNIQUE KEY task_key(task_key)\n\t);"]
[2024/05/15 17:09:26.270 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=83] [category=ddl] [job="ID:83, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:82, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:26.265 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:26.273 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=40] [neededSchemaVersion=41] ["start time"=389.208s] [gotSchemaVersion=41] [phyTblIDs="[82]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:09:26.273 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:09:26.273 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=83] [version=41]
[2024/05/15 17:09:26.275 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=41] ["take time"=2.253167ms] [job="ID:83, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:82, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:26.265 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:26.279 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=83] [job="ID:83, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:82, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:26.265 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:26.282 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=83]
[2024/05/15 17:09:26.282 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:09:26.282 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=41] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_global_task_history (\n\t\tid BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n    \ttask_key VARCHAR(256) NOT NULL,\n\t\ttype VARCHAR(256) NOT NULL,\n\t\tdispatcher_id VARCHAR(261),\n\t\tstate VARCHAR(64) NOT NULL,\n\t\tpriority INT DEFAULT 1,\n\t\tcreate_time TIMESTAMP,\n\t\tstart_time TIMESTAMP,\n\t\tstate_update_time TIMESTAMP,\n\t\tend_time TIMESTAMP,\n\t\tmeta LONGBLOB,\n\t\tconcurrency INT(11),\n\t\tstep INT(11),\n\t\ttarget_scope VARCHAR(256) DEFAULT \"\",\n\t\terror BLOB,\n\t\tkey(state),\n      \tUNIQUE KEY task_key(task_key)\n\t);"] [user=]
[2024/05/15 17:09:26.284 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:85, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:84, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:26.283 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:09:26.284 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:85, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:84, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:26.283 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_global_task_history (\n\t\tid BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n    \ttask_key VARCHAR(256) NOT NULL,\n\t\ttype VARCHAR(256) NOT NULL,\n\t\tdispatcher_id VARCHAR(261),\n\t\tstate VARCHAR(64) NOT NULL,\n\t\tpriority INT DEFAULT 1,\n\t\tcreate_time TIMESTAMP,\n\t\tstart_time TIMESTAMP,\n\t\tstate_update_time TIMESTAMP,\n\t\tend_time TIMESTAMP,\n\t\tmeta LONGBLOB,\n\t\tconcurrency INT(11),\n\t\tstep INT(11),\n\t\ttarget_scope VARCHAR(256) DEFAULT \"\",\n\t\terror BLOB,\n\t\tkey(state),\n      \tUNIQUE KEY task_key(task_key)\n\t);"]
[2024/05/15 17:09:26.289 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=85] [category=ddl] [job="ID:85, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:84, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:26.283 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:26.292 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=41] [neededSchemaVersion=42] ["start time"=411.916s] [gotSchemaVersion=42] [phyTblIDs="[84]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:09:26.293 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:09:26.293 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=85] [version=42]
[2024/05/15 17:09:26.294 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=42] ["take time"=2.134417ms] [job="ID:85, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:84, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:26.283 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:26.301 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=85] [job="ID:85, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:84, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:26.283 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:26.305 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=85]
[2024/05/15 17:09:26.305 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:09:26.305 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=42] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_import_jobs (\n\t\tid bigint(64) NOT NULL AUTO_INCREMENT,\n\t\tcreate_time TIMESTAMP(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6),\n\t\tstart_time TIMESTAMP(6) NULL DEFAULT NULL,\n\t\tupdate_time TIMESTAMP(6) NULL DEFAULT NULL,\n\t\tend_time TIMESTAMP(6) NULL DEFAULT NULL,\n\t\ttable_schema VARCHAR(64) NOT NULL,\n\t\ttable_name VARCHAR(64) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tcreated_by VARCHAR(300) NOT NULL,\n\t\tparameters text NOT NULL,\n\t\tsource_file_size bigint(64) NOT NULL,\n\t\tstatus VARCHAR(64) NOT NULL,\n\t\tstep VARCHAR(64) NOT NULL,\n\t\tsummary text DEFAULT NULL,\n\t\terror_message TEXT DEFAULT NULL,\n\t\tPRIMARY KEY (id),\n\t\tKEY (created_by),\n\t\tKEY (status));"] [user=]
[2024/05/15 17:09:26.307 +08:00] [WARN] [runaway.go:166] ["failed to start runaway manager loop, please check whether the bootstrap or update is finished"] [error="[schema:1146]Table 'mysql.tidb_runaway_watch' doesn't exist"] [errorVerbose="[schema:1146]Table 'mysql.tidb_runaway_watch' doesn't exist\ngithub.com/pingcap/errors.AddStack\n\t/Users/bba/.gvm/pkgsets/go1.21.0/global/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20240318064555-6bd07397691f/errors.go:178\ngithub.com/pingcap/errors.Trace\n\t/Users/bba/.gvm/pkgsets/go1.21.0/global/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20240318064555-6bd07397691f/juju_adaptor.go:15\ngithub.com/pingcap/tidb/pkg/planner/core.Preprocess\n\t/Users/bba/pc/tidb/pkg/planner/core/preprocess.go:141\ngithub.com/pingcap/tidb/pkg/executor.(*Compiler).Compile\n\t/Users/bba/pc/tidb/pkg/executor/compiler.go:67\ngithub.com/pingcap/tidb/pkg/session.(*session).ExecuteStmt\n\t/Users/bba/pc/tidb/pkg/session/session.go:2094\ngithub.com/pingcap/tidb/pkg/session.(*session).ExecuteInternalStmt\n\t/Users/bba/pc/tidb/pkg/session/session.go:1998\ngithub.com/pingcap/tidb/pkg/session.(*session).ExecRestrictedSQL.func1\n\t/Users/bba/pc/tidb/pkg/session/session.go:1963\ngithub.com/pingcap/tidb/pkg/session.(*session).withRestrictedSQLExecutor\n\t/Users/bba/pc/tidb/pkg/session/session.go:1949\ngithub.com/pingcap/tidb/pkg/session.(*session).ExecRestrictedSQL\n\t/Users/bba/pc/tidb/pkg/session/session.go:1953\ngithub.com/pingcap/tidb/pkg/domain.(*SystemTableReader).Read\n\t/Users/bba/pc/tidb/pkg/domain/runaway.go:655\ngithub.com/pingcap/tidb/pkg/domain.getRunawayWatchRecord\n\t/Users/bba/pc/tidb/pkg/domain/runaway.go:543\ngithub.com/pingcap/tidb/pkg/domain.(*runawaySyncer).getWatchRecord\n\t/Users/bba/pc/tidb/pkg/domain/runaway.go:526\ngithub.com/pingcap/tidb/pkg/domain.(*runawaySyncer).getNewWatchRecords\n\t/Users/bba/pc/tidb/pkg/domain/runaway.go:509\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).updateNewAndDoneWatch\n\t/Users/bba/pc/tidb/pkg/domain/runaway.go:177\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).runawayStartLoop\n\t/Users/bba/pc/tidb/pkg/domain/runaway.go:156\ngithub.com/pingcap/tidb/pkg/util.(*WaitGroupEnhancedWrapper).Run.func1\n\t/Users/bba/pc/tidb/pkg/util/wait_group_wrapper.go:99\nruntime.goexit\n\t/Users/bba/.gvm/gos/go1.21.0/src/runtime/asm_arm64.s:1197"]
[2024/05/15 17:09:26.311 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:87, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:86, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:26.309 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:09:26.311 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:87, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:86, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:26.309 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_import_jobs (\n\t\tid bigint(64) NOT NULL AUTO_INCREMENT,\n\t\tcreate_time TIMESTAMP(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6),\n\t\tstart_time TIMESTAMP(6) NULL DEFAULT NULL,\n\t\tupdate_time TIMESTAMP(6) NULL DEFAULT NULL,\n\t\tend_time TIMESTAMP(6) NULL DEFAULT NULL,\n\t\ttable_schema VARCHAR(64) NOT NULL,\n\t\ttable_name VARCHAR(64) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tcreated_by VARCHAR(300) NOT NULL,\n\t\tparameters text NOT NULL,\n\t\tsource_file_size bigint(64) NOT NULL,\n\t\tstatus VARCHAR(64) NOT NULL,\n\t\tstep VARCHAR(64) NOT NULL,\n\t\tsummary text DEFAULT NULL,\n\t\terror_message TEXT DEFAULT NULL,\n\t\tPRIMARY KEY (id),\n\t\tKEY (created_by),\n\t\tKEY (status));"]
[2024/05/15 17:09:26.318 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=87] [category=ddl] [job="ID:87, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:86, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:26.309 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:26.322 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=42] [neededSchemaVersion=43] ["start time"=781.542s] [gotSchemaVersion=43] [phyTblIDs="[86]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:09:26.325 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:09:26.325 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=87] [version=43]
[2024/05/15 17:09:26.327 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=43] ["take time"=6.2375ms] [job="ID:87, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:86, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:26.309 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:26.335 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=87] [job="ID:87, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:86, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:26.309 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:26.337 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=87]
[2024/05/15 17:09:26.337 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:09:26.337 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=43] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_runaway_watch (\n\t\tid BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n\t\tresource_group_name varchar(32) not null,\n\t\tstart_time datetime(6) NOT NULL,\n\t\tend_time datetime(6),\n\t\twatch bigint(10) NOT NULL,\n\t\twatch_text TEXT NOT NULL,\n\t\tsource varchar(512) NOT NULL,\n\t\taction bigint(10),\n\t\tINDEX sql_index(resource_group_name,watch_text(700)) COMMENT \"accelerate the speed when select quarantined query\",\n\t\tINDEX time_index(end_time) COMMENT \"accelerate the speed when querying with active watch\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"] [user=]
[2024/05/15 17:09:26.339 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:89, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:88, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:26.338 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:09:26.339 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:89, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:88, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:26.338 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_runaway_watch (\n\t\tid BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n\t\tresource_group_name varchar(32) not null,\n\t\tstart_time datetime(6) NOT NULL,\n\t\tend_time datetime(6),\n\t\twatch bigint(10) NOT NULL,\n\t\twatch_text TEXT NOT NULL,\n\t\tsource varchar(512) NOT NULL,\n\t\taction bigint(10),\n\t\tINDEX sql_index(resource_group_name,watch_text(700)) COMMENT \"accelerate the speed when select quarantined query\",\n\t\tINDEX time_index(end_time) COMMENT \"accelerate the speed when querying with active watch\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"]
[2024/05/15 17:09:26.342 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=89] [category=ddl] [job="ID:89, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:88, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:26.338 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:26.345 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=43] [neededSchemaVersion=44] ["start time"=391.834s] [gotSchemaVersion=44] [phyTblIDs="[88]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:09:26.346 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:09:26.346 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=89] [version=44]
[2024/05/15 17:09:26.347 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=44] ["take time"=2.754291ms] [job="ID:89, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:88, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:26.338 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:26.351 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=89] [job="ID:89, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:88, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:26.338 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:26.353 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=89]
[2024/05/15 17:09:26.353 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:09:26.353 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=44] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_runaway_queries (\n\t\tresource_group_name varchar(32) not null,\n\t\ttime TIMESTAMP NOT NULL,\n\t\tmatch_type varchar(12) NOT NULL,\n\t\taction varchar(12) NOT NULL,\n\t\toriginal_sql TEXT NOT NULL,\n\t\tplan_digest TEXT NOT NULL,\n\t\ttidb_server varchar(512),\n\t\tINDEX plan_index(plan_digest(64)) COMMENT \"accelerate the speed when select runaway query\",\n\t\tINDEX time_index(time) COMMENT \"accelerate the speed when querying with active watch\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"] [user=]
[2024/05/15 17:09:26.355 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:91, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:90, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:26.354 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:09:26.355 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:91, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:90, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:26.354 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_runaway_queries (\n\t\tresource_group_name varchar(32) not null,\n\t\ttime TIMESTAMP NOT NULL,\n\t\tmatch_type varchar(12) NOT NULL,\n\t\taction varchar(12) NOT NULL,\n\t\toriginal_sql TEXT NOT NULL,\n\t\tplan_digest TEXT NOT NULL,\n\t\ttidb_server varchar(512),\n\t\tINDEX plan_index(plan_digest(64)) COMMENT \"accelerate the speed when select runaway query\",\n\t\tINDEX time_index(time) COMMENT \"accelerate the speed when querying with active watch\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"]
[2024/05/15 17:09:26.359 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=91] [category=ddl] [job="ID:91, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:90, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:26.354 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:26.361 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=44] [neededSchemaVersion=45] ["start time"=290.584s] [gotSchemaVersion=45] [phyTblIDs="[90]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:09:26.362 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:09:26.362 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=91] [version=45]
[2024/05/15 17:09:26.363 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=45] ["take time"=2.746791ms] [job="ID:91, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:90, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:26.354 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:26.367 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=91] [job="ID:91, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:90, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:26.354 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:26.369 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=91]
[2024/05/15 17:09:26.369 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:09:26.369 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=45] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS `mysql`.`tidb_timers` (\n\t\tID BIGINT(64) UNSIGNED NOT NULL AUTO_INCREMENT,\n\t\tNAMESPACE VARCHAR(256) NOT NULL,\n\t\tTIMER_KEY VARCHAR(256) NOT NULL,\n\t\tTIMER_DATA BLOB,\n\t\tTIMEZONE VARCHAR(64) NOT NULL,\n\t\tSCHED_POLICY_TYPE VARCHAR(32) NOT NULL,\n\t\tSCHED_POLICY_EXPR VARCHAR(256) NOT NULL,\n\t\tHOOK_CLASS VARCHAR(64) NOT NULL,\n\t\tWATERMARK TIMESTAMP DEFAULT NULL,\n\t\tENABLE TINYINT(2) NOT NULL,\n\t\tTIMER_EXT JSON NOT NULL,\n\t\tEVENT_STATUS VARCHAR(32) NOT NULL,\n\t\tEVENT_ID VARCHAR(64) NOT NULL,\n\t\tEVENT_DATA BLOB,\n\t\tEVENT_START TIMESTAMP DEFAULT NULL,\n\t\tSUMMARY_DATA BLOB,\n\t\tCREATE_TIME TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,\n\t\tUPDATE_TIME TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\tVERSION BIGINT(64) UNSIGNED NOT NULL,\n\t\tPRIMARY KEY (ID),\n\t\tUNIQUE KEY timer_key(NAMESPACE, TIMER_KEY),\n\t\tKEY hook_class(HOOK_CLASS)\n\t)"] [user=]
[2024/05/15 17:09:26.371 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:93, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:92, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:26.37 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:09:26.371 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:93, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:92, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:26.37 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS `mysql`.`tidb_timers` (\n\t\tID BIGINT(64) UNSIGNED NOT NULL AUTO_INCREMENT,\n\t\tNAMESPACE VARCHAR(256) NOT NULL,\n\t\tTIMER_KEY VARCHAR(256) NOT NULL,\n\t\tTIMER_DATA BLOB,\n\t\tTIMEZONE VARCHAR(64) NOT NULL,\n\t\tSCHED_POLICY_TYPE VARCHAR(32) NOT NULL,\n\t\tSCHED_POLICY_EXPR VARCHAR(256) NOT NULL,\n\t\tHOOK_CLASS VARCHAR(64) NOT NULL,\n\t\tWATERMARK TIMESTAMP DEFAULT NULL,\n\t\tENABLE TINYINT(2) NOT NULL,\n\t\tTIMER_EXT JSON NOT NULL,\n\t\tEVENT_STATUS VARCHAR(32) NOT NULL,\n\t\tEVENT_ID VARCHAR(64) NOT NULL,\n\t\tEVENT_DATA BLOB,\n\t\tEVENT_START TIMESTAMP DEFAULT NULL,\n\t\tSUMMARY_DATA BLOB,\n\t\tCREATE_TIME TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,\n\t\tUPDATE_TIME TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\tVERSION BIGINT(64) UNSIGNED NOT NULL,\n\t\tPRIMARY KEY (ID),\n\t\tUNIQUE KEY timer_key(NAMESPACE, TIMER_KEY),\n\t\tKEY hook_class(HOOK_CLASS)\n\t)"]
[2024/05/15 17:09:26.374 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=93] [category=ddl] [job="ID:93, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:92, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:26.37 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:26.377 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=45] [neededSchemaVersion=46] ["start time"=453.459s] [gotSchemaVersion=46] [phyTblIDs="[92]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:09:26.377 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:09:26.377 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=93] [version=46]
[2024/05/15 17:09:26.379 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=46] ["take time"=2.468125ms] [job="ID:93, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:92, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:26.37 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:26.383 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=93] [job="ID:93, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:92, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:26.37 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:26.385 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=93]
[2024/05/15 17:09:26.385 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:09:26.385 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=46] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_runaway_watch_done (\n\t\tid BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n\t\trecord_id BIGINT(20) not null,\n\t\tresource_group_name varchar(32) not null,\n\t\tstart_time datetime(6) NOT NULL,\n\t\tend_time datetime(6),\n\t\twatch bigint(10) NOT NULL,\n\t\twatch_text TEXT NOT NULL,\n\t\tsource varchar(512) NOT NULL,\n\t\taction bigint(10),\n\t\tdone_time TIMESTAMP(6) NOT NULL\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"] [user=]
[2024/05/15 17:09:26.387 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:95, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:94, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:26.386 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:09:26.387 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:95, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:94, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:26.386 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_runaway_watch_done (\n\t\tid BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n\t\trecord_id BIGINT(20) not null,\n\t\tresource_group_name varchar(32) not null,\n\t\tstart_time datetime(6) NOT NULL,\n\t\tend_time datetime(6),\n\t\twatch bigint(10) NOT NULL,\n\t\twatch_text TEXT NOT NULL,\n\t\tsource varchar(512) NOT NULL,\n\t\taction bigint(10),\n\t\tdone_time TIMESTAMP(6) NOT NULL\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"]
[2024/05/15 17:09:26.390 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=95] [category=ddl] [job="ID:95, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:94, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:26.386 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:26.392 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=46] [neededSchemaVersion=47] ["start time"=269.333s] [gotSchemaVersion=47] [phyTblIDs="[94]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:09:26.392 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:09:26.392 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=95] [version=47]
[2024/05/15 17:09:26.394 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=47] ["take time"=2.028917ms] [job="ID:95, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:94, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:26.386 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:26.398 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=95] [job="ID:95, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:94, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:26.386 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:26.400 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=95]
[2024/05/15 17:09:26.400 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:09:26.400 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=47] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.dist_framework_meta (\n        host VARCHAR(261) NOT NULL PRIMARY KEY,\n        role VARCHAR(64),\n        cpu_count int default 0,\n        keyspace_id bigint(8) NOT NULL DEFAULT -1\n    );"] [user=]
[2024/05/15 17:09:26.402 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:97, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:96, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:26.401 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:09:26.402 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:97, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:96, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:26.401 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.dist_framework_meta (\n        host VARCHAR(261) NOT NULL PRIMARY KEY,\n        role VARCHAR(64),\n        cpu_count int default 0,\n        keyspace_id bigint(8) NOT NULL DEFAULT -1\n    );"]
[2024/05/15 17:09:26.405 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=97] [category=ddl] [job="ID:97, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:96, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:26.401 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:26.407 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=47] [neededSchemaVersion=48] ["start time"=188.125s] [gotSchemaVersion=48] [phyTblIDs="[96]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:09:26.408 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:09:26.408 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=97] [version=48]
[2024/05/15 17:09:26.409 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=48] ["take time"=2.015458ms] [job="ID:97, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:96, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:26.401 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:26.413 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=97] [job="ID:97, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:96, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:26.401 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:26.415 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=97]
[2024/05/15 17:09:26.415 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:09:26.416 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=48] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.request_unit_by_group (\n\t\tstart_time TIMESTAMP(6) NOT NULL,\n\t\tend_time TIMESTAMP(6) NOT NULL,\n\t\tresource_group VARCHAR(32) NOT null,\n\t\ttotal_ru bigint(64) UNSIGNED NOT NULL,\n\t\tPRIMARY KEY (start_time, end_time, resource_group),\n\t\tKEY (resource_group)\n\t);"] [user=]
[2024/05/15 17:09:26.417 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:99, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:98, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:26.416 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:09:26.417 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:99, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:98, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:26.416 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.request_unit_by_group (\n\t\tstart_time TIMESTAMP(6) NOT NULL,\n\t\tend_time TIMESTAMP(6) NOT NULL,\n\t\tresource_group VARCHAR(32) NOT null,\n\t\ttotal_ru bigint(64) UNSIGNED NOT NULL,\n\t\tPRIMARY KEY (start_time, end_time, resource_group),\n\t\tKEY (resource_group)\n\t);"]
[2024/05/15 17:09:26.421 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=99] [category=ddl] [job="ID:99, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:98, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:26.416 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:26.422 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=48] [neededSchemaVersion=49] ["start time"=226.042s] [gotSchemaVersion=49] [phyTblIDs="[98]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:09:26.423 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:09:26.423 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=99] [version=49]
[2024/05/15 17:09:26.425 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=49] ["take time"=2.931542ms] [job="ID:99, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:98, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:26.416 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:26.429 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=99] [job="ID:99, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:98, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:26.416 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:26.431 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=99]
[2024/05/15 17:09:26.431 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:09:26.431 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=49] [cur_db=mysql] [sql="CREATE DATABASE IF NOT EXISTS sys;"] [user=]
[2024/05/15 17:09:26.434 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:101, Type:create schema, State:queueing, SchemaState:none, SchemaID:100, TableID:0, RowCount:0, ArgLen:1, start time: 2024-05-15 17:09:26.433 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:09:26.434 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:101, Type:create schema, State:queueing, SchemaState:none, SchemaID:100, TableID:0, RowCount:0, ArgLen:1, start time: 2024-05-15 17:09:26.433 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE DATABASE IF NOT EXISTS sys;"]
[2024/05/15 17:09:26.437 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=101] [category=ddl] [job="ID:101, Type:create schema, State:queueing, SchemaState:none, SchemaID:100, TableID:0, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:26.433 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:26.438 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=49] [neededSchemaVersion=50] ["start time"=53.5s] [gotSchemaVersion=50] [phyTblIDs="[]"] [actionTypes="[]"] [diffTypes="[\"create schema\"]"]
[2024/05/15 17:09:26.439 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:09:26.439 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=101] [version=50]
[2024/05/15 17:09:26.440 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=50] ["take time"=2.084458ms] [job="ID:101, Type:create schema, State:done, SchemaState:public, SchemaID:100, TableID:0, RowCount:0, ArgLen:1, start time: 2024-05-15 17:09:26.433 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:26.445 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=101] [job="ID:101, Type:create schema, State:synced, SchemaState:public, SchemaID:100, TableID:0, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:26.433 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:26.447 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=101]
[2024/05/15 17:09:26.447 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:09:26.450 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:103, Type:create view, State:queueing, SchemaState:none, SchemaID:100, TableID:102, RowCount:0, ArgLen:3, start time: 2024-05-15 17:09:26.449 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:09:26.450 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:103, Type:create view, State:queueing, SchemaState:none, SchemaID:100, TableID:102, RowCount:0, ArgLen:3, start time: 2024-05-15 17:09:26.449 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE OR REPLACE VIEW sys.schema_unused_indexes AS\n\t\tSELECT\n\t\t\ttable_schema as object_schema,\n\t\t\ttable_name as object_name,\n\t\t\tindex_name\n\t\tFROM information_schema.cluster_tidb_index_usage\n\t\tWHERE\n\t\t\ttable_schema not in ('sys', 'mysql', 'INFORMATION_SCHEMA', 'PERFORMANCE_SCHEMA') and\n\t\t\tindex_name != 'PRIMARY'\n\t\tGROUP BY table_schema, table_name, index_name\n\t\tHAVING\n\t\t\tsum(last_access_time) is null;"]
[2024/05/15 17:09:26.454 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=103] [category=ddl] [job="ID:103, Type:create view, State:queueing, SchemaState:none, SchemaID:100, TableID:102, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:26.449 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:26.456 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=50] [neededSchemaVersion=51] ["start time"=154.708s] [gotSchemaVersion=51] [phyTblIDs="[102]"] [actionTypes="[21]"] [diffTypes="[\"create view\"]"]
[2024/05/15 17:09:26.456 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:09:26.456 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=103] [version=51]
[2024/05/15 17:09:26.458 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=51] ["take time"=2.072875ms] [job="ID:103, Type:create view, State:done, SchemaState:public, SchemaID:100, TableID:102, RowCount:0, ArgLen:3, start time: 2024-05-15 17:09:26.449 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:26.461 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=103] [job="ID:103, Type:create view, State:synced, SchemaState:public, SchemaID:100, TableID:102, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:26.449 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:26.463 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=103]
[2024/05/15 17:09:26.463 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:09:26.464 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=0] ["to ID"=1] ["table ID"=4] ["database ID"=1]
[2024/05/15 17:09:26.468 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=0] ["to ID"=655] ["table ID"=16] ["database ID"=1]
[2024/05/15 17:09:26.471 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=0] ["to ID"=1] ["table ID"=18] ["database ID"=1]
[2024/05/15 17:09:26.472 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1] ["to ID"=2] ["table ID"=18] ["database ID"=1]
[2024/05/15 17:09:26.472 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2] ["to ID"=3] ["table ID"=18] ["database ID"=1]
[2024/05/15 17:09:26.472 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3] ["to ID"=4] ["table ID"=18] ["database ID"=1]
[2024/05/15 17:09:26.474 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=4] ["to ID"=5] ["table ID"=18] ["database ID"=1]
[2024/05/15 17:09:26.476 +08:00] [INFO] [bootstrap.go:745] ["bootstrap successful"] ["take time"=1.178025667s]
[2024/05/15 17:09:26.478 +08:00] [INFO] [mock.go:106] ["owner manager is canceled"] [category=ddl] [ID=221fede7-e2f4-4385-86d0-8ad8f38c6fd3] [ownerKey=/tidb/ddl/fg/owner]
[2024/05/15 17:09:26.478 +08:00] [INFO] [ddl_workerpool.go:82] ["closing workerPool"] [category=ddl]
[2024/05/15 17:09:26.478 +08:00] [INFO] [ddl_worker.go:186] ["DDL worker closed"] [worker="worker 2, tp add index"] [category=ddl] ["take time"=917ns]
[2024/05/15 17:09:26.478 +08:00] [INFO] [ddl_workerpool.go:82] ["closing workerPool"] [category=ddl]
[2024/05/15 17:09:26.478 +08:00] [INFO] [ddl_worker.go:186] ["DDL worker closed"] [worker="worker 1, tp general"] [category=ddl] ["take time"=375ns]
[2024/05/15 17:09:26.478 +08:00] [INFO] [ddl_workerpool.go:82] ["closing workerPool"] [category=ddl]
[2024/05/15 17:09:26.478 +08:00] [INFO] [delete_range.go:162] ["closing delRange"] [category=ddl]
[2024/05/15 17:09:26.478 +08:00] [INFO] [session_pool.go:99] ["closing session pool"] [category=ddl]
[2024/05/15 17:09:26.480 +08:00] [INFO] [ddl.go:951] ["DDL closed"] [category=ddl] [ID=221fede7-e2f4-4385-86d0-8ad8f38c6fd3] ["take time"=3.311167ms]
[2024/05/15 17:09:26.480 +08:00] [INFO] [ddl.go:769] ["stop DDL"] [category=ddl] [ID=221fede7-e2f4-4385-86d0-8ad8f38c6fd3]
[2024/05/15 17:09:26.480 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=mdlCheckLoop]
[2024/05/15 17:09:26.480 +08:00] [INFO] [domain.go:915] ["loadSchemaInLoop exited."]
[2024/05/15 17:09:26.480 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=loadSchemaInLoop]
[2024/05/15 17:09:26.480 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=runawayStartLoop]
[2024/05/15 17:09:26.480 +08:00] [INFO] [domain.go:769] ["topologySyncerKeeper exited."]
[2024/05/15 17:09:26.480 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=topologySyncerKeeper]
[2024/05/15 17:09:26.480 +08:00] [INFO] [domain.go:745] ["globalConfigSyncerKeeper exited."]
[2024/05/15 17:09:26.480 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=globalConfigSyncerKeeper]
[2024/05/15 17:09:26.480 +08:00] [INFO] [domain.go:719] ["infoSyncerKeeper exited."]
[2024/05/15 17:09:26.480 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=infoSyncerKeeper]
[2024/05/15 17:09:26.480 +08:00] [INFO] [domain.go:691] ["topNSlowQueryLoop exited."]
[2024/05/15 17:09:26.480 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=topNSlowQueryLoop]
[2024/05/15 17:09:26.480 +08:00] [INFO] [domain.go:1369] ["closestReplicaReadCheckLoop exited."]
[2024/05/15 17:09:26.480 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=closestReplicaReadCheckLoop]
[2024/05/15 17:09:26.480 +08:00] [INFO] [domain.go:1082] ["domain closed"] ["take time"=3.984541ms]
[2024/05/15 17:09:26.480 +08:00] [INFO] [tidb.go:80] ["new domain"] [store=72674d7b-7798-4c7f-bcf1-401cdd5e3055] ["ddl lease"=200ms] ["stats lease"=3s]
[2024/05/15 17:09:26.482 +08:00] [WARN] [controller.go:198] ["[resource group controller] server does not save config, load config failed"]
[2024/05/15 17:09:26.482 +08:00] [INFO] [controller.go:185] ["load resource controller config"] [config="{\"degraded-mode-wait-duration\":\"0s\",\"ltb-max-wait-duration\":\"30s\",\"wait-retry-interval\":\"50ms\",\"wait-retry-times\":10,\"request-unit\":{\"read-base-cost\":0.125,\"read-per-batch-base-cost\":0.5,\"read-cost-per-byte\":0.0000152587890625,\"write-base-cost\":1,\"write-per-batch-base-cost\":1,\"write-cost-per-byte\":0.0009765625,\"read-cpu-ms-cost\":0.3333333333333333},\"enable-controller-trace-log\":\"false\"}"] [ru-config="{\"ReadBaseCost\":0.125,\"ReadPerBatchBaseCost\":0.5,\"ReadBytesCost\":0.0000152587890625,\"WriteBaseCost\":1,\"WritePerBatchBaseCost\":1,\"WriteBytesCost\":0.0009765625,\"CPUMsCost\":0.3333333333333333,\"LTBMaxWaitDuration\":30000000000,\"WaitRetryInterval\":50000000,\"WaitRetryTimes\":10,\"DegradedModeWaitDuration\":0}"]
[2024/05/15 17:09:26.495 +08:00] [INFO] [domain.go:323] ["full load InfoSchema success"] [currentSchemaVersion=0] [neededSchemaVersion=51] ["start time"=12.404375ms]
[2024/05/15 17:09:26.497 +08:00] [INFO] [domain.go:643] ["full load and reset schema validator"]
[2024/05/15 17:09:26.497 +08:00] [INFO] [ddl.go:818] ["start DDL"] [category=ddl] [ID=244e665f-f145-490f-91f8-386590b65a48] [runWorker=true]
[2024/05/15 17:09:26.498 +08:00] [INFO] [ddl.go:777] ["start delRangeManager OK"] [category=ddl] ["is a emulator"=true]
[2024/05/15 17:09:26.498 +08:00] [WARN] [env.go:51] ["initialize environment failed"] [category=ddl-ingest] ["storage limitation"="only support TiKV storage"] ["current storage"=unistore] ["lightning is initialized"=false]
[2024/05/15 17:09:26.498 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=loadSchemaInLoop]
[2024/05/15 17:09:26.498 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=mdlCheckLoop]
[2024/05/15 17:09:26.498 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=topNSlowQueryLoop]
[2024/05/15 17:09:26.498 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=infoSyncerKeeper]
[2024/05/15 17:09:26.498 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=globalConfigSyncerKeeper]
[2024/05/15 17:09:26.498 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=runawayStartLoop]
[2024/05/15 17:09:26.498 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=requestUnitsWriterLoop]
[2024/05/15 17:09:26.498 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=topologySyncerKeeper]
[2024/05/15 17:09:26.498 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=closestReplicaReadCheckLoop]
[2024/05/15 17:09:26.498 +08:00] [WARN] [domain.go:1334] ["pd / etcd client not provided, won't begin Advancer."]
[2024/05/15 17:09:26.502 +08:00] [INFO] [delete_range.go:172] ["start delRange emulator"] [category=ddl]
[2024/05/15 17:09:26.502 +08:00] [INFO] [job_table.go:334] ["get global state and global state change"] [category=ddl] [oldState=false] [currState=false]
[2024/05/15 17:09:26.503 +08:00] [INFO] [runaway.go:149] ["try to start runaway manager loop"]
[2024/05/15 17:09:26.503 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=requestUnitsWriterLoop]
[2024/05/15 17:09:26.523 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=globalBindHandleWorkerLoop]
[2024/05/15 17:09:26.523 +08:00] [WARN] [sysvar_cache.go:49] ["sysvar cache is empty, triggering rebuild"]
[2024/05/15 17:09:26.524 +08:00] [INFO] [sysvar.go:2748] ["set resource control"] [enable=true]
[2024/05/15 17:09:26.525 +08:00] [INFO] [controller.go:447] ["[resource group controller] create resource group cost controller"] [name=default]
[2024/05/15 17:09:26.537 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=loadPrivilegeInLoop]
[2024/05/15 17:09:26.539 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=LoadSysVarCacheLoop]
[2024/05/15 17:09:26.542 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=PlanReplayerTaskCollectHandle]
[2024/05/15 17:09:26.542 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=PlanReplayerTaskDumpHandle]
[2024/05/15 17:09:26.542 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=dumpFileGcChecker]
[2024/05/15 17:09:26.542 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=HistoricalStatsWorker]
[2024/05/15 17:09:26.543 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=loadStatsWorker]
[2024/05/15 17:09:26.543 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=indexUsageWorker]
[2024/05/15 17:09:26.543 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=updateStatsWorker]
[2024/05/15 17:09:26.543 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=autoAnalyzeWorker]
[2024/05/15 17:09:26.543 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=analyzeJobsCleanupWorker]
[2024/05/15 17:09:26.543 +08:00] [INFO] [domain.go:2278] ["start load stats sub workers"] ["worker count"=5]
[2024/05/15 17:09:26.543 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=loadSigningCertLoop]
[2024/05/15 17:09:26.543 +08:00] [INFO] [manager.go:113] ["build task executor manager"] [server-id=:4000] [total-cpu=1] [total-mem=32GiB]
[2024/05/15 17:09:26.545 +08:00] [INFO] [domain.go:2024] ["PlanReplayerTaskCollectHandle started"]
[2024/05/15 17:09:26.545 +08:00] [INFO] [domain.go:2046] ["PlanReplayerTaskDumpHandle started"]
[2024/05/15 17:09:26.545 +08:00] [INFO] [plan_replayer.go:409] ["planReplayerTaskDumpWorker started."]
[2024/05/15 17:09:26.546 +08:00] [INFO] [domain.go:2078] ["dumpFileGcChecker started"]
[2024/05/15 17:09:26.546 +08:00] [INFO] [domain.go:2111] ["HistoricalStatsWorker started"]
[2024/05/15 17:09:26.548 +08:00] [INFO] [domain.go:2398] ["updateStatsWorker started."]
[2024/05/15 17:09:26.550 +08:00] [INFO] [task_manager.go:217] ["scale ttl worker"] [ttl-worker=job-manager] [ttl-worker=task-manager] [originalCount=0] [newCount=4]
[2024/05/15 17:09:26.550 +08:00] [INFO] [task_manager.go:217] ["scale ttl worker"] [ttl-worker=job-manager] [ttl-worker=task-manager] [originalCount=0] [newCount=4]
[2024/05/15 17:09:26.557 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=0] ["to ID"=1] ["table ID"=96] ["database ID"=1]
[2024/05/15 17:09:26.557 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=distTaskFrameworkLoop]
[2024/05/15 17:09:26.557 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=1] [schemaVersion=51] [cur_db=] [sql="create database cancel_job_db"] [user=]
[2024/05/15 17:09:26.560 +08:00] [INFO] [job_table.go:334] ["get global state and global state change"] [category=ddl] [oldState=false] [currState=false]
[2024/05/15 17:09:26.560 +08:00] [INFO] [job_table.go:349] ["the owner sets owner operator value"] [category=ddl] [ownerOp=none]
[2024/05/15 17:09:26.562 +08:00] [INFO] [manager.go:146] ["task executor manager start"] [server-id=:4000]
[2024/05/15 17:09:26.562 +08:00] [INFO] [domain.go:1533] ["dist task executor manager started"]
[2024/05/15 17:09:26.563 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:105, Type:create schema, State:queueing, SchemaState:none, SchemaID:104, TableID:0, RowCount:0, ArgLen:1, start time: 2024-05-15 17:09:26.563 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:09:26.563 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:105, Type:create schema, State:queueing, SchemaState:none, SchemaID:104, TableID:0, RowCount:0, ArgLen:1, start time: 2024-05-15 17:09:26.563 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="create database cancel_job_db"]
[2024/05/15 17:09:26.564 +08:00] [INFO] [domain.go:2317] ["init stats info time"] [lite=true] ["take time"=17.359542ms]
[2024/05/15 17:09:26.591 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=105] [conn=1] [category=ddl] [job="ID:105, Type:create schema, State:queueing, SchemaState:none, SchemaID:104, TableID:0, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:26.563 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:26.592 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=51] [neededSchemaVersion=52] ["start time"=34.959s] [gotSchemaVersion=52] [phyTblIDs="[]"] [actionTypes="[]"] [diffTypes="[\"create schema\"]"]
[2024/05/15 17:09:26.593 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:09:26.593 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=105] [version=52]
[2024/05/15 17:09:26.594 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=52] ["take time"=2.008042ms] [job="ID:105, Type:create schema, State:done, SchemaState:public, SchemaID:104, TableID:0, RowCount:0, ArgLen:1, start time: 2024-05-15 17:09:26.563 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:26.597 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=105] [conn=1] [job="ID:105, Type:create schema, State:synced, SchemaState:public, SchemaID:104, TableID:0, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:26.563 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:26.599 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=105]
[2024/05/15 17:09:26.599 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:09:26.599 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=1] [schemaVersion=52] [cur_db=cancel_job_db] [sql="create table t(a int)"] [user=]
[2024/05/15 17:09:26.600 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:107, Type:create table, State:queueing, SchemaState:none, SchemaID:104, TableID:106, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:26.6 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:09:26.600 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:107, Type:create table, State:queueing, SchemaState:none, SchemaID:104, TableID:106, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:26.6 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="create table t(a int)"]
[2024/05/15 17:09:26.605 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=107] [conn=1] [category=ddl] [job="ID:107, Type:create table, State:queueing, SchemaState:none, SchemaID:104, TableID:106, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:26.6 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:26.606 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=52] [neededSchemaVersion=53] ["start time"=99.542s] [gotSchemaVersion=53] [phyTblIDs="[106]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:09:26.607 +08:00] [INFO] [ddl.go:78] ["Handle ddl event"] [category=stats] [event="(Event Type: create table, Schema ID: 104, Table ID: 106, Table Name: t"]
[2024/05/15 17:09:26.608 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:09:26.608 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=107] [version=53]
[2024/05/15 17:09:26.608 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=53] ["take time"=2.017958ms] [job="ID:107, Type:create table, State:done, SchemaState:public, SchemaID:104, TableID:106, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:26.6 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:26.608 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=0] ["to ID"=1] ["table ID"=22] ["database ID"=1]
[2024/05/15 17:09:26.609 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=0] ["to ID"=1] ["table ID"=24] ["database ID"=1]
[2024/05/15 17:09:26.612 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=107] [conn=1] [job="ID:107, Type:create table, State:synced, SchemaState:public, SchemaID:104, TableID:106, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:26.6 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:26.614 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=107]
[2024/05/15 17:09:26.614 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:09:26.614 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=0] ["to ID"=1] ["table ID"=106] ["database ID"=104]
[2024/05/15 17:09:26.615 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=1] [schemaVersion=53] [cur_db=cancel_job_db] [sql="truncate table t"] [user=]
[2024/05/15 17:09:26.616 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:109, Type:truncate table, State:queueing, SchemaState:none, SchemaID:104, TableID:106, RowCount:0, ArgLen:3, start time: 2024-05-15 17:09:26.616 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:09:26.616 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:109, Type:truncate table, State:queueing, SchemaState:none, SchemaID:104, TableID:106, RowCount:0, ArgLen:3, start time: 2024-05-15 17:09:26.616 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="truncate table t"]
[2024/05/15 17:09:26.620 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=109] [conn=1] [category=ddl] [job="ID:109, Type:truncate table, State:queueing, SchemaState:none, SchemaID:104, TableID:106, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:26.616 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:26.620 +08:00] [INFO] [ddl_worker.go:1149] ["DDL job is cancelled normally"] [worker="worker 3, tp general"] [category=ddl] [jobID=109] [conn=1] [error="occur an error after dropping table"] [errorVerbose="occur an error after dropping table\ngithub.com/pingcap/tidb/pkg/ddl.(*worker).onTruncateTable\n\t/Users/bba/pc/tidb/pkg/ddl/table.go:754\ngithub.com/pingcap/tidb/pkg/ddl.(*worker).runDDLJob\n\t/Users/bba/pc/tidb/pkg/ddl/ddl_worker.go:1273\ngithub.com/pingcap/tidb/pkg/ddl.(*worker).HandleDDLJobTable\n\t/Users/bba/pc/tidb/pkg/ddl/ddl_worker.go:946\ngithub.com/pingcap/tidb/pkg/ddl.(*ddl).delivery2Worker.func1\n\t/Users/bba/pc/tidb/pkg/ddl/job_table.go:461\ngithub.com/pingcap/tidb/pkg/util.(*WaitGroupWrapper).Run.func1\n\t/Users/bba/pc/tidb/pkg/util/wait_group_wrapper.go:157\nruntime.goexit\n\t/Users/bba/.gvm/gos/go1.21.0/src/runtime/asm_arm64.s:1197"]
[2024/05/15 17:09:26.621 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=109] [conn=1] [job="ID:109, Type:truncate table, State:cancelled, SchemaState:none, SchemaID:104, TableID:106, RowCount:0, ArgLen:3, start time: 2024-05-15 17:09:26.616 +0800 CST, Err:[ddl:-1]occur an error after dropping table, ErrCount:1, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:26.623 +08:00] [INFO] [ddl.go:1292] ["DDL job is failed"] [category=ddl] [jobID=109]
[2024/05/15 17:09:26.623 +08:00] [INFO] [tidb.go:269] ["rollbackTxn called due to ddl/autocommit failure"]
[2024/05/15 17:09:26.623 +08:00] [WARN] [session.go:2158] ["run statement failed"] [schemaVersion=53] [error="[ddl:-1]occur an error after dropping table"] [errorVerbose="[ddl:-1]occur an error after dropping table\ngithub.com/pingcap/errors.AddStack\n\t/Users/bba/.gvm/pkgsets/go1.21.0/global/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20240318064555-6bd07397691f/errors.go:178\ngithub.com/pingcap/errors.Trace\n\t/Users/bba/.gvm/pkgsets/go1.21.0/global/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20240318064555-6bd07397691f/juju_adaptor.go:15\ngithub.com/pingcap/tidb/pkg/ddl.(*ddl).DoDDLJob\n\t/Users/bba/pc/tidb/pkg/ddl/ddl.go:1293\ngithub.com/pingcap/tidb/pkg/ddl.(*ddl).TruncateTable\n\t/Users/bba/pc/tidb/pkg/ddl/ddl_api.go:7135\ngithub.com/pingcap/tidb/pkg/executor.(*DDLExec).executeTruncateTable\n\t/Users/bba/pc/tidb/pkg/executor/ddl.go:244\ngithub.com/pingcap/tidb/pkg/executor.(*DDLExec).Next\n\t/Users/bba/pc/tidb/pkg/executor/ddl.go:191\ngithub.com/pingcap/tidb/pkg/executor/internal/exec.Next\n\t/Users/bba/pc/tidb/pkg/executor/internal/exec/executor.go:410\ngithub.com/pingcap/tidb/pkg/executor.(*ExecStmt).next\n\t/Users/bba/pc/tidb/pkg/executor/adapter.go:1211\ngithub.com/pingcap/tidb/pkg/executor.(*ExecStmt).handleNoDelayExecutor\n\t/Users/bba/pc/tidb/pkg/executor/adapter.go:960\ngithub.com/pingcap/tidb/pkg/executor.(*ExecStmt).handleNoDelay\n\t/Users/bba/pc/tidb/pkg/executor/adapter.go:794\ngithub.com/pingcap/tidb/pkg/executor.(*ExecStmt).Exec\n\t/Users/bba/pc/tidb/pkg/executor/adapter.go:559\ngithub.com/pingcap/tidb/pkg/session.runStmt\n\t/Users/bba/pc/tidb/pkg/session/session.go:2285\ngithub.com/pingcap/tidb/pkg/session.(*session).ExecuteStmt\n\t/Users/bba/pc/tidb/pkg/session/session.go:2146\ngithub.com/pingcap/tidb/pkg/testkit.(*TestKit).ExecWithContext\n\t/Users/bba/pc/tidb/pkg/testkit/testkit.go:384\ngithub.com/pingcap/tidb/pkg/testkit.(*TestKit).Exec\n\t/Users/bba/pc/tidb/pkg/testkit/testkit.go:357\ngithub.com/pingcap/tidb/pkg/ddl/tests/fail_test.TestHalfwayCancelOperations\n\t/Users/bba/pc/tidb/pkg/ddl/tests/fail/fail_db_test.go:86\ntesting.tRunner\n\t/Users/bba/.gvm/gos/go1.21.0/src/testing/testing.go:1595\nruntime.goexit\n\t/Users/bba/.gvm/gos/go1.21.0/src/runtime/asm_arm64.s:1197"] [session="{\n  \"currDBName\": \"cancel_job_db\",\n  \"id\": 1,\n  \"status\": 2,\n  \"strictMode\": true,\n  \"user\": null\n}"]
[2024/05/15 17:09:26.624 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=1] [schemaVersion=53] [cur_db=cancel_job_db] [sql="alter table t comment 'test1'"] [user=]
[2024/05/15 17:09:26.625 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:110, Type:modify table comment, State:queueing, SchemaState:none, SchemaID:104, TableID:106, RowCount:0, ArgLen:1, start time: 2024-05-15 17:09:26.625 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:09:26.625 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:110, Type:modify table comment, State:queueing, SchemaState:none, SchemaID:104, TableID:106, RowCount:0, ArgLen:1, start time: 2024-05-15 17:09:26.625 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="alter table t comment 'test1'"]
[2024/05/15 17:09:26.629 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=110] [conn=1] [category=ddl] [job="ID:110, Type:modify table comment, State:queueing, SchemaState:none, SchemaID:104, TableID:106, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:26.625 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:26.630 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=53] [neededSchemaVersion=54] ["start time"=106.292s] [gotSchemaVersion=54] [phyTblIDs="[106]"] [actionTypes="[17]"] [diffTypes="[\"modify table comment\"]"]
[2024/05/15 17:09:26.631 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:09:26.631 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=110] [version=54]
[2024/05/15 17:09:26.632 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=54] ["take time"=2.006166ms] [job="ID:110, Type:modify table comment, State:done, SchemaState:public, SchemaID:104, TableID:106, RowCount:0, ArgLen:1, start time: 2024-05-15 17:09:26.625 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:26.637 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=110] [conn=1] [job="ID:110, Type:modify table comment, State:synced, SchemaState:public, SchemaID:104, TableID:106, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:26.625 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:26.639 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=110]
[2024/05/15 17:09:26.639 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:09:26.639 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:09:26.640 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=30000] ["to ID"=30001] ["table ID"=16] ["database ID"=1]
[2024/05/15 17:09:26.641 +08:00] [INFO] [set.go:170] ["set global var"] [conn=2] [name=tidb_schema_cache_size] [val=1024]
[2024/05/15 17:09:26.642 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=2] [schemaVersion=54] [cur_db=cancel_job_db] [sql="create table tx(a int)"] [user=]
[2024/05/15 17:09:26.643 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:112, Type:create table, State:queueing, SchemaState:none, SchemaID:104, TableID:111, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:26.643 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:09:26.643 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:112, Type:create table, State:queueing, SchemaState:none, SchemaID:104, TableID:111, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:26.643 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="create table tx(a int)"]
[2024/05/15 17:09:26.647 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=112] [conn=2] [category=ddl] [job="ID:112, Type:create table, State:queueing, SchemaState:none, SchemaID:104, TableID:111, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:26.643 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:26.649 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=54] [neededSchemaVersion=55] ["start time"=110.916s] [gotSchemaVersion=55] [phyTblIDs="[111]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:09:26.650 +08:00] [INFO] [ddl.go:78] ["Handle ddl event"] [category=stats] [event="(Event Type: create table, Schema ID: 104, Table ID: 111, Table Name: tx"]
[2024/05/15 17:09:26.650 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1] ["to ID"=2] ["table ID"=22] ["database ID"=1]
[2024/05/15 17:09:26.650 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1] ["to ID"=2] ["table ID"=24] ["database ID"=1]
[2024/05/15 17:09:26.651 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:09:26.651 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=112] [version=55]
[2024/05/15 17:09:26.652 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=55] ["take time"=4.005875ms] [job="ID:112, Type:create table, State:done, SchemaState:public, SchemaID:104, TableID:111, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:26.643 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:26.656 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=112] [conn=2] [job="ID:112, Type:create table, State:synced, SchemaState:public, SchemaID:104, TableID:111, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:26.643 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:26.658 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=112]
[2024/05/15 17:09:26.658 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:09:26.658 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=0] ["to ID"=1] ["table ID"=111] ["database ID"=104]
[2024/05/15 17:09:26.659 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=2] [schemaVersion=55] [cur_db=cancel_job_db] [sql="rename table tx to ty"] [user=]
[2024/05/15 17:09:26.660 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:113, Type:rename table, State:queueing, SchemaState:none, SchemaID:104, TableID:111, RowCount:0, ArgLen:3, start time: 2024-05-15 17:09:26.659 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:09:26.660 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:113, Type:rename table, State:queueing, SchemaState:none, SchemaID:104, TableID:111, RowCount:0, ArgLen:3, start time: 2024-05-15 17:09:26.659 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="rename table tx to ty"]
[2024/05/15 17:09:26.664 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=113] [conn=2] [category=ddl] [job="ID:113, Type:rename table, State:queueing, SchemaState:none, SchemaID:104, TableID:111, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:26.659 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:26.664 +08:00] [INFO] [ddl_worker.go:1149] ["DDL job is cancelled normally"] [worker="worker 3, tp general"] [category=ddl] [jobID=113] [conn=2] [error="occur an error after renaming table"] [errorVerbose="occur an error after renaming table\ngithub.com/pingcap/tidb/pkg/ddl.checkAndRenameTables\n\t/Users/bba/pc/tidb/pkg/ddl/table.go:1125\ngithub.com/pingcap/tidb/pkg/ddl.onRenameTable\n\t/Users/bba/pc/tidb/pkg/ddl/table.go:1054\ngithub.com/pingcap/tidb/pkg/ddl.(*worker).runDDLJob\n\t/Users/bba/pc/tidb/pkg/ddl/ddl_worker.go:1279\ngithub.com/pingcap/tidb/pkg/ddl.(*worker).HandleDDLJobTable\n\t/Users/bba/pc/tidb/pkg/ddl/ddl_worker.go:946\ngithub.com/pingcap/tidb/pkg/ddl.(*ddl).delivery2Worker.func1\n\t/Users/bba/pc/tidb/pkg/ddl/job_table.go:461\ngithub.com/pingcap/tidb/pkg/util.(*WaitGroupWrapper).Run.func1\n\t/Users/bba/pc/tidb/pkg/util/wait_group_wrapper.go:157\nruntime.goexit\n\t/Users/bba/.gvm/gos/go1.21.0/src/runtime/asm_arm64.s:1197"]
[2024/05/15 17:09:26.664 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=113] [conn=2] [job="ID:113, Type:rename table, State:cancelled, SchemaState:none, SchemaID:104, TableID:111, RowCount:0, ArgLen:3, start time: 2024-05-15 17:09:26.659 +0800 CST, Err:[ddl:-1]occur an error after renaming table, ErrCount:1, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:26.666 +08:00] [INFO] [ddl.go:1292] ["DDL job is failed"] [category=ddl] [jobID=113]
[2024/05/15 17:09:26.666 +08:00] [INFO] [tidb.go:269] ["rollbackTxn called due to ddl/autocommit failure"]
[2024/05/15 17:09:26.666 +08:00] [WARN] [session.go:2158] ["run statement failed"] [schemaVersion=55] [error="[ddl:-1]occur an error after renaming table"] [errorVerbose="[ddl:-1]occur an error after renaming table\ngithub.com/pingcap/errors.AddStack\n\t/Users/bba/.gvm/pkgsets/go1.21.0/global/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20240318064555-6bd07397691f/errors.go:178\ngithub.com/pingcap/errors.Trace\n\t/Users/bba/.gvm/pkgsets/go1.21.0/global/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20240318064555-6bd07397691f/juju_adaptor.go:15\ngithub.com/pingcap/tidb/pkg/ddl.(*ddl).DoDDLJob\n\t/Users/bba/pc/tidb/pkg/ddl/ddl.go:1293\ngithub.com/pingcap/tidb/pkg/ddl.(*ddl).renameTable\n\t/Users/bba/pc/tidb/pkg/ddl/ddl_api.go:7209\ngithub.com/pingcap/tidb/pkg/ddl.(*ddl).RenameTable\n\t/Users/bba/pc/tidb/pkg/ddl/ddl_api.go:7159\ngithub.com/pingcap/tidb/pkg/executor.(*DDLExec).executeRenameTable\n\t/Users/bba/pc/tidb/pkg/executor/ddl.go:254\ngithub.com/pingcap/tidb/pkg/executor.(*DDLExec).Next\n\t/Users/bba/pc/tidb/pkg/executor/ddl.go:189\ngithub.com/pingcap/tidb/pkg/executor/internal/exec.Next\n\t/Users/bba/pc/tidb/pkg/executor/internal/exec/executor.go:410\ngithub.com/pingcap/tidb/pkg/executor.(*ExecStmt).next\n\t/Users/bba/pc/tidb/pkg/executor/adapter.go:1211\ngithub.com/pingcap/tidb/pkg/executor.(*ExecStmt).handleNoDelayExecutor\n\t/Users/bba/pc/tidb/pkg/executor/adapter.go:960\ngithub.com/pingcap/tidb/pkg/executor.(*ExecStmt).handleNoDelay\n\t/Users/bba/pc/tidb/pkg/executor/adapter.go:794\ngithub.com/pingcap/tidb/pkg/executor.(*ExecStmt).Exec\n\t/Users/bba/pc/tidb/pkg/executor/adapter.go:559\ngithub.com/pingcap/tidb/pkg/session.runStmt\n\t/Users/bba/pc/tidb/pkg/session/session.go:2285\ngithub.com/pingcap/tidb/pkg/session.(*session).ExecuteStmt\n\t/Users/bba/pc/tidb/pkg/session/session.go:2146\ngithub.com/pingcap/tidb/pkg/testkit.(*TestKit).ExecWithContext\n\t/Users/bba/pc/tidb/pkg/testkit/testkit.go:384\ngithub.com/pingcap/tidb/pkg/testkit.(*TestKit).Exec\n\t/Users/bba/pc/tidb/pkg/testkit/testkit.go:357\ngithub.com/pingcap/tidb/pkg/testkit.(*TestKit).ExecToErr\n\t/Users/bba/pc/tidb/pkg/testkit/testkit.go:430\ngithub.com/pingcap/tidb/pkg/ddl/tests/fail_test.TestHalfwayCancelOperations\n\t/Users/bba/pc/tidb/pkg/ddl/tests/fail/fail_db_test.go:107\ntesting.tRunner\n\t/Users/bba/.gvm/gos/go1.21.0/src/testing/testing.go:1595\nruntime.goexit\n\t/Users/bba/.gvm/gos/go1.21.0/src/runtime/asm_arm64.s:1197"] [session="{\n  \"currDBName\": \"cancel_job_db\",\n  \"id\": 2,\n  \"status\": 2,\n  \"strictMode\": true,\n  \"user\": null\n}"]
[2024/05/15 17:09:26.666 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=2] [schemaVersion=55] [cur_db=cancel_job_db] [sql="create table ty(a int)"] [user=]
[2024/05/15 17:09:26.667 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:115, Type:create table, State:queueing, SchemaState:none, SchemaID:104, TableID:114, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:26.667 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:09:26.667 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:115, Type:create table, State:queueing, SchemaState:none, SchemaID:104, TableID:114, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:26.667 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="create table ty(a int)"]
[2024/05/15 17:09:26.671 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=115] [conn=2] [category=ddl] [job="ID:115, Type:create table, State:queueing, SchemaState:none, SchemaID:104, TableID:114, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:26.667 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:26.672 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=55] [neededSchemaVersion=56] ["start time"=102.167s] [gotSchemaVersion=56] [phyTblIDs="[114]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:09:26.673 +08:00] [INFO] [ddl.go:78] ["Handle ddl event"] [category=stats] [event="(Event Type: create table, Schema ID: 104, Table ID: 114, Table Name: ty"]
[2024/05/15 17:09:26.673 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2] ["to ID"=3] ["table ID"=22] ["database ID"=1]
[2024/05/15 17:09:26.673 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:09:26.673 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=115] [version=56]
[2024/05/15 17:09:26.673 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2] ["to ID"=3] ["table ID"=24] ["database ID"=1]
[2024/05/15 17:09:26.675 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=56] ["take time"=2.788917ms] [job="ID:115, Type:create table, State:done, SchemaState:public, SchemaID:104, TableID:114, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:26.667 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:26.679 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=115] [conn=2] [job="ID:115, Type:create table, State:synced, SchemaState:public, SchemaID:104, TableID:114, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:26.667 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:26.681 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=115]
[2024/05/15 17:09:26.681 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:09:26.682 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=0] ["to ID"=1] ["table ID"=114] ["database ID"=104]
[2024/05/15 17:09:26.682 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=2] [schemaVersion=56] [cur_db=cancel_job_db] [sql="rename table ty to tz, tx to ty"] [user=]
[2024/05/15 17:09:26.684 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:116, Type:rename tables, State:queueing, SchemaState:none, SchemaID:104, TableID:114, RowCount:0, ArgLen:6, start time: 2024-05-15 17:09:26.683 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:09:26.684 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:116, Type:rename tables, State:queueing, SchemaState:none, SchemaID:104, TableID:114, RowCount:0, ArgLen:6, start time: 2024-05-15 17:09:26.683 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="rename table ty to tz, tx to ty"]
[2024/05/15 17:09:26.687 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=116] [conn=2] [category=ddl] [job="ID:116, Type:rename tables, State:queueing, SchemaState:none, SchemaID:104, TableID:114, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:26.683 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:26.688 +08:00] [INFO] [ddl_worker.go:1149] ["DDL job is cancelled normally"] [worker="worker 3, tp general"] [category=ddl] [jobID=116] [conn=2] [error="occur an error after renaming table"] [errorVerbose="occur an error after renaming table\ngithub.com/pingcap/tidb/pkg/ddl.checkAndRenameTables\n\t/Users/bba/pc/tidb/pkg/ddl/table.go:1125\ngithub.com/pingcap/tidb/pkg/ddl.onRenameTables\n\t/Users/bba/pc/tidb/pkg/ddl/table.go:1096\ngithub.com/pingcap/tidb/pkg/ddl.(*worker).runDDLJob\n\t/Users/bba/pc/tidb/pkg/ddl/ddl_worker.go:1307\ngithub.com/pingcap/tidb/pkg/ddl.(*worker).HandleDDLJobTable\n\t/Users/bba/pc/tidb/pkg/ddl/ddl_worker.go:946\ngithub.com/pingcap/tidb/pkg/ddl.(*ddl).delivery2Worker.func1\n\t/Users/bba/pc/tidb/pkg/ddl/job_table.go:461\ngithub.com/pingcap/tidb/pkg/util.(*WaitGroupWrapper).Run.func1\n\t/Users/bba/pc/tidb/pkg/util/wait_group_wrapper.go:157\nruntime.goexit\n\t/Users/bba/.gvm/gos/go1.21.0/src/runtime/asm_arm64.s:1197"]
[2024/05/15 17:09:26.688 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=116] [conn=2] [job="ID:116, Type:rename tables, State:cancelled, SchemaState:none, SchemaID:104, TableID:111, RowCount:0, ArgLen:6, start time: 2024-05-15 17:09:26.683 +0800 CST, Err:[ddl:-1]occur an error after renaming table, ErrCount:1, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:26.689 +08:00] [INFO] [ddl.go:1292] ["DDL job is failed"] [category=ddl] [jobID=116]
[2024/05/15 17:09:26.689 +08:00] [INFO] [tidb.go:269] ["rollbackTxn called due to ddl/autocommit failure"]
[2024/05/15 17:09:26.690 +08:00] [WARN] [session.go:2158] ["run statement failed"] [schemaVersion=56] [error="[ddl:-1]occur an error after renaming table"] [errorVerbose="[ddl:-1]occur an error after renaming table\ngithub.com/pingcap/errors.AddStack\n\t/Users/bba/.gvm/pkgsets/go1.21.0/global/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20240318064555-6bd07397691f/errors.go:178\ngithub.com/pingcap/errors.Trace\n\t/Users/bba/.gvm/pkgsets/go1.21.0/global/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20240318064555-6bd07397691f/juju_adaptor.go:15\ngithub.com/pingcap/tidb/pkg/ddl.(*ddl).DoDDLJob\n\t/Users/bba/pc/tidb/pkg/ddl/ddl.go:1293\ngithub.com/pingcap/tidb/pkg/ddl.(*ddl).renameTables\n\t/Users/bba/pc/tidb/pkg/ddl/ddl_api.go:7267\ngithub.com/pingcap/tidb/pkg/ddl.(*ddl).RenameTable\n\t/Users/bba/pc/tidb/pkg/ddl/ddl_api.go:7169\ngithub.com/pingcap/tidb/pkg/executor.(*DDLExec).executeRenameTable\n\t/Users/bba/pc/tidb/pkg/executor/ddl.go:254\ngithub.com/pingcap/tidb/pkg/executor.(*DDLExec).Next\n\t/Users/bba/pc/tidb/pkg/executor/ddl.go:189\ngithub.com/pingcap/tidb/pkg/executor/internal/exec.Next\n\t/Users/bba/pc/tidb/pkg/executor/internal/exec/executor.go:410\ngithub.com/pingcap/tidb/pkg/executor.(*ExecStmt).next\n\t/Users/bba/pc/tidb/pkg/executor/adapter.go:1211\ngithub.com/pingcap/tidb/pkg/executor.(*ExecStmt).handleNoDelayExecutor\n\t/Users/bba/pc/tidb/pkg/executor/adapter.go:960\ngithub.com/pingcap/tidb/pkg/executor.(*ExecStmt).handleNoDelay\n\t/Users/bba/pc/tidb/pkg/executor/adapter.go:794\ngithub.com/pingcap/tidb/pkg/executor.(*ExecStmt).Exec\n\t/Users/bba/pc/tidb/pkg/executor/adapter.go:559\ngithub.com/pingcap/tidb/pkg/session.runStmt\n\t/Users/bba/pc/tidb/pkg/session/session.go:2285\ngithub.com/pingcap/tidb/pkg/session.(*session).ExecuteStmt\n\t/Users/bba/pc/tidb/pkg/session/session.go:2146\ngithub.com/pingcap/tidb/pkg/testkit.(*TestKit).ExecWithContext\n\t/Users/bba/pc/tidb/pkg/testkit/testkit.go:384\ngithub.com/pingcap/tidb/pkg/testkit.(*TestKit).Exec\n\t/Users/bba/pc/tidb/pkg/testkit/testkit.go:357\ngithub.com/pingcap/tidb/pkg/testkit.(*TestKit).ExecToErr\n\t/Users/bba/pc/tidb/pkg/testkit/testkit.go:430\ngithub.com/pingcap/tidb/pkg/ddl/tests/fail_test.TestHalfwayCancelOperations\n\t/Users/bba/pc/tidb/pkg/ddl/tests/fail/fail_db_test.go:111\ntesting.tRunner\n\t/Users/bba/.gvm/gos/go1.21.0/src/testing/testing.go:1595\nruntime.goexit\n\t/Users/bba/.gvm/gos/go1.21.0/src/runtime/asm_arm64.s:1197"] [session="{\n  \"currDBName\": \"cancel_job_db\",\n  \"id\": 2,\n  \"status\": 2,\n  \"strictMode\": true,\n  \"user\": null\n}"]
[2024/05/15 17:09:26.690 +08:00] [WARN] [session.go:2116] ["compile SQL failed"] [error="[schema:1146]Table 'cancel_job_db.tz' doesn't exist"] [errorVerbose="[schema:1146]Table 'cancel_job_db.tz' doesn't exist\ngithub.com/pingcap/errors.AddStack\n\t/Users/bba/.gvm/pkgsets/go1.21.0/global/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20240318064555-6bd07397691f/errors.go:178\ngithub.com/pingcap/errors.Trace\n\t/Users/bba/.gvm/pkgsets/go1.21.0/global/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20240318064555-6bd07397691f/juju_adaptor.go:15\ngithub.com/pingcap/tidb/pkg/planner/core.Preprocess\n\t/Users/bba/pc/tidb/pkg/planner/core/preprocess.go:141\ngithub.com/pingcap/tidb/pkg/executor.(*Compiler).Compile\n\t/Users/bba/pc/tidb/pkg/executor/compiler.go:67\ngithub.com/pingcap/tidb/pkg/session.(*session).ExecuteStmt\n\t/Users/bba/pc/tidb/pkg/session/session.go:2094\ngithub.com/pingcap/tidb/pkg/testkit.(*TestKit).ExecWithContext\n\t/Users/bba/pc/tidb/pkg/testkit/testkit.go:384\ngithub.com/pingcap/tidb/pkg/testkit.(*TestKit).Exec\n\t/Users/bba/pc/tidb/pkg/testkit/testkit.go:357\ngithub.com/pingcap/tidb/pkg/testkit.(*TestKit).ExecToErr\n\t/Users/bba/pc/tidb/pkg/testkit/testkit.go:430\ngithub.com/pingcap/tidb/pkg/ddl/tests/fail_test.TestHalfwayCancelOperations\n\t/Users/bba/pc/tidb/pkg/ddl/tests/fail/fail_db_test.go:113\ntesting.tRunner\n\t/Users/bba/.gvm/gos/go1.21.0/src/testing/testing.go:1595\nruntime.goexit\n\t/Users/bba/.gvm/gos/go1.21.0/src/runtime/asm_arm64.s:1197"] [SQL="select * from tz"]
[2024/05/15 17:09:26.690 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=2] [schemaVersion=56] [cur_db=cancel_job_db] [sql="rename table tx to ty, ty to tz"] [user=]
[2024/05/15 17:09:26.690 +08:00] [INFO] [tidb.go:269] ["rollbackTxn called due to ddl/autocommit failure"]
[2024/05/15 17:09:26.690 +08:00] [WARN] [session.go:2158] ["run statement failed"] [schemaVersion=56] [error="[schema:1050]Table 'cancel_job_db.ty' already exists"] [errorVerbose="[schema:1050]Table 'cancel_job_db.ty' already exists\ngithub.com/pingcap/errors.AddStack\n\t/Users/bba/.gvm/pkgsets/go1.21.0/global/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20240318064555-6bd07397691f/errors.go:178\ngithub.com/pingcap/errors.(*Error).GenWithStackByArgs\n\t/Users/bba/.gvm/pkgsets/go1.21.0/global/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20240318064555-6bd07397691f/normalize.go:175\ngithub.com/pingcap/tidb/pkg/ddl.ExtractTblInfos\n\t/Users/bba/pc/tidb/pkg/ddl/ddl_api.go:7313\ngithub.com/pingcap/tidb/pkg/ddl.(*ddl).renameTables\n\t/Users/bba/pc/tidb/pkg/ddl/ddl_api.go:7230\ngithub.com/pingcap/tidb/pkg/ddl.(*ddl).RenameTable\n\t/Users/bba/pc/tidb/pkg/ddl/ddl_api.go:7169\ngithub.com/pingcap/tidb/pkg/executor.(*DDLExec).executeRenameTable\n\t/Users/bba/pc/tidb/pkg/executor/ddl.go:254\ngithub.com/pingcap/tidb/pkg/executor.(*DDLExec).Next\n\t/Users/bba/pc/tidb/pkg/executor/ddl.go:189\ngithub.com/pingcap/tidb/pkg/executor/internal/exec.Next\n\t/Users/bba/pc/tidb/pkg/executor/internal/exec/executor.go:410\ngithub.com/pingcap/tidb/pkg/executor.(*ExecStmt).next\n\t/Users/bba/pc/tidb/pkg/executor/adapter.go:1211\ngithub.com/pingcap/tidb/pkg/executor.(*ExecStmt).handleNoDelayExecutor\n\t/Users/bba/pc/tidb/pkg/executor/adapter.go:960\ngithub.com/pingcap/tidb/pkg/executor.(*ExecStmt).handleNoDelay\n\t/Users/bba/pc/tidb/pkg/executor/adapter.go:794\ngithub.com/pingcap/tidb/pkg/executor.(*ExecStmt).Exec\n\t/Users/bba/pc/tidb/pkg/executor/adapter.go:559\ngithub.com/pingcap/tidb/pkg/session.runStmt\n\t/Users/bba/pc/tidb/pkg/session/session.go:2285\ngithub.com/pingcap/tidb/pkg/session.(*session).ExecuteStmt\n\t/Users/bba/pc/tidb/pkg/session/session.go:2146\ngithub.com/pingcap/tidb/pkg/testkit.(*TestKit).ExecWithContext\n\t/Users/bba/pc/tidb/pkg/testkit/testkit.go:384\ngithub.com/pingcap/tidb/pkg/testkit.(*TestKit).Exec\n\t/Users/bba/pc/tidb/pkg/testkit/testkit.go:357\ngithub.com/pingcap/tidb/pkg/testkit.(*TestKit).ExecToErr\n\t/Users/bba/pc/tidb/pkg/testkit/testkit.go:430\ngithub.com/pingcap/tidb/pkg/ddl/tests/fail_test.TestHalfwayCancelOperations\n\t/Users/bba/pc/tidb/pkg/ddl/tests/fail/fail_db_test.go:115\ntesting.tRunner\n\t/Users/bba/.gvm/gos/go1.21.0/src/testing/testing.go:1595\nruntime.goexit\n\t/Users/bba/.gvm/gos/go1.21.0/src/runtime/asm_arm64.s:1197"] [session="{\n  \"currDBName\": \"cancel_job_db\",\n  \"id\": 2,\n  \"status\": 2,\n  \"strictMode\": true,\n  \"user\": null\n}"]
[2024/05/15 17:09:26.691 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=2] [schemaVersion=56] [cur_db=cancel_job_db] [sql="alter table tx comment 'tx'"] [user=]
[2024/05/15 17:09:26.692 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:117, Type:modify table comment, State:queueing, SchemaState:none, SchemaID:104, TableID:111, RowCount:0, ArgLen:1, start time: 2024-05-15 17:09:26.692 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:09:26.692 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:117, Type:modify table comment, State:queueing, SchemaState:none, SchemaID:104, TableID:111, RowCount:0, ArgLen:1, start time: 2024-05-15 17:09:26.692 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="alter table tx comment 'tx'"]
[2024/05/15 17:09:26.695 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=117] [conn=2] [category=ddl] [job="ID:117, Type:modify table comment, State:queueing, SchemaState:none, SchemaID:104, TableID:111, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:26.692 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:26.697 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=56] [neededSchemaVersion=57] ["start time"=108.459s] [gotSchemaVersion=57] [phyTblIDs="[111]"] [actionTypes="[17]"] [diffTypes="[\"modify table comment\"]"]
[2024/05/15 17:09:26.697 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:09:26.697 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=117] [version=57]
[2024/05/15 17:09:26.699 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=57] ["take time"=2.213375ms] [job="ID:117, Type:modify table comment, State:done, SchemaState:public, SchemaID:104, TableID:111, RowCount:0, ArgLen:1, start time: 2024-05-15 17:09:26.692 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:26.703 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=117] [conn=2] [job="ID:117, Type:modify table comment, State:synced, SchemaState:public, SchemaID:104, TableID:111, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:26.692 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:26.705 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=117]
[2024/05/15 17:09:26.705 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:09:26.705 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:09:26.707 +08:00] [INFO] [set.go:170] ["set global var"] [conn=3] [name=tidb_schema_cache_size] [val=1024]
[2024/05/15 17:09:26.708 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=3] [schemaVersion=57] [cur_db=cancel_job_db] [sql="create table pt(a int) partition by hash (a) partitions 2"] [user=]
[2024/05/15 17:09:26.709 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:121, Type:create table, State:queueing, SchemaState:none, SchemaID:104, TableID:118, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:26.709 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:09:26.709 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:121, Type:create table, State:queueing, SchemaState:none, SchemaID:104, TableID:118, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:26.709 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="create table pt(a int) partition by hash (a) partitions 2"]
[2024/05/15 17:09:26.713 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=121] [conn=3] [category=ddl] [job="ID:121, Type:create table, State:queueing, SchemaState:none, SchemaID:104, TableID:118, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:26.709 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:26.718 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=57] [neededSchemaVersion=58] ["start time"=3.689292ms] [gotSchemaVersion=58] [phyTblIDs="[118,119,120]"] [actionTypes="[3,3,3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:09:26.719 +08:00] [INFO] [ddl.go:78] ["Handle ddl event"] [category=stats] [event="(Event Type: create table, Schema ID: 104, Table ID: 118, Table Name: pt"]
[2024/05/15 17:09:26.719 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3] ["to ID"=4] ["table ID"=22] ["database ID"=1]
[2024/05/15 17:09:26.720 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3] ["to ID"=4] ["table ID"=24] ["database ID"=1]
[2024/05/15 17:09:26.720 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=4] ["to ID"=5] ["table ID"=22] ["database ID"=1]
[2024/05/15 17:09:26.720 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=4] ["to ID"=5] ["table ID"=24] ["database ID"=1]
[2024/05/15 17:09:26.721 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:09:26.721 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=121] [version=58]
[2024/05/15 17:09:26.721 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=5] ["to ID"=6] ["table ID"=22] ["database ID"=1]
[2024/05/15 17:09:26.721 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=5] ["to ID"=6] ["table ID"=24] ["database ID"=1]
[2024/05/15 17:09:26.723 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=58] ["take time"=8.288833ms] [job="ID:121, Type:create table, State:done, SchemaState:public, SchemaID:104, TableID:118, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:26.709 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:26.728 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=121] [conn=3] [job="ID:121, Type:create table, State:synced, SchemaState:public, SchemaID:104, TableID:118, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:26.709 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:26.730 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=121]
[2024/05/15 17:09:26.730 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:09:26.730 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=0] ["to ID"=3] ["table ID"=118] ["database ID"=104]
[2024/05/15 17:09:26.731 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=3] [schemaVersion=58] [cur_db=cancel_job_db] [sql="create table nt(a int)"] [user=]
[2024/05/15 17:09:26.732 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:123, Type:create table, State:queueing, SchemaState:none, SchemaID:104, TableID:122, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:26.731 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:09:26.732 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:123, Type:create table, State:queueing, SchemaState:none, SchemaID:104, TableID:122, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:26.731 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="create table nt(a int)"]
[2024/05/15 17:09:26.735 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=123] [conn=3] [category=ddl] [job="ID:123, Type:create table, State:queueing, SchemaState:none, SchemaID:104, TableID:122, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:26.731 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:26.736 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=58] [neededSchemaVersion=59] ["start time"=105.625s] [gotSchemaVersion=59] [phyTblIDs="[122]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:09:26.737 +08:00] [INFO] [ddl.go:78] ["Handle ddl event"] [category=stats] [event="(Event Type: create table, Schema ID: 104, Table ID: 122, Table Name: nt"]
[2024/05/15 17:09:26.737 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=6] ["to ID"=7] ["table ID"=22] ["database ID"=1]
[2024/05/15 17:09:26.737 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=6] ["to ID"=7] ["table ID"=24] ["database ID"=1]
[2024/05/15 17:09:26.738 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:09:26.738 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=123] [version=59]
[2024/05/15 17:09:26.739 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=59] ["take time"=3.075417ms] [job="ID:123, Type:create table, State:done, SchemaState:public, SchemaID:104, TableID:122, RowCount:0, ArgLen:2, start time: 2024-05-15 17:09:26.731 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:26.743 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=123] [conn=3] [job="ID:123, Type:create table, State:synced, SchemaState:public, SchemaID:104, TableID:122, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:26.731 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:26.744 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=123]
[2024/05/15 17:09:26.744 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:09:26.745 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=0] ["to ID"=1] ["table ID"=122] ["database ID"=104]
[2024/05/15 17:09:26.745 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=3] [schemaVersion=59] [cur_db=cancel_job_db] [sql="alter table pt exchange partition p1 with table nt"] [user=]
[2024/05/15 17:09:26.746 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:124, Type:exchange partition, State:queueing, SchemaState:none, SchemaID:104, TableID:122, RowCount:0, ArgLen:5, start time: 2024-05-15 17:09:26.746 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:09:26.746 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:124, Type:exchange partition, State:queueing, SchemaState:none, SchemaID:104, TableID:122, RowCount:0, ArgLen:5, start time: 2024-05-15 17:09:26.746 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="alter table pt exchange partition p1 with table nt"]
[2024/05/15 17:09:26.752 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=124] [conn=3] [category=ddl] [job="ID:124, Type:exchange partition, State:queueing, SchemaState:none, SchemaID:104, TableID:122, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:26.746 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:26.755 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=59] [neededSchemaVersion=60] ["start time"=121.75s] [gotSchemaVersion=60] [phyTblIDs="[122]"] [actionTypes="[42]"] [diffTypes="[\"exchange partition\"]"]
[2024/05/15 17:09:26.755 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:09:26.755 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=124] [version=60]
[2024/05/15 17:09:26.756 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=60] ["take time"=2.077792ms] [job="ID:124, Type:exchange partition, State:running, SchemaState:write only, SchemaID:104, TableID:122, RowCount:0, ArgLen:5, start time: 2024-05-15 17:09:26.746 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:26.761 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=124] [conn=3] [category=ddl] [job="ID:124, Type:exchange partition, State:running, SchemaState:write only, SchemaID:104, TableID:122, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:26.746 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:26.763 +08:00] [WARN] [ddl_worker.go:1152] ["run DDL job error"] [worker="worker 3, tp general"] [category=ddl] [jobID=124] [conn=3] [error="occur an error after updating partition id"] [errorVerbose="occur an error after updating partition id\ngithub.com/pingcap/tidb/pkg/ddl.(*worker).onExchangeTablePartition\n\t/Users/bba/pc/tidb/pkg/ddl/partition.go:2674\ngithub.com/pingcap/tidb/pkg/ddl.(*worker).runDDLJob\n\t/Users/bba/pc/tidb/pkg/ddl/ddl_worker.go:1251\ngithub.com/pingcap/tidb/pkg/ddl.(*worker).HandleDDLJobTable\n\t/Users/bba/pc/tidb/pkg/ddl/ddl_worker.go:946\ngithub.com/pingcap/tidb/pkg/ddl.(*ddl).delivery2Worker.func1\n\t/Users/bba/pc/tidb/pkg/ddl/job_table.go:461\ngithub.com/pingcap/tidb/pkg/util.(*WaitGroupWrapper).Run.func1\n\t/Users/bba/pc/tidb/pkg/util/wait_group_wrapper.go:157\nruntime.goexit\n\t/Users/bba/.gvm/gos/go1.21.0/src/runtime/asm_arm64.s:1197"]
[2024/05/15 17:09:26.764 +08:00] [INFO] [ddl_worker.go:1001] ["run DDL job failed, sleeps a while then retries it."] [worker="worker 3, tp general"] [category=ddl] [jobID=124] [conn=3] [waitTime=1s] [error="occur an error after updating partition id"] [errorVerbose="occur an error after updating partition id\ngithub.com/pingcap/tidb/pkg/ddl.(*worker).onExchangeTablePartition\n\t/Users/bba/pc/tidb/pkg/ddl/partition.go:2674\ngithub.com/pingcap/tidb/pkg/ddl.(*worker).runDDLJob\n\t/Users/bba/pc/tidb/pkg/ddl/ddl_worker.go:1251\ngithub.com/pingcap/tidb/pkg/ddl.(*worker).HandleDDLJobTable\n\t/Users/bba/pc/tidb/pkg/ddl/ddl_worker.go:946\ngithub.com/pingcap/tidb/pkg/ddl.(*ddl).delivery2Worker.func1\n\t/Users/bba/pc/tidb/pkg/ddl/job_table.go:461\ngithub.com/pingcap/tidb/pkg/util.(*WaitGroupWrapper).Run.func1\n\t/Users/bba/pc/tidb/pkg/util/wait_group_wrapper.go:157\nruntime.goexit\n\t/Users/bba/.gvm/gos/go1.21.0/src/runtime/asm_arm64.s:1197"]
[2024/05/15 17:09:26.764 +08:00] [INFO] [ddl_worker.go:1401] ["schema version doesn't change"] [category=ddl] [jobID=124]
[2024/05/15 17:09:26.767 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=124] [conn=3] [category=ddl] [job="ID:124, Type:exchange partition, State:running, SchemaState:write only, SchemaID:104, TableID:122, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:26.746 +0800 CST, Err:[ddl:-1]occur an error after updating partition id, ErrCount:1, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:26.769 +08:00] [WARN] [ddl_worker.go:1152] ["run DDL job error"] [worker="worker 3, tp general"] [category=ddl] [jobID=124] [conn=3] [error="occur an error after updating partition id"] [errorVerbose="occur an error after updating partition id\ngithub.com/pingcap/tidb/pkg/ddl.(*worker).onExchangeTablePartition\n\t/Users/bba/pc/tidb/pkg/ddl/partition.go:2674\ngithub.com/pingcap/tidb/pkg/ddl.(*worker).runDDLJob\n\t/Users/bba/pc/tidb/pkg/ddl/ddl_worker.go:1251\ngithub.com/pingcap/tidb/pkg/ddl.(*worker).HandleDDLJobTable\n\t/Users/bba/pc/tidb/pkg/ddl/ddl_worker.go:946\ngithub.com/pingcap/tidb/pkg/ddl.(*ddl).delivery2Worker.func1\n\t/Users/bba/pc/tidb/pkg/ddl/job_table.go:461\ngithub.com/pingcap/tidb/pkg/util.(*WaitGroupWrapper).Run.func1\n\t/Users/bba/pc/tidb/pkg/util/wait_group_wrapper.go:157\nruntime.goexit\n\t/Users/bba/.gvm/gos/go1.21.0/src/runtime/asm_arm64.s:1197"]
[2024/05/15 17:09:26.769 +08:00] [INFO] [ddl_worker.go:1401] ["schema version doesn't change"] [category=ddl] [jobID=124]
[2024/05/15 17:09:26.772 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=124] [conn=3] [category=ddl] [job="ID:124, Type:exchange partition, State:running, SchemaState:write only, SchemaID:104, TableID:122, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:26.746 +0800 CST, Err:[ddl:-1]occur an error after updating partition id, ErrCount:2, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:26.773 +08:00] [WARN] [ddl_worker.go:1152] ["run DDL job error"] [worker="worker 3, tp general"] [category=ddl] [jobID=124] [conn=3] [error="occur an error after updating partition id"] [errorVerbose="occur an error after updating partition id\ngithub.com/pingcap/tidb/pkg/ddl.(*worker).onExchangeTablePartition\n\t/Users/bba/pc/tidb/pkg/ddl/partition.go:2674\ngithub.com/pingcap/tidb/pkg/ddl.(*worker).runDDLJob\n\t/Users/bba/pc/tidb/pkg/ddl/ddl_worker.go:1251\ngithub.com/pingcap/tidb/pkg/ddl.(*worker).HandleDDLJobTable\n\t/Users/bba/pc/tidb/pkg/ddl/ddl_worker.go:946\ngithub.com/pingcap/tidb/pkg/ddl.(*ddl).delivery2Worker.func1\n\t/Users/bba/pc/tidb/pkg/ddl/job_table.go:461\ngithub.com/pingcap/tidb/pkg/util.(*WaitGroupWrapper).Run.func1\n\t/Users/bba/pc/tidb/pkg/util/wait_group_wrapper.go:157\nruntime.goexit\n\t/Users/bba/.gvm/gos/go1.21.0/src/runtime/asm_arm64.s:1197"]
[2024/05/15 17:09:26.774 +08:00] [INFO] [ddl_worker.go:1401] ["schema version doesn't change"] [category=ddl] [jobID=124]
[2024/05/15 17:09:26.776 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=124] [conn=3] [category=ddl] [job="ID:124, Type:exchange partition, State:running, SchemaState:write only, SchemaID:104, TableID:122, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:26.746 +0800 CST, Err:[ddl:-1]occur an error after updating partition id, ErrCount:3, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:26.777 +08:00] [WARN] [ddl_worker.go:1152] ["run DDL job error"] [worker="worker 3, tp general"] [category=ddl] [jobID=124] [conn=3] [error="occur an error after updating partition id"] [errorVerbose="occur an error after updating partition id\ngithub.com/pingcap/tidb/pkg/ddl.(*worker).onExchangeTablePartition\n\t/Users/bba/pc/tidb/pkg/ddl/partition.go:2674\ngithub.com/pingcap/tidb/pkg/ddl.(*worker).runDDLJob\n\t/Users/bba/pc/tidb/pkg/ddl/ddl_worker.go:1251\ngithub.com/pingcap/tidb/pkg/ddl.(*worker).HandleDDLJobTable\n\t/Users/bba/pc/tidb/pkg/ddl/ddl_worker.go:946\ngithub.com/pingcap/tidb/pkg/ddl.(*ddl).delivery2Worker.func1\n\t/Users/bba/pc/tidb/pkg/ddl/job_table.go:461\ngithub.com/pingcap/tidb/pkg/util.(*WaitGroupWrapper).Run.func1\n\t/Users/bba/pc/tidb/pkg/util/wait_group_wrapper.go:157\nruntime.goexit\n\t/Users/bba/.gvm/gos/go1.21.0/src/runtime/asm_arm64.s:1197"]
[2024/05/15 17:09:26.777 +08:00] [WARN] [ddl_worker.go:1160] ["DDL job error count exceed the limit, cancelling it now"] [worker="worker 3, tp general"] [category=ddl] [jobID=124] [conn=3] [errorCountLimit=3]
[2024/05/15 17:09:26.781 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=124] [conn=3] [category=ddl] [job="ID:124, Type:exchange partition, State:cancelling, SchemaState:write only, SchemaID:104, TableID:122, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:26.746 +0800 CST, Err:[ddl:-1]occur an error after updating partition id, ErrCount:4, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:26.782 +08:00] [ERROR] [domain.go:299] ["failed to load schema diff"] [error="[schema:1146]Table '(Schema ID 104).(Table ID 120)' doesn't exist"] [errorVerbose="[schema:1146]Table '(Schema ID 104).(Table ID 120)' doesn't exist\ngithub.com/pingcap/errors.AddStack\n\t/Users/bba/.gvm/pkgsets/go1.21.0/global/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20240318064555-6bd07397691f/errors.go:178\ngithub.com/pingcap/errors.Trace\n\t/Users/bba/.gvm/pkgsets/go1.21.0/global/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20240318064555-6bd07397691f/juju_adaptor.go:15\ngithub.com/pingcap/tidb/pkg/infoschema.(*Builder).applyTableUpdate\n\t/Users/bba/pc/tidb/pkg/infoschema/builder.go:435\ngithub.com/pingcap/tidb/pkg/infoschema.applyTableUpdate\n\t/Users/bba/pc/tidb/pkg/infoschema/infoschema_v2.go:729\ngithub.com/pingcap/tidb/pkg/infoschema.applyExchangeTablePartition\n\t/Users/bba/pc/tidb/pkg/infoschema/builder.go:222\ngithub.com/pingcap/tidb/pkg/infoschema.(*Builder).ApplyDiff\n\t/Users/bba/pc/tidb/pkg/infoschema/builder.go:98\ngithub.com/pingcap/tidb/pkg/infoschema.(*BuilderV3).ApplyDiff\n\t/Users/bba/pc/tidb/pkg/infoschema/infov3_builder.go:86\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).tryLoadSchemaDiffs\n\t/Users/bba/pc/tidb/pkg/domain/domain.go:479\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).loadInfoSchema\n\t/Users/bba/pc/tidb/pkg/domain/domain.go:284\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).Reload\n\t/Users/bba/pc/tidb/pkg/domain/domain.go:614\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).loadSchemaInLoop\n\t/Users/bba/pc/tidb/pkg/domain/domain.go:927\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).Init.func2\n\t/Users/bba/pc/tidb/pkg/domain/domain.go:1295\ngithub.com/pingcap/tidb/pkg/util.(*WaitGroupEnhancedWrapper).Run.func1\n\t/Users/bba/pc/tidb/pkg/util/wait_group_wrapper.go:99\nruntime.goexit\n\t/Users/bba/.gvm/gos/go1.21.0/src/runtime/asm_arm64.s:1197"] [stack="github.com/pingcap/tidb/pkg/domain.(*Domain).loadInfoSchema\n\t/Users/bba/pc/tidb/pkg/domain/domain.go:299\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).Reload\n\t/Users/bba/pc/tidb/pkg/domain/domain.go:614\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).loadSchemaInLoop\n\t/Users/bba/pc/tidb/pkg/domain/domain.go:927\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).Init.func2\n\t/Users/bba/pc/tidb/pkg/domain/domain.go:1295\ngithub.com/pingcap/tidb/pkg/util.(*WaitGroupEnhancedWrapper).Run.func1\n\t/Users/bba/pc/tidb/pkg/util/wait_group_wrapper.go:99"]
[2024/05/15 17:09:26.796 +08:00] [INFO] [domain.go:323] ["full load InfoSchema success"] [currentSchemaVersion=60] [neededSchemaVersion=61] ["start time"=14.306167ms]
[2024/05/15 17:09:26.799 +08:00] [INFO] [domain.go:643] ["full load and reset schema validator"]
[2024/05/15 17:09:26.800 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:09:26.800 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=124] [version=61]
[2024/05/15 17:09:26.803 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=61] ["take time"=21.062208ms] [job="ID:124, Type:exchange partition, State:rollback done, SchemaState:public, SchemaID:104, TableID:122, RowCount:0, ArgLen:5, start time: 2024-05-15 17:09:26.746 +0800 CST, Err:[ddl:-1]occur an error after updating partition id, ErrCount:4, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:26.807 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=124] [conn=3] [job="ID:124, Type:exchange partition, State:rollback done, SchemaState:public, SchemaID:104, TableID:122, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:26.746 +0800 CST, Err:[ddl:-1]occur an error after updating partition id, ErrCount:4, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:26.808 +08:00] [INFO] [ddl_worker.go:1401] ["schema version doesn't change"] [category=ddl] [jobID=124]
[2024/05/15 17:09:26.808 +08:00] [INFO] [ddl.go:1292] ["DDL job is failed"] [category=ddl] [jobID=124]
[2024/05/15 17:09:26.808 +08:00] [INFO] [tidb.go:269] ["rollbackTxn called due to ddl/autocommit failure"]
[2024/05/15 17:09:26.808 +08:00] [WARN] [session.go:2158] ["run statement failed"] [schemaVersion=59] [error="[ddl:-1]occur an error after updating partition id"] [errorVerbose="[ddl:-1]occur an error after updating partition id\ngithub.com/pingcap/errors.AddStack\n\t/Users/bba/.gvm/pkgsets/go1.21.0/global/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20240318064555-6bd07397691f/errors.go:178\ngithub.com/pingcap/errors.Trace\n\t/Users/bba/.gvm/pkgsets/go1.21.0/global/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20240318064555-6bd07397691f/juju_adaptor.go:15\ngithub.com/pingcap/tidb/pkg/ddl.(*ddl).DoDDLJob\n\t/Users/bba/pc/tidb/pkg/ddl/ddl.go:1293\ngithub.com/pingcap/tidb/pkg/ddl.(*ddl).ExchangeTablePartition\n\t/Users/bba/pc/tidb/pkg/ddl/ddl_api.go:5336\ngithub.com/pingcap/tidb/pkg/ddl.(*ddl).AlterTable\n\t/Users/bba/pc/tidb/pkg/ddl/ddl_api.go:3930\ngithub.com/pingcap/tidb/pkg/executor.(*DDLExec).executeAlterTable\n\t/Users/bba/pc/tidb/pkg/executor/ddl.go:388\ngithub.com/pingcap/tidb/pkg/executor.(*DDLExec).Next\n\t/Users/bba/pc/tidb/pkg/executor/ddl.go:152\ngithub.com/pingcap/tidb/pkg/executor/internal/exec.Next\n\t/Users/bba/pc/tidb/pkg/executor/internal/exec/executor.go:410\ngithub.com/pingcap/tidb/pkg/executor.(*ExecStmt).next\n\t/Users/bba/pc/tidb/pkg/executor/adapter.go:1211\ngithub.com/pingcap/tidb/pkg/executor.(*ExecStmt).handleNoDelayExecutor\n\t/Users/bba/pc/tidb/pkg/executor/adapter.go:960\ngithub.com/pingcap/tidb/pkg/executor.(*ExecStmt).handleNoDelay\n\t/Users/bba/pc/tidb/pkg/executor/adapter.go:794\ngithub.com/pingcap/tidb/pkg/executor.(*ExecStmt).Exec\n\t/Users/bba/pc/tidb/pkg/executor/adapter.go:559\ngithub.com/pingcap/tidb/pkg/session.runStmt\n\t/Users/bba/pc/tidb/pkg/session/session.go:2285\ngithub.com/pingcap/tidb/pkg/session.(*session).ExecuteStmt\n\t/Users/bba/pc/tidb/pkg/session/session.go:2146\ngithub.com/pingcap/tidb/pkg/testkit.(*TestKit).ExecWithContext\n\t/Users/bba/pc/tidb/pkg/testkit/testkit.go:384\ngithub.com/pingcap/tidb/pkg/testkit.(*TestKit).Exec\n\t/Users/bba/pc/tidb/pkg/testkit/testkit.go:357\ngithub.com/pingcap/tidb/pkg/testkit.(*TestKit).ExecToErr\n\t/Users/bba/pc/tidb/pkg/testkit/testkit.go:430\ngithub.com/pingcap/tidb/pkg/ddl/tests/fail_test.TestHalfwayCancelOperations\n\t/Users/bba/pc/tidb/pkg/ddl/tests/fail/fail_db_test.go:142\ntesting.tRunner\n\t/Users/bba/.gvm/gos/go1.21.0/src/testing/testing.go:1595\nruntime.goexit\n\t/Users/bba/.gvm/gos/go1.21.0/src/runtime/asm_arm64.s:1197"] [session="{\n  \"currDBName\": \"cancel_job_db\",\n  \"id\": 3,\n  \"status\": 2,\n  \"strictMode\": true,\n  \"user\": null\n}"]
[2024/05/15 17:09:26.810 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=3] [schemaVersion=61] [cur_db=cancel_job_db] [sql="alter table pt comment 'pt'"] [user=]
[2024/05/15 17:09:26.812 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:125, Type:modify table comment, State:queueing, SchemaState:none, SchemaID:104, TableID:118, RowCount:0, ArgLen:1, start time: 2024-05-15 17:09:26.811 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:09:26.812 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:125, Type:modify table comment, State:queueing, SchemaState:none, SchemaID:104, TableID:118, RowCount:0, ArgLen:1, start time: 2024-05-15 17:09:26.811 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="alter table pt comment 'pt'"]
[2024/05/15 17:09:26.815 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=125] [conn=3] [category=ddl] [job="ID:125, Type:modify table comment, State:queueing, SchemaState:none, SchemaID:104, TableID:118, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:26.811 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:26.820 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=61] [neededSchemaVersion=62] ["start time"=3.800959ms] [gotSchemaVersion=62] [phyTblIDs="[118,119,120]"] [actionTypes="[17,17,17]"] [diffTypes="[\"modify table comment\"]"]
[2024/05/15 17:09:26.821 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:09:26.821 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=125] [version=62]
[2024/05/15 17:09:26.822 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=62] ["take time"=6.086625ms] [job="ID:125, Type:modify table comment, State:done, SchemaState:public, SchemaID:104, TableID:118, RowCount:0, ArgLen:1, start time: 2024-05-15 17:09:26.811 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:26.827 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=125] [conn=3] [job="ID:125, Type:modify table comment, State:synced, SchemaState:public, SchemaID:104, TableID:118, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:26.811 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:26.829 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=125]
[2024/05/15 17:09:26.829 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:09:26.829 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:09:26.830 +08:00] [INFO] [set.go:170] ["set global var"] [conn=4] [name=tidb_schema_cache_size] [val=1024]
[2024/05/15 17:09:26.831 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=4] [schemaVersion=62] [cur_db=cancel_job_db] [sql="drop database cancel_job_db"] [user=]
[2024/05/15 17:09:26.833 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:126, Type:drop schema, State:queueing, SchemaState:public, SchemaID:104, TableID:0, RowCount:0, ArgLen:1, start time: 2024-05-15 17:09:26.832 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:09:26.833 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:126, Type:drop schema, State:queueing, SchemaState:public, SchemaID:104, TableID:0, RowCount:0, ArgLen:1, start time: 2024-05-15 17:09:26.832 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="drop database cancel_job_db"]
[2024/05/15 17:09:26.836 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=126] [conn=4] [category=ddl] [job="ID:126, Type:drop schema, State:queueing, SchemaState:public, SchemaID:104, TableID:0, RowCount:0, ArgLen:0, start time: 2024-05-15 17:09:26.832 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:09:26.838 +08:00] [INFO] [domain.go:915] ["loadSchemaInLoop exited."]
[2024/05/15 17:09:26.838 +08:00] [ERROR] [misc.go:114] ["panic in the recoverable goroutine"] [label=domain] [funcInfo=loadSchemaInLoop] [r="rs1[i] != rs2[i]"] [stack="github.com/pingcap/tidb/pkg/util.Recover\n\t/Users/bba/pc/tidb/pkg/util/misc.go:118\nruntime.gopanic\n\t/Users/bba/.gvm/gos/go1.21.0/src/runtime/panic.go:914\ngithub.com/pingcap/tidb/pkg/infoschema.(*BuilderV3).ApplyDiff\n\t/Users/bba/pc/tidb/pkg/infoschema/infov3_builder.go:99\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).tryLoadSchemaDiffs\n\t/Users/bba/pc/tidb/pkg/domain/domain.go:479\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).loadInfoSchema\n\t/Users/bba/pc/tidb/pkg/domain/domain.go:284\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).Reload\n\t/Users/bba/pc/tidb/pkg/domain/domain.go:614\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).loadSchemaInLoop\n\t/Users/bba/pc/tidb/pkg/domain/domain.go:927\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).Init.func2\n\t/Users/bba/pc/tidb/pkg/domain/domain.go:1295\ngithub.com/pingcap/tidb/pkg/util.(*WaitGroupEnhancedWrapper).Run.func1\n\t/Users/bba/pc/tidb/pkg/util/wait_group_wrapper.go:99"] [stack="github.com/pingcap/tidb/pkg/util.Recover\n\t/Users/bba/pc/tidb/pkg/util/misc.go:114\nruntime.gopanic\n\t/Users/bba/.gvm/gos/go1.21.0/src/runtime/panic.go:914\ngithub.com/pingcap/tidb/pkg/infoschema.(*BuilderV3).ApplyDiff\n\t/Users/bba/pc/tidb/pkg/infoschema/infov3_builder.go:99\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).tryLoadSchemaDiffs\n\t/Users/bba/pc/tidb/pkg/domain/domain.go:479\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).loadInfoSchema\n\t/Users/bba/pc/tidb/pkg/domain/domain.go:284\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).Reload\n\t/Users/bba/pc/tidb/pkg/domain/domain.go:614\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).loadSchemaInLoop\n\t/Users/bba/pc/tidb/pkg/domain/domain.go:927\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).Init.func2\n\t/Users/bba/pc/tidb/pkg/domain/domain.go:1295\ngithub.com/pingcap/tidb/pkg/util.(*WaitGroupEnhancedWrapper).Run.func1\n\t/Users/bba/pc/tidb/pkg/util/wait_group_wrapper.go:99"]
[2024/05/15 17:09:27.506 +08:00] [INFO] [runaway.go:158] ["preparations for the runaway manager are finished and start runaway manager loop"]
[2024/05/15 17:09:27.506 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=runawayRecordFlushLoop]
[2024/05/15 17:09:27.506 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=runawayWatchSyncLoop]
[2024/05/15 17:09:27.506 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=runawayStartLoop]
[2024/05/15 17:09:27.552 +08:00] [INFO] [runtime.go:160] ["TimerGroupRuntime loop started"] [groupID=ttl]
[2024/05/15 17:09:27.552 +08:00] [INFO] [runtime.go:402] ["create watch chan if possible for timer runtime"] [groupID=ttl] [storeSupportWatch=true]
[2024/05/15 17:09:27.570 +08:00] [INFO] [slots.go:205] ["initialize slot capacity"] [capacity=1]
[2024/05/15 17:09:27.584 +08:00] [INFO] [scheduler_manager.go:200] ["schedule task loop start"] [server-id=:4000]
[2024/05/15 17:09:27.584 +08:00] [INFO] [scheduler_manager.go:312] ["subtask table gc loop start"] [server-id=:4000]
[2024/05/15 17:09:27.584 +08:00] [INFO] [scheduler_manager.go:373] ["cleanup loop start"] [server-id=:4000]
[2024/05/15 17:09:27.584 +08:00] [INFO] [scheduler_manager.go:453] ["collect loop start"] [server-id=:4000]
[2024/05/15 17:09:28.504 +08:00] [INFO] [info.go:1142] [SetTiFlashGroupConfig]
[FAIL]  pkg/executor/test/tiflashtest TestDisaggregatedTiFlashGeneratedColumn
err=exit status 2
[2024/05/15 17:10:13.128 +08:00] [INFO] [store_cache.go:510] ["change store resolve state"] [store=1] [addr=store1] [from=unresolved] [to=resolved] [liveness-state=reachable]
[2024/05/15 17:10:13.129 +08:00] [INFO] [store_cache.go:510] ["change store resolve state"] [store=4] [addr=tiflash0] [from=unresolved] [to=resolved] [liveness-state=reachable]
[2024/05/15 17:10:13.129 +08:00] [INFO] [store_cache.go:510] ["change store resolve state"] [store=6] [addr=tiflash1] [from=unresolved] [to=resolved] [liveness-state=reachable]
[2024/05/15 17:10:13.134 +08:00] [INFO] [ddl_api.go:1139] ["Automatically convert BLOB(65535) to MEDIUMBLOB"] [category=ddl]
[2024/05/15 17:10:13.135 +08:00] [INFO] [ddl_api.go:1139] ["Automatically convert BLOB(65535) to MEDIUMBLOB"] [category=ddl]
[2024/05/15 17:10:13.136 +08:00] [INFO] [ddl_api.go:1139] ["Automatically convert BLOB(65535) to MEDIUMBLOB"] [category=ddl]
[2024/05/15 17:10:13.136 +08:00] [INFO] [ddl_api.go:1139] ["Automatically convert BLOB(65535) to MEDIUMBLOB"] [category=ddl]
[2024/05/15 17:10:13.139 +08:00] [INFO] [ddl_api.go:1139] ["Automatically convert BLOB(65535) to MEDIUMBLOB"] [category=ddl]
[2024/05/15 17:10:13.141 +08:00] [INFO] [tidb.go:80] ["new domain"] [store=070b74cc-0179-40a6-bff4-d2ccc5557208] ["ddl lease"=500ms] ["stats lease"=-1ns]
[2024/05/15 17:10:13.148 +08:00] [WARN] [controller.go:198] ["[resource group controller] server does not save config, load config failed"]
[2024/05/15 17:10:13.148 +08:00] [INFO] [controller.go:185] ["load resource controller config"] [config="{\"degraded-mode-wait-duration\":\"0s\",\"ltb-max-wait-duration\":\"30s\",\"wait-retry-interval\":\"50ms\",\"wait-retry-times\":10,\"request-unit\":{\"read-base-cost\":0.125,\"read-per-batch-base-cost\":0.5,\"read-cost-per-byte\":0.0000152587890625,\"write-base-cost\":1,\"write-per-batch-base-cost\":1,\"write-cost-per-byte\":0.0009765625,\"read-cpu-ms-cost\":0.3333333333333333},\"enable-controller-trace-log\":\"false\"}"] [ru-config="{\"ReadBaseCost\":0.125,\"ReadPerBatchBaseCost\":0.5,\"ReadBytesCost\":0.0000152587890625,\"WriteBaseCost\":1,\"WritePerBatchBaseCost\":1,\"WriteBytesCost\":0.0009765625,\"CPUMsCost\":0.3333333333333333,\"LTBMaxWaitDuration\":30000000000,\"WaitRetryInterval\":50000000,\"WaitRetryTimes\":10,\"DegradedModeWaitDuration\":0}"]
[2024/05/15 17:10:13.148 +08:00] [WARN] [domain.go:244] ["failed to get schema version"] [error="There is no Write MVCC info for the schema version"] [errorVerbose="There is no Write MVCC info for the schema version\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).getTimestampForSchemaVersionWithNonEmptyDiff\n\t/Users/bba/pc/tidb/pkg/domain/domain.go:343\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).loadInfoSchema\n\t/Users/bba/pc/tidb/pkg/domain/domain.go:242\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).Reload\n\t/Users/bba/pc/tidb/pkg/domain/domain.go:614\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).Init\n\t/Users/bba/pc/tidb/pkg/domain/domain.go:1268\ngithub.com/pingcap/tidb/pkg/session.(*domainMap).Get.func1\n\t/Users/bba/pc/tidb/pkg/session/tidb.go:92\ngithub.com/pingcap/tidb/pkg/util.RunWithRetry\n\t/Users/bba/pc/tidb/pkg/util/misc.go:70\ngithub.com/pingcap/tidb/pkg/session.(*domainMap).Get\n\t/Users/bba/pc/tidb/pkg/session/tidb.go:79\ngithub.com/pingcap/tidb/pkg/session.createSessionWithOpt\n\t/Users/bba/pc/tidb/pkg/session/session.go:3633\ngithub.com/pingcap/tidb/pkg/session.createSession\n\t/Users/bba/pc/tidb/pkg/session/session.go:3625\ngithub.com/pingcap/tidb/pkg/session.runInBootstrapSession\n\t/Users/bba/pc/tidb/pkg/session/session.go:3575\ngithub.com/pingcap/tidb/pkg/session.bootstrapSessionImpl\n\t/Users/bba/pc/tidb/pkg/session/session.go:3351\ngithub.com/pingcap/tidb/pkg/session.BootstrapSession\n\t/Users/bba/pc/tidb/pkg/session/session.go:3317\ngithub.com/pingcap/tidb/pkg/testkit.bootstrap\n\t/Users/bba/pc/tidb/pkg/testkit/mockstore.go:294\ngithub.com/pingcap/tidb/pkg/testkit.CreateMockStoreAndDomain\n\t/Users/bba/pc/tidb/pkg/testkit/mockstore.go:265\ngithub.com/pingcap/tidb/pkg/testkit.CreateMockStore\n\t/Users/bba/pc/tidb/pkg/testkit/mockstore.go:72\ngithub.com/pingcap/tidb/pkg/executor/test/tiflashtest.TestDisaggregatedTiFlashGeneratedColumn\n\t/Users/bba/pc/tidb/pkg/executor/test/tiflashtest/tiflash_test.go:1561\ntesting.tRunner\n\t/Users/bba/.gvm/gos/go1.21.0/src/testing/testing.go:1595\nruntime.goexit\n\t/Users/bba/.gvm/gos/go1.21.0/src/runtime/asm_arm64.s:1197"] [version=0]
[2024/05/15 17:10:13.156 +08:00] [INFO] [domain.go:323] ["full load InfoSchema success"] [currentSchemaVersion=0] [neededSchemaVersion=0] ["start time"=7.965833ms]
[2024/05/15 17:10:13.157 +08:00] [INFO] [domain.go:643] ["full load and reset schema validator"]
[2024/05/15 17:10:13.157 +08:00] [INFO] [ddl.go:818] ["start DDL"] [category=ddl] [ID=95de9e83-8845-43e1-8196-47fc8a81ec3d] [runWorker=true]
[2024/05/15 17:10:13.157 +08:00] [INFO] [ddl.go:777] ["start delRangeManager OK"] [category=ddl] ["is a emulator"=true]
[2024/05/15 17:10:13.157 +08:00] [WARN] [env.go:51] ["initialize environment failed"] [category=ddl-ingest] ["storage limitation"="only support TiKV storage"] ["current storage"=unistore] ["lightning is initialized"=false]
[2024/05/15 17:10:13.157 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=loadSchemaInLoop]
[2024/05/15 17:10:13.157 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=mdlCheckLoop]
[2024/05/15 17:10:13.157 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=topNSlowQueryLoop]
[2024/05/15 17:10:13.157 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=infoSyncerKeeper]
[2024/05/15 17:10:13.157 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=globalConfigSyncerKeeper]
[2024/05/15 17:10:13.157 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=runawayStartLoop]
[2024/05/15 17:10:13.157 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=requestUnitsWriterLoop]
[2024/05/15 17:10:13.157 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=topologySyncerKeeper]
[2024/05/15 17:10:13.157 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=closestReplicaReadCheckLoop]
[2024/05/15 17:10:13.157 +08:00] [WARN] [domain.go:1334] ["pd / etcd client not provided, won't begin Advancer."]
[2024/05/15 17:10:13.160 +08:00] [INFO] [delete_range.go:172] ["start delRange emulator"] [category=ddl]
[2024/05/15 17:10:13.160 +08:00] [INFO] [job_table.go:334] ["get global state and global state change"] [category=ddl] [oldState=false] [currState=false]
[2024/05/15 17:10:13.160 +08:00] [INFO] [runaway.go:149] ["try to start runaway manager loop"]
[2024/05/15 17:10:13.160 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=requestUnitsWriterLoop]
[2024/05/15 17:10:13.210 +08:00] [INFO] [job_table.go:334] ["get global state and global state change"] [category=ddl] [oldState=false] [currState=false]
[2024/05/15 17:10:13.210 +08:00] [INFO] [job_table.go:349] ["the owner sets owner operator value"] [category=ddl] [ownerOp=none]
[2024/05/15 17:10:13.381 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=0] [cur_db=mysql] [sql="CREATE DATABASE IF NOT EXISTS test"] [user=]
[2024/05/15 17:10:13.456 +08:00] [WARN] [domain.go:244] ["failed to get schema version"] [error="There is no Write MVCC info for the schema version"] [errorVerbose="There is no Write MVCC info for the schema version\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).getTimestampForSchemaVersionWithNonEmptyDiff\n\t/Users/bba/pc/tidb/pkg/domain/domain.go:343\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).loadInfoSchema\n\t/Users/bba/pc/tidb/pkg/domain/domain.go:242\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).Reload\n\t/Users/bba/pc/tidb/pkg/domain/domain.go:614\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).loadSchemaInLoop\n\t/Users/bba/pc/tidb/pkg/domain/domain.go:922\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).Init.func2\n\t/Users/bba/pc/tidb/pkg/domain/domain.go:1295\ngithub.com/pingcap/tidb/pkg/util.(*WaitGroupEnhancedWrapper).Run.func1\n\t/Users/bba/pc/tidb/pkg/util/wait_group_wrapper.go:99\nruntime.goexit\n\t/Users/bba/.gvm/gos/go1.21.0/src/runtime/asm_arm64.s:1197"] [version=0]
[2024/05/15 17:10:13.473 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:3, Type:create schema, State:queueing, SchemaState:none, SchemaID:2, TableID:0, RowCount:0, ArgLen:1, start time: 2024-05-15 17:10:13.391 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:10:13.473 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:3, Type:create schema, State:queueing, SchemaState:none, SchemaID:2, TableID:0, RowCount:0, ArgLen:1, start time: 2024-05-15 17:10:13.391 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE DATABASE IF NOT EXISTS test"]
[2024/05/15 17:10:13.486 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=3] [category=ddl] [job="ID:3, Type:create schema, State:queueing, SchemaState:none, SchemaID:2, TableID:0, RowCount:0, ArgLen:0, start time: 2024-05-15 17:10:13.391 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:10:13.499 +08:00] [INFO] [domain.go:323] ["full load InfoSchema success"] [currentSchemaVersion=0] [neededSchemaVersion=1] ["start time"=9.81525ms]
[2024/05/15 17:10:13.501 +08:00] [INFO] [domain.go:643] ["full load and reset schema validator"]
[2024/05/15 17:10:13.502 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:10:13.502 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=3] [version=1]
[2024/05/15 17:10:13.504 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=1] ["take time"=14.768667ms] [job="ID:3, Type:create schema, State:done, SchemaState:public, SchemaID:2, TableID:0, RowCount:0, ArgLen:1, start time: 2024-05-15 17:10:13.391 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:10:13.508 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=3] [job="ID:3, Type:create schema, State:synced, SchemaState:public, SchemaID:2, TableID:0, RowCount:0, ArgLen:0, start time: 2024-05-15 17:10:13.391 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:10:13.512 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=3]
[2024/05/15 17:10:13.512 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:10:13.512 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=1] [cur_db=mysql] [sql="CREATE DATABASE IF NOT EXISTS `mysql`"] [user=]
[2024/05/15 17:10:13.512 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=1] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.user (\n\t\tHost\t\t\t\t\tCHAR(255),\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tauthentication_string\tTEXT,\n\t\tplugin\t\t\t\t\tCHAR(64),\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tProcess_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_db_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tSuper_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_user_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_slave_priv\t    \tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_client_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_role_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_role_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAccount_locked\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShutdown_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReload_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tFILE_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tConfig_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_Tablespace_Priv  ENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPassword_reuse_history  smallint unsigned DEFAULT NULL,\n\t\tPassword_reuse_time     smallint unsigned DEFAULT NULL,\n\t\tUser_attributes\t\t\tjson,\n\t\tToken_issuer\t\t\tVARCHAR(255),\n\t\tPassword_expired\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPassword_last_changed\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP(),\n\t\tPassword_lifetime\t\tSMALLINT UNSIGNED DEFAULT NULL,\n\t\tPRIMARY KEY (Host, User));"] [user=]
[2024/05/15 17:10:13.517 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:5, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:4, RowCount:0, ArgLen:2, start time: 2024-05-15 17:10:13.514 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:10:13.517 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:5, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:4, RowCount:0, ArgLen:2, start time: 2024-05-15 17:10:13.514 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.user (\n\t\tHost\t\t\t\t\tCHAR(255),\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tauthentication_string\tTEXT,\n\t\tplugin\t\t\t\t\tCHAR(64),\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tProcess_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_db_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tSuper_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_user_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_slave_priv\t    \tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_client_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_role_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_role_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAccount_locked\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShutdown_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReload_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tFILE_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tConfig_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_Tablespace_Priv  ENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPassword_reuse_history  smallint unsigned DEFAULT NULL,\n\t\tPassword_reuse_time     smallint unsigned DEFAULT NULL,\n\t\tUser_attributes\t\t\tjson,\n\t\tToken_issuer\t\t\tVARCHAR(255),\n\t\tPassword_expired\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPassword_last_changed\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP(),\n\t\tPassword_lifetime\t\tSMALLINT UNSIGNED DEFAULT NULL,\n\t\tPRIMARY KEY (Host, User));"]
[2024/05/15 17:10:13.523 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=5] [category=ddl] [job="ID:5, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:4, RowCount:0, ArgLen:0, start time: 2024-05-15 17:10:13.514 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:10:13.539 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=1] [neededSchemaVersion=2] ["start time"=4.367625ms] [gotSchemaVersion=2] [phyTblIDs="[4]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:10:13.546 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:10:13.546 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=5] [version=2]
[2024/05/15 17:10:13.576 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=2] ["take time"=41.672708ms] [job="ID:5, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:4, RowCount:0, ArgLen:2, start time: 2024-05-15 17:10:13.514 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:10:13.584 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=5] [job="ID:5, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:4, RowCount:0, ArgLen:0, start time: 2024-05-15 17:10:13.514 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:10:13.591 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=5]
[2024/05/15 17:10:13.591 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:10:13.592 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=2] [cur_db=mysql] [sql="CREATE TABLE  IF NOT EXISTS mysql.password_history (\n         Host char(255)  NOT NULL DEFAULT '',\n         User char(32)  NOT NULL DEFAULT '',\n         Password_timestamp timestamp(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6),\n         Password text,\n         PRIMARY KEY (Host,User,Password_timestamp )\n        ) COMMENT='Password history for user accounts' "] [user=]
[2024/05/15 17:10:13.594 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:7, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:6, RowCount:0, ArgLen:2, start time: 2024-05-15 17:10:13.593 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:10:13.594 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:7, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:6, RowCount:0, ArgLen:2, start time: 2024-05-15 17:10:13.593 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE  IF NOT EXISTS mysql.password_history (\n         Host char(255)  NOT NULL DEFAULT '',\n         User char(32)  NOT NULL DEFAULT '',\n         Password_timestamp timestamp(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6),\n         Password text,\n         PRIMARY KEY (Host,User,Password_timestamp )\n        ) COMMENT='Password history for user accounts' "]
[2024/05/15 17:10:13.603 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=7] [category=ddl] [job="ID:7, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:6, RowCount:0, ArgLen:0, start time: 2024-05-15 17:10:13.593 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:10:13.610 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=2] [neededSchemaVersion=3] ["start time"=258.75s] [gotSchemaVersion=3] [phyTblIDs="[6]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:10:13.611 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:10:13.611 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=7] [version=3]
[2024/05/15 17:10:13.612 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=3] ["take time"=2.468458ms] [job="ID:7, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:6, RowCount:0, ArgLen:2, start time: 2024-05-15 17:10:13.593 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:10:13.619 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=7] [job="ID:7, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:6, RowCount:0, ArgLen:0, start time: 2024-05-15 17:10:13.593 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:10:13.625 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=7]
[2024/05/15 17:10:13.625 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:10:13.625 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=3] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.global_priv (Host CHAR(255) NOT NULL DEFAULT '',User CHAR(80) NOT NULL DEFAULT '',Priv LONGTEXT NOT NULL DEFAULT '',PRIMARY KEY (Host, User))"] [user=]
[2024/05/15 17:10:13.631 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:9, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:8, RowCount:0, ArgLen:2, start time: 2024-05-15 17:10:13.627 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:10:13.632 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:9, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:8, RowCount:0, ArgLen:2, start time: 2024-05-15 17:10:13.627 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.global_priv (Host CHAR(255) NOT NULL DEFAULT '',User CHAR(80) NOT NULL DEFAULT '',Priv LONGTEXT NOT NULL DEFAULT '',PRIMARY KEY (Host, User))"]
[2024/05/15 17:10:13.638 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=9] [category=ddl] [job="ID:9, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:8, RowCount:0, ArgLen:0, start time: 2024-05-15 17:10:13.627 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:10:13.644 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=3] [neededSchemaVersion=4] ["start time"=204.417s] [gotSchemaVersion=4] [phyTblIDs="[8]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:10:13.645 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:10:13.645 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=9] [version=4]
[2024/05/15 17:10:13.646 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=4] ["take time"=2.675292ms] [job="ID:9, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:8, RowCount:0, ArgLen:2, start time: 2024-05-15 17:10:13.627 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:10:13.654 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=9] [job="ID:9, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:8, RowCount:0, ArgLen:0, start time: 2024-05-15 17:10:13.627 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:10:13.657 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=9]
[2024/05/15 17:10:13.657 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:10:13.659 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=4] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.db (\n\t\tHost\t\t\t\t\tCHAR(255),\n\t\tDB\t\t\t\t\t\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv \t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (Host, DB, User));"] [user=]
[2024/05/15 17:10:13.667 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:11, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:10, RowCount:0, ArgLen:2, start time: 2024-05-15 17:10:13.663 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:10:13.668 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:11, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:10, RowCount:0, ArgLen:2, start time: 2024-05-15 17:10:13.663 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.db (\n\t\tHost\t\t\t\t\tCHAR(255),\n\t\tDB\t\t\t\t\t\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv \t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (Host, DB, User));"]
[2024/05/15 17:10:13.672 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=11] [category=ddl] [job="ID:11, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:10, RowCount:0, ArgLen:0, start time: 2024-05-15 17:10:13.663 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:10:13.675 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=4] [neededSchemaVersion=5] ["start time"=517.792s] [gotSchemaVersion=5] [phyTblIDs="[10]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:10:13.677 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:10:13.677 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=11] [version=5]
[2024/05/15 17:10:13.677 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=5] ["take time"=2.020041ms] [job="ID:11, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:10, RowCount:0, ArgLen:2, start time: 2024-05-15 17:10:13.663 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:10:13.683 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=11] [job="ID:11, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:10, RowCount:0, ArgLen:0, start time: 2024-05-15 17:10:13.663 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:10:13.686 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=11]
[2024/05/15 17:10:13.686 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:10:13.686 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=5] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tables_priv (\n\t\tHost\t\tCHAR(255),\n\t\tDB\t\t\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tGrantor\t\tCHAR(77),\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tTable_priv\tSET('Select','Insert','Update','Delete','Create','Drop','Grant','Index','Alter','Create View','Show View','Trigger','References'),\n\t\tColumn_priv\tSET('Select','Insert','Update','References'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name));"] [user=]
[2024/05/15 17:10:13.692 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:13, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:12, RowCount:0, ArgLen:2, start time: 2024-05-15 17:10:13.689 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:10:13.692 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:13, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:12, RowCount:0, ArgLen:2, start time: 2024-05-15 17:10:13.689 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tables_priv (\n\t\tHost\t\tCHAR(255),\n\t\tDB\t\t\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tGrantor\t\tCHAR(77),\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tTable_priv\tSET('Select','Insert','Update','Delete','Create','Drop','Grant','Index','Alter','Create View','Show View','Trigger','References'),\n\t\tColumn_priv\tSET('Select','Insert','Update','References'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name));"]
[2024/05/15 17:10:13.697 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=13] [category=ddl] [job="ID:13, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:12, RowCount:0, ArgLen:0, start time: 2024-05-15 17:10:13.689 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:10:13.700 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=5] [neededSchemaVersion=6] ["start time"=650.916s] [gotSchemaVersion=6] [phyTblIDs="[12]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:10:13.701 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:10:13.701 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=13] [version=6]
[2024/05/15 17:10:13.701 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=6] ["take time"=2.007542ms] [job="ID:13, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:12, RowCount:0, ArgLen:2, start time: 2024-05-15 17:10:13.689 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:10:13.706 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=13] [job="ID:13, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:12, RowCount:0, ArgLen:0, start time: 2024-05-15 17:10:13.689 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:10:13.708 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=13]
[2024/05/15 17:10:13.708 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:10:13.708 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=6] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.columns_priv(\n\t\tHost\t\tCHAR(255),\n\t\tDB\t\t\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tColumn_name\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tColumn_priv\tSET('Select','Insert','Update','References'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name, Column_name));"] [user=]
[2024/05/15 17:10:13.712 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:15, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:14, RowCount:0, ArgLen:2, start time: 2024-05-15 17:10:13.71 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:10:13.712 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:15, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:14, RowCount:0, ArgLen:2, start time: 2024-05-15 17:10:13.71 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.columns_priv(\n\t\tHost\t\tCHAR(255),\n\t\tDB\t\t\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tColumn_name\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tColumn_priv\tSET('Select','Insert','Update','References'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name, Column_name));"]
[2024/05/15 17:10:13.718 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=15] [category=ddl] [job="ID:15, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:14, RowCount:0, ArgLen:0, start time: 2024-05-15 17:10:13.71 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:10:13.723 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=6] [neededSchemaVersion=7] ["start time"=272.333s] [gotSchemaVersion=7] [phyTblIDs="[14]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:10:13.724 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:10:13.724 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=15] [version=7]
[2024/05/15 17:10:13.725 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=7] ["take time"=2.1585ms] [job="ID:15, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:14, RowCount:0, ArgLen:2, start time: 2024-05-15 17:10:13.71 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:10:13.729 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=15] [job="ID:15, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:14, RowCount:0, ArgLen:0, start time: 2024-05-15 17:10:13.71 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:10:13.732 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=15]
[2024/05/15 17:10:13.732 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:10:13.732 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=7] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.GLOBAL_VARIABLES(\n\t\tVARIABLE_NAME  VARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE VARCHAR(16383) DEFAULT NULL);"] [user=]
[2024/05/15 17:10:13.735 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:17, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:16, RowCount:0, ArgLen:2, start time: 2024-05-15 17:10:13.734 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:10:13.735 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:17, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:16, RowCount:0, ArgLen:2, start time: 2024-05-15 17:10:13.734 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.GLOBAL_VARIABLES(\n\t\tVARIABLE_NAME  VARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE VARCHAR(16383) DEFAULT NULL);"]
[2024/05/15 17:10:13.743 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=17] [category=ddl] [job="ID:17, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:16, RowCount:0, ArgLen:0, start time: 2024-05-15 17:10:13.734 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:10:13.746 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=7] [neededSchemaVersion=8] ["start time"=207.25s] [gotSchemaVersion=8] [phyTblIDs="[16]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:10:13.747 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:10:13.747 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=17] [version=8]
[2024/05/15 17:10:13.750 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=8] ["take time"=4.684375ms] [job="ID:17, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:16, RowCount:0, ArgLen:2, start time: 2024-05-15 17:10:13.734 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:10:13.758 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=17] [job="ID:17, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:16, RowCount:0, ArgLen:0, start time: 2024-05-15 17:10:13.734 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:10:13.761 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=17]
[2024/05/15 17:10:13.761 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:10:13.761 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=8] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb(\n\t\tVARIABLE_NAME  \tVARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE \tVARCHAR(1024) DEFAULT NULL,\n\t\tCOMMENT \t\tVARCHAR(1024));"] [user=]
[2024/05/15 17:10:13.763 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:19, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:18, RowCount:0, ArgLen:2, start time: 2024-05-15 17:10:13.762 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:10:13.763 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:19, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:18, RowCount:0, ArgLen:2, start time: 2024-05-15 17:10:13.762 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb(\n\t\tVARIABLE_NAME  \tVARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE \tVARCHAR(1024) DEFAULT NULL,\n\t\tCOMMENT \t\tVARCHAR(1024));"]
[2024/05/15 17:10:13.768 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=19] [category=ddl] [job="ID:19, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:18, RowCount:0, ArgLen:0, start time: 2024-05-15 17:10:13.762 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:10:13.772 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=8] [neededSchemaVersion=9] ["start time"=179.792s] [gotSchemaVersion=9] [phyTblIDs="[18]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:10:13.773 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:10:13.773 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=19] [version=9]
[2024/05/15 17:10:13.774 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=9] ["take time"=2.119916ms] [job="ID:19, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:18, RowCount:0, ArgLen:2, start time: 2024-05-15 17:10:13.762 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:10:13.779 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=19] [job="ID:19, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:18, RowCount:0, ArgLen:0, start time: 2024-05-15 17:10:13.762 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:10:13.782 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=19]
[2024/05/15 17:10:13.782 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:10:13.783 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=9] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.help_topic (\n  \t\thelp_topic_id \t\tINT(10) UNSIGNED NOT NULL,\n  \t\tname \t\t\t\tCHAR(64) NOT NULL,\n  \t\thelp_category_id \tSMALLINT(5) UNSIGNED NOT NULL,\n  \t\tdescription \t\tTEXT NOT NULL,\n  \t\texample \t\t\tTEXT NOT NULL,\n  \t\turl \t\t\t\tTEXT NOT NULL,\n  \t\tPRIMARY KEY (help_topic_id) clustered,\n  \t\tUNIQUE KEY name (name)\n\t\t) ENGINE=InnoDB DEFAULT CHARSET=utf8 STATS_PERSISTENT=0 COMMENT='help topics';"] [user=]
[2024/05/15 17:10:13.786 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:21, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:20, RowCount:0, ArgLen:2, start time: 2024-05-15 17:10:13.784 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:10:13.786 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:21, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:20, RowCount:0, ArgLen:2, start time: 2024-05-15 17:10:13.784 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.help_topic (\n  \t\thelp_topic_id \t\tINT(10) UNSIGNED NOT NULL,\n  \t\tname \t\t\t\tCHAR(64) NOT NULL,\n  \t\thelp_category_id \tSMALLINT(5) UNSIGNED NOT NULL,\n  \t\tdescription \t\tTEXT NOT NULL,\n  \t\texample \t\t\tTEXT NOT NULL,\n  \t\turl \t\t\t\tTEXT NOT NULL,\n  \t\tPRIMARY KEY (help_topic_id) clustered,\n  \t\tUNIQUE KEY name (name)\n\t\t) ENGINE=InnoDB DEFAULT CHARSET=utf8 STATS_PERSISTENT=0 COMMENT='help topics';"]
[2024/05/15 17:10:13.790 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=21] [category=ddl] [job="ID:21, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:20, RowCount:0, ArgLen:0, start time: 2024-05-15 17:10:13.784 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:10:13.794 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=9] [neededSchemaVersion=10] ["start time"=291.084s] [gotSchemaVersion=10] [phyTblIDs="[20]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:10:13.794 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:10:13.794 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=21] [version=10]
[2024/05/15 17:10:13.795 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=10] ["take time"=2.169167ms] [job="ID:21, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:20, RowCount:0, ArgLen:2, start time: 2024-05-15 17:10:13.784 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:10:13.801 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=21] [job="ID:21, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:20, RowCount:0, ArgLen:0, start time: 2024-05-15 17:10:13.784 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:10:13.803 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=21]
[2024/05/15 17:10:13.803 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:10:13.803 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=10] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_meta (\n\t\tversion \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\ttable_id \t\tBIGINT(64) NOT NULL,\n\t\tmodify_count\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcount \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tsnapshot        BIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tINDEX idx_ver(version),\n\t\tUNIQUE INDEX tbl(table_id)\n\t);"] [user=]
[2024/05/15 17:10:13.807 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:23, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:22, RowCount:0, ArgLen:2, start time: 2024-05-15 17:10:13.805 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:10:13.807 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:23, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:22, RowCount:0, ArgLen:2, start time: 2024-05-15 17:10:13.805 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_meta (\n\t\tversion \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\ttable_id \t\tBIGINT(64) NOT NULL,\n\t\tmodify_count\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcount \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tsnapshot        BIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tINDEX idx_ver(version),\n\t\tUNIQUE INDEX tbl(table_id)\n\t);"]
[2024/05/15 17:10:13.812 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=23] [category=ddl] [job="ID:23, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:22, RowCount:0, ArgLen:0, start time: 2024-05-15 17:10:13.805 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:10:13.815 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=10] [neededSchemaVersion=11] ["start time"=501.583s] [gotSchemaVersion=11] [phyTblIDs="[22]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:10:13.816 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:10:13.816 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=23] [version=11]
[2024/05/15 17:10:13.818 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=11] ["take time"=3.421917ms] [job="ID:23, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:22, RowCount:0, ArgLen:2, start time: 2024-05-15 17:10:13.805 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:10:13.823 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=23] [job="ID:23, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:22, RowCount:0, ArgLen:0, start time: 2024-05-15 17:10:13.805 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:10:13.825 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=23]
[2024/05/15 17:10:13.825 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:10:13.825 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=11] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_histograms (\n\t\ttable_id \t\t\tBIGINT(64) NOT NULL,\n\t\tis_index \t\t\tTINYINT(2) NOT NULL,\n\t\thist_id \t\t\tBIGINT(64) NOT NULL,\n\t\tdistinct_count \t\tBIGINT(64) NOT NULL,\n\t\tnull_count \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\ttot_col_size \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tmodify_count \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tversion \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tcm_sketch \t\t\tBLOB(6291456),\n\t\tstats_ver \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tflag \t\t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcorrelation \t\tDOUBLE NOT NULL DEFAULT 0,\n\t\tlast_analyze_pos \tLONGBLOB DEFAULT NULL,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id)\n\t);"] [user=]
[2024/05/15 17:10:13.825 +08:00] [INFO] [ddl_api.go:1139] ["Automatically convert BLOB(6291456) to MEDIUMBLOB"] [category=ddl]
[2024/05/15 17:10:13.828 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:25, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:24, RowCount:0, ArgLen:2, start time: 2024-05-15 17:10:13.826 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:10:13.829 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:25, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:24, RowCount:0, ArgLen:2, start time: 2024-05-15 17:10:13.826 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_histograms (\n\t\ttable_id \t\t\tBIGINT(64) NOT NULL,\n\t\tis_index \t\t\tTINYINT(2) NOT NULL,\n\t\thist_id \t\t\tBIGINT(64) NOT NULL,\n\t\tdistinct_count \t\tBIGINT(64) NOT NULL,\n\t\tnull_count \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\ttot_col_size \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tmodify_count \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tversion \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tcm_sketch \t\t\tBLOB(6291456),\n\t\tstats_ver \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tflag \t\t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcorrelation \t\tDOUBLE NOT NULL DEFAULT 0,\n\t\tlast_analyze_pos \tLONGBLOB DEFAULT NULL,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id)\n\t);"]
[2024/05/15 17:10:13.833 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=25] [category=ddl] [job="ID:25, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:24, RowCount:0, ArgLen:0, start time: 2024-05-15 17:10:13.826 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:10:13.837 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=11] [neededSchemaVersion=12] ["start time"=367.042s] [gotSchemaVersion=12] [phyTblIDs="[24]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:10:13.838 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:10:13.838 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=25] [version=12]
[2024/05/15 17:10:13.839 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=12] ["take time"=2.406333ms] [job="ID:25, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:24, RowCount:0, ArgLen:2, start time: 2024-05-15 17:10:13.826 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:10:13.847 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=25] [job="ID:25, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:24, RowCount:0, ArgLen:0, start time: 2024-05-15 17:10:13.826 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:10:13.853 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=25]
[2024/05/15 17:10:13.853 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:10:13.853 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=12] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_buckets (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tbucket_id \tBIGINT(64) NOT NULL,\n\t\tcount \t\tBIGINT(64) NOT NULL,\n\t\trepeats \tBIGINT(64) NOT NULL,\n\t\tupper_bound LONGBLOB NOT NULL,\n\t\tlower_bound LONGBLOB ,\n\t\tndv         BIGINT NOT NULL DEFAULT 0,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id, bucket_id)\n\t);"] [user=]
[2024/05/15 17:10:13.860 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:27, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:26, RowCount:0, ArgLen:2, start time: 2024-05-15 17:10:13.854 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:10:13.861 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:27, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:26, RowCount:0, ArgLen:2, start time: 2024-05-15 17:10:13.854 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_buckets (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tbucket_id \tBIGINT(64) NOT NULL,\n\t\tcount \t\tBIGINT(64) NOT NULL,\n\t\trepeats \tBIGINT(64) NOT NULL,\n\t\tupper_bound LONGBLOB NOT NULL,\n\t\tlower_bound LONGBLOB ,\n\t\tndv         BIGINT NOT NULL DEFAULT 0,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id, bucket_id)\n\t);"]
[2024/05/15 17:10:13.884 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=27] [category=ddl] [job="ID:27, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:26, RowCount:0, ArgLen:0, start time: 2024-05-15 17:10:13.854 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:10:13.888 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=12] [neededSchemaVersion=13] ["start time"=303s] [gotSchemaVersion=13] [phyTblIDs="[26]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:10:13.889 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:10:13.890 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=27] [version=13]
[2024/05/15 17:10:13.890 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=13] ["take time"=2.220125ms] [job="ID:27, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:26, RowCount:0, ArgLen:2, start time: 2024-05-15 17:10:13.854 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:10:13.896 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=27] [job="ID:27, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:26, RowCount:0, ArgLen:0, start time: 2024-05-15 17:10:13.854 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:10:13.898 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=27]
[2024/05/15 17:10:13.898 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:10:13.898 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=13] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_index (job_id, element_id)\n\t);"] [user=]
[2024/05/15 17:10:13.901 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:29, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:28, RowCount:0, ArgLen:2, start time: 2024-05-15 17:10:13.9 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:10:13.901 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:29, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:28, RowCount:0, ArgLen:2, start time: 2024-05-15 17:10:13.9 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_index (job_id, element_id)\n\t);"]
[2024/05/15 17:10:13.906 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=29] [category=ddl] [job="ID:29, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:28, RowCount:0, ArgLen:0, start time: 2024-05-15 17:10:13.9 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:10:13.909 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=13] [neededSchemaVersion=14] ["start time"=550.792s] [gotSchemaVersion=14] [phyTblIDs="[28]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:10:13.910 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:10:13.910 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=29] [version=14]
[2024/05/15 17:10:13.910 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=14] ["take time"=2.157917ms] [job="ID:29, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:28, RowCount:0, ArgLen:2, start time: 2024-05-15 17:10:13.9 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:10:13.934 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=29] [job="ID:29, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:28, RowCount:0, ArgLen:0, start time: 2024-05-15 17:10:13.9 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:10:13.951 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=29]
[2024/05/15 17:10:13.952 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:10:13.954 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=14] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range_done (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_done_index (job_id, element_id)\n\t);"] [user=]
[2024/05/15 17:10:13.958 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:31, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:30, RowCount:0, ArgLen:2, start time: 2024-05-15 17:10:13.956 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:10:13.958 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:31, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:30, RowCount:0, ArgLen:2, start time: 2024-05-15 17:10:13.956 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range_done (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_done_index (job_id, element_id)\n\t);"]
[2024/05/15 17:10:13.964 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=31] [category=ddl] [job="ID:31, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:30, RowCount:0, ArgLen:0, start time: 2024-05-15 17:10:13.956 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:10:13.966 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=14] [neededSchemaVersion=15] ["start time"=235.584s] [gotSchemaVersion=15] [phyTblIDs="[30]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:10:13.966 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:10:13.966 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=31] [version=15]
[2024/05/15 17:10:13.968 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=15] ["take time"=2.287625ms] [job="ID:31, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:30, RowCount:0, ArgLen:2, start time: 2024-05-15 17:10:13.956 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:10:13.974 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=31] [job="ID:31, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:30, RowCount:0, ArgLen:0, start time: 2024-05-15 17:10:13.956 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:10:13.976 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=31]
[2024/05/15 17:10:13.976 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:10:13.977 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=15] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_feedback (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tfeedback \tBLOB NOT NULL,\n\t\tINDEX hist(table_id, is_index, hist_id)\n\t);"] [user=]
[2024/05/15 17:10:13.980 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:33, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:32, RowCount:0, ArgLen:2, start time: 2024-05-15 17:10:13.979 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:10:13.980 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:33, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:32, RowCount:0, ArgLen:2, start time: 2024-05-15 17:10:13.979 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_feedback (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tfeedback \tBLOB NOT NULL,\n\t\tINDEX hist(table_id, is_index, hist_id)\n\t);"]
[2024/05/15 17:10:13.984 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=33] [category=ddl] [job="ID:33, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:32, RowCount:0, ArgLen:0, start time: 2024-05-15 17:10:13.979 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:10:13.986 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=15] [neededSchemaVersion=16] ["start time"=256.792s] [gotSchemaVersion=16] [phyTblIDs="[32]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:10:13.987 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:10:13.987 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=33] [version=16]
[2024/05/15 17:10:13.988 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=16] ["take time"=2.401292ms] [job="ID:33, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:32, RowCount:0, ArgLen:2, start time: 2024-05-15 17:10:13.979 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:10:13.995 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=33] [job="ID:33, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:32, RowCount:0, ArgLen:0, start time: 2024-05-15 17:10:13.979 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:10:13.996 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=33]
[2024/05/15 17:10:13.996 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:10:13.997 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=16] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.role_edges (\n\t\tFROM_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tFROM_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tWITH_ADMIN_OPTION \tENUM('N','Y') CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (FROM_HOST,FROM_USER,TO_HOST,TO_USER)\n\t);"] [user=]
[2024/05/15 17:10:13.999 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:35, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:34, RowCount:0, ArgLen:2, start time: 2024-05-15 17:10:13.998 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:10:13.999 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:35, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:34, RowCount:0, ArgLen:2, start time: 2024-05-15 17:10:13.998 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.role_edges (\n\t\tFROM_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tFROM_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tWITH_ADMIN_OPTION \tENUM('N','Y') CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (FROM_HOST,FROM_USER,TO_HOST,TO_USER)\n\t);"]
[2024/05/15 17:10:14.007 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=35] [category=ddl] [job="ID:35, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:34, RowCount:0, ArgLen:0, start time: 2024-05-15 17:10:13.998 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:10:14.009 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=16] [neededSchemaVersion=17] ["start time"=206.875s] [gotSchemaVersion=17] [phyTblIDs="[34]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:10:14.009 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:10:14.010 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=35] [version=17]
[2024/05/15 17:10:14.011 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=17] ["take time"=2.010875ms] [job="ID:35, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:34, RowCount:0, ArgLen:2, start time: 2024-05-15 17:10:13.998 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:10:14.017 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=35] [job="ID:35, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:34, RowCount:0, ArgLen:0, start time: 2024-05-15 17:10:13.998 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:10:14.019 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=35]
[2024/05/15 17:10:14.019 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:10:14.019 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=17] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.default_roles (\n\t\tHOST \t\t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tUSER \t\t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tDEFAULT_ROLE_HOST \tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '%',\n\t\tDEFAULT_ROLE_USER \tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tPRIMARY KEY (HOST,USER,DEFAULT_ROLE_HOST,DEFAULT_ROLE_USER)\n\t)"] [user=]
[2024/05/15 17:10:14.021 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:37, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:36, RowCount:0, ArgLen:2, start time: 2024-05-15 17:10:14.02 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:10:14.021 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:37, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:36, RowCount:0, ArgLen:2, start time: 2024-05-15 17:10:14.02 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.default_roles (\n\t\tHOST \t\t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tUSER \t\t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tDEFAULT_ROLE_HOST \tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '%',\n\t\tDEFAULT_ROLE_USER \tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tPRIMARY KEY (HOST,USER,DEFAULT_ROLE_HOST,DEFAULT_ROLE_USER)\n\t)"]
[2024/05/15 17:10:14.026 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=37] [category=ddl] [job="ID:37, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:36, RowCount:0, ArgLen:0, start time: 2024-05-15 17:10:14.02 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:10:14.031 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=17] [neededSchemaVersion=18] ["start time"=216.041s] [gotSchemaVersion=18] [phyTblIDs="[36]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:10:14.032 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:10:14.032 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=37] [version=18]
[2024/05/15 17:10:14.033 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=18] ["take time"=2.816708ms] [job="ID:37, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:36, RowCount:0, ArgLen:2, start time: 2024-05-15 17:10:14.02 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:10:14.038 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=37] [job="ID:37, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:36, RowCount:0, ArgLen:0, start time: 2024-05-15 17:10:14.02 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:10:14.039 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=37]
[2024/05/15 17:10:14.039 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:10:14.039 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=18] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.bind_info (\n\t\toriginal_sql TEXT NOT NULL,\n\t\tbind_sql TEXT NOT NULL,\n\t\tdefault_db TEXT NOT NULL,\n\t\tstatus TEXT NOT NULL,\n\t\tcreate_time TIMESTAMP(3) NOT NULL,\n\t\tupdate_time TIMESTAMP(3) NOT NULL,\n\t\tcharset TEXT NOT NULL,\n\t\tcollation TEXT NOT NULL,\n\t\tsource VARCHAR(10) NOT NULL DEFAULT 'unknown',\n\t\tsql_digest varchar(64),\n\t\tplan_digest varchar(64),\n\t\tINDEX sql_index(original_sql(700),default_db(68)) COMMENT \"accelerate the speed when add global binding query\",\n\t\tINDEX time_index(update_time) COMMENT \"accelerate the speed when querying with last update time\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"] [user=]
[2024/05/15 17:10:14.041 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:39, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:38, RowCount:0, ArgLen:2, start time: 2024-05-15 17:10:14.04 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:10:14.041 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:39, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:38, RowCount:0, ArgLen:2, start time: 2024-05-15 17:10:14.04 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.bind_info (\n\t\toriginal_sql TEXT NOT NULL,\n\t\tbind_sql TEXT NOT NULL,\n\t\tdefault_db TEXT NOT NULL,\n\t\tstatus TEXT NOT NULL,\n\t\tcreate_time TIMESTAMP(3) NOT NULL,\n\t\tupdate_time TIMESTAMP(3) NOT NULL,\n\t\tcharset TEXT NOT NULL,\n\t\tcollation TEXT NOT NULL,\n\t\tsource VARCHAR(10) NOT NULL DEFAULT 'unknown',\n\t\tsql_digest varchar(64),\n\t\tplan_digest varchar(64),\n\t\tINDEX sql_index(original_sql(700),default_db(68)) COMMENT \"accelerate the speed when add global binding query\",\n\t\tINDEX time_index(update_time) COMMENT \"accelerate the speed when querying with last update time\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"]
[2024/05/15 17:10:14.045 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=39] [category=ddl] [job="ID:39, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:38, RowCount:0, ArgLen:0, start time: 2024-05-15 17:10:14.04 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:10:14.047 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=18] [neededSchemaVersion=19] ["start time"=374.166s] [gotSchemaVersion=19] [phyTblIDs="[38]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:10:14.048 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:10:14.048 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=39] [version=19]
[2024/05/15 17:10:14.049 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=19] ["take time"=2.320375ms] [job="ID:39, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:38, RowCount:0, ArgLen:2, start time: 2024-05-15 17:10:14.04 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:10:14.054 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=39] [job="ID:39, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:38, RowCount:0, ArgLen:0, start time: 2024-05-15 17:10:14.04 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:10:14.056 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=39]
[2024/05/15 17:10:14.056 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:10:14.057 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=0] ["to ID"=1] ["table ID"=38] ["database ID"=1]
[2024/05/15 17:10:14.057 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=19] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_top_n (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tvalue \t\tLONGBLOB,\n\t\tcount \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\tINDEX tbl(table_id, is_index, hist_id)\n\t);"] [user=]
[2024/05/15 17:10:14.059 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:41, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:40, RowCount:0, ArgLen:2, start time: 2024-05-15 17:10:14.058 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:10:14.059 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:41, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:40, RowCount:0, ArgLen:2, start time: 2024-05-15 17:10:14.058 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_top_n (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tvalue \t\tLONGBLOB,\n\t\tcount \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\tINDEX tbl(table_id, is_index, hist_id)\n\t);"]
[2024/05/15 17:10:14.064 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=41] [category=ddl] [job="ID:41, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:40, RowCount:0, ArgLen:0, start time: 2024-05-15 17:10:14.058 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:10:14.066 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=19] [neededSchemaVersion=20] ["start time"=233.166s] [gotSchemaVersion=20] [phyTblIDs="[40]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:10:14.067 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:10:14.067 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=41] [version=20]
[2024/05/15 17:10:14.068 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=20] ["take time"=2.671917ms] [job="ID:41, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:40, RowCount:0, ArgLen:2, start time: 2024-05-15 17:10:14.058 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:10:14.072 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=41] [job="ID:41, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:40, RowCount:0, ArgLen:0, start time: 2024-05-15 17:10:14.058 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:10:14.075 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=41]
[2024/05/15 17:10:14.075 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:10:14.075 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=20] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.expr_pushdown_blacklist (\n\t\tname \t\tCHAR(100) NOT NULL,\n\t\tstore_type \tCHAR(100) NOT NULL DEFAULT 'tikv,tiflash,tidb',\n\t\treason \t\tVARCHAR(200)\n\t);"] [user=]
[2024/05/15 17:10:14.077 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:43, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:42, RowCount:0, ArgLen:2, start time: 2024-05-15 17:10:14.076 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:10:14.077 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:43, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:42, RowCount:0, ArgLen:2, start time: 2024-05-15 17:10:14.076 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.expr_pushdown_blacklist (\n\t\tname \t\tCHAR(100) NOT NULL,\n\t\tstore_type \tCHAR(100) NOT NULL DEFAULT 'tikv,tiflash,tidb',\n\t\treason \t\tVARCHAR(200)\n\t);"]
[2024/05/15 17:10:14.081 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=43] [category=ddl] [job="ID:43, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:42, RowCount:0, ArgLen:0, start time: 2024-05-15 17:10:14.076 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:10:14.082 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=20] [neededSchemaVersion=21] ["start time"=145.875s] [gotSchemaVersion=21] [phyTblIDs="[42]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:10:14.083 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:10:14.083 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=43] [version=21]
[2024/05/15 17:10:14.085 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=21] ["take time"=2.852167ms] [job="ID:43, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:42, RowCount:0, ArgLen:2, start time: 2024-05-15 17:10:14.076 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:10:14.089 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=43] [job="ID:43, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:42, RowCount:0, ArgLen:0, start time: 2024-05-15 17:10:14.076 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:10:14.090 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=43]
[2024/05/15 17:10:14.090 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:10:14.091 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=21] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.opt_rule_blacklist (\n\t\tname \tCHAR(100) NOT NULL\n\t);"] [user=]
[2024/05/15 17:10:14.092 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:45, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:44, RowCount:0, ArgLen:2, start time: 2024-05-15 17:10:14.091 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:10:14.092 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:45, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:44, RowCount:0, ArgLen:2, start time: 2024-05-15 17:10:14.091 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.opt_rule_blacklist (\n\t\tname \tCHAR(100) NOT NULL\n\t);"]
[2024/05/15 17:10:14.096 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=45] [category=ddl] [job="ID:45, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:44, RowCount:0, ArgLen:0, start time: 2024-05-15 17:10:14.091 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:10:14.100 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=21] [neededSchemaVersion=22] ["start time"=149.166s] [gotSchemaVersion=22] [phyTblIDs="[44]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:10:14.102 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:10:14.102 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=45] [version=22]
[2024/05/15 17:10:14.104 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=22] ["take time"=4.006625ms] [job="ID:45, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:44, RowCount:0, ArgLen:2, start time: 2024-05-15 17:10:14.091 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:10:14.108 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=45] [job="ID:45, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:44, RowCount:0, ArgLen:0, start time: 2024-05-15 17:10:14.091 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:10:14.110 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=45]
[2024/05/15 17:10:14.111 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:10:14.111 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=22] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_extended (\n\t\tname varchar(32) NOT NULL,\n\t\ttype tinyint(4) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tcolumn_ids varchar(32) NOT NULL,\n\t\tstats blob DEFAULT NULL,\n\t\tversion bigint(64) unsigned NOT NULL,\n\t\tstatus tinyint(4) NOT NULL,\n\t\tPRIMARY KEY(name, table_id),\n\t\tKEY idx_1 (table_id, status, version),\n\t\tKEY idx_2 (status, version)\n\t);"] [user=]
[2024/05/15 17:10:14.113 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:47, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:46, RowCount:0, ArgLen:2, start time: 2024-05-15 17:10:14.112 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:10:14.113 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:47, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:46, RowCount:0, ArgLen:2, start time: 2024-05-15 17:10:14.112 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_extended (\n\t\tname varchar(32) NOT NULL,\n\t\ttype tinyint(4) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tcolumn_ids varchar(32) NOT NULL,\n\t\tstats blob DEFAULT NULL,\n\t\tversion bigint(64) unsigned NOT NULL,\n\t\tstatus tinyint(4) NOT NULL,\n\t\tPRIMARY KEY(name, table_id),\n\t\tKEY idx_1 (table_id, status, version),\n\t\tKEY idx_2 (status, version)\n\t);"]
[2024/05/15 17:10:14.119 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=47] [category=ddl] [job="ID:47, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:46, RowCount:0, ArgLen:0, start time: 2024-05-15 17:10:14.112 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:10:14.122 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=22] [neededSchemaVersion=23] ["start time"=417.292s] [gotSchemaVersion=23] [phyTblIDs="[46]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:10:14.125 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:10:14.125 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=47] [version=23]
[2024/05/15 17:10:14.129 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=23] ["take time"=6.928375ms] [job="ID:47, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:46, RowCount:0, ArgLen:2, start time: 2024-05-15 17:10:14.112 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:10:14.139 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=47] [job="ID:47, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:46, RowCount:0, ArgLen:0, start time: 2024-05-15 17:10:14.112 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:10:14.142 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=47]
[2024/05/15 17:10:14.142 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:10:14.142 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=23] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_fm_sketch (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tvalue \t\tLONGBLOB,\n\t\tINDEX tbl(table_id, is_index, hist_id)\n\t);"] [user=]
[2024/05/15 17:10:14.147 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:49, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:48, RowCount:0, ArgLen:2, start time: 2024-05-15 17:10:14.145 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:10:14.147 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:49, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:48, RowCount:0, ArgLen:2, start time: 2024-05-15 17:10:14.145 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_fm_sketch (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tvalue \t\tLONGBLOB,\n\t\tINDEX tbl(table_id, is_index, hist_id)\n\t);"]
[2024/05/15 17:10:14.154 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=49] [category=ddl] [job="ID:49, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:48, RowCount:0, ArgLen:0, start time: 2024-05-15 17:10:14.145 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:10:14.158 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=23] [neededSchemaVersion=24] ["start time"=231.792s] [gotSchemaVersion=24] [phyTblIDs="[48]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:10:14.159 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:10:14.159 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=49] [version=24]
[2024/05/15 17:10:14.160 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=24] ["take time"=2.259625ms] [job="ID:49, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:48, RowCount:0, ArgLen:2, start time: 2024-05-15 17:10:14.145 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:10:14.161 +08:00] [WARN] [runaway.go:166] ["failed to start runaway manager loop, please check whether the bootstrap or update is finished"] [error="[schema:1146]Table 'mysql.tidb_runaway_watch' doesn't exist"] [errorVerbose="[schema:1146]Table 'mysql.tidb_runaway_watch' doesn't exist\ngithub.com/pingcap/errors.AddStack\n\t/Users/bba/.gvm/pkgsets/go1.21.0/global/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20240318064555-6bd07397691f/errors.go:178\ngithub.com/pingcap/errors.Trace\n\t/Users/bba/.gvm/pkgsets/go1.21.0/global/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20240318064555-6bd07397691f/juju_adaptor.go:15\ngithub.com/pingcap/tidb/pkg/planner/core.Preprocess\n\t/Users/bba/pc/tidb/pkg/planner/core/preprocess.go:141\ngithub.com/pingcap/tidb/pkg/executor.(*Compiler).Compile\n\t/Users/bba/pc/tidb/pkg/executor/compiler.go:67\ngithub.com/pingcap/tidb/pkg/session.(*session).ExecuteStmt\n\t/Users/bba/pc/tidb/pkg/session/session.go:2094\ngithub.com/pingcap/tidb/pkg/session.(*session).ExecuteInternalStmt\n\t/Users/bba/pc/tidb/pkg/session/session.go:1998\ngithub.com/pingcap/tidb/pkg/session.(*session).ExecRestrictedSQL.func1\n\t/Users/bba/pc/tidb/pkg/session/session.go:1963\ngithub.com/pingcap/tidb/pkg/session.(*session).withRestrictedSQLExecutor\n\t/Users/bba/pc/tidb/pkg/session/session.go:1949\ngithub.com/pingcap/tidb/pkg/session.(*session).ExecRestrictedSQL\n\t/Users/bba/pc/tidb/pkg/session/session.go:1953\ngithub.com/pingcap/tidb/pkg/domain.(*SystemTableReader).Read\n\t/Users/bba/pc/tidb/pkg/domain/runaway.go:655\ngithub.com/pingcap/tidb/pkg/domain.getRunawayWatchRecord\n\t/Users/bba/pc/tidb/pkg/domain/runaway.go:543\ngithub.com/pingcap/tidb/pkg/domain.(*runawaySyncer).getWatchRecord\n\t/Users/bba/pc/tidb/pkg/domain/runaway.go:526\ngithub.com/pingcap/tidb/pkg/domain.(*runawaySyncer).getNewWatchRecords\n\t/Users/bba/pc/tidb/pkg/domain/runaway.go:509\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).updateNewAndDoneWatch\n\t/Users/bba/pc/tidb/pkg/domain/runaway.go:177\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).runawayStartLoop\n\t/Users/bba/pc/tidb/pkg/domain/runaway.go:156\ngithub.com/pingcap/tidb/pkg/util.(*WaitGroupEnhancedWrapper).Run.func1\n\t/Users/bba/pc/tidb/pkg/util/wait_group_wrapper.go:99\nruntime.goexit\n\t/Users/bba/.gvm/gos/go1.21.0/src/runtime/asm_arm64.s:1197"]
[2024/05/15 17:10:14.167 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=49] [job="ID:49, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:48, RowCount:0, ArgLen:0, start time: 2024-05-15 17:10:14.145 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:10:14.169 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=49]
[2024/05/15 17:10:14.169 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:10:14.171 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=24] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.global_grants (\n\t\tUSER char(32) NOT NULL DEFAULT '',\n\t\tHOST char(255) NOT NULL DEFAULT '',\n\t\tPRIV char(32) NOT NULL DEFAULT '',\n\t\tWITH_GRANT_OPTION enum('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (USER,HOST,PRIV)\n\t);"] [user=]
[2024/05/15 17:10:14.173 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:51, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:50, RowCount:0, ArgLen:2, start time: 2024-05-15 17:10:14.173 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:10:14.173 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:51, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:50, RowCount:0, ArgLen:2, start time: 2024-05-15 17:10:14.173 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.global_grants (\n\t\tUSER char(32) NOT NULL DEFAULT '',\n\t\tHOST char(255) NOT NULL DEFAULT '',\n\t\tPRIV char(32) NOT NULL DEFAULT '',\n\t\tWITH_GRANT_OPTION enum('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (USER,HOST,PRIV)\n\t);"]
[2024/05/15 17:10:14.178 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=51] [category=ddl] [job="ID:51, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:50, RowCount:0, ArgLen:0, start time: 2024-05-15 17:10:14.173 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:10:14.180 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=24] [neededSchemaVersion=25] ["start time"=736.958s] [gotSchemaVersion=25] [phyTblIDs="[50]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:10:14.181 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:10:14.181 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=51] [version=25]
[2024/05/15 17:10:14.182 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=25] ["take time"=2.82775ms] [job="ID:51, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:50, RowCount:0, ArgLen:2, start time: 2024-05-15 17:10:14.173 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:10:14.187 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=51] [job="ID:51, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:50, RowCount:0, ArgLen:0, start time: 2024-05-15 17:10:14.173 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:10:14.190 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=51]
[2024/05/15 17:10:14.190 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:10:14.190 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=25] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.capture_plan_baselines_blacklist (\n\t\tid bigint(64) auto_increment,\n\t\tfilter_type varchar(32) NOT NULL COMMENT \"type of the filter, only db, table and frequency supported now\",\n\t\tfilter_value varchar(32) NOT NULL,\n\t\tkey idx(filter_type),\n\t\tprimary key(id)\n\t);"] [user=]
[2024/05/15 17:10:14.192 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:53, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:52, RowCount:0, ArgLen:2, start time: 2024-05-15 17:10:14.191 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:10:14.192 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:53, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:52, RowCount:0, ArgLen:2, start time: 2024-05-15 17:10:14.191 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.capture_plan_baselines_blacklist (\n\t\tid bigint(64) auto_increment,\n\t\tfilter_type varchar(32) NOT NULL COMMENT \"type of the filter, only db, table and frequency supported now\",\n\t\tfilter_value varchar(32) NOT NULL,\n\t\tkey idx(filter_type),\n\t\tprimary key(id)\n\t);"]
[2024/05/15 17:10:14.200 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=53] [category=ddl] [job="ID:53, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:52, RowCount:0, ArgLen:0, start time: 2024-05-15 17:10:14.191 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:10:14.203 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=25] [neededSchemaVersion=26] ["start time"=178s] [gotSchemaVersion=26] [phyTblIDs="[52]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:10:14.204 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:10:14.204 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=53] [version=26]
[2024/05/15 17:10:14.205 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=26] ["take time"=2.644083ms] [job="ID:53, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:52, RowCount:0, ArgLen:2, start time: 2024-05-15 17:10:14.191 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:10:14.212 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=53] [job="ID:53, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:52, RowCount:0, ArgLen:0, start time: 2024-05-15 17:10:14.191 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:10:14.214 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=53]
[2024/05/15 17:10:14.214 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:10:14.214 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=26] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.column_stats_usage (\n\t\ttable_id BIGINT(64) NOT NULL,\n\t\tcolumn_id BIGINT(64) NOT NULL,\n\t\tlast_used_at TIMESTAMP,\n\t\tlast_analyzed_at TIMESTAMP,\n\t\tPRIMARY KEY (table_id, column_id) CLUSTERED\n\t);"] [user=]
[2024/05/15 17:10:14.216 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:55, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:54, RowCount:0, ArgLen:2, start time: 2024-05-15 17:10:14.215 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:10:14.216 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:55, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:54, RowCount:0, ArgLen:2, start time: 2024-05-15 17:10:14.215 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.column_stats_usage (\n\t\ttable_id BIGINT(64) NOT NULL,\n\t\tcolumn_id BIGINT(64) NOT NULL,\n\t\tlast_used_at TIMESTAMP,\n\t\tlast_analyzed_at TIMESTAMP,\n\t\tPRIMARY KEY (table_id, column_id) CLUSTERED\n\t);"]
[2024/05/15 17:10:14.220 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=55] [category=ddl] [job="ID:55, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:54, RowCount:0, ArgLen:0, start time: 2024-05-15 17:10:14.215 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:10:14.223 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=26] [neededSchemaVersion=27] ["start time"=199.125s] [gotSchemaVersion=27] [phyTblIDs="[54]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:10:14.224 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:10:14.224 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=55] [version=27]
[2024/05/15 17:10:14.225 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=27] ["take time"=2.168792ms] [job="ID:55, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:54, RowCount:0, ArgLen:2, start time: 2024-05-15 17:10:14.215 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:10:14.233 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=55] [job="ID:55, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:54, RowCount:0, ArgLen:0, start time: 2024-05-15 17:10:14.215 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:10:14.236 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=55]
[2024/05/15 17:10:14.236 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:10:14.236 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=27] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.table_cache_meta (\n\t\ttid bigint(11) NOT NULL DEFAULT 0,\n\t\tlock_type enum('NONE','READ', 'INTEND', 'WRITE') NOT NULL DEFAULT 'NONE',\n\t\tlease bigint(20) NOT NULL DEFAULT 0,\n\t\toldReadLease bigint(20) NOT NULL DEFAULT 0,\n\t\tPRIMARY KEY (tid)\n\t);"] [user=]
[2024/05/15 17:10:14.239 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:57, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:56, RowCount:0, ArgLen:2, start time: 2024-05-15 17:10:14.236 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:10:14.239 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:57, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:56, RowCount:0, ArgLen:2, start time: 2024-05-15 17:10:14.236 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.table_cache_meta (\n\t\ttid bigint(11) NOT NULL DEFAULT 0,\n\t\tlock_type enum('NONE','READ', 'INTEND', 'WRITE') NOT NULL DEFAULT 'NONE',\n\t\tlease bigint(20) NOT NULL DEFAULT 0,\n\t\toldReadLease bigint(20) NOT NULL DEFAULT 0,\n\t\tPRIMARY KEY (tid)\n\t);"]
[2024/05/15 17:10:14.247 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=57] [category=ddl] [job="ID:57, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:56, RowCount:0, ArgLen:0, start time: 2024-05-15 17:10:14.236 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:10:14.251 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=27] [neededSchemaVersion=28] ["start time"=2.038375ms] [gotSchemaVersion=28] [phyTblIDs="[56]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:10:14.253 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:10:14.253 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=57] [version=28]
[2024/05/15 17:10:14.256 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=28] ["take time"=6.544791ms] [job="ID:57, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:56, RowCount:0, ArgLen:2, start time: 2024-05-15 17:10:14.236 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:10:14.259 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=57] [job="ID:57, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:56, RowCount:0, ArgLen:0, start time: 2024-05-15 17:10:14.236 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:10:14.261 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=57]
[2024/05/15 17:10:14.261 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:10:14.262 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=28] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.analyze_options (\n\t\ttable_id BIGINT(64) NOT NULL,\n\t\tsample_num BIGINT(64) NOT NULL DEFAULT 0,\n\t\tsample_rate DOUBLE NOT NULL DEFAULT -1,\n\t\tbuckets BIGINT(64) NOT NULL DEFAULT 0,\n\t\ttopn BIGINT(64) NOT NULL DEFAULT -1,\n\t\tcolumn_choice enum('DEFAULT','ALL','PREDICATE','LIST') NOT NULL DEFAULT 'DEFAULT',\n\t\tcolumn_ids TEXT(19372),\n\t\tPRIMARY KEY (table_id) CLUSTERED\n\t);"] [user=]
[2024/05/15 17:10:14.262 +08:00] [INFO] [ddl_api.go:1139] ["Automatically convert BLOB(19372) to MEDIUMBLOB"] [category=ddl]
[2024/05/15 17:10:14.265 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:59, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:58, RowCount:0, ArgLen:2, start time: 2024-05-15 17:10:14.264 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:10:14.265 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:59, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:58, RowCount:0, ArgLen:2, start time: 2024-05-15 17:10:14.264 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.analyze_options (\n\t\ttable_id BIGINT(64) NOT NULL,\n\t\tsample_num BIGINT(64) NOT NULL DEFAULT 0,\n\t\tsample_rate DOUBLE NOT NULL DEFAULT -1,\n\t\tbuckets BIGINT(64) NOT NULL DEFAULT 0,\n\t\ttopn BIGINT(64) NOT NULL DEFAULT -1,\n\t\tcolumn_choice enum('DEFAULT','ALL','PREDICATE','LIST') NOT NULL DEFAULT 'DEFAULT',\n\t\tcolumn_ids TEXT(19372),\n\t\tPRIMARY KEY (table_id) CLUSTERED\n\t);"]
[2024/05/15 17:10:14.269 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=59] [category=ddl] [job="ID:59, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:58, RowCount:0, ArgLen:0, start time: 2024-05-15 17:10:14.264 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:10:14.270 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=28] [neededSchemaVersion=29] ["start time"=330.583s] [gotSchemaVersion=29] [phyTblIDs="[58]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:10:14.271 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:10:14.271 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=59] [version=29]
[2024/05/15 17:10:14.273 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=29] ["take time"=2.764458ms] [job="ID:59, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:58, RowCount:0, ArgLen:2, start time: 2024-05-15 17:10:14.264 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:10:14.279 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=59] [job="ID:59, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:58, RowCount:0, ArgLen:0, start time: 2024-05-15 17:10:14.264 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:10:14.281 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=59]
[2024/05/15 17:10:14.282 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:10:14.282 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=29] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_history (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tstats_data longblob NOT NULL,\n\t\tseq_no bigint(64) NOT NULL comment 'sequence number of the gzipped data slice',\n\t\tversion bigint(64) NOT NULL comment 'stats version which corresponding to stats:version in EXPLAIN',\n\t\tcreate_time datetime(6) NOT NULL,\n\t\tUNIQUE KEY table_version_seq (table_id, version, seq_no),\n\t\tKEY table_create_time (table_id, create_time, seq_no),\n    \tKEY idx_create_time (create_time)\n\t);"] [user=]
[2024/05/15 17:10:14.283 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:61, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:60, RowCount:0, ArgLen:2, start time: 2024-05-15 17:10:14.282 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:10:14.283 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:61, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:60, RowCount:0, ArgLen:2, start time: 2024-05-15 17:10:14.282 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_history (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tstats_data longblob NOT NULL,\n\t\tseq_no bigint(64) NOT NULL comment 'sequence number of the gzipped data slice',\n\t\tversion bigint(64) NOT NULL comment 'stats version which corresponding to stats:version in EXPLAIN',\n\t\tcreate_time datetime(6) NOT NULL,\n\t\tUNIQUE KEY table_version_seq (table_id, version, seq_no),\n\t\tKEY table_create_time (table_id, create_time, seq_no),\n    \tKEY idx_create_time (create_time)\n\t);"]
[2024/05/15 17:10:14.288 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=61] [category=ddl] [job="ID:61, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:60, RowCount:0, ArgLen:0, start time: 2024-05-15 17:10:14.282 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:10:14.291 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=29] [neededSchemaVersion=30] ["start time"=396.583s] [gotSchemaVersion=30] [phyTblIDs="[60]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:10:14.291 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:10:14.291 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=61] [version=30]
[2024/05/15 17:10:14.293 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=30] ["take time"=2.8615ms] [job="ID:61, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:60, RowCount:0, ArgLen:2, start time: 2024-05-15 17:10:14.282 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:10:14.298 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=61] [job="ID:61, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:60, RowCount:0, ArgLen:0, start time: 2024-05-15 17:10:14.282 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:10:14.300 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=61]
[2024/05/15 17:10:14.300 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:10:14.301 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=30] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_meta_history (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tmodify_count bigint(64) NOT NULL,\n\t\tcount bigint(64) NOT NULL,\n\t\tversion bigint(64) NOT NULL comment 'stats version which corresponding to stats:version in EXPLAIN',\n    \tsource varchar(40) NOT NULL,\n\t\tcreate_time datetime(6) NOT NULL,\n\t\tUNIQUE KEY table_version (table_id, version),\n\t\tKEY table_create_time (table_id, create_time),\n    \tKEY idx_create_time (create_time)\n\t);"] [user=]
[2024/05/15 17:10:14.302 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:63, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:62, RowCount:0, ArgLen:2, start time: 2024-05-15 17:10:14.302 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:10:14.303 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:63, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:62, RowCount:0, ArgLen:2, start time: 2024-05-15 17:10:14.302 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_meta_history (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tmodify_count bigint(64) NOT NULL,\n\t\tcount bigint(64) NOT NULL,\n\t\tversion bigint(64) NOT NULL comment 'stats version which corresponding to stats:version in EXPLAIN',\n    \tsource varchar(40) NOT NULL,\n\t\tcreate_time datetime(6) NOT NULL,\n\t\tUNIQUE KEY table_version (table_id, version),\n\t\tKEY table_create_time (table_id, create_time),\n    \tKEY idx_create_time (create_time)\n\t);"]
[2024/05/15 17:10:14.308 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=63] [category=ddl] [job="ID:63, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:62, RowCount:0, ArgLen:0, start time: 2024-05-15 17:10:14.302 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:10:14.311 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=30] [neededSchemaVersion=31] ["start time"=557.916s] [gotSchemaVersion=31] [phyTblIDs="[62]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:10:14.312 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:10:14.312 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=63] [version=31]
[2024/05/15 17:10:14.312 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=31] ["take time"=2.003625ms] [job="ID:63, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:62, RowCount:0, ArgLen:2, start time: 2024-05-15 17:10:14.302 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:10:14.319 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=63] [job="ID:63, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:62, RowCount:0, ArgLen:0, start time: 2024-05-15 17:10:14.302 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:10:14.321 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=63]
[2024/05/15 17:10:14.321 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:10:14.321 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=31] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.analyze_jobs (\n\t\tid BIGINT(64) UNSIGNED NOT NULL AUTO_INCREMENT,\n\t\tupdate_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\ttable_schema CHAR(64) NOT NULL DEFAULT '',\n\t\ttable_name CHAR(64) NOT NULL DEFAULT '',\n\t\tpartition_name CHAR(64) NOT NULL DEFAULT '',\n\t\tjob_info TEXT NOT NULL,\n\t\tprocessed_rows BIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tstart_time TIMESTAMP,\n\t\tend_time TIMESTAMP,\n\t\tstate ENUM('pending', 'running', 'finished', 'failed') NOT NULL,\n\t\tfail_reason TEXT,\n\t\tinstance VARCHAR(512) NOT NULL comment 'address of the TiDB instance executing the analyze job',\n\t\tprocess_id BIGINT(64) UNSIGNED comment 'ID of the process executing the analyze job',\n\t\tPRIMARY KEY (id),\n\t\tKEY (update_time)\n\t);"] [user=]
[2024/05/15 17:10:14.323 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:65, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:64, RowCount:0, ArgLen:2, start time: 2024-05-15 17:10:14.322 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:10:14.323 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:65, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:64, RowCount:0, ArgLen:2, start time: 2024-05-15 17:10:14.322 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.analyze_jobs (\n\t\tid BIGINT(64) UNSIGNED NOT NULL AUTO_INCREMENT,\n\t\tupdate_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\ttable_schema CHAR(64) NOT NULL DEFAULT '',\n\t\ttable_name CHAR(64) NOT NULL DEFAULT '',\n\t\tpartition_name CHAR(64) NOT NULL DEFAULT '',\n\t\tjob_info TEXT NOT NULL,\n\t\tprocessed_rows BIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tstart_time TIMESTAMP,\n\t\tend_time TIMESTAMP,\n\t\tstate ENUM('pending', 'running', 'finished', 'failed') NOT NULL,\n\t\tfail_reason TEXT,\n\t\tinstance VARCHAR(512) NOT NULL comment 'address of the TiDB instance executing the analyze job',\n\t\tprocess_id BIGINT(64) UNSIGNED comment 'ID of the process executing the analyze job',\n\t\tPRIMARY KEY (id),\n\t\tKEY (update_time)\n\t);"]
[2024/05/15 17:10:14.327 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=65] [category=ddl] [job="ID:65, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:64, RowCount:0, ArgLen:0, start time: 2024-05-15 17:10:14.322 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:10:14.329 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=31] [neededSchemaVersion=32] ["start time"=356.458s] [gotSchemaVersion=32] [phyTblIDs="[64]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:10:14.330 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:10:14.330 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=65] [version=32]
[2024/05/15 17:10:14.331 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=32] ["take time"=2.312416ms] [job="ID:65, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:64, RowCount:0, ArgLen:2, start time: 2024-05-15 17:10:14.322 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:10:14.335 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=65] [job="ID:65, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:64, RowCount:0, ArgLen:0, start time: 2024-05-15 17:10:14.322 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:10:14.338 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=65]
[2024/05/15 17:10:14.338 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:10:14.338 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=32] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.advisory_locks (\n\t\tlock_name VARCHAR(64) NOT NULL PRIMARY KEY\n\t);"] [user=]
[2024/05/15 17:10:14.340 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:67, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:66, RowCount:0, ArgLen:2, start time: 2024-05-15 17:10:14.339 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:10:14.340 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:67, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:66, RowCount:0, ArgLen:2, start time: 2024-05-15 17:10:14.339 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.advisory_locks (\n\t\tlock_name VARCHAR(64) NOT NULL PRIMARY KEY\n\t);"]
[2024/05/15 17:10:14.344 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=67] [category=ddl] [job="ID:67, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:66, RowCount:0, ArgLen:0, start time: 2024-05-15 17:10:14.339 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:10:14.347 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=32] [neededSchemaVersion=33] ["start time"=374.666s] [gotSchemaVersion=33] [phyTblIDs="[66]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:10:14.348 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:10:14.348 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=67] [version=33]
[2024/05/15 17:10:14.349 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=33] ["take time"=2.951125ms] [job="ID:67, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:66, RowCount:0, ArgLen:2, start time: 2024-05-15 17:10:14.339 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:10:14.353 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=67] [job="ID:67, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:66, RowCount:0, ArgLen:0, start time: 2024-05-15 17:10:14.339 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:10:14.356 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=67]
[2024/05/15 17:10:14.356 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:10:14.359 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:69, Type:create view, State:queueing, SchemaState:none, SchemaID:1, TableID:68, RowCount:0, ArgLen:3, start time: 2024-05-15 17:10:14.358 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:10:14.359 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:69, Type:create view, State:queueing, SchemaState:none, SchemaID:1, TableID:68, RowCount:0, ArgLen:3, start time: 2024-05-15 17:10:14.358 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE OR REPLACE VIEW mysql.tidb_mdl_view as (\n\t\tSELECT tidb_mdl_info.job_id,\n\t\t\tJSON_UNQUOTE(JSON_EXTRACT(cast(cast(job_meta as char) as json), \"$.schema_name\")) as db_name,\n\t\t\tJSON_UNQUOTE(JSON_EXTRACT(cast(cast(job_meta as char) as json), \"$.table_name\")) as table_name,\n\t\t\tJSON_UNQUOTE(JSON_EXTRACT(cast(cast(job_meta as char) as json), \"$.query\")) as query,\n\t\t\tsession_id,\n\t\t\tcluster_tidb_trx.start_time,\n\t\t\ttidb_decode_sql_digests(all_sql_digests, 4096) AS SQL_DIGESTS\n\t\tFROM mysql.tidb_ddl_job,\n\t\t\tmysql.tidb_mdl_info,\n\t\t\tinformation_schema.cluster_tidb_trx\n\t\tWHERE tidb_ddl_job.job_id=tidb_mdl_info.job_id\n\t\t\tAND CONCAT(',', tidb_mdl_info.table_ids, ',') REGEXP CONCAT(',(', REPLACE(cluster_tidb_trx.related_table_ids, ',', '|'), '),') != 0\n\t);"]
[2024/05/15 17:10:14.367 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=69] [category=ddl] [job="ID:69, Type:create view, State:queueing, SchemaState:none, SchemaID:1, TableID:68, RowCount:0, ArgLen:0, start time: 2024-05-15 17:10:14.358 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:10:14.372 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=33] [neededSchemaVersion=34] ["start time"=592.417s] [gotSchemaVersion=34] [phyTblIDs="[68]"] [actionTypes="[21]"] [diffTypes="[\"create view\"]"]
[2024/05/15 17:10:14.374 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:10:14.374 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=69] [version=34]
[2024/05/15 17:10:14.376 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=34] ["take time"=4.269041ms] [job="ID:69, Type:create view, State:done, SchemaState:public, SchemaID:1, TableID:68, RowCount:0, ArgLen:3, start time: 2024-05-15 17:10:14.358 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:10:14.386 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=69] [job="ID:69, Type:create view, State:synced, SchemaState:public, SchemaID:1, TableID:68, RowCount:0, ArgLen:0, start time: 2024-05-15 17:10:14.358 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:10:14.391 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=69]
[2024/05/15 17:10:14.391 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:10:14.391 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=34] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.plan_replayer_status (\n\t\tsql_digest VARCHAR(128),\n\t\tplan_digest VARCHAR(128),\n\t\torigin_sql TEXT,\n\t\ttoken VARCHAR(128),\n\t\tupdate_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\tfail_reason TEXT,\n\t\tinstance VARCHAR(512) NOT NULL comment 'address of the TiDB instance executing the plan replayer job');"] [user=]
[2024/05/15 17:10:14.393 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:71, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:70, RowCount:0, ArgLen:2, start time: 2024-05-15 17:10:14.392 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:10:14.393 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:71, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:70, RowCount:0, ArgLen:2, start time: 2024-05-15 17:10:14.392 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.plan_replayer_status (\n\t\tsql_digest VARCHAR(128),\n\t\tplan_digest VARCHAR(128),\n\t\torigin_sql TEXT,\n\t\ttoken VARCHAR(128),\n\t\tupdate_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\tfail_reason TEXT,\n\t\tinstance VARCHAR(512) NOT NULL comment 'address of the TiDB instance executing the plan replayer job');"]
[2024/05/15 17:10:14.400 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=71] [category=ddl] [job="ID:71, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:70, RowCount:0, ArgLen:0, start time: 2024-05-15 17:10:14.392 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:10:14.402 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=34] [neededSchemaVersion=35] ["start time"=220.708s] [gotSchemaVersion=35] [phyTblIDs="[70]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:10:14.402 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:10:14.402 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=71] [version=35]
[2024/05/15 17:10:14.404 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=35] ["take time"=2.020042ms] [job="ID:71, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:70, RowCount:0, ArgLen:2, start time: 2024-05-15 17:10:14.392 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:10:14.408 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=71] [job="ID:71, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:70, RowCount:0, ArgLen:0, start time: 2024-05-15 17:10:14.392 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:10:14.410 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=71]
[2024/05/15 17:10:14.410 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:10:14.410 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=35] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.plan_replayer_task (\n\t\tsql_digest VARCHAR(128) NOT NULL,\n\t\tplan_digest VARCHAR(128) NOT NULL,\n\t\tupdate_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\tPRIMARY KEY (sql_digest,plan_digest));"] [user=]
[2024/05/15 17:10:14.413 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:73, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:72, RowCount:0, ArgLen:2, start time: 2024-05-15 17:10:14.411 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:10:14.413 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:73, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:72, RowCount:0, ArgLen:2, start time: 2024-05-15 17:10:14.411 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.plan_replayer_task (\n\t\tsql_digest VARCHAR(128) NOT NULL,\n\t\tplan_digest VARCHAR(128) NOT NULL,\n\t\tupdate_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\tPRIMARY KEY (sql_digest,plan_digest));"]
[2024/05/15 17:10:14.417 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=73] [category=ddl] [job="ID:73, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:72, RowCount:0, ArgLen:0, start time: 2024-05-15 17:10:14.411 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:10:14.419 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=35] [neededSchemaVersion=36] ["start time"=255.833s] [gotSchemaVersion=36] [phyTblIDs="[72]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:10:14.419 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:10:14.419 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=73] [version=36]
[2024/05/15 17:10:14.421 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=36] ["take time"=2.653709ms] [job="ID:73, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:72, RowCount:0, ArgLen:2, start time: 2024-05-15 17:10:14.411 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:10:14.426 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=73] [job="ID:73, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:72, RowCount:0, ArgLen:0, start time: 2024-05-15 17:10:14.411 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:10:14.427 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=73]
[2024/05/15 17:10:14.427 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:10:14.428 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=36] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_table_locked(\n\t\ttable_id bigint(64) NOT NULL,\n\t\tmodify_count bigint(64) NOT NULL DEFAULT 0,\n\t\tcount bigint(64) NOT NULL DEFAULT 0,\n\t\tversion bigint(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tPRIMARY KEY (table_id));"] [user=]
[2024/05/15 17:10:14.430 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:75, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:74, RowCount:0, ArgLen:2, start time: 2024-05-15 17:10:14.429 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:10:14.430 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:75, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:74, RowCount:0, ArgLen:2, start time: 2024-05-15 17:10:14.429 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_table_locked(\n\t\ttable_id bigint(64) NOT NULL,\n\t\tmodify_count bigint(64) NOT NULL DEFAULT 0,\n\t\tcount bigint(64) NOT NULL DEFAULT 0,\n\t\tversion bigint(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tPRIMARY KEY (table_id));"]
[2024/05/15 17:10:14.434 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=75] [category=ddl] [job="ID:75, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:74, RowCount:0, ArgLen:0, start time: 2024-05-15 17:10:14.429 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:10:14.436 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=36] [neededSchemaVersion=37] ["start time"=170s] [gotSchemaVersion=37] [phyTblIDs="[74]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:10:14.437 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:10:14.437 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=75] [version=37]
[2024/05/15 17:10:14.438 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=37] ["take time"=2.338083ms] [job="ID:75, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:74, RowCount:0, ArgLen:2, start time: 2024-05-15 17:10:14.429 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:10:14.443 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=75] [job="ID:75, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:74, RowCount:0, ArgLen:0, start time: 2024-05-15 17:10:14.429 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:10:14.445 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=75]
[2024/05/15 17:10:14.445 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:10:14.445 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=37] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_ttl_table_status (\n\t\ttable_id bigint(64) PRIMARY KEY,\n        parent_table_id bigint(64),\n        table_statistics text DEFAULT NULL,\n\t\tlast_job_id varchar(64) DEFAULT NULL,\n\t\tlast_job_start_time timestamp NULL DEFAULT NULL,\n\t\tlast_job_finish_time timestamp NULL DEFAULT NULL,\n\t\tlast_job_ttl_expire timestamp NULL DEFAULT NULL,\n        last_job_summary text DEFAULT NULL,\n\t\tcurrent_job_id varchar(64) DEFAULT NULL,\n\t\tcurrent_job_owner_id varchar(64) DEFAULT NULL,\n\t\tcurrent_job_owner_addr varchar(256) DEFAULT NULL,\n\t\tcurrent_job_owner_hb_time timestamp,\n\t\tcurrent_job_start_time timestamp NULL DEFAULT NULL,\n\t\tcurrent_job_ttl_expire timestamp NULL DEFAULT NULL,\n\t\tcurrent_job_state text DEFAULT NULL,\n\t\tcurrent_job_status varchar(64) DEFAULT NULL,\n  \t\tcurrent_job_status_update_time timestamp NULL DEFAULT NULL);"] [user=]
[2024/05/15 17:10:14.448 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:77, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:76, RowCount:0, ArgLen:2, start time: 2024-05-15 17:10:14.446 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:10:14.448 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:77, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:76, RowCount:0, ArgLen:2, start time: 2024-05-15 17:10:14.446 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_ttl_table_status (\n\t\ttable_id bigint(64) PRIMARY KEY,\n        parent_table_id bigint(64),\n        table_statistics text DEFAULT NULL,\n\t\tlast_job_id varchar(64) DEFAULT NULL,\n\t\tlast_job_start_time timestamp NULL DEFAULT NULL,\n\t\tlast_job_finish_time timestamp NULL DEFAULT NULL,\n\t\tlast_job_ttl_expire timestamp NULL DEFAULT NULL,\n        last_job_summary text DEFAULT NULL,\n\t\tcurrent_job_id varchar(64) DEFAULT NULL,\n\t\tcurrent_job_owner_id varchar(64) DEFAULT NULL,\n\t\tcurrent_job_owner_addr varchar(256) DEFAULT NULL,\n\t\tcurrent_job_owner_hb_time timestamp,\n\t\tcurrent_job_start_time timestamp NULL DEFAULT NULL,\n\t\tcurrent_job_ttl_expire timestamp NULL DEFAULT NULL,\n\t\tcurrent_job_state text DEFAULT NULL,\n\t\tcurrent_job_status varchar(64) DEFAULT NULL,\n  \t\tcurrent_job_status_update_time timestamp NULL DEFAULT NULL);"]
[2024/05/15 17:10:14.451 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=77] [category=ddl] [job="ID:77, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:76, RowCount:0, ArgLen:0, start time: 2024-05-15 17:10:14.446 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:10:14.454 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=37] [neededSchemaVersion=38] ["start time"=522.916s] [gotSchemaVersion=38] [phyTblIDs="[76]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:10:14.455 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:10:14.455 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=77] [version=38]
[2024/05/15 17:10:14.456 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=38] ["take time"=2.383041ms] [job="ID:77, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:76, RowCount:0, ArgLen:2, start time: 2024-05-15 17:10:14.446 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:10:14.460 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=77] [job="ID:77, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:76, RowCount:0, ArgLen:0, start time: 2024-05-15 17:10:14.446 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:10:14.463 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=77]
[2024/05/15 17:10:14.463 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:10:14.463 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=38] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_ttl_task (\n\t\tjob_id varchar(64) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tscan_id int NOT NULL,\n\t\tscan_range_start BLOB,\n\t\tscan_range_end BLOB,\n\t\texpire_time timestamp NOT NULL,\n\t\towner_id varchar(64) DEFAULT NULL,\n\t\towner_addr varchar(64) DEFAULT NULL,\n\t\towner_hb_time timestamp DEFAULT NULL,\n\t\tstatus varchar(64) DEFAULT 'waiting',\n\t\tstatus_update_time timestamp NULL DEFAULT NULL,\n\t\tstate text,\n\t\tcreated_time timestamp NOT NULL,\n\t\tprimary key(job_id, scan_id),\n\t\tkey(created_time));"] [user=]
[2024/05/15 17:10:14.465 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:79, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:78, RowCount:0, ArgLen:2, start time: 2024-05-15 17:10:14.464 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:10:14.465 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:79, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:78, RowCount:0, ArgLen:2, start time: 2024-05-15 17:10:14.464 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_ttl_task (\n\t\tjob_id varchar(64) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tscan_id int NOT NULL,\n\t\tscan_range_start BLOB,\n\t\tscan_range_end BLOB,\n\t\texpire_time timestamp NOT NULL,\n\t\towner_id varchar(64) DEFAULT NULL,\n\t\towner_addr varchar(64) DEFAULT NULL,\n\t\towner_hb_time timestamp DEFAULT NULL,\n\t\tstatus varchar(64) DEFAULT 'waiting',\n\t\tstatus_update_time timestamp NULL DEFAULT NULL,\n\t\tstate text,\n\t\tcreated_time timestamp NOT NULL,\n\t\tprimary key(job_id, scan_id),\n\t\tkey(created_time));"]
[2024/05/15 17:10:14.470 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=79] [category=ddl] [job="ID:79, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:78, RowCount:0, ArgLen:0, start time: 2024-05-15 17:10:14.464 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:10:14.472 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=38] [neededSchemaVersion=39] ["start time"=358.084s] [gotSchemaVersion=39] [phyTblIDs="[78]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:10:14.473 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:10:14.474 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=79] [version=39]
[2024/05/15 17:10:14.474 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=39] ["take time"=2.383625ms] [job="ID:79, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:78, RowCount:0, ArgLen:2, start time: 2024-05-15 17:10:14.464 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:10:14.480 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=79] [job="ID:79, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:78, RowCount:0, ArgLen:0, start time: 2024-05-15 17:10:14.464 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:10:14.482 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=79]
[2024/05/15 17:10:14.482 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:10:14.483 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=39] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_ttl_job_history (\n\t\tjob_id varchar(64) PRIMARY KEY,\n\t\ttable_id bigint(64) NOT NULL,\n        parent_table_id bigint(64) NOT NULL,\n    \ttable_schema varchar(64) NOT NULL,\n\t\ttable_name varchar(64) NOT NULL,\n    \tpartition_name varchar(64) DEFAULT NULL,\n\t\tcreate_time timestamp NOT NULL,\n\t\tfinish_time timestamp NOT NULL,\n\t\tttl_expire timestamp NOT NULL,\n        summary_text text,\n\t\texpired_rows bigint(64) DEFAULT NULL,\n    \tdeleted_rows bigint(64) DEFAULT NULL,\n    \terror_delete_rows bigint(64) DEFAULT NULL,\n    \tstatus varchar(64) NOT NULL,\n    \tkey(table_schema, table_name, create_time),\n    \tkey(parent_table_id, create_time),\n    \tkey(create_time)\n\t);"] [user=]
[2024/05/15 17:10:14.486 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:81, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:80, RowCount:0, ArgLen:2, start time: 2024-05-15 17:10:14.485 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:10:14.487 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:81, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:80, RowCount:0, ArgLen:2, start time: 2024-05-15 17:10:14.485 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_ttl_job_history (\n\t\tjob_id varchar(64) PRIMARY KEY,\n\t\ttable_id bigint(64) NOT NULL,\n        parent_table_id bigint(64) NOT NULL,\n    \ttable_schema varchar(64) NOT NULL,\n\t\ttable_name varchar(64) NOT NULL,\n    \tpartition_name varchar(64) DEFAULT NULL,\n\t\tcreate_time timestamp NOT NULL,\n\t\tfinish_time timestamp NOT NULL,\n\t\tttl_expire timestamp NOT NULL,\n        summary_text text,\n\t\texpired_rows bigint(64) DEFAULT NULL,\n    \tdeleted_rows bigint(64) DEFAULT NULL,\n    \terror_delete_rows bigint(64) DEFAULT NULL,\n    \tstatus varchar(64) NOT NULL,\n    \tkey(table_schema, table_name, create_time),\n    \tkey(parent_table_id, create_time),\n    \tkey(create_time)\n\t);"]
[2024/05/15 17:10:14.492 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=81] [category=ddl] [job="ID:81, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:80, RowCount:0, ArgLen:0, start time: 2024-05-15 17:10:14.485 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:10:14.495 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=39] [neededSchemaVersion=40] ["start time"=423s] [gotSchemaVersion=40] [phyTblIDs="[80]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:10:14.496 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:10:14.496 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=81] [version=40]
[2024/05/15 17:10:14.497 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=40] ["take time"=2.310625ms] [job="ID:81, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:80, RowCount:0, ArgLen:2, start time: 2024-05-15 17:10:14.485 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:10:14.503 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=81] [job="ID:81, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:80, RowCount:0, ArgLen:0, start time: 2024-05-15 17:10:14.485 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:10:14.505 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=81]
[2024/05/15 17:10:14.505 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:10:14.505 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=40] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_global_task (\n\t\tid BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n    \ttask_key VARCHAR(256) NOT NULL,\n\t\ttype VARCHAR(256) NOT NULL,\n\t\tdispatcher_id VARCHAR(261),\n\t\tstate VARCHAR(64) NOT NULL,\n\t\tpriority INT DEFAULT 1,\n\t\tcreate_time TIMESTAMP,\n\t\tstart_time TIMESTAMP,\n\t\tstate_update_time TIMESTAMP,\n\t\tend_time TIMESTAMP,\n\t\tmeta LONGBLOB,\n\t\tconcurrency INT(11),\n\t\tstep INT(11),\n\t\ttarget_scope VARCHAR(256) DEFAULT \"\",\n\t\terror BLOB,\n\t\tkey(state),\n      \tUNIQUE KEY task_key(task_key)\n\t);"] [user=]
[2024/05/15 17:10:14.509 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:83, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:82, RowCount:0, ArgLen:2, start time: 2024-05-15 17:10:14.507 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:10:14.509 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:83, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:82, RowCount:0, ArgLen:2, start time: 2024-05-15 17:10:14.507 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_global_task (\n\t\tid BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n    \ttask_key VARCHAR(256) NOT NULL,\n\t\ttype VARCHAR(256) NOT NULL,\n\t\tdispatcher_id VARCHAR(261),\n\t\tstate VARCHAR(64) NOT NULL,\n\t\tpriority INT DEFAULT 1,\n\t\tcreate_time TIMESTAMP,\n\t\tstart_time TIMESTAMP,\n\t\tstate_update_time TIMESTAMP,\n\t\tend_time TIMESTAMP,\n\t\tmeta LONGBLOB,\n\t\tconcurrency INT(11),\n\t\tstep INT(11),\n\t\ttarget_scope VARCHAR(256) DEFAULT \"\",\n\t\terror BLOB,\n\t\tkey(state),\n      \tUNIQUE KEY task_key(task_key)\n\t);"]
[2024/05/15 17:10:14.514 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=83] [category=ddl] [job="ID:83, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:82, RowCount:0, ArgLen:0, start time: 2024-05-15 17:10:14.507 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:10:14.517 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=40] [neededSchemaVersion=41] ["start time"=426.5s] [gotSchemaVersion=41] [phyTblIDs="[82]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:10:14.518 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:10:14.518 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=83] [version=41]
[2024/05/15 17:10:14.519 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=41] ["take time"=2.434833ms] [job="ID:83, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:82, RowCount:0, ArgLen:2, start time: 2024-05-15 17:10:14.507 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:10:14.526 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=83] [job="ID:83, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:82, RowCount:0, ArgLen:0, start time: 2024-05-15 17:10:14.507 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:10:14.528 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=83]
[2024/05/15 17:10:14.528 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:10:14.528 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=41] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_global_task_history (\n\t\tid BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n    \ttask_key VARCHAR(256) NOT NULL,\n\t\ttype VARCHAR(256) NOT NULL,\n\t\tdispatcher_id VARCHAR(261),\n\t\tstate VARCHAR(64) NOT NULL,\n\t\tpriority INT DEFAULT 1,\n\t\tcreate_time TIMESTAMP,\n\t\tstart_time TIMESTAMP,\n\t\tstate_update_time TIMESTAMP,\n\t\tend_time TIMESTAMP,\n\t\tmeta LONGBLOB,\n\t\tconcurrency INT(11),\n\t\tstep INT(11),\n\t\ttarget_scope VARCHAR(256) DEFAULT \"\",\n\t\terror BLOB,\n\t\tkey(state),\n      \tUNIQUE KEY task_key(task_key)\n\t);"] [user=]
[2024/05/15 17:10:14.533 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:85, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:84, RowCount:0, ArgLen:2, start time: 2024-05-15 17:10:14.532 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:10:14.533 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:85, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:84, RowCount:0, ArgLen:2, start time: 2024-05-15 17:10:14.532 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_global_task_history (\n\t\tid BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n    \ttask_key VARCHAR(256) NOT NULL,\n\t\ttype VARCHAR(256) NOT NULL,\n\t\tdispatcher_id VARCHAR(261),\n\t\tstate VARCHAR(64) NOT NULL,\n\t\tpriority INT DEFAULT 1,\n\t\tcreate_time TIMESTAMP,\n\t\tstart_time TIMESTAMP,\n\t\tstate_update_time TIMESTAMP,\n\t\tend_time TIMESTAMP,\n\t\tmeta LONGBLOB,\n\t\tconcurrency INT(11),\n\t\tstep INT(11),\n\t\ttarget_scope VARCHAR(256) DEFAULT \"\",\n\t\terror BLOB,\n\t\tkey(state),\n      \tUNIQUE KEY task_key(task_key)\n\t);"]
[2024/05/15 17:10:14.537 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=85] [category=ddl] [job="ID:85, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:84, RowCount:0, ArgLen:0, start time: 2024-05-15 17:10:14.532 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:10:14.540 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=41] [neededSchemaVersion=42] ["start time"=393.583s] [gotSchemaVersion=42] [phyTblIDs="[84]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:10:14.541 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:10:14.541 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=85] [version=42]
[2024/05/15 17:10:14.542 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=42] ["take time"=2.218917ms] [job="ID:85, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:84, RowCount:0, ArgLen:2, start time: 2024-05-15 17:10:14.532 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:10:14.546 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=85] [job="ID:85, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:84, RowCount:0, ArgLen:0, start time: 2024-05-15 17:10:14.532 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:10:14.549 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=85]
[2024/05/15 17:10:14.549 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:10:14.549 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=42] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_import_jobs (\n\t\tid bigint(64) NOT NULL AUTO_INCREMENT,\n\t\tcreate_time TIMESTAMP(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6),\n\t\tstart_time TIMESTAMP(6) NULL DEFAULT NULL,\n\t\tupdate_time TIMESTAMP(6) NULL DEFAULT NULL,\n\t\tend_time TIMESTAMP(6) NULL DEFAULT NULL,\n\t\ttable_schema VARCHAR(64) NOT NULL,\n\t\ttable_name VARCHAR(64) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tcreated_by VARCHAR(300) NOT NULL,\n\t\tparameters text NOT NULL,\n\t\tsource_file_size bigint(64) NOT NULL,\n\t\tstatus VARCHAR(64) NOT NULL,\n\t\tstep VARCHAR(64) NOT NULL,\n\t\tsummary text DEFAULT NULL,\n\t\terror_message TEXT DEFAULT NULL,\n\t\tPRIMARY KEY (id),\n\t\tKEY (created_by),\n\t\tKEY (status));"] [user=]
[2024/05/15 17:10:14.551 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:87, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:86, RowCount:0, ArgLen:2, start time: 2024-05-15 17:10:14.55 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:10:14.551 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:87, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:86, RowCount:0, ArgLen:2, start time: 2024-05-15 17:10:14.55 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_import_jobs (\n\t\tid bigint(64) NOT NULL AUTO_INCREMENT,\n\t\tcreate_time TIMESTAMP(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6),\n\t\tstart_time TIMESTAMP(6) NULL DEFAULT NULL,\n\t\tupdate_time TIMESTAMP(6) NULL DEFAULT NULL,\n\t\tend_time TIMESTAMP(6) NULL DEFAULT NULL,\n\t\ttable_schema VARCHAR(64) NOT NULL,\n\t\ttable_name VARCHAR(64) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tcreated_by VARCHAR(300) NOT NULL,\n\t\tparameters text NOT NULL,\n\t\tsource_file_size bigint(64) NOT NULL,\n\t\tstatus VARCHAR(64) NOT NULL,\n\t\tstep VARCHAR(64) NOT NULL,\n\t\tsummary text DEFAULT NULL,\n\t\terror_message TEXT DEFAULT NULL,\n\t\tPRIMARY KEY (id),\n\t\tKEY (created_by),\n\t\tKEY (status));"]
[2024/05/15 17:10:14.556 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=87] [category=ddl] [job="ID:87, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:86, RowCount:0, ArgLen:0, start time: 2024-05-15 17:10:14.55 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:10:14.559 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=42] [neededSchemaVersion=43] ["start time"=770.792s] [gotSchemaVersion=43] [phyTblIDs="[86]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:10:14.560 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:10:14.560 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=87] [version=43]
[2024/05/15 17:10:14.562 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=43] ["take time"=4.22175ms] [job="ID:87, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:86, RowCount:0, ArgLen:2, start time: 2024-05-15 17:10:14.55 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:10:14.571 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=87] [job="ID:87, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:86, RowCount:0, ArgLen:0, start time: 2024-05-15 17:10:14.55 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:10:14.573 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=87]
[2024/05/15 17:10:14.573 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:10:14.574 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=43] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_runaway_watch (\n\t\tid BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n\t\tresource_group_name varchar(32) not null,\n\t\tstart_time datetime(6) NOT NULL,\n\t\tend_time datetime(6),\n\t\twatch bigint(10) NOT NULL,\n\t\twatch_text TEXT NOT NULL,\n\t\tsource varchar(512) NOT NULL,\n\t\taction bigint(10),\n\t\tINDEX sql_index(resource_group_name,watch_text(700)) COMMENT \"accelerate the speed when select quarantined query\",\n\t\tINDEX time_index(end_time) COMMENT \"accelerate the speed when querying with active watch\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"] [user=]
[2024/05/15 17:10:14.577 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:89, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:88, RowCount:0, ArgLen:2, start time: 2024-05-15 17:10:14.574 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:10:14.577 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:89, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:88, RowCount:0, ArgLen:2, start time: 2024-05-15 17:10:14.574 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_runaway_watch (\n\t\tid BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n\t\tresource_group_name varchar(32) not null,\n\t\tstart_time datetime(6) NOT NULL,\n\t\tend_time datetime(6),\n\t\twatch bigint(10) NOT NULL,\n\t\twatch_text TEXT NOT NULL,\n\t\tsource varchar(512) NOT NULL,\n\t\taction bigint(10),\n\t\tINDEX sql_index(resource_group_name,watch_text(700)) COMMENT \"accelerate the speed when select quarantined query\",\n\t\tINDEX time_index(end_time) COMMENT \"accelerate the speed when querying with active watch\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"]
[2024/05/15 17:10:14.583 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=89] [category=ddl] [job="ID:89, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:88, RowCount:0, ArgLen:0, start time: 2024-05-15 17:10:14.574 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:10:14.586 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=43] [neededSchemaVersion=44] ["start time"=347.667s] [gotSchemaVersion=44] [phyTblIDs="[88]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:10:14.587 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:10:14.587 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=89] [version=44]
[2024/05/15 17:10:14.591 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=44] ["take time"=5.84125ms] [job="ID:89, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:88, RowCount:0, ArgLen:2, start time: 2024-05-15 17:10:14.574 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:10:14.601 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=89] [job="ID:89, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:88, RowCount:0, ArgLen:0, start time: 2024-05-15 17:10:14.574 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:10:14.612 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=89]
[2024/05/15 17:10:14.612 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:10:14.612 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=44] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_runaway_queries (\n\t\tresource_group_name varchar(32) not null,\n\t\ttime TIMESTAMP NOT NULL,\n\t\tmatch_type varchar(12) NOT NULL,\n\t\taction varchar(12) NOT NULL,\n\t\toriginal_sql TEXT NOT NULL,\n\t\tplan_digest TEXT NOT NULL,\n\t\ttidb_server varchar(512),\n\t\tINDEX plan_index(plan_digest(64)) COMMENT \"accelerate the speed when select runaway query\",\n\t\tINDEX time_index(time) COMMENT \"accelerate the speed when querying with active watch\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"] [user=]
[2024/05/15 17:10:14.620 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:91, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:90, RowCount:0, ArgLen:2, start time: 2024-05-15 17:10:14.614 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:10:14.620 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:91, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:90, RowCount:0, ArgLen:2, start time: 2024-05-15 17:10:14.614 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_runaway_queries (\n\t\tresource_group_name varchar(32) not null,\n\t\ttime TIMESTAMP NOT NULL,\n\t\tmatch_type varchar(12) NOT NULL,\n\t\taction varchar(12) NOT NULL,\n\t\toriginal_sql TEXT NOT NULL,\n\t\tplan_digest TEXT NOT NULL,\n\t\ttidb_server varchar(512),\n\t\tINDEX plan_index(plan_digest(64)) COMMENT \"accelerate the speed when select runaway query\",\n\t\tINDEX time_index(time) COMMENT \"accelerate the speed when querying with active watch\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"]
[2024/05/15 17:10:14.627 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=91] [category=ddl] [job="ID:91, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:90, RowCount:0, ArgLen:0, start time: 2024-05-15 17:10:14.614 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:10:14.629 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=44] [neededSchemaVersion=45] ["start time"=374.5s] [gotSchemaVersion=45] [phyTblIDs="[90]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:10:14.632 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:10:14.632 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=91] [version=45]
[2024/05/15 17:10:14.634 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=45] ["take time"=5.32ms] [job="ID:91, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:90, RowCount:0, ArgLen:2, start time: 2024-05-15 17:10:14.614 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:10:14.645 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=91] [job="ID:91, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:90, RowCount:0, ArgLen:0, start time: 2024-05-15 17:10:14.614 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:10:14.648 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=91]
[2024/05/15 17:10:14.648 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:10:14.648 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=45] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS `mysql`.`tidb_timers` (\n\t\tID BIGINT(64) UNSIGNED NOT NULL AUTO_INCREMENT,\n\t\tNAMESPACE VARCHAR(256) NOT NULL,\n\t\tTIMER_KEY VARCHAR(256) NOT NULL,\n\t\tTIMER_DATA BLOB,\n\t\tTIMEZONE VARCHAR(64) NOT NULL,\n\t\tSCHED_POLICY_TYPE VARCHAR(32) NOT NULL,\n\t\tSCHED_POLICY_EXPR VARCHAR(256) NOT NULL,\n\t\tHOOK_CLASS VARCHAR(64) NOT NULL,\n\t\tWATERMARK TIMESTAMP DEFAULT NULL,\n\t\tENABLE TINYINT(2) NOT NULL,\n\t\tTIMER_EXT JSON NOT NULL,\n\t\tEVENT_STATUS VARCHAR(32) NOT NULL,\n\t\tEVENT_ID VARCHAR(64) NOT NULL,\n\t\tEVENT_DATA BLOB,\n\t\tEVENT_START TIMESTAMP DEFAULT NULL,\n\t\tSUMMARY_DATA BLOB,\n\t\tCREATE_TIME TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,\n\t\tUPDATE_TIME TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\tVERSION BIGINT(64) UNSIGNED NOT NULL,\n\t\tPRIMARY KEY (ID),\n\t\tUNIQUE KEY timer_key(NAMESPACE, TIMER_KEY),\n\t\tKEY hook_class(HOOK_CLASS)\n\t)"] [user=]
[2024/05/15 17:10:14.652 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:93, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:92, RowCount:0, ArgLen:2, start time: 2024-05-15 17:10:14.651 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:10:14.652 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:93, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:92, RowCount:0, ArgLen:2, start time: 2024-05-15 17:10:14.651 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS `mysql`.`tidb_timers` (\n\t\tID BIGINT(64) UNSIGNED NOT NULL AUTO_INCREMENT,\n\t\tNAMESPACE VARCHAR(256) NOT NULL,\n\t\tTIMER_KEY VARCHAR(256) NOT NULL,\n\t\tTIMER_DATA BLOB,\n\t\tTIMEZONE VARCHAR(64) NOT NULL,\n\t\tSCHED_POLICY_TYPE VARCHAR(32) NOT NULL,\n\t\tSCHED_POLICY_EXPR VARCHAR(256) NOT NULL,\n\t\tHOOK_CLASS VARCHAR(64) NOT NULL,\n\t\tWATERMARK TIMESTAMP DEFAULT NULL,\n\t\tENABLE TINYINT(2) NOT NULL,\n\t\tTIMER_EXT JSON NOT NULL,\n\t\tEVENT_STATUS VARCHAR(32) NOT NULL,\n\t\tEVENT_ID VARCHAR(64) NOT NULL,\n\t\tEVENT_DATA BLOB,\n\t\tEVENT_START TIMESTAMP DEFAULT NULL,\n\t\tSUMMARY_DATA BLOB,\n\t\tCREATE_TIME TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,\n\t\tUPDATE_TIME TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\tVERSION BIGINT(64) UNSIGNED NOT NULL,\n\t\tPRIMARY KEY (ID),\n\t\tUNIQUE KEY timer_key(NAMESPACE, TIMER_KEY),\n\t\tKEY hook_class(HOOK_CLASS)\n\t)"]
[2024/05/15 17:10:14.658 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=93] [category=ddl] [job="ID:93, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:92, RowCount:0, ArgLen:0, start time: 2024-05-15 17:10:14.651 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:10:14.662 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=45] [neededSchemaVersion=46] ["start time"=497.167s] [gotSchemaVersion=46] [phyTblIDs="[92]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:10:14.665 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:10:14.665 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=93] [version=46]
[2024/05/15 17:10:14.666 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=46] ["take time"=4.0155ms] [job="ID:93, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:92, RowCount:0, ArgLen:2, start time: 2024-05-15 17:10:14.651 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:10:14.670 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=93] [job="ID:93, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:92, RowCount:0, ArgLen:0, start time: 2024-05-15 17:10:14.651 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:10:14.672 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=93]
[2024/05/15 17:10:14.672 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:10:14.673 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=46] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_runaway_watch_done (\n\t\tid BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n\t\trecord_id BIGINT(20) not null,\n\t\tresource_group_name varchar(32) not null,\n\t\tstart_time datetime(6) NOT NULL,\n\t\tend_time datetime(6),\n\t\twatch bigint(10) NOT NULL,\n\t\twatch_text TEXT NOT NULL,\n\t\tsource varchar(512) NOT NULL,\n\t\taction bigint(10),\n\t\tdone_time TIMESTAMP(6) NOT NULL\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"] [user=]
[2024/05/15 17:10:14.675 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:95, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:94, RowCount:0, ArgLen:2, start time: 2024-05-15 17:10:14.674 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:10:14.675 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:95, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:94, RowCount:0, ArgLen:2, start time: 2024-05-15 17:10:14.674 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_runaway_watch_done (\n\t\tid BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n\t\trecord_id BIGINT(20) not null,\n\t\tresource_group_name varchar(32) not null,\n\t\tstart_time datetime(6) NOT NULL,\n\t\tend_time datetime(6),\n\t\twatch bigint(10) NOT NULL,\n\t\twatch_text TEXT NOT NULL,\n\t\tsource varchar(512) NOT NULL,\n\t\taction bigint(10),\n\t\tdone_time TIMESTAMP(6) NOT NULL\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"]
[2024/05/15 17:10:14.679 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=95] [category=ddl] [job="ID:95, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:94, RowCount:0, ArgLen:0, start time: 2024-05-15 17:10:14.674 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:10:14.681 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=46] [neededSchemaVersion=47] ["start time"=399.542s] [gotSchemaVersion=47] [phyTblIDs="[94]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:10:14.682 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:10:14.682 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=95] [version=47]
[2024/05/15 17:10:14.684 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=47] ["take time"=2.722458ms] [job="ID:95, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:94, RowCount:0, ArgLen:2, start time: 2024-05-15 17:10:14.674 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:10:14.689 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=95] [job="ID:95, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:94, RowCount:0, ArgLen:0, start time: 2024-05-15 17:10:14.674 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:10:14.691 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=95]
[2024/05/15 17:10:14.691 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:10:14.691 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=47] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.dist_framework_meta (\n        host VARCHAR(261) NOT NULL PRIMARY KEY,\n        role VARCHAR(64),\n        cpu_count int default 0,\n        keyspace_id bigint(8) NOT NULL DEFAULT -1\n    );"] [user=]
[2024/05/15 17:10:14.693 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:97, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:96, RowCount:0, ArgLen:2, start time: 2024-05-15 17:10:14.693 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:10:14.694 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:97, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:96, RowCount:0, ArgLen:2, start time: 2024-05-15 17:10:14.693 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.dist_framework_meta (\n        host VARCHAR(261) NOT NULL PRIMARY KEY,\n        role VARCHAR(64),\n        cpu_count int default 0,\n        keyspace_id bigint(8) NOT NULL DEFAULT -1\n    );"]
[2024/05/15 17:10:14.699 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=97] [category=ddl] [job="ID:97, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:96, RowCount:0, ArgLen:0, start time: 2024-05-15 17:10:14.693 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:10:14.702 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=47] [neededSchemaVersion=48] ["start time"=324.25s] [gotSchemaVersion=48] [phyTblIDs="[96]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:10:14.703 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:10:14.703 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=97] [version=48]
[2024/05/15 17:10:14.705 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=48] ["take time"=3.116792ms] [job="ID:97, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:96, RowCount:0, ArgLen:2, start time: 2024-05-15 17:10:14.693 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:10:14.710 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=97] [job="ID:97, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:96, RowCount:0, ArgLen:0, start time: 2024-05-15 17:10:14.693 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:10:14.712 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=97]
[2024/05/15 17:10:14.712 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:10:14.713 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=48] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.request_unit_by_group (\n\t\tstart_time TIMESTAMP(6) NOT NULL,\n\t\tend_time TIMESTAMP(6) NOT NULL,\n\t\tresource_group VARCHAR(32) NOT null,\n\t\ttotal_ru bigint(64) UNSIGNED NOT NULL,\n\t\tPRIMARY KEY (start_time, end_time, resource_group),\n\t\tKEY (resource_group)\n\t);"] [user=]
[2024/05/15 17:10:14.716 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:99, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:98, RowCount:0, ArgLen:2, start time: 2024-05-15 17:10:14.715 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:10:14.716 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:99, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:98, RowCount:0, ArgLen:2, start time: 2024-05-15 17:10:14.715 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.request_unit_by_group (\n\t\tstart_time TIMESTAMP(6) NOT NULL,\n\t\tend_time TIMESTAMP(6) NOT NULL,\n\t\tresource_group VARCHAR(32) NOT null,\n\t\ttotal_ru bigint(64) UNSIGNED NOT NULL,\n\t\tPRIMARY KEY (start_time, end_time, resource_group),\n\t\tKEY (resource_group)\n\t);"]
[2024/05/15 17:10:14.728 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=99] [category=ddl] [job="ID:99, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:98, RowCount:0, ArgLen:0, start time: 2024-05-15 17:10:14.715 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:10:14.732 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=48] [neededSchemaVersion=49] ["start time"=808.625s] [gotSchemaVersion=49] [phyTblIDs="[98]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:10:14.733 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:10:14.733 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=99] [version=49]
[2024/05/15 17:10:14.735 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=49] ["take time"=4.048083ms] [job="ID:99, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:98, RowCount:0, ArgLen:2, start time: 2024-05-15 17:10:14.715 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:10:14.740 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=99] [job="ID:99, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:98, RowCount:0, ArgLen:0, start time: 2024-05-15 17:10:14.715 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:10:14.743 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=99]
[2024/05/15 17:10:14.743 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:10:14.743 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=49] [cur_db=mysql] [sql="CREATE DATABASE IF NOT EXISTS sys;"] [user=]
[2024/05/15 17:10:14.747 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:101, Type:create schema, State:queueing, SchemaState:none, SchemaID:100, TableID:0, RowCount:0, ArgLen:1, start time: 2024-05-15 17:10:14.744 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:10:14.747 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:101, Type:create schema, State:queueing, SchemaState:none, SchemaID:100, TableID:0, RowCount:0, ArgLen:1, start time: 2024-05-15 17:10:14.744 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE DATABASE IF NOT EXISTS sys;"]
[2024/05/15 17:10:14.752 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=101] [category=ddl] [job="ID:101, Type:create schema, State:queueing, SchemaState:none, SchemaID:100, TableID:0, RowCount:0, ArgLen:0, start time: 2024-05-15 17:10:14.744 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:10:14.754 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=49] [neededSchemaVersion=50] ["start time"=42.292s] [gotSchemaVersion=50] [phyTblIDs="[]"] [actionTypes="[]"] [diffTypes="[\"create schema\"]"]
[2024/05/15 17:10:14.755 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:10:14.755 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=101] [version=50]
[2024/05/15 17:10:14.756 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=50] ["take time"=2.070208ms] [job="ID:101, Type:create schema, State:done, SchemaState:public, SchemaID:100, TableID:0, RowCount:0, ArgLen:1, start time: 2024-05-15 17:10:14.744 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:10:14.760 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=101] [job="ID:101, Type:create schema, State:synced, SchemaState:public, SchemaID:100, TableID:0, RowCount:0, ArgLen:0, start time: 2024-05-15 17:10:14.744 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:10:14.762 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=101]
[2024/05/15 17:10:14.762 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:10:14.764 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:103, Type:create view, State:queueing, SchemaState:none, SchemaID:100, TableID:102, RowCount:0, ArgLen:3, start time: 2024-05-15 17:10:14.763 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:10:14.764 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:103, Type:create view, State:queueing, SchemaState:none, SchemaID:100, TableID:102, RowCount:0, ArgLen:3, start time: 2024-05-15 17:10:14.763 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE OR REPLACE VIEW sys.schema_unused_indexes AS\n\t\tSELECT\n\t\t\ttable_schema as object_schema,\n\t\t\ttable_name as object_name,\n\t\t\tindex_name\n\t\tFROM information_schema.cluster_tidb_index_usage\n\t\tWHERE\n\t\t\ttable_schema not in ('sys', 'mysql', 'INFORMATION_SCHEMA', 'PERFORMANCE_SCHEMA') and\n\t\t\tindex_name != 'PRIMARY'\n\t\tGROUP BY table_schema, table_name, index_name\n\t\tHAVING\n\t\t\tsum(last_access_time) is null;"]
[2024/05/15 17:10:14.768 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=103] [category=ddl] [job="ID:103, Type:create view, State:queueing, SchemaState:none, SchemaID:100, TableID:102, RowCount:0, ArgLen:0, start time: 2024-05-15 17:10:14.763 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:10:14.769 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=50] [neededSchemaVersion=51] ["start time"=153.584s] [gotSchemaVersion=51] [phyTblIDs="[102]"] [actionTypes="[21]"] [diffTypes="[\"create view\"]"]
[2024/05/15 17:10:14.770 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:10:14.770 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=103] [version=51]
[2024/05/15 17:10:14.771 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=51] ["take time"=2.096083ms] [job="ID:103, Type:create view, State:done, SchemaState:public, SchemaID:100, TableID:102, RowCount:0, ArgLen:3, start time: 2024-05-15 17:10:14.763 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:10:14.776 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=103] [job="ID:103, Type:create view, State:synced, SchemaState:public, SchemaID:100, TableID:102, RowCount:0, ArgLen:0, start time: 2024-05-15 17:10:14.763 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:10:14.777 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=103]
[2024/05/15 17:10:14.778 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:10:14.778 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=0] ["to ID"=1] ["table ID"=4] ["database ID"=1]
[2024/05/15 17:10:14.782 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=0] ["to ID"=655] ["table ID"=16] ["database ID"=1]
[2024/05/15 17:10:14.786 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=0] ["to ID"=1] ["table ID"=18] ["database ID"=1]
[2024/05/15 17:10:14.786 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1] ["to ID"=2] ["table ID"=18] ["database ID"=1]
[2024/05/15 17:10:14.786 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2] ["to ID"=3] ["table ID"=18] ["database ID"=1]
[2024/05/15 17:10:14.786 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3] ["to ID"=4] ["table ID"=18] ["database ID"=1]
[2024/05/15 17:10:14.787 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=4] ["to ID"=5] ["table ID"=18] ["database ID"=1]
[2024/05/15 17:10:14.790 +08:00] [INFO] [bootstrap.go:745] ["bootstrap successful"] ["take time"=1.632476125s]
[2024/05/15 17:10:14.790 +08:00] [INFO] [mock.go:106] ["owner manager is canceled"] [category=ddl] [ID=95de9e83-8845-43e1-8196-47fc8a81ec3d] [ownerKey=/tidb/ddl/fg/owner]
[2024/05/15 17:10:14.790 +08:00] [INFO] [ddl_workerpool.go:82] ["closing workerPool"] [category=ddl]
[2024/05/15 17:10:14.790 +08:00] [INFO] [ddl_worker.go:186] ["DDL worker closed"] [worker="worker 2, tp add index"] [category=ddl] ["take time"=708ns]
[2024/05/15 17:10:14.790 +08:00] [INFO] [ddl_workerpool.go:82] ["closing workerPool"] [category=ddl]
[2024/05/15 17:10:14.790 +08:00] [INFO] [ddl_worker.go:186] ["DDL worker closed"] [worker="worker 1, tp general"] [category=ddl] ["take time"=458ns]
[2024/05/15 17:10:14.790 +08:00] [INFO] [ddl_workerpool.go:82] ["closing workerPool"] [category=ddl]
[2024/05/15 17:10:14.790 +08:00] [INFO] [delete_range.go:162] ["closing delRange"] [category=ddl]
[2024/05/15 17:10:14.790 +08:00] [INFO] [session_pool.go:99] ["closing session pool"] [category=ddl]
[2024/05/15 17:10:14.791 +08:00] [INFO] [ddl.go:951] ["DDL closed"] [category=ddl] [ID=95de9e83-8845-43e1-8196-47fc8a81ec3d] ["take time"=931.166s]
[2024/05/15 17:10:14.791 +08:00] [INFO] [ddl.go:769] ["stop DDL"] [category=ddl] [ID=95de9e83-8845-43e1-8196-47fc8a81ec3d]
[2024/05/15 17:10:14.792 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=mdlCheckLoop]
[2024/05/15 17:10:14.792 +08:00] [INFO] [domain.go:915] ["loadSchemaInLoop exited."]
[2024/05/15 17:10:14.792 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=loadSchemaInLoop]
[2024/05/15 17:10:14.792 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=runawayStartLoop]
[2024/05/15 17:10:14.792 +08:00] [INFO] [domain.go:769] ["topologySyncerKeeper exited."]
[2024/05/15 17:10:14.792 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=topologySyncerKeeper]
[2024/05/15 17:10:14.792 +08:00] [INFO] [domain.go:745] ["globalConfigSyncerKeeper exited."]
[2024/05/15 17:10:14.792 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=globalConfigSyncerKeeper]
[2024/05/15 17:10:14.792 +08:00] [INFO] [domain.go:719] ["infoSyncerKeeper exited."]
[2024/05/15 17:10:14.792 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=infoSyncerKeeper]
[2024/05/15 17:10:14.792 +08:00] [INFO] [domain.go:691] ["topNSlowQueryLoop exited."]
[2024/05/15 17:10:14.792 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=topNSlowQueryLoop]
[2024/05/15 17:10:14.792 +08:00] [INFO] [domain.go:1369] ["closestReplicaReadCheckLoop exited."]
[2024/05/15 17:10:14.792 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=closestReplicaReadCheckLoop]
[2024/05/15 17:10:14.792 +08:00] [INFO] [domain.go:1082] ["domain closed"] ["take time"=2.018916ms]
[2024/05/15 17:10:14.792 +08:00] [INFO] [tidb.go:80] ["new domain"] [store=070b74cc-0179-40a6-bff4-d2ccc5557208] ["ddl lease"=500ms] ["stats lease"=-1ns]
[2024/05/15 17:10:14.795 +08:00] [WARN] [controller.go:198] ["[resource group controller] server does not save config, load config failed"]
[2024/05/15 17:10:14.795 +08:00] [INFO] [controller.go:185] ["load resource controller config"] [config="{\"degraded-mode-wait-duration\":\"0s\",\"ltb-max-wait-duration\":\"30s\",\"wait-retry-interval\":\"50ms\",\"wait-retry-times\":10,\"request-unit\":{\"read-base-cost\":0.125,\"read-per-batch-base-cost\":0.5,\"read-cost-per-byte\":0.0000152587890625,\"write-base-cost\":1,\"write-per-batch-base-cost\":1,\"write-cost-per-byte\":0.0009765625,\"read-cpu-ms-cost\":0.3333333333333333},\"enable-controller-trace-log\":\"false\"}"] [ru-config="{\"ReadBaseCost\":0.125,\"ReadPerBatchBaseCost\":0.5,\"ReadBytesCost\":0.0000152587890625,\"WriteBaseCost\":1,\"WritePerBatchBaseCost\":1,\"WriteBytesCost\":0.0009765625,\"CPUMsCost\":0.3333333333333333,\"LTBMaxWaitDuration\":30000000000,\"WaitRetryInterval\":50000000,\"WaitRetryTimes\":10,\"DegradedModeWaitDuration\":0}"]
[2024/05/15 17:10:14.823 +08:00] [INFO] [domain.go:323] ["full load InfoSchema success"] [currentSchemaVersion=0] [neededSchemaVersion=51] ["start time"=28.284ms]
[2024/05/15 17:10:14.827 +08:00] [INFO] [domain.go:643] ["full load and reset schema validator"]
[2024/05/15 17:10:14.827 +08:00] [INFO] [ddl.go:818] ["start DDL"] [category=ddl] [ID=6134c7fe-f0e2-4c0f-a28c-0125fc1c8e78] [runWorker=true]
[2024/05/15 17:10:14.827 +08:00] [INFO] [ddl.go:777] ["start delRangeManager OK"] [category=ddl] ["is a emulator"=true]
[2024/05/15 17:10:14.827 +08:00] [WARN] [env.go:51] ["initialize environment failed"] [category=ddl-ingest] ["storage limitation"="only support TiKV storage"] ["current storage"=unistore] ["lightning is initialized"=false]
[2024/05/15 17:10:14.827 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=loadSchemaInLoop]
[2024/05/15 17:10:14.827 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=mdlCheckLoop]
[2024/05/15 17:10:14.827 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=topNSlowQueryLoop]
[2024/05/15 17:10:14.827 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=infoSyncerKeeper]
[2024/05/15 17:10:14.827 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=globalConfigSyncerKeeper]
[2024/05/15 17:10:14.827 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=runawayStartLoop]
[2024/05/15 17:10:14.827 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=requestUnitsWriterLoop]
[2024/05/15 17:10:14.827 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=topologySyncerKeeper]
[2024/05/15 17:10:14.827 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=closestReplicaReadCheckLoop]
[2024/05/15 17:10:14.827 +08:00] [WARN] [domain.go:1334] ["pd / etcd client not provided, won't begin Advancer."]
[2024/05/15 17:10:14.827 +08:00] [INFO] [delete_range.go:172] ["start delRange emulator"] [category=ddl]
[2024/05/15 17:10:14.827 +08:00] [INFO] [job_table.go:334] ["get global state and global state change"] [category=ddl] [oldState=false] [currState=false]
[2024/05/15 17:10:14.827 +08:00] [INFO] [runaway.go:149] ["try to start runaway manager loop"]
[2024/05/15 17:10:14.827 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=requestUnitsWriterLoop]
[2024/05/15 17:10:14.861 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=globalBindHandleWorkerLoop]
[2024/05/15 17:10:14.861 +08:00] [WARN] [sysvar_cache.go:49] ["sysvar cache is empty, triggering rebuild"]
[2024/05/15 17:10:14.862 +08:00] [INFO] [sysvar.go:2748] ["set resource control"] [enable=true]
[2024/05/15 17:10:14.863 +08:00] [INFO] [controller.go:447] ["[resource group controller] create resource group cost controller"] [name=default]
[2024/05/15 17:10:14.870 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=loadPrivilegeInLoop]
[2024/05/15 17:10:14.871 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=LoadSysVarCacheLoop]
[2024/05/15 17:10:14.872 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=dumpFileGcChecker]
[2024/05/15 17:10:14.872 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=indexUsageWorker]
[2024/05/15 17:10:14.872 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=quitStatsOwner]
[2024/05/15 17:10:14.872 +08:00] [INFO] [domain.go:2278] ["start load stats sub workers"] ["worker count"=5]
[2024/05/15 17:10:14.873 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=loadSigningCertLoop]
[2024/05/15 17:10:14.873 +08:00] [INFO] [manager.go:113] ["build task executor manager"] [server-id=:4000] [total-cpu=1] [total-mem=32GiB]
[2024/05/15 17:10:14.873 +08:00] [INFO] [domain.go:2078] ["dumpFileGcChecker started"]
[2024/05/15 17:10:14.875 +08:00] [INFO] [task_manager.go:217] ["scale ttl worker"] [ttl-worker=job-manager] [ttl-worker=task-manager] [originalCount=0] [newCount=4]
[2024/05/15 17:10:14.875 +08:00] [INFO] [task_manager.go:217] ["scale ttl worker"] [ttl-worker=job-manager] [ttl-worker=task-manager] [originalCount=0] [newCount=4]
[2024/05/15 17:10:14.877 +08:00] [INFO] [job_table.go:334] ["get global state and global state change"] [category=ddl] [oldState=false] [currState=false]
[2024/05/15 17:10:14.877 +08:00] [INFO] [job_table.go:349] ["the owner sets owner operator value"] [category=ddl] [ownerOp=none]
[2024/05/15 17:10:14.878 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=0] ["to ID"=1] ["table ID"=96] ["database ID"=1]
[2024/05/15 17:10:14.878 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=distTaskFrameworkLoop]
[2024/05/15 17:10:14.881 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=5000] ["to ID"=5001] ["table ID"=16] ["database ID"=1]
[2024/05/15 17:10:14.881 +08:00] [INFO] [manager.go:146] ["task executor manager start"] [server-id=:4000]
[2024/05/15 17:10:14.881 +08:00] [INFO] [domain.go:1533] ["dist task executor manager started"]
[2024/05/15 17:10:14.884 +08:00] [INFO] [set.go:170] ["set global var"] [conn=1] [name=tidb_schema_cache_size] [val=1024]
[2024/05/15 17:10:14.884 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=1] [schemaVersion=51] [cur_db=test] [sql="drop table if exists t1;"] [user=]
[2024/05/15 17:10:14.884 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=1] [schemaVersion=51] [cur_db=test] [sql="create table t1(c1 varchar(100), c2 varchar(100) AS (lower(c1)));"] [user=]
[2024/05/15 17:10:14.887 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:105, Type:create table, State:queueing, SchemaState:none, SchemaID:2, TableID:104, RowCount:0, ArgLen:2, start time: 2024-05-15 17:10:14.887 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:10:14.887 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:105, Type:create table, State:queueing, SchemaState:none, SchemaID:2, TableID:104, RowCount:0, ArgLen:2, start time: 2024-05-15 17:10:14.887 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="create table t1(c1 varchar(100), c2 varchar(100) AS (lower(c1)));"]
[2024/05/15 17:10:14.929 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=105] [conn=1] [category=ddl] [job="ID:105, Type:create table, State:queueing, SchemaState:none, SchemaID:2, TableID:104, RowCount:0, ArgLen:0, start time: 2024-05-15 17:10:14.887 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:10:14.932 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=51] [neededSchemaVersion=52] ["start time"=195.791s] [gotSchemaVersion=52] [phyTblIDs="[104]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:10:14.932 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=105] [version=52]
[2024/05/15 17:10:14.934 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=52] ["take time"=2.368292ms] [job="ID:105, Type:create table, State:done, SchemaState:public, SchemaID:2, TableID:104, RowCount:0, ArgLen:2, start time: 2024-05-15 17:10:14.887 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:10:14.939 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=105] [conn=1] [job="ID:105, Type:create table, State:synced, SchemaState:public, SchemaID:2, TableID:104, RowCount:0, ArgLen:0, start time: 2024-05-15 17:10:14.887 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:10:14.943 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=105]
[2024/05/15 17:10:14.943 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:10:14.950 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=0] ["to ID"=1] ["table ID"=104] ["database ID"=2]
[2024/05/15 17:10:14.951 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=1] [schemaVersion=52] [cur_db=test] [sql="alter table t1 set tiflash replica 1;"] [user=]
[2024/05/15 17:10:14.954 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:106, Type:set tiflash replica, State:queueing, SchemaState:none, SchemaID:2, TableID:104, RowCount:0, ArgLen:1, start time: 2024-05-15 17:10:14.952 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:10:14.955 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:106, Type:set tiflash replica, State:queueing, SchemaState:none, SchemaID:2, TableID:104, RowCount:0, ArgLen:1, start time: 2024-05-15 17:10:14.952 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="alter table t1 set tiflash replica 1;"]
[2024/05/15 17:10:14.971 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=106] [conn=1] [category=ddl] [job="ID:106, Type:set tiflash replica, State:queueing, SchemaState:none, SchemaID:2, TableID:104, RowCount:0, ArgLen:0, start time: 2024-05-15 17:10:14.952 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:10:14.971 +08:00] [INFO] [table.go:1391] ["Set TiFlash replica pd rule"] [category=ddl] [tableID=104]
[2024/05/15 17:10:14.971 +08:00] [INFO] [info.go:1211] [ConfigureTiFlashPDForTable] [tableID=104] [count=1]
[2024/05/15 17:10:14.974 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=52] [neededSchemaVersion=53] ["start time"=631.75s] [gotSchemaVersion=53] [phyTblIDs="[]"] [actionTypes="[]"] [diffTypes="[]"]
[2024/05/15 17:10:14.976 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=106] [version=53]
[2024/05/15 17:10:14.978 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=53] ["take time"=4.391958ms] [job="ID:106, Type:set tiflash replica, State:done, SchemaState:public, SchemaID:2, TableID:104, RowCount:0, ArgLen:1, start time: 2024-05-15 17:10:14.952 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:10:14.984 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=106] [conn=1] [job="ID:106, Type:set tiflash replica, State:synced, SchemaState:public, SchemaID:2, TableID:104, RowCount:0, ArgLen:0, start time: 2024-05-15 17:10:14.952 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:10:14.986 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=106]
[2024/05/15 17:10:14.986 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:10:14.987 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:107, Type:update tiflash replica status, State:queueing, SchemaState:none, SchemaID:2, TableID:104, RowCount:0, ArgLen:2, start time: 2024-05-15 17:10:14.987 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:10:14.987 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:107, Type:update tiflash replica status, State:queueing, SchemaState:none, SchemaID:2, TableID:104, RowCount:0, ArgLen:2, start time: 2024-05-15 17:10:14.987 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query=]
[2024/05/15 17:10:14.992 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=107] [conn=1] [category=ddl] [job="ID:107, Type:update tiflash replica status, State:queueing, SchemaState:none, SchemaID:2, TableID:104, RowCount:0, ArgLen:0, start time: 2024-05-15 17:10:14.987 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:10:14.992 +08:00] [INFO] [table.go:1486] ["TiFlash replica available"] [category=ddl] [tableID=104]
[2024/05/15 17:10:14.993 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=53] [neededSchemaVersion=54] ["start time"=166.791s] [gotSchemaVersion=54] [phyTblIDs="[]"] [actionTypes="[]"] [diffTypes="[]"]
[2024/05/15 17:10:14.994 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=107] [version=54]
[2024/05/15 17:10:14.995 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=54] ["take time"=2.264833ms] [job="ID:107, Type:update tiflash replica status, State:done, SchemaState:public, SchemaID:2, TableID:104, RowCount:0, ArgLen:2, start time: 2024-05-15 17:10:14.987 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:10:14.999 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=107] [conn=1] [job="ID:107, Type:update tiflash replica status, State:synced, SchemaState:public, SchemaID:2, TableID:104, RowCount:0, ArgLen:0, start time: 2024-05-15 17:10:14.987 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:10:15.002 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=107]
[2024/05/15 17:10:15.002 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:10:15.002 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=1] [schemaVersion=54] [cur_db=test] [sql="drop table if exists t2;"] [user=]
[2024/05/15 17:10:15.003 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=1] [schemaVersion=54] [cur_db=test] [sql="create table t2(c1 int, c2 varchar(100));"] [user=]
[2024/05/15 17:10:15.005 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:109, Type:create table, State:queueing, SchemaState:none, SchemaID:2, TableID:108, RowCount:0, ArgLen:2, start time: 2024-05-15 17:10:15.004 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:10:15.005 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:109, Type:create table, State:queueing, SchemaState:none, SchemaID:2, TableID:108, RowCount:0, ArgLen:2, start time: 2024-05-15 17:10:15.004 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="create table t2(c1 int, c2 varchar(100));"]
[2024/05/15 17:10:15.010 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=109] [conn=1] [category=ddl] [job="ID:109, Type:create table, State:queueing, SchemaState:none, SchemaID:2, TableID:108, RowCount:0, ArgLen:0, start time: 2024-05-15 17:10:15.004 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:10:15.013 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=54] [neededSchemaVersion=55] ["start time"=257.25s] [gotSchemaVersion=55] [phyTblIDs="[108]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:10:15.014 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=109] [version=55]
[2024/05/15 17:10:15.016 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=55] ["take time"=2.747417ms] [job="ID:109, Type:create table, State:done, SchemaState:public, SchemaID:2, TableID:108, RowCount:0, ArgLen:2, start time: 2024-05-15 17:10:15.004 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:10:15.020 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=109] [conn=1] [job="ID:109, Type:create table, State:synced, SchemaState:public, SchemaID:2, TableID:108, RowCount:0, ArgLen:0, start time: 2024-05-15 17:10:15.004 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:10:15.022 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=109]
[2024/05/15 17:10:15.022 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:10:15.023 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=0] ["to ID"=2] ["table ID"=108] ["database ID"=2]
[2024/05/15 17:10:15.023 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=1] [schemaVersion=55] [cur_db=test] [sql="alter table t2 set tiflash replica 1;"] [user=]
[2024/05/15 17:10:15.025 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:110, Type:set tiflash replica, State:queueing, SchemaState:none, SchemaID:2, TableID:108, RowCount:0, ArgLen:1, start time: 2024-05-15 17:10:15.024 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:10:15.025 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:110, Type:set tiflash replica, State:queueing, SchemaState:none, SchemaID:2, TableID:108, RowCount:0, ArgLen:1, start time: 2024-05-15 17:10:15.024 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="alter table t2 set tiflash replica 1;"]
[2024/05/15 17:10:15.030 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=110] [conn=1] [category=ddl] [job="ID:110, Type:set tiflash replica, State:queueing, SchemaState:none, SchemaID:2, TableID:108, RowCount:0, ArgLen:0, start time: 2024-05-15 17:10:15.024 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:10:15.031 +08:00] [INFO] [table.go:1391] ["Set TiFlash replica pd rule"] [category=ddl] [tableID=108]
[2024/05/15 17:10:15.031 +08:00] [INFO] [info.go:1211] [ConfigureTiFlashPDForTable] [tableID=108] [count=1]
[2024/05/15 17:10:15.033 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=55] [neededSchemaVersion=56] ["start time"=147.042s] [gotSchemaVersion=56] [phyTblIDs="[]"] [actionTypes="[]"] [diffTypes="[]"]
[2024/05/15 17:10:15.034 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=110] [version=56]
[2024/05/15 17:10:15.035 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=56] ["take time"=2.244791ms] [job="ID:110, Type:set tiflash replica, State:done, SchemaState:public, SchemaID:2, TableID:108, RowCount:0, ArgLen:1, start time: 2024-05-15 17:10:15.024 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:10:15.040 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=110] [conn=1] [job="ID:110, Type:set tiflash replica, State:synced, SchemaState:public, SchemaID:2, TableID:108, RowCount:0, ArgLen:0, start time: 2024-05-15 17:10:15.024 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:10:15.042 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=110]
[2024/05/15 17:10:15.042 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:10:15.044 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:111, Type:update tiflash replica status, State:queueing, SchemaState:none, SchemaID:2, TableID:108, RowCount:0, ArgLen:2, start time: 2024-05-15 17:10:15.043 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:10:15.044 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:111, Type:update tiflash replica status, State:queueing, SchemaState:none, SchemaID:2, TableID:108, RowCount:0, ArgLen:2, start time: 2024-05-15 17:10:15.043 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query=]
[2024/05/15 17:10:15.047 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=111] [conn=1] [category=ddl] [job="ID:111, Type:update tiflash replica status, State:queueing, SchemaState:none, SchemaID:2, TableID:108, RowCount:0, ArgLen:0, start time: 2024-05-15 17:10:15.043 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:10:15.048 +08:00] [INFO] [table.go:1486] ["TiFlash replica available"] [category=ddl] [tableID=108]
[2024/05/15 17:10:15.049 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=56] [neededSchemaVersion=57] ["start time"=139.709s] [gotSchemaVersion=57] [phyTblIDs="[]"] [actionTypes="[]"] [diffTypes="[]"]
[2024/05/15 17:10:15.050 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=111] [version=57]
[2024/05/15 17:10:15.051 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=57] ["take time"=2.300125ms] [job="ID:111, Type:update tiflash replica status, State:done, SchemaState:public, SchemaID:2, TableID:108, RowCount:0, ArgLen:2, start time: 2024-05-15 17:10:15.043 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:10:15.057 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=111] [conn=1] [job="ID:111, Type:update tiflash replica status, State:synced, SchemaState:public, SchemaID:2, TableID:108, RowCount:0, ArgLen:0, start time: 2024-05-15 17:10:15.043 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:10:15.060 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=111]
[2024/05/15 17:10:15.060 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:10:15.060 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=1] [schemaVersion=57] [cur_db=test] [sql="alter table t2 add index idx2((lower(c2)));"] [user=]
[2024/05/15 17:10:15.062 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:112, Type:add index, State:queueing, SchemaState:none, SchemaID:2, TableID:108, RowCount:0, ArgLen:6, start time: 2024-05-15 17:10:15.061 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false, UniqueWarnings:0; "] [table=true]
[2024/05/15 17:10:15.062 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:112, Type:add index, State:queueing, SchemaState:none, SchemaID:2, TableID:108, RowCount:0, ArgLen:6, start time: 2024-05-15 17:10:15.061 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false, UniqueWarnings:0"] [query="alter table t2 add index idx2((lower(c2)));"]
[2024/05/15 17:10:15.067 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 4, tp add index"] [category=ddl] [jobID=112] [conn=1] [category=ddl] [job="ID:112, Type:add index, State:queueing, SchemaState:none, SchemaID:2, TableID:108, RowCount:0, ArgLen:0, start time: 2024-05-15 17:10:15.061 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false, UniqueWarnings:0"]
[2024/05/15 17:10:15.067 +08:00] [INFO] [index.go:654] ["run add index job"] [category=ddl] [job="ID:112, Type:add index, State:running, SchemaState:none, SchemaID:2, TableID:108, RowCount:0, ArgLen:6, start time: 2024-05-15 17:10:15.061 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false, UniqueWarnings:0"] [indexInfo="{\"id\":1,\"idx_name\":{\"O\":\"idx2\",\"L\":\"idx2\"},\"tbl_name\":{\"O\":\"\",\"L\":\"\"},\"idx_cols\":[{\"name\":{\"O\":\"_V$_idx2_0\",\"L\":\"_v$_idx2_0\"},\"offset\":2,\"length\":-1}],\"state\":0,\"backfill_state\":0,\"comment\":\"\",\"index_type\":1,\"is_unique\":false,\"is_primary\":false,\"is_invisible\":false,\"is_global\":false,\"mv_index\":false}"]
[2024/05/15 17:10:15.067 +08:00] [INFO] [index.go:817] ["fallback to txn-merge backfill process"] [category=ddl] ["lightning env initialized"=false]
[2024/05/15 17:10:15.069 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=57] [neededSchemaVersion=58] ["start time"=230.375s] [gotSchemaVersion=58] [phyTblIDs="[108]"] [actionTypes="[7]"] [diffTypes="[\"add index\"]"]
[2024/05/15 17:10:15.070 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=112] [version=58]
[2024/05/15 17:10:15.071 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=58] ["take time"=2.165416ms] [job="ID:112, Type:add index, State:running, SchemaState:delete only, SchemaID:2, TableID:108, RowCount:0, ArgLen:6, start time: 2024-05-15 17:10:15.061 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false, UniqueWarnings:0"]
[2024/05/15 17:10:15.075 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 4, tp add index"] [category=ddl] [jobID=112] [conn=1] [category=ddl] [job="ID:112, Type:add index, State:running, SchemaState:delete only, SchemaID:2, TableID:108, RowCount:0, ArgLen:0, start time: 2024-05-15 17:10:15.061 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false, UniqueWarnings:0"]
[2024/05/15 17:10:15.077 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=58] [neededSchemaVersion=59] ["start time"=253.916s] [gotSchemaVersion=59] [phyTblIDs="[108]"] [actionTypes="[7]"] [diffTypes="[\"add index\"]"]
[2024/05/15 17:10:15.078 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=112] [version=59]
[2024/05/15 17:10:15.080 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=59] ["take time"=3.168208ms] [job="ID:112, Type:add index, State:running, SchemaState:write only, SchemaID:2, TableID:108, RowCount:0, ArgLen:6, start time: 2024-05-15 17:10:15.061 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false, UniqueWarnings:0"]
[2024/05/15 17:10:15.085 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 4, tp add index"] [category=ddl] [jobID=112] [conn=1] [category=ddl] [job="ID:112, Type:add index, State:running, SchemaState:write only, SchemaID:2, TableID:108, RowCount:0, ArgLen:0, start time: 2024-05-15 17:10:15.061 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false, UniqueWarnings:0"]
[2024/05/15 17:10:15.089 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=59] [neededSchemaVersion=60] ["start time"=226.042s] [gotSchemaVersion=60] [phyTblIDs="[108]"] [actionTypes="[7]"] [diffTypes="[\"add index\"]"]
[2024/05/15 17:10:15.090 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=112] [version=60]
[2024/05/15 17:10:15.091 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=60] ["take time"=2.238ms] [job="ID:112, Type:add index, State:running, SchemaState:write reorganization, SchemaID:2, TableID:108, RowCount:0, ArgLen:6, start time: 2024-05-15 17:10:15.061 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false, UniqueWarnings:0"]
[2024/05/15 17:10:15.096 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 4, tp add index"] [category=ddl] [jobID=112] [conn=1] [category=ddl] [job="ID:112, Type:add index, State:running, SchemaState:write reorganization, SchemaID:2, TableID:108, RowCount:0, ArgLen:0, start time: 2024-05-15 17:10:15.061 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false, UniqueWarnings:0"]
[2024/05/15 17:10:15.097 +08:00] [INFO] [index.go:857] ["index backfill state running"] [category=ddl] ["job ID"=112] [table=t2] ["ingest mode"=false] [index=idx2]
[2024/05/15 17:10:15.098 +08:00] [INFO] [reorg.go:726] ["job get table range"] [category=ddl] [jobID=112] [physicalTableID=108] [startKey=74800000000000006c5f728000000000000001] [endKey=74800000000000006c5f72800000000000000200]
[2024/05/15 17:10:15.099 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=0] ["to ID"=1] ["table ID"=281474976710653] ["database ID"=1]
[2024/05/15 17:10:15.100 +08:00] [INFO] [ddl_worker.go:1401] ["schema version doesn't change"] [category=ddl] [jobID=112]
[2024/05/15 17:10:15.103 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 4, tp add index"] [category=ddl] [jobID=112] [conn=1] [category=ddl] [job="ID:112, Type:add index, State:running, SchemaState:write reorganization, SchemaID:2, TableID:108, RowCount:0, ArgLen:0, start time: 2024-05-15 17:10:15.061 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:449777294402387968, LocalMode: false, UniqueWarnings:0"]
[2024/05/15 17:10:15.103 +08:00] [INFO] [index.go:857] ["index backfill state running"] [category=ddl] ["job ID"=112] [table=t2] ["ingest mode"=false] [index=idx2]
[2024/05/15 17:10:15.104 +08:00] [INFO] [index.go:1934] ["start to add table index"] [category=ddl] [job="ID:112, Type:add index, State:running, SchemaState:write reorganization, SchemaID:2, TableID:108, RowCount:0, ArgLen:6, start time: 2024-05-15 17:10:15.061 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:449777294402387968, LocalMode: false, UniqueWarnings:0"] [reorgInfo="CurrElementType:_idx_,CurrElementID:1,StartKey:74800000000000006c5f728000000000000001,EndKey:74800000000000006c5f72800000000000000200,First:false,PhysicalTableID:108,Ingest mode:false"]
[2024/05/15 17:10:15.106 +08:00] [INFO] [backfilling.go:416] ["split table range from PD"] [category=ddl] [physicalTableID=108] ["start key"=74800000000000006c5f728000000000000001] ["end key"=74800000000000006c5f72800000000000000200]
[2024/05/15 17:10:15.107 +08:00] [INFO] [backfilling.go:692] ["start backfill workers to reorg record"] [category=ddl] [type="add index"] [workerCnt=4] [regionCnt=1] [startKey=74800000000000006c5f728000000000000001] [endKey=74800000000000006c5f72800000000000000200]
[2024/05/15 17:10:15.107 +08:00] [INFO] [backfilling.go:475] ["get backfill range task, change end key"] [category=ddl] [id=1] [pTbl=108] ["end key"=74800000000000006c5f72800000000000000200] ["current end key"=74800000000000006c5f72800000000000000200]
[2024/05/15 17:10:15.107 +08:00] [INFO] [backfilling.go:369] ["backfill worker exit"] [category=ddl] [worker="backfill-worker 1, tp add index"] [jobID=112]
[2024/05/15 17:10:15.108 +08:00] [INFO] [backfilling.go:369] ["backfill worker exit"] [category=ddl] [worker="backfill-worker 3, tp add index"] [jobID=112]
[2024/05/15 17:10:15.108 +08:00] [INFO] [backfilling.go:369] ["backfill worker exit"] [category=ddl] [worker="backfill-worker 2, tp add index"] [jobID=112]
[2024/05/15 17:10:15.108 +08:00] [INFO] [backfilling.go:330] ["backfill worker finish task"] [category=ddl] [worker="backfill-worker 0, tp add index"] [task="taskID: 1, physicalTableID: 108, range: [74800000000000006c5f728000000000000001, 74800000000000006c5f72800000000000000200), jobID: 112"] ["added count"=2] ["scan count"=2] ["next key"=74800000000000006c5f72800000000000000200] ["take time"=950.208s]
[2024/05/15 17:10:15.108 +08:00] [INFO] [backfilling.go:369] ["backfill worker exit"] [category=ddl] [worker="backfill-worker 0, tp add index"] [jobID=112]
[2024/05/15 17:10:15.108 +08:00] [INFO] [backfilling.go:632] ["backfill workers successfully processed"] [category=ddl] [element=ID:1,TypeKey:_idx_] ["total added count"=2] ["start key"=74800000000000006c5f728000000000000001]
[2024/05/15 17:10:15.108 +08:00] [INFO] [reorg.go:232] ["run reorg job done"] [category=ddl] ["handled rows"=2]
[2024/05/15 17:10:15.145 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=60] [neededSchemaVersion=61] ["start time"=384.75s] [gotSchemaVersion=61] [phyTblIDs="[108]"] [actionTypes="[7]"] [diffTypes="[\"add index\"]"]
[2024/05/15 17:10:15.146 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=112] [version=61]
[2024/05/15 17:10:15.147 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=61] ["take time"=2.022667ms] [job="ID:112, Type:add index, State:running, SchemaState:write reorganization, SchemaID:2, TableID:108, RowCount:2, ArgLen:6, start time: 2024-05-15 17:10:15.061 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:449777294402387968, LocalMode: false, UniqueWarnings:0"]
[2024/05/15 17:10:15.151 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 4, tp add index"] [category=ddl] [jobID=112] [conn=1] [category=ddl] [job="ID:112, Type:add index, State:running, SchemaState:write reorganization, SchemaID:2, TableID:108, RowCount:2, ArgLen:0, start time: 2024-05-15 17:10:15.061 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:449777294402387968, LocalMode: false, UniqueWarnings:0"]
[2024/05/15 17:10:15.151 +08:00] [INFO] [index.go:880] ["index backfill state ready to merge"] [category=ddl] ["job ID"=112] [table=t2] [index=idx2]
[2024/05/15 17:10:15.153 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=61] [neededSchemaVersion=62] ["start time"=252.333s] [gotSchemaVersion=62] [phyTblIDs="[108]"] [actionTypes="[7]"] [diffTypes="[\"add index\"]"]
[2024/05/15 17:10:15.154 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=112] [version=62]
[2024/05/15 17:10:15.154 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=62] ["take time"=2.014833ms] [job="ID:112, Type:add index, State:running, SchemaState:write reorganization, SchemaID:2, TableID:108, RowCount:2, ArgLen:6, start time: 2024-05-15 17:10:15.061 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false, UniqueWarnings:0"]
[2024/05/15 17:10:15.160 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 4, tp add index"] [category=ddl] [jobID=112] [conn=1] [category=ddl] [job="ID:112, Type:add index, State:running, SchemaState:write reorganization, SchemaID:2, TableID:108, RowCount:2, ArgLen:0, start time: 2024-05-15 17:10:15.061 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false, UniqueWarnings:0"]
[2024/05/15 17:10:15.160 +08:00] [INFO] [reorg.go:726] ["job get table range"] [category=ddl] [jobID=112] [physicalTableID=108] [startKey=74800000000000006c5f69ffff000000000001] [endKey=74800000000000006c5f69ffff000000000001ff]
[2024/05/15 17:10:15.161 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1] ["to ID"=2] ["table ID"=281474976710653] ["database ID"=1]
[2024/05/15 17:10:15.173 +08:00] [INFO] [ddl_worker.go:1401] ["schema version doesn't change"] [category=ddl] [jobID=112]
[2024/05/15 17:10:15.198 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 4, tp add index"] [category=ddl] [jobID=112] [conn=1] [category=ddl] [job="ID:112, Type:add index, State:running, SchemaState:write reorganization, SchemaID:2, TableID:108, RowCount:2, ArgLen:0, start time: 2024-05-15 17:10:15.061 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:449777294418903042, LocalMode: false, UniqueWarnings:0"]
[2024/05/15 17:10:15.201 +08:00] [INFO] [index.go:1931] ["start to merge temp index"] [category=ddl] [job="ID:112, Type:add index, State:running, SchemaState:write reorganization, SchemaID:2, TableID:108, RowCount:2, ArgLen:6, start time: 2024-05-15 17:10:15.061 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:449777294418903042, LocalMode: false, UniqueWarnings:0"] [reorgInfo="CurrElementType:_idx_,CurrElementID:1,StartKey:74800000000000006c5f69ffff000000000001,EndKey:74800000000000006c5f69ffff000000000001ff,First:false,PhysicalTableID:108,Ingest mode:false"]
[2024/05/15 17:10:15.203 +08:00] [INFO] [backfilling.go:416] ["split table range from PD"] [category=ddl] [physicalTableID=108] ["start key"=74800000000000006c5f69ffff000000000001] ["end key"=74800000000000006c5f69ffff000000000001ff]
[2024/05/15 17:10:15.203 +08:00] [INFO] [backfilling.go:692] ["start backfill workers to reorg record"] [category=ddl] [type="merge temporary index"] [workerCnt=4] [regionCnt=1] [startKey=74800000000000006c5f69ffff000000000001] [endKey=74800000000000006c5f69ffff000000000001ff]
[2024/05/15 17:10:15.203 +08:00] [INFO] [backfilling.go:475] ["get backfill range task, change end key"] [category=ddl] [id=1] [pTbl=108] ["end key"=74800000000000006c5f69ffff000000000001ff] ["current end key"=74800000000000006c5f69ffff00000000000100]
[2024/05/15 17:10:15.203 +08:00] [INFO] [backfilling.go:330] ["backfill worker finish task"] [category=ddl] [worker="backfill-worker 0, tp merge temporary index"] [task="taskID: 1, physicalTableID: 108, range: [74800000000000006c5f69ffff000000000001, 74800000000000006c5f69ffff00000000000100), jobID: 112"] ["added count"=0] ["scan count"=0] ["next key"=74800000000000006c5f69ffff0000000000010000] ["take time"=174.292s]
[2024/05/15 17:10:15.203 +08:00] [INFO] [backfilling.go:369] ["backfill worker exit"] [category=ddl] [worker="backfill-worker 0, tp merge temporary index"] [jobID=112]
[2024/05/15 17:10:15.203 +08:00] [INFO] [backfilling.go:369] ["backfill worker exit"] [category=ddl] [worker="backfill-worker 1, tp merge temporary index"] [jobID=112]
[2024/05/15 17:10:15.203 +08:00] [INFO] [backfilling.go:369] ["backfill worker exit"] [category=ddl] [worker="backfill-worker 2, tp merge temporary index"] [jobID=112]
[2024/05/15 17:10:15.203 +08:00] [INFO] [backfilling.go:369] ["backfill worker exit"] [category=ddl] [worker="backfill-worker 3, tp merge temporary index"] [jobID=112]
[2024/05/15 17:10:15.203 +08:00] [INFO] [backfilling.go:632] ["backfill workers successfully processed"] [category=ddl] [element=ID:1,TypeKey:_idx_] ["total added count"=2] ["start key"=74800000000000006c5f69ffff000000000001]
[2024/05/15 17:10:15.204 +08:00] [INFO] [reorg.go:232] ["run reorg job done"] [category=ddl] ["handled rows"=2]
[2024/05/15 17:10:15.238 +08:00] [INFO] [index.go:781] ["run add index job done"] [category=ddl] [charset=utf8mb4] [collation=utf8mb4_bin]
[2024/05/15 17:10:15.240 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=62] [neededSchemaVersion=63] ["start time"=233.5s] [gotSchemaVersion=63] [phyTblIDs="[108]"] [actionTypes="[7]"] [diffTypes="[\"add index\"]"]
[2024/05/15 17:10:15.240 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=112] [version=63]
[2024/05/15 17:10:15.241 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=63] ["take time"=2.014125ms] [job="ID:112, Type:add index, State:done, SchemaState:public, SchemaID:2, TableID:108, RowCount:2, ArgLen:3, start time: 2024-05-15 17:10:15.061 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:449777294418903042, LocalMode: false, UniqueWarnings:0"]
[2024/05/15 17:10:15.248 +08:00] [INFO] [delete_range.go:422] ["insert into delete-range indices"] [category=ddl] [jobID=112] [tableID=108] [indexIDs="[9223090561878065153]"] [comment="add index: physical table ID(s)"]
[2024/05/15 17:10:15.249 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=0] ["to ID"=1] ["table ID"=28] ["database ID"=1]
[2024/05/15 17:10:15.250 +08:00] [INFO] [delete_range.go:112] ["add job into delete-range table"] [category=ddl] [jobID=112] [jobType="add index"]
[2024/05/15 17:10:15.250 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 4, tp add index"] [category=ddl] [jobID=112] [conn=1] [job="ID:112, Type:add index, State:synced, SchemaState:public, SchemaID:2, TableID:108, RowCount:2, ArgLen:3, start time: 2024-05-15 17:10:15.061 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:449777294418903042, LocalMode: false, UniqueWarnings:0"]
[2024/05/15 17:10:15.252 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=0] ["to ID"=1] ["table ID"=30] ["database ID"=1]
[2024/05/15 17:10:15.253 +08:00] [INFO] [delete_range.go:259] ["delRange emulator complete task"] [category=ddl] [category=ddl] [jobID=112] [elementID=1] [startKey=74800000000000006c5f69ffff000000000001] [endKey=74800000000000006c5f69ffff000000000002]
[2024/05/15 17:10:15.258 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=112]
[2024/05/15 17:10:15.258 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:10:15.363 +08:00] [WARN] [infoschema_v3.go:59] ["table not equal"] [tbl1="{\"id\":108,\"name\":{\"O\":\"t2\",\"L\":\"t2\"},\"charset\":\"utf8mb4\",\"collate\":\"utf8mb4_bin\",\"cols\":[{\"id\":1,\"name\":{\"O\":\"c1\",\"L\":\"c1\"},\"offset\":0,\"origin_default\":null,\"origin_default_bit\":null,\"default\":null,\"default_bit\":null,\"default_is_expr\":false,\"generated_expr_string\":\"\",\"generated_stored\":false,\"dependences\":null,\"type\":{\"Tp\":3,\"Flag\":0,\"Flen\":11,\"Decimal\":0,\"Charset\":\"binary\",\"Collate\":\"binary\",\"Elems\":null,\"ElemsIsBinaryLit\":null,\"Array\":false},\"state\":5,\"comment\":\"\",\"hidden\":false,\"change_state_info\":null,\"version\":2},{\"id\":2,\"name\":{\"O\":\"c2\",\"L\":\"c2\"},\"offset\":1,\"origin_default\":null,\"origin_default_bit\":null,\"default\":null,\"default_bit\":null,\"default_is_expr\":false,\"generated_expr_string\":\"\",\"generated_stored\":false,\"dependences\":null,\"type\":{\"Tp\":15,\"Flag\":0,\"Flen\":100,\"Decimal\":0,\"Charset\":\"utf8mb4\",\"Collate\":\"utf8mb4_bin\",\"Elems\":null,\"ElemsIsBinaryLit\":null,\"Array\":false},\"state\":5,\"comment\":\"\",\"hidden\":false,\"change_state_info\":null,\"version\":2},{\"id\":3,\"name\":{\"O\":\"_V$_idx2_0\",\"L\":\"_v$_idx2_0\"},\"offset\":2,\"origin_default\":null,\"origin_default_bit\":null,\"default\":null,\"default_bit\":null,\"default_is_expr\":false,\"generated_expr_string\":\"lower(`c2`)\",\"generated_stored\":false,\"dependences\":{\"c2\":{}},\"type\":{\"Tp\":253,\"Flag\":8,\"Flen\":100,\"Decimal\":-1,\"Charset\":\"utf8mb4\",\"Collate\":\"utf8mb4_bin\",\"Elems\":null,\"ElemsIsBinaryLit\":null,\"Array\":false},\"state\":5,\"comment\":\"\",\"hidden\":true,\"change_state_info\":null,\"version\":2}],\"index_info\":[{\"id\":1,\"idx_name\":{\"O\":\"idx2\",\"L\":\"idx2\"},\"tbl_name\":{\"O\":\"\",\"L\":\"\"},\"idx_cols\":[{\"name\":{\"O\":\"_V$_idx2_0\",\"L\":\"_v$_idx2_0\"},\"offset\":2,\"length\":-1}],\"state\":5,\"backfill_state\":0,\"comment\":\"\",\"index_type\":1,\"is_unique\":false,\"is_primary\":false,\"is_invisible\":false,\"is_global\":false,\"mv_index\":false}],\"constraint_info\":null,\"fk_info\":null,\"state\":5,\"pk_is_handle\":false,\"is_common_handle\":false,\"common_handle_version\":0,\"comment\":\"\",\"auto_inc_id\":0,\"auto_id_cache\":0,\"auto_rand_id\":0,\"max_col_id\":3,\"max_idx_id\":1,\"max_fk_id\":0,\"max_cst_id\":0,\"update_timestamp\":449777294428864513,\"ShardRowIDBits\":0,\"max_shard_row_id_bits\":0,\"auto_random_bits\":0,\"auto_random_range_bits\":0,\"pre_split_regions\":0,\"partition\":null,\"compression\":\"\",\"view\":null,\"sequence\":null,\"Lock\":null,\"version\":5,\"tiflash_replica\":null,\"is_columnar\":false,\"temp_table_type\":0,\"cache_table_status\":0,\"policy_ref_info\":null,\"stats_options\":null,\"exchange_partition_info\":null,\"ttl_info\":null,\"revision\":8}"] [tbl2="{\"id\":108,\"name\":{\"O\":\"t2\",\"L\":\"t2\"},\"charset\":\"utf8mb4\",\"collate\":\"utf8mb4_bin\",\"cols\":[{\"id\":1,\"name\":{\"O\":\"c1\",\"L\":\"c1\"},\"offset\":0,\"origin_default\":null,\"origin_default_bit\":null,\"default\":null,\"default_bit\":null,\"default_is_expr\":false,\"generated_expr_string\":\"\",\"generated_stored\":false,\"dependences\":null,\"type\":{\"Tp\":3,\"Flag\":0,\"Flen\":11,\"Decimal\":0,\"Charset\":\"binary\",\"Collate\":\"binary\",\"Elems\":null,\"ElemsIsBinaryLit\":null,\"Array\":false},\"state\":5,\"comment\":\"\",\"hidden\":false,\"change_state_info\":null,\"version\":2},{\"id\":2,\"name\":{\"O\":\"c2\",\"L\":\"c2\"},\"offset\":1,\"origin_default\":null,\"origin_default_bit\":null,\"default\":null,\"default_bit\":null,\"default_is_expr\":false,\"generated_expr_string\":\"\",\"generated_stored\":false,\"dependences\":null,\"type\":{\"Tp\":15,\"Flag\":0,\"Flen\":100,\"Decimal\":0,\"Charset\":\"utf8mb4\",\"Collate\":\"utf8mb4_bin\",\"Elems\":null,\"ElemsIsBinaryLit\":null,\"Array\":false},\"state\":5,\"comment\":\"\",\"hidden\":false,\"change_state_info\":null,\"version\":2},{\"id\":3,\"name\":{\"O\":\"_V$_idx2_0\",\"L\":\"_v$_idx2_0\"},\"offset\":2,\"origin_default\":null,\"origin_default_bit\":null,\"default\":null,\"default_bit\":null,\"default_is_expr\":false,\"generated_expr_string\":\"lower(`c2`)\",\"generated_stored\":false,\"dependences\":{\"c2\":{}},\"type\":{\"Tp\":253,\"Flag\":8388616,\"Flen\":100,\"Decimal\":-1,\"Charset\":\"utf8mb4\",\"Collate\":\"utf8mb4_bin\",\"Elems\":null,\"ElemsIsBinaryLit\":null,\"Array\":false},\"state\":5,\"comment\":\"\",\"hidden\":true,\"change_state_info\":null,\"version\":2}],\"index_info\":[{\"id\":1,\"idx_name\":{\"O\":\"idx2\",\"L\":\"idx2\"},\"tbl_name\":{\"O\":\"\",\"L\":\"\"},\"idx_cols\":[{\"name\":{\"O\":\"_V$_idx2_0\",\"L\":\"_v$_idx2_0\"},\"offset\":2,\"length\":-1}],\"state\":5,\"backfill_state\":0,\"comment\":\"\",\"index_type\":1,\"is_unique\":false,\"is_primary\":false,\"is_invisible\":false,\"is_global\":false,\"mv_index\":false}],\"constraint_info\":null,\"fk_info\":null,\"state\":5,\"pk_is_handle\":false,\"is_common_handle\":false,\"common_handle_version\":0,\"comment\":\"\",\"auto_inc_id\":0,\"auto_id_cache\":0,\"auto_rand_id\":0,\"max_col_id\":3,\"max_idx_id\":1,\"max_fk_id\":0,\"max_cst_id\":0,\"update_timestamp\":449777294428864513,\"ShardRowIDBits\":0,\"max_shard_row_id_bits\":0,\"auto_random_bits\":0,\"auto_random_range_bits\":0,\"pre_split_regions\":0,\"partition\":null,\"compression\":\"\",\"view\":null,\"sequence\":null,\"Lock\":null,\"version\":5,\"tiflash_replica\":null,\"is_columnar\":false,\"temp_table_type\":0,\"cache_table_status\":0,\"policy_ref_info\":null,\"stats_options\":null,\"exchange_partition_info\":null,\"ttl_info\":null,\"revision\":8}"]
[2024/05/15 17:10:15.364 +08:00] [INFO] [mock.go:106] ["owner manager is canceled"] [category=ddl] [ID=6134c7fe-f0e2-4c0f-a28c-0125fc1c8e78] [ownerKey=/tidb/ddl/fg/owner]
[2024/05/15 17:10:15.364 +08:00] [INFO] [ddl_workerpool.go:82] ["closing workerPool"] [category=ddl]
[2024/05/15 17:10:15.364 +08:00] [INFO] [ddl_worker.go:186] ["DDL worker closed"] [worker="worker 4, tp add index"] [category=ddl] ["take time"=1.042s]
[2024/05/15 17:10:15.364 +08:00] [INFO] [ddl_workerpool.go:82] ["closing workerPool"] [category=ddl]
[2024/05/15 17:10:15.364 +08:00] [INFO] [ddl_worker.go:186] ["DDL worker closed"] [worker="worker 3, tp general"] [category=ddl] ["take time"=667ns]
[2024/05/15 17:10:15.364 +08:00] [INFO] [ddl_workerpool.go:82] ["closing workerPool"] [category=ddl]
[2024/05/15 17:10:15.364 +08:00] [INFO] [delete_range.go:162] ["closing delRange"] [category=ddl]
[2024/05/15 17:10:15.364 +08:00] [INFO] [session_pool.go:99] ["closing session pool"] [category=ddl]
[2024/05/15 17:10:15.364 +08:00] [INFO] [ddl.go:951] ["DDL closed"] [category=ddl] [ID=6134c7fe-f0e2-4c0f-a28c-0125fc1c8e78] ["take time"=318.709s]
[2024/05/15 17:10:15.364 +08:00] [INFO] [ddl.go:769] ["stop DDL"] [category=ddl] [ID=6134c7fe-f0e2-4c0f-a28c-0125fc1c8e78]
[2024/05/15 17:10:15.364 +08:00] [INFO] [domain.go:1034] ["stopping ttlJobManager"]
[2024/05/15 17:10:15.364 +08:00] [INFO] [task_manager.go:194] ["shrink ttl worker"] [ttl-worker=job-manager] [ttl-worker=task-manager] [originalCount=4] [newCount=0]
[2024/05/15 17:10:15.364 +08:00] [INFO] [scan.go:309] ["ttlScanWorker loop exited."]
[2024/05/15 17:10:15.364 +08:00] [INFO] [scan.go:309] ["ttlScanWorker loop exited."]
[2024/05/15 17:10:15.364 +08:00] [INFO] [scan.go:309] ["ttlScanWorker loop exited."]
[2024/05/15 17:10:15.365 +08:00] [INFO] [scan.go:309] ["ttlScanWorker loop exited."]
[2024/05/15 17:10:15.365 +08:00] [INFO] [task_manager.go:194] ["shrink ttl worker"] [ttl-worker=job-manager] [ttl-worker=task-manager] [originalCount=4] [newCount=0]
[2024/05/15 17:10:15.365 +08:00] [INFO] [del.go:261] ["ttlDeleteWorker loop exited."]
[2024/05/15 17:10:15.365 +08:00] [INFO] [del.go:261] ["ttlDeleteWorker loop exited."]
[2024/05/15 17:10:15.365 +08:00] [INFO] [del.go:261] ["ttlDeleteWorker loop exited."]
[2024/05/15 17:10:15.365 +08:00] [INFO] [del.go:261] ["ttlDeleteWorker loop exited."]
[2024/05/15 17:10:15.365 +08:00] [INFO] [job_manager.go:174] ["ttlJobManager loop exited."] [ttl-worker=job-manager]
[2024/05/15 17:10:15.365 +08:00] [INFO] [domain.go:1045] ["ttlJobManager exited."]
[2024/05/15 17:10:15.365 +08:00] [INFO] [manager.go:280] ["recoverMetaLoop done"] [server-id=:4000]
[2024/05/15 17:10:15.365 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=mdlCheckLoop]
[2024/05/15 17:10:15.365 +08:00] [INFO] [domain.go:915] ["loadSchemaInLoop exited."]
[2024/05/15 17:10:15.365 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=loadSchemaInLoop]
[2024/05/15 17:10:15.365 +08:00] [INFO] [domain.go:1535] ["stopping dist task executor manager"]
[2024/05/15 17:10:15.365 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=loadSigningCertLoop]
[2024/05/15 17:10:15.365 +08:00] [INFO] [stats_syncload.go:216] ["SubLoadWorker exited."]
[2024/05/15 17:10:15.365 +08:00] [INFO] [stats_syncload.go:216] ["SubLoadWorker exited."]
[2024/05/15 17:10:15.365 +08:00] [INFO] [stats_syncload.go:216] ["SubLoadWorker exited."]
[2024/05/15 17:10:15.365 +08:00] [INFO] [stats_syncload.go:216] ["SubLoadWorker exited."]
[2024/05/15 17:10:15.365 +08:00] [INFO] [stats_syncload.go:216] ["SubLoadWorker exited."]
[2024/05/15 17:10:15.365 +08:00] [INFO] [mock.go:106] ["owner manager is canceled"] [category=ddl] [ID=6134c7fe-f0e2-4c0f-a28c-0125fc1c8e78] [ownerKey=/tidb/stats/owner]
[2024/05/15 17:10:15.365 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=quitStatsOwner]
[2024/05/15 17:10:15.365 +08:00] [INFO] [domain.go:2361] ["indexUsageWorker exited."]
[2024/05/15 17:10:15.365 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=indexUsageWorker]
[2024/05/15 17:10:15.365 +08:00] [INFO] [domain.go:2082] ["dumpFileGcChecker exited."]
[2024/05/15 17:10:15.365 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=dumpFileGcChecker]
[2024/05/15 17:10:15.365 +08:00] [INFO] [domain.go:1758] ["LoadSysVarCacheLoop exited."]
[2024/05/15 17:10:15.365 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=LoadSysVarCacheLoop]
[2024/05/15 17:10:15.365 +08:00] [INFO] [domain.go:1708] ["loadPrivilegeInLoop exited."]
[2024/05/15 17:10:15.365 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=loadPrivilegeInLoop]
[2024/05/15 17:10:15.365 +08:00] [INFO] [mock.go:106] ["owner manager is canceled"] [category=ddl] [ID=6134c7fe-f0e2-4c0f-a28c-0125fc1c8e78] [ownerKey=/tidb/bindinfo/owner]
[2024/05/15 17:10:15.365 +08:00] [INFO] [domain.go:1897] ["globalBindHandleWorkerLoop exited."]
[2024/05/15 17:10:15.365 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=globalBindHandleWorkerLoop]
[2024/05/15 17:10:15.365 +08:00] [INFO] [domain.go:769] ["topologySyncerKeeper exited."]
[2024/05/15 17:10:15.365 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=topologySyncerKeeper]
[2024/05/15 17:10:15.365 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=runawayStartLoop]
[2024/05/15 17:10:15.365 +08:00] [INFO] [domain.go:745] ["globalConfigSyncerKeeper exited."]
[2024/05/15 17:10:15.365 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=globalConfigSyncerKeeper]
[2024/05/15 17:10:15.365 +08:00] [INFO] [domain.go:719] ["infoSyncerKeeper exited."]
[2024/05/15 17:10:15.365 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=infoSyncerKeeper]
[2024/05/15 17:10:15.365 +08:00] [INFO] [domain.go:691] ["topNSlowQueryLoop exited."]
[2024/05/15 17:10:15.365 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=topNSlowQueryLoop]
[2024/05/15 17:10:15.365 +08:00] [INFO] [domain.go:1369] ["closestReplicaReadCheckLoop exited."]
[2024/05/15 17:10:15.365 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=closestReplicaReadCheckLoop]
[2024/05/15 17:10:15.365 +08:00] [INFO] [manager.go:179] ["handle tasks loop done"] [server-id=:4000]
[2024/05/15 17:10:15.365 +08:00] [INFO] [domain.go:1537] ["dist task executor manager stopped"]
[2024/05/15 17:10:15.365 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=distTaskFrameworkLoop]
[2024/05/15 17:10:15.365 +08:00] [INFO] [domain.go:1082] ["domain closed"] ["take time"=985.125s]
[2024/05/15 17:10:15.371 +08:00] [INFO] [db.go:567] ["Closing database"]
[2024/05/15 17:10:15.371 +08:00] [INFO] [db.go:592] ["Memtable flushed"]
[2024/05/15 17:10:15.371 +08:00] [INFO] [db.go:596] ["Compaction finished"]
[2024/05/15 17:10:15.371 +08:00] [INFO] [db.go:615] ["BlobManager finished"]
[2024/05/15 17:10:15.371 +08:00] [INFO] [db.go:619] ["ResourceManager finished"]
[2024/05/15 17:10:15.371 +08:00] [INFO] [db.go:625] ["Waiting for closer"]
--- FAIL: TestDisaggregatedTiFlashGeneratedColumn (2.28s)
panic: inconsistent infoschema [recovered]
	panic: inconsistent infoschema [recovered]
	panic: inconsistent infoschema

goroutine 70 [running]:
testing.tRunner.func1.2({0x1087efb00, 0x1090d3710})
	/Users/bba/.gvm/gos/go1.21.0/src/testing/testing.go:1545 +0x1c8
testing.tRunner.func1()
	/Users/bba/.gvm/gos/go1.21.0/src/testing/testing.go:1548 +0x360
panic({0x1087efb00?, 0x1090d3710?})
	/Users/bba/.gvm/gos/go1.21.0/src/runtime/panic.go:914 +0x218
github.com/pingcap/tidb/pkg/executor.(*ExecStmt).Exec.func1()
	/Users/bba/pc/tidb/pkg/executor/adapter.go:452 +0x41c
panic({0x1087efb00?, 0x1090d3710?})
	/Users/bba/.gvm/gos/go1.21.0/src/runtime/panic.go:914 +0x218
github.com/pingcap/tidb/pkg/infoschema.(*infoschemaV3).TableByID(0x14008a39f20, 0x2?)
	/Users/bba/pc/tidb/pkg/infoschema/infoschema_v3.go:201 +0xb4
github.com/pingcap/tidb/pkg/infoschema.(*SessionExtendedInfoSchema).TableByID(0x1400e0e45d0, 0x6c)
	/Users/bba/pc/tidb/pkg/infoschema/infoschema.go:737 +0x90
github.com/pingcap/tidb/pkg/executor.buildTableReq(0x1400e0b7c00, 0x3, {0x1400e0e9220, 0x1, 0x1400e0e9310?})
	/Users/bba/pc/tidb/pkg/executor/builder.go:3673 +0x160
github.com/pingcap/tidb/pkg/executor.buildNoRangeIndexLookUpReader(0x1400e0b7c00, 0x1400e0bbc00)
	/Users/bba/pc/tidb/pkg/executor/builder.go:3741 +0xc4
github.com/pingcap/tidb/pkg/executor.(*executorBuilder).buildIndexLookUpReader(0x1400e0b7c00, 0x1400e0bbc00)
	/Users/bba/pc/tidb/pkg/executor/builder.go:3802 +0xa4
github.com/pingcap/tidb/pkg/executor.(*executorBuilder).build(0x1400e0b7c00, {0x1091382e0?, 0x1400e0bbc00?})
	/Users/bba/pc/tidb/pkg/executor/builder.go:294 +0xb5c
github.com/pingcap/tidb/pkg/executor.(*executorBuilder).buildProjection(0x1400e0b7c00, 0x1400e0a67e0)
	/Users/bba/pc/tidb/pkg/executor/builder.go:1775 +0x64
github.com/pingcap/tidb/pkg/executor.(*executorBuilder).build(0x1400e0b7c00, {0x109137e30?, 0x1400e0a67e0?})
	/Users/bba/pc/tidb/pkg/executor/builder.go:276 +0xa0c
github.com/pingcap/tidb/pkg/executor.(*executorBuilder).buildExplain(0x1400e0b7c00, 0x1400e05fa00)
	/Users/bba/pc/tidb/pkg/executor/builder.go:1229 +0x1ac
github.com/pingcap/tidb/pkg/executor.(*executorBuilder).build(0x10918b7f0?, {0x1091391e0?, 0x1400e05fa00?})
	/Users/bba/pc/tidb/pkg/executor/builder.go:194 +0x43c
github.com/pingcap/tidb/pkg/executor.(*ExecStmt).buildExecutor(0x1400e00b590)
	/Users/bba/pc/tidb/pkg/executor/adapter.go:1172 +0x164
github.com/pingcap/tidb/pkg/executor.(*ExecStmt).Exec(0x1400e00b590, {0x109114b48, 0x1400e0e53b0})
	/Users/bba/pc/tidb/pkg/executor/adapter.go:522 +0x710
github.com/pingcap/tidb/pkg/session.runStmt({0x109114aa0, 0x10c172340}, 0x14006297200, {0x109126020, 0x1400e00b590?})
	/Users/bba/pc/tidb/pkg/session/session.go:2285 +0x338
github.com/pingcap/tidb/pkg/session.(*session).ExecuteStmt(0x14006297200, {0x109114aa0?, 0x10c172340?}, {0x10912a2c0, 0x1400e0b7420?})
	/Users/bba/pc/tidb/pkg/session/session.go:2146 +0xd94
github.com/pingcap/tidb/pkg/testkit.(*TestKit).ExecWithContext(0x14009266be0, {0x109114aa0, 0x10c172340}, {0x1400e085130, 0x44}, {0x0, 0x0, 0x0})
	/Users/bba/pc/tidb/pkg/testkit/testkit.go:384 +0x714
github.com/pingcap/tidb/pkg/testkit.(*TestKit).MustQueryWithContext(0x14009266be0, {0x109114aa0, 0x10c172340}, {0x1400e085130, 0x44}, {0x0, 0x0, 0x0})
	/Users/bba/pc/tidb/pkg/testkit/testkit.go:195 +0xc8
github.com/pingcap/tidb/pkg/testkit.(*TestKit).MustQuery(0x107c8a65f?, {0x1400e085130?, 0x14004407da8?}, {0x0?, 0x1?, 0x0?})
	/Users/bba/pc/tidb/pkg/testkit/testkit.go:173 +0x78
github.com/pingcap/tidb/pkg/executor/test/tiflashtest.TestDisaggregatedTiFlashGeneratedColumn.func1(0x0)
	/Users/bba/pc/tidb/pkg/executor/test/tiflashtest/tiflash_test.go:1601 +0x2b4
github.com/pingcap/tidb/pkg/executor/test/tiflashtest.TestDisaggregatedTiFlashGeneratedColumn(0x14000d97520)
	/Users/bba/pc/tidb/pkg/executor/test/tiflashtest/tiflash_test.go:1668 +0x4e0
testing.tRunner(0x14000d97520, 0x1090c63d8)
	/Users/bba/.gvm/gos/go1.21.0/src/testing/testing.go:1595 +0xe8
created by testing.(*T).Run in goroutine 1
	/Users/bba/.gvm/gos/go1.21.0/src/testing/testing.go:1648 +0x33c
[FAIL]  pkg/executor/test/oomtest TestMemTracker4InsertAndReplaceExec
err=exit status 1
[2024/05/15 17:11:23.042 +08:00] [INFO] ["Automatically convert BLOB(65535) to MEDIUMBLOB"] [category=ddl]
[2024/05/15 17:11:23.042 +08:00] [INFO] ["Automatically convert BLOB(65535) to MEDIUMBLOB"] [category=ddl]
[2024/05/15 17:11:23.045 +08:00] [INFO] ["Automatically convert BLOB(65535) to MEDIUMBLOB"] [category=ddl]
[2024/05/15 17:11:23.045 +08:00] [INFO] ["Automatically convert BLOB(65535) to MEDIUMBLOB"] [category=ddl]
[2024/05/15 17:11:23.048 +08:00] [INFO] ["Automatically convert BLOB(65535) to MEDIUMBLOB"] [category=ddl]
[2024/05/15 17:11:23.073 +08:00] [INFO] ["start DDL"] [category=ddl] [ID=0c733a16-9229-48c0-a14e-df75d4a13bd6] [runWorker=true]
[2024/05/15 17:11:23.074 +08:00] [INFO] ["start delRangeManager OK"] [category=ddl] ["is a emulator"=true]
[2024/05/15 17:11:23.075 +08:00] [WARN] ["initialize environment failed"] [category=ddl-ingest] ["storage limitation"="only support TiKV storage"] ["current storage"=unistore] ["lightning is initialized"=false]
[2024/05/15 17:11:23.087 +08:00] [INFO] ["start delRange emulator"] [category=ddl]
[2024/05/15 17:11:23.088 +08:00] [INFO] ["get global state and global state change"] [category=ddl] [oldState=false] [currState=false]
[2024/05/15 17:11:23.138 +08:00] [INFO] ["get global state and global state change"] [category=ddl] [oldState=false] [currState=false]
[2024/05/15 17:11:23.138 +08:00] [INFO] ["the owner sets owner operator value"] [category=ddl] [ownerOp=none]
[2024/05/15 17:11:23.300 +08:00] [INFO] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:3, Type:create schema, State:queueing, SchemaState:none, SchemaID:2, TableID:0, RowCount:0, ArgLen:1, start time: 2024-05-15 17:11:23.292 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:11:23.300 +08:00] [INFO] ["start DDL job"] [category=ddl] [job="ID:3, Type:create schema, State:queueing, SchemaState:none, SchemaID:2, TableID:0, RowCount:0, ArgLen:1, start time: 2024-05-15 17:11:23.292 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE DATABASE IF NOT EXISTS test"]
[2024/05/15 17:11:23.317 +08:00] [INFO] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=3] [category=ddl] [job="ID:3, Type:create schema, State:queueing, SchemaState:none, SchemaID:2, TableID:0, RowCount:0, ArgLen:0, start time: 2024-05-15 17:11:23.292 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:11:23.334 +08:00] [INFO] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=3] [job="ID:3, Type:create schema, State:synced, SchemaState:public, SchemaID:2, TableID:0, RowCount:0, ArgLen:0, start time: 2024-05-15 17:11:23.292 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:11:23.337 +08:00] [INFO] ["DDL job is finished"] [category=ddl] [jobID=3]
[2024/05/15 17:11:23.337 +08:00] [INFO] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:11:23.346 +08:00] [INFO] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:5, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:4, RowCount:0, ArgLen:2, start time: 2024-05-15 17:11:23.344 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:11:23.346 +08:00] [INFO] ["start DDL job"] [category=ddl] [job="ID:5, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:4, RowCount:0, ArgLen:2, start time: 2024-05-15 17:11:23.344 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.user (\n\t\tHost\t\t\t\t\tCHAR(255),\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tauthentication_string\tTEXT,\n\t\tplugin\t\t\t\t\tCHAR(64),\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tProcess_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_db_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tSuper_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_user_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_slave_priv\t    \tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_client_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_role_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_role_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAccount_locked\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShutdown_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReload_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tFILE_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tConfig_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_Tablespace_Priv  ENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPassword_reuse_history  smallint unsigned DEFAULT NULL,\n\t\tPassword_reuse_time     smallint unsigned DEFAULT NULL,\n\t\tUser_attributes\t\t\tjson,\n\t\tToken_issuer\t\t\tVARCHAR(255),\n\t\tPassword_expired\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPassword_last_changed\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP(),\n\t\tPassword_lifetime\t\tSMALLINT UNSIGNED DEFAULT NULL,\n\t\tPRIMARY KEY (Host, User));"]
[2024/05/15 17:11:23.351 +08:00] [INFO] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=5] [category=ddl] [job="ID:5, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:4, RowCount:0, ArgLen:0, start time: 2024-05-15 17:11:23.344 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:11:23.368 +08:00] [INFO] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=5] [job="ID:5, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:4, RowCount:0, ArgLen:0, start time: 2024-05-15 17:11:23.344 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:11:23.372 +08:00] [INFO] ["DDL job is finished"] [category=ddl] [jobID=5]
[2024/05/15 17:11:23.373 +08:00] [INFO] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:11:23.375 +08:00] [INFO] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:7, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:6, RowCount:0, ArgLen:2, start time: 2024-05-15 17:11:23.374 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:11:23.375 +08:00] [INFO] ["start DDL job"] [category=ddl] [job="ID:7, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:6, RowCount:0, ArgLen:2, start time: 2024-05-15 17:11:23.374 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE  IF NOT EXISTS mysql.password_history (\n         Host char(255)  NOT NULL DEFAULT '',\n         User char(32)  NOT NULL DEFAULT '',\n         Password_timestamp timestamp(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6),\n         Password text,\n         PRIMARY KEY (Host,User,Password_timestamp )\n        ) COMMENT='Password history for user accounts' "]
[2024/05/15 17:11:23.385 +08:00] [INFO] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=7] [category=ddl] [job="ID:7, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:6, RowCount:0, ArgLen:0, start time: 2024-05-15 17:11:23.374 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:11:23.404 +08:00] [INFO] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=7] [job="ID:7, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:6, RowCount:0, ArgLen:0, start time: 2024-05-15 17:11:23.374 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:11:23.406 +08:00] [INFO] ["DDL job is finished"] [category=ddl] [jobID=7]
[2024/05/15 17:11:23.406 +08:00] [INFO] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:11:23.407 +08:00] [INFO] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:9, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:8, RowCount:0, ArgLen:2, start time: 2024-05-15 17:11:23.407 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:11:23.408 +08:00] [INFO] ["start DDL job"] [category=ddl] [job="ID:9, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:8, RowCount:0, ArgLen:2, start time: 2024-05-15 17:11:23.407 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.global_priv (Host CHAR(255) NOT NULL DEFAULT '',User CHAR(80) NOT NULL DEFAULT '',Priv LONGTEXT NOT NULL DEFAULT '',PRIMARY KEY (Host, User))"]
[2024/05/15 17:11:23.412 +08:00] [INFO] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=9] [category=ddl] [job="ID:9, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:8, RowCount:0, ArgLen:0, start time: 2024-05-15 17:11:23.407 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:11:23.421 +08:00] [INFO] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=9] [job="ID:9, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:8, RowCount:0, ArgLen:0, start time: 2024-05-15 17:11:23.407 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:11:23.423 +08:00] [INFO] ["DDL job is finished"] [category=ddl] [jobID=9]
[2024/05/15 17:11:23.423 +08:00] [INFO] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:11:23.426 +08:00] [INFO] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:11, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:10, RowCount:0, ArgLen:2, start time: 2024-05-15 17:11:23.425 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:11:23.426 +08:00] [INFO] ["start DDL job"] [category=ddl] [job="ID:11, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:10, RowCount:0, ArgLen:2, start time: 2024-05-15 17:11:23.425 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.db (\n\t\tHost\t\t\t\t\tCHAR(255),\n\t\tDB\t\t\t\t\t\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv \t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (Host, DB, User));"]
[2024/05/15 17:11:23.430 +08:00] [INFO] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=11] [category=ddl] [job="ID:11, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:10, RowCount:0, ArgLen:0, start time: 2024-05-15 17:11:23.425 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:11:23.440 +08:00] [INFO] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=11] [job="ID:11, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:10, RowCount:0, ArgLen:0, start time: 2024-05-15 17:11:23.425 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:11:23.442 +08:00] [INFO] ["DDL job is finished"] [category=ddl] [jobID=11]
[2024/05/15 17:11:23.442 +08:00] [INFO] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:11:23.444 +08:00] [INFO] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:13, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:12, RowCount:0, ArgLen:2, start time: 2024-05-15 17:11:23.443 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:11:23.444 +08:00] [INFO] ["start DDL job"] [category=ddl] [job="ID:13, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:12, RowCount:0, ArgLen:2, start time: 2024-05-15 17:11:23.443 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tables_priv (\n\t\tHost\t\tCHAR(255),\n\t\tDB\t\t\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tGrantor\t\tCHAR(77),\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tTable_priv\tSET('Select','Insert','Update','Delete','Create','Drop','Grant','Index','Alter','Create View','Show View','Trigger','References'),\n\t\tColumn_priv\tSET('Select','Insert','Update','References'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name));"]
[2024/05/15 17:11:23.452 +08:00] [INFO] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=13] [category=ddl] [job="ID:13, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:12, RowCount:0, ArgLen:0, start time: 2024-05-15 17:11:23.443 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:11:23.461 +08:00] [INFO] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=13] [job="ID:13, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:12, RowCount:0, ArgLen:0, start time: 2024-05-15 17:11:23.443 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:11:23.464 +08:00] [INFO] ["DDL job is finished"] [category=ddl] [jobID=13]
[2024/05/15 17:11:23.464 +08:00] [INFO] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:11:23.466 +08:00] [INFO] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:15, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:14, RowCount:0, ArgLen:2, start time: 2024-05-15 17:11:23.465 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:11:23.466 +08:00] [INFO] ["start DDL job"] [category=ddl] [job="ID:15, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:14, RowCount:0, ArgLen:2, start time: 2024-05-15 17:11:23.465 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.columns_priv(\n\t\tHost\t\tCHAR(255),\n\t\tDB\t\t\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tColumn_name\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tColumn_priv\tSET('Select','Insert','Update','References'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name, Column_name));"]
[2024/05/15 17:11:23.470 +08:00] [INFO] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=15] [category=ddl] [job="ID:15, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:14, RowCount:0, ArgLen:0, start time: 2024-05-15 17:11:23.465 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:11:23.478 +08:00] [INFO] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=15] [job="ID:15, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:14, RowCount:0, ArgLen:0, start time: 2024-05-15 17:11:23.465 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:11:23.480 +08:00] [INFO] ["DDL job is finished"] [category=ddl] [jobID=15]
[2024/05/15 17:11:23.480 +08:00] [INFO] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:11:23.482 +08:00] [INFO] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:17, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:16, RowCount:0, ArgLen:2, start time: 2024-05-15 17:11:23.481 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:11:23.482 +08:00] [INFO] ["start DDL job"] [category=ddl] [job="ID:17, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:16, RowCount:0, ArgLen:2, start time: 2024-05-15 17:11:23.481 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.GLOBAL_VARIABLES(\n\t\tVARIABLE_NAME  VARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE VARCHAR(16383) DEFAULT NULL);"]
[2024/05/15 17:11:23.488 +08:00] [INFO] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=17] [category=ddl] [job="ID:17, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:16, RowCount:0, ArgLen:0, start time: 2024-05-15 17:11:23.481 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:11:23.496 +08:00] [INFO] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=17] [job="ID:17, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:16, RowCount:0, ArgLen:0, start time: 2024-05-15 17:11:23.481 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:11:23.498 +08:00] [INFO] ["DDL job is finished"] [category=ddl] [jobID=17]
[2024/05/15 17:11:23.498 +08:00] [INFO] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:11:23.499 +08:00] [INFO] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:19, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:18, RowCount:0, ArgLen:2, start time: 2024-05-15 17:11:23.498 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:11:23.499 +08:00] [INFO] ["start DDL job"] [category=ddl] [job="ID:19, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:18, RowCount:0, ArgLen:2, start time: 2024-05-15 17:11:23.498 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb(\n\t\tVARIABLE_NAME  \tVARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE \tVARCHAR(1024) DEFAULT NULL,\n\t\tCOMMENT \t\tVARCHAR(1024));"]
[2024/05/15 17:11:23.503 +08:00] [INFO] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=19] [category=ddl] [job="ID:19, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:18, RowCount:0, ArgLen:0, start time: 2024-05-15 17:11:23.498 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:11:23.511 +08:00] [INFO] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=19] [job="ID:19, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:18, RowCount:0, ArgLen:0, start time: 2024-05-15 17:11:23.498 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:11:23.513 +08:00] [INFO] ["DDL job is finished"] [category=ddl] [jobID=19]
[2024/05/15 17:11:23.513 +08:00] [INFO] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:11:23.516 +08:00] [INFO] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:21, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:20, RowCount:0, ArgLen:2, start time: 2024-05-15 17:11:23.515 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:11:23.516 +08:00] [INFO] ["start DDL job"] [category=ddl] [job="ID:21, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:20, RowCount:0, ArgLen:2, start time: 2024-05-15 17:11:23.515 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.help_topic (\n  \t\thelp_topic_id \t\tINT(10) UNSIGNED NOT NULL,\n  \t\tname \t\t\t\tCHAR(64) NOT NULL,\n  \t\thelp_category_id \tSMALLINT(5) UNSIGNED NOT NULL,\n  \t\tdescription \t\tTEXT NOT NULL,\n  \t\texample \t\t\tTEXT NOT NULL,\n  \t\turl \t\t\t\tTEXT NOT NULL,\n  \t\tPRIMARY KEY (help_topic_id) clustered,\n  \t\tUNIQUE KEY name (name)\n\t\t) ENGINE=InnoDB DEFAULT CHARSET=utf8 STATS_PERSISTENT=0 COMMENT='help topics';"]
[2024/05/15 17:11:23.519 +08:00] [INFO] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=21] [category=ddl] [job="ID:21, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:20, RowCount:0, ArgLen:0, start time: 2024-05-15 17:11:23.515 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:11:23.528 +08:00] [INFO] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=21] [job="ID:21, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:20, RowCount:0, ArgLen:0, start time: 2024-05-15 17:11:23.515 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:11:23.530 +08:00] [INFO] ["DDL job is finished"] [category=ddl] [jobID=21]
[2024/05/15 17:11:23.530 +08:00] [INFO] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:11:23.532 +08:00] [INFO] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:23, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:22, RowCount:0, ArgLen:2, start time: 2024-05-15 17:11:23.531 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:11:23.532 +08:00] [INFO] ["start DDL job"] [category=ddl] [job="ID:23, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:22, RowCount:0, ArgLen:2, start time: 2024-05-15 17:11:23.531 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_meta (\n\t\tversion \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\ttable_id \t\tBIGINT(64) NOT NULL,\n\t\tmodify_count\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcount \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tsnapshot        BIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tINDEX idx_ver(version),\n\t\tUNIQUE INDEX tbl(table_id)\n\t);"]
[2024/05/15 17:11:23.536 +08:00] [INFO] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=23] [category=ddl] [job="ID:23, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:22, RowCount:0, ArgLen:0, start time: 2024-05-15 17:11:23.531 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:11:23.545 +08:00] [INFO] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=23] [job="ID:23, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:22, RowCount:0, ArgLen:0, start time: 2024-05-15 17:11:23.531 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:11:23.547 +08:00] [INFO] ["DDL job is finished"] [category=ddl] [jobID=23]
[2024/05/15 17:11:23.547 +08:00] [INFO] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:11:23.548 +08:00] [INFO] ["Automatically convert BLOB(6291456) to MEDIUMBLOB"] [category=ddl]
[2024/05/15 17:11:23.549 +08:00] [INFO] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:25, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:24, RowCount:0, ArgLen:2, start time: 2024-05-15 17:11:23.548 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:11:23.549 +08:00] [INFO] ["start DDL job"] [category=ddl] [job="ID:25, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:24, RowCount:0, ArgLen:2, start time: 2024-05-15 17:11:23.548 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_histograms (\n\t\ttable_id \t\t\tBIGINT(64) NOT NULL,\n\t\tis_index \t\t\tTINYINT(2) NOT NULL,\n\t\thist_id \t\t\tBIGINT(64) NOT NULL,\n\t\tdistinct_count \t\tBIGINT(64) NOT NULL,\n\t\tnull_count \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\ttot_col_size \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tmodify_count \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tversion \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tcm_sketch \t\t\tBLOB(6291456),\n\t\tstats_ver \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tflag \t\t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcorrelation \t\tDOUBLE NOT NULL DEFAULT 0,\n\t\tlast_analyze_pos \tLONGBLOB DEFAULT NULL,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id)\n\t);"]
[2024/05/15 17:11:23.553 +08:00] [INFO] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=25] [category=ddl] [job="ID:25, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:24, RowCount:0, ArgLen:0, start time: 2024-05-15 17:11:23.548 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:11:23.562 +08:00] [INFO] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=25] [job="ID:25, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:24, RowCount:0, ArgLen:0, start time: 2024-05-15 17:11:23.548 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:11:23.564 +08:00] [INFO] ["DDL job is finished"] [category=ddl] [jobID=25]
[2024/05/15 17:11:23.564 +08:00] [INFO] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:11:23.566 +08:00] [INFO] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:27, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:26, RowCount:0, ArgLen:2, start time: 2024-05-15 17:11:23.565 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:11:23.566 +08:00] [INFO] ["start DDL job"] [category=ddl] [job="ID:27, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:26, RowCount:0, ArgLen:2, start time: 2024-05-15 17:11:23.565 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_buckets (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tbucket_id \tBIGINT(64) NOT NULL,\n\t\tcount \t\tBIGINT(64) NOT NULL,\n\t\trepeats \tBIGINT(64) NOT NULL,\n\t\tupper_bound LONGBLOB NOT NULL,\n\t\tlower_bound LONGBLOB ,\n\t\tndv         BIGINT NOT NULL DEFAULT 0,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id, bucket_id)\n\t);"]
[2024/05/15 17:11:23.570 +08:00] [INFO] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=27] [category=ddl] [job="ID:27, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:26, RowCount:0, ArgLen:0, start time: 2024-05-15 17:11:23.565 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:11:23.579 +08:00] [INFO] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=27] [job="ID:27, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:26, RowCount:0, ArgLen:0, start time: 2024-05-15 17:11:23.565 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:11:23.581 +08:00] [INFO] ["DDL job is finished"] [category=ddl] [jobID=27]
[2024/05/15 17:11:23.581 +08:00] [INFO] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:11:23.583 +08:00] [INFO] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:29, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:28, RowCount:0, ArgLen:2, start time: 2024-05-15 17:11:23.582 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:11:23.583 +08:00] [INFO] ["start DDL job"] [category=ddl] [job="ID:29, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:28, RowCount:0, ArgLen:2, start time: 2024-05-15 17:11:23.582 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_index (job_id, element_id)\n\t);"]
[2024/05/15 17:11:23.588 +08:00] [INFO] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=29] [category=ddl] [job="ID:29, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:28, RowCount:0, ArgLen:0, start time: 2024-05-15 17:11:23.582 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:11:23.598 +08:00] [INFO] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=29] [job="ID:29, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:28, RowCount:0, ArgLen:0, start time: 2024-05-15 17:11:23.582 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:11:23.600 +08:00] [INFO] ["DDL job is finished"] [category=ddl] [jobID=29]
[2024/05/15 17:11:23.600 +08:00] [INFO] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:11:23.603 +08:00] [INFO] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:31, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:30, RowCount:0, ArgLen:2, start time: 2024-05-15 17:11:23.601 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:11:23.603 +08:00] [INFO] ["start DDL job"] [category=ddl] [job="ID:31, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:30, RowCount:0, ArgLen:2, start time: 2024-05-15 17:11:23.601 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range_done (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_done_index (job_id, element_id)\n\t);"]
[2024/05/15 17:11:23.608 +08:00] [INFO] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=31] [category=ddl] [job="ID:31, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:30, RowCount:0, ArgLen:0, start time: 2024-05-15 17:11:23.601 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:11:23.622 +08:00] [INFO] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=31] [job="ID:31, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:30, RowCount:0, ArgLen:0, start time: 2024-05-15 17:11:23.601 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:11:23.626 +08:00] [INFO] ["DDL job is finished"] [category=ddl] [jobID=31]
[2024/05/15 17:11:23.626 +08:00] [INFO] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:11:23.629 +08:00] [INFO] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:33, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:32, RowCount:0, ArgLen:2, start time: 2024-05-15 17:11:23.628 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:11:23.629 +08:00] [INFO] ["start DDL job"] [category=ddl] [job="ID:33, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:32, RowCount:0, ArgLen:2, start time: 2024-05-15 17:11:23.628 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_feedback (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tfeedback \tBLOB NOT NULL,\n\t\tINDEX hist(table_id, is_index, hist_id)\n\t);"]
[2024/05/15 17:11:23.640 +08:00] [INFO] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=33] [category=ddl] [job="ID:33, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:32, RowCount:0, ArgLen:0, start time: 2024-05-15 17:11:23.628 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:11:23.650 +08:00] [INFO] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=33] [job="ID:33, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:32, RowCount:0, ArgLen:0, start time: 2024-05-15 17:11:23.628 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:11:23.652 +08:00] [INFO] ["DDL job is finished"] [category=ddl] [jobID=33]
[2024/05/15 17:11:23.652 +08:00] [INFO] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:11:23.654 +08:00] [INFO] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:35, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:34, RowCount:0, ArgLen:2, start time: 2024-05-15 17:11:23.653 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:11:23.654 +08:00] [INFO] ["start DDL job"] [category=ddl] [job="ID:35, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:34, RowCount:0, ArgLen:2, start time: 2024-05-15 17:11:23.653 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.role_edges (\n\t\tFROM_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tFROM_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tWITH_ADMIN_OPTION \tENUM('N','Y') CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (FROM_HOST,FROM_USER,TO_HOST,TO_USER)\n\t);"]
[2024/05/15 17:11:23.658 +08:00] [INFO] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=35] [category=ddl] [job="ID:35, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:34, RowCount:0, ArgLen:0, start time: 2024-05-15 17:11:23.653 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:11:23.670 +08:00] [INFO] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=35] [job="ID:35, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:34, RowCount:0, ArgLen:0, start time: 2024-05-15 17:11:23.653 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:11:23.673 +08:00] [INFO] ["DDL job is finished"] [category=ddl] [jobID=35]
[2024/05/15 17:11:23.673 +08:00] [INFO] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:11:23.675 +08:00] [INFO] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:37, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:36, RowCount:0, ArgLen:2, start time: 2024-05-15 17:11:23.674 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:11:23.675 +08:00] [INFO] ["start DDL job"] [category=ddl] [job="ID:37, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:36, RowCount:0, ArgLen:2, start time: 2024-05-15 17:11:23.674 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.default_roles (\n\t\tHOST \t\t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tUSER \t\t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tDEFAULT_ROLE_HOST \tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '%',\n\t\tDEFAULT_ROLE_USER \tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tPRIMARY KEY (HOST,USER,DEFAULT_ROLE_HOST,DEFAULT_ROLE_USER)\n\t)"]
[2024/05/15 17:11:23.679 +08:00] [INFO] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=37] [category=ddl] [job="ID:37, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:36, RowCount:0, ArgLen:0, start time: 2024-05-15 17:11:23.674 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:11:23.689 +08:00] [INFO] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=37] [job="ID:37, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:36, RowCount:0, ArgLen:0, start time: 2024-05-15 17:11:23.674 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:11:23.691 +08:00] [INFO] ["DDL job is finished"] [category=ddl] [jobID=37]
[2024/05/15 17:11:23.691 +08:00] [INFO] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:11:23.694 +08:00] [INFO] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:39, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:38, RowCount:0, ArgLen:2, start time: 2024-05-15 17:11:23.693 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:11:23.694 +08:00] [INFO] ["start DDL job"] [category=ddl] [job="ID:39, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:38, RowCount:0, ArgLen:2, start time: 2024-05-15 17:11:23.693 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.bind_info (\n\t\toriginal_sql TEXT NOT NULL,\n\t\tbind_sql TEXT NOT NULL,\n\t\tdefault_db TEXT NOT NULL,\n\t\tstatus TEXT NOT NULL,\n\t\tcreate_time TIMESTAMP(3) NOT NULL,\n\t\tupdate_time TIMESTAMP(3) NOT NULL,\n\t\tcharset TEXT NOT NULL,\n\t\tcollation TEXT NOT NULL,\n\t\tsource VARCHAR(10) NOT NULL DEFAULT 'unknown',\n\t\tsql_digest varchar(64),\n\t\tplan_digest varchar(64),\n\t\tINDEX sql_index(original_sql(700),default_db(68)) COMMENT \"accelerate the speed when add global binding query\",\n\t\tINDEX time_index(update_time) COMMENT \"accelerate the speed when querying with last update time\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"]
[2024/05/15 17:11:23.697 +08:00] [INFO] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=39] [category=ddl] [job="ID:39, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:38, RowCount:0, ArgLen:0, start time: 2024-05-15 17:11:23.693 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:11:23.707 +08:00] [INFO] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=39] [job="ID:39, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:38, RowCount:0, ArgLen:0, start time: 2024-05-15 17:11:23.693 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:11:23.710 +08:00] [INFO] ["DDL job is finished"] [category=ddl] [jobID=39]
[2024/05/15 17:11:23.710 +08:00] [INFO] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:11:23.713 +08:00] [INFO] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:41, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:40, RowCount:0, ArgLen:2, start time: 2024-05-15 17:11:23.712 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:11:23.713 +08:00] [INFO] ["start DDL job"] [category=ddl] [job="ID:41, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:40, RowCount:0, ArgLen:2, start time: 2024-05-15 17:11:23.712 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_top_n (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tvalue \t\tLONGBLOB,\n\t\tcount \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\tINDEX tbl(table_id, is_index, hist_id)\n\t);"]
[2024/05/15 17:11:23.716 +08:00] [INFO] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=41] [category=ddl] [job="ID:41, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:40, RowCount:0, ArgLen:0, start time: 2024-05-15 17:11:23.712 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:11:23.724 +08:00] [INFO] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=41] [job="ID:41, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:40, RowCount:0, ArgLen:0, start time: 2024-05-15 17:11:23.712 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:11:23.725 +08:00] [INFO] ["DDL job is finished"] [category=ddl] [jobID=41]
[2024/05/15 17:11:23.725 +08:00] [INFO] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:11:23.727 +08:00] [INFO] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:43, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:42, RowCount:0, ArgLen:2, start time: 2024-05-15 17:11:23.726 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:11:23.727 +08:00] [INFO] ["start DDL job"] [category=ddl] [job="ID:43, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:42, RowCount:0, ArgLen:2, start time: 2024-05-15 17:11:23.726 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.expr_pushdown_blacklist (\n\t\tname \t\tCHAR(100) NOT NULL,\n\t\tstore_type \tCHAR(100) NOT NULL DEFAULT 'tikv,tiflash,tidb',\n\t\treason \t\tVARCHAR(200)\n\t);"]
[2024/05/15 17:11:23.730 +08:00] [INFO] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=43] [category=ddl] [job="ID:43, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:42, RowCount:0, ArgLen:0, start time: 2024-05-15 17:11:23.726 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:11:23.738 +08:00] [INFO] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=43] [job="ID:43, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:42, RowCount:0, ArgLen:0, start time: 2024-05-15 17:11:23.726 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:11:23.739 +08:00] [INFO] ["DDL job is finished"] [category=ddl] [jobID=43]
[2024/05/15 17:11:23.739 +08:00] [INFO] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:11:23.741 +08:00] [INFO] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:45, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:44, RowCount:0, ArgLen:2, start time: 2024-05-15 17:11:23.74 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:11:23.741 +08:00] [INFO] ["start DDL job"] [category=ddl] [job="ID:45, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:44, RowCount:0, ArgLen:2, start time: 2024-05-15 17:11:23.74 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.opt_rule_blacklist (\n\t\tname \tCHAR(100) NOT NULL\n\t);"]
[2024/05/15 17:11:23.745 +08:00] [INFO] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=45] [category=ddl] [job="ID:45, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:44, RowCount:0, ArgLen:0, start time: 2024-05-15 17:11:23.74 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:11:23.752 +08:00] [INFO] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=45] [job="ID:45, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:44, RowCount:0, ArgLen:0, start time: 2024-05-15 17:11:23.74 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:11:23.754 +08:00] [INFO] ["DDL job is finished"] [category=ddl] [jobID=45]
[2024/05/15 17:11:23.754 +08:00] [INFO] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:11:23.756 +08:00] [INFO] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:47, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:46, RowCount:0, ArgLen:2, start time: 2024-05-15 17:11:23.755 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:11:23.756 +08:00] [INFO] ["start DDL job"] [category=ddl] [job="ID:47, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:46, RowCount:0, ArgLen:2, start time: 2024-05-15 17:11:23.755 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_extended (\n\t\tname varchar(32) NOT NULL,\n\t\ttype tinyint(4) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tcolumn_ids varchar(32) NOT NULL,\n\t\tstats blob DEFAULT NULL,\n\t\tversion bigint(64) unsigned NOT NULL,\n\t\tstatus tinyint(4) NOT NULL,\n\t\tPRIMARY KEY(name, table_id),\n\t\tKEY idx_1 (table_id, status, version),\n\t\tKEY idx_2 (status, version)\n\t);"]
[2024/05/15 17:11:23.760 +08:00] [INFO] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=47] [category=ddl] [job="ID:47, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:46, RowCount:0, ArgLen:0, start time: 2024-05-15 17:11:23.755 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:11:23.767 +08:00] [INFO] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=47] [job="ID:47, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:46, RowCount:0, ArgLen:0, start time: 2024-05-15 17:11:23.755 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:11:23.769 +08:00] [INFO] ["DDL job is finished"] [category=ddl] [jobID=47]
[2024/05/15 17:11:23.769 +08:00] [INFO] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:11:23.770 +08:00] [INFO] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:49, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:48, RowCount:0, ArgLen:2, start time: 2024-05-15 17:11:23.77 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:11:23.770 +08:00] [INFO] ["start DDL job"] [category=ddl] [job="ID:49, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:48, RowCount:0, ArgLen:2, start time: 2024-05-15 17:11:23.77 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_fm_sketch (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tvalue \t\tLONGBLOB,\n\t\tINDEX tbl(table_id, is_index, hist_id)\n\t);"]
[2024/05/15 17:11:23.774 +08:00] [INFO] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=49] [category=ddl] [job="ID:49, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:48, RowCount:0, ArgLen:0, start time: 2024-05-15 17:11:23.77 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:11:23.783 +08:00] [INFO] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=49] [job="ID:49, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:48, RowCount:0, ArgLen:0, start time: 2024-05-15 17:11:23.77 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:11:23.785 +08:00] [INFO] ["DDL job is finished"] [category=ddl] [jobID=49]
[2024/05/15 17:11:23.785 +08:00] [INFO] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:11:23.786 +08:00] [INFO] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:51, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:50, RowCount:0, ArgLen:2, start time: 2024-05-15 17:11:23.786 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:11:23.786 +08:00] [INFO] ["start DDL job"] [category=ddl] [job="ID:51, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:50, RowCount:0, ArgLen:2, start time: 2024-05-15 17:11:23.786 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.global_grants (\n\t\tUSER char(32) NOT NULL DEFAULT '',\n\t\tHOST char(255) NOT NULL DEFAULT '',\n\t\tPRIV char(32) NOT NULL DEFAULT '',\n\t\tWITH_GRANT_OPTION enum('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (USER,HOST,PRIV)\n\t);"]
[2024/05/15 17:11:23.790 +08:00] [INFO] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=51] [category=ddl] [job="ID:51, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:50, RowCount:0, ArgLen:0, start time: 2024-05-15 17:11:23.786 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:11:23.798 +08:00] [INFO] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=51] [job="ID:51, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:50, RowCount:0, ArgLen:0, start time: 2024-05-15 17:11:23.786 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:11:23.800 +08:00] [INFO] ["DDL job is finished"] [category=ddl] [jobID=51]
[2024/05/15 17:11:23.800 +08:00] [INFO] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:11:23.802 +08:00] [INFO] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:53, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:52, RowCount:0, ArgLen:2, start time: 2024-05-15 17:11:23.801 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:11:23.802 +08:00] [INFO] ["start DDL job"] [category=ddl] [job="ID:53, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:52, RowCount:0, ArgLen:2, start time: 2024-05-15 17:11:23.801 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.capture_plan_baselines_blacklist (\n\t\tid bigint(64) auto_increment,\n\t\tfilter_type varchar(32) NOT NULL COMMENT \"type of the filter, only db, table and frequency supported now\",\n\t\tfilter_value varchar(32) NOT NULL,\n\t\tkey idx(filter_type),\n\t\tprimary key(id)\n\t);"]
[2024/05/15 17:11:23.805 +08:00] [INFO] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=53] [category=ddl] [job="ID:53, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:52, RowCount:0, ArgLen:0, start time: 2024-05-15 17:11:23.801 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:11:23.814 +08:00] [INFO] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=53] [job="ID:53, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:52, RowCount:0, ArgLen:0, start time: 2024-05-15 17:11:23.801 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:11:23.817 +08:00] [INFO] ["DDL job is finished"] [category=ddl] [jobID=53]
[2024/05/15 17:11:23.817 +08:00] [INFO] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:11:23.818 +08:00] [INFO] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:55, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:54, RowCount:0, ArgLen:2, start time: 2024-05-15 17:11:23.817 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:11:23.818 +08:00] [INFO] ["start DDL job"] [category=ddl] [job="ID:55, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:54, RowCount:0, ArgLen:2, start time: 2024-05-15 17:11:23.817 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.column_stats_usage (\n\t\ttable_id BIGINT(64) NOT NULL,\n\t\tcolumn_id BIGINT(64) NOT NULL,\n\t\tlast_used_at TIMESTAMP,\n\t\tlast_analyzed_at TIMESTAMP,\n\t\tPRIMARY KEY (table_id, column_id) CLUSTERED\n\t);"]
[2024/05/15 17:11:23.822 +08:00] [INFO] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=55] [category=ddl] [job="ID:55, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:54, RowCount:0, ArgLen:0, start time: 2024-05-15 17:11:23.817 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:11:23.829 +08:00] [INFO] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=55] [job="ID:55, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:54, RowCount:0, ArgLen:0, start time: 2024-05-15 17:11:23.817 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:11:23.831 +08:00] [INFO] ["DDL job is finished"] [category=ddl] [jobID=55]
[2024/05/15 17:11:23.831 +08:00] [INFO] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:11:23.833 +08:00] [INFO] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:57, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:56, RowCount:0, ArgLen:2, start time: 2024-05-15 17:11:23.832 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:11:23.833 +08:00] [INFO] ["start DDL job"] [category=ddl] [job="ID:57, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:56, RowCount:0, ArgLen:2, start time: 2024-05-15 17:11:23.832 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.table_cache_meta (\n\t\ttid bigint(11) NOT NULL DEFAULT 0,\n\t\tlock_type enum('NONE','READ', 'INTEND', 'WRITE') NOT NULL DEFAULT 'NONE',\n\t\tlease bigint(20) NOT NULL DEFAULT 0,\n\t\toldReadLease bigint(20) NOT NULL DEFAULT 0,\n\t\tPRIMARY KEY (tid)\n\t);"]
[2024/05/15 17:11:23.837 +08:00] [INFO] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=57] [category=ddl] [job="ID:57, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:56, RowCount:0, ArgLen:0, start time: 2024-05-15 17:11:23.832 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:11:23.845 +08:00] [INFO] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=57] [job="ID:57, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:56, RowCount:0, ArgLen:0, start time: 2024-05-15 17:11:23.832 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:11:23.846 +08:00] [INFO] ["DDL job is finished"] [category=ddl] [jobID=57]
[2024/05/15 17:11:23.846 +08:00] [INFO] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:11:23.847 +08:00] [INFO] ["Automatically convert BLOB(19372) to MEDIUMBLOB"] [category=ddl]
[2024/05/15 17:11:23.849 +08:00] [INFO] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:59, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:58, RowCount:0, ArgLen:2, start time: 2024-05-15 17:11:23.848 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:11:23.849 +08:00] [INFO] ["start DDL job"] [category=ddl] [job="ID:59, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:58, RowCount:0, ArgLen:2, start time: 2024-05-15 17:11:23.848 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.analyze_options (\n\t\ttable_id BIGINT(64) NOT NULL,\n\t\tsample_num BIGINT(64) NOT NULL DEFAULT 0,\n\t\tsample_rate DOUBLE NOT NULL DEFAULT -1,\n\t\tbuckets BIGINT(64) NOT NULL DEFAULT 0,\n\t\ttopn BIGINT(64) NOT NULL DEFAULT -1,\n\t\tcolumn_choice enum('DEFAULT','ALL','PREDICATE','LIST') NOT NULL DEFAULT 'DEFAULT',\n\t\tcolumn_ids TEXT(19372),\n\t\tPRIMARY KEY (table_id) CLUSTERED\n\t);"]
[2024/05/15 17:11:23.854 +08:00] [INFO] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=59] [category=ddl] [job="ID:59, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:58, RowCount:0, ArgLen:0, start time: 2024-05-15 17:11:23.848 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:11:23.869 +08:00] [INFO] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=59] [job="ID:59, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:58, RowCount:0, ArgLen:0, start time: 2024-05-15 17:11:23.848 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:11:23.872 +08:00] [INFO] ["DDL job is finished"] [category=ddl] [jobID=59]
[2024/05/15 17:11:23.872 +08:00] [INFO] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:11:23.875 +08:00] [INFO] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:61, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:60, RowCount:0, ArgLen:2, start time: 2024-05-15 17:11:23.873 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:11:23.875 +08:00] [INFO] ["start DDL job"] [category=ddl] [job="ID:61, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:60, RowCount:0, ArgLen:2, start time: 2024-05-15 17:11:23.873 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_history (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tstats_data longblob NOT NULL,\n\t\tseq_no bigint(64) NOT NULL comment 'sequence number of the gzipped data slice',\n\t\tversion bigint(64) NOT NULL comment 'stats version which corresponding to stats:version in EXPLAIN',\n\t\tcreate_time datetime(6) NOT NULL,\n\t\tUNIQUE KEY table_version_seq (table_id, version, seq_no),\n\t\tKEY table_create_time (table_id, create_time, seq_no),\n    \tKEY idx_create_time (create_time)\n\t);"]
[2024/05/15 17:11:23.882 +08:00] [INFO] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=61] [category=ddl] [job="ID:61, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:60, RowCount:0, ArgLen:0, start time: 2024-05-15 17:11:23.873 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:11:23.896 +08:00] [INFO] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=61] [job="ID:61, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:60, RowCount:0, ArgLen:0, start time: 2024-05-15 17:11:23.873 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:11:23.898 +08:00] [INFO] ["DDL job is finished"] [category=ddl] [jobID=61]
[2024/05/15 17:11:23.898 +08:00] [INFO] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:11:23.900 +08:00] [INFO] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:63, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:62, RowCount:0, ArgLen:2, start time: 2024-05-15 17:11:23.899 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:11:23.900 +08:00] [INFO] ["start DDL job"] [category=ddl] [job="ID:63, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:62, RowCount:0, ArgLen:2, start time: 2024-05-15 17:11:23.899 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_meta_history (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tmodify_count bigint(64) NOT NULL,\n\t\tcount bigint(64) NOT NULL,\n\t\tversion bigint(64) NOT NULL comment 'stats version which corresponding to stats:version in EXPLAIN',\n    \tsource varchar(40) NOT NULL,\n\t\tcreate_time datetime(6) NOT NULL,\n\t\tUNIQUE KEY table_version (table_id, version),\n\t\tKEY table_create_time (table_id, create_time),\n    \tKEY idx_create_time (create_time)\n\t);"]
[2024/05/15 17:11:23.903 +08:00] [INFO] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=63] [category=ddl] [job="ID:63, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:62, RowCount:0, ArgLen:0, start time: 2024-05-15 17:11:23.899 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:11:23.911 +08:00] [INFO] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=63] [job="ID:63, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:62, RowCount:0, ArgLen:0, start time: 2024-05-15 17:11:23.899 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:11:23.913 +08:00] [INFO] ["DDL job is finished"] [category=ddl] [jobID=63]
[2024/05/15 17:11:23.913 +08:00] [INFO] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:11:23.914 +08:00] [INFO] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:65, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:64, RowCount:0, ArgLen:2, start time: 2024-05-15 17:11:23.913 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:11:23.914 +08:00] [INFO] ["start DDL job"] [category=ddl] [job="ID:65, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:64, RowCount:0, ArgLen:2, start time: 2024-05-15 17:11:23.913 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.analyze_jobs (\n\t\tid BIGINT(64) UNSIGNED NOT NULL AUTO_INCREMENT,\n\t\tupdate_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\ttable_schema CHAR(64) NOT NULL DEFAULT '',\n\t\ttable_name CHAR(64) NOT NULL DEFAULT '',\n\t\tpartition_name CHAR(64) NOT NULL DEFAULT '',\n\t\tjob_info TEXT NOT NULL,\n\t\tprocessed_rows BIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tstart_time TIMESTAMP,\n\t\tend_time TIMESTAMP,\n\t\tstate ENUM('pending', 'running', 'finished', 'failed') NOT NULL,\n\t\tfail_reason TEXT,\n\t\tinstance VARCHAR(512) NOT NULL comment 'address of the TiDB instance executing the analyze job',\n\t\tprocess_id BIGINT(64) UNSIGNED comment 'ID of the process executing the analyze job',\n\t\tPRIMARY KEY (id),\n\t\tKEY (update_time)\n\t);"]
[2024/05/15 17:11:23.918 +08:00] [INFO] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=65] [category=ddl] [job="ID:65, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:64, RowCount:0, ArgLen:0, start time: 2024-05-15 17:11:23.913 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:11:23.925 +08:00] [INFO] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=65] [job="ID:65, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:64, RowCount:0, ArgLen:0, start time: 2024-05-15 17:11:23.913 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:11:23.927 +08:00] [INFO] ["DDL job is finished"] [category=ddl] [jobID=65]
[2024/05/15 17:11:23.927 +08:00] [INFO] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:11:23.929 +08:00] [INFO] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:67, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:66, RowCount:0, ArgLen:2, start time: 2024-05-15 17:11:23.928 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:11:23.929 +08:00] [INFO] ["start DDL job"] [category=ddl] [job="ID:67, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:66, RowCount:0, ArgLen:2, start time: 2024-05-15 17:11:23.928 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.advisory_locks (\n\t\tlock_name VARCHAR(64) NOT NULL PRIMARY KEY\n\t);"]
[2024/05/15 17:11:23.932 +08:00] [INFO] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=67] [category=ddl] [job="ID:67, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:66, RowCount:0, ArgLen:0, start time: 2024-05-15 17:11:23.928 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:11:23.939 +08:00] [INFO] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=67] [job="ID:67, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:66, RowCount:0, ArgLen:0, start time: 2024-05-15 17:11:23.928 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:11:23.940 +08:00] [INFO] ["DDL job is finished"] [category=ddl] [jobID=67]
[2024/05/15 17:11:23.940 +08:00] [INFO] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:11:23.946 +08:00] [INFO] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:69, Type:create view, State:queueing, SchemaState:none, SchemaID:1, TableID:68, RowCount:0, ArgLen:3, start time: 2024-05-15 17:11:23.945 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:11:23.946 +08:00] [INFO] ["start DDL job"] [category=ddl] [job="ID:69, Type:create view, State:queueing, SchemaState:none, SchemaID:1, TableID:68, RowCount:0, ArgLen:3, start time: 2024-05-15 17:11:23.945 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE OR REPLACE VIEW mysql.tidb_mdl_view as (\n\t\tSELECT tidb_mdl_info.job_id,\n\t\t\tJSON_UNQUOTE(JSON_EXTRACT(cast(cast(job_meta as char) as json), \"$.schema_name\")) as db_name,\n\t\t\tJSON_UNQUOTE(JSON_EXTRACT(cast(cast(job_meta as char) as json), \"$.table_name\")) as table_name,\n\t\t\tJSON_UNQUOTE(JSON_EXTRACT(cast(cast(job_meta as char) as json), \"$.query\")) as query,\n\t\t\tsession_id,\n\t\t\tcluster_tidb_trx.start_time,\n\t\t\ttidb_decode_sql_digests(all_sql_digests, 4096) AS SQL_DIGESTS\n\t\tFROM mysql.tidb_ddl_job,\n\t\t\tmysql.tidb_mdl_info,\n\t\t\tinformation_schema.cluster_tidb_trx\n\t\tWHERE tidb_ddl_job.job_id=tidb_mdl_info.job_id\n\t\t\tAND CONCAT(',', tidb_mdl_info.table_ids, ',') REGEXP CONCAT(',(', REPLACE(cluster_tidb_trx.related_table_ids, ',', '|'), '),') != 0\n\t);"]
[2024/05/15 17:11:23.950 +08:00] [INFO] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=69] [category=ddl] [job="ID:69, Type:create view, State:queueing, SchemaState:none, SchemaID:1, TableID:68, RowCount:0, ArgLen:0, start time: 2024-05-15 17:11:23.945 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:11:23.959 +08:00] [INFO] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=69] [job="ID:69, Type:create view, State:synced, SchemaState:public, SchemaID:1, TableID:68, RowCount:0, ArgLen:0, start time: 2024-05-15 17:11:23.945 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:11:23.961 +08:00] [INFO] ["DDL job is finished"] [category=ddl] [jobID=69]
[2024/05/15 17:11:23.961 +08:00] [INFO] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:11:23.963 +08:00] [INFO] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:71, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:70, RowCount:0, ArgLen:2, start time: 2024-05-15 17:11:23.962 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:11:23.963 +08:00] [INFO] ["start DDL job"] [category=ddl] [job="ID:71, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:70, RowCount:0, ArgLen:2, start time: 2024-05-15 17:11:23.962 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.plan_replayer_status (\n\t\tsql_digest VARCHAR(128),\n\t\tplan_digest VARCHAR(128),\n\t\torigin_sql TEXT,\n\t\ttoken VARCHAR(128),\n\t\tupdate_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\tfail_reason TEXT,\n\t\tinstance VARCHAR(512) NOT NULL comment 'address of the TiDB instance executing the plan replayer job');"]
[2024/05/15 17:11:23.966 +08:00] [INFO] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=71] [category=ddl] [job="ID:71, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:70, RowCount:0, ArgLen:0, start time: 2024-05-15 17:11:23.962 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:11:23.973 +08:00] [INFO] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=71] [job="ID:71, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:70, RowCount:0, ArgLen:0, start time: 2024-05-15 17:11:23.962 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:11:23.974 +08:00] [INFO] ["DDL job is finished"] [category=ddl] [jobID=71]
[2024/05/15 17:11:23.974 +08:00] [INFO] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:11:23.976 +08:00] [INFO] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:73, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:72, RowCount:0, ArgLen:2, start time: 2024-05-15 17:11:23.975 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:11:23.976 +08:00] [INFO] ["start DDL job"] [category=ddl] [job="ID:73, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:72, RowCount:0, ArgLen:2, start time: 2024-05-15 17:11:23.975 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.plan_replayer_task (\n\t\tsql_digest VARCHAR(128) NOT NULL,\n\t\tplan_digest VARCHAR(128) NOT NULL,\n\t\tupdate_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\tPRIMARY KEY (sql_digest,plan_digest));"]
[2024/05/15 17:11:23.979 +08:00] [INFO] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=73] [category=ddl] [job="ID:73, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:72, RowCount:0, ArgLen:0, start time: 2024-05-15 17:11:23.975 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:11:23.985 +08:00] [INFO] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=73] [job="ID:73, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:72, RowCount:0, ArgLen:0, start time: 2024-05-15 17:11:23.975 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:11:23.987 +08:00] [INFO] ["DDL job is finished"] [category=ddl] [jobID=73]
[2024/05/15 17:11:23.987 +08:00] [INFO] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:11:23.988 +08:00] [INFO] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:75, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:74, RowCount:0, ArgLen:2, start time: 2024-05-15 17:11:23.987 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:11:23.988 +08:00] [INFO] ["start DDL job"] [category=ddl] [job="ID:75, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:74, RowCount:0, ArgLen:2, start time: 2024-05-15 17:11:23.987 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_table_locked(\n\t\ttable_id bigint(64) NOT NULL,\n\t\tmodify_count bigint(64) NOT NULL DEFAULT 0,\n\t\tcount bigint(64) NOT NULL DEFAULT 0,\n\t\tversion bigint(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tPRIMARY KEY (table_id));"]
[2024/05/15 17:11:23.991 +08:00] [INFO] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=75] [category=ddl] [job="ID:75, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:74, RowCount:0, ArgLen:0, start time: 2024-05-15 17:11:23.987 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:11:23.998 +08:00] [INFO] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=75] [job="ID:75, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:74, RowCount:0, ArgLen:0, start time: 2024-05-15 17:11:23.987 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:11:24.000 +08:00] [INFO] ["DDL job is finished"] [category=ddl] [jobID=75]
[2024/05/15 17:11:24.000 +08:00] [INFO] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:11:24.001 +08:00] [INFO] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:77, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:76, RowCount:0, ArgLen:2, start time: 2024-05-15 17:11:24.001 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:11:24.001 +08:00] [INFO] ["start DDL job"] [category=ddl] [job="ID:77, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:76, RowCount:0, ArgLen:2, start time: 2024-05-15 17:11:24.001 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_ttl_table_status (\n\t\ttable_id bigint(64) PRIMARY KEY,\n        parent_table_id bigint(64),\n        table_statistics text DEFAULT NULL,\n\t\tlast_job_id varchar(64) DEFAULT NULL,\n\t\tlast_job_start_time timestamp NULL DEFAULT NULL,\n\t\tlast_job_finish_time timestamp NULL DEFAULT NULL,\n\t\tlast_job_ttl_expire timestamp NULL DEFAULT NULL,\n        last_job_summary text DEFAULT NULL,\n\t\tcurrent_job_id varchar(64) DEFAULT NULL,\n\t\tcurrent_job_owner_id varchar(64) DEFAULT NULL,\n\t\tcurrent_job_owner_addr varchar(256) DEFAULT NULL,\n\t\tcurrent_job_owner_hb_time timestamp,\n\t\tcurrent_job_start_time timestamp NULL DEFAULT NULL,\n\t\tcurrent_job_ttl_expire timestamp NULL DEFAULT NULL,\n\t\tcurrent_job_state text DEFAULT NULL,\n\t\tcurrent_job_status varchar(64) DEFAULT NULL,\n  \t\tcurrent_job_status_update_time timestamp NULL DEFAULT NULL);"]
[2024/05/15 17:11:24.005 +08:00] [INFO] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=77] [category=ddl] [job="ID:77, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:76, RowCount:0, ArgLen:0, start time: 2024-05-15 17:11:24.001 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:11:24.013 +08:00] [INFO] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=77] [job="ID:77, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:76, RowCount:0, ArgLen:0, start time: 2024-05-15 17:11:24.001 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:11:24.015 +08:00] [INFO] ["DDL job is finished"] [category=ddl] [jobID=77]
[2024/05/15 17:11:24.015 +08:00] [INFO] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:11:24.017 +08:00] [INFO] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:79, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:78, RowCount:0, ArgLen:2, start time: 2024-05-15 17:11:24.016 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:11:24.017 +08:00] [INFO] ["start DDL job"] [category=ddl] [job="ID:79, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:78, RowCount:0, ArgLen:2, start time: 2024-05-15 17:11:24.016 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_ttl_task (\n\t\tjob_id varchar(64) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tscan_id int NOT NULL,\n\t\tscan_range_start BLOB,\n\t\tscan_range_end BLOB,\n\t\texpire_time timestamp NOT NULL,\n\t\towner_id varchar(64) DEFAULT NULL,\n\t\towner_addr varchar(64) DEFAULT NULL,\n\t\towner_hb_time timestamp DEFAULT NULL,\n\t\tstatus varchar(64) DEFAULT 'waiting',\n\t\tstatus_update_time timestamp NULL DEFAULT NULL,\n\t\tstate text,\n\t\tcreated_time timestamp NOT NULL,\n\t\tprimary key(job_id, scan_id),\n\t\tkey(created_time));"]
[2024/05/15 17:11:24.021 +08:00] [INFO] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=79] [category=ddl] [job="ID:79, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:78, RowCount:0, ArgLen:0, start time: 2024-05-15 17:11:24.016 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:11:24.029 +08:00] [INFO] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=79] [job="ID:79, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:78, RowCount:0, ArgLen:0, start time: 2024-05-15 17:11:24.016 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:11:24.031 +08:00] [INFO] ["DDL job is finished"] [category=ddl] [jobID=79]
[2024/05/15 17:11:24.031 +08:00] [INFO] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:11:24.033 +08:00] [INFO] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:81, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:80, RowCount:0, ArgLen:2, start time: 2024-05-15 17:11:24.032 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:11:24.033 +08:00] [INFO] ["start DDL job"] [category=ddl] [job="ID:81, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:80, RowCount:0, ArgLen:2, start time: 2024-05-15 17:11:24.032 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_ttl_job_history (\n\t\tjob_id varchar(64) PRIMARY KEY,\n\t\ttable_id bigint(64) NOT NULL,\n        parent_table_id bigint(64) NOT NULL,\n    \ttable_schema varchar(64) NOT NULL,\n\t\ttable_name varchar(64) NOT NULL,\n    \tpartition_name varchar(64) DEFAULT NULL,\n\t\tcreate_time timestamp NOT NULL,\n\t\tfinish_time timestamp NOT NULL,\n\t\tttl_expire timestamp NOT NULL,\n        summary_text text,\n\t\texpired_rows bigint(64) DEFAULT NULL,\n    \tdeleted_rows bigint(64) DEFAULT NULL,\n    \terror_delete_rows bigint(64) DEFAULT NULL,\n    \tstatus varchar(64) NOT NULL,\n    \tkey(table_schema, table_name, create_time),\n    \tkey(parent_table_id, create_time),\n    \tkey(create_time)\n\t);"]
[2024/05/15 17:11:24.036 +08:00] [INFO] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=81] [category=ddl] [job="ID:81, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:80, RowCount:0, ArgLen:0, start time: 2024-05-15 17:11:24.032 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:11:24.045 +08:00] [INFO] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=81] [job="ID:81, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:80, RowCount:0, ArgLen:0, start time: 2024-05-15 17:11:24.032 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:11:24.047 +08:00] [INFO] ["DDL job is finished"] [category=ddl] [jobID=81]
[2024/05/15 17:11:24.047 +08:00] [INFO] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:11:24.050 +08:00] [INFO] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:83, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:82, RowCount:0, ArgLen:2, start time: 2024-05-15 17:11:24.049 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:11:24.050 +08:00] [INFO] ["start DDL job"] [category=ddl] [job="ID:83, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:82, RowCount:0, ArgLen:2, start time: 2024-05-15 17:11:24.049 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_global_task (\n\t\tid BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n    \ttask_key VARCHAR(256) NOT NULL,\n\t\ttype VARCHAR(256) NOT NULL,\n\t\tdispatcher_id VARCHAR(261),\n\t\tstate VARCHAR(64) NOT NULL,\n\t\tpriority INT DEFAULT 1,\n\t\tcreate_time TIMESTAMP,\n\t\tstart_time TIMESTAMP,\n\t\tstate_update_time TIMESTAMP,\n\t\tend_time TIMESTAMP,\n\t\tmeta LONGBLOB,\n\t\tconcurrency INT(11),\n\t\tstep INT(11),\n\t\ttarget_scope VARCHAR(256) DEFAULT \"\",\n\t\terror BLOB,\n\t\tkey(state),\n      \tUNIQUE KEY task_key(task_key)\n\t);"]
[2024/05/15 17:11:24.054 +08:00] [INFO] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=83] [category=ddl] [job="ID:83, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:82, RowCount:0, ArgLen:0, start time: 2024-05-15 17:11:24.049 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:11:24.063 +08:00] [INFO] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=83] [job="ID:83, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:82, RowCount:0, ArgLen:0, start time: 2024-05-15 17:11:24.049 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:11:24.065 +08:00] [INFO] ["DDL job is finished"] [category=ddl] [jobID=83]
[2024/05/15 17:11:24.065 +08:00] [INFO] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:11:24.067 +08:00] [INFO] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:85, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:84, RowCount:0, ArgLen:2, start time: 2024-05-15 17:11:24.066 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:11:24.067 +08:00] [INFO] ["start DDL job"] [category=ddl] [job="ID:85, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:84, RowCount:0, ArgLen:2, start time: 2024-05-15 17:11:24.066 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_global_task_history (\n\t\tid BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n    \ttask_key VARCHAR(256) NOT NULL,\n\t\ttype VARCHAR(256) NOT NULL,\n\t\tdispatcher_id VARCHAR(261),\n\t\tstate VARCHAR(64) NOT NULL,\n\t\tpriority INT DEFAULT 1,\n\t\tcreate_time TIMESTAMP,\n\t\tstart_time TIMESTAMP,\n\t\tstate_update_time TIMESTAMP,\n\t\tend_time TIMESTAMP,\n\t\tmeta LONGBLOB,\n\t\tconcurrency INT(11),\n\t\tstep INT(11),\n\t\ttarget_scope VARCHAR(256) DEFAULT \"\",\n\t\terror BLOB,\n\t\tkey(state),\n      \tUNIQUE KEY task_key(task_key)\n\t);"]
[2024/05/15 17:11:24.071 +08:00] [INFO] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=85] [category=ddl] [job="ID:85, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:84, RowCount:0, ArgLen:0, start time: 2024-05-15 17:11:24.066 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:11:24.080 +08:00] [INFO] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=85] [job="ID:85, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:84, RowCount:0, ArgLen:0, start time: 2024-05-15 17:11:24.066 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:11:24.082 +08:00] [INFO] ["DDL job is finished"] [category=ddl] [jobID=85]
[2024/05/15 17:11:24.082 +08:00] [INFO] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:11:24.084 +08:00] [INFO] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:87, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:86, RowCount:0, ArgLen:2, start time: 2024-05-15 17:11:24.083 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:11:24.084 +08:00] [INFO] ["start DDL job"] [category=ddl] [job="ID:87, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:86, RowCount:0, ArgLen:2, start time: 2024-05-15 17:11:24.083 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_import_jobs (\n\t\tid bigint(64) NOT NULL AUTO_INCREMENT,\n\t\tcreate_time TIMESTAMP(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6),\n\t\tstart_time TIMESTAMP(6) NULL DEFAULT NULL,\n\t\tupdate_time TIMESTAMP(6) NULL DEFAULT NULL,\n\t\tend_time TIMESTAMP(6) NULL DEFAULT NULL,\n\t\ttable_schema VARCHAR(64) NOT NULL,\n\t\ttable_name VARCHAR(64) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tcreated_by VARCHAR(300) NOT NULL,\n\t\tparameters text NOT NULL,\n\t\tsource_file_size bigint(64) NOT NULL,\n\t\tstatus VARCHAR(64) NOT NULL,\n\t\tstep VARCHAR(64) NOT NULL,\n\t\tsummary text DEFAULT NULL,\n\t\terror_message TEXT DEFAULT NULL,\n\t\tPRIMARY KEY (id),\n\t\tKEY (created_by),\n\t\tKEY (status));"]
[2024/05/15 17:11:24.088 +08:00] [INFO] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=87] [category=ddl] [job="ID:87, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:86, RowCount:0, ArgLen:0, start time: 2024-05-15 17:11:24.083 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:11:24.106 +08:00] [INFO] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=87] [job="ID:87, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:86, RowCount:0, ArgLen:0, start time: 2024-05-15 17:11:24.083 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:11:24.109 +08:00] [INFO] ["DDL job is finished"] [category=ddl] [jobID=87]
[2024/05/15 17:11:24.109 +08:00] [INFO] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:11:24.113 +08:00] [INFO] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:89, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:88, RowCount:0, ArgLen:2, start time: 2024-05-15 17:11:24.112 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:11:24.113 +08:00] [INFO] ["start DDL job"] [category=ddl] [job="ID:89, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:88, RowCount:0, ArgLen:2, start time: 2024-05-15 17:11:24.112 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_runaway_watch (\n\t\tid BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n\t\tresource_group_name varchar(32) not null,\n\t\tstart_time datetime(6) NOT NULL,\n\t\tend_time datetime(6),\n\t\twatch bigint(10) NOT NULL,\n\t\twatch_text TEXT NOT NULL,\n\t\tsource varchar(512) NOT NULL,\n\t\taction bigint(10),\n\t\tINDEX sql_index(resource_group_name,watch_text(700)) COMMENT \"accelerate the speed when select quarantined query\",\n\t\tINDEX time_index(end_time) COMMENT \"accelerate the speed when querying with active watch\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"]
[2024/05/15 17:11:24.121 +08:00] [INFO] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=89] [category=ddl] [job="ID:89, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:88, RowCount:0, ArgLen:0, start time: 2024-05-15 17:11:24.112 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:11:24.131 +08:00] [INFO] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=89] [job="ID:89, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:88, RowCount:0, ArgLen:0, start time: 2024-05-15 17:11:24.112 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:11:24.133 +08:00] [INFO] ["DDL job is finished"] [category=ddl] [jobID=89]
[2024/05/15 17:11:24.133 +08:00] [INFO] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:11:24.134 +08:00] [INFO] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:91, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:90, RowCount:0, ArgLen:2, start time: 2024-05-15 17:11:24.133 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:11:24.134 +08:00] [INFO] ["start DDL job"] [category=ddl] [job="ID:91, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:90, RowCount:0, ArgLen:2, start time: 2024-05-15 17:11:24.133 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_runaway_queries (\n\t\tresource_group_name varchar(32) not null,\n\t\ttime TIMESTAMP NOT NULL,\n\t\tmatch_type varchar(12) NOT NULL,\n\t\taction varchar(12) NOT NULL,\n\t\toriginal_sql TEXT NOT NULL,\n\t\tplan_digest TEXT NOT NULL,\n\t\ttidb_server varchar(512),\n\t\tINDEX plan_index(plan_digest(64)) COMMENT \"accelerate the speed when select runaway query\",\n\t\tINDEX time_index(time) COMMENT \"accelerate the speed when querying with active watch\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"]
[2024/05/15 17:11:24.140 +08:00] [INFO] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=91] [category=ddl] [job="ID:91, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:90, RowCount:0, ArgLen:0, start time: 2024-05-15 17:11:24.133 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:11:24.148 +08:00] [INFO] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=91] [job="ID:91, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:90, RowCount:0, ArgLen:0, start time: 2024-05-15 17:11:24.133 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:11:24.150 +08:00] [INFO] ["DDL job is finished"] [category=ddl] [jobID=91]
[2024/05/15 17:11:24.150 +08:00] [INFO] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:11:24.151 +08:00] [INFO] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:93, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:92, RowCount:0, ArgLen:2, start time: 2024-05-15 17:11:24.15 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:11:24.151 +08:00] [INFO] ["start DDL job"] [category=ddl] [job="ID:93, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:92, RowCount:0, ArgLen:2, start time: 2024-05-15 17:11:24.15 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS `mysql`.`tidb_timers` (\n\t\tID BIGINT(64) UNSIGNED NOT NULL AUTO_INCREMENT,\n\t\tNAMESPACE VARCHAR(256) NOT NULL,\n\t\tTIMER_KEY VARCHAR(256) NOT NULL,\n\t\tTIMER_DATA BLOB,\n\t\tTIMEZONE VARCHAR(64) NOT NULL,\n\t\tSCHED_POLICY_TYPE VARCHAR(32) NOT NULL,\n\t\tSCHED_POLICY_EXPR VARCHAR(256) NOT NULL,\n\t\tHOOK_CLASS VARCHAR(64) NOT NULL,\n\t\tWATERMARK TIMESTAMP DEFAULT NULL,\n\t\tENABLE TINYINT(2) NOT NULL,\n\t\tTIMER_EXT JSON NOT NULL,\n\t\tEVENT_STATUS VARCHAR(32) NOT NULL,\n\t\tEVENT_ID VARCHAR(64) NOT NULL,\n\t\tEVENT_DATA BLOB,\n\t\tEVENT_START TIMESTAMP DEFAULT NULL,\n\t\tSUMMARY_DATA BLOB,\n\t\tCREATE_TIME TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,\n\t\tUPDATE_TIME TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\tVERSION BIGINT(64) UNSIGNED NOT NULL,\n\t\tPRIMARY KEY (ID),\n\t\tUNIQUE KEY timer_key(NAMESPACE, TIMER_KEY),\n\t\tKEY hook_class(HOOK_CLASS)\n\t)"]
[2024/05/15 17:11:24.155 +08:00] [INFO] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=93] [category=ddl] [job="ID:93, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:92, RowCount:0, ArgLen:0, start time: 2024-05-15 17:11:24.15 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:11:24.164 +08:00] [INFO] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=93] [job="ID:93, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:92, RowCount:0, ArgLen:0, start time: 2024-05-15 17:11:24.15 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:11:24.166 +08:00] [INFO] ["DDL job is finished"] [category=ddl] [jobID=93]
[2024/05/15 17:11:24.166 +08:00] [INFO] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:11:24.168 +08:00] [INFO] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:95, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:94, RowCount:0, ArgLen:2, start time: 2024-05-15 17:11:24.167 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:11:24.168 +08:00] [INFO] ["start DDL job"] [category=ddl] [job="ID:95, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:94, RowCount:0, ArgLen:2, start time: 2024-05-15 17:11:24.167 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_runaway_watch_done (\n\t\tid BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n\t\trecord_id BIGINT(20) not null,\n\t\tresource_group_name varchar(32) not null,\n\t\tstart_time datetime(6) NOT NULL,\n\t\tend_time datetime(6),\n\t\twatch bigint(10) NOT NULL,\n\t\twatch_text TEXT NOT NULL,\n\t\tsource varchar(512) NOT NULL,\n\t\taction bigint(10),\n\t\tdone_time TIMESTAMP(6) NOT NULL\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"]
[2024/05/15 17:11:24.172 +08:00] [INFO] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=95] [category=ddl] [job="ID:95, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:94, RowCount:0, ArgLen:0, start time: 2024-05-15 17:11:24.167 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:11:24.180 +08:00] [INFO] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=95] [job="ID:95, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:94, RowCount:0, ArgLen:0, start time: 2024-05-15 17:11:24.167 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:11:24.182 +08:00] [INFO] ["DDL job is finished"] [category=ddl] [jobID=95]
[2024/05/15 17:11:24.182 +08:00] [INFO] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:11:24.184 +08:00] [INFO] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:97, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:96, RowCount:0, ArgLen:2, start time: 2024-05-15 17:11:24.183 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:11:24.184 +08:00] [INFO] ["start DDL job"] [category=ddl] [job="ID:97, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:96, RowCount:0, ArgLen:2, start time: 2024-05-15 17:11:24.183 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.dist_framework_meta (\n        host VARCHAR(261) NOT NULL PRIMARY KEY,\n        role VARCHAR(64),\n        cpu_count int default 0,\n        keyspace_id bigint(8) NOT NULL DEFAULT -1\n    );"]
[2024/05/15 17:11:24.187 +08:00] [INFO] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=97] [category=ddl] [job="ID:97, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:96, RowCount:0, ArgLen:0, start time: 2024-05-15 17:11:24.183 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:11:24.195 +08:00] [INFO] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=97] [job="ID:97, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:96, RowCount:0, ArgLen:0, start time: 2024-05-15 17:11:24.183 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:11:24.197 +08:00] [INFO] ["DDL job is finished"] [category=ddl] [jobID=97]
[2024/05/15 17:11:24.197 +08:00] [INFO] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:11:24.199 +08:00] [INFO] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:99, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:98, RowCount:0, ArgLen:2, start time: 2024-05-15 17:11:24.198 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:11:24.199 +08:00] [INFO] ["start DDL job"] [category=ddl] [job="ID:99, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:98, RowCount:0, ArgLen:2, start time: 2024-05-15 17:11:24.198 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.request_unit_by_group (\n\t\tstart_time TIMESTAMP(6) NOT NULL,\n\t\tend_time TIMESTAMP(6) NOT NULL,\n\t\tresource_group VARCHAR(32) NOT null,\n\t\ttotal_ru bigint(64) UNSIGNED NOT NULL,\n\t\tPRIMARY KEY (start_time, end_time, resource_group),\n\t\tKEY (resource_group)\n\t);"]
[2024/05/15 17:11:24.203 +08:00] [INFO] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=99] [category=ddl] [job="ID:99, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:98, RowCount:0, ArgLen:0, start time: 2024-05-15 17:11:24.198 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:11:24.212 +08:00] [INFO] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=99] [job="ID:99, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:98, RowCount:0, ArgLen:0, start time: 2024-05-15 17:11:24.198 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:11:24.214 +08:00] [INFO] ["DDL job is finished"] [category=ddl] [jobID=99]
[2024/05/15 17:11:24.214 +08:00] [INFO] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:11:24.216 +08:00] [INFO] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:101, Type:create schema, State:queueing, SchemaState:none, SchemaID:100, TableID:0, RowCount:0, ArgLen:1, start time: 2024-05-15 17:11:24.215 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:11:24.216 +08:00] [INFO] ["start DDL job"] [category=ddl] [job="ID:101, Type:create schema, State:queueing, SchemaState:none, SchemaID:100, TableID:0, RowCount:0, ArgLen:1, start time: 2024-05-15 17:11:24.215 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE DATABASE IF NOT EXISTS sys;"]
[2024/05/15 17:11:24.219 +08:00] [INFO] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=101] [category=ddl] [job="ID:101, Type:create schema, State:queueing, SchemaState:none, SchemaID:100, TableID:0, RowCount:0, ArgLen:0, start time: 2024-05-15 17:11:24.215 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:11:24.227 +08:00] [INFO] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=101] [job="ID:101, Type:create schema, State:synced, SchemaState:public, SchemaID:100, TableID:0, RowCount:0, ArgLen:0, start time: 2024-05-15 17:11:24.215 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:11:24.228 +08:00] [INFO] ["DDL job is finished"] [category=ddl] [jobID=101]
[2024/05/15 17:11:24.228 +08:00] [INFO] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:11:24.232 +08:00] [INFO] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:103, Type:create view, State:queueing, SchemaState:none, SchemaID:100, TableID:102, RowCount:0, ArgLen:3, start time: 2024-05-15 17:11:24.231 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:11:24.232 +08:00] [INFO] ["start DDL job"] [category=ddl] [job="ID:103, Type:create view, State:queueing, SchemaState:none, SchemaID:100, TableID:102, RowCount:0, ArgLen:3, start time: 2024-05-15 17:11:24.231 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE OR REPLACE VIEW sys.schema_unused_indexes AS\n\t\tSELECT\n\t\t\ttable_schema as object_schema,\n\t\t\ttable_name as object_name,\n\t\t\tindex_name\n\t\tFROM information_schema.cluster_tidb_index_usage\n\t\tWHERE\n\t\t\ttable_schema not in ('sys', 'mysql', 'INFORMATION_SCHEMA', 'PERFORMANCE_SCHEMA') and\n\t\t\tindex_name != 'PRIMARY'\n\t\tGROUP BY table_schema, table_name, index_name\n\t\tHAVING\n\t\t\tsum(last_access_time) is null;"]
[2024/05/15 17:11:24.235 +08:00] [INFO] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=103] [category=ddl] [job="ID:103, Type:create view, State:queueing, SchemaState:none, SchemaID:100, TableID:102, RowCount:0, ArgLen:0, start time: 2024-05-15 17:11:24.231 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:11:24.244 +08:00] [INFO] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=103] [job="ID:103, Type:create view, State:synced, SchemaState:public, SchemaID:100, TableID:102, RowCount:0, ArgLen:0, start time: 2024-05-15 17:11:24.231 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:11:24.247 +08:00] [INFO] ["DDL job is finished"] [category=ddl] [jobID=103]
[2024/05/15 17:11:24.247 +08:00] [INFO] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:11:24.266 +08:00] [INFO] ["closing workerPool"] [category=ddl]
[2024/05/15 17:11:24.266 +08:00] [INFO] ["DDL worker closed"] [worker="worker 2, tp add index"] [category=ddl] ["take time"=542ns]
[2024/05/15 17:11:24.266 +08:00] [INFO] ["closing workerPool"] [category=ddl]
[2024/05/15 17:11:24.266 +08:00] [INFO] ["DDL worker closed"] [worker="worker 1, tp general"] [category=ddl] ["take time"=542ns]
[2024/05/15 17:11:24.266 +08:00] [INFO] ["closing workerPool"] [category=ddl]
[2024/05/15 17:11:24.266 +08:00] [INFO] ["closing delRange"] [category=ddl]
[2024/05/15 17:11:24.266 +08:00] [INFO] ["closing session pool"] [category=ddl]
[2024/05/15 17:11:24.266 +08:00] [INFO] ["DDL closed"] [category=ddl] [ID=0c733a16-9229-48c0-a14e-df75d4a13bd6] ["take time"=2.146ms]
[2024/05/15 17:11:24.266 +08:00] [INFO] ["stop DDL"] [category=ddl] [ID=0c733a16-9229-48c0-a14e-df75d4a13bd6]
[2024/05/15 17:11:24.284 +08:00] [INFO] ["start DDL"] [category=ddl] [ID=9cc90112-5548-4249-86f9-368bf059e589] [runWorker=true]
[2024/05/15 17:11:24.284 +08:00] [INFO] ["start delRangeManager OK"] [category=ddl] ["is a emulator"=true]
[2024/05/15 17:11:24.284 +08:00] [WARN] ["initialize environment failed"] [category=ddl-ingest] ["storage limitation"="only support TiKV storage"] ["current storage"=unistore] ["lightning is initialized"=false]
[2024/05/15 17:11:24.300 +08:00] [INFO] ["start delRange emulator"] [category=ddl]
[2024/05/15 17:11:24.301 +08:00] [INFO] ["get global state and global state change"] [category=ddl] [oldState=false] [currState=false]
[2024/05/15 17:11:24.325 +08:00] [INFO] ["build task executor manager"] [server-id=:4000] [total-cpu=1] [total-mem=32GiB]
[2024/05/15 17:11:24.330 +08:00] [INFO] ["scale ttl worker"] [ttl-worker=job-manager] [ttl-worker=task-manager] [originalCount=0] [newCount=4]
[2024/05/15 17:11:24.330 +08:00] [INFO] ["scale ttl worker"] [ttl-worker=job-manager] [ttl-worker=task-manager] [originalCount=0] [newCount=4]
[2024/05/15 17:11:24.343 +08:00] [INFO] ["task executor manager start"] [server-id=:4000]
[2024/05/15 17:11:24.350 +08:00] [INFO] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:105, Type:create table, State:queueing, SchemaState:none, SchemaID:2, TableID:104, RowCount:0, ArgLen:2, start time: 2024-05-15 17:11:24.349 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:11:24.350 +08:00] [INFO] ["start DDL job"] [category=ddl] [job="ID:105, Type:create table, State:queueing, SchemaState:none, SchemaID:2, TableID:104, RowCount:0, ArgLen:2, start time: 2024-05-15 17:11:24.349 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="create table t (id int, a int, b int, index idx_a(`a`))"]
[2024/05/15 17:11:24.371 +08:00] [INFO] ["get global state and global state change"] [category=ddl] [oldState=false] [currState=false]
[2024/05/15 17:11:24.371 +08:00] [INFO] ["the owner sets owner operator value"] [category=ddl] [ownerOp=none]
[2024/05/15 17:11:24.384 +08:00] [INFO] ["run DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=105] [conn=1] [category=ddl] [job="ID:105, Type:create table, State:queueing, SchemaState:none, SchemaID:2, TableID:104, RowCount:0, ArgLen:0, start time: 2024-05-15 17:11:24.349 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:11:24.392 +08:00] [INFO] ["finish DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=105] [conn=1] [job="ID:105, Type:create table, State:synced, SchemaState:public, SchemaID:2, TableID:104, RowCount:0, ArgLen:0, start time: 2024-05-15 17:11:24.349 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:11:24.394 +08:00] [INFO] ["DDL job is finished"] [category=ddl] [jobID=105]
[2024/05/15 17:11:24.394 +08:00] [INFO] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:11:24.398 +08:00] [INFO] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:107, Type:create table, State:queueing, SchemaState:none, SchemaID:2, TableID:106, RowCount:0, ArgLen:2, start time: 2024-05-15 17:11:24.398 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:11:24.398 +08:00] [INFO] ["start DDL job"] [category=ddl] [job="ID:107, Type:create table, State:queueing, SchemaState:none, SchemaID:2, TableID:106, RowCount:0, ArgLen:2, start time: 2024-05-15 17:11:24.398 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="create table t_MemTracker4InsertAndReplaceExec (id int, a int, b int, index idx_a(`a`))"]
[2024/05/15 17:11:24.403 +08:00] [INFO] ["run DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=107] [conn=1] [category=ddl] [job="ID:107, Type:create table, State:queueing, SchemaState:none, SchemaID:2, TableID:106, RowCount:0, ArgLen:0, start time: 2024-05-15 17:11:24.398 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:11:24.414 +08:00] [INFO] ["finish DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=107] [conn=1] [job="ID:107, Type:create table, State:synced, SchemaState:public, SchemaID:2, TableID:106, RowCount:0, ArgLen:0, start time: 2024-05-15 17:11:24.398 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:11:24.419 +08:00] [INFO] ["DDL job is finished"] [category=ddl] [jobID=107]
[2024/05/15 17:11:24.419 +08:00] [INFO] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:11:24.430 +08:00] [INFO] ["closing workerPool"] [category=ddl]
[2024/05/15 17:11:24.430 +08:00] [INFO] ["DDL worker closed"] [worker="worker 4, tp add index"] [category=ddl] ["take time"=1s]
[2024/05/15 17:11:24.430 +08:00] [INFO] ["closing workerPool"] [category=ddl]
[2024/05/15 17:11:24.430 +08:00] [INFO] ["DDL worker closed"] [worker="worker 3, tp general"] [category=ddl] ["take time"=375ns]
[2024/05/15 17:11:24.430 +08:00] [INFO] ["closing workerPool"] [category=ddl]
[2024/05/15 17:11:24.430 +08:00] [INFO] ["closing delRange"] [category=ddl]
[2024/05/15 17:11:24.430 +08:00] [INFO] ["closing session pool"] [category=ddl]
[2024/05/15 17:11:24.430 +08:00] [INFO] ["DDL closed"] [category=ddl] [ID=9cc90112-5548-4249-86f9-368bf059e589] ["take time"=192.75s]
[2024/05/15 17:11:24.430 +08:00] [INFO] ["stop DDL"] [category=ddl] [ID=9cc90112-5548-4249-86f9-368bf059e589]
[2024/05/15 17:11:24.432 +08:00] [INFO] ["shrink ttl worker"] [ttl-worker=job-manager] [ttl-worker=task-manager] [originalCount=4] [newCount=0]
[2024/05/15 17:11:24.432 +08:00] [INFO] ["shrink ttl worker"] [ttl-worker=job-manager] [ttl-worker=task-manager] [originalCount=4] [newCount=0]
[2024/05/15 17:11:24.433 +08:00] [INFO] ["ttlJobManager loop exited."] [ttl-worker=job-manager]
[2024/05/15 17:11:24.433 +08:00] [INFO] ["recoverMetaLoop done"] [server-id=:4000]
[2024/05/15 17:11:24.433 +08:00] [INFO] ["handle tasks loop done"] [server-id=:4000]
--- FAIL: TestMemTracker4InsertAndReplaceExec (1.52s)
    oom_test.go:107: 
        	Error Trace:	/Users/bba/pc/tidb/pkg/executor/test/oomtest/oom_test.go:107
        	Error:      	Not equal: 
        	            	expected: ""
        	            	actual  : "alloc N signed ID"
        	            	
        	            	Diff:
        	            	--- Expected
        	            	+++ Actual
        	            	@@ -1 +1 @@
        	            	-
        	            	+alloc N signed ID
        	Test:       	TestMemTracker4InsertAndReplaceExec
FAIL
[FAIL]  pkg/ddl/tests/tiflash TestTiFlashReplicaPartitionTableNormal
err=exit status 2
[2024/05/15 17:12:12.809 +08:00] [INFO] [store_cache.go:510] ["change store resolve state"] [store=1] [addr=store1] [from=unresolved] [to=resolved] [liveness-state=reachable]
[2024/05/15 17:12:12.810 +08:00] [INFO] [store_cache.go:510] ["change store resolve state"] [store=4] [addr=tiflash0] [from=unresolved] [to=resolved] [liveness-state=reachable]
[2024/05/15 17:12:12.811 +08:00] [INFO] [store_cache.go:510] ["change store resolve state"] [store=6] [addr=tiflash1] [from=unresolved] [to=resolved] [liveness-state=reachable]
[2024/05/15 17:12:12.823 +08:00] [INFO] [ddl_api.go:1139] ["Automatically convert BLOB(65535) to MEDIUMBLOB"] [category=ddl]
[2024/05/15 17:12:12.824 +08:00] [INFO] [ddl_api.go:1139] ["Automatically convert BLOB(65535) to MEDIUMBLOB"] [category=ddl]
[2024/05/15 17:12:12.827 +08:00] [INFO] [ddl_api.go:1139] ["Automatically convert BLOB(65535) to MEDIUMBLOB"] [category=ddl]
[2024/05/15 17:12:12.827 +08:00] [INFO] [ddl_api.go:1139] ["Automatically convert BLOB(65535) to MEDIUMBLOB"] [category=ddl]
[2024/05/15 17:12:12.830 +08:00] [INFO] [ddl_api.go:1139] ["Automatically convert BLOB(65535) to MEDIUMBLOB"] [category=ddl]
[2024/05/15 17:12:12.832 +08:00] [INFO] [tidb.go:80] ["new domain"] [store=3d143cd7-21a3-4bfb-a394-5902a99f755b] ["ddl lease"=0s] ["stats lease"=-1ns]
[2024/05/15 17:12:12.849 +08:00] [WARN] [controller.go:198] ["[resource group controller] server does not save config, load config failed"]
[2024/05/15 17:12:12.849 +08:00] [INFO] [controller.go:185] ["load resource controller config"] [config="{\"degraded-mode-wait-duration\":\"0s\",\"ltb-max-wait-duration\":\"30s\",\"wait-retry-interval\":\"50ms\",\"wait-retry-times\":10,\"request-unit\":{\"read-base-cost\":0.125,\"read-per-batch-base-cost\":0.5,\"read-cost-per-byte\":0.0000152587890625,\"write-base-cost\":1,\"write-per-batch-base-cost\":1,\"write-cost-per-byte\":0.0009765625,\"read-cpu-ms-cost\":0.3333333333333333},\"enable-controller-trace-log\":\"false\"}"] [ru-config="{\"ReadBaseCost\":0.125,\"ReadPerBatchBaseCost\":0.5,\"ReadBytesCost\":0.0000152587890625,\"WriteBaseCost\":1,\"WritePerBatchBaseCost\":1,\"WriteBytesCost\":0.0009765625,\"CPUMsCost\":0.3333333333333333,\"LTBMaxWaitDuration\":30000000000,\"WaitRetryInterval\":50000000,\"WaitRetryTimes\":10,\"DegradedModeWaitDuration\":0}"]
[2024/05/15 17:12:12.850 +08:00] [WARN] [domain.go:244] ["failed to get schema version"] [error="There is no Write MVCC info for the schema version"] [errorVerbose="There is no Write MVCC info for the schema version\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).getTimestampForSchemaVersionWithNonEmptyDiff\n\t/Users/bba/pc/tidb/pkg/domain/domain.go:343\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).loadInfoSchema\n\t/Users/bba/pc/tidb/pkg/domain/domain.go:242\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).Reload\n\t/Users/bba/pc/tidb/pkg/domain/domain.go:614\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).Init\n\t/Users/bba/pc/tidb/pkg/domain/domain.go:1268\ngithub.com/pingcap/tidb/pkg/session.(*domainMap).Get.func1\n\t/Users/bba/pc/tidb/pkg/session/tidb.go:92\ngithub.com/pingcap/tidb/pkg/util.RunWithRetry\n\t/Users/bba/pc/tidb/pkg/util/misc.go:70\ngithub.com/pingcap/tidb/pkg/session.(*domainMap).Get\n\t/Users/bba/pc/tidb/pkg/session/tidb.go:79\ngithub.com/pingcap/tidb/pkg/session.createSessionWithOpt\n\t/Users/bba/pc/tidb/pkg/session/session.go:3633\ngithub.com/pingcap/tidb/pkg/session.createSession\n\t/Users/bba/pc/tidb/pkg/session/session.go:3625\ngithub.com/pingcap/tidb/pkg/session.runInBootstrapSession\n\t/Users/bba/pc/tidb/pkg/session/session.go:3575\ngithub.com/pingcap/tidb/pkg/session.bootstrapSessionImpl\n\t/Users/bba/pc/tidb/pkg/session/session.go:3351\ngithub.com/pingcap/tidb/pkg/session.BootstrapSession\n\t/Users/bba/pc/tidb/pkg/session/session.go:3317\ngithub.com/pingcap/tidb/pkg/ddl/tests/tiflash.createTiFlashContext\n\t/Users/bba/pc/tidb/pkg/ddl/tests/tiflash/ddl_tiflash_test.go:99\ngithub.com/pingcap/tidb/pkg/ddl/tests/tiflash.TestTiFlashReplicaPartitionTableNormal\n\t/Users/bba/pc/tidb/pkg/ddl/tests/tiflash/ddl_tiflash_test.go:275\ntesting.tRunner\n\t/Users/bba/.gvm/gos/go1.21.0/src/testing/testing.go:1595\nruntime.goexit\n\t/Users/bba/.gvm/gos/go1.21.0/src/runtime/asm_arm64.s:1197"] [version=0]
[2024/05/15 17:12:12.861 +08:00] [INFO] [domain.go:323] ["full load InfoSchema success"] [currentSchemaVersion=0] [neededSchemaVersion=0] ["start time"=10.011125ms]
[2024/05/15 17:12:12.862 +08:00] [INFO] [domain.go:643] ["full load and reset schema validator"]
[2024/05/15 17:12:12.862 +08:00] [INFO] [ddl.go:818] ["start DDL"] [category=ddl] [ID=8b345fc0-236d-412f-936d-b64bc52244ed] [runWorker=true]
[2024/05/15 17:12:12.862 +08:00] [INFO] [ddl.go:777] ["start delRangeManager OK"] [category=ddl] ["is a emulator"=true]
[2024/05/15 17:12:12.862 +08:00] [WARN] [env.go:51] ["initialize environment failed"] [category=ddl-ingest] ["storage limitation"="only support TiKV storage"] ["current storage"=unistore] ["lightning is initialized"=false]
[2024/05/15 17:12:12.863 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=mdlCheckLoop]
[2024/05/15 17:12:12.863 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=topNSlowQueryLoop]
[2024/05/15 17:12:12.863 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=infoSyncerKeeper]
[2024/05/15 17:12:12.863 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=globalConfigSyncerKeeper]
[2024/05/15 17:12:12.863 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=runawayStartLoop]
[2024/05/15 17:12:12.863 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=requestUnitsWriterLoop]
[2024/05/15 17:12:12.863 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=topologySyncerKeeper]
[2024/05/15 17:12:12.863 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=closestReplicaReadCheckLoop]
[2024/05/15 17:12:12.863 +08:00] [WARN] [domain.go:1334] ["pd / etcd client not provided, won't begin Advancer."]
[2024/05/15 17:12:12.872 +08:00] [INFO] [delete_range.go:172] ["start delRange emulator"] [category=ddl]
[2024/05/15 17:12:12.873 +08:00] [INFO] [job_table.go:334] ["get global state and global state change"] [category=ddl] [oldState=false] [currState=false]
[2024/05/15 17:12:12.874 +08:00] [INFO] [runaway.go:149] ["try to start runaway manager loop"]
[2024/05/15 17:12:12.874 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=requestUnitsWriterLoop]
[2024/05/15 17:12:12.923 +08:00] [INFO] [job_table.go:334] ["get global state and global state change"] [category=ddl] [oldState=false] [currState=false]
[2024/05/15 17:12:12.923 +08:00] [INFO] [job_table.go:349] ["the owner sets owner operator value"] [category=ddl] [ownerOp=none]
[2024/05/15 17:12:13.072 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=0] [cur_db=mysql] [sql="CREATE DATABASE IF NOT EXISTS test"] [user=]
[2024/05/15 17:12:13.077 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:3, Type:create schema, State:queueing, SchemaState:none, SchemaID:2, TableID:0, RowCount:0, ArgLen:1, start time: 2024-05-15 17:12:13.075 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:12:13.077 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:3, Type:create schema, State:queueing, SchemaState:none, SchemaID:2, TableID:0, RowCount:0, ArgLen:1, start time: 2024-05-15 17:12:13.075 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE DATABASE IF NOT EXISTS test"]
[2024/05/15 17:12:13.087 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=3] [category=ddl] [job="ID:3, Type:create schema, State:queueing, SchemaState:none, SchemaID:2, TableID:0, RowCount:0, ArgLen:0, start time: 2024-05-15 17:12:13.075 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:12:13.092 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=3] [job="ID:3, Type:create schema, State:synced, SchemaState:public, SchemaID:2, TableID:0, RowCount:0, ArgLen:0, start time: 2024-05-15 17:12:13.075 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:12:13.094 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=3]
[2024/05/15 17:12:13.094 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:12:13.102 +08:00] [INFO] [domain.go:323] ["full load InfoSchema success"] [currentSchemaVersion=0] [neededSchemaVersion=1] ["start time"=7.642792ms]
[2024/05/15 17:12:13.103 +08:00] [INFO] [domain.go:643] ["full load and reset schema validator"]
[2024/05/15 17:12:13.103 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=1] [cur_db=mysql] [sql="CREATE DATABASE IF NOT EXISTS `mysql`"] [user=]
[2024/05/15 17:12:13.103 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=1] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.user (\n\t\tHost\t\t\t\t\tCHAR(255),\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tauthentication_string\tTEXT,\n\t\tplugin\t\t\t\t\tCHAR(64),\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tProcess_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_db_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tSuper_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_user_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_slave_priv\t    \tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_client_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_role_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_role_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAccount_locked\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShutdown_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReload_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tFILE_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tConfig_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_Tablespace_Priv  ENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPassword_reuse_history  smallint unsigned DEFAULT NULL,\n\t\tPassword_reuse_time     smallint unsigned DEFAULT NULL,\n\t\tUser_attributes\t\t\tjson,\n\t\tToken_issuer\t\t\tVARCHAR(255),\n\t\tPassword_expired\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPassword_last_changed\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP(),\n\t\tPassword_lifetime\t\tSMALLINT UNSIGNED DEFAULT NULL,\n\t\tPRIMARY KEY (Host, User));"] [user=]
[2024/05/15 17:12:13.106 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:5, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:4, RowCount:0, ArgLen:2, start time: 2024-05-15 17:12:13.104 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:12:13.106 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:5, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:4, RowCount:0, ArgLen:2, start time: 2024-05-15 17:12:13.104 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.user (\n\t\tHost\t\t\t\t\tCHAR(255),\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tauthentication_string\tTEXT,\n\t\tplugin\t\t\t\t\tCHAR(64),\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tProcess_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_db_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tSuper_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_user_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_slave_priv\t    \tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_client_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_role_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_role_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAccount_locked\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShutdown_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReload_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tFILE_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tConfig_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_Tablespace_Priv  ENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPassword_reuse_history  smallint unsigned DEFAULT NULL,\n\t\tPassword_reuse_time     smallint unsigned DEFAULT NULL,\n\t\tUser_attributes\t\t\tjson,\n\t\tToken_issuer\t\t\tVARCHAR(255),\n\t\tPassword_expired\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPassword_last_changed\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP(),\n\t\tPassword_lifetime\t\tSMALLINT UNSIGNED DEFAULT NULL,\n\t\tPRIMARY KEY (Host, User));"]
[2024/05/15 17:12:13.111 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=5] [category=ddl] [job="ID:5, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:4, RowCount:0, ArgLen:0, start time: 2024-05-15 17:12:13.104 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:12:13.123 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=5] [job="ID:5, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:4, RowCount:0, ArgLen:0, start time: 2024-05-15 17:12:13.104 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:12:13.127 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=5]
[2024/05/15 17:12:13.127 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:12:13.129 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=1] [neededSchemaVersion=2] ["start time"=1.192291ms] [gotSchemaVersion=2] [phyTblIDs="[4]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:12:13.129 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=2] [cur_db=mysql] [sql="CREATE TABLE  IF NOT EXISTS mysql.password_history (\n         Host char(255)  NOT NULL DEFAULT '',\n         User char(32)  NOT NULL DEFAULT '',\n         Password_timestamp timestamp(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6),\n         Password text,\n         PRIMARY KEY (Host,User,Password_timestamp )\n        ) COMMENT='Password history for user accounts' "] [user=]
[2024/05/15 17:12:13.133 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:7, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:6, RowCount:0, ArgLen:2, start time: 2024-05-15 17:12:13.132 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:12:13.133 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:7, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:6, RowCount:0, ArgLen:2, start time: 2024-05-15 17:12:13.132 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE  IF NOT EXISTS mysql.password_history (\n         Host char(255)  NOT NULL DEFAULT '',\n         User char(32)  NOT NULL DEFAULT '',\n         Password_timestamp timestamp(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6),\n         Password text,\n         PRIMARY KEY (Host,User,Password_timestamp )\n        ) COMMENT='Password history for user accounts' "]
[2024/05/15 17:12:13.139 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=7] [category=ddl] [job="ID:7, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:6, RowCount:0, ArgLen:0, start time: 2024-05-15 17:12:13.132 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:12:13.146 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=7] [job="ID:7, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:6, RowCount:0, ArgLen:0, start time: 2024-05-15 17:12:13.132 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:12:13.147 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=7]
[2024/05/15 17:12:13.147 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:12:13.148 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=2] [neededSchemaVersion=3] ["start time"=172.875s] [gotSchemaVersion=3] [phyTblIDs="[6]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:12:13.148 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=3] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.global_priv (Host CHAR(255) NOT NULL DEFAULT '',User CHAR(80) NOT NULL DEFAULT '',Priv LONGTEXT NOT NULL DEFAULT '',PRIMARY KEY (Host, User))"] [user=]
[2024/05/15 17:12:13.150 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:9, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:8, RowCount:0, ArgLen:2, start time: 2024-05-15 17:12:13.149 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:12:13.150 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:9, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:8, RowCount:0, ArgLen:2, start time: 2024-05-15 17:12:13.149 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.global_priv (Host CHAR(255) NOT NULL DEFAULT '',User CHAR(80) NOT NULL DEFAULT '',Priv LONGTEXT NOT NULL DEFAULT '',PRIMARY KEY (Host, User))"]
[2024/05/15 17:12:13.154 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=9] [category=ddl] [job="ID:9, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:8, RowCount:0, ArgLen:0, start time: 2024-05-15 17:12:13.149 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:12:13.158 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=9] [job="ID:9, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:8, RowCount:0, ArgLen:0, start time: 2024-05-15 17:12:13.149 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:12:13.160 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=9]
[2024/05/15 17:12:13.160 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:12:13.160 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=3] [neededSchemaVersion=4] ["start time"=153.5s] [gotSchemaVersion=4] [phyTblIDs="[8]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:12:13.161 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=4] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.db (\n\t\tHost\t\t\t\t\tCHAR(255),\n\t\tDB\t\t\t\t\t\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv \t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (Host, DB, User));"] [user=]
[2024/05/15 17:12:13.166 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:11, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:10, RowCount:0, ArgLen:2, start time: 2024-05-15 17:12:13.162 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:12:13.166 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:11, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:10, RowCount:0, ArgLen:2, start time: 2024-05-15 17:12:13.162 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.db (\n\t\tHost\t\t\t\t\tCHAR(255),\n\t\tDB\t\t\t\t\t\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv \t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (Host, DB, User));"]
[2024/05/15 17:12:13.169 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=11] [category=ddl] [job="ID:11, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:10, RowCount:0, ArgLen:0, start time: 2024-05-15 17:12:13.162 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:12:13.175 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=11] [job="ID:11, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:10, RowCount:0, ArgLen:0, start time: 2024-05-15 17:12:13.162 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:12:13.178 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=11]
[2024/05/15 17:12:13.178 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:12:13.178 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=4] [neededSchemaVersion=5] ["start time"=511.791s] [gotSchemaVersion=5] [phyTblIDs="[10]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:12:13.178 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=5] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tables_priv (\n\t\tHost\t\tCHAR(255),\n\t\tDB\t\t\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tGrantor\t\tCHAR(77),\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tTable_priv\tSET('Select','Insert','Update','Delete','Create','Drop','Grant','Index','Alter','Create View','Show View','Trigger','References'),\n\t\tColumn_priv\tSET('Select','Insert','Update','References'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name));"] [user=]
[2024/05/15 17:12:13.180 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:13, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:12, RowCount:0, ArgLen:2, start time: 2024-05-15 17:12:13.179 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:12:13.180 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:13, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:12, RowCount:0, ArgLen:2, start time: 2024-05-15 17:12:13.179 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tables_priv (\n\t\tHost\t\tCHAR(255),\n\t\tDB\t\t\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tGrantor\t\tCHAR(77),\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tTable_priv\tSET('Select','Insert','Update','Delete','Create','Drop','Grant','Index','Alter','Create View','Show View','Trigger','References'),\n\t\tColumn_priv\tSET('Select','Insert','Update','References'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name));"]
[2024/05/15 17:12:13.184 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=13] [category=ddl] [job="ID:13, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:12, RowCount:0, ArgLen:0, start time: 2024-05-15 17:12:13.179 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:12:13.188 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=13] [job="ID:13, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:12, RowCount:0, ArgLen:0, start time: 2024-05-15 17:12:13.179 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:12:13.190 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=13]
[2024/05/15 17:12:13.190 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:12:13.190 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=5] [neededSchemaVersion=6] ["start time"=260.458s] [gotSchemaVersion=6] [phyTblIDs="[12]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:12:13.191 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=6] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.columns_priv(\n\t\tHost\t\tCHAR(255),\n\t\tDB\t\t\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tColumn_name\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tColumn_priv\tSET('Select','Insert','Update','References'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name, Column_name));"] [user=]
[2024/05/15 17:12:13.192 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:15, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:14, RowCount:0, ArgLen:2, start time: 2024-05-15 17:12:13.191 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:12:13.192 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:15, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:14, RowCount:0, ArgLen:2, start time: 2024-05-15 17:12:13.191 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.columns_priv(\n\t\tHost\t\tCHAR(255),\n\t\tDB\t\t\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tColumn_name\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tColumn_priv\tSET('Select','Insert','Update','References'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name, Column_name));"]
[2024/05/15 17:12:13.197 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=15] [category=ddl] [job="ID:15, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:14, RowCount:0, ArgLen:0, start time: 2024-05-15 17:12:13.191 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:12:13.202 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=15] [job="ID:15, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:14, RowCount:0, ArgLen:0, start time: 2024-05-15 17:12:13.191 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:12:13.204 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=15]
[2024/05/15 17:12:13.204 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:12:13.204 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=6] [neededSchemaVersion=7] ["start time"=232.958s] [gotSchemaVersion=7] [phyTblIDs="[14]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:12:13.204 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=7] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.GLOBAL_VARIABLES(\n\t\tVARIABLE_NAME  VARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE VARCHAR(16383) DEFAULT NULL);"] [user=]
[2024/05/15 17:12:13.205 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:17, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:16, RowCount:0, ArgLen:2, start time: 2024-05-15 17:12:13.205 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:12:13.206 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:17, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:16, RowCount:0, ArgLen:2, start time: 2024-05-15 17:12:13.205 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.GLOBAL_VARIABLES(\n\t\tVARIABLE_NAME  VARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE VARCHAR(16383) DEFAULT NULL);"]
[2024/05/15 17:12:13.209 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=17] [category=ddl] [job="ID:17, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:16, RowCount:0, ArgLen:0, start time: 2024-05-15 17:12:13.205 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:12:13.212 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=17] [job="ID:17, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:16, RowCount:0, ArgLen:0, start time: 2024-05-15 17:12:13.205 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:12:13.214 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=17]
[2024/05/15 17:12:13.214 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:12:13.214 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=7] [neededSchemaVersion=8] ["start time"=130.916s] [gotSchemaVersion=8] [phyTblIDs="[16]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:12:13.214 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=8] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb(\n\t\tVARIABLE_NAME  \tVARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE \tVARCHAR(1024) DEFAULT NULL,\n\t\tCOMMENT \t\tVARCHAR(1024));"] [user=]
[2024/05/15 17:12:13.215 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:19, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:18, RowCount:0, ArgLen:2, start time: 2024-05-15 17:12:13.215 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:12:13.215 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:19, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:18, RowCount:0, ArgLen:2, start time: 2024-05-15 17:12:13.215 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb(\n\t\tVARIABLE_NAME  \tVARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE \tVARCHAR(1024) DEFAULT NULL,\n\t\tCOMMENT \t\tVARCHAR(1024));"]
[2024/05/15 17:12:13.218 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=19] [category=ddl] [job="ID:19, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:18, RowCount:0, ArgLen:0, start time: 2024-05-15 17:12:13.215 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:12:13.222 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=19] [job="ID:19, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:18, RowCount:0, ArgLen:0, start time: 2024-05-15 17:12:13.215 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:12:13.223 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=19]
[2024/05/15 17:12:13.223 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:12:13.224 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=8] [neededSchemaVersion=9] ["start time"=141.959s] [gotSchemaVersion=9] [phyTblIDs="[18]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:12:13.224 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=9] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.help_topic (\n  \t\thelp_topic_id \t\tINT(10) UNSIGNED NOT NULL,\n  \t\tname \t\t\t\tCHAR(64) NOT NULL,\n  \t\thelp_category_id \tSMALLINT(5) UNSIGNED NOT NULL,\n  \t\tdescription \t\tTEXT NOT NULL,\n  \t\texample \t\t\tTEXT NOT NULL,\n  \t\turl \t\t\t\tTEXT NOT NULL,\n  \t\tPRIMARY KEY (help_topic_id) clustered,\n  \t\tUNIQUE KEY name (name)\n\t\t) ENGINE=InnoDB DEFAULT CHARSET=utf8 STATS_PERSISTENT=0 COMMENT='help topics';"] [user=]
[2024/05/15 17:12:13.225 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:21, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:20, RowCount:0, ArgLen:2, start time: 2024-05-15 17:12:13.225 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:12:13.225 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:21, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:20, RowCount:0, ArgLen:2, start time: 2024-05-15 17:12:13.225 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.help_topic (\n  \t\thelp_topic_id \t\tINT(10) UNSIGNED NOT NULL,\n  \t\tname \t\t\t\tCHAR(64) NOT NULL,\n  \t\thelp_category_id \tSMALLINT(5) UNSIGNED NOT NULL,\n  \t\tdescription \t\tTEXT NOT NULL,\n  \t\texample \t\t\tTEXT NOT NULL,\n  \t\turl \t\t\t\tTEXT NOT NULL,\n  \t\tPRIMARY KEY (help_topic_id) clustered,\n  \t\tUNIQUE KEY name (name)\n\t\t) ENGINE=InnoDB DEFAULT CHARSET=utf8 STATS_PERSISTENT=0 COMMENT='help topics';"]
[2024/05/15 17:12:13.228 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=21] [category=ddl] [job="ID:21, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:20, RowCount:0, ArgLen:0, start time: 2024-05-15 17:12:13.225 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:12:13.233 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=21] [job="ID:21, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:20, RowCount:0, ArgLen:0, start time: 2024-05-15 17:12:13.225 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:12:13.235 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=21]
[2024/05/15 17:12:13.235 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:12:13.235 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=9] [neededSchemaVersion=10] ["start time"=216.083s] [gotSchemaVersion=10] [phyTblIDs="[20]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:12:13.235 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=10] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_meta (\n\t\tversion \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\ttable_id \t\tBIGINT(64) NOT NULL,\n\t\tmodify_count\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcount \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tsnapshot        BIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tINDEX idx_ver(version),\n\t\tUNIQUE INDEX tbl(table_id)\n\t);"] [user=]
[2024/05/15 17:12:13.236 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:23, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:22, RowCount:0, ArgLen:2, start time: 2024-05-15 17:12:13.236 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:12:13.236 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:23, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:22, RowCount:0, ArgLen:2, start time: 2024-05-15 17:12:13.236 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_meta (\n\t\tversion \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\ttable_id \t\tBIGINT(64) NOT NULL,\n\t\tmodify_count\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcount \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tsnapshot        BIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tINDEX idx_ver(version),\n\t\tUNIQUE INDEX tbl(table_id)\n\t);"]
[2024/05/15 17:12:13.239 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=23] [category=ddl] [job="ID:23, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:22, RowCount:0, ArgLen:0, start time: 2024-05-15 17:12:13.236 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:12:13.243 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=23] [job="ID:23, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:22, RowCount:0, ArgLen:0, start time: 2024-05-15 17:12:13.236 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:12:13.245 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=23]
[2024/05/15 17:12:13.245 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:12:13.245 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=10] [neededSchemaVersion=11] ["start time"=233.334s] [gotSchemaVersion=11] [phyTblIDs="[22]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:12:13.245 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=11] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_histograms (\n\t\ttable_id \t\t\tBIGINT(64) NOT NULL,\n\t\tis_index \t\t\tTINYINT(2) NOT NULL,\n\t\thist_id \t\t\tBIGINT(64) NOT NULL,\n\t\tdistinct_count \t\tBIGINT(64) NOT NULL,\n\t\tnull_count \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\ttot_col_size \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tmodify_count \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tversion \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tcm_sketch \t\t\tBLOB(6291456),\n\t\tstats_ver \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tflag \t\t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcorrelation \t\tDOUBLE NOT NULL DEFAULT 0,\n\t\tlast_analyze_pos \tLONGBLOB DEFAULT NULL,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id)\n\t);"] [user=]
[2024/05/15 17:12:13.245 +08:00] [INFO] [ddl_api.go:1139] ["Automatically convert BLOB(6291456) to MEDIUMBLOB"] [category=ddl]
[2024/05/15 17:12:13.247 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:25, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:24, RowCount:0, ArgLen:2, start time: 2024-05-15 17:12:13.246 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:12:13.247 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:25, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:24, RowCount:0, ArgLen:2, start time: 2024-05-15 17:12:13.246 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_histograms (\n\t\ttable_id \t\t\tBIGINT(64) NOT NULL,\n\t\tis_index \t\t\tTINYINT(2) NOT NULL,\n\t\thist_id \t\t\tBIGINT(64) NOT NULL,\n\t\tdistinct_count \t\tBIGINT(64) NOT NULL,\n\t\tnull_count \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\ttot_col_size \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tmodify_count \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tversion \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tcm_sketch \t\t\tBLOB(6291456),\n\t\tstats_ver \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tflag \t\t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcorrelation \t\tDOUBLE NOT NULL DEFAULT 0,\n\t\tlast_analyze_pos \tLONGBLOB DEFAULT NULL,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id)\n\t);"]
[2024/05/15 17:12:13.250 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=25] [category=ddl] [job="ID:25, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:24, RowCount:0, ArgLen:0, start time: 2024-05-15 17:12:13.246 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:12:13.256 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=25] [job="ID:25, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:24, RowCount:0, ArgLen:0, start time: 2024-05-15 17:12:13.246 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:12:13.258 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=25]
[2024/05/15 17:12:13.258 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:12:13.258 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=11] [neededSchemaVersion=12] ["start time"=317.75s] [gotSchemaVersion=12] [phyTblIDs="[24]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:12:13.258 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=12] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_buckets (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tbucket_id \tBIGINT(64) NOT NULL,\n\t\tcount \t\tBIGINT(64) NOT NULL,\n\t\trepeats \tBIGINT(64) NOT NULL,\n\t\tupper_bound LONGBLOB NOT NULL,\n\t\tlower_bound LONGBLOB ,\n\t\tndv         BIGINT NOT NULL DEFAULT 0,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id, bucket_id)\n\t);"] [user=]
[2024/05/15 17:12:13.260 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:27, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:26, RowCount:0, ArgLen:2, start time: 2024-05-15 17:12:13.259 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:12:13.260 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:27, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:26, RowCount:0, ArgLen:2, start time: 2024-05-15 17:12:13.259 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_buckets (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tbucket_id \tBIGINT(64) NOT NULL,\n\t\tcount \t\tBIGINT(64) NOT NULL,\n\t\trepeats \tBIGINT(64) NOT NULL,\n\t\tupper_bound LONGBLOB NOT NULL,\n\t\tlower_bound LONGBLOB ,\n\t\tndv         BIGINT NOT NULL DEFAULT 0,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id, bucket_id)\n\t);"]
[2024/05/15 17:12:13.263 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=27] [category=ddl] [job="ID:27, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:26, RowCount:0, ArgLen:0, start time: 2024-05-15 17:12:13.259 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:12:13.268 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=27] [job="ID:27, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:26, RowCount:0, ArgLen:0, start time: 2024-05-15 17:12:13.259 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:12:13.270 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=27]
[2024/05/15 17:12:13.270 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:12:13.271 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=12] [neededSchemaVersion=13] ["start time"=268.083s] [gotSchemaVersion=13] [phyTblIDs="[26]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:12:13.271 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=13] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_index (job_id, element_id)\n\t);"] [user=]
[2024/05/15 17:12:13.272 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:29, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:28, RowCount:0, ArgLen:2, start time: 2024-05-15 17:12:13.271 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:12:13.272 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:29, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:28, RowCount:0, ArgLen:2, start time: 2024-05-15 17:12:13.271 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_index (job_id, element_id)\n\t);"]
[2024/05/15 17:12:13.276 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=29] [category=ddl] [job="ID:29, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:28, RowCount:0, ArgLen:0, start time: 2024-05-15 17:12:13.271 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:12:13.280 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=29] [job="ID:29, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:28, RowCount:0, ArgLen:0, start time: 2024-05-15 17:12:13.271 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:12:13.282 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=29]
[2024/05/15 17:12:13.282 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:12:13.282 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=13] [neededSchemaVersion=14] ["start time"=183.75s] [gotSchemaVersion=14] [phyTblIDs="[28]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:12:13.282 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=14] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range_done (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_done_index (job_id, element_id)\n\t);"] [user=]
[2024/05/15 17:12:13.284 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:31, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:30, RowCount:0, ArgLen:2, start time: 2024-05-15 17:12:13.283 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:12:13.284 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:31, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:30, RowCount:0, ArgLen:2, start time: 2024-05-15 17:12:13.283 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range_done (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_done_index (job_id, element_id)\n\t);"]
[2024/05/15 17:12:13.290 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=31] [category=ddl] [job="ID:31, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:30, RowCount:0, ArgLen:0, start time: 2024-05-15 17:12:13.283 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:12:13.297 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=31] [job="ID:31, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:30, RowCount:0, ArgLen:0, start time: 2024-05-15 17:12:13.283 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:12:13.301 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=31]
[2024/05/15 17:12:13.301 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:12:13.301 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=14] [neededSchemaVersion=15] ["start time"=276.541s] [gotSchemaVersion=15] [phyTblIDs="[30]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:12:13.301 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=15] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_feedback (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tfeedback \tBLOB NOT NULL,\n\t\tINDEX hist(table_id, is_index, hist_id)\n\t);"] [user=]
[2024/05/15 17:12:13.304 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:33, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:32, RowCount:0, ArgLen:2, start time: 2024-05-15 17:12:13.303 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:12:13.304 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:33, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:32, RowCount:0, ArgLen:2, start time: 2024-05-15 17:12:13.303 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_feedback (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tfeedback \tBLOB NOT NULL,\n\t\tINDEX hist(table_id, is_index, hist_id)\n\t);"]
[2024/05/15 17:12:13.311 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=33] [category=ddl] [job="ID:33, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:32, RowCount:0, ArgLen:0, start time: 2024-05-15 17:12:13.303 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:12:13.319 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=33] [job="ID:33, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:32, RowCount:0, ArgLen:0, start time: 2024-05-15 17:12:13.303 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:12:13.320 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=33]
[2024/05/15 17:12:13.320 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:12:13.321 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=15] [neededSchemaVersion=16] ["start time"=250.084s] [gotSchemaVersion=16] [phyTblIDs="[32]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:12:13.321 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=16] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.role_edges (\n\t\tFROM_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tFROM_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tWITH_ADMIN_OPTION \tENUM('N','Y') CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (FROM_HOST,FROM_USER,TO_HOST,TO_USER)\n\t);"] [user=]
[2024/05/15 17:12:13.322 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:35, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:34, RowCount:0, ArgLen:2, start time: 2024-05-15 17:12:13.322 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:12:13.322 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:35, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:34, RowCount:0, ArgLen:2, start time: 2024-05-15 17:12:13.322 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.role_edges (\n\t\tFROM_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tFROM_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tWITH_ADMIN_OPTION \tENUM('N','Y') CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (FROM_HOST,FROM_USER,TO_HOST,TO_USER)\n\t);"]
[2024/05/15 17:12:13.326 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=35] [category=ddl] [job="ID:35, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:34, RowCount:0, ArgLen:0, start time: 2024-05-15 17:12:13.322 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:12:13.331 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=35] [job="ID:35, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:34, RowCount:0, ArgLen:0, start time: 2024-05-15 17:12:13.322 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:12:13.333 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=35]
[2024/05/15 17:12:13.333 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:12:13.333 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=16] [neededSchemaVersion=17] ["start time"=199s] [gotSchemaVersion=17] [phyTblIDs="[34]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:12:13.333 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=17] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.default_roles (\n\t\tHOST \t\t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tUSER \t\t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tDEFAULT_ROLE_HOST \tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '%',\n\t\tDEFAULT_ROLE_USER \tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tPRIMARY KEY (HOST,USER,DEFAULT_ROLE_HOST,DEFAULT_ROLE_USER)\n\t)"] [user=]
[2024/05/15 17:12:13.335 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:37, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:36, RowCount:0, ArgLen:2, start time: 2024-05-15 17:12:13.334 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:12:13.335 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:37, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:36, RowCount:0, ArgLen:2, start time: 2024-05-15 17:12:13.334 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.default_roles (\n\t\tHOST \t\t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tUSER \t\t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tDEFAULT_ROLE_HOST \tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '%',\n\t\tDEFAULT_ROLE_USER \tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tPRIMARY KEY (HOST,USER,DEFAULT_ROLE_HOST,DEFAULT_ROLE_USER)\n\t)"]
[2024/05/15 17:12:13.338 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=37] [category=ddl] [job="ID:37, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:36, RowCount:0, ArgLen:0, start time: 2024-05-15 17:12:13.334 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:12:13.343 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=37] [job="ID:37, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:36, RowCount:0, ArgLen:0, start time: 2024-05-15 17:12:13.334 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:12:13.344 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=37]
[2024/05/15 17:12:13.344 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:12:13.344 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=17] [neededSchemaVersion=18] ["start time"=178.5s] [gotSchemaVersion=18] [phyTblIDs="[36]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:12:13.345 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=18] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.bind_info (\n\t\toriginal_sql TEXT NOT NULL,\n\t\tbind_sql TEXT NOT NULL,\n\t\tdefault_db TEXT NOT NULL,\n\t\tstatus TEXT NOT NULL,\n\t\tcreate_time TIMESTAMP(3) NOT NULL,\n\t\tupdate_time TIMESTAMP(3) NOT NULL,\n\t\tcharset TEXT NOT NULL,\n\t\tcollation TEXT NOT NULL,\n\t\tsource VARCHAR(10) NOT NULL DEFAULT 'unknown',\n\t\tsql_digest varchar(64),\n\t\tplan_digest varchar(64),\n\t\tINDEX sql_index(original_sql(700),default_db(68)) COMMENT \"accelerate the speed when add global binding query\",\n\t\tINDEX time_index(update_time) COMMENT \"accelerate the speed when querying with last update time\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"] [user=]
[2024/05/15 17:12:13.346 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:39, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:38, RowCount:0, ArgLen:2, start time: 2024-05-15 17:12:13.345 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:12:13.346 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:39, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:38, RowCount:0, ArgLen:2, start time: 2024-05-15 17:12:13.345 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.bind_info (\n\t\toriginal_sql TEXT NOT NULL,\n\t\tbind_sql TEXT NOT NULL,\n\t\tdefault_db TEXT NOT NULL,\n\t\tstatus TEXT NOT NULL,\n\t\tcreate_time TIMESTAMP(3) NOT NULL,\n\t\tupdate_time TIMESTAMP(3) NOT NULL,\n\t\tcharset TEXT NOT NULL,\n\t\tcollation TEXT NOT NULL,\n\t\tsource VARCHAR(10) NOT NULL DEFAULT 'unknown',\n\t\tsql_digest varchar(64),\n\t\tplan_digest varchar(64),\n\t\tINDEX sql_index(original_sql(700),default_db(68)) COMMENT \"accelerate the speed when add global binding query\",\n\t\tINDEX time_index(update_time) COMMENT \"accelerate the speed when querying with last update time\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"]
[2024/05/15 17:12:13.349 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=39] [category=ddl] [job="ID:39, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:38, RowCount:0, ArgLen:0, start time: 2024-05-15 17:12:13.345 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:12:13.353 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=39] [job="ID:39, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:38, RowCount:0, ArgLen:0, start time: 2024-05-15 17:12:13.345 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:12:13.355 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=39]
[2024/05/15 17:12:13.355 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:12:13.355 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=18] [neededSchemaVersion=19] ["start time"=298.458s] [gotSchemaVersion=19] [phyTblIDs="[38]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:12:13.356 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=0] ["to ID"=1] ["table ID"=38] ["database ID"=1]
[2024/05/15 17:12:13.356 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=19] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_top_n (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tvalue \t\tLONGBLOB,\n\t\tcount \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\tINDEX tbl(table_id, is_index, hist_id)\n\t);"] [user=]
[2024/05/15 17:12:13.358 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:41, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:40, RowCount:0, ArgLen:2, start time: 2024-05-15 17:12:13.357 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:12:13.358 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:41, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:40, RowCount:0, ArgLen:2, start time: 2024-05-15 17:12:13.357 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_top_n (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tvalue \t\tLONGBLOB,\n\t\tcount \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\tINDEX tbl(table_id, is_index, hist_id)\n\t);"]
[2024/05/15 17:12:13.361 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=41] [category=ddl] [job="ID:41, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:40, RowCount:0, ArgLen:0, start time: 2024-05-15 17:12:13.357 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:12:13.366 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=41] [job="ID:41, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:40, RowCount:0, ArgLen:0, start time: 2024-05-15 17:12:13.357 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:12:13.368 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=41]
[2024/05/15 17:12:13.368 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:12:13.368 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=19] [neededSchemaVersion=20] ["start time"=211.75s] [gotSchemaVersion=20] [phyTblIDs="[40]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:12:13.368 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=20] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.expr_pushdown_blacklist (\n\t\tname \t\tCHAR(100) NOT NULL,\n\t\tstore_type \tCHAR(100) NOT NULL DEFAULT 'tikv,tiflash,tidb',\n\t\treason \t\tVARCHAR(200)\n\t);"] [user=]
[2024/05/15 17:12:13.370 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:43, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:42, RowCount:0, ArgLen:2, start time: 2024-05-15 17:12:13.369 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:12:13.370 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:43, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:42, RowCount:0, ArgLen:2, start time: 2024-05-15 17:12:13.369 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.expr_pushdown_blacklist (\n\t\tname \t\tCHAR(100) NOT NULL,\n\t\tstore_type \tCHAR(100) NOT NULL DEFAULT 'tikv,tiflash,tidb',\n\t\treason \t\tVARCHAR(200)\n\t);"]
[2024/05/15 17:12:13.373 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=43] [category=ddl] [job="ID:43, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:42, RowCount:0, ArgLen:0, start time: 2024-05-15 17:12:13.369 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:12:13.377 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=43] [job="ID:43, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:42, RowCount:0, ArgLen:0, start time: 2024-05-15 17:12:13.369 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:12:13.379 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=43]
[2024/05/15 17:12:13.379 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:12:13.379 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=20] [neededSchemaVersion=21] ["start time"=132.417s] [gotSchemaVersion=21] [phyTblIDs="[42]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:12:13.379 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=21] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.opt_rule_blacklist (\n\t\tname \tCHAR(100) NOT NULL\n\t);"] [user=]
[2024/05/15 17:12:13.380 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:45, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:44, RowCount:0, ArgLen:2, start time: 2024-05-15 17:12:13.379 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:12:13.380 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:45, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:44, RowCount:0, ArgLen:2, start time: 2024-05-15 17:12:13.379 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.opt_rule_blacklist (\n\t\tname \tCHAR(100) NOT NULL\n\t);"]
[2024/05/15 17:12:13.383 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=45] [category=ddl] [job="ID:45, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:44, RowCount:0, ArgLen:0, start time: 2024-05-15 17:12:13.379 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:12:13.387 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=45] [job="ID:45, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:44, RowCount:0, ArgLen:0, start time: 2024-05-15 17:12:13.379 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:12:13.388 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=45]
[2024/05/15 17:12:13.388 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:12:13.389 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=21] [neededSchemaVersion=22] ["start time"=101.625s] [gotSchemaVersion=22] [phyTblIDs="[44]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:12:13.389 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=22] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_extended (\n\t\tname varchar(32) NOT NULL,\n\t\ttype tinyint(4) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tcolumn_ids varchar(32) NOT NULL,\n\t\tstats blob DEFAULT NULL,\n\t\tversion bigint(64) unsigned NOT NULL,\n\t\tstatus tinyint(4) NOT NULL,\n\t\tPRIMARY KEY(name, table_id),\n\t\tKEY idx_1 (table_id, status, version),\n\t\tKEY idx_2 (status, version)\n\t);"] [user=]
[2024/05/15 17:12:13.390 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:47, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:46, RowCount:0, ArgLen:2, start time: 2024-05-15 17:12:13.39 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:12:13.390 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:47, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:46, RowCount:0, ArgLen:2, start time: 2024-05-15 17:12:13.39 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_extended (\n\t\tname varchar(32) NOT NULL,\n\t\ttype tinyint(4) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tcolumn_ids varchar(32) NOT NULL,\n\t\tstats blob DEFAULT NULL,\n\t\tversion bigint(64) unsigned NOT NULL,\n\t\tstatus tinyint(4) NOT NULL,\n\t\tPRIMARY KEY(name, table_id),\n\t\tKEY idx_1 (table_id, status, version),\n\t\tKEY idx_2 (status, version)\n\t);"]
[2024/05/15 17:12:13.393 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=47] [category=ddl] [job="ID:47, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:46, RowCount:0, ArgLen:0, start time: 2024-05-15 17:12:13.39 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:12:13.399 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=47] [job="ID:47, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:46, RowCount:0, ArgLen:0, start time: 2024-05-15 17:12:13.39 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:12:13.401 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=47]
[2024/05/15 17:12:13.401 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:12:13.401 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=22] [neededSchemaVersion=23] ["start time"=249.166s] [gotSchemaVersion=23] [phyTblIDs="[46]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:12:13.401 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=23] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_fm_sketch (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tvalue \t\tLONGBLOB,\n\t\tINDEX tbl(table_id, is_index, hist_id)\n\t);"] [user=]
[2024/05/15 17:12:13.402 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:49, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:48, RowCount:0, ArgLen:2, start time: 2024-05-15 17:12:13.402 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:12:13.402 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:49, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:48, RowCount:0, ArgLen:2, start time: 2024-05-15 17:12:13.402 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_fm_sketch (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tvalue \t\tLONGBLOB,\n\t\tINDEX tbl(table_id, is_index, hist_id)\n\t);"]
[2024/05/15 17:12:13.406 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=49] [category=ddl] [job="ID:49, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:48, RowCount:0, ArgLen:0, start time: 2024-05-15 17:12:13.402 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:12:13.410 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=49] [job="ID:49, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:48, RowCount:0, ArgLen:0, start time: 2024-05-15 17:12:13.402 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:12:13.412 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=49]
[2024/05/15 17:12:13.412 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:12:13.412 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=23] [neededSchemaVersion=24] ["start time"=198.542s] [gotSchemaVersion=24] [phyTblIDs="[48]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:12:13.412 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=24] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.global_grants (\n\t\tUSER char(32) NOT NULL DEFAULT '',\n\t\tHOST char(255) NOT NULL DEFAULT '',\n\t\tPRIV char(32) NOT NULL DEFAULT '',\n\t\tWITH_GRANT_OPTION enum('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (USER,HOST,PRIV)\n\t);"] [user=]
[2024/05/15 17:12:13.414 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:51, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:50, RowCount:0, ArgLen:2, start time: 2024-05-15 17:12:13.413 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:12:13.414 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:51, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:50, RowCount:0, ArgLen:2, start time: 2024-05-15 17:12:13.413 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.global_grants (\n\t\tUSER char(32) NOT NULL DEFAULT '',\n\t\tHOST char(255) NOT NULL DEFAULT '',\n\t\tPRIV char(32) NOT NULL DEFAULT '',\n\t\tWITH_GRANT_OPTION enum('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (USER,HOST,PRIV)\n\t);"]
[2024/05/15 17:12:13.418 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=51] [category=ddl] [job="ID:51, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:50, RowCount:0, ArgLen:0, start time: 2024-05-15 17:12:13.413 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:12:13.422 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=51] [job="ID:51, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:50, RowCount:0, ArgLen:0, start time: 2024-05-15 17:12:13.413 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:12:13.423 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=51]
[2024/05/15 17:12:13.423 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:12:13.423 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=24] [neededSchemaVersion=25] ["start time"=165.542s] [gotSchemaVersion=25] [phyTblIDs="[50]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:12:13.423 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=25] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.capture_plan_baselines_blacklist (\n\t\tid bigint(64) auto_increment,\n\t\tfilter_type varchar(32) NOT NULL COMMENT \"type of the filter, only db, table and frequency supported now\",\n\t\tfilter_value varchar(32) NOT NULL,\n\t\tkey idx(filter_type),\n\t\tprimary key(id)\n\t);"] [user=]
[2024/05/15 17:12:13.425 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:53, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:52, RowCount:0, ArgLen:2, start time: 2024-05-15 17:12:13.424 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:12:13.425 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:53, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:52, RowCount:0, ArgLen:2, start time: 2024-05-15 17:12:13.424 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.capture_plan_baselines_blacklist (\n\t\tid bigint(64) auto_increment,\n\t\tfilter_type varchar(32) NOT NULL COMMENT \"type of the filter, only db, table and frequency supported now\",\n\t\tfilter_value varchar(32) NOT NULL,\n\t\tkey idx(filter_type),\n\t\tprimary key(id)\n\t);"]
[2024/05/15 17:12:13.429 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=53] [category=ddl] [job="ID:53, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:52, RowCount:0, ArgLen:0, start time: 2024-05-15 17:12:13.424 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:12:13.433 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=53] [job="ID:53, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:52, RowCount:0, ArgLen:0, start time: 2024-05-15 17:12:13.424 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:12:13.435 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=53]
[2024/05/15 17:12:13.435 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:12:13.435 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=25] [neededSchemaVersion=26] ["start time"=181.333s] [gotSchemaVersion=26] [phyTblIDs="[52]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:12:13.435 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=26] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.column_stats_usage (\n\t\ttable_id BIGINT(64) NOT NULL,\n\t\tcolumn_id BIGINT(64) NOT NULL,\n\t\tlast_used_at TIMESTAMP,\n\t\tlast_analyzed_at TIMESTAMP,\n\t\tPRIMARY KEY (table_id, column_id) CLUSTERED\n\t);"] [user=]
[2024/05/15 17:12:13.437 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:55, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:54, RowCount:0, ArgLen:2, start time: 2024-05-15 17:12:13.436 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:12:13.437 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:55, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:54, RowCount:0, ArgLen:2, start time: 2024-05-15 17:12:13.436 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.column_stats_usage (\n\t\ttable_id BIGINT(64) NOT NULL,\n\t\tcolumn_id BIGINT(64) NOT NULL,\n\t\tlast_used_at TIMESTAMP,\n\t\tlast_analyzed_at TIMESTAMP,\n\t\tPRIMARY KEY (table_id, column_id) CLUSTERED\n\t);"]
[2024/05/15 17:12:13.440 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=55] [category=ddl] [job="ID:55, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:54, RowCount:0, ArgLen:0, start time: 2024-05-15 17:12:13.436 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:12:13.445 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=55] [job="ID:55, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:54, RowCount:0, ArgLen:0, start time: 2024-05-15 17:12:13.436 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:12:13.447 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=55]
[2024/05/15 17:12:13.447 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:12:13.447 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=26] [neededSchemaVersion=27] ["start time"=181.625s] [gotSchemaVersion=27] [phyTblIDs="[54]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:12:13.447 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=27] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.table_cache_meta (\n\t\ttid bigint(11) NOT NULL DEFAULT 0,\n\t\tlock_type enum('NONE','READ', 'INTEND', 'WRITE') NOT NULL DEFAULT 'NONE',\n\t\tlease bigint(20) NOT NULL DEFAULT 0,\n\t\toldReadLease bigint(20) NOT NULL DEFAULT 0,\n\t\tPRIMARY KEY (tid)\n\t);"] [user=]
[2024/05/15 17:12:13.449 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:57, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:56, RowCount:0, ArgLen:2, start time: 2024-05-15 17:12:13.448 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:12:13.449 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:57, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:56, RowCount:0, ArgLen:2, start time: 2024-05-15 17:12:13.448 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.table_cache_meta (\n\t\ttid bigint(11) NOT NULL DEFAULT 0,\n\t\tlock_type enum('NONE','READ', 'INTEND', 'WRITE') NOT NULL DEFAULT 'NONE',\n\t\tlease bigint(20) NOT NULL DEFAULT 0,\n\t\toldReadLease bigint(20) NOT NULL DEFAULT 0,\n\t\tPRIMARY KEY (tid)\n\t);"]
[2024/05/15 17:12:13.452 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=57] [category=ddl] [job="ID:57, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:56, RowCount:0, ArgLen:0, start time: 2024-05-15 17:12:13.448 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:12:13.456 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=57] [job="ID:57, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:56, RowCount:0, ArgLen:0, start time: 2024-05-15 17:12:13.448 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:12:13.458 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=57]
[2024/05/15 17:12:13.458 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:12:13.458 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=27] [neededSchemaVersion=28] ["start time"=143.458s] [gotSchemaVersion=28] [phyTblIDs="[56]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:12:13.458 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=28] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.analyze_options (\n\t\ttable_id BIGINT(64) NOT NULL,\n\t\tsample_num BIGINT(64) NOT NULL DEFAULT 0,\n\t\tsample_rate DOUBLE NOT NULL DEFAULT -1,\n\t\tbuckets BIGINT(64) NOT NULL DEFAULT 0,\n\t\ttopn BIGINT(64) NOT NULL DEFAULT -1,\n\t\tcolumn_choice enum('DEFAULT','ALL','PREDICATE','LIST') NOT NULL DEFAULT 'DEFAULT',\n\t\tcolumn_ids TEXT(19372),\n\t\tPRIMARY KEY (table_id) CLUSTERED\n\t);"] [user=]
[2024/05/15 17:12:13.458 +08:00] [INFO] [ddl_api.go:1139] ["Automatically convert BLOB(19372) to MEDIUMBLOB"] [category=ddl]
[2024/05/15 17:12:13.460 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:59, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:58, RowCount:0, ArgLen:2, start time: 2024-05-15 17:12:13.459 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:12:13.460 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:59, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:58, RowCount:0, ArgLen:2, start time: 2024-05-15 17:12:13.459 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.analyze_options (\n\t\ttable_id BIGINT(64) NOT NULL,\n\t\tsample_num BIGINT(64) NOT NULL DEFAULT 0,\n\t\tsample_rate DOUBLE NOT NULL DEFAULT -1,\n\t\tbuckets BIGINT(64) NOT NULL DEFAULT 0,\n\t\ttopn BIGINT(64) NOT NULL DEFAULT -1,\n\t\tcolumn_choice enum('DEFAULT','ALL','PREDICATE','LIST') NOT NULL DEFAULT 'DEFAULT',\n\t\tcolumn_ids TEXT(19372),\n\t\tPRIMARY KEY (table_id) CLUSTERED\n\t);"]
[2024/05/15 17:12:13.466 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=59] [category=ddl] [job="ID:59, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:58, RowCount:0, ArgLen:0, start time: 2024-05-15 17:12:13.459 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:12:13.474 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=59] [job="ID:59, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:58, RowCount:0, ArgLen:0, start time: 2024-05-15 17:12:13.459 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:12:13.477 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=59]
[2024/05/15 17:12:13.477 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:12:13.478 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=28] [neededSchemaVersion=29] ["start time"=300.792s] [gotSchemaVersion=29] [phyTblIDs="[58]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:12:13.478 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=29] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_history (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tstats_data longblob NOT NULL,\n\t\tseq_no bigint(64) NOT NULL comment 'sequence number of the gzipped data slice',\n\t\tversion bigint(64) NOT NULL comment 'stats version which corresponding to stats:version in EXPLAIN',\n\t\tcreate_time datetime(6) NOT NULL,\n\t\tUNIQUE KEY table_version_seq (table_id, version, seq_no),\n\t\tKEY table_create_time (table_id, create_time, seq_no),\n    \tKEY idx_create_time (create_time)\n\t);"] [user=]
[2024/05/15 17:12:13.481 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:61, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:60, RowCount:0, ArgLen:2, start time: 2024-05-15 17:12:13.481 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:12:13.481 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:61, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:60, RowCount:0, ArgLen:2, start time: 2024-05-15 17:12:13.481 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_history (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tstats_data longblob NOT NULL,\n\t\tseq_no bigint(64) NOT NULL comment 'sequence number of the gzipped data slice',\n\t\tversion bigint(64) NOT NULL comment 'stats version which corresponding to stats:version in EXPLAIN',\n\t\tcreate_time datetime(6) NOT NULL,\n\t\tUNIQUE KEY table_version_seq (table_id, version, seq_no),\n\t\tKEY table_create_time (table_id, create_time, seq_no),\n    \tKEY idx_create_time (create_time)\n\t);"]
[2024/05/15 17:12:13.488 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=61] [category=ddl] [job="ID:61, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:60, RowCount:0, ArgLen:0, start time: 2024-05-15 17:12:13.481 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:12:13.496 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=61] [job="ID:61, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:60, RowCount:0, ArgLen:0, start time: 2024-05-15 17:12:13.481 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:12:13.499 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=61]
[2024/05/15 17:12:13.499 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:12:13.499 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=29] [neededSchemaVersion=30] ["start time"=351.542s] [gotSchemaVersion=30] [phyTblIDs="[60]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:12:13.499 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=30] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_meta_history (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tmodify_count bigint(64) NOT NULL,\n\t\tcount bigint(64) NOT NULL,\n\t\tversion bigint(64) NOT NULL comment 'stats version which corresponding to stats:version in EXPLAIN',\n    \tsource varchar(40) NOT NULL,\n\t\tcreate_time datetime(6) NOT NULL,\n\t\tUNIQUE KEY table_version (table_id, version),\n\t\tKEY table_create_time (table_id, create_time),\n    \tKEY idx_create_time (create_time)\n\t);"] [user=]
[2024/05/15 17:12:13.502 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:63, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:62, RowCount:0, ArgLen:2, start time: 2024-05-15 17:12:13.501 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:12:13.502 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:63, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:62, RowCount:0, ArgLen:2, start time: 2024-05-15 17:12:13.501 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_meta_history (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tmodify_count bigint(64) NOT NULL,\n\t\tcount bigint(64) NOT NULL,\n\t\tversion bigint(64) NOT NULL comment 'stats version which corresponding to stats:version in EXPLAIN',\n    \tsource varchar(40) NOT NULL,\n\t\tcreate_time datetime(6) NOT NULL,\n\t\tUNIQUE KEY table_version (table_id, version),\n\t\tKEY table_create_time (table_id, create_time),\n    \tKEY idx_create_time (create_time)\n\t);"]
[2024/05/15 17:12:13.506 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=63] [category=ddl] [job="ID:63, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:62, RowCount:0, ArgLen:0, start time: 2024-05-15 17:12:13.501 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:12:13.511 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=63] [job="ID:63, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:62, RowCount:0, ArgLen:0, start time: 2024-05-15 17:12:13.501 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:12:13.513 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=63]
[2024/05/15 17:12:13.513 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:12:13.513 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=30] [neededSchemaVersion=31] ["start time"=250.125s] [gotSchemaVersion=31] [phyTblIDs="[62]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:12:13.514 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=31] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.analyze_jobs (\n\t\tid BIGINT(64) UNSIGNED NOT NULL AUTO_INCREMENT,\n\t\tupdate_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\ttable_schema CHAR(64) NOT NULL DEFAULT '',\n\t\ttable_name CHAR(64) NOT NULL DEFAULT '',\n\t\tpartition_name CHAR(64) NOT NULL DEFAULT '',\n\t\tjob_info TEXT NOT NULL,\n\t\tprocessed_rows BIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tstart_time TIMESTAMP,\n\t\tend_time TIMESTAMP,\n\t\tstate ENUM('pending', 'running', 'finished', 'failed') NOT NULL,\n\t\tfail_reason TEXT,\n\t\tinstance VARCHAR(512) NOT NULL comment 'address of the TiDB instance executing the analyze job',\n\t\tprocess_id BIGINT(64) UNSIGNED comment 'ID of the process executing the analyze job',\n\t\tPRIMARY KEY (id),\n\t\tKEY (update_time)\n\t);"] [user=]
[2024/05/15 17:12:13.516 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:65, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:64, RowCount:0, ArgLen:2, start time: 2024-05-15 17:12:13.515 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:12:13.516 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:65, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:64, RowCount:0, ArgLen:2, start time: 2024-05-15 17:12:13.515 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.analyze_jobs (\n\t\tid BIGINT(64) UNSIGNED NOT NULL AUTO_INCREMENT,\n\t\tupdate_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\ttable_schema CHAR(64) NOT NULL DEFAULT '',\n\t\ttable_name CHAR(64) NOT NULL DEFAULT '',\n\t\tpartition_name CHAR(64) NOT NULL DEFAULT '',\n\t\tjob_info TEXT NOT NULL,\n\t\tprocessed_rows BIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tstart_time TIMESTAMP,\n\t\tend_time TIMESTAMP,\n\t\tstate ENUM('pending', 'running', 'finished', 'failed') NOT NULL,\n\t\tfail_reason TEXT,\n\t\tinstance VARCHAR(512) NOT NULL comment 'address of the TiDB instance executing the analyze job',\n\t\tprocess_id BIGINT(64) UNSIGNED comment 'ID of the process executing the analyze job',\n\t\tPRIMARY KEY (id),\n\t\tKEY (update_time)\n\t);"]
[2024/05/15 17:12:13.519 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=65] [category=ddl] [job="ID:65, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:64, RowCount:0, ArgLen:0, start time: 2024-05-15 17:12:13.515 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:12:13.524 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=65] [job="ID:65, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:64, RowCount:0, ArgLen:0, start time: 2024-05-15 17:12:13.515 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:12:13.526 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=65]
[2024/05/15 17:12:13.526 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:12:13.527 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=31] [neededSchemaVersion=32] ["start time"=343.667s] [gotSchemaVersion=32] [phyTblIDs="[64]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:12:13.527 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=32] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.advisory_locks (\n\t\tlock_name VARCHAR(64) NOT NULL PRIMARY KEY\n\t);"] [user=]
[2024/05/15 17:12:13.528 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:67, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:66, RowCount:0, ArgLen:2, start time: 2024-05-15 17:12:13.527 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:12:13.528 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:67, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:66, RowCount:0, ArgLen:2, start time: 2024-05-15 17:12:13.527 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.advisory_locks (\n\t\tlock_name VARCHAR(64) NOT NULL PRIMARY KEY\n\t);"]
[2024/05/15 17:12:13.532 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=67] [category=ddl] [job="ID:67, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:66, RowCount:0, ArgLen:0, start time: 2024-05-15 17:12:13.527 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:12:13.536 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=67] [job="ID:67, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:66, RowCount:0, ArgLen:0, start time: 2024-05-15 17:12:13.527 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:12:13.537 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=67]
[2024/05/15 17:12:13.537 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:12:13.538 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=32] [neededSchemaVersion=33] ["start time"=116.75s] [gotSchemaVersion=33] [phyTblIDs="[66]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:12:13.541 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:69, Type:create view, State:queueing, SchemaState:none, SchemaID:1, TableID:68, RowCount:0, ArgLen:3, start time: 2024-05-15 17:12:13.54 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:12:13.541 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:69, Type:create view, State:queueing, SchemaState:none, SchemaID:1, TableID:68, RowCount:0, ArgLen:3, start time: 2024-05-15 17:12:13.54 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE OR REPLACE VIEW mysql.tidb_mdl_view as (\n\t\tSELECT tidb_mdl_info.job_id,\n\t\t\tJSON_UNQUOTE(JSON_EXTRACT(cast(cast(job_meta as char) as json), \"$.schema_name\")) as db_name,\n\t\t\tJSON_UNQUOTE(JSON_EXTRACT(cast(cast(job_meta as char) as json), \"$.table_name\")) as table_name,\n\t\t\tJSON_UNQUOTE(JSON_EXTRACT(cast(cast(job_meta as char) as json), \"$.query\")) as query,\n\t\t\tsession_id,\n\t\t\tcluster_tidb_trx.start_time,\n\t\t\ttidb_decode_sql_digests(all_sql_digests, 4096) AS SQL_DIGESTS\n\t\tFROM mysql.tidb_ddl_job,\n\t\t\tmysql.tidb_mdl_info,\n\t\t\tinformation_schema.cluster_tidb_trx\n\t\tWHERE tidb_ddl_job.job_id=tidb_mdl_info.job_id\n\t\t\tAND CONCAT(',', tidb_mdl_info.table_ids, ',') REGEXP CONCAT(',(', REPLACE(cluster_tidb_trx.related_table_ids, ',', '|'), '),') != 0\n\t);"]
[2024/05/15 17:12:13.545 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=69] [category=ddl] [job="ID:69, Type:create view, State:queueing, SchemaState:none, SchemaID:1, TableID:68, RowCount:0, ArgLen:0, start time: 2024-05-15 17:12:13.54 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:12:13.550 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=69] [job="ID:69, Type:create view, State:synced, SchemaState:public, SchemaID:1, TableID:68, RowCount:0, ArgLen:0, start time: 2024-05-15 17:12:13.54 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:12:13.552 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=69]
[2024/05/15 17:12:13.552 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:12:13.552 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=33] [neededSchemaVersion=34] ["start time"=207.667s] [gotSchemaVersion=34] [phyTblIDs="[68]"] [actionTypes="[21]"] [diffTypes="[\"create view\"]"]
[2024/05/15 17:12:13.552 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=34] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.plan_replayer_status (\n\t\tsql_digest VARCHAR(128),\n\t\tplan_digest VARCHAR(128),\n\t\torigin_sql TEXT,\n\t\ttoken VARCHAR(128),\n\t\tupdate_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\tfail_reason TEXT,\n\t\tinstance VARCHAR(512) NOT NULL comment 'address of the TiDB instance executing the plan replayer job');"] [user=]
[2024/05/15 17:12:13.553 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:71, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:70, RowCount:0, ArgLen:2, start time: 2024-05-15 17:12:13.553 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:12:13.553 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:71, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:70, RowCount:0, ArgLen:2, start time: 2024-05-15 17:12:13.553 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.plan_replayer_status (\n\t\tsql_digest VARCHAR(128),\n\t\tplan_digest VARCHAR(128),\n\t\torigin_sql TEXT,\n\t\ttoken VARCHAR(128),\n\t\tupdate_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\tfail_reason TEXT,\n\t\tinstance VARCHAR(512) NOT NULL comment 'address of the TiDB instance executing the plan replayer job');"]
[2024/05/15 17:12:13.557 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=71] [category=ddl] [job="ID:71, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:70, RowCount:0, ArgLen:0, start time: 2024-05-15 17:12:13.553 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:12:13.562 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=71] [job="ID:71, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:70, RowCount:0, ArgLen:0, start time: 2024-05-15 17:12:13.553 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:12:13.563 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=71]
[2024/05/15 17:12:13.563 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:12:13.564 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=34] [neededSchemaVersion=35] ["start time"=200.958s] [gotSchemaVersion=35] [phyTblIDs="[70]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:12:13.564 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=35] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.plan_replayer_task (\n\t\tsql_digest VARCHAR(128) NOT NULL,\n\t\tplan_digest VARCHAR(128) NOT NULL,\n\t\tupdate_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\tPRIMARY KEY (sql_digest,plan_digest));"] [user=]
[2024/05/15 17:12:13.565 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:73, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:72, RowCount:0, ArgLen:2, start time: 2024-05-15 17:12:13.564 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:12:13.565 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:73, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:72, RowCount:0, ArgLen:2, start time: 2024-05-15 17:12:13.564 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.plan_replayer_task (\n\t\tsql_digest VARCHAR(128) NOT NULL,\n\t\tplan_digest VARCHAR(128) NOT NULL,\n\t\tupdate_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\tPRIMARY KEY (sql_digest,plan_digest));"]
[2024/05/15 17:12:13.568 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=73] [category=ddl] [job="ID:73, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:72, RowCount:0, ArgLen:0, start time: 2024-05-15 17:12:13.564 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:12:13.572 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=73] [job="ID:73, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:72, RowCount:0, ArgLen:0, start time: 2024-05-15 17:12:13.564 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:12:13.574 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=73]
[2024/05/15 17:12:13.574 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:12:13.574 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=35] [neededSchemaVersion=36] ["start time"=152.375s] [gotSchemaVersion=36] [phyTblIDs="[72]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:12:13.574 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=36] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_table_locked(\n\t\ttable_id bigint(64) NOT NULL,\n\t\tmodify_count bigint(64) NOT NULL DEFAULT 0,\n\t\tcount bigint(64) NOT NULL DEFAULT 0,\n\t\tversion bigint(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tPRIMARY KEY (table_id));"] [user=]
[2024/05/15 17:12:13.575 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:75, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:74, RowCount:0, ArgLen:2, start time: 2024-05-15 17:12:13.575 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:12:13.575 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:75, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:74, RowCount:0, ArgLen:2, start time: 2024-05-15 17:12:13.575 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_table_locked(\n\t\ttable_id bigint(64) NOT NULL,\n\t\tmodify_count bigint(64) NOT NULL DEFAULT 0,\n\t\tcount bigint(64) NOT NULL DEFAULT 0,\n\t\tversion bigint(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tPRIMARY KEY (table_id));"]
[2024/05/15 17:12:13.579 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=75] [category=ddl] [job="ID:75, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:74, RowCount:0, ArgLen:0, start time: 2024-05-15 17:12:13.575 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:12:13.583 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=75] [job="ID:75, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:74, RowCount:0, ArgLen:0, start time: 2024-05-15 17:12:13.575 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:12:13.585 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=75]
[2024/05/15 17:12:13.585 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:12:13.585 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=36] [neededSchemaVersion=37] ["start time"=190.625s] [gotSchemaVersion=37] [phyTblIDs="[74]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:12:13.585 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=37] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_ttl_table_status (\n\t\ttable_id bigint(64) PRIMARY KEY,\n        parent_table_id bigint(64),\n        table_statistics text DEFAULT NULL,\n\t\tlast_job_id varchar(64) DEFAULT NULL,\n\t\tlast_job_start_time timestamp NULL DEFAULT NULL,\n\t\tlast_job_finish_time timestamp NULL DEFAULT NULL,\n\t\tlast_job_ttl_expire timestamp NULL DEFAULT NULL,\n        last_job_summary text DEFAULT NULL,\n\t\tcurrent_job_id varchar(64) DEFAULT NULL,\n\t\tcurrent_job_owner_id varchar(64) DEFAULT NULL,\n\t\tcurrent_job_owner_addr varchar(256) DEFAULT NULL,\n\t\tcurrent_job_owner_hb_time timestamp,\n\t\tcurrent_job_start_time timestamp NULL DEFAULT NULL,\n\t\tcurrent_job_ttl_expire timestamp NULL DEFAULT NULL,\n\t\tcurrent_job_state text DEFAULT NULL,\n\t\tcurrent_job_status varchar(64) DEFAULT NULL,\n  \t\tcurrent_job_status_update_time timestamp NULL DEFAULT NULL);"] [user=]
[2024/05/15 17:12:13.587 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:77, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:76, RowCount:0, ArgLen:2, start time: 2024-05-15 17:12:13.586 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:12:13.587 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:77, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:76, RowCount:0, ArgLen:2, start time: 2024-05-15 17:12:13.586 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_ttl_table_status (\n\t\ttable_id bigint(64) PRIMARY KEY,\n        parent_table_id bigint(64),\n        table_statistics text DEFAULT NULL,\n\t\tlast_job_id varchar(64) DEFAULT NULL,\n\t\tlast_job_start_time timestamp NULL DEFAULT NULL,\n\t\tlast_job_finish_time timestamp NULL DEFAULT NULL,\n\t\tlast_job_ttl_expire timestamp NULL DEFAULT NULL,\n        last_job_summary text DEFAULT NULL,\n\t\tcurrent_job_id varchar(64) DEFAULT NULL,\n\t\tcurrent_job_owner_id varchar(64) DEFAULT NULL,\n\t\tcurrent_job_owner_addr varchar(256) DEFAULT NULL,\n\t\tcurrent_job_owner_hb_time timestamp,\n\t\tcurrent_job_start_time timestamp NULL DEFAULT NULL,\n\t\tcurrent_job_ttl_expire timestamp NULL DEFAULT NULL,\n\t\tcurrent_job_state text DEFAULT NULL,\n\t\tcurrent_job_status varchar(64) DEFAULT NULL,\n  \t\tcurrent_job_status_update_time timestamp NULL DEFAULT NULL);"]
[2024/05/15 17:12:13.590 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=77] [category=ddl] [job="ID:77, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:76, RowCount:0, ArgLen:0, start time: 2024-05-15 17:12:13.586 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:12:13.595 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=77] [job="ID:77, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:76, RowCount:0, ArgLen:0, start time: 2024-05-15 17:12:13.586 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:12:13.598 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=77]
[2024/05/15 17:12:13.598 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:12:13.598 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=37] [neededSchemaVersion=38] ["start time"=362.792s] [gotSchemaVersion=38] [phyTblIDs="[76]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:12:13.598 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=38] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_ttl_task (\n\t\tjob_id varchar(64) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tscan_id int NOT NULL,\n\t\tscan_range_start BLOB,\n\t\tscan_range_end BLOB,\n\t\texpire_time timestamp NOT NULL,\n\t\towner_id varchar(64) DEFAULT NULL,\n\t\towner_addr varchar(64) DEFAULT NULL,\n\t\towner_hb_time timestamp DEFAULT NULL,\n\t\tstatus varchar(64) DEFAULT 'waiting',\n\t\tstatus_update_time timestamp NULL DEFAULT NULL,\n\t\tstate text,\n\t\tcreated_time timestamp NOT NULL,\n\t\tprimary key(job_id, scan_id),\n\t\tkey(created_time));"] [user=]
[2024/05/15 17:12:13.600 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:79, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:78, RowCount:0, ArgLen:2, start time: 2024-05-15 17:12:13.599 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:12:13.600 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:79, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:78, RowCount:0, ArgLen:2, start time: 2024-05-15 17:12:13.599 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_ttl_task (\n\t\tjob_id varchar(64) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tscan_id int NOT NULL,\n\t\tscan_range_start BLOB,\n\t\tscan_range_end BLOB,\n\t\texpire_time timestamp NOT NULL,\n\t\towner_id varchar(64) DEFAULT NULL,\n\t\towner_addr varchar(64) DEFAULT NULL,\n\t\towner_hb_time timestamp DEFAULT NULL,\n\t\tstatus varchar(64) DEFAULT 'waiting',\n\t\tstatus_update_time timestamp NULL DEFAULT NULL,\n\t\tstate text,\n\t\tcreated_time timestamp NOT NULL,\n\t\tprimary key(job_id, scan_id),\n\t\tkey(created_time));"]
[2024/05/15 17:12:13.604 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=79] [category=ddl] [job="ID:79, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:78, RowCount:0, ArgLen:0, start time: 2024-05-15 17:12:13.599 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:12:13.609 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=79] [job="ID:79, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:78, RowCount:0, ArgLen:0, start time: 2024-05-15 17:12:13.599 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:12:13.611 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=79]
[2024/05/15 17:12:13.611 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:12:13.611 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=38] [neededSchemaVersion=39] ["start time"=339.292s] [gotSchemaVersion=39] [phyTblIDs="[78]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:12:13.612 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=39] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_ttl_job_history (\n\t\tjob_id varchar(64) PRIMARY KEY,\n\t\ttable_id bigint(64) NOT NULL,\n        parent_table_id bigint(64) NOT NULL,\n    \ttable_schema varchar(64) NOT NULL,\n\t\ttable_name varchar(64) NOT NULL,\n    \tpartition_name varchar(64) DEFAULT NULL,\n\t\tcreate_time timestamp NOT NULL,\n\t\tfinish_time timestamp NOT NULL,\n\t\tttl_expire timestamp NOT NULL,\n        summary_text text,\n\t\texpired_rows bigint(64) DEFAULT NULL,\n    \tdeleted_rows bigint(64) DEFAULT NULL,\n    \terror_delete_rows bigint(64) DEFAULT NULL,\n    \tstatus varchar(64) NOT NULL,\n    \tkey(table_schema, table_name, create_time),\n    \tkey(parent_table_id, create_time),\n    \tkey(create_time)\n\t);"] [user=]
[2024/05/15 17:12:13.613 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:81, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:80, RowCount:0, ArgLen:2, start time: 2024-05-15 17:12:13.612 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:12:13.613 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:81, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:80, RowCount:0, ArgLen:2, start time: 2024-05-15 17:12:13.612 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_ttl_job_history (\n\t\tjob_id varchar(64) PRIMARY KEY,\n\t\ttable_id bigint(64) NOT NULL,\n        parent_table_id bigint(64) NOT NULL,\n    \ttable_schema varchar(64) NOT NULL,\n\t\ttable_name varchar(64) NOT NULL,\n    \tpartition_name varchar(64) DEFAULT NULL,\n\t\tcreate_time timestamp NOT NULL,\n\t\tfinish_time timestamp NOT NULL,\n\t\tttl_expire timestamp NOT NULL,\n        summary_text text,\n\t\texpired_rows bigint(64) DEFAULT NULL,\n    \tdeleted_rows bigint(64) DEFAULT NULL,\n    \terror_delete_rows bigint(64) DEFAULT NULL,\n    \tstatus varchar(64) NOT NULL,\n    \tkey(table_schema, table_name, create_time),\n    \tkey(parent_table_id, create_time),\n    \tkey(create_time)\n\t);"]
[2024/05/15 17:12:13.617 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=81] [category=ddl] [job="ID:81, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:80, RowCount:0, ArgLen:0, start time: 2024-05-15 17:12:13.612 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:12:13.623 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=81] [job="ID:81, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:80, RowCount:0, ArgLen:0, start time: 2024-05-15 17:12:13.612 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:12:13.627 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=81]
[2024/05/15 17:12:13.627 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:12:13.627 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=39] [neededSchemaVersion=40] ["start time"=388.459s] [gotSchemaVersion=40] [phyTblIDs="[80]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:12:13.627 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=40] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_global_task (\n\t\tid BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n    \ttask_key VARCHAR(256) NOT NULL,\n\t\ttype VARCHAR(256) NOT NULL,\n\t\tdispatcher_id VARCHAR(261),\n\t\tstate VARCHAR(64) NOT NULL,\n\t\tpriority INT DEFAULT 1,\n\t\tcreate_time TIMESTAMP,\n\t\tstart_time TIMESTAMP,\n\t\tstate_update_time TIMESTAMP,\n\t\tend_time TIMESTAMP,\n\t\tmeta LONGBLOB,\n\t\tconcurrency INT(11),\n\t\tstep INT(11),\n\t\ttarget_scope VARCHAR(256) DEFAULT \"\",\n\t\terror BLOB,\n\t\tkey(state),\n      \tUNIQUE KEY task_key(task_key)\n\t);"] [user=]
[2024/05/15 17:12:13.629 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:83, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:82, RowCount:0, ArgLen:2, start time: 2024-05-15 17:12:13.628 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:12:13.629 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:83, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:82, RowCount:0, ArgLen:2, start time: 2024-05-15 17:12:13.628 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_global_task (\n\t\tid BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n    \ttask_key VARCHAR(256) NOT NULL,\n\t\ttype VARCHAR(256) NOT NULL,\n\t\tdispatcher_id VARCHAR(261),\n\t\tstate VARCHAR(64) NOT NULL,\n\t\tpriority INT DEFAULT 1,\n\t\tcreate_time TIMESTAMP,\n\t\tstart_time TIMESTAMP,\n\t\tstate_update_time TIMESTAMP,\n\t\tend_time TIMESTAMP,\n\t\tmeta LONGBLOB,\n\t\tconcurrency INT(11),\n\t\tstep INT(11),\n\t\ttarget_scope VARCHAR(256) DEFAULT \"\",\n\t\terror BLOB,\n\t\tkey(state),\n      \tUNIQUE KEY task_key(task_key)\n\t);"]
[2024/05/15 17:12:13.632 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=83] [category=ddl] [job="ID:83, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:82, RowCount:0, ArgLen:0, start time: 2024-05-15 17:12:13.628 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:12:13.637 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=83] [job="ID:83, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:82, RowCount:0, ArgLen:0, start time: 2024-05-15 17:12:13.628 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:12:13.640 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=83]
[2024/05/15 17:12:13.640 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:12:13.640 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=40] [neededSchemaVersion=41] ["start time"=410s] [gotSchemaVersion=41] [phyTblIDs="[82]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:12:13.641 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=41] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_global_task_history (\n\t\tid BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n    \ttask_key VARCHAR(256) NOT NULL,\n\t\ttype VARCHAR(256) NOT NULL,\n\t\tdispatcher_id VARCHAR(261),\n\t\tstate VARCHAR(64) NOT NULL,\n\t\tpriority INT DEFAULT 1,\n\t\tcreate_time TIMESTAMP,\n\t\tstart_time TIMESTAMP,\n\t\tstate_update_time TIMESTAMP,\n\t\tend_time TIMESTAMP,\n\t\tmeta LONGBLOB,\n\t\tconcurrency INT(11),\n\t\tstep INT(11),\n\t\ttarget_scope VARCHAR(256) DEFAULT \"\",\n\t\terror BLOB,\n\t\tkey(state),\n      \tUNIQUE KEY task_key(task_key)\n\t);"] [user=]
[2024/05/15 17:12:13.642 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:85, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:84, RowCount:0, ArgLen:2, start time: 2024-05-15 17:12:13.641 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:12:13.642 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:85, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:84, RowCount:0, ArgLen:2, start time: 2024-05-15 17:12:13.641 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_global_task_history (\n\t\tid BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n    \ttask_key VARCHAR(256) NOT NULL,\n\t\ttype VARCHAR(256) NOT NULL,\n\t\tdispatcher_id VARCHAR(261),\n\t\tstate VARCHAR(64) NOT NULL,\n\t\tpriority INT DEFAULT 1,\n\t\tcreate_time TIMESTAMP,\n\t\tstart_time TIMESTAMP,\n\t\tstate_update_time TIMESTAMP,\n\t\tend_time TIMESTAMP,\n\t\tmeta LONGBLOB,\n\t\tconcurrency INT(11),\n\t\tstep INT(11),\n\t\ttarget_scope VARCHAR(256) DEFAULT \"\",\n\t\terror BLOB,\n\t\tkey(state),\n      \tUNIQUE KEY task_key(task_key)\n\t);"]
[2024/05/15 17:12:13.646 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=85] [category=ddl] [job="ID:85, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:84, RowCount:0, ArgLen:0, start time: 2024-05-15 17:12:13.641 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:12:13.651 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=85] [job="ID:85, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:84, RowCount:0, ArgLen:0, start time: 2024-05-15 17:12:13.641 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:12:13.653 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=85]
[2024/05/15 17:12:13.653 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:12:13.654 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=41] [neededSchemaVersion=42] ["start time"=363.958s] [gotSchemaVersion=42] [phyTblIDs="[84]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:12:13.654 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=42] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_import_jobs (\n\t\tid bigint(64) NOT NULL AUTO_INCREMENT,\n\t\tcreate_time TIMESTAMP(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6),\n\t\tstart_time TIMESTAMP(6) NULL DEFAULT NULL,\n\t\tupdate_time TIMESTAMP(6) NULL DEFAULT NULL,\n\t\tend_time TIMESTAMP(6) NULL DEFAULT NULL,\n\t\ttable_schema VARCHAR(64) NOT NULL,\n\t\ttable_name VARCHAR(64) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tcreated_by VARCHAR(300) NOT NULL,\n\t\tparameters text NOT NULL,\n\t\tsource_file_size bigint(64) NOT NULL,\n\t\tstatus VARCHAR(64) NOT NULL,\n\t\tstep VARCHAR(64) NOT NULL,\n\t\tsummary text DEFAULT NULL,\n\t\terror_message TEXT DEFAULT NULL,\n\t\tPRIMARY KEY (id),\n\t\tKEY (created_by),\n\t\tKEY (status));"] [user=]
[2024/05/15 17:12:13.656 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:87, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:86, RowCount:0, ArgLen:2, start time: 2024-05-15 17:12:13.655 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:12:13.656 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:87, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:86, RowCount:0, ArgLen:2, start time: 2024-05-15 17:12:13.655 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_import_jobs (\n\t\tid bigint(64) NOT NULL AUTO_INCREMENT,\n\t\tcreate_time TIMESTAMP(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6),\n\t\tstart_time TIMESTAMP(6) NULL DEFAULT NULL,\n\t\tupdate_time TIMESTAMP(6) NULL DEFAULT NULL,\n\t\tend_time TIMESTAMP(6) NULL DEFAULT NULL,\n\t\ttable_schema VARCHAR(64) NOT NULL,\n\t\ttable_name VARCHAR(64) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tcreated_by VARCHAR(300) NOT NULL,\n\t\tparameters text NOT NULL,\n\t\tsource_file_size bigint(64) NOT NULL,\n\t\tstatus VARCHAR(64) NOT NULL,\n\t\tstep VARCHAR(64) NOT NULL,\n\t\tsummary text DEFAULT NULL,\n\t\terror_message TEXT DEFAULT NULL,\n\t\tPRIMARY KEY (id),\n\t\tKEY (created_by),\n\t\tKEY (status));"]
[2024/05/15 17:12:13.662 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=87] [category=ddl] [job="ID:87, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:86, RowCount:0, ArgLen:0, start time: 2024-05-15 17:12:13.655 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:12:13.671 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=87] [job="ID:87, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:86, RowCount:0, ArgLen:0, start time: 2024-05-15 17:12:13.655 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:12:13.675 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=87]
[2024/05/15 17:12:13.675 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:12:13.676 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=42] [neededSchemaVersion=43] ["start time"=526.75s] [gotSchemaVersion=43] [phyTblIDs="[86]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:12:13.676 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=43] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_runaway_watch (\n\t\tid BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n\t\tresource_group_name varchar(32) not null,\n\t\tstart_time datetime(6) NOT NULL,\n\t\tend_time datetime(6),\n\t\twatch bigint(10) NOT NULL,\n\t\twatch_text TEXT NOT NULL,\n\t\tsource varchar(512) NOT NULL,\n\t\taction bigint(10),\n\t\tINDEX sql_index(resource_group_name,watch_text(700)) COMMENT \"accelerate the speed when select quarantined query\",\n\t\tINDEX time_index(end_time) COMMENT \"accelerate the speed when querying with active watch\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"] [user=]
[2024/05/15 17:12:13.680 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:89, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:88, RowCount:0, ArgLen:2, start time: 2024-05-15 17:12:13.679 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:12:13.680 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:89, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:88, RowCount:0, ArgLen:2, start time: 2024-05-15 17:12:13.679 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_runaway_watch (\n\t\tid BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n\t\tresource_group_name varchar(32) not null,\n\t\tstart_time datetime(6) NOT NULL,\n\t\tend_time datetime(6),\n\t\twatch bigint(10) NOT NULL,\n\t\twatch_text TEXT NOT NULL,\n\t\tsource varchar(512) NOT NULL,\n\t\taction bigint(10),\n\t\tINDEX sql_index(resource_group_name,watch_text(700)) COMMENT \"accelerate the speed when select quarantined query\",\n\t\tINDEX time_index(end_time) COMMENT \"accelerate the speed when querying with active watch\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"]
[2024/05/15 17:12:13.687 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=89] [category=ddl] [job="ID:89, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:88, RowCount:0, ArgLen:0, start time: 2024-05-15 17:12:13.679 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:12:13.696 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=89] [job="ID:89, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:88, RowCount:0, ArgLen:0, start time: 2024-05-15 17:12:13.679 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:12:13.698 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=89]
[2024/05/15 17:12:13.698 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:12:13.698 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=43] [neededSchemaVersion=44] ["start time"=381.667s] [gotSchemaVersion=44] [phyTblIDs="[88]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:12:13.698 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=44] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_runaway_queries (\n\t\tresource_group_name varchar(32) not null,\n\t\ttime TIMESTAMP NOT NULL,\n\t\tmatch_type varchar(12) NOT NULL,\n\t\taction varchar(12) NOT NULL,\n\t\toriginal_sql TEXT NOT NULL,\n\t\tplan_digest TEXT NOT NULL,\n\t\ttidb_server varchar(512),\n\t\tINDEX plan_index(plan_digest(64)) COMMENT \"accelerate the speed when select runaway query\",\n\t\tINDEX time_index(time) COMMENT \"accelerate the speed when querying with active watch\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"] [user=]
[2024/05/15 17:12:13.700 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:91, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:90, RowCount:0, ArgLen:2, start time: 2024-05-15 17:12:13.699 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:12:13.700 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:91, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:90, RowCount:0, ArgLen:2, start time: 2024-05-15 17:12:13.699 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_runaway_queries (\n\t\tresource_group_name varchar(32) not null,\n\t\ttime TIMESTAMP NOT NULL,\n\t\tmatch_type varchar(12) NOT NULL,\n\t\taction varchar(12) NOT NULL,\n\t\toriginal_sql TEXT NOT NULL,\n\t\tplan_digest TEXT NOT NULL,\n\t\ttidb_server varchar(512),\n\t\tINDEX plan_index(plan_digest(64)) COMMENT \"accelerate the speed when select runaway query\",\n\t\tINDEX time_index(time) COMMENT \"accelerate the speed when querying with active watch\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"]
[2024/05/15 17:12:13.704 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=91] [category=ddl] [job="ID:91, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:90, RowCount:0, ArgLen:0, start time: 2024-05-15 17:12:13.699 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:12:13.709 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=91] [job="ID:91, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:90, RowCount:0, ArgLen:0, start time: 2024-05-15 17:12:13.699 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:12:13.711 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=91]
[2024/05/15 17:12:13.711 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:12:13.711 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=44] [neededSchemaVersion=45] ["start time"=335.792s] [gotSchemaVersion=45] [phyTblIDs="[90]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:12:13.711 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=45] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS `mysql`.`tidb_timers` (\n\t\tID BIGINT(64) UNSIGNED NOT NULL AUTO_INCREMENT,\n\t\tNAMESPACE VARCHAR(256) NOT NULL,\n\t\tTIMER_KEY VARCHAR(256) NOT NULL,\n\t\tTIMER_DATA BLOB,\n\t\tTIMEZONE VARCHAR(64) NOT NULL,\n\t\tSCHED_POLICY_TYPE VARCHAR(32) NOT NULL,\n\t\tSCHED_POLICY_EXPR VARCHAR(256) NOT NULL,\n\t\tHOOK_CLASS VARCHAR(64) NOT NULL,\n\t\tWATERMARK TIMESTAMP DEFAULT NULL,\n\t\tENABLE TINYINT(2) NOT NULL,\n\t\tTIMER_EXT JSON NOT NULL,\n\t\tEVENT_STATUS VARCHAR(32) NOT NULL,\n\t\tEVENT_ID VARCHAR(64) NOT NULL,\n\t\tEVENT_DATA BLOB,\n\t\tEVENT_START TIMESTAMP DEFAULT NULL,\n\t\tSUMMARY_DATA BLOB,\n\t\tCREATE_TIME TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,\n\t\tUPDATE_TIME TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\tVERSION BIGINT(64) UNSIGNED NOT NULL,\n\t\tPRIMARY KEY (ID),\n\t\tUNIQUE KEY timer_key(NAMESPACE, TIMER_KEY),\n\t\tKEY hook_class(HOOK_CLASS)\n\t)"] [user=]
[2024/05/15 17:12:13.713 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:93, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:92, RowCount:0, ArgLen:2, start time: 2024-05-15 17:12:13.712 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:12:13.713 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:93, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:92, RowCount:0, ArgLen:2, start time: 2024-05-15 17:12:13.712 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS `mysql`.`tidb_timers` (\n\t\tID BIGINT(64) UNSIGNED NOT NULL AUTO_INCREMENT,\n\t\tNAMESPACE VARCHAR(256) NOT NULL,\n\t\tTIMER_KEY VARCHAR(256) NOT NULL,\n\t\tTIMER_DATA BLOB,\n\t\tTIMEZONE VARCHAR(64) NOT NULL,\n\t\tSCHED_POLICY_TYPE VARCHAR(32) NOT NULL,\n\t\tSCHED_POLICY_EXPR VARCHAR(256) NOT NULL,\n\t\tHOOK_CLASS VARCHAR(64) NOT NULL,\n\t\tWATERMARK TIMESTAMP DEFAULT NULL,\n\t\tENABLE TINYINT(2) NOT NULL,\n\t\tTIMER_EXT JSON NOT NULL,\n\t\tEVENT_STATUS VARCHAR(32) NOT NULL,\n\t\tEVENT_ID VARCHAR(64) NOT NULL,\n\t\tEVENT_DATA BLOB,\n\t\tEVENT_START TIMESTAMP DEFAULT NULL,\n\t\tSUMMARY_DATA BLOB,\n\t\tCREATE_TIME TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,\n\t\tUPDATE_TIME TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\tVERSION BIGINT(64) UNSIGNED NOT NULL,\n\t\tPRIMARY KEY (ID),\n\t\tUNIQUE KEY timer_key(NAMESPACE, TIMER_KEY),\n\t\tKEY hook_class(HOOK_CLASS)\n\t)"]
[2024/05/15 17:12:13.717 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=93] [category=ddl] [job="ID:93, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:92, RowCount:0, ArgLen:0, start time: 2024-05-15 17:12:13.712 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:12:13.722 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=93] [job="ID:93, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:92, RowCount:0, ArgLen:0, start time: 2024-05-15 17:12:13.712 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:12:13.724 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=93]
[2024/05/15 17:12:13.724 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:12:13.724 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=45] [neededSchemaVersion=46] ["start time"=439.375s] [gotSchemaVersion=46] [phyTblIDs="[92]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:12:13.725 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=46] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_runaway_watch_done (\n\t\tid BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n\t\trecord_id BIGINT(20) not null,\n\t\tresource_group_name varchar(32) not null,\n\t\tstart_time datetime(6) NOT NULL,\n\t\tend_time datetime(6),\n\t\twatch bigint(10) NOT NULL,\n\t\twatch_text TEXT NOT NULL,\n\t\tsource varchar(512) NOT NULL,\n\t\taction bigint(10),\n\t\tdone_time TIMESTAMP(6) NOT NULL\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"] [user=]
[2024/05/15 17:12:13.726 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:95, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:94, RowCount:0, ArgLen:2, start time: 2024-05-15 17:12:13.725 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:12:13.726 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:95, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:94, RowCount:0, ArgLen:2, start time: 2024-05-15 17:12:13.725 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_runaway_watch_done (\n\t\tid BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n\t\trecord_id BIGINT(20) not null,\n\t\tresource_group_name varchar(32) not null,\n\t\tstart_time datetime(6) NOT NULL,\n\t\tend_time datetime(6),\n\t\twatch bigint(10) NOT NULL,\n\t\twatch_text TEXT NOT NULL,\n\t\tsource varchar(512) NOT NULL,\n\t\taction bigint(10),\n\t\tdone_time TIMESTAMP(6) NOT NULL\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"]
[2024/05/15 17:12:13.730 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=95] [category=ddl] [job="ID:95, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:94, RowCount:0, ArgLen:0, start time: 2024-05-15 17:12:13.725 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:12:13.734 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=95] [job="ID:95, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:94, RowCount:0, ArgLen:0, start time: 2024-05-15 17:12:13.725 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:12:13.735 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=95]
[2024/05/15 17:12:13.735 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:12:13.736 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=46] [neededSchemaVersion=47] ["start time"=251.459s] [gotSchemaVersion=47] [phyTblIDs="[94]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:12:13.736 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=47] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.dist_framework_meta (\n        host VARCHAR(261) NOT NULL PRIMARY KEY,\n        role VARCHAR(64),\n        cpu_count int default 0,\n        keyspace_id bigint(8) NOT NULL DEFAULT -1\n    );"] [user=]
[2024/05/15 17:12:13.737 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:97, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:96, RowCount:0, ArgLen:2, start time: 2024-05-15 17:12:13.737 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:12:13.737 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:97, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:96, RowCount:0, ArgLen:2, start time: 2024-05-15 17:12:13.737 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.dist_framework_meta (\n        host VARCHAR(261) NOT NULL PRIMARY KEY,\n        role VARCHAR(64),\n        cpu_count int default 0,\n        keyspace_id bigint(8) NOT NULL DEFAULT -1\n    );"]
[2024/05/15 17:12:13.741 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=97] [category=ddl] [job="ID:97, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:96, RowCount:0, ArgLen:0, start time: 2024-05-15 17:12:13.737 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:12:13.745 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=97] [job="ID:97, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:96, RowCount:0, ArgLen:0, start time: 2024-05-15 17:12:13.737 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:12:13.746 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=97]
[2024/05/15 17:12:13.746 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:12:13.746 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=47] [neededSchemaVersion=48] ["start time"=164.375s] [gotSchemaVersion=48] [phyTblIDs="[96]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:12:13.746 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=48] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.request_unit_by_group (\n\t\tstart_time TIMESTAMP(6) NOT NULL,\n\t\tend_time TIMESTAMP(6) NOT NULL,\n\t\tresource_group VARCHAR(32) NOT null,\n\t\ttotal_ru bigint(64) UNSIGNED NOT NULL,\n\t\tPRIMARY KEY (start_time, end_time, resource_group),\n\t\tKEY (resource_group)\n\t);"] [user=]
[2024/05/15 17:12:13.747 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:99, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:98, RowCount:0, ArgLen:2, start time: 2024-05-15 17:12:13.747 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:12:13.747 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:99, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:98, RowCount:0, ArgLen:2, start time: 2024-05-15 17:12:13.747 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.request_unit_by_group (\n\t\tstart_time TIMESTAMP(6) NOT NULL,\n\t\tend_time TIMESTAMP(6) NOT NULL,\n\t\tresource_group VARCHAR(32) NOT null,\n\t\ttotal_ru bigint(64) UNSIGNED NOT NULL,\n\t\tPRIMARY KEY (start_time, end_time, resource_group),\n\t\tKEY (resource_group)\n\t);"]
[2024/05/15 17:12:13.751 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=99] [category=ddl] [job="ID:99, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:98, RowCount:0, ArgLen:0, start time: 2024-05-15 17:12:13.747 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:12:13.755 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=99] [job="ID:99, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:98, RowCount:0, ArgLen:0, start time: 2024-05-15 17:12:13.747 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:12:13.757 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=99]
[2024/05/15 17:12:13.757 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:12:13.757 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=48] [neededSchemaVersion=49] ["start time"=204.792s] [gotSchemaVersion=49] [phyTblIDs="[98]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:12:13.757 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=49] [cur_db=mysql] [sql="CREATE DATABASE IF NOT EXISTS sys;"] [user=]
[2024/05/15 17:12:13.758 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:101, Type:create schema, State:queueing, SchemaState:none, SchemaID:100, TableID:0, RowCount:0, ArgLen:1, start time: 2024-05-15 17:12:13.758 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:12:13.758 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:101, Type:create schema, State:queueing, SchemaState:none, SchemaID:100, TableID:0, RowCount:0, ArgLen:1, start time: 2024-05-15 17:12:13.758 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE DATABASE IF NOT EXISTS sys;"]
[2024/05/15 17:12:13.761 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=101] [category=ddl] [job="ID:101, Type:create schema, State:queueing, SchemaState:none, SchemaID:100, TableID:0, RowCount:0, ArgLen:0, start time: 2024-05-15 17:12:13.758 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:12:13.765 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=101] [job="ID:101, Type:create schema, State:synced, SchemaState:public, SchemaID:100, TableID:0, RowCount:0, ArgLen:0, start time: 2024-05-15 17:12:13.758 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:12:13.766 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=101]
[2024/05/15 17:12:13.766 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:12:13.766 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=49] [neededSchemaVersion=50] ["start time"=33.375s] [gotSchemaVersion=50] [phyTblIDs="[]"] [actionTypes="[]"] [diffTypes="[\"create schema\"]"]
[2024/05/15 17:12:13.768 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:103, Type:create view, State:queueing, SchemaState:none, SchemaID:100, TableID:102, RowCount:0, ArgLen:3, start time: 2024-05-15 17:12:13.767 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:12:13.768 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:103, Type:create view, State:queueing, SchemaState:none, SchemaID:100, TableID:102, RowCount:0, ArgLen:3, start time: 2024-05-15 17:12:13.767 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE OR REPLACE VIEW sys.schema_unused_indexes AS\n\t\tSELECT\n\t\t\ttable_schema as object_schema,\n\t\t\ttable_name as object_name,\n\t\t\tindex_name\n\t\tFROM information_schema.cluster_tidb_index_usage\n\t\tWHERE\n\t\t\ttable_schema not in ('sys', 'mysql', 'INFORMATION_SCHEMA', 'PERFORMANCE_SCHEMA') and\n\t\t\tindex_name != 'PRIMARY'\n\t\tGROUP BY table_schema, table_name, index_name\n\t\tHAVING\n\t\t\tsum(last_access_time) is null;"]
[2024/05/15 17:12:13.771 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=103] [category=ddl] [job="ID:103, Type:create view, State:queueing, SchemaState:none, SchemaID:100, TableID:102, RowCount:0, ArgLen:0, start time: 2024-05-15 17:12:13.767 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:12:13.776 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=103] [job="ID:103, Type:create view, State:synced, SchemaState:public, SchemaID:100, TableID:102, RowCount:0, ArgLen:0, start time: 2024-05-15 17:12:13.767 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:12:13.778 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=103]
[2024/05/15 17:12:13.778 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:12:13.778 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=50] [neededSchemaVersion=51] ["start time"=142.041s] [gotSchemaVersion=51] [phyTblIDs="[102]"] [actionTypes="[21]"] [diffTypes="[\"create view\"]"]
[2024/05/15 17:12:13.779 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=0] ["to ID"=1] ["table ID"=4] ["database ID"=1]
[2024/05/15 17:12:13.782 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=0] ["to ID"=655] ["table ID"=16] ["database ID"=1]
[2024/05/15 17:12:13.786 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=0] ["to ID"=1] ["table ID"=18] ["database ID"=1]
[2024/05/15 17:12:13.786 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1] ["to ID"=2] ["table ID"=18] ["database ID"=1]
[2024/05/15 17:12:13.786 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2] ["to ID"=3] ["table ID"=18] ["database ID"=1]
[2024/05/15 17:12:13.786 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3] ["to ID"=4] ["table ID"=18] ["database ID"=1]
[2024/05/15 17:12:13.787 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=4] ["to ID"=5] ["table ID"=18] ["database ID"=1]
[2024/05/15 17:12:13.790 +08:00] [INFO] [bootstrap.go:745] ["bootstrap successful"] ["take time"=926.540083ms]
[2024/05/15 17:12:13.791 +08:00] [INFO] [mock.go:106] ["owner manager is canceled"] [category=ddl] [ID=8b345fc0-236d-412f-936d-b64bc52244ed] [ownerKey=/tidb/ddl/fg/owner]
[2024/05/15 17:12:13.791 +08:00] [INFO] [ddl_workerpool.go:82] ["closing workerPool"] [category=ddl]
[2024/05/15 17:12:13.791 +08:00] [INFO] [ddl_worker.go:186] ["DDL worker closed"] [worker="worker 2, tp add index"] [category=ddl] ["take time"=1.042s]
[2024/05/15 17:12:13.791 +08:00] [INFO] [ddl_workerpool.go:82] ["closing workerPool"] [category=ddl]
[2024/05/15 17:12:13.791 +08:00] [INFO] [ddl_worker.go:186] ["DDL worker closed"] [worker="worker 1, tp general"] [category=ddl] ["take time"=292ns]
[2024/05/15 17:12:13.791 +08:00] [INFO] [ddl_workerpool.go:82] ["closing workerPool"] [category=ddl]
[2024/05/15 17:12:13.791 +08:00] [INFO] [delete_range.go:162] ["closing delRange"] [category=ddl]
[2024/05/15 17:12:13.791 +08:00] [INFO] [session_pool.go:99] ["closing session pool"] [category=ddl]
[2024/05/15 17:12:13.792 +08:00] [INFO] [ddl.go:951] ["DDL closed"] [category=ddl] [ID=8b345fc0-236d-412f-936d-b64bc52244ed] ["take time"=732.541s]
[2024/05/15 17:12:13.792 +08:00] [INFO] [ddl.go:769] ["stop DDL"] [category=ddl] [ID=8b345fc0-236d-412f-936d-b64bc52244ed]
[2024/05/15 17:12:13.792 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=mdlCheckLoop]
[2024/05/15 17:12:13.792 +08:00] [INFO] [domain.go:769] ["topologySyncerKeeper exited."]
[2024/05/15 17:12:13.792 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=topologySyncerKeeper]
[2024/05/15 17:12:13.792 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=runawayStartLoop]
[2024/05/15 17:12:13.792 +08:00] [INFO] [domain.go:745] ["globalConfigSyncerKeeper exited."]
[2024/05/15 17:12:13.792 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=globalConfigSyncerKeeper]
[2024/05/15 17:12:13.792 +08:00] [INFO] [domain.go:719] ["infoSyncerKeeper exited."]
[2024/05/15 17:12:13.792 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=infoSyncerKeeper]
[2024/05/15 17:12:13.792 +08:00] [INFO] [domain.go:691] ["topNSlowQueryLoop exited."]
[2024/05/15 17:12:13.792 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=topNSlowQueryLoop]
[2024/05/15 17:12:13.792 +08:00] [INFO] [domain.go:1369] ["closestReplicaReadCheckLoop exited."]
[2024/05/15 17:12:13.792 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=closestReplicaReadCheckLoop]
[2024/05/15 17:12:13.792 +08:00] [INFO] [domain.go:1082] ["domain closed"] ["take time"=999.292s]
[2024/05/15 17:12:13.792 +08:00] [INFO] [tidb.go:80] ["new domain"] [store=3d143cd7-21a3-4bfb-a394-5902a99f755b] ["ddl lease"=0s] ["stats lease"=-1ns]
[2024/05/15 17:12:13.794 +08:00] [WARN] [controller.go:198] ["[resource group controller] server does not save config, load config failed"]
[2024/05/15 17:12:13.794 +08:00] [INFO] [controller.go:185] ["load resource controller config"] [config="{\"degraded-mode-wait-duration\":\"0s\",\"ltb-max-wait-duration\":\"30s\",\"wait-retry-interval\":\"50ms\",\"wait-retry-times\":10,\"request-unit\":{\"read-base-cost\":0.125,\"read-per-batch-base-cost\":0.5,\"read-cost-per-byte\":0.0000152587890625,\"write-base-cost\":1,\"write-per-batch-base-cost\":1,\"write-cost-per-byte\":0.0009765625,\"read-cpu-ms-cost\":0.3333333333333333},\"enable-controller-trace-log\":\"false\"}"] [ru-config="{\"ReadBaseCost\":0.125,\"ReadPerBatchBaseCost\":0.5,\"ReadBytesCost\":0.0000152587890625,\"WriteBaseCost\":1,\"WritePerBatchBaseCost\":1,\"WriteBytesCost\":0.0009765625,\"CPUMsCost\":0.3333333333333333,\"LTBMaxWaitDuration\":30000000000,\"WaitRetryInterval\":50000000,\"WaitRetryTimes\":10,\"DegradedModeWaitDuration\":0}"]
[2024/05/15 17:12:13.806 +08:00] [INFO] [domain.go:323] ["full load InfoSchema success"] [currentSchemaVersion=0] [neededSchemaVersion=51] ["start time"=12.457875ms]
[2024/05/15 17:12:13.809 +08:00] [INFO] [domain.go:643] ["full load and reset schema validator"]
[2024/05/15 17:12:13.809 +08:00] [INFO] [ddl.go:818] ["start DDL"] [category=ddl] [ID=1d9b5817-059c-4e36-933c-e39a318bc55a] [runWorker=true]
[2024/05/15 17:12:13.809 +08:00] [INFO] [ddl.go:777] ["start delRangeManager OK"] [category=ddl] ["is a emulator"=true]
[2024/05/15 17:12:13.809 +08:00] [WARN] [env.go:51] ["initialize environment failed"] [category=ddl-ingest] ["storage limitation"="only support TiKV storage"] ["current storage"=unistore] ["lightning is initialized"=false]
[2024/05/15 17:12:13.809 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=mdlCheckLoop]
[2024/05/15 17:12:13.809 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=topNSlowQueryLoop]
[2024/05/15 17:12:13.809 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=infoSyncerKeeper]
[2024/05/15 17:12:13.809 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=globalConfigSyncerKeeper]
[2024/05/15 17:12:13.809 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=runawayStartLoop]
[2024/05/15 17:12:13.809 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=requestUnitsWriterLoop]
[2024/05/15 17:12:13.809 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=topologySyncerKeeper]
[2024/05/15 17:12:13.809 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=closestReplicaReadCheckLoop]
[2024/05/15 17:12:13.809 +08:00] [WARN] [domain.go:1334] ["pd / etcd client not provided, won't begin Advancer."]
[2024/05/15 17:12:13.813 +08:00] [INFO] [delete_range.go:172] ["start delRange emulator"] [category=ddl]
[2024/05/15 17:12:13.813 +08:00] [INFO] [job_table.go:334] ["get global state and global state change"] [category=ddl] [oldState=false] [currState=false]
[2024/05/15 17:12:13.814 +08:00] [INFO] [runaway.go:149] ["try to start runaway manager loop"]
[2024/05/15 17:12:13.814 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=requestUnitsWriterLoop]
[2024/05/15 17:12:13.834 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=globalBindHandleWorkerLoop]
[2024/05/15 17:12:13.834 +08:00] [WARN] [sysvar_cache.go:49] ["sysvar cache is empty, triggering rebuild"]
[2024/05/15 17:12:13.835 +08:00] [INFO] [sysvar.go:2748] ["set resource control"] [enable=true]
[2024/05/15 17:12:13.836 +08:00] [INFO] [controller.go:447] ["[resource group controller] create resource group cost controller"] [name=default]
[2024/05/15 17:12:13.846 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=loadPrivilegeInLoop]
[2024/05/15 17:12:13.848 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=LoadSysVarCacheLoop]
[2024/05/15 17:12:13.850 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=PlanReplayerTaskCollectHandle]
[2024/05/15 17:12:13.850 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=PlanReplayerTaskDumpHandle]
[2024/05/15 17:12:13.850 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=dumpFileGcChecker]
[2024/05/15 17:12:13.850 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=HistoricalStatsWorker]
[2024/05/15 17:12:13.851 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=indexUsageWorker]
[2024/05/15 17:12:13.851 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=quitStatsOwner]
[2024/05/15 17:12:13.851 +08:00] [INFO] [domain.go:2278] ["start load stats sub workers"] ["worker count"=5]
[2024/05/15 17:12:13.852 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=loadSigningCertLoop]
[2024/05/15 17:12:13.852 +08:00] [INFO] [manager.go:113] ["build task executor manager"] [server-id=:4000] [total-cpu=1] [total-mem=32GiB]
[2024/05/15 17:12:13.854 +08:00] [INFO] [domain.go:2024] ["PlanReplayerTaskCollectHandle started"]
[2024/05/15 17:12:13.854 +08:00] [INFO] [domain.go:2046] ["PlanReplayerTaskDumpHandle started"]
[2024/05/15 17:12:13.854 +08:00] [INFO] [plan_replayer.go:409] ["planReplayerTaskDumpWorker started."]
[2024/05/15 17:12:13.854 +08:00] [INFO] [domain.go:2078] ["dumpFileGcChecker started"]
[2024/05/15 17:12:13.854 +08:00] [INFO] [domain.go:2111] ["HistoricalStatsWorker started"]
[2024/05/15 17:12:13.856 +08:00] [INFO] [task_manager.go:217] ["scale ttl worker"] [ttl-worker=job-manager] [ttl-worker=task-manager] [originalCount=0] [newCount=4]
[2024/05/15 17:12:13.856 +08:00] [INFO] [task_manager.go:217] ["scale ttl worker"] [ttl-worker=job-manager] [ttl-worker=task-manager] [originalCount=0] [newCount=4]
[2024/05/15 17:12:13.863 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=0] ["to ID"=1] ["table ID"=96] ["database ID"=1]
[2024/05/15 17:12:13.863 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=distTaskFrameworkLoop]
[2024/05/15 17:12:13.865 +08:00] [INFO] [manager.go:146] ["task executor manager start"] [server-id=:4000]
[2024/05/15 17:12:13.865 +08:00] [INFO] [domain.go:1533] ["dist task executor manager started"]
[2024/05/15 17:12:13.866 +08:00] [INFO] [job_table.go:334] ["get global state and global state change"] [category=ddl] [oldState=false] [currState=false]
[2024/05/15 17:12:13.866 +08:00] [INFO] [job_table.go:349] ["the owner sets owner operator value"] [category=ddl] [ownerOp=none]
[2024/05/15 17:12:13.867 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=30000] ["to ID"=30001] ["table ID"=16] ["database ID"=1]
[2024/05/15 17:12:13.871 +08:00] [INFO] [set.go:170] ["set global var"] [conn=1] [name=tidb_schema_cache_size] [val=1024]
[2024/05/15 17:12:13.871 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=1] [schemaVersion=51] [cur_db=test] [sql="drop table if exists ddltiflash"] [user=]
[2024/05/15 17:12:13.872 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=1] [schemaVersion=51] [cur_db=test] [sql="create table ddltiflash(z int) PARTITION BY RANGE(z) (PARTITION p0 VALUES LESS THAN (10),PARTITION p1 VALUES LESS THAN (20), PARTITION p2 VALUES LESS THAN (30))"] [user=]
[2024/05/15 17:12:13.874 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:108, Type:create table, State:queueing, SchemaState:none, SchemaID:2, TableID:104, RowCount:0, ArgLen:2, start time: 2024-05-15 17:12:13.873 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:12:13.874 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:108, Type:create table, State:queueing, SchemaState:none, SchemaID:2, TableID:104, RowCount:0, ArgLen:2, start time: 2024-05-15 17:12:13.873 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="create table ddltiflash(z int) PARTITION BY RANGE(z) (PARTITION p0 VALUES LESS THAN (10),PARTITION p1 VALUES LESS THAN (20), PARTITION p2 VALUES LESS THAN (30))"]
[2024/05/15 17:12:13.901 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=108] [conn=1] [category=ddl] [job="ID:108, Type:create table, State:queueing, SchemaState:none, SchemaID:2, TableID:104, RowCount:0, ArgLen:0, start time: 2024-05-15 17:12:13.873 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:12:13.907 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=108] [conn=1] [job="ID:108, Type:create table, State:synced, SchemaState:public, SchemaID:2, TableID:104, RowCount:0, ArgLen:0, start time: 2024-05-15 17:12:13.873 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:12:13.909 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=108]
[2024/05/15 17:12:13.909 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:12:13.913 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=51] [neededSchemaVersion=52] ["start time"=3.997667ms] [gotSchemaVersion=52] [phyTblIDs="[104,105,106,107]"] [actionTypes="[3,3,3,3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:12:13.913 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=1] [schemaVersion=52] [cur_db=test] [sql="alter table ddltiflash set tiflash replica 1"] [user=]
[2024/05/15 17:12:13.915 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:109, Type:set tiflash replica, State:queueing, SchemaState:none, SchemaID:2, TableID:104, RowCount:0, ArgLen:1, start time: 2024-05-15 17:12:13.914 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:12:13.915 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:109, Type:set tiflash replica, State:queueing, SchemaState:none, SchemaID:2, TableID:104, RowCount:0, ArgLen:1, start time: 2024-05-15 17:12:13.914 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="alter table ddltiflash set tiflash replica 1"]
[2024/05/15 17:12:13.919 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=109] [conn=1] [category=ddl] [job="ID:109, Type:set tiflash replica, State:queueing, SchemaState:none, SchemaID:2, TableID:104, RowCount:0, ArgLen:0, start time: 2024-05-15 17:12:13.914 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:12:13.919 +08:00] [INFO] [table.go:1380] ["Set TiFlash replica pd rule for partitioned table"] [category=ddl] [tableID=104]
[2024/05/15 17:12:13.919 +08:00] [INFO] [info.go:1229] [ConfigureTiFlashPDForPartitions] [tableID=104] [partID=105] [accel=false] [count=1]
[2024/05/15 17:12:13.919 +08:00] [INFO] [info.go:1229] [ConfigureTiFlashPDForPartitions] [tableID=104] [partID=106] [accel=false] [count=1]
[2024/05/15 17:12:13.919 +08:00] [INFO] [info.go:1229] [ConfigureTiFlashPDForPartitions] [tableID=104] [partID=107] [accel=false] [count=1]
[2024/05/15 17:12:13.923 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=109] [conn=1] [job="ID:109, Type:set tiflash replica, State:synced, SchemaState:public, SchemaID:2, TableID:104, RowCount:0, ArgLen:0, start time: 2024-05-15 17:12:13.914 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:12:13.925 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=109]
[2024/05/15 17:12:13.925 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:12:13.929 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=52] [neededSchemaVersion=53] ["start time"=3.61875ms] [gotSchemaVersion=53] [phyTblIDs="[]"] [actionTypes="[]"] [diffTypes="[]"]
[2024/05/15 17:12:13.929 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=1] [schemaVersion=53] [cur_db=test] [sql="ALTER TABLE ddltiflash ADD PARTITION (PARTITION pn VALUES LESS THAN (40))"] [user=]
[2024/05/15 17:12:13.931 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:111, Type:add partition, State:queueing, SchemaState:none, SchemaID:2, TableID:104, RowCount:0, ArgLen:1, start time: 2024-05-15 17:12:13.93 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:12:13.931 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:111, Type:add partition, State:queueing, SchemaState:none, SchemaID:2, TableID:104, RowCount:0, ArgLen:1, start time: 2024-05-15 17:12:13.93 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="ALTER TABLE ddltiflash ADD PARTITION (PARTITION pn VALUES LESS THAN (40))"]
[2024/05/15 17:12:13.934 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=111] [conn=1] [category=ddl] [job="ID:111, Type:add partition, State:queueing, SchemaState:none, SchemaID:2, TableID:104, RowCount:0, ArgLen:0, start time: 2024-05-15 17:12:13.93 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:12:13.934 +08:00] [INFO] [info.go:1229] [ConfigureTiFlashPDForPartitions] [tableID=104] [partID=110] [accel=true] [count=1]
[2024/05/15 17:12:13.938 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=111] [conn=1] [category=ddl] [job="ID:111, Type:add partition, State:running, SchemaState:replica only, SchemaID:2, TableID:104, RowCount:0, ArgLen:0, start time: 2024-05-15 17:12:13.93 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:12:13.942 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=111] [conn=1] [job="ID:111, Type:add partition, State:synced, SchemaState:public, SchemaID:2, TableID:104, RowCount:0, ArgLen:0, start time: 2024-05-15 17:12:13.93 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:12:13.944 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=111]
[2024/05/15 17:12:13.944 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:12:13.948 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=53] [neededSchemaVersion=55] ["start time"=3.9715ms] [gotSchemaVersion=55] [phyTblIDs="[104,105,106,107,110,104,105,106,107,110]"] [actionTypes="[19,19,19,19,19,19,19,19,19,19]"] [diffTypes="[\"add partition\",\"add partition\"]"]
[2024/05/15 17:12:14.816 +08:00] [INFO] [info.go:1142] [SetTiFlashGroupConfig]
[2024/05/15 17:12:14.831 +08:00] [INFO] [runaway.go:158] ["preparations for the runaway manager are finished and start runaway manager loop"]
[2024/05/15 17:12:14.831 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=runawayRecordFlushLoop]
[2024/05/15 17:12:14.831 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=runawayWatchSyncLoop]
[2024/05/15 17:12:14.831 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=runawayStartLoop]
[2024/05/15 17:12:14.844 +08:00] [INFO] [ddl_tiflash_api.go:526] ["Tiflash replica is available"] [category=ddl] [tableID=105] [progress=1]
[2024/05/15 17:12:14.846 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:112, Type:update tiflash replica status, State:queueing, SchemaState:none, SchemaID:2, TableID:104, RowCount:0, ArgLen:2, start time: 2024-05-15 17:12:14.845 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:12:14.846 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:112, Type:update tiflash replica status, State:queueing, SchemaState:none, SchemaID:2, TableID:104, RowCount:0, ArgLen:2, start time: 2024-05-15 17:12:14.845 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query=]
[2024/05/15 17:12:14.849 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=112] [category=ddl] [job="ID:112, Type:update tiflash replica status, State:queueing, SchemaState:none, SchemaID:2, TableID:104, RowCount:0, ArgLen:0, start time: 2024-05-15 17:12:14.845 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:12:14.854 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=112] [job="ID:112, Type:update tiflash replica status, State:synced, SchemaState:public, SchemaID:2, TableID:104, RowCount:0, ArgLen:0, start time: 2024-05-15 17:12:14.845 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:12:14.855 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=112]
[2024/05/15 17:12:14.855 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:12:14.859 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=55] [neededSchemaVersion=56] ["start time"=3.708666ms] [gotSchemaVersion=56] [phyTblIDs="[]"] [actionTypes="[]"] [diffTypes="[]"]
[2024/05/15 17:12:14.861 +08:00] [INFO] [runtime.go:160] ["TimerGroupRuntime loop started"] [groupID=ttl]
[2024/05/15 17:12:14.861 +08:00] [INFO] [runtime.go:402] ["create watch chan if possible for timer runtime"] [groupID=ttl] [storeSupportWatch=true]
[2024/05/15 17:12:14.876 +08:00] [INFO] [slots.go:205] ["initialize slot capacity"] [capacity=1]
[2024/05/15 17:12:14.879 +08:00] [INFO] [scheduler_manager.go:200] ["schedule task loop start"] [server-id=:4000]
[2024/05/15 17:12:14.879 +08:00] [INFO] [scheduler_manager.go:312] ["subtask table gc loop start"] [server-id=:4000]
[2024/05/15 17:12:14.879 +08:00] [INFO] [scheduler_manager.go:373] ["cleanup loop start"] [server-id=:4000]
[2024/05/15 17:12:14.889 +08:00] [INFO] [scheduler_manager.go:453] ["collect loop start"] [server-id=:4000]
[2024/05/15 17:12:14.894 +08:00] [INFO] [ddl_tiflash_api.go:526] ["Tiflash replica is available"] [category=ddl] [tableID=106] [progress=1]
[2024/05/15 17:12:14.895 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:113, Type:update tiflash replica status, State:queueing, SchemaState:none, SchemaID:2, TableID:104, RowCount:0, ArgLen:2, start time: 2024-05-15 17:12:14.894 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:12:14.895 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:113, Type:update tiflash replica status, State:queueing, SchemaState:none, SchemaID:2, TableID:104, RowCount:0, ArgLen:2, start time: 2024-05-15 17:12:14.894 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query=]
[2024/05/15 17:12:14.898 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=113] [category=ddl] [job="ID:113, Type:update tiflash replica status, State:queueing, SchemaState:none, SchemaID:2, TableID:104, RowCount:0, ArgLen:0, start time: 2024-05-15 17:12:14.894 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:12:14.902 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=113] [job="ID:113, Type:update tiflash replica status, State:synced, SchemaState:public, SchemaID:2, TableID:104, RowCount:0, ArgLen:0, start time: 2024-05-15 17:12:14.894 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:12:14.904 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=113]
[2024/05/15 17:12:14.904 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:12:14.908 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=56] [neededSchemaVersion=57] ["start time"=3.732209ms] [gotSchemaVersion=57] [phyTblIDs="[]"] [actionTypes="[]"] [diffTypes="[]"]
[2024/05/15 17:12:14.911 +08:00] [INFO] [ddl_tiflash_api.go:526] ["Tiflash replica is available"] [category=ddl] [tableID=107] [progress=1]
[2024/05/15 17:12:14.912 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:114, Type:update tiflash replica status, State:queueing, SchemaState:none, SchemaID:2, TableID:104, RowCount:0, ArgLen:2, start time: 2024-05-15 17:12:14.911 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:12:14.912 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:114, Type:update tiflash replica status, State:queueing, SchemaState:none, SchemaID:2, TableID:104, RowCount:0, ArgLen:2, start time: 2024-05-15 17:12:14.911 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query=]
[2024/05/15 17:12:14.915 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=114] [category=ddl] [job="ID:114, Type:update tiflash replica status, State:queueing, SchemaState:none, SchemaID:2, TableID:104, RowCount:0, ArgLen:0, start time: 2024-05-15 17:12:14.911 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:12:14.921 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=114] [job="ID:114, Type:update tiflash replica status, State:synced, SchemaState:public, SchemaID:2, TableID:104, RowCount:0, ArgLen:0, start time: 2024-05-15 17:12:14.911 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:12:14.924 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=114]
[2024/05/15 17:12:14.924 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:12:14.928 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=57] [neededSchemaVersion=58] ["start time"=4.143ms] [gotSchemaVersion=58] [phyTblIDs="[]"] [actionTypes="[]"] [diffTypes="[]"]
[2024/05/15 17:12:14.933 +08:00] [INFO] [ddl_tiflash_api.go:526] ["Tiflash replica is available"] [category=ddl] [tableID=110] [progress=1]
[2024/05/15 17:12:14.934 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:115, Type:update tiflash replica status, State:queueing, SchemaState:none, SchemaID:2, TableID:104, RowCount:0, ArgLen:2, start time: 2024-05-15 17:12:14.934 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:12:14.934 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:115, Type:update tiflash replica status, State:queueing, SchemaState:none, SchemaID:2, TableID:104, RowCount:0, ArgLen:2, start time: 2024-05-15 17:12:14.934 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query=]
[2024/05/15 17:12:14.937 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=115] [category=ddl] [job="ID:115, Type:update tiflash replica status, State:queueing, SchemaState:none, SchemaID:2, TableID:104, RowCount:0, ArgLen:0, start time: 2024-05-15 17:12:14.934 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:12:14.937 +08:00] [INFO] [table.go:1486] ["TiFlash replica available"] [category=ddl] [tableID=104]
[2024/05/15 17:12:14.941 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=115] [job="ID:115, Type:update tiflash replica status, State:synced, SchemaState:public, SchemaID:2, TableID:104, RowCount:0, ArgLen:0, start time: 2024-05-15 17:12:14.934 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:12:14.943 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=115]
[2024/05/15 17:12:14.943 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:12:14.946 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=58] [neededSchemaVersion=59] ["start time"=3.7615ms] [gotSchemaVersion=59] [phyTblIDs="[]"] [actionTypes="[]"] [diffTypes="[]"]
[2024/05/15 17:12:16.949 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=30000] ["to ID"=30001] ["table ID"=18] ["database ID"=1]
[2024/05/15 17:12:16.949 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=30001] ["to ID"=30002] ["table ID"=18] ["database ID"=1]
[2024/05/15 17:12:16.950 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=30002] ["to ID"=30003] ["table ID"=18] ["database ID"=1]
[2024/05/15 17:12:16.950 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=1] [schemaVersion=59] [cur_db=test] [sql="drop table if exists ddltiflash"] [user=]
[2024/05/15 17:12:16.951 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:116, Type:drop table, State:queueing, SchemaState:public, SchemaID:2, TableID:104, RowCount:0, ArgLen:2, start time: 2024-05-15 17:12:16.951 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:12:16.951 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:116, Type:drop table, State:queueing, SchemaState:public, SchemaID:2, TableID:104, RowCount:0, ArgLen:2, start time: 2024-05-15 17:12:16.951 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="drop table if exists ddltiflash"]
[2024/05/15 17:12:16.955 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=116] [conn=1] [category=ddl] [job="ID:116, Type:drop table, State:queueing, SchemaState:public, SchemaID:2, TableID:104, RowCount:0, ArgLen:0, start time: 2024-05-15 17:12:16.951 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:12:16.960 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=116] [conn=1] [category=ddl] [job="ID:116, Type:drop table, State:running, SchemaState:write only, SchemaID:2, TableID:104, RowCount:0, ArgLen:0, start time: 2024-05-15 17:12:16.951 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:12:16.964 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=116] [conn=1] [category=ddl] [job="ID:116, Type:drop table, State:running, SchemaState:delete only, SchemaID:2, TableID:104, RowCount:0, ArgLen:0, start time: 2024-05-15 17:12:16.951 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:12:16.969 +08:00] [INFO] [delete_range.go:447] ["insert into delete-range table"] [category=ddl] [jobID=116] [tableIDs="[105,106,107,110]"] [comment="drop table: partition table IDs"]
[2024/05/15 17:12:16.970 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=0] ["to ID"=1] ["table ID"=28] ["database ID"=1]
[2024/05/15 17:12:16.970 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1] ["to ID"=2] ["table ID"=28] ["database ID"=1]
[2024/05/15 17:12:16.970 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2] ["to ID"=3] ["table ID"=28] ["database ID"=1]
[2024/05/15 17:12:16.970 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3] ["to ID"=4] ["table ID"=28] ["database ID"=1]
[2024/05/15 17:12:16.971 +08:00] [INFO] [delete_range.go:447] ["insert into delete-range table"] [category=ddl] [jobID=116] [tableIDs="[104]"] [comment="drop table: table ID"]
[2024/05/15 17:12:16.971 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=4] ["to ID"=5] ["table ID"=28] ["database ID"=1]
[2024/05/15 17:12:16.971 +08:00] [INFO] [delete_range.go:112] ["add job into delete-range table"] [category=ddl] [jobID=116] [jobType="drop table"]
[2024/05/15 17:12:16.971 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=116] [conn=1] [job="ID:116, Type:drop table, State:synced, SchemaState:none, SchemaID:2, TableID:104, RowCount:0, ArgLen:3, start time: 2024-05-15 17:12:16.951 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:12:16.975 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=116]
[2024/05/15 17:12:16.975 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:12:16.975 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=59] [neededSchemaVersion=62] ["start time"=112.459s] [gotSchemaVersion=62] [phyTblIDs="[104,105,106,107,110]"] [actionTypes="[4,4,4,4,4]"] [diffTypes="[\"drop table\",\"drop table\",\"drop table\"]"]
[2024/05/15 17:12:16.978 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:117, Type:recover table, State:queueing, SchemaState:none, SchemaID:2, TableID:104, RowCount:0, ArgLen:2, start time: 2024-05-15 17:12:16.977 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:12:16.978 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:117, Type:recover table, State:queueing, SchemaState:none, SchemaID:2, TableID:104, RowCount:0, ArgLen:2, start time: 2024-05-15 17:12:16.977 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="flashback table ddltiflash"]
[2024/05/15 17:12:16.982 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=117] [conn=1] [category=ddl] [job="ID:117, Type:recover table, State:queueing, SchemaState:none, SchemaID:2, TableID:104, RowCount:0, ArgLen:0, start time: 2024-05-15 17:12:16.977 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:12:16.986 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=117] [conn=1] [category=ddl] [job="ID:117, Type:recover table, State:running, SchemaState:write only, SchemaID:2, TableID:104, RowCount:0, ArgLen:0, start time: 2024-05-15 17:12:16.977 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:12:16.987 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=30003] ["to ID"=30004] ["table ID"=18] ["database ID"=1]
[2024/05/15 17:12:16.987 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=30001] ["to ID"=30002] ["table ID"=16] ["database ID"=1]
[2024/05/15 17:12:16.995 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=30004] ["to ID"=30005] ["table ID"=18] ["database ID"=1]
[2024/05/15 17:12:16.995 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=30002] ["to ID"=30003] ["table ID"=16] ["database ID"=1]
[2024/05/15 17:12:16.997 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=117] [conn=1] [job="ID:117, Type:recover table, State:synced, SchemaState:public, SchemaID:2, TableID:104, RowCount:0, ArgLen:2, start time: 2024-05-15 17:12:16.977 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:12:16.999 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=117]
[2024/05/15 17:12:16.999 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:12:17.003 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=62] [neededSchemaVersion=63] ["start time"=3.835ms] [gotSchemaVersion=63] [phyTblIDs="[104,105,106,107,110]"] [actionTypes="[25,25,25,25,25]"] [diffTypes="[\"recover table\"]"]
panic: ddltiflash not found in tbl2

goroutine 11210 [running]:
github.com/pingcap/tidb/pkg/infoschema.(*infoschemaV3).SchemaTablesWithTs(0x1400c8dbc00, {{0x14008ba3518?, 0x14009cdf2f8?}, {0x14008ba351c?, 0x1400c8dbc00?}}, 0x14009cdf2e0?)
	/Users/bba/pc/tidb/pkg/infoschema/infoschema_v3.go:261 +0x48c
github.com/pingcap/tidb/pkg/infoschema.(*WithTS).SchemaTables(0x106fbaab0?, {{0x14008ba3518?, 0x14011128900?}, {0x14008ba351c?, 0x140076d0620?}})
	/Users/bba/pc/tidb/pkg/infoschema/cache.go:289 +0x44
github.com/pingcap/tidb/pkg/ddl.(*ddl).refreshTiFlashTicker(0x1400801f440, {0x106ff1f20, 0x14011128900}, 0x140076d0620)
	/Users/bba/pc/tidb/pkg/ddl/ddl_tiflash_api.go:455 +0x2a0
github.com/pingcap/tidb/pkg/ddl.(*ddl).PollTiFlashRoutine(0x1400801f440)
	/Users/bba/pc/tidb/pkg/ddl/ddl_tiflash_api.go:588 +0x574
github.com/pingcap/tidb/pkg/util.(*WaitGroupWrapper).Run.func1()
	/Users/bba/pc/tidb/pkg/util/wait_group_wrapper.go:157 +0x58
created by github.com/pingcap/tidb/pkg/util.(*WaitGroupWrapper).Run in goroutine 74
	/Users/bba/pc/tidb/pkg/util/wait_group_wrapper.go:155 +0x7c
[FAIL]  pkg/ddl/tests/tiflash TestAlterDatabaseBasic
err=exit status 2
[2024/05/15 17:15:06.271 +08:00] [INFO] [store_cache.go:510] ["change store resolve state"] [store=1] [addr=store1] [from=unresolved] [to=resolved] [liveness-state=reachable]
[2024/05/15 17:15:06.272 +08:00] [INFO] [store_cache.go:510] ["change store resolve state"] [store=4] [addr=tiflash0] [from=unresolved] [to=resolved] [liveness-state=reachable]
[2024/05/15 17:15:06.272 +08:00] [INFO] [store_cache.go:510] ["change store resolve state"] [store=6] [addr=tiflash1] [from=unresolved] [to=resolved] [liveness-state=reachable]
[2024/05/15 17:15:06.283 +08:00] [INFO] [ddl_api.go:1139] ["Automatically convert BLOB(65535) to MEDIUMBLOB"] [category=ddl]
[2024/05/15 17:15:06.284 +08:00] [INFO] [ddl_api.go:1139] ["Automatically convert BLOB(65535) to MEDIUMBLOB"] [category=ddl]
[2024/05/15 17:15:06.287 +08:00] [INFO] [ddl_api.go:1139] ["Automatically convert BLOB(65535) to MEDIUMBLOB"] [category=ddl]
[2024/05/15 17:15:06.287 +08:00] [INFO] [ddl_api.go:1139] ["Automatically convert BLOB(65535) to MEDIUMBLOB"] [category=ddl]
[2024/05/15 17:15:06.292 +08:00] [INFO] [ddl_api.go:1139] ["Automatically convert BLOB(65535) to MEDIUMBLOB"] [category=ddl]
[2024/05/15 17:15:06.295 +08:00] [INFO] [tidb.go:80] ["new domain"] [store=bb8c8bef-7026-459b-b711-909189377e00] ["ddl lease"=0s] ["stats lease"=-1ns]
[2024/05/15 17:15:06.307 +08:00] [WARN] [controller.go:198] ["[resource group controller] server does not save config, load config failed"]
[2024/05/15 17:15:06.307 +08:00] [INFO] [controller.go:185] ["load resource controller config"] [config="{\"degraded-mode-wait-duration\":\"0s\",\"ltb-max-wait-duration\":\"30s\",\"wait-retry-interval\":\"50ms\",\"wait-retry-times\":10,\"request-unit\":{\"read-base-cost\":0.125,\"read-per-batch-base-cost\":0.5,\"read-cost-per-byte\":0.0000152587890625,\"write-base-cost\":1,\"write-per-batch-base-cost\":1,\"write-cost-per-byte\":0.0009765625,\"read-cpu-ms-cost\":0.3333333333333333},\"enable-controller-trace-log\":\"false\"}"] [ru-config="{\"ReadBaseCost\":0.125,\"ReadPerBatchBaseCost\":0.5,\"ReadBytesCost\":0.0000152587890625,\"WriteBaseCost\":1,\"WritePerBatchBaseCost\":1,\"WriteBytesCost\":0.0009765625,\"CPUMsCost\":0.3333333333333333,\"LTBMaxWaitDuration\":30000000000,\"WaitRetryInterval\":50000000,\"WaitRetryTimes\":10,\"DegradedModeWaitDuration\":0}"]
[2024/05/15 17:15:06.308 +08:00] [WARN] [domain.go:244] ["failed to get schema version"] [error="There is no Write MVCC info for the schema version"] [errorVerbose="There is no Write MVCC info for the schema version\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).getTimestampForSchemaVersionWithNonEmptyDiff\n\t/Users/bba/pc/tidb/pkg/domain/domain.go:343\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).loadInfoSchema\n\t/Users/bba/pc/tidb/pkg/domain/domain.go:242\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).Reload\n\t/Users/bba/pc/tidb/pkg/domain/domain.go:614\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).Init\n\t/Users/bba/pc/tidb/pkg/domain/domain.go:1268\ngithub.com/pingcap/tidb/pkg/session.(*domainMap).Get.func1\n\t/Users/bba/pc/tidb/pkg/session/tidb.go:92\ngithub.com/pingcap/tidb/pkg/util.RunWithRetry\n\t/Users/bba/pc/tidb/pkg/util/misc.go:70\ngithub.com/pingcap/tidb/pkg/session.(*domainMap).Get\n\t/Users/bba/pc/tidb/pkg/session/tidb.go:79\ngithub.com/pingcap/tidb/pkg/session.createSessionWithOpt\n\t/Users/bba/pc/tidb/pkg/session/session.go:3633\ngithub.com/pingcap/tidb/pkg/session.createSession\n\t/Users/bba/pc/tidb/pkg/session/session.go:3625\ngithub.com/pingcap/tidb/pkg/session.runInBootstrapSession\n\t/Users/bba/pc/tidb/pkg/session/session.go:3575\ngithub.com/pingcap/tidb/pkg/session.bootstrapSessionImpl\n\t/Users/bba/pc/tidb/pkg/session/session.go:3351\ngithub.com/pingcap/tidb/pkg/session.BootstrapSession\n\t/Users/bba/pc/tidb/pkg/session/session.go:3317\ngithub.com/pingcap/tidb/pkg/ddl/tests/tiflash.createTiFlashContext\n\t/Users/bba/pc/tidb/pkg/ddl/tests/tiflash/ddl_tiflash_test.go:99\ngithub.com/pingcap/tidb/pkg/ddl/tests/tiflash.TestAlterDatabaseBasic\n\t/Users/bba/pc/tidb/pkg/ddl/tests/tiflash/ddl_tiflash_test.go:771\ntesting.tRunner\n\t/Users/bba/.gvm/gos/go1.21.0/src/testing/testing.go:1595\nruntime.goexit\n\t/Users/bba/.gvm/gos/go1.21.0/src/runtime/asm_arm64.s:1197"] [version=0]
[2024/05/15 17:15:06.319 +08:00] [INFO] [domain.go:323] ["full load InfoSchema success"] [currentSchemaVersion=0] [neededSchemaVersion=0] ["start time"=9.88175ms]
[2024/05/15 17:15:06.320 +08:00] [INFO] [domain.go:643] ["full load and reset schema validator"]
[2024/05/15 17:15:06.321 +08:00] [INFO] [ddl.go:818] ["start DDL"] [category=ddl] [ID=adbf91bd-6f76-459a-b002-b993aaf11363] [runWorker=true]
[2024/05/15 17:15:06.321 +08:00] [INFO] [ddl.go:777] ["start delRangeManager OK"] [category=ddl] ["is a emulator"=true]
[2024/05/15 17:15:06.322 +08:00] [WARN] [env.go:51] ["initialize environment failed"] [category=ddl-ingest] ["storage limitation"="only support TiKV storage"] ["current storage"=unistore] ["lightning is initialized"=false]
[2024/05/15 17:15:06.323 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=mdlCheckLoop]
[2024/05/15 17:15:06.323 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=topNSlowQueryLoop]
[2024/05/15 17:15:06.323 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=infoSyncerKeeper]
[2024/05/15 17:15:06.323 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=globalConfigSyncerKeeper]
[2024/05/15 17:15:06.323 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=runawayStartLoop]
[2024/05/15 17:15:06.323 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=requestUnitsWriterLoop]
[2024/05/15 17:15:06.323 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=topologySyncerKeeper]
[2024/05/15 17:15:06.323 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=closestReplicaReadCheckLoop]
[2024/05/15 17:15:06.323 +08:00] [WARN] [domain.go:1334] ["pd / etcd client not provided, won't begin Advancer."]
[2024/05/15 17:15:06.334 +08:00] [INFO] [delete_range.go:172] ["start delRange emulator"] [category=ddl]
[2024/05/15 17:15:06.336 +08:00] [INFO] [job_table.go:334] ["get global state and global state change"] [category=ddl] [oldState=false] [currState=false]
[2024/05/15 17:15:06.338 +08:00] [INFO] [runaway.go:149] ["try to start runaway manager loop"]
[2024/05/15 17:15:06.338 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=requestUnitsWriterLoop]
[2024/05/15 17:15:06.386 +08:00] [INFO] [job_table.go:334] ["get global state and global state change"] [category=ddl] [oldState=false] [currState=false]
[2024/05/15 17:15:06.386 +08:00] [INFO] [job_table.go:349] ["the owner sets owner operator value"] [category=ddl] [ownerOp=none]
[2024/05/15 17:15:06.535 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=0] [cur_db=mysql] [sql="CREATE DATABASE IF NOT EXISTS test"] [user=]
[2024/05/15 17:15:06.542 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:3, Type:create schema, State:queueing, SchemaState:none, SchemaID:2, TableID:0, RowCount:0, ArgLen:1, start time: 2024-05-15 17:15:06.538 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:15:06.542 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:3, Type:create schema, State:queueing, SchemaState:none, SchemaID:2, TableID:0, RowCount:0, ArgLen:1, start time: 2024-05-15 17:15:06.538 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE DATABASE IF NOT EXISTS test"]
[2024/05/15 17:15:06.556 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=3] [category=ddl] [job="ID:3, Type:create schema, State:queueing, SchemaState:none, SchemaID:2, TableID:0, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:06.538 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:06.562 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=3] [job="ID:3, Type:create schema, State:synced, SchemaState:public, SchemaID:2, TableID:0, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:06.538 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:06.565 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=3]
[2024/05/15 17:15:06.565 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:15:06.574 +08:00] [INFO] [domain.go:323] ["full load InfoSchema success"] [currentSchemaVersion=0] [neededSchemaVersion=1] ["start time"=7.917458ms]
[2024/05/15 17:15:06.574 +08:00] [INFO] [domain.go:643] ["full load and reset schema validator"]
[2024/05/15 17:15:06.575 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=1] [cur_db=mysql] [sql="CREATE DATABASE IF NOT EXISTS `mysql`"] [user=]
[2024/05/15 17:15:06.575 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=1] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.user (\n\t\tHost\t\t\t\t\tCHAR(255),\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tauthentication_string\tTEXT,\n\t\tplugin\t\t\t\t\tCHAR(64),\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tProcess_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_db_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tSuper_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_user_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_slave_priv\t    \tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_client_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_role_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_role_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAccount_locked\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShutdown_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReload_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tFILE_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tConfig_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_Tablespace_Priv  ENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPassword_reuse_history  smallint unsigned DEFAULT NULL,\n\t\tPassword_reuse_time     smallint unsigned DEFAULT NULL,\n\t\tUser_attributes\t\t\tjson,\n\t\tToken_issuer\t\t\tVARCHAR(255),\n\t\tPassword_expired\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPassword_last_changed\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP(),\n\t\tPassword_lifetime\t\tSMALLINT UNSIGNED DEFAULT NULL,\n\t\tPRIMARY KEY (Host, User));"] [user=]
[2024/05/15 17:15:06.578 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:5, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:4, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:06.577 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:15:06.578 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:5, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:4, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:06.577 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.user (\n\t\tHost\t\t\t\t\tCHAR(255),\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tauthentication_string\tTEXT,\n\t\tplugin\t\t\t\t\tCHAR(64),\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tProcess_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_db_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tSuper_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_user_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_slave_priv\t    \tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_client_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_role_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_role_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAccount_locked\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShutdown_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReload_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tFILE_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tConfig_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_Tablespace_Priv  ENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPassword_reuse_history  smallint unsigned DEFAULT NULL,\n\t\tPassword_reuse_time     smallint unsigned DEFAULT NULL,\n\t\tUser_attributes\t\t\tjson,\n\t\tToken_issuer\t\t\tVARCHAR(255),\n\t\tPassword_expired\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPassword_last_changed\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP(),\n\t\tPassword_lifetime\t\tSMALLINT UNSIGNED DEFAULT NULL,\n\t\tPRIMARY KEY (Host, User));"]
[2024/05/15 17:15:06.583 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=5] [category=ddl] [job="ID:5, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:4, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:06.577 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:06.592 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=5] [job="ID:5, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:4, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:06.577 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:06.595 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=5]
[2024/05/15 17:15:06.595 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:15:06.596 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=1] [neededSchemaVersion=2] ["start time"=849.25s] [gotSchemaVersion=2] [phyTblIDs="[4]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:15:06.597 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=2] [cur_db=mysql] [sql="CREATE TABLE  IF NOT EXISTS mysql.password_history (\n         Host char(255)  NOT NULL DEFAULT '',\n         User char(32)  NOT NULL DEFAULT '',\n         Password_timestamp timestamp(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6),\n         Password text,\n         PRIMARY KEY (Host,User,Password_timestamp )\n        ) COMMENT='Password history for user accounts' "] [user=]
[2024/05/15 17:15:06.599 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:7, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:6, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:06.598 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:15:06.599 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:7, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:6, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:06.598 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE  IF NOT EXISTS mysql.password_history (\n         Host char(255)  NOT NULL DEFAULT '',\n         User char(32)  NOT NULL DEFAULT '',\n         Password_timestamp timestamp(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6),\n         Password text,\n         PRIMARY KEY (Host,User,Password_timestamp )\n        ) COMMENT='Password history for user accounts' "]
[2024/05/15 17:15:06.603 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=7] [category=ddl] [job="ID:7, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:6, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:06.598 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:06.611 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=7] [job="ID:7, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:6, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:06.598 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:06.615 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=7]
[2024/05/15 17:15:06.615 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:15:06.615 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=2] [neededSchemaVersion=3] ["start time"=239.084s] [gotSchemaVersion=3] [phyTblIDs="[6]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:15:06.615 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=3] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.global_priv (Host CHAR(255) NOT NULL DEFAULT '',User CHAR(80) NOT NULL DEFAULT '',Priv LONGTEXT NOT NULL DEFAULT '',PRIMARY KEY (Host, User))"] [user=]
[2024/05/15 17:15:06.618 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:9, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:8, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:06.617 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:15:06.618 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:9, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:8, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:06.617 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.global_priv (Host CHAR(255) NOT NULL DEFAULT '',User CHAR(80) NOT NULL DEFAULT '',Priv LONGTEXT NOT NULL DEFAULT '',PRIMARY KEY (Host, User))"]
[2024/05/15 17:15:06.624 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=9] [category=ddl] [job="ID:9, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:8, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:06.617 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:06.628 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=9] [job="ID:9, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:8, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:06.617 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:06.630 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=9]
[2024/05/15 17:15:06.630 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:15:06.630 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=3] [neededSchemaVersion=4] ["start time"=151.334s] [gotSchemaVersion=4] [phyTblIDs="[8]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:15:06.632 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=4] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.db (\n\t\tHost\t\t\t\t\tCHAR(255),\n\t\tDB\t\t\t\t\t\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv \t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (Host, DB, User));"] [user=]
[2024/05/15 17:15:06.635 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:11, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:10, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:06.633 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:15:06.635 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:11, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:10, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:06.633 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.db (\n\t\tHost\t\t\t\t\tCHAR(255),\n\t\tDB\t\t\t\t\t\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv \t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (Host, DB, User));"]
[2024/05/15 17:15:06.639 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=11] [category=ddl] [job="ID:11, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:10, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:06.633 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:06.645 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=11] [job="ID:11, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:10, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:06.633 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:06.647 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=11]
[2024/05/15 17:15:06.647 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:15:06.647 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=4] [neededSchemaVersion=5] ["start time"=498.083s] [gotSchemaVersion=5] [phyTblIDs="[10]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:15:06.647 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=5] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tables_priv (\n\t\tHost\t\tCHAR(255),\n\t\tDB\t\t\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tGrantor\t\tCHAR(77),\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tTable_priv\tSET('Select','Insert','Update','Delete','Create','Drop','Grant','Index','Alter','Create View','Show View','Trigger','References'),\n\t\tColumn_priv\tSET('Select','Insert','Update','References'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name));"] [user=]
[2024/05/15 17:15:06.649 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:13, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:12, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:06.648 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:15:06.649 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:13, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:12, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:06.648 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tables_priv (\n\t\tHost\t\tCHAR(255),\n\t\tDB\t\t\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tGrantor\t\tCHAR(77),\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tTable_priv\tSET('Select','Insert','Update','Delete','Create','Drop','Grant','Index','Alter','Create View','Show View','Trigger','References'),\n\t\tColumn_priv\tSET('Select','Insert','Update','References'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name));"]
[2024/05/15 17:15:06.652 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=13] [category=ddl] [job="ID:13, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:12, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:06.648 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:06.657 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=13] [job="ID:13, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:12, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:06.648 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:06.658 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=13]
[2024/05/15 17:15:06.658 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:15:06.658 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=5] [neededSchemaVersion=6] ["start time"=249.125s] [gotSchemaVersion=6] [phyTblIDs="[12]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:15:06.659 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=6] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.columns_priv(\n\t\tHost\t\tCHAR(255),\n\t\tDB\t\t\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tColumn_name\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tColumn_priv\tSET('Select','Insert','Update','References'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name, Column_name));"] [user=]
[2024/05/15 17:15:06.660 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:15, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:14, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:06.659 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:15:06.660 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:15, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:14, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:06.659 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.columns_priv(\n\t\tHost\t\tCHAR(255),\n\t\tDB\t\t\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tColumn_name\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tColumn_priv\tSET('Select','Insert','Update','References'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name, Column_name));"]
[2024/05/15 17:15:06.663 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=15] [category=ddl] [job="ID:15, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:14, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:06.659 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:06.668 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=15] [job="ID:15, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:14, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:06.659 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:06.670 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=15]
[2024/05/15 17:15:06.670 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:15:06.670 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=6] [neededSchemaVersion=7] ["start time"=225.625s] [gotSchemaVersion=7] [phyTblIDs="[14]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:15:06.670 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=7] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.GLOBAL_VARIABLES(\n\t\tVARIABLE_NAME  VARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE VARCHAR(16383) DEFAULT NULL);"] [user=]
[2024/05/15 17:15:06.671 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:17, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:16, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:06.671 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:15:06.671 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:17, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:16, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:06.671 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.GLOBAL_VARIABLES(\n\t\tVARIABLE_NAME  VARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE VARCHAR(16383) DEFAULT NULL);"]
[2024/05/15 17:15:06.675 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=17] [category=ddl] [job="ID:17, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:16, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:06.671 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:06.679 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=17] [job="ID:17, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:16, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:06.671 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:06.680 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=17]
[2024/05/15 17:15:06.680 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:15:06.681 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=7] [neededSchemaVersion=8] ["start time"=129.292s] [gotSchemaVersion=8] [phyTblIDs="[16]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:15:06.681 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=8] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb(\n\t\tVARIABLE_NAME  \tVARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE \tVARCHAR(1024) DEFAULT NULL,\n\t\tCOMMENT \t\tVARCHAR(1024));"] [user=]
[2024/05/15 17:15:06.682 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:19, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:18, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:06.681 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:15:06.682 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:19, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:18, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:06.681 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb(\n\t\tVARIABLE_NAME  \tVARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE \tVARCHAR(1024) DEFAULT NULL,\n\t\tCOMMENT \t\tVARCHAR(1024));"]
[2024/05/15 17:15:06.685 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=19] [category=ddl] [job="ID:19, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:18, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:06.681 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:06.688 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=19] [job="ID:19, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:18, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:06.681 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:06.690 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=19]
[2024/05/15 17:15:06.690 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:15:06.690 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=8] [neededSchemaVersion=9] ["start time"=153.917s] [gotSchemaVersion=9] [phyTblIDs="[18]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:15:06.691 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=9] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.help_topic (\n  \t\thelp_topic_id \t\tINT(10) UNSIGNED NOT NULL,\n  \t\tname \t\t\t\tCHAR(64) NOT NULL,\n  \t\thelp_category_id \tSMALLINT(5) UNSIGNED NOT NULL,\n  \t\tdescription \t\tTEXT NOT NULL,\n  \t\texample \t\t\tTEXT NOT NULL,\n  \t\turl \t\t\t\tTEXT NOT NULL,\n  \t\tPRIMARY KEY (help_topic_id) clustered,\n  \t\tUNIQUE KEY name (name)\n\t\t) ENGINE=InnoDB DEFAULT CHARSET=utf8 STATS_PERSISTENT=0 COMMENT='help topics';"] [user=]
[2024/05/15 17:15:06.693 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:21, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:20, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:06.692 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:15:06.693 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:21, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:20, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:06.692 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.help_topic (\n  \t\thelp_topic_id \t\tINT(10) UNSIGNED NOT NULL,\n  \t\tname \t\t\t\tCHAR(64) NOT NULL,\n  \t\thelp_category_id \tSMALLINT(5) UNSIGNED NOT NULL,\n  \t\tdescription \t\tTEXT NOT NULL,\n  \t\texample \t\t\tTEXT NOT NULL,\n  \t\turl \t\t\t\tTEXT NOT NULL,\n  \t\tPRIMARY KEY (help_topic_id) clustered,\n  \t\tUNIQUE KEY name (name)\n\t\t) ENGINE=InnoDB DEFAULT CHARSET=utf8 STATS_PERSISTENT=0 COMMENT='help topics';"]
[2024/05/15 17:15:06.696 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=21] [category=ddl] [job="ID:21, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:20, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:06.692 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:06.701 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=21] [job="ID:21, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:20, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:06.692 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:06.703 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=21]
[2024/05/15 17:15:06.703 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:15:06.703 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=9] [neededSchemaVersion=10] ["start time"=203.75s] [gotSchemaVersion=10] [phyTblIDs="[20]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:15:06.703 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=10] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_meta (\n\t\tversion \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\ttable_id \t\tBIGINT(64) NOT NULL,\n\t\tmodify_count\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcount \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tsnapshot        BIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tINDEX idx_ver(version),\n\t\tUNIQUE INDEX tbl(table_id)\n\t);"] [user=]
[2024/05/15 17:15:06.704 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:23, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:22, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:06.704 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:15:06.704 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:23, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:22, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:06.704 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_meta (\n\t\tversion \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\ttable_id \t\tBIGINT(64) NOT NULL,\n\t\tmodify_count\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcount \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tsnapshot        BIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tINDEX idx_ver(version),\n\t\tUNIQUE INDEX tbl(table_id)\n\t);"]
[2024/05/15 17:15:06.708 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=23] [category=ddl] [job="ID:23, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:22, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:06.704 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:06.712 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=23] [job="ID:23, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:22, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:06.704 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:06.714 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=23]
[2024/05/15 17:15:06.714 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:15:06.714 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=10] [neededSchemaVersion=11] ["start time"=222.167s] [gotSchemaVersion=11] [phyTblIDs="[22]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:15:06.714 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=11] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_histograms (\n\t\ttable_id \t\t\tBIGINT(64) NOT NULL,\n\t\tis_index \t\t\tTINYINT(2) NOT NULL,\n\t\thist_id \t\t\tBIGINT(64) NOT NULL,\n\t\tdistinct_count \t\tBIGINT(64) NOT NULL,\n\t\tnull_count \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\ttot_col_size \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tmodify_count \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tversion \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tcm_sketch \t\t\tBLOB(6291456),\n\t\tstats_ver \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tflag \t\t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcorrelation \t\tDOUBLE NOT NULL DEFAULT 0,\n\t\tlast_analyze_pos \tLONGBLOB DEFAULT NULL,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id)\n\t);"] [user=]
[2024/05/15 17:15:06.714 +08:00] [INFO] [ddl_api.go:1139] ["Automatically convert BLOB(6291456) to MEDIUMBLOB"] [category=ddl]
[2024/05/15 17:15:06.716 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:25, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:24, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:06.715 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:15:06.716 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:25, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:24, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:06.715 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_histograms (\n\t\ttable_id \t\t\tBIGINT(64) NOT NULL,\n\t\tis_index \t\t\tTINYINT(2) NOT NULL,\n\t\thist_id \t\t\tBIGINT(64) NOT NULL,\n\t\tdistinct_count \t\tBIGINT(64) NOT NULL,\n\t\tnull_count \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\ttot_col_size \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tmodify_count \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tversion \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tcm_sketch \t\t\tBLOB(6291456),\n\t\tstats_ver \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tflag \t\t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcorrelation \t\tDOUBLE NOT NULL DEFAULT 0,\n\t\tlast_analyze_pos \tLONGBLOB DEFAULT NULL,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id)\n\t);"]
[2024/05/15 17:15:06.719 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=25] [category=ddl] [job="ID:25, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:24, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:06.715 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:06.724 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=25] [job="ID:25, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:24, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:06.715 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:06.726 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=25]
[2024/05/15 17:15:06.726 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:15:06.726 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=11] [neededSchemaVersion=12] ["start time"=322.084s] [gotSchemaVersion=12] [phyTblIDs="[24]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:15:06.726 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=12] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_buckets (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tbucket_id \tBIGINT(64) NOT NULL,\n\t\tcount \t\tBIGINT(64) NOT NULL,\n\t\trepeats \tBIGINT(64) NOT NULL,\n\t\tupper_bound LONGBLOB NOT NULL,\n\t\tlower_bound LONGBLOB ,\n\t\tndv         BIGINT NOT NULL DEFAULT 0,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id, bucket_id)\n\t);"] [user=]
[2024/05/15 17:15:06.727 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:27, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:26, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:06.727 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:15:06.727 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:27, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:26, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:06.727 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_buckets (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tbucket_id \tBIGINT(64) NOT NULL,\n\t\tcount \t\tBIGINT(64) NOT NULL,\n\t\trepeats \tBIGINT(64) NOT NULL,\n\t\tupper_bound LONGBLOB NOT NULL,\n\t\tlower_bound LONGBLOB ,\n\t\tndv         BIGINT NOT NULL DEFAULT 0,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id, bucket_id)\n\t);"]
[2024/05/15 17:15:06.731 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=27] [category=ddl] [job="ID:27, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:26, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:06.727 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:06.735 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=27] [job="ID:27, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:26, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:06.727 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:06.737 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=27]
[2024/05/15 17:15:06.737 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:15:06.737 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=12] [neededSchemaVersion=13] ["start time"=246.25s] [gotSchemaVersion=13] [phyTblIDs="[26]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:15:06.737 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=13] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_index (job_id, element_id)\n\t);"] [user=]
[2024/05/15 17:15:06.738 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:29, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:28, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:06.738 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:15:06.738 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:29, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:28, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:06.738 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_index (job_id, element_id)\n\t);"]
[2024/05/15 17:15:06.742 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=29] [category=ddl] [job="ID:29, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:28, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:06.738 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:06.746 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=29] [job="ID:29, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:28, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:06.738 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:06.748 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=29]
[2024/05/15 17:15:06.748 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:15:06.748 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=13] [neededSchemaVersion=14] ["start time"=186.041s] [gotSchemaVersion=14] [phyTblIDs="[28]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:15:06.748 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=14] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range_done (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_done_index (job_id, element_id)\n\t);"] [user=]
[2024/05/15 17:15:06.749 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:31, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:30, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:06.749 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:15:06.749 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:31, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:30, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:06.749 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range_done (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_done_index (job_id, element_id)\n\t);"]
[2024/05/15 17:15:06.753 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=31] [category=ddl] [job="ID:31, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:30, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:06.749 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:06.757 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=31] [job="ID:31, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:30, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:06.749 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:06.758 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=31]
[2024/05/15 17:15:06.758 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:15:06.759 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=14] [neededSchemaVersion=15] ["start time"=206.958s] [gotSchemaVersion=15] [phyTblIDs="[30]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:15:06.759 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=15] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_feedback (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tfeedback \tBLOB NOT NULL,\n\t\tINDEX hist(table_id, is_index, hist_id)\n\t);"] [user=]
[2024/05/15 17:15:06.760 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:33, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:32, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:06.759 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:15:06.760 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:33, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:32, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:06.759 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_feedback (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tfeedback \tBLOB NOT NULL,\n\t\tINDEX hist(table_id, is_index, hist_id)\n\t);"]
[2024/05/15 17:15:06.763 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=33] [category=ddl] [job="ID:33, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:32, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:06.759 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:06.767 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=33] [job="ID:33, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:32, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:06.759 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:06.768 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=33]
[2024/05/15 17:15:06.768 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:15:06.769 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=15] [neededSchemaVersion=16] ["start time"=172.459s] [gotSchemaVersion=16] [phyTblIDs="[32]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:15:06.771 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=16] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.role_edges (\n\t\tFROM_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tFROM_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tWITH_ADMIN_OPTION \tENUM('N','Y') CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (FROM_HOST,FROM_USER,TO_HOST,TO_USER)\n\t);"] [user=]
[2024/05/15 17:15:06.772 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:35, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:34, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:06.772 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:15:06.772 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:35, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:34, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:06.772 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.role_edges (\n\t\tFROM_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tFROM_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tWITH_ADMIN_OPTION \tENUM('N','Y') CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (FROM_HOST,FROM_USER,TO_HOST,TO_USER)\n\t);"]
[2024/05/15 17:15:06.775 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=35] [category=ddl] [job="ID:35, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:34, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:06.772 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:06.780 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=35] [job="ID:35, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:34, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:06.772 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:06.781 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=35]
[2024/05/15 17:15:06.781 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:15:06.782 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=16] [neededSchemaVersion=17] ["start time"=195.209s] [gotSchemaVersion=17] [phyTblIDs="[34]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:15:06.782 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=17] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.default_roles (\n\t\tHOST \t\t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tUSER \t\t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tDEFAULT_ROLE_HOST \tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '%',\n\t\tDEFAULT_ROLE_USER \tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tPRIMARY KEY (HOST,USER,DEFAULT_ROLE_HOST,DEFAULT_ROLE_USER)\n\t)"] [user=]
[2024/05/15 17:15:06.783 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:37, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:36, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:06.782 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:15:06.783 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:37, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:36, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:06.782 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.default_roles (\n\t\tHOST \t\t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tUSER \t\t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tDEFAULT_ROLE_HOST \tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '%',\n\t\tDEFAULT_ROLE_USER \tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tPRIMARY KEY (HOST,USER,DEFAULT_ROLE_HOST,DEFAULT_ROLE_USER)\n\t)"]
[2024/05/15 17:15:06.787 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=37] [category=ddl] [job="ID:37, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:36, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:06.782 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:06.791 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=37] [job="ID:37, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:36, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:06.782 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:06.793 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=37]
[2024/05/15 17:15:06.793 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:15:06.793 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=17] [neededSchemaVersion=18] ["start time"=177.792s] [gotSchemaVersion=18] [phyTblIDs="[36]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:15:06.793 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=18] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.bind_info (\n\t\toriginal_sql TEXT NOT NULL,\n\t\tbind_sql TEXT NOT NULL,\n\t\tdefault_db TEXT NOT NULL,\n\t\tstatus TEXT NOT NULL,\n\t\tcreate_time TIMESTAMP(3) NOT NULL,\n\t\tupdate_time TIMESTAMP(3) NOT NULL,\n\t\tcharset TEXT NOT NULL,\n\t\tcollation TEXT NOT NULL,\n\t\tsource VARCHAR(10) NOT NULL DEFAULT 'unknown',\n\t\tsql_digest varchar(64),\n\t\tplan_digest varchar(64),\n\t\tINDEX sql_index(original_sql(700),default_db(68)) COMMENT \"accelerate the speed when add global binding query\",\n\t\tINDEX time_index(update_time) COMMENT \"accelerate the speed when querying with last update time\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"] [user=]
[2024/05/15 17:15:06.795 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:39, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:38, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:06.794 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:15:06.795 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:39, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:38, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:06.794 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.bind_info (\n\t\toriginal_sql TEXT NOT NULL,\n\t\tbind_sql TEXT NOT NULL,\n\t\tdefault_db TEXT NOT NULL,\n\t\tstatus TEXT NOT NULL,\n\t\tcreate_time TIMESTAMP(3) NOT NULL,\n\t\tupdate_time TIMESTAMP(3) NOT NULL,\n\t\tcharset TEXT NOT NULL,\n\t\tcollation TEXT NOT NULL,\n\t\tsource VARCHAR(10) NOT NULL DEFAULT 'unknown',\n\t\tsql_digest varchar(64),\n\t\tplan_digest varchar(64),\n\t\tINDEX sql_index(original_sql(700),default_db(68)) COMMENT \"accelerate the speed when add global binding query\",\n\t\tINDEX time_index(update_time) COMMENT \"accelerate the speed when querying with last update time\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"]
[2024/05/15 17:15:06.800 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=39] [category=ddl] [job="ID:39, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:38, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:06.794 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:06.809 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=39] [job="ID:39, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:38, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:06.794 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:06.812 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=39]
[2024/05/15 17:15:06.812 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:15:06.813 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=18] [neededSchemaVersion=19] ["start time"=606.709s] [gotSchemaVersion=19] [phyTblIDs="[38]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:15:06.815 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=0] ["to ID"=1] ["table ID"=38] ["database ID"=1]
[2024/05/15 17:15:06.817 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=19] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_top_n (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tvalue \t\tLONGBLOB,\n\t\tcount \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\tINDEX tbl(table_id, is_index, hist_id)\n\t);"] [user=]
[2024/05/15 17:15:06.818 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:41, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:40, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:06.818 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:15:06.818 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:41, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:40, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:06.818 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_top_n (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tvalue \t\tLONGBLOB,\n\t\tcount \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\tINDEX tbl(table_id, is_index, hist_id)\n\t);"]
[2024/05/15 17:15:06.825 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=41] [category=ddl] [job="ID:41, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:40, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:06.818 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:06.831 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=41] [job="ID:41, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:40, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:06.818 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:06.832 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=41]
[2024/05/15 17:15:06.832 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:15:06.833 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=19] [neededSchemaVersion=20] ["start time"=200.75s] [gotSchemaVersion=20] [phyTblIDs="[40]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:15:06.833 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=20] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.expr_pushdown_blacklist (\n\t\tname \t\tCHAR(100) NOT NULL,\n\t\tstore_type \tCHAR(100) NOT NULL DEFAULT 'tikv,tiflash,tidb',\n\t\treason \t\tVARCHAR(200)\n\t);"] [user=]
[2024/05/15 17:15:06.834 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:43, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:42, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:06.833 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:15:06.834 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:43, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:42, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:06.833 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.expr_pushdown_blacklist (\n\t\tname \t\tCHAR(100) NOT NULL,\n\t\tstore_type \tCHAR(100) NOT NULL DEFAULT 'tikv,tiflash,tidb',\n\t\treason \t\tVARCHAR(200)\n\t);"]
[2024/05/15 17:15:06.837 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=43] [category=ddl] [job="ID:43, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:42, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:06.833 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:06.841 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=43] [job="ID:43, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:42, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:06.833 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:06.843 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=43]
[2024/05/15 17:15:06.843 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:15:06.843 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=20] [neededSchemaVersion=21] ["start time"=125.792s] [gotSchemaVersion=21] [phyTblIDs="[42]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:15:06.843 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=21] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.opt_rule_blacklist (\n\t\tname \tCHAR(100) NOT NULL\n\t);"] [user=]
[2024/05/15 17:15:06.844 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:45, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:44, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:06.844 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:15:06.844 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:45, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:44, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:06.844 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.opt_rule_blacklist (\n\t\tname \tCHAR(100) NOT NULL\n\t);"]
[2024/05/15 17:15:06.847 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=45] [category=ddl] [job="ID:45, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:44, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:06.844 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:06.851 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=45] [job="ID:45, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:44, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:06.844 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:06.853 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=45]
[2024/05/15 17:15:06.853 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:15:06.853 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=21] [neededSchemaVersion=22] ["start time"=99.084s] [gotSchemaVersion=22] [phyTblIDs="[44]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:15:06.853 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=22] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_extended (\n\t\tname varchar(32) NOT NULL,\n\t\ttype tinyint(4) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tcolumn_ids varchar(32) NOT NULL,\n\t\tstats blob DEFAULT NULL,\n\t\tversion bigint(64) unsigned NOT NULL,\n\t\tstatus tinyint(4) NOT NULL,\n\t\tPRIMARY KEY(name, table_id),\n\t\tKEY idx_1 (table_id, status, version),\n\t\tKEY idx_2 (status, version)\n\t);"] [user=]
[2024/05/15 17:15:06.854 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:47, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:46, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:06.854 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:15:06.854 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:47, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:46, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:06.854 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_extended (\n\t\tname varchar(32) NOT NULL,\n\t\ttype tinyint(4) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tcolumn_ids varchar(32) NOT NULL,\n\t\tstats blob DEFAULT NULL,\n\t\tversion bigint(64) unsigned NOT NULL,\n\t\tstatus tinyint(4) NOT NULL,\n\t\tPRIMARY KEY(name, table_id),\n\t\tKEY idx_1 (table_id, status, version),\n\t\tKEY idx_2 (status, version)\n\t);"]
[2024/05/15 17:15:06.858 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=47] [category=ddl] [job="ID:47, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:46, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:06.854 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:06.862 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=47] [job="ID:47, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:46, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:06.854 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:06.864 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=47]
[2024/05/15 17:15:06.864 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:15:06.864 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=22] [neededSchemaVersion=23] ["start time"=253.958s] [gotSchemaVersion=23] [phyTblIDs="[46]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:15:06.864 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=23] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_fm_sketch (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tvalue \t\tLONGBLOB,\n\t\tINDEX tbl(table_id, is_index, hist_id)\n\t);"] [user=]
[2024/05/15 17:15:06.865 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:49, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:48, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:06.864 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:15:06.865 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:49, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:48, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:06.864 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_fm_sketch (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tvalue \t\tLONGBLOB,\n\t\tINDEX tbl(table_id, is_index, hist_id)\n\t);"]
[2024/05/15 17:15:06.868 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=49] [category=ddl] [job="ID:49, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:48, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:06.864 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:06.872 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=49] [job="ID:49, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:48, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:06.864 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:06.873 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=49]
[2024/05/15 17:15:06.873 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:15:06.874 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=23] [neededSchemaVersion=24] ["start time"=194.708s] [gotSchemaVersion=24] [phyTblIDs="[48]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:15:06.874 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=24] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.global_grants (\n\t\tUSER char(32) NOT NULL DEFAULT '',\n\t\tHOST char(255) NOT NULL DEFAULT '',\n\t\tPRIV char(32) NOT NULL DEFAULT '',\n\t\tWITH_GRANT_OPTION enum('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (USER,HOST,PRIV)\n\t);"] [user=]
[2024/05/15 17:15:06.875 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:51, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:50, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:06.874 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:15:06.875 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:51, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:50, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:06.874 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.global_grants (\n\t\tUSER char(32) NOT NULL DEFAULT '',\n\t\tHOST char(255) NOT NULL DEFAULT '',\n\t\tPRIV char(32) NOT NULL DEFAULT '',\n\t\tWITH_GRANT_OPTION enum('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (USER,HOST,PRIV)\n\t);"]
[2024/05/15 17:15:06.878 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=51] [category=ddl] [job="ID:51, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:50, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:06.874 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:06.881 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=51] [job="ID:51, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:50, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:06.874 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:06.883 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=51]
[2024/05/15 17:15:06.883 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:15:06.883 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=24] [neededSchemaVersion=25] ["start time"=219.25s] [gotSchemaVersion=25] [phyTblIDs="[50]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:15:06.883 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=25] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.capture_plan_baselines_blacklist (\n\t\tid bigint(64) auto_increment,\n\t\tfilter_type varchar(32) NOT NULL COMMENT \"type of the filter, only db, table and frequency supported now\",\n\t\tfilter_value varchar(32) NOT NULL,\n\t\tkey idx(filter_type),\n\t\tprimary key(id)\n\t);"] [user=]
[2024/05/15 17:15:06.884 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:53, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:52, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:06.884 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:15:06.884 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:53, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:52, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:06.884 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.capture_plan_baselines_blacklist (\n\t\tid bigint(64) auto_increment,\n\t\tfilter_type varchar(32) NOT NULL COMMENT \"type of the filter, only db, table and frequency supported now\",\n\t\tfilter_value varchar(32) NOT NULL,\n\t\tkey idx(filter_type),\n\t\tprimary key(id)\n\t);"]
[2024/05/15 17:15:06.888 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=53] [category=ddl] [job="ID:53, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:52, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:06.884 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:06.891 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=53] [job="ID:53, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:52, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:06.884 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:06.893 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=53]
[2024/05/15 17:15:06.893 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:15:06.893 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=25] [neededSchemaVersion=26] ["start time"=155.792s] [gotSchemaVersion=26] [phyTblIDs="[52]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:15:06.893 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=26] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.column_stats_usage (\n\t\ttable_id BIGINT(64) NOT NULL,\n\t\tcolumn_id BIGINT(64) NOT NULL,\n\t\tlast_used_at TIMESTAMP,\n\t\tlast_analyzed_at TIMESTAMP,\n\t\tPRIMARY KEY (table_id, column_id) CLUSTERED\n\t);"] [user=]
[2024/05/15 17:15:06.894 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:55, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:54, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:06.894 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:15:06.894 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:55, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:54, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:06.894 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.column_stats_usage (\n\t\ttable_id BIGINT(64) NOT NULL,\n\t\tcolumn_id BIGINT(64) NOT NULL,\n\t\tlast_used_at TIMESTAMP,\n\t\tlast_analyzed_at TIMESTAMP,\n\t\tPRIMARY KEY (table_id, column_id) CLUSTERED\n\t);"]
[2024/05/15 17:15:06.897 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=55] [category=ddl] [job="ID:55, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:54, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:06.894 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:06.901 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=55] [job="ID:55, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:54, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:06.894 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:06.902 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=55]
[2024/05/15 17:15:06.902 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:15:06.903 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=26] [neededSchemaVersion=27] ["start time"=164.375s] [gotSchemaVersion=27] [phyTblIDs="[54]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:15:06.903 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=27] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.table_cache_meta (\n\t\ttid bigint(11) NOT NULL DEFAULT 0,\n\t\tlock_type enum('NONE','READ', 'INTEND', 'WRITE') NOT NULL DEFAULT 'NONE',\n\t\tlease bigint(20) NOT NULL DEFAULT 0,\n\t\toldReadLease bigint(20) NOT NULL DEFAULT 0,\n\t\tPRIMARY KEY (tid)\n\t);"] [user=]
[2024/05/15 17:15:06.904 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:57, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:56, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:06.903 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:15:06.904 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:57, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:56, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:06.903 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.table_cache_meta (\n\t\ttid bigint(11) NOT NULL DEFAULT 0,\n\t\tlock_type enum('NONE','READ', 'INTEND', 'WRITE') NOT NULL DEFAULT 'NONE',\n\t\tlease bigint(20) NOT NULL DEFAULT 0,\n\t\toldReadLease bigint(20) NOT NULL DEFAULT 0,\n\t\tPRIMARY KEY (tid)\n\t);"]
[2024/05/15 17:15:06.907 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=57] [category=ddl] [job="ID:57, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:56, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:06.903 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:06.911 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=57] [job="ID:57, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:56, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:06.903 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:06.913 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=57]
[2024/05/15 17:15:06.913 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:15:06.913 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=27] [neededSchemaVersion=28] ["start time"=153.708s] [gotSchemaVersion=28] [phyTblIDs="[56]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:15:06.913 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=28] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.analyze_options (\n\t\ttable_id BIGINT(64) NOT NULL,\n\t\tsample_num BIGINT(64) NOT NULL DEFAULT 0,\n\t\tsample_rate DOUBLE NOT NULL DEFAULT -1,\n\t\tbuckets BIGINT(64) NOT NULL DEFAULT 0,\n\t\ttopn BIGINT(64) NOT NULL DEFAULT -1,\n\t\tcolumn_choice enum('DEFAULT','ALL','PREDICATE','LIST') NOT NULL DEFAULT 'DEFAULT',\n\t\tcolumn_ids TEXT(19372),\n\t\tPRIMARY KEY (table_id) CLUSTERED\n\t);"] [user=]
[2024/05/15 17:15:06.914 +08:00] [INFO] [ddl_api.go:1139] ["Automatically convert BLOB(19372) to MEDIUMBLOB"] [category=ddl]
[2024/05/15 17:15:06.915 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:59, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:58, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:06.914 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:15:06.915 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:59, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:58, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:06.914 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.analyze_options (\n\t\ttable_id BIGINT(64) NOT NULL,\n\t\tsample_num BIGINT(64) NOT NULL DEFAULT 0,\n\t\tsample_rate DOUBLE NOT NULL DEFAULT -1,\n\t\tbuckets BIGINT(64) NOT NULL DEFAULT 0,\n\t\ttopn BIGINT(64) NOT NULL DEFAULT -1,\n\t\tcolumn_choice enum('DEFAULT','ALL','PREDICATE','LIST') NOT NULL DEFAULT 'DEFAULT',\n\t\tcolumn_ids TEXT(19372),\n\t\tPRIMARY KEY (table_id) CLUSTERED\n\t);"]
[2024/05/15 17:15:06.919 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=59] [category=ddl] [job="ID:59, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:58, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:06.914 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:06.923 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=59] [job="ID:59, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:58, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:06.914 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:06.924 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=59]
[2024/05/15 17:15:06.924 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:15:06.924 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=28] [neededSchemaVersion=29] ["start time"=228.833s] [gotSchemaVersion=29] [phyTblIDs="[58]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:15:06.925 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=29] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_history (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tstats_data longblob NOT NULL,\n\t\tseq_no bigint(64) NOT NULL comment 'sequence number of the gzipped data slice',\n\t\tversion bigint(64) NOT NULL comment 'stats version which corresponding to stats:version in EXPLAIN',\n\t\tcreate_time datetime(6) NOT NULL,\n\t\tUNIQUE KEY table_version_seq (table_id, version, seq_no),\n\t\tKEY table_create_time (table_id, create_time, seq_no),\n    \tKEY idx_create_time (create_time)\n\t);"] [user=]
[2024/05/15 17:15:06.926 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:61, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:60, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:06.925 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:15:06.926 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:61, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:60, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:06.925 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_history (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tstats_data longblob NOT NULL,\n\t\tseq_no bigint(64) NOT NULL comment 'sequence number of the gzipped data slice',\n\t\tversion bigint(64) NOT NULL comment 'stats version which corresponding to stats:version in EXPLAIN',\n\t\tcreate_time datetime(6) NOT NULL,\n\t\tUNIQUE KEY table_version_seq (table_id, version, seq_no),\n\t\tKEY table_create_time (table_id, create_time, seq_no),\n    \tKEY idx_create_time (create_time)\n\t);"]
[2024/05/15 17:15:06.930 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=61] [category=ddl] [job="ID:61, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:60, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:06.925 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:06.933 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=61] [job="ID:61, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:60, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:06.925 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:06.935 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=61]
[2024/05/15 17:15:06.935 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:15:06.935 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=29] [neededSchemaVersion=30] ["start time"=231.833s] [gotSchemaVersion=30] [phyTblIDs="[60]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:15:06.935 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=30] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_meta_history (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tmodify_count bigint(64) NOT NULL,\n\t\tcount bigint(64) NOT NULL,\n\t\tversion bigint(64) NOT NULL comment 'stats version which corresponding to stats:version in EXPLAIN',\n    \tsource varchar(40) NOT NULL,\n\t\tcreate_time datetime(6) NOT NULL,\n\t\tUNIQUE KEY table_version (table_id, version),\n\t\tKEY table_create_time (table_id, create_time),\n    \tKEY idx_create_time (create_time)\n\t);"] [user=]
[2024/05/15 17:15:06.936 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:63, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:62, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:06.936 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:15:06.937 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:63, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:62, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:06.936 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_meta_history (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tmodify_count bigint(64) NOT NULL,\n\t\tcount bigint(64) NOT NULL,\n\t\tversion bigint(64) NOT NULL comment 'stats version which corresponding to stats:version in EXPLAIN',\n    \tsource varchar(40) NOT NULL,\n\t\tcreate_time datetime(6) NOT NULL,\n\t\tUNIQUE KEY table_version (table_id, version),\n\t\tKEY table_create_time (table_id, create_time),\n    \tKEY idx_create_time (create_time)\n\t);"]
[2024/05/15 17:15:06.940 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=63] [category=ddl] [job="ID:63, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:62, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:06.936 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:06.944 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=63] [job="ID:63, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:62, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:06.936 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:06.946 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=63]
[2024/05/15 17:15:06.946 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:15:06.947 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=30] [neededSchemaVersion=31] ["start time"=240.667s] [gotSchemaVersion=31] [phyTblIDs="[62]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:15:06.947 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=31] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.analyze_jobs (\n\t\tid BIGINT(64) UNSIGNED NOT NULL AUTO_INCREMENT,\n\t\tupdate_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\ttable_schema CHAR(64) NOT NULL DEFAULT '',\n\t\ttable_name CHAR(64) NOT NULL DEFAULT '',\n\t\tpartition_name CHAR(64) NOT NULL DEFAULT '',\n\t\tjob_info TEXT NOT NULL,\n\t\tprocessed_rows BIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tstart_time TIMESTAMP,\n\t\tend_time TIMESTAMP,\n\t\tstate ENUM('pending', 'running', 'finished', 'failed') NOT NULL,\n\t\tfail_reason TEXT,\n\t\tinstance VARCHAR(512) NOT NULL comment 'address of the TiDB instance executing the analyze job',\n\t\tprocess_id BIGINT(64) UNSIGNED comment 'ID of the process executing the analyze job',\n\t\tPRIMARY KEY (id),\n\t\tKEY (update_time)\n\t);"] [user=]
[2024/05/15 17:15:06.949 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:65, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:64, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:06.948 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:15:06.949 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:65, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:64, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:06.948 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.analyze_jobs (\n\t\tid BIGINT(64) UNSIGNED NOT NULL AUTO_INCREMENT,\n\t\tupdate_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\ttable_schema CHAR(64) NOT NULL DEFAULT '',\n\t\ttable_name CHAR(64) NOT NULL DEFAULT '',\n\t\tpartition_name CHAR(64) NOT NULL DEFAULT '',\n\t\tjob_info TEXT NOT NULL,\n\t\tprocessed_rows BIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tstart_time TIMESTAMP,\n\t\tend_time TIMESTAMP,\n\t\tstate ENUM('pending', 'running', 'finished', 'failed') NOT NULL,\n\t\tfail_reason TEXT,\n\t\tinstance VARCHAR(512) NOT NULL comment 'address of the TiDB instance executing the analyze job',\n\t\tprocess_id BIGINT(64) UNSIGNED comment 'ID of the process executing the analyze job',\n\t\tPRIMARY KEY (id),\n\t\tKEY (update_time)\n\t);"]
[2024/05/15 17:15:06.953 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=65] [category=ddl] [job="ID:65, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:64, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:06.948 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:06.958 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=65] [job="ID:65, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:64, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:06.948 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:06.960 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=65]
[2024/05/15 17:15:06.960 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:15:06.960 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=31] [neededSchemaVersion=32] ["start time"=317.584s] [gotSchemaVersion=32] [phyTblIDs="[64]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:15:06.960 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=32] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.advisory_locks (\n\t\tlock_name VARCHAR(64) NOT NULL PRIMARY KEY\n\t);"] [user=]
[2024/05/15 17:15:06.961 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:67, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:66, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:06.961 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:15:06.961 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:67, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:66, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:06.961 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.advisory_locks (\n\t\tlock_name VARCHAR(64) NOT NULL PRIMARY KEY\n\t);"]
[2024/05/15 17:15:06.965 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=67] [category=ddl] [job="ID:67, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:66, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:06.961 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:06.969 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=67] [job="ID:67, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:66, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:06.961 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:06.971 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=67]
[2024/05/15 17:15:06.971 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:15:06.971 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=32] [neededSchemaVersion=33] ["start time"=112.875s] [gotSchemaVersion=33] [phyTblIDs="[66]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:15:06.975 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:69, Type:create view, State:queueing, SchemaState:none, SchemaID:1, TableID:68, RowCount:0, ArgLen:3, start time: 2024-05-15 17:15:06.974 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:15:06.975 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:69, Type:create view, State:queueing, SchemaState:none, SchemaID:1, TableID:68, RowCount:0, ArgLen:3, start time: 2024-05-15 17:15:06.974 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE OR REPLACE VIEW mysql.tidb_mdl_view as (\n\t\tSELECT tidb_mdl_info.job_id,\n\t\t\tJSON_UNQUOTE(JSON_EXTRACT(cast(cast(job_meta as char) as json), \"$.schema_name\")) as db_name,\n\t\t\tJSON_UNQUOTE(JSON_EXTRACT(cast(cast(job_meta as char) as json), \"$.table_name\")) as table_name,\n\t\t\tJSON_UNQUOTE(JSON_EXTRACT(cast(cast(job_meta as char) as json), \"$.query\")) as query,\n\t\t\tsession_id,\n\t\t\tcluster_tidb_trx.start_time,\n\t\t\ttidb_decode_sql_digests(all_sql_digests, 4096) AS SQL_DIGESTS\n\t\tFROM mysql.tidb_ddl_job,\n\t\t\tmysql.tidb_mdl_info,\n\t\t\tinformation_schema.cluster_tidb_trx\n\t\tWHERE tidb_ddl_job.job_id=tidb_mdl_info.job_id\n\t\t\tAND CONCAT(',', tidb_mdl_info.table_ids, ',') REGEXP CONCAT(',(', REPLACE(cluster_tidb_trx.related_table_ids, ',', '|'), '),') != 0\n\t);"]
[2024/05/15 17:15:06.979 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=69] [category=ddl] [job="ID:69, Type:create view, State:queueing, SchemaState:none, SchemaID:1, TableID:68, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:06.974 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:06.983 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=69] [job="ID:69, Type:create view, State:synced, SchemaState:public, SchemaID:1, TableID:68, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:06.974 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:06.985 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=69]
[2024/05/15 17:15:06.985 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:15:06.985 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=33] [neededSchemaVersion=34] ["start time"=210.959s] [gotSchemaVersion=34] [phyTblIDs="[68]"] [actionTypes="[21]"] [diffTypes="[\"create view\"]"]
[2024/05/15 17:15:06.985 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=34] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.plan_replayer_status (\n\t\tsql_digest VARCHAR(128),\n\t\tplan_digest VARCHAR(128),\n\t\torigin_sql TEXT,\n\t\ttoken VARCHAR(128),\n\t\tupdate_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\tfail_reason TEXT,\n\t\tinstance VARCHAR(512) NOT NULL comment 'address of the TiDB instance executing the plan replayer job');"] [user=]
[2024/05/15 17:15:06.986 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:71, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:70, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:06.986 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:15:06.986 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:71, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:70, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:06.986 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.plan_replayer_status (\n\t\tsql_digest VARCHAR(128),\n\t\tplan_digest VARCHAR(128),\n\t\torigin_sql TEXT,\n\t\ttoken VARCHAR(128),\n\t\tupdate_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\tfail_reason TEXT,\n\t\tinstance VARCHAR(512) NOT NULL comment 'address of the TiDB instance executing the plan replayer job');"]
[2024/05/15 17:15:06.990 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=71] [category=ddl] [job="ID:71, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:70, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:06.986 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:06.994 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=71] [job="ID:71, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:70, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:06.986 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:06.996 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=71]
[2024/05/15 17:15:06.996 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:15:06.996 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=34] [neededSchemaVersion=35] ["start time"=214.708s] [gotSchemaVersion=35] [phyTblIDs="[70]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:15:06.996 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=35] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.plan_replayer_task (\n\t\tsql_digest VARCHAR(128) NOT NULL,\n\t\tplan_digest VARCHAR(128) NOT NULL,\n\t\tupdate_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\tPRIMARY KEY (sql_digest,plan_digest));"] [user=]
[2024/05/15 17:15:06.998 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:73, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:72, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:06.997 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:15:06.998 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:73, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:72, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:06.997 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.plan_replayer_task (\n\t\tsql_digest VARCHAR(128) NOT NULL,\n\t\tplan_digest VARCHAR(128) NOT NULL,\n\t\tupdate_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\tPRIMARY KEY (sql_digest,plan_digest));"]
[2024/05/15 17:15:07.002 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=73] [category=ddl] [job="ID:73, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:72, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:06.997 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:07.006 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=73] [job="ID:73, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:72, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:06.997 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:07.009 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=73]
[2024/05/15 17:15:07.009 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:15:07.009 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=35] [neededSchemaVersion=36] ["start time"=236.625s] [gotSchemaVersion=36] [phyTblIDs="[72]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:15:07.009 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=36] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_table_locked(\n\t\ttable_id bigint(64) NOT NULL,\n\t\tmodify_count bigint(64) NOT NULL DEFAULT 0,\n\t\tcount bigint(64) NOT NULL DEFAULT 0,\n\t\tversion bigint(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tPRIMARY KEY (table_id));"] [user=]
[2024/05/15 17:15:07.012 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:75, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:74, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:07.011 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:15:07.012 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:75, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:74, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:07.011 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_table_locked(\n\t\ttable_id bigint(64) NOT NULL,\n\t\tmodify_count bigint(64) NOT NULL DEFAULT 0,\n\t\tcount bigint(64) NOT NULL DEFAULT 0,\n\t\tversion bigint(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tPRIMARY KEY (table_id));"]
[2024/05/15 17:15:07.018 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=75] [category=ddl] [job="ID:75, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:74, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:07.011 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:07.028 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=75] [job="ID:75, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:74, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:07.011 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:07.033 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=75]
[2024/05/15 17:15:07.033 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:15:07.033 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=36] [neededSchemaVersion=37] ["start time"=221.375s] [gotSchemaVersion=37] [phyTblIDs="[74]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:15:07.033 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=37] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_ttl_table_status (\n\t\ttable_id bigint(64) PRIMARY KEY,\n        parent_table_id bigint(64),\n        table_statistics text DEFAULT NULL,\n\t\tlast_job_id varchar(64) DEFAULT NULL,\n\t\tlast_job_start_time timestamp NULL DEFAULT NULL,\n\t\tlast_job_finish_time timestamp NULL DEFAULT NULL,\n\t\tlast_job_ttl_expire timestamp NULL DEFAULT NULL,\n        last_job_summary text DEFAULT NULL,\n\t\tcurrent_job_id varchar(64) DEFAULT NULL,\n\t\tcurrent_job_owner_id varchar(64) DEFAULT NULL,\n\t\tcurrent_job_owner_addr varchar(256) DEFAULT NULL,\n\t\tcurrent_job_owner_hb_time timestamp,\n\t\tcurrent_job_start_time timestamp NULL DEFAULT NULL,\n\t\tcurrent_job_ttl_expire timestamp NULL DEFAULT NULL,\n\t\tcurrent_job_state text DEFAULT NULL,\n\t\tcurrent_job_status varchar(64) DEFAULT NULL,\n  \t\tcurrent_job_status_update_time timestamp NULL DEFAULT NULL);"] [user=]
[2024/05/15 17:15:07.036 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:77, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:76, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:07.034 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:15:07.036 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:77, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:76, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:07.034 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_ttl_table_status (\n\t\ttable_id bigint(64) PRIMARY KEY,\n        parent_table_id bigint(64),\n        table_statistics text DEFAULT NULL,\n\t\tlast_job_id varchar(64) DEFAULT NULL,\n\t\tlast_job_start_time timestamp NULL DEFAULT NULL,\n\t\tlast_job_finish_time timestamp NULL DEFAULT NULL,\n\t\tlast_job_ttl_expire timestamp NULL DEFAULT NULL,\n        last_job_summary text DEFAULT NULL,\n\t\tcurrent_job_id varchar(64) DEFAULT NULL,\n\t\tcurrent_job_owner_id varchar(64) DEFAULT NULL,\n\t\tcurrent_job_owner_addr varchar(256) DEFAULT NULL,\n\t\tcurrent_job_owner_hb_time timestamp,\n\t\tcurrent_job_start_time timestamp NULL DEFAULT NULL,\n\t\tcurrent_job_ttl_expire timestamp NULL DEFAULT NULL,\n\t\tcurrent_job_state text DEFAULT NULL,\n\t\tcurrent_job_status varchar(64) DEFAULT NULL,\n  \t\tcurrent_job_status_update_time timestamp NULL DEFAULT NULL);"]
[2024/05/15 17:15:07.042 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=77] [category=ddl] [job="ID:77, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:76, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:07.034 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:07.047 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=77] [job="ID:77, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:76, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:07.034 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:07.049 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=77]
[2024/05/15 17:15:07.049 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:15:07.050 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=37] [neededSchemaVersion=38] ["start time"=421.833s] [gotSchemaVersion=38] [phyTblIDs="[76]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:15:07.050 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=38] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_ttl_task (\n\t\tjob_id varchar(64) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tscan_id int NOT NULL,\n\t\tscan_range_start BLOB,\n\t\tscan_range_end BLOB,\n\t\texpire_time timestamp NOT NULL,\n\t\towner_id varchar(64) DEFAULT NULL,\n\t\towner_addr varchar(64) DEFAULT NULL,\n\t\towner_hb_time timestamp DEFAULT NULL,\n\t\tstatus varchar(64) DEFAULT 'waiting',\n\t\tstatus_update_time timestamp NULL DEFAULT NULL,\n\t\tstate text,\n\t\tcreated_time timestamp NOT NULL,\n\t\tprimary key(job_id, scan_id),\n\t\tkey(created_time));"] [user=]
[2024/05/15 17:15:07.051 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:79, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:78, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:07.05 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:15:07.051 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:79, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:78, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:07.05 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_ttl_task (\n\t\tjob_id varchar(64) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tscan_id int NOT NULL,\n\t\tscan_range_start BLOB,\n\t\tscan_range_end BLOB,\n\t\texpire_time timestamp NOT NULL,\n\t\towner_id varchar(64) DEFAULT NULL,\n\t\towner_addr varchar(64) DEFAULT NULL,\n\t\towner_hb_time timestamp DEFAULT NULL,\n\t\tstatus varchar(64) DEFAULT 'waiting',\n\t\tstatus_update_time timestamp NULL DEFAULT NULL,\n\t\tstate text,\n\t\tcreated_time timestamp NOT NULL,\n\t\tprimary key(job_id, scan_id),\n\t\tkey(created_time));"]
[2024/05/15 17:15:07.054 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=79] [category=ddl] [job="ID:79, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:78, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:07.05 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:07.059 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=79] [job="ID:79, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:78, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:07.05 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:07.061 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=79]
[2024/05/15 17:15:07.061 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:15:07.061 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=38] [neededSchemaVersion=39] ["start time"=354.917s] [gotSchemaVersion=39] [phyTblIDs="[78]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:15:07.061 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=39] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_ttl_job_history (\n\t\tjob_id varchar(64) PRIMARY KEY,\n\t\ttable_id bigint(64) NOT NULL,\n        parent_table_id bigint(64) NOT NULL,\n    \ttable_schema varchar(64) NOT NULL,\n\t\ttable_name varchar(64) NOT NULL,\n    \tpartition_name varchar(64) DEFAULT NULL,\n\t\tcreate_time timestamp NOT NULL,\n\t\tfinish_time timestamp NOT NULL,\n\t\tttl_expire timestamp NOT NULL,\n        summary_text text,\n\t\texpired_rows bigint(64) DEFAULT NULL,\n    \tdeleted_rows bigint(64) DEFAULT NULL,\n    \terror_delete_rows bigint(64) DEFAULT NULL,\n    \tstatus varchar(64) NOT NULL,\n    \tkey(table_schema, table_name, create_time),\n    \tkey(parent_table_id, create_time),\n    \tkey(create_time)\n\t);"] [user=]
[2024/05/15 17:15:07.063 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:81, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:80, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:07.062 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:15:07.063 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:81, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:80, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:07.062 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_ttl_job_history (\n\t\tjob_id varchar(64) PRIMARY KEY,\n\t\ttable_id bigint(64) NOT NULL,\n        parent_table_id bigint(64) NOT NULL,\n    \ttable_schema varchar(64) NOT NULL,\n\t\ttable_name varchar(64) NOT NULL,\n    \tpartition_name varchar(64) DEFAULT NULL,\n\t\tcreate_time timestamp NOT NULL,\n\t\tfinish_time timestamp NOT NULL,\n\t\tttl_expire timestamp NOT NULL,\n        summary_text text,\n\t\texpired_rows bigint(64) DEFAULT NULL,\n    \tdeleted_rows bigint(64) DEFAULT NULL,\n    \terror_delete_rows bigint(64) DEFAULT NULL,\n    \tstatus varchar(64) NOT NULL,\n    \tkey(table_schema, table_name, create_time),\n    \tkey(parent_table_id, create_time),\n    \tkey(create_time)\n\t);"]
[2024/05/15 17:15:07.067 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=81] [category=ddl] [job="ID:81, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:80, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:07.062 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:07.072 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=81] [job="ID:81, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:80, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:07.062 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:07.074 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=81]
[2024/05/15 17:15:07.074 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:15:07.074 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=39] [neededSchemaVersion=40] ["start time"=379.041s] [gotSchemaVersion=40] [phyTblIDs="[80]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:15:07.075 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=40] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_global_task (\n\t\tid BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n    \ttask_key VARCHAR(256) NOT NULL,\n\t\ttype VARCHAR(256) NOT NULL,\n\t\tdispatcher_id VARCHAR(261),\n\t\tstate VARCHAR(64) NOT NULL,\n\t\tpriority INT DEFAULT 1,\n\t\tcreate_time TIMESTAMP,\n\t\tstart_time TIMESTAMP,\n\t\tstate_update_time TIMESTAMP,\n\t\tend_time TIMESTAMP,\n\t\tmeta LONGBLOB,\n\t\tconcurrency INT(11),\n\t\tstep INT(11),\n\t\ttarget_scope VARCHAR(256) DEFAULT \"\",\n\t\terror BLOB,\n\t\tkey(state),\n      \tUNIQUE KEY task_key(task_key)\n\t);"] [user=]
[2024/05/15 17:15:07.076 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:83, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:82, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:07.076 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:15:07.076 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:83, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:82, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:07.076 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_global_task (\n\t\tid BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n    \ttask_key VARCHAR(256) NOT NULL,\n\t\ttype VARCHAR(256) NOT NULL,\n\t\tdispatcher_id VARCHAR(261),\n\t\tstate VARCHAR(64) NOT NULL,\n\t\tpriority INT DEFAULT 1,\n\t\tcreate_time TIMESTAMP,\n\t\tstart_time TIMESTAMP,\n\t\tstate_update_time TIMESTAMP,\n\t\tend_time TIMESTAMP,\n\t\tmeta LONGBLOB,\n\t\tconcurrency INT(11),\n\t\tstep INT(11),\n\t\ttarget_scope VARCHAR(256) DEFAULT \"\",\n\t\terror BLOB,\n\t\tkey(state),\n      \tUNIQUE KEY task_key(task_key)\n\t);"]
[2024/05/15 17:15:07.080 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=83] [category=ddl] [job="ID:83, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:82, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:07.076 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:07.085 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=83] [job="ID:83, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:82, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:07.076 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:07.086 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=83]
[2024/05/15 17:15:07.086 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:15:07.087 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=40] [neededSchemaVersion=41] ["start time"=370.791s] [gotSchemaVersion=41] [phyTblIDs="[82]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:15:07.087 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=41] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_global_task_history (\n\t\tid BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n    \ttask_key VARCHAR(256) NOT NULL,\n\t\ttype VARCHAR(256) NOT NULL,\n\t\tdispatcher_id VARCHAR(261),\n\t\tstate VARCHAR(64) NOT NULL,\n\t\tpriority INT DEFAULT 1,\n\t\tcreate_time TIMESTAMP,\n\t\tstart_time TIMESTAMP,\n\t\tstate_update_time TIMESTAMP,\n\t\tend_time TIMESTAMP,\n\t\tmeta LONGBLOB,\n\t\tconcurrency INT(11),\n\t\tstep INT(11),\n\t\ttarget_scope VARCHAR(256) DEFAULT \"\",\n\t\terror BLOB,\n\t\tkey(state),\n      \tUNIQUE KEY task_key(task_key)\n\t);"] [user=]
[2024/05/15 17:15:07.089 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:85, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:84, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:07.088 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:15:07.089 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:85, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:84, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:07.088 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_global_task_history (\n\t\tid BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n    \ttask_key VARCHAR(256) NOT NULL,\n\t\ttype VARCHAR(256) NOT NULL,\n\t\tdispatcher_id VARCHAR(261),\n\t\tstate VARCHAR(64) NOT NULL,\n\t\tpriority INT DEFAULT 1,\n\t\tcreate_time TIMESTAMP,\n\t\tstart_time TIMESTAMP,\n\t\tstate_update_time TIMESTAMP,\n\t\tend_time TIMESTAMP,\n\t\tmeta LONGBLOB,\n\t\tconcurrency INT(11),\n\t\tstep INT(11),\n\t\ttarget_scope VARCHAR(256) DEFAULT \"\",\n\t\terror BLOB,\n\t\tkey(state),\n      \tUNIQUE KEY task_key(task_key)\n\t);"]
[2024/05/15 17:15:07.092 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=85] [category=ddl] [job="ID:85, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:84, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:07.088 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:07.097 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=85] [job="ID:85, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:84, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:07.088 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:07.099 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=85]
[2024/05/15 17:15:07.099 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:15:07.100 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=41] [neededSchemaVersion=42] ["start time"=358.542s] [gotSchemaVersion=42] [phyTblIDs="[84]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:15:07.100 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=42] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_import_jobs (\n\t\tid bigint(64) NOT NULL AUTO_INCREMENT,\n\t\tcreate_time TIMESTAMP(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6),\n\t\tstart_time TIMESTAMP(6) NULL DEFAULT NULL,\n\t\tupdate_time TIMESTAMP(6) NULL DEFAULT NULL,\n\t\tend_time TIMESTAMP(6) NULL DEFAULT NULL,\n\t\ttable_schema VARCHAR(64) NOT NULL,\n\t\ttable_name VARCHAR(64) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tcreated_by VARCHAR(300) NOT NULL,\n\t\tparameters text NOT NULL,\n\t\tsource_file_size bigint(64) NOT NULL,\n\t\tstatus VARCHAR(64) NOT NULL,\n\t\tstep VARCHAR(64) NOT NULL,\n\t\tsummary text DEFAULT NULL,\n\t\terror_message TEXT DEFAULT NULL,\n\t\tPRIMARY KEY (id),\n\t\tKEY (created_by),\n\t\tKEY (status));"] [user=]
[2024/05/15 17:15:07.102 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:87, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:86, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:07.101 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:15:07.102 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:87, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:86, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:07.101 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_import_jobs (\n\t\tid bigint(64) NOT NULL AUTO_INCREMENT,\n\t\tcreate_time TIMESTAMP(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6),\n\t\tstart_time TIMESTAMP(6) NULL DEFAULT NULL,\n\t\tupdate_time TIMESTAMP(6) NULL DEFAULT NULL,\n\t\tend_time TIMESTAMP(6) NULL DEFAULT NULL,\n\t\ttable_schema VARCHAR(64) NOT NULL,\n\t\ttable_name VARCHAR(64) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tcreated_by VARCHAR(300) NOT NULL,\n\t\tparameters text NOT NULL,\n\t\tsource_file_size bigint(64) NOT NULL,\n\t\tstatus VARCHAR(64) NOT NULL,\n\t\tstep VARCHAR(64) NOT NULL,\n\t\tsummary text DEFAULT NULL,\n\t\terror_message TEXT DEFAULT NULL,\n\t\tPRIMARY KEY (id),\n\t\tKEY (created_by),\n\t\tKEY (status));"]
[2024/05/15 17:15:07.106 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=87] [category=ddl] [job="ID:87, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:86, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:07.101 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:07.112 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=87] [job="ID:87, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:86, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:07.101 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:07.114 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=87]
[2024/05/15 17:15:07.114 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:15:07.114 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=42] [neededSchemaVersion=43] ["start time"=360.666s] [gotSchemaVersion=43] [phyTblIDs="[86]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:15:07.114 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=43] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_runaway_watch (\n\t\tid BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n\t\tresource_group_name varchar(32) not null,\n\t\tstart_time datetime(6) NOT NULL,\n\t\tend_time datetime(6),\n\t\twatch bigint(10) NOT NULL,\n\t\twatch_text TEXT NOT NULL,\n\t\tsource varchar(512) NOT NULL,\n\t\taction bigint(10),\n\t\tINDEX sql_index(resource_group_name,watch_text(700)) COMMENT \"accelerate the speed when select quarantined query\",\n\t\tINDEX time_index(end_time) COMMENT \"accelerate the speed when querying with active watch\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"] [user=]
[2024/05/15 17:15:07.116 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:89, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:88, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:07.115 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:15:07.116 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:89, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:88, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:07.115 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_runaway_watch (\n\t\tid BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n\t\tresource_group_name varchar(32) not null,\n\t\tstart_time datetime(6) NOT NULL,\n\t\tend_time datetime(6),\n\t\twatch bigint(10) NOT NULL,\n\t\twatch_text TEXT NOT NULL,\n\t\tsource varchar(512) NOT NULL,\n\t\taction bigint(10),\n\t\tINDEX sql_index(resource_group_name,watch_text(700)) COMMENT \"accelerate the speed when select quarantined query\",\n\t\tINDEX time_index(end_time) COMMENT \"accelerate the speed when querying with active watch\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"]
[2024/05/15 17:15:07.120 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=89] [category=ddl] [job="ID:89, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:88, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:07.115 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:07.124 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=89] [job="ID:89, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:88, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:07.115 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:07.126 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=89]
[2024/05/15 17:15:07.126 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:15:07.126 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=43] [neededSchemaVersion=44] ["start time"=257.333s] [gotSchemaVersion=44] [phyTblIDs="[88]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:15:07.126 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=44] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_runaway_queries (\n\t\tresource_group_name varchar(32) not null,\n\t\ttime TIMESTAMP NOT NULL,\n\t\tmatch_type varchar(12) NOT NULL,\n\t\taction varchar(12) NOT NULL,\n\t\toriginal_sql TEXT NOT NULL,\n\t\tplan_digest TEXT NOT NULL,\n\t\ttidb_server varchar(512),\n\t\tINDEX plan_index(plan_digest(64)) COMMENT \"accelerate the speed when select runaway query\",\n\t\tINDEX time_index(time) COMMENT \"accelerate the speed when querying with active watch\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"] [user=]
[2024/05/15 17:15:07.128 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:91, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:90, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:07.127 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:15:07.128 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:91, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:90, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:07.127 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_runaway_queries (\n\t\tresource_group_name varchar(32) not null,\n\t\ttime TIMESTAMP NOT NULL,\n\t\tmatch_type varchar(12) NOT NULL,\n\t\taction varchar(12) NOT NULL,\n\t\toriginal_sql TEXT NOT NULL,\n\t\tplan_digest TEXT NOT NULL,\n\t\ttidb_server varchar(512),\n\t\tINDEX plan_index(plan_digest(64)) COMMENT \"accelerate the speed when select runaway query\",\n\t\tINDEX time_index(time) COMMENT \"accelerate the speed when querying with active watch\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"]
[2024/05/15 17:15:07.132 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=91] [category=ddl] [job="ID:91, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:90, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:07.127 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:07.137 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=91] [job="ID:91, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:90, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:07.127 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:07.139 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=91]
[2024/05/15 17:15:07.139 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:15:07.139 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=44] [neededSchemaVersion=45] ["start time"=246s] [gotSchemaVersion=45] [phyTblIDs="[90]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:15:07.140 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=45] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS `mysql`.`tidb_timers` (\n\t\tID BIGINT(64) UNSIGNED NOT NULL AUTO_INCREMENT,\n\t\tNAMESPACE VARCHAR(256) NOT NULL,\n\t\tTIMER_KEY VARCHAR(256) NOT NULL,\n\t\tTIMER_DATA BLOB,\n\t\tTIMEZONE VARCHAR(64) NOT NULL,\n\t\tSCHED_POLICY_TYPE VARCHAR(32) NOT NULL,\n\t\tSCHED_POLICY_EXPR VARCHAR(256) NOT NULL,\n\t\tHOOK_CLASS VARCHAR(64) NOT NULL,\n\t\tWATERMARK TIMESTAMP DEFAULT NULL,\n\t\tENABLE TINYINT(2) NOT NULL,\n\t\tTIMER_EXT JSON NOT NULL,\n\t\tEVENT_STATUS VARCHAR(32) NOT NULL,\n\t\tEVENT_ID VARCHAR(64) NOT NULL,\n\t\tEVENT_DATA BLOB,\n\t\tEVENT_START TIMESTAMP DEFAULT NULL,\n\t\tSUMMARY_DATA BLOB,\n\t\tCREATE_TIME TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,\n\t\tUPDATE_TIME TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\tVERSION BIGINT(64) UNSIGNED NOT NULL,\n\t\tPRIMARY KEY (ID),\n\t\tUNIQUE KEY timer_key(NAMESPACE, TIMER_KEY),\n\t\tKEY hook_class(HOOK_CLASS)\n\t)"] [user=]
[2024/05/15 17:15:07.141 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:93, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:92, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:07.141 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:15:07.141 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:93, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:92, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:07.141 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS `mysql`.`tidb_timers` (\n\t\tID BIGINT(64) UNSIGNED NOT NULL AUTO_INCREMENT,\n\t\tNAMESPACE VARCHAR(256) NOT NULL,\n\t\tTIMER_KEY VARCHAR(256) NOT NULL,\n\t\tTIMER_DATA BLOB,\n\t\tTIMEZONE VARCHAR(64) NOT NULL,\n\t\tSCHED_POLICY_TYPE VARCHAR(32) NOT NULL,\n\t\tSCHED_POLICY_EXPR VARCHAR(256) NOT NULL,\n\t\tHOOK_CLASS VARCHAR(64) NOT NULL,\n\t\tWATERMARK TIMESTAMP DEFAULT NULL,\n\t\tENABLE TINYINT(2) NOT NULL,\n\t\tTIMER_EXT JSON NOT NULL,\n\t\tEVENT_STATUS VARCHAR(32) NOT NULL,\n\t\tEVENT_ID VARCHAR(64) NOT NULL,\n\t\tEVENT_DATA BLOB,\n\t\tEVENT_START TIMESTAMP DEFAULT NULL,\n\t\tSUMMARY_DATA BLOB,\n\t\tCREATE_TIME TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,\n\t\tUPDATE_TIME TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\tVERSION BIGINT(64) UNSIGNED NOT NULL,\n\t\tPRIMARY KEY (ID),\n\t\tUNIQUE KEY timer_key(NAMESPACE, TIMER_KEY),\n\t\tKEY hook_class(HOOK_CLASS)\n\t)"]
[2024/05/15 17:15:07.146 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=93] [category=ddl] [job="ID:93, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:92, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:07.141 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:07.151 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=93] [job="ID:93, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:92, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:07.141 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:07.153 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=93]
[2024/05/15 17:15:07.153 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:15:07.154 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=45] [neededSchemaVersion=46] ["start time"=460.125s] [gotSchemaVersion=46] [phyTblIDs="[92]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:15:07.154 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=46] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_runaway_watch_done (\n\t\tid BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n\t\trecord_id BIGINT(20) not null,\n\t\tresource_group_name varchar(32) not null,\n\t\tstart_time datetime(6) NOT NULL,\n\t\tend_time datetime(6),\n\t\twatch bigint(10) NOT NULL,\n\t\twatch_text TEXT NOT NULL,\n\t\tsource varchar(512) NOT NULL,\n\t\taction bigint(10),\n\t\tdone_time TIMESTAMP(6) NOT NULL\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"] [user=]
[2024/05/15 17:15:07.156 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:95, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:94, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:07.155 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:15:07.156 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:95, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:94, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:07.155 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_runaway_watch_done (\n\t\tid BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n\t\trecord_id BIGINT(20) not null,\n\t\tresource_group_name varchar(32) not null,\n\t\tstart_time datetime(6) NOT NULL,\n\t\tend_time datetime(6),\n\t\twatch bigint(10) NOT NULL,\n\t\twatch_text TEXT NOT NULL,\n\t\tsource varchar(512) NOT NULL,\n\t\taction bigint(10),\n\t\tdone_time TIMESTAMP(6) NOT NULL\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"]
[2024/05/15 17:15:07.159 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=95] [category=ddl] [job="ID:95, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:94, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:07.155 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:07.164 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=95] [job="ID:95, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:94, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:07.155 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:07.166 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=95]
[2024/05/15 17:15:07.166 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:15:07.166 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=46] [neededSchemaVersion=47] ["start time"=243.125s] [gotSchemaVersion=47] [phyTblIDs="[94]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:15:07.166 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=47] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.dist_framework_meta (\n        host VARCHAR(261) NOT NULL PRIMARY KEY,\n        role VARCHAR(64),\n        cpu_count int default 0,\n        keyspace_id bigint(8) NOT NULL DEFAULT -1\n    );"] [user=]
[2024/05/15 17:15:07.168 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:97, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:96, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:07.167 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:15:07.168 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:97, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:96, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:07.167 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.dist_framework_meta (\n        host VARCHAR(261) NOT NULL PRIMARY KEY,\n        role VARCHAR(64),\n        cpu_count int default 0,\n        keyspace_id bigint(8) NOT NULL DEFAULT -1\n    );"]
[2024/05/15 17:15:07.171 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=97] [category=ddl] [job="ID:97, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:96, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:07.167 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:07.176 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=97] [job="ID:97, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:96, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:07.167 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:07.177 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=97]
[2024/05/15 17:15:07.177 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:15:07.178 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=47] [neededSchemaVersion=48] ["start time"=178.75s] [gotSchemaVersion=48] [phyTblIDs="[96]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:15:07.178 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=48] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.request_unit_by_group (\n\t\tstart_time TIMESTAMP(6) NOT NULL,\n\t\tend_time TIMESTAMP(6) NOT NULL,\n\t\tresource_group VARCHAR(32) NOT null,\n\t\ttotal_ru bigint(64) UNSIGNED NOT NULL,\n\t\tPRIMARY KEY (start_time, end_time, resource_group),\n\t\tKEY (resource_group)\n\t);"] [user=]
[2024/05/15 17:15:07.179 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:99, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:98, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:07.179 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:15:07.179 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:99, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:98, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:07.179 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.request_unit_by_group (\n\t\tstart_time TIMESTAMP(6) NOT NULL,\n\t\tend_time TIMESTAMP(6) NOT NULL,\n\t\tresource_group VARCHAR(32) NOT null,\n\t\ttotal_ru bigint(64) UNSIGNED NOT NULL,\n\t\tPRIMARY KEY (start_time, end_time, resource_group),\n\t\tKEY (resource_group)\n\t);"]
[2024/05/15 17:15:07.182 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=99] [category=ddl] [job="ID:99, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:98, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:07.179 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:07.186 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=99] [job="ID:99, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:98, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:07.179 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:07.188 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=99]
[2024/05/15 17:15:07.188 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:15:07.188 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=48] [neededSchemaVersion=49] ["start time"=186.084s] [gotSchemaVersion=49] [phyTblIDs="[98]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:15:07.188 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=49] [cur_db=mysql] [sql="CREATE DATABASE IF NOT EXISTS sys;"] [user=]
[2024/05/15 17:15:07.189 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:101, Type:create schema, State:queueing, SchemaState:none, SchemaID:100, TableID:0, RowCount:0, ArgLen:1, start time: 2024-05-15 17:15:07.189 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:15:07.189 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:101, Type:create schema, State:queueing, SchemaState:none, SchemaID:100, TableID:0, RowCount:0, ArgLen:1, start time: 2024-05-15 17:15:07.189 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE DATABASE IF NOT EXISTS sys;"]
[2024/05/15 17:15:07.193 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=101] [category=ddl] [job="ID:101, Type:create schema, State:queueing, SchemaState:none, SchemaID:100, TableID:0, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:07.189 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:07.197 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=101] [job="ID:101, Type:create schema, State:synced, SchemaState:public, SchemaID:100, TableID:0, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:07.189 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:07.198 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=101]
[2024/05/15 17:15:07.198 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:15:07.198 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=49] [neededSchemaVersion=50] ["start time"=30.667s] [gotSchemaVersion=50] [phyTblIDs="[]"] [actionTypes="[]"] [diffTypes="[\"create schema\"]"]
[2024/05/15 17:15:07.200 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:103, Type:create view, State:queueing, SchemaState:none, SchemaID:100, TableID:102, RowCount:0, ArgLen:3, start time: 2024-05-15 17:15:07.2 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:15:07.200 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:103, Type:create view, State:queueing, SchemaState:none, SchemaID:100, TableID:102, RowCount:0, ArgLen:3, start time: 2024-05-15 17:15:07.2 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE OR REPLACE VIEW sys.schema_unused_indexes AS\n\t\tSELECT\n\t\t\ttable_schema as object_schema,\n\t\t\ttable_name as object_name,\n\t\t\tindex_name\n\t\tFROM information_schema.cluster_tidb_index_usage\n\t\tWHERE\n\t\t\ttable_schema not in ('sys', 'mysql', 'INFORMATION_SCHEMA', 'PERFORMANCE_SCHEMA') and\n\t\t\tindex_name != 'PRIMARY'\n\t\tGROUP BY table_schema, table_name, index_name\n\t\tHAVING\n\t\t\tsum(last_access_time) is null;"]
[2024/05/15 17:15:07.204 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=103] [category=ddl] [job="ID:103, Type:create view, State:queueing, SchemaState:none, SchemaID:100, TableID:102, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:07.2 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:07.208 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=103] [job="ID:103, Type:create view, State:synced, SchemaState:public, SchemaID:100, TableID:102, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:07.2 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:07.209 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=103]
[2024/05/15 17:15:07.209 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:15:07.210 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=50] [neededSchemaVersion=51] ["start time"=138.25s] [gotSchemaVersion=51] [phyTblIDs="[102]"] [actionTypes="[21]"] [diffTypes="[\"create view\"]"]
[2024/05/15 17:15:07.210 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=0] ["to ID"=1] ["table ID"=4] ["database ID"=1]
[2024/05/15 17:15:07.214 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=0] ["to ID"=655] ["table ID"=16] ["database ID"=1]
[2024/05/15 17:15:07.218 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=0] ["to ID"=1] ["table ID"=18] ["database ID"=1]
[2024/05/15 17:15:07.218 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1] ["to ID"=2] ["table ID"=18] ["database ID"=1]
[2024/05/15 17:15:07.218 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2] ["to ID"=3] ["table ID"=18] ["database ID"=1]
[2024/05/15 17:15:07.219 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3] ["to ID"=4] ["table ID"=18] ["database ID"=1]
[2024/05/15 17:15:07.220 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=4] ["to ID"=5] ["table ID"=18] ["database ID"=1]
[2024/05/15 17:15:07.223 +08:00] [INFO] [bootstrap.go:745] ["bootstrap successful"] ["take time"=899.451375ms]
[2024/05/15 17:15:07.224 +08:00] [INFO] [mock.go:106] ["owner manager is canceled"] [category=ddl] [ID=adbf91bd-6f76-459a-b002-b993aaf11363] [ownerKey=/tidb/ddl/fg/owner]
[2024/05/15 17:15:07.224 +08:00] [INFO] [ddl_workerpool.go:82] ["closing workerPool"] [category=ddl]
[2024/05/15 17:15:07.224 +08:00] [INFO] [ddl_worker.go:186] ["DDL worker closed"] [worker="worker 2, tp add index"] [category=ddl] ["take time"=1.208s]
[2024/05/15 17:15:07.224 +08:00] [INFO] [ddl_workerpool.go:82] ["closing workerPool"] [category=ddl]
[2024/05/15 17:15:07.224 +08:00] [INFO] [ddl_worker.go:186] ["DDL worker closed"] [worker="worker 1, tp general"] [category=ddl] ["take time"=500ns]
[2024/05/15 17:15:07.224 +08:00] [INFO] [ddl_workerpool.go:82] ["closing workerPool"] [category=ddl]
[2024/05/15 17:15:07.224 +08:00] [INFO] [delete_range.go:162] ["closing delRange"] [category=ddl]
[2024/05/15 17:15:07.224 +08:00] [INFO] [session_pool.go:99] ["closing session pool"] [category=ddl]
[2024/05/15 17:15:07.225 +08:00] [INFO] [ddl.go:951] ["DDL closed"] [category=ddl] [ID=adbf91bd-6f76-459a-b002-b993aaf11363] ["take time"=1.948709ms]
[2024/05/15 17:15:07.225 +08:00] [INFO] [ddl.go:769] ["stop DDL"] [category=ddl] [ID=adbf91bd-6f76-459a-b002-b993aaf11363]
[2024/05/15 17:15:07.225 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=mdlCheckLoop]
[2024/05/15 17:15:07.225 +08:00] [INFO] [domain.go:769] ["topologySyncerKeeper exited."]
[2024/05/15 17:15:07.225 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=topologySyncerKeeper]
[2024/05/15 17:15:07.225 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=runawayStartLoop]
[2024/05/15 17:15:07.225 +08:00] [INFO] [domain.go:745] ["globalConfigSyncerKeeper exited."]
[2024/05/15 17:15:07.225 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=globalConfigSyncerKeeper]
[2024/05/15 17:15:07.225 +08:00] [INFO] [domain.go:719] ["infoSyncerKeeper exited."]
[2024/05/15 17:15:07.225 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=infoSyncerKeeper]
[2024/05/15 17:15:07.225 +08:00] [INFO] [domain.go:691] ["topNSlowQueryLoop exited."]
[2024/05/15 17:15:07.225 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=topNSlowQueryLoop]
[2024/05/15 17:15:07.225 +08:00] [INFO] [domain.go:1369] ["closestReplicaReadCheckLoop exited."]
[2024/05/15 17:15:07.225 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=closestReplicaReadCheckLoop]
[2024/05/15 17:15:07.225 +08:00] [INFO] [domain.go:1082] ["domain closed"] ["take time"=2.349125ms]
[2024/05/15 17:15:07.225 +08:00] [INFO] [tidb.go:80] ["new domain"] [store=bb8c8bef-7026-459b-b711-909189377e00] ["ddl lease"=0s] ["stats lease"=-1ns]
[2024/05/15 17:15:07.227 +08:00] [WARN] [controller.go:198] ["[resource group controller] server does not save config, load config failed"]
[2024/05/15 17:15:07.227 +08:00] [INFO] [controller.go:185] ["load resource controller config"] [config="{\"degraded-mode-wait-duration\":\"0s\",\"ltb-max-wait-duration\":\"30s\",\"wait-retry-interval\":\"50ms\",\"wait-retry-times\":10,\"request-unit\":{\"read-base-cost\":0.125,\"read-per-batch-base-cost\":0.5,\"read-cost-per-byte\":0.0000152587890625,\"write-base-cost\":1,\"write-per-batch-base-cost\":1,\"write-cost-per-byte\":0.0009765625,\"read-cpu-ms-cost\":0.3333333333333333},\"enable-controller-trace-log\":\"false\"}"] [ru-config="{\"ReadBaseCost\":0.125,\"ReadPerBatchBaseCost\":0.5,\"ReadBytesCost\":0.0000152587890625,\"WriteBaseCost\":1,\"WritePerBatchBaseCost\":1,\"WriteBytesCost\":0.0009765625,\"CPUMsCost\":0.3333333333333333,\"LTBMaxWaitDuration\":30000000000,\"WaitRetryInterval\":50000000,\"WaitRetryTimes\":10,\"DegradedModeWaitDuration\":0}"]
[2024/05/15 17:15:07.251 +08:00] [INFO] [domain.go:323] ["full load InfoSchema success"] [currentSchemaVersion=0] [neededSchemaVersion=51] ["start time"=23.405291ms]
[2024/05/15 17:15:07.254 +08:00] [INFO] [domain.go:643] ["full load and reset schema validator"]
[2024/05/15 17:15:07.254 +08:00] [INFO] [ddl.go:818] ["start DDL"] [category=ddl] [ID=b92b31d4-3f07-420a-86ef-5c94e0040f2e] [runWorker=true]
[2024/05/15 17:15:07.254 +08:00] [INFO] [ddl.go:777] ["start delRangeManager OK"] [category=ddl] ["is a emulator"=true]
[2024/05/15 17:15:07.254 +08:00] [WARN] [env.go:51] ["initialize environment failed"] [category=ddl-ingest] ["storage limitation"="only support TiKV storage"] ["current storage"=unistore] ["lightning is initialized"=false]
[2024/05/15 17:15:07.254 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=mdlCheckLoop]
[2024/05/15 17:15:07.254 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=topNSlowQueryLoop]
[2024/05/15 17:15:07.254 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=infoSyncerKeeper]
[2024/05/15 17:15:07.254 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=globalConfigSyncerKeeper]
[2024/05/15 17:15:07.254 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=runawayStartLoop]
[2024/05/15 17:15:07.254 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=requestUnitsWriterLoop]
[2024/05/15 17:15:07.254 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=topologySyncerKeeper]
[2024/05/15 17:15:07.254 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=closestReplicaReadCheckLoop]
[2024/05/15 17:15:07.254 +08:00] [WARN] [domain.go:1334] ["pd / etcd client not provided, won't begin Advancer."]
[2024/05/15 17:15:07.274 +08:00] [INFO] [delete_range.go:172] ["start delRange emulator"] [category=ddl]
[2024/05/15 17:15:07.274 +08:00] [INFO] [job_table.go:334] ["get global state and global state change"] [category=ddl] [oldState=false] [currState=false]
[2024/05/15 17:15:07.274 +08:00] [INFO] [runaway.go:149] ["try to start runaway manager loop"]
[2024/05/15 17:15:07.274 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=requestUnitsWriterLoop]
[2024/05/15 17:15:07.279 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=globalBindHandleWorkerLoop]
[2024/05/15 17:15:07.279 +08:00] [WARN] [sysvar_cache.go:49] ["sysvar cache is empty, triggering rebuild"]
[2024/05/15 17:15:07.281 +08:00] [INFO] [sysvar.go:2748] ["set resource control"] [enable=true]
[2024/05/15 17:15:07.281 +08:00] [INFO] [controller.go:447] ["[resource group controller] create resource group cost controller"] [name=default]
[2024/05/15 17:15:07.287 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=loadPrivilegeInLoop]
[2024/05/15 17:15:07.288 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=LoadSysVarCacheLoop]
[2024/05/15 17:15:07.289 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=PlanReplayerTaskCollectHandle]
[2024/05/15 17:15:07.289 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=PlanReplayerTaskDumpHandle]
[2024/05/15 17:15:07.289 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=dumpFileGcChecker]
[2024/05/15 17:15:07.289 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=HistoricalStatsWorker]
[2024/05/15 17:15:07.290 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=indexUsageWorker]
[2024/05/15 17:15:07.290 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=quitStatsOwner]
[2024/05/15 17:15:07.290 +08:00] [INFO] [domain.go:2278] ["start load stats sub workers"] ["worker count"=5]
[2024/05/15 17:15:07.290 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=loadSigningCertLoop]
[2024/05/15 17:15:07.290 +08:00] [INFO] [manager.go:113] ["build task executor manager"] [server-id=:4000] [total-cpu=1] [total-mem=32GiB]
[2024/05/15 17:15:07.291 +08:00] [INFO] [domain.go:2024] ["PlanReplayerTaskCollectHandle started"]
[2024/05/15 17:15:07.291 +08:00] [INFO] [domain.go:2046] ["PlanReplayerTaskDumpHandle started"]
[2024/05/15 17:15:07.291 +08:00] [INFO] [plan_replayer.go:409] ["planReplayerTaskDumpWorker started."]
[2024/05/15 17:15:07.291 +08:00] [INFO] [domain.go:2078] ["dumpFileGcChecker started"]
[2024/05/15 17:15:07.291 +08:00] [INFO] [domain.go:2111] ["HistoricalStatsWorker started"]
[2024/05/15 17:15:07.293 +08:00] [INFO] [task_manager.go:217] ["scale ttl worker"] [ttl-worker=job-manager] [ttl-worker=task-manager] [originalCount=0] [newCount=4]
[2024/05/15 17:15:07.293 +08:00] [INFO] [task_manager.go:217] ["scale ttl worker"] [ttl-worker=job-manager] [ttl-worker=task-manager] [originalCount=0] [newCount=4]
[2024/05/15 17:15:07.295 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=0] ["to ID"=1] ["table ID"=96] ["database ID"=1]
[2024/05/15 17:15:07.296 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=distTaskFrameworkLoop]
[2024/05/15 17:15:07.298 +08:00] [INFO] [manager.go:146] ["task executor manager start"] [server-id=:4000]
[2024/05/15 17:15:07.298 +08:00] [INFO] [domain.go:1533] ["dist task executor manager started"]
[2024/05/15 17:15:07.298 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=30000] ["to ID"=30001] ["table ID"=16] ["database ID"=1]
[2024/05/15 17:15:07.299 +08:00] [INFO] [set.go:170] ["set global var"] [conn=1] [name=tidb_schema_cache_size] [val=1024]
[2024/05/15 17:15:07.300 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=1] [schemaVersion=51] [cur_db=] [sql="drop database if exists tiflash_ddl"] [user=]
[2024/05/15 17:15:07.300 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=1] [schemaVersion=51] [cur_db=] [sql="create database tiflash_ddl"] [user=]
[2024/05/15 17:15:07.302 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:105, Type:create schema, State:queueing, SchemaState:none, SchemaID:104, TableID:0, RowCount:0, ArgLen:1, start time: 2024-05-15 17:15:07.301 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:15:07.302 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:105, Type:create schema, State:queueing, SchemaState:none, SchemaID:104, TableID:0, RowCount:0, ArgLen:1, start time: 2024-05-15 17:15:07.301 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="create database tiflash_ddl"]
[2024/05/15 17:15:07.324 +08:00] [INFO] [job_table.go:334] ["get global state and global state change"] [category=ddl] [oldState=false] [currState=false]
[2024/05/15 17:15:07.324 +08:00] [INFO] [job_table.go:349] ["the owner sets owner operator value"] [category=ddl] [ownerOp=none]
[2024/05/15 17:15:07.328 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=105] [conn=1] [category=ddl] [job="ID:105, Type:create schema, State:queueing, SchemaState:none, SchemaID:104, TableID:0, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:07.301 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:07.332 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=105] [conn=1] [job="ID:105, Type:create schema, State:synced, SchemaState:public, SchemaID:104, TableID:0, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:07.301 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:07.333 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=105]
[2024/05/15 17:15:07.333 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:15:07.333 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=51] [neededSchemaVersion=52] ["start time"=38.916s] [gotSchemaVersion=52] [phyTblIDs="[]"] [actionTypes="[]"] [diffTypes="[\"create schema\"]"]
[2024/05/15 17:15:07.334 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=1] [schemaVersion=52] [cur_db=] [sql="create table tiflash_ddl.ddltiflash(z int)"] [user=]
[2024/05/15 17:15:07.335 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:107, Type:create table, State:queueing, SchemaState:none, SchemaID:104, TableID:106, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:07.334 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:15:07.335 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:107, Type:create table, State:queueing, SchemaState:none, SchemaID:104, TableID:106, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:07.334 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="create table tiflash_ddl.ddltiflash(z int)"]
[2024/05/15 17:15:07.338 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=107] [conn=1] [category=ddl] [job="ID:107, Type:create table, State:queueing, SchemaState:none, SchemaID:104, TableID:106, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:07.334 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:07.342 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=107] [conn=1] [job="ID:107, Type:create table, State:synced, SchemaState:public, SchemaID:104, TableID:106, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:07.334 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:07.343 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=107]
[2024/05/15 17:15:07.343 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:15:07.343 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=52] [neededSchemaVersion=53] ["start time"=88.542s] [gotSchemaVersion=53] [phyTblIDs="[106]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:15:07.344 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=1] [schemaVersion=53] [cur_db=] [sql="create table tiflash_ddl.ddltiflash2(z int)"] [user=]
[2024/05/15 17:15:07.345 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:109, Type:create table, State:queueing, SchemaState:none, SchemaID:104, TableID:108, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:07.344 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:15:07.345 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:109, Type:create table, State:queueing, SchemaState:none, SchemaID:104, TableID:108, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:07.344 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="create table tiflash_ddl.ddltiflash2(z int)"]
[2024/05/15 17:15:07.348 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=109] [conn=1] [category=ddl] [job="ID:109, Type:create table, State:queueing, SchemaState:none, SchemaID:104, TableID:108, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:07.344 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:07.353 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=109] [conn=1] [job="ID:109, Type:create table, State:synced, SchemaState:public, SchemaID:104, TableID:108, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:07.344 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:07.355 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=109]
[2024/05/15 17:15:07.355 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:15:07.355 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=53] [neededSchemaVersion=54] ["start time"=90.667s] [gotSchemaVersion=54] [phyTblIDs="[108]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:15:07.355 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=1] [schemaVersion=54] [cur_db=] [sql="alter table tiflash_ddl.ddltiflash set tiflash replica 1"] [user=]
[2024/05/15 17:15:07.357 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:110, Type:set tiflash replica, State:queueing, SchemaState:none, SchemaID:104, TableID:106, RowCount:0, ArgLen:1, start time: 2024-05-15 17:15:07.357 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:15:07.357 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:110, Type:set tiflash replica, State:queueing, SchemaState:none, SchemaID:104, TableID:106, RowCount:0, ArgLen:1, start time: 2024-05-15 17:15:07.357 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="alter table tiflash_ddl.ddltiflash set tiflash replica 1"]
[2024/05/15 17:15:07.361 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=110] [conn=1] [category=ddl] [job="ID:110, Type:set tiflash replica, State:queueing, SchemaState:none, SchemaID:104, TableID:106, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:07.357 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:07.361 +08:00] [INFO] [table.go:1391] ["Set TiFlash replica pd rule"] [category=ddl] [tableID=106]
[2024/05/15 17:15:07.361 +08:00] [INFO] [info.go:1211] [ConfigureTiFlashPDForTable] [tableID=106] [count=1]
[2024/05/15 17:15:07.365 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=110] [conn=1] [job="ID:110, Type:set tiflash replica, State:synced, SchemaState:public, SchemaID:104, TableID:106, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:07.357 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:07.367 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=110]
[2024/05/15 17:15:07.367 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:15:07.367 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=54] [neededSchemaVersion=55] ["start time"=102.375s] [gotSchemaVersion=55] [phyTblIDs="[]"] [actionTypes="[]"] [diffTypes="[]"]
[2024/05/15 17:15:07.367 +08:00] [INFO] [ddl_api.go:401] ["start batch add TiFlash replicas"] [category=ddl] [total=2] [schemaID=104]
[2024/05/15 17:15:07.368 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:111, Type:set tiflash replica, State:queueing, SchemaState:none, SchemaID:104, TableID:106, RowCount:0, ArgLen:1, start time: 2024-05-15 17:15:07.368 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:15:07.368 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:111, Type:set tiflash replica, State:queueing, SchemaState:none, SchemaID:104, TableID:106, RowCount:0, ArgLen:1, start time: 2024-05-15 17:15:07.368 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="alter database tiflash_ddl set tiflash replica 2"]
[2024/05/15 17:15:07.372 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=111] [conn=1] [category=ddl] [job="ID:111, Type:set tiflash replica, State:queueing, SchemaState:none, SchemaID:104, TableID:106, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:07.368 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:07.372 +08:00] [INFO] [table.go:1391] ["Set TiFlash replica pd rule"] [category=ddl] [tableID=106]
[2024/05/15 17:15:07.372 +08:00] [INFO] [info.go:1211] [ConfigureTiFlashPDForTable] [tableID=106] [count=2]
[2024/05/15 17:15:07.376 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=111] [conn=1] [job="ID:111, Type:set tiflash replica, State:synced, SchemaState:public, SchemaID:104, TableID:106, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:07.368 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:07.378 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=111]
[2024/05/15 17:15:07.378 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:15:07.378 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=55] [neededSchemaVersion=56] ["start time"=100.833s] [gotSchemaVersion=56] [phyTblIDs="[]"] [actionTypes="[]"] [diffTypes="[]"]
[2024/05/15 17:15:07.379 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:112, Type:set tiflash replica, State:queueing, SchemaState:none, SchemaID:104, TableID:108, RowCount:0, ArgLen:1, start time: 2024-05-15 17:15:07.379 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:15:07.379 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:112, Type:set tiflash replica, State:queueing, SchemaState:none, SchemaID:104, TableID:108, RowCount:0, ArgLen:1, start time: 2024-05-15 17:15:07.379 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="alter database tiflash_ddl set tiflash replica 2"]
[2024/05/15 17:15:07.383 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=112] [conn=1] [category=ddl] [job="ID:112, Type:set tiflash replica, State:queueing, SchemaState:none, SchemaID:104, TableID:108, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:07.379 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:07.383 +08:00] [INFO] [table.go:1391] ["Set TiFlash replica pd rule"] [category=ddl] [tableID=108]
[2024/05/15 17:15:07.383 +08:00] [INFO] [info.go:1211] [ConfigureTiFlashPDForTable] [tableID=108] [count=2]
[2024/05/15 17:15:07.388 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=112] [conn=1] [job="ID:112, Type:set tiflash replica, State:synced, SchemaState:public, SchemaID:104, TableID:108, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:07.379 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:07.390 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=112]
[2024/05/15 17:15:07.390 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:15:07.390 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=56] [neededSchemaVersion=57] ["start time"=105.583s] [gotSchemaVersion=57] [phyTblIDs="[]"] [actionTypes="[]"] [diffTypes="[]"]
[2024/05/15 17:15:07.390 +08:00] [INFO] [ddl_api.go:479] ["finish batch add TiFlash replica"] [category=ddl] [schemaID=104]
[2024/05/15 17:15:08.276 +08:00] [INFO] [info.go:1142] [SetTiFlashGroupConfig]
[2024/05/15 17:15:08.289 +08:00] [INFO] [runaway.go:158] ["preparations for the runaway manager are finished and start runaway manager loop"]
[2024/05/15 17:15:08.289 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=runawayRecordFlushLoop]
[2024/05/15 17:15:08.289 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=runawayWatchSyncLoop]
[2024/05/15 17:15:08.289 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=runawayStartLoop]
[2024/05/15 17:15:08.303 +08:00] [INFO] [slots.go:205] ["initialize slot capacity"] [capacity=1]
[2024/05/15 17:15:08.307 +08:00] [INFO] [runtime.go:160] ["TimerGroupRuntime loop started"] [groupID=ttl]
[2024/05/15 17:15:08.307 +08:00] [INFO] [runtime.go:402] ["create watch chan if possible for timer runtime"] [groupID=ttl] [storeSupportWatch=true]
[2024/05/15 17:15:08.329 +08:00] [INFO] [scheduler_manager.go:200] ["schedule task loop start"] [server-id=:4000]
[2024/05/15 17:15:08.329 +08:00] [INFO] [scheduler_manager.go:312] ["subtask table gc loop start"] [server-id=:4000]
[2024/05/15 17:15:08.329 +08:00] [INFO] [scheduler_manager.go:373] ["cleanup loop start"] [server-id=:4000]
[2024/05/15 17:15:08.329 +08:00] [INFO] [scheduler_manager.go:453] ["collect loop start"] [server-id=:4000]
[2024/05/15 17:15:08.338 +08:00] [INFO] [ddl_tiflash_api.go:526] ["Tiflash replica is available"] [category=ddl] [tableID=106] [progress=1]
[2024/05/15 17:15:08.339 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:113, Type:update tiflash replica status, State:queueing, SchemaState:none, SchemaID:104, TableID:106, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:08.339 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:15:08.339 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:113, Type:update tiflash replica status, State:queueing, SchemaState:none, SchemaID:104, TableID:106, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:08.339 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query=]
[2024/05/15 17:15:08.343 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=113] [category=ddl] [job="ID:113, Type:update tiflash replica status, State:queueing, SchemaState:none, SchemaID:104, TableID:106, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:08.339 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:08.343 +08:00] [INFO] [table.go:1486] ["TiFlash replica available"] [category=ddl] [tableID=106]
[2024/05/15 17:15:08.348 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=113] [job="ID:113, Type:update tiflash replica status, State:synced, SchemaState:public, SchemaID:104, TableID:106, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:08.339 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:08.350 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=113]
[2024/05/15 17:15:08.350 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:15:08.350 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=57] [neededSchemaVersion=58] ["start time"=141.959s] [gotSchemaVersion=58] [phyTblIDs="[]"] [actionTypes="[]"] [diffTypes="[]"]
[2024/05/15 17:15:08.354 +08:00] [INFO] [ddl_tiflash_api.go:526] ["Tiflash replica is available"] [category=ddl] [tableID=108] [progress=1]
[2024/05/15 17:15:08.355 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:114, Type:update tiflash replica status, State:queueing, SchemaState:none, SchemaID:104, TableID:108, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:08.354 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:15:08.355 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:114, Type:update tiflash replica status, State:queueing, SchemaState:none, SchemaID:104, TableID:108, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:08.354 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query=]
[2024/05/15 17:15:08.359 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=114] [category=ddl] [job="ID:114, Type:update tiflash replica status, State:queueing, SchemaState:none, SchemaID:104, TableID:108, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:08.354 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:08.359 +08:00] [INFO] [table.go:1486] ["TiFlash replica available"] [category=ddl] [tableID=108]
[2024/05/15 17:15:08.363 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=114] [job="ID:114, Type:update tiflash replica status, State:synced, SchemaState:public, SchemaID:104, TableID:108, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:08.354 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:08.365 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=114]
[2024/05/15 17:15:08.365 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:15:08.366 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=58] [neededSchemaVersion=59] ["start time"=149.917s] [gotSchemaVersion=59] [phyTblIDs="[]"] [actionTypes="[]"] [diffTypes="[]"]
[2024/05/15 17:15:11.391 +08:00] [INFO] [ddl_api.go:401] ["start batch add TiFlash replicas"] [category=ddl] [total=2] [schemaID=104]
[2024/05/15 17:15:11.391 +08:00] [INFO] [ddl_api.go:414] ["skip repeated processing table"] [category=ddl] [tableID=106] [schemaID=104] [tableName=ddltiflash] [schemaName=tiflash_ddl]
[2024/05/15 17:15:11.391 +08:00] [INFO] [ddl_api.go:414] ["skip repeated processing table"] [category=ddl] [tableID=108] [schemaID=104] [tableName=ddltiflash2] [schemaName=tiflash_ddl]
[2024/05/15 17:15:11.391 +08:00] [INFO] [ddl_api.go:479] ["finish batch add TiFlash replica"] [category=ddl] [schemaID=104]
[2024/05/15 17:15:11.392 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=1] [schemaVersion=59] [cur_db=] [sql="drop database if exists tiflash_ddl_missing"] [user=]
[2024/05/15 17:15:11.392 +08:00] [INFO] [tidb.go:269] ["rollbackTxn called due to ddl/autocommit failure"]
[2024/05/15 17:15:11.392 +08:00] [WARN] [session.go:2158] ["run statement failed"] [schemaVersion=59] [error="[schema:1049]Unknown database 'tiflash_ddl_missing'"] [errorVerbose="[schema:1049]Unknown database 'tiflash_ddl_missing'\ngithub.com/pingcap/errors.AddStack\n\t/Users/bba/.gvm/pkgsets/go1.21.0/global/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20240318064555-6bd07397691f/errors.go:178\ngithub.com/pingcap/errors.(*Error).GenWithStackByArgs\n\t/Users/bba/.gvm/pkgsets/go1.21.0/global/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20240318064555-6bd07397691f/normalize.go:175\ngithub.com/pingcap/tidb/pkg/ddl.(*ddl).ModifySchemaSetTiFlashReplica\n\t/Users/bba/pc/tidb/pkg/ddl/ddl_api.go:375\ngithub.com/pingcap/tidb/pkg/ddl.(*ddl).AlterSchema\n\t/Users/bba/pc/tidb/pkg/ddl/ddl_api.go:616\ngithub.com/pingcap/tidb/pkg/executor.(*DDLExec).executeAlterDatabase\n\t/Users/bba/pc/tidb/pkg/executor/ddl.go:263\ngithub.com/pingcap/tidb/pkg/executor.(*DDLExec).Next\n\t/Users/bba/pc/tidb/pkg/executor/ddl.go:150\ngithub.com/pingcap/tidb/pkg/executor/internal/exec.Next\n\t/Users/bba/pc/tidb/pkg/executor/internal/exec/executor.go:410\ngithub.com/pingcap/tidb/pkg/executor.(*ExecStmt).next\n\t/Users/bba/pc/tidb/pkg/executor/adapter.go:1211\ngithub.com/pingcap/tidb/pkg/executor.(*ExecStmt).handleNoDelayExecutor\n\t/Users/bba/pc/tidb/pkg/executor/adapter.go:960\ngithub.com/pingcap/tidb/pkg/executor.(*ExecStmt).handleNoDelay\n\t/Users/bba/pc/tidb/pkg/executor/adapter.go:794\ngithub.com/pingcap/tidb/pkg/executor.(*ExecStmt).Exec\n\t/Users/bba/pc/tidb/pkg/executor/adapter.go:559\ngithub.com/pingcap/tidb/pkg/session.runStmt\n\t/Users/bba/pc/tidb/pkg/session/session.go:2285\ngithub.com/pingcap/tidb/pkg/session.(*session).ExecuteStmt\n\t/Users/bba/pc/tidb/pkg/session/session.go:2146\ngithub.com/pingcap/tidb/pkg/testkit.(*TestKit).ExecWithContext\n\t/Users/bba/pc/tidb/pkg/testkit/testkit.go:384\ngithub.com/pingcap/tidb/pkg/testkit.(*TestKit).Exec\n\t/Users/bba/pc/tidb/pkg/testkit/testkit.go:357\ngithub.com/pingcap/tidb/pkg/testkit.(*TestKit).ExecToErr\n\t/Users/bba/pc/tidb/pkg/testkit/testkit.go:430\ngithub.com/pingcap/tidb/pkg/testkit.(*TestKit).MustGetErrMsg\n\t/Users/bba/pc/tidb/pkg/testkit/testkit.go:474\ngithub.com/pingcap/tidb/pkg/ddl/tests/tiflash.TestAlterDatabaseBasic\n\t/Users/bba/pc/tidb/pkg/ddl/tests/tiflash/ddl_tiflash_test.go:795\ntesting.tRunner\n\t/Users/bba/.gvm/gos/go1.21.0/src/testing/testing.go:1595\nruntime.goexit\n\t/Users/bba/.gvm/gos/go1.21.0/src/runtime/asm_arm64.s:1197"] [session="{\n  \"currDBName\": \"\",\n  \"id\": 1,\n  \"status\": 2,\n  \"strictMode\": true,\n  \"user\": null\n}"]
[2024/05/15 17:15:11.392 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=1] [schemaVersion=59] [cur_db=] [sql="drop database if exists tiflash_ddl_empty"] [user=]
[2024/05/15 17:15:11.393 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=1] [schemaVersion=59] [cur_db=] [sql="create database tiflash_ddl_empty"] [user=]
[2024/05/15 17:15:11.394 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:116, Type:create schema, State:queueing, SchemaState:none, SchemaID:115, TableID:0, RowCount:0, ArgLen:1, start time: 2024-05-15 17:15:11.393 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:15:11.394 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:116, Type:create schema, State:queueing, SchemaState:none, SchemaID:115, TableID:0, RowCount:0, ArgLen:1, start time: 2024-05-15 17:15:11.393 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="create database tiflash_ddl_empty"]
[2024/05/15 17:15:11.397 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=116] [conn=1] [category=ddl] [job="ID:116, Type:create schema, State:queueing, SchemaState:none, SchemaID:115, TableID:0, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:11.393 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:11.401 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=116] [conn=1] [job="ID:116, Type:create schema, State:synced, SchemaState:public, SchemaID:115, TableID:0, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:11.393 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:11.403 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=116]
[2024/05/15 17:15:11.403 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:15:11.403 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=59] [neededSchemaVersion=60] ["start time"=32.75s] [gotSchemaVersion=60] [phyTblIDs="[]"] [actionTypes="[]"] [diffTypes="[\"create schema\"]"]
[2024/05/15 17:15:11.403 +08:00] [INFO] [tidb.go:269] ["rollbackTxn called due to ddl/autocommit failure"]
[2024/05/15 17:15:11.403 +08:00] [WARN] [session.go:2158] ["run statement failed"] [schemaVersion=60] [error="[schema:1049]Empty database 'tiflash_ddl_empty'"] [errorVerbose="[schema:1049]Empty database 'tiflash_ddl_empty'\ngithub.com/pingcap/errors.AddStack\n\t/Users/bba/.gvm/pkgsets/go1.21.0/global/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20240318064555-6bd07397691f/errors.go:178\ngithub.com/pingcap/errors.(*Error).GenWithStack\n\t/Users/bba/.gvm/pkgsets/go1.21.0/global/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20240318064555-6bd07397691f/normalize.go:166\ngithub.com/pingcap/tidb/pkg/ddl.(*ddl).ModifySchemaSetTiFlashReplica\n\t/Users/bba/pc/tidb/pkg/ddl/ddl_api.go:390\ngithub.com/pingcap/tidb/pkg/ddl.(*ddl).AlterSchema\n\t/Users/bba/pc/tidb/pkg/ddl/ddl_api.go:616\ngithub.com/pingcap/tidb/pkg/executor.(*DDLExec).executeAlterDatabase\n\t/Users/bba/pc/tidb/pkg/executor/ddl.go:263\ngithub.com/pingcap/tidb/pkg/executor.(*DDLExec).Next\n\t/Users/bba/pc/tidb/pkg/executor/ddl.go:150\ngithub.com/pingcap/tidb/pkg/executor/internal/exec.Next\n\t/Users/bba/pc/tidb/pkg/executor/internal/exec/executor.go:410\ngithub.com/pingcap/tidb/pkg/executor.(*ExecStmt).next\n\t/Users/bba/pc/tidb/pkg/executor/adapter.go:1211\ngithub.com/pingcap/tidb/pkg/executor.(*ExecStmt).handleNoDelayExecutor\n\t/Users/bba/pc/tidb/pkg/executor/adapter.go:960\ngithub.com/pingcap/tidb/pkg/executor.(*ExecStmt).handleNoDelay\n\t/Users/bba/pc/tidb/pkg/executor/adapter.go:794\ngithub.com/pingcap/tidb/pkg/executor.(*ExecStmt).Exec\n\t/Users/bba/pc/tidb/pkg/executor/adapter.go:559\ngithub.com/pingcap/tidb/pkg/session.runStmt\n\t/Users/bba/pc/tidb/pkg/session/session.go:2285\ngithub.com/pingcap/tidb/pkg/session.(*session).ExecuteStmt\n\t/Users/bba/pc/tidb/pkg/session/session.go:2146\ngithub.com/pingcap/tidb/pkg/testkit.(*TestKit).ExecWithContext\n\t/Users/bba/pc/tidb/pkg/testkit/testkit.go:384\ngithub.com/pingcap/tidb/pkg/testkit.(*TestKit).Exec\n\t/Users/bba/pc/tidb/pkg/testkit/testkit.go:357\ngithub.com/pingcap/tidb/pkg/testkit.(*TestKit).ExecToErr\n\t/Users/bba/pc/tidb/pkg/testkit/testkit.go:430\ngithub.com/pingcap/tidb/pkg/testkit.(*TestKit).MustGetErrMsg\n\t/Users/bba/pc/tidb/pkg/testkit/testkit.go:474\ngithub.com/pingcap/tidb/pkg/ddl/tests/tiflash.TestAlterDatabaseBasic\n\t/Users/bba/pc/tidb/pkg/ddl/tests/tiflash/ddl_tiflash_test.go:800\ntesting.tRunner\n\t/Users/bba/.gvm/gos/go1.21.0/src/testing/testing.go:1595\nruntime.goexit\n\t/Users/bba/.gvm/gos/go1.21.0/src/runtime/asm_arm64.s:1197"] [session="{\n  \"currDBName\": \"\",\n  \"id\": 1,\n  \"status\": 2,\n  \"strictMode\": true,\n  \"user\": null\n}"]
[2024/05/15 17:15:11.403 +08:00] [INFO] [tidb.go:269] ["rollbackTxn called due to ddl/autocommit failure"]
[2024/05/15 17:15:11.403 +08:00] [WARN] [session.go:2158] ["run statement failed"] [schemaVersion=60] [error="the tiflash replica count: 3 should be less than the total tiflash server count: 2"] [errorVerbose="the tiflash replica count: 3 should be less than the total tiflash server count: 2\ngithub.com/pingcap/tidb/pkg/ddl.checkTiFlashReplicaCount\n\t/Users/bba/pc/tidb/pkg/ddl/ddl_api.go:6695\ngithub.com/pingcap/tidb/pkg/ddl.(*ddl).ModifySchemaSetTiFlashReplica\n\t/Users/bba/pc/tidb/pkg/ddl/ddl_api.go:392\ngithub.com/pingcap/tidb/pkg/ddl.(*ddl).AlterSchema\n\t/Users/bba/pc/tidb/pkg/ddl/ddl_api.go:616\ngithub.com/pingcap/tidb/pkg/executor.(*DDLExec).executeAlterDatabase\n\t/Users/bba/pc/tidb/pkg/executor/ddl.go:263\ngithub.com/pingcap/tidb/pkg/executor.(*DDLExec).Next\n\t/Users/bba/pc/tidb/pkg/executor/ddl.go:150\ngithub.com/pingcap/tidb/pkg/executor/internal/exec.Next\n\t/Users/bba/pc/tidb/pkg/executor/internal/exec/executor.go:410\ngithub.com/pingcap/tidb/pkg/executor.(*ExecStmt).next\n\t/Users/bba/pc/tidb/pkg/executor/adapter.go:1211\ngithub.com/pingcap/tidb/pkg/executor.(*ExecStmt).handleNoDelayExecutor\n\t/Users/bba/pc/tidb/pkg/executor/adapter.go:960\ngithub.com/pingcap/tidb/pkg/executor.(*ExecStmt).handleNoDelay\n\t/Users/bba/pc/tidb/pkg/executor/adapter.go:794\ngithub.com/pingcap/tidb/pkg/executor.(*ExecStmt).Exec\n\t/Users/bba/pc/tidb/pkg/executor/adapter.go:559\ngithub.com/pingcap/tidb/pkg/session.runStmt\n\t/Users/bba/pc/tidb/pkg/session/session.go:2285\ngithub.com/pingcap/tidb/pkg/session.(*session).ExecuteStmt\n\t/Users/bba/pc/tidb/pkg/session/session.go:2146\ngithub.com/pingcap/tidb/pkg/testkit.(*TestKit).ExecWithContext\n\t/Users/bba/pc/tidb/pkg/testkit/testkit.go:384\ngithub.com/pingcap/tidb/pkg/testkit.(*TestKit).Exec\n\t/Users/bba/pc/tidb/pkg/testkit/testkit.go:357\ngithub.com/pingcap/tidb/pkg/testkit.(*TestKit).ExecToErr\n\t/Users/bba/pc/tidb/pkg/testkit/testkit.go:430\ngithub.com/pingcap/tidb/pkg/testkit.(*TestKit).MustGetErrMsg\n\t/Users/bba/pc/tidb/pkg/testkit/testkit.go:474\ngithub.com/pingcap/tidb/pkg/ddl/tests/tiflash.TestAlterDatabaseBasic\n\t/Users/bba/pc/tidb/pkg/ddl/tests/tiflash/ddl_tiflash_test.go:803\ntesting.tRunner\n\t/Users/bba/.gvm/gos/go1.21.0/src/testing/testing.go:1595\nruntime.goexit\n\t/Users/bba/.gvm/gos/go1.21.0/src/runtime/asm_arm64.s:1197"] [session="{\n  \"currDBName\": \"\",\n  \"id\": 1,\n  \"status\": 2,\n  \"strictMode\": true,\n  \"user\": null\n}"]
[2024/05/15 17:15:11.403 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=1] [schemaVersion=60] [cur_db=] [sql="create database tiflash_ddl_skip;"] [user=]
[2024/05/15 17:15:11.405 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:118, Type:create schema, State:queueing, SchemaState:none, SchemaID:117, TableID:0, RowCount:0, ArgLen:1, start time: 2024-05-15 17:15:11.404 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:15:11.405 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:118, Type:create schema, State:queueing, SchemaState:none, SchemaID:117, TableID:0, RowCount:0, ArgLen:1, start time: 2024-05-15 17:15:11.404 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="create database tiflash_ddl_skip;"]
[2024/05/15 17:15:11.408 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=118] [conn=1] [category=ddl] [job="ID:118, Type:create schema, State:queueing, SchemaState:none, SchemaID:117, TableID:0, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:11.404 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:11.413 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=118] [conn=1] [job="ID:118, Type:create schema, State:synced, SchemaState:public, SchemaID:117, TableID:0, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:11.404 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:11.414 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=118]
[2024/05/15 17:15:11.414 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:15:11.415 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=60] [neededSchemaVersion=61] ["start time"=36.75s] [gotSchemaVersion=61] [phyTblIDs="[]"] [actionTypes="[]"] [diffTypes="[\"create schema\"]"]
[2024/05/15 17:15:11.415 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=1] [schemaVersion=61] [cur_db=tiflash_ddl_skip] [sql="create table t (id int);"] [user=]
[2024/05/15 17:15:11.416 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:120, Type:create table, State:queueing, SchemaState:none, SchemaID:117, TableID:119, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:11.415 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:15:11.416 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:120, Type:create table, State:queueing, SchemaState:none, SchemaID:117, TableID:119, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:11.415 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="create table t (id int);"]
[2024/05/15 17:15:11.419 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=120] [conn=1] [category=ddl] [job="ID:120, Type:create table, State:queueing, SchemaState:none, SchemaID:117, TableID:119, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:11.415 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:11.423 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=120] [conn=1] [job="ID:120, Type:create table, State:synced, SchemaState:public, SchemaID:117, TableID:119, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:11.415 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:11.424 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=120]
[2024/05/15 17:15:11.424 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:15:11.424 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=61] [neededSchemaVersion=62] ["start time"=95.875s] [gotSchemaVersion=62] [phyTblIDs="[119]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:15:11.426 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:122, Type:create sequence, State:queueing, SchemaState:none, SchemaID:117, TableID:121, RowCount:0, ArgLen:1, start time: 2024-05-15 17:15:11.426 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:15:11.426 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:122, Type:create sequence, State:queueing, SchemaState:none, SchemaID:117, TableID:121, RowCount:0, ArgLen:1, start time: 2024-05-15 17:15:11.426 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="create sequence t_seq;"]
[2024/05/15 17:15:11.430 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=122] [conn=1] [category=ddl] [job="ID:122, Type:create sequence, State:queueing, SchemaState:none, SchemaID:117, TableID:121, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:11.426 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:11.433 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=122] [conn=1] [job="ID:122, Type:create sequence, State:synced, SchemaState:public, SchemaID:117, TableID:121, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:11.426 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:11.435 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=122]
[2024/05/15 17:15:11.435 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:15:11.435 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=62] [neededSchemaVersion=63] ["start time"=83.584s] [gotSchemaVersion=63] [phyTblIDs="[121]"] [actionTypes="[34]"] [diffTypes="[\"create sequence\"]"]
[2024/05/15 17:15:11.436 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:124, Type:create view, State:queueing, SchemaState:none, SchemaID:117, TableID:123, RowCount:0, ArgLen:3, start time: 2024-05-15 17:15:11.436 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:15:11.436 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:124, Type:create view, State:queueing, SchemaState:none, SchemaID:117, TableID:123, RowCount:0, ArgLen:3, start time: 2024-05-15 17:15:11.436 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="create view t_view as select id from t;"]
[2024/05/15 17:15:11.440 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=124] [conn=1] [category=ddl] [job="ID:124, Type:create view, State:queueing, SchemaState:none, SchemaID:117, TableID:123, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:11.436 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:11.445 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=124] [conn=1] [job="ID:124, Type:create view, State:synced, SchemaState:public, SchemaID:117, TableID:123, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:11.436 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:11.447 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=124]
[2024/05/15 17:15:11.447 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:15:11.447 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=63] [neededSchemaVersion=64] ["start time"=103.292s] [gotSchemaVersion=64] [phyTblIDs="[123]"] [actionTypes="[21]"] [diffTypes="[\"create view\"]"]
[2024/05/15 17:15:11.447 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=1] [schemaVersion=64] [cur_db=tiflash_ddl_skip] [sql="create global temporary table t_temp (id int) on commit delete rows;"] [user=]
[2024/05/15 17:15:11.448 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:126, Type:create table, State:queueing, SchemaState:none, SchemaID:117, TableID:125, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:11.448 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:15:11.448 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:126, Type:create table, State:queueing, SchemaState:none, SchemaID:117, TableID:125, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:11.448 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="create global temporary table t_temp (id int) on commit delete rows;"]
[2024/05/15 17:15:11.452 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=126] [conn=1] [category=ddl] [job="ID:126, Type:create table, State:queueing, SchemaState:none, SchemaID:117, TableID:125, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:11.448 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:11.456 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=126] [conn=1] [job="ID:126, Type:create table, State:synced, SchemaState:public, SchemaID:117, TableID:125, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:11.448 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:11.458 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=126]
[2024/05/15 17:15:11.458 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:15:11.459 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=64] [neededSchemaVersion=65] ["start time"=96.208s] [gotSchemaVersion=65] [phyTblIDs="[125]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:15:11.459 +08:00] [INFO] [ddl_api.go:401] ["start batch add TiFlash replicas"] [category=ddl] [total=4] [schemaID=117]
[2024/05/15 17:15:11.460 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:127, Type:set tiflash replica, State:queueing, SchemaState:none, SchemaID:117, TableID:119, RowCount:0, ArgLen:1, start time: 2024-05-15 17:15:11.46 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:15:11.460 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:127, Type:set tiflash replica, State:queueing, SchemaState:none, SchemaID:117, TableID:119, RowCount:0, ArgLen:1, start time: 2024-05-15 17:15:11.46 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="alter database tiflash_ddl_skip set tiflash replica 1;"]
[2024/05/15 17:15:11.464 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=127] [conn=1] [category=ddl] [job="ID:127, Type:set tiflash replica, State:queueing, SchemaState:none, SchemaID:117, TableID:119, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:11.46 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:11.464 +08:00] [INFO] [table.go:1391] ["Set TiFlash replica pd rule"] [category=ddl] [tableID=119]
[2024/05/15 17:15:11.464 +08:00] [INFO] [info.go:1211] [ConfigureTiFlashPDForTable] [tableID=119] [count=1]
[2024/05/15 17:15:11.469 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=127] [conn=1] [job="ID:127, Type:set tiflash replica, State:synced, SchemaState:public, SchemaID:117, TableID:119, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:11.46 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:11.470 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=127]
[2024/05/15 17:15:11.470 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:15:11.471 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=65] [neededSchemaVersion=66] ["start time"=111s] [gotSchemaVersion=66] [phyTblIDs="[]"] [actionTypes="[]"] [diffTypes="[]"]
[2024/05/15 17:15:11.471 +08:00] [INFO] [ddl_api.go:426] ["skip processing table"] [category=ddl] [tableID=121] [schemaID=117] [tableName=t_seq] [schemaName=tiflash_ddl_skip] [error="[ddl:1347]'tiflash_ddl_skip.t_seq' is not BASE TABLE"] [errorVerbose="[ddl:1347]'tiflash_ddl_skip.t_seq' is not BASE TABLE\ngithub.com/pingcap/errors.AddStack\n\t/Users/bba/.gvm/pkgsets/go1.21.0/global/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20240318064555-6bd07397691f/errors.go:178\ngithub.com/pingcap/errors.(*Error).GenWithStackByArgs\n\t/Users/bba/.gvm/pkgsets/go1.21.0/global/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20240318064555-6bd07397691f/normalize.go:175\ngithub.com/pingcap/tidb/pkg/ddl.isTableTiFlashSupported\n\t/Users/bba/pc/tidb/pkg/ddl/ddl_api.go:6674\ngithub.com/pingcap/tidb/pkg/ddl.(*ddl).ModifySchemaSetTiFlashReplica\n\t/Users/bba/pc/tidb/pkg/ddl/ddl_api.go:424\ngithub.com/pingcap/tidb/pkg/ddl.(*ddl).AlterSchema\n\t/Users/bba/pc/tidb/pkg/ddl/ddl_api.go:616\ngithub.com/pingcap/tidb/pkg/executor.(*DDLExec).executeAlterDatabase\n\t/Users/bba/pc/tidb/pkg/executor/ddl.go:263\ngithub.com/pingcap/tidb/pkg/executor.(*DDLExec).Next\n\t/Users/bba/pc/tidb/pkg/executor/ddl.go:150\ngithub.com/pingcap/tidb/pkg/executor/internal/exec.Next\n\t/Users/bba/pc/tidb/pkg/executor/internal/exec/executor.go:410\ngithub.com/pingcap/tidb/pkg/executor.(*ExecStmt).next\n\t/Users/bba/pc/tidb/pkg/executor/adapter.go:1211\ngithub.com/pingcap/tidb/pkg/executor.(*ExecStmt).handleNoDelayExecutor\n\t/Users/bba/pc/tidb/pkg/executor/adapter.go:960\ngithub.com/pingcap/tidb/pkg/executor.(*ExecStmt).handleNoDelay\n\t/Users/bba/pc/tidb/pkg/executor/adapter.go:794\ngithub.com/pingcap/tidb/pkg/executor.(*ExecStmt).Exec\n\t/Users/bba/pc/tidb/pkg/executor/adapter.go:559\ngithub.com/pingcap/tidb/pkg/session.runStmt\n\t/Users/bba/pc/tidb/pkg/session/session.go:2285\ngithub.com/pingcap/tidb/pkg/session.(*session).ExecuteStmt\n\t/Users/bba/pc/tidb/pkg/session/session.go:2146\ngithub.com/pingcap/tidb/pkg/testkit.(*TestKit).ExecWithContext\n\t/Users/bba/pc/tidb/pkg/testkit/testkit.go:384\ngithub.com/pingcap/tidb/pkg/testkit.(*TestKit).MustExecWithContext\n\t/Users/bba/pc/tidb/pkg/testkit/testkit.go:156\ngithub.com/pingcap/tidb/pkg/testkit.(*TestKit).MustExec\n\t/Users/bba/pc/tidb/pkg/testkit/testkit.go:151\ngithub.com/pingcap/tidb/pkg/ddl/tests/tiflash.TestAlterDatabaseBasic\n\t/Users/bba/pc/tidb/pkg/ddl/tests/tiflash/ddl_tiflash_test.go:812\ntesting.tRunner\n\t/Users/bba/.gvm/gos/go1.21.0/src/testing/testing.go:1595\nruntime.goexit\n\t/Users/bba/.gvm/gos/go1.21.0/src/runtime/asm_arm64.s:1197"]
[2024/05/15 17:15:11.471 +08:00] [INFO] [ddl_api.go:426] ["skip processing table"] [category=ddl] [tableID=125] [schemaID=117] [tableName=t_temp] [schemaName=tiflash_ddl_skip] [error="[ddl:8006]`set on tiflash` is unsupported on temporary tables."] [errorVerbose="[ddl:8006]`set on tiflash` is unsupported on temporary tables.\ngithub.com/pingcap/errors.AddStack\n\t/Users/bba/.gvm/pkgsets/go1.21.0/global/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20240318064555-6bd07397691f/errors.go:178\ngithub.com/pingcap/errors.(*Error).GenWithStackByArgs\n\t/Users/bba/.gvm/pkgsets/go1.21.0/global/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20240318064555-6bd07397691f/normalize.go:175\ngithub.com/pingcap/tidb/pkg/ddl.isTableTiFlashSupported\n\t/Users/bba/pc/tidb/pkg/ddl/ddl_api.go:6672\ngithub.com/pingcap/tidb/pkg/ddl.(*ddl).ModifySchemaSetTiFlashReplica\n\t/Users/bba/pc/tidb/pkg/ddl/ddl_api.go:424\ngithub.com/pingcap/tidb/pkg/ddl.(*ddl).AlterSchema\n\t/Users/bba/pc/tidb/pkg/ddl/ddl_api.go:616\ngithub.com/pingcap/tidb/pkg/executor.(*DDLExec).executeAlterDatabase\n\t/Users/bba/pc/tidb/pkg/executor/ddl.go:263\ngithub.com/pingcap/tidb/pkg/executor.(*DDLExec).Next\n\t/Users/bba/pc/tidb/pkg/executor/ddl.go:150\ngithub.com/pingcap/tidb/pkg/executor/internal/exec.Next\n\t/Users/bba/pc/tidb/pkg/executor/internal/exec/executor.go:410\ngithub.com/pingcap/tidb/pkg/executor.(*ExecStmt).next\n\t/Users/bba/pc/tidb/pkg/executor/adapter.go:1211\ngithub.com/pingcap/tidb/pkg/executor.(*ExecStmt).handleNoDelayExecutor\n\t/Users/bba/pc/tidb/pkg/executor/adapter.go:960\ngithub.com/pingcap/tidb/pkg/executor.(*ExecStmt).handleNoDelay\n\t/Users/bba/pc/tidb/pkg/executor/adapter.go:794\ngithub.com/pingcap/tidb/pkg/executor.(*ExecStmt).Exec\n\t/Users/bba/pc/tidb/pkg/executor/adapter.go:559\ngithub.com/pingcap/tidb/pkg/session.runStmt\n\t/Users/bba/pc/tidb/pkg/session/session.go:2285\ngithub.com/pingcap/tidb/pkg/session.(*session).ExecuteStmt\n\t/Users/bba/pc/tidb/pkg/session/session.go:2146\ngithub.com/pingcap/tidb/pkg/testkit.(*TestKit).ExecWithContext\n\t/Users/bba/pc/tidb/pkg/testkit/testkit.go:384\ngithub.com/pingcap/tidb/pkg/testkit.(*TestKit).MustExecWithContext\n\t/Users/bba/pc/tidb/pkg/testkit/testkit.go:156\ngithub.com/pingcap/tidb/pkg/testkit.(*TestKit).MustExec\n\t/Users/bba/pc/tidb/pkg/testkit/testkit.go:151\ngithub.com/pingcap/tidb/pkg/ddl/tests/tiflash.TestAlterDatabaseBasic\n\t/Users/bba/pc/tidb/pkg/ddl/tests/tiflash/ddl_tiflash_test.go:812\ntesting.tRunner\n\t/Users/bba/.gvm/gos/go1.21.0/src/testing/testing.go:1595\nruntime.goexit\n\t/Users/bba/.gvm/gos/go1.21.0/src/runtime/asm_arm64.s:1197"]
[2024/05/15 17:15:11.471 +08:00] [INFO] [ddl_api.go:426] ["skip processing table"] [category=ddl] [tableID=123] [schemaID=117] [tableName=t_view] [schemaName=tiflash_ddl_skip] [error="[ddl:1347]'tiflash_ddl_skip.t_view' is not BASE TABLE"] [errorVerbose="[ddl:1347]'tiflash_ddl_skip.t_view' is not BASE TABLE\ngithub.com/pingcap/errors.AddStack\n\t/Users/bba/.gvm/pkgsets/go1.21.0/global/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20240318064555-6bd07397691f/errors.go:178\ngithub.com/pingcap/errors.(*Error).GenWithStackByArgs\n\t/Users/bba/.gvm/pkgsets/go1.21.0/global/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20240318064555-6bd07397691f/normalize.go:175\ngithub.com/pingcap/tidb/pkg/ddl.isTableTiFlashSupported\n\t/Users/bba/pc/tidb/pkg/ddl/ddl_api.go:6674\ngithub.com/pingcap/tidb/pkg/ddl.(*ddl).ModifySchemaSetTiFlashReplica\n\t/Users/bba/pc/tidb/pkg/ddl/ddl_api.go:424\ngithub.com/pingcap/tidb/pkg/ddl.(*ddl).AlterSchema\n\t/Users/bba/pc/tidb/pkg/ddl/ddl_api.go:616\ngithub.com/pingcap/tidb/pkg/executor.(*DDLExec).executeAlterDatabase\n\t/Users/bba/pc/tidb/pkg/executor/ddl.go:263\ngithub.com/pingcap/tidb/pkg/executor.(*DDLExec).Next\n\t/Users/bba/pc/tidb/pkg/executor/ddl.go:150\ngithub.com/pingcap/tidb/pkg/executor/internal/exec.Next\n\t/Users/bba/pc/tidb/pkg/executor/internal/exec/executor.go:410\ngithub.com/pingcap/tidb/pkg/executor.(*ExecStmt).next\n\t/Users/bba/pc/tidb/pkg/executor/adapter.go:1211\ngithub.com/pingcap/tidb/pkg/executor.(*ExecStmt).handleNoDelayExecutor\n\t/Users/bba/pc/tidb/pkg/executor/adapter.go:960\ngithub.com/pingcap/tidb/pkg/executor.(*ExecStmt).handleNoDelay\n\t/Users/bba/pc/tidb/pkg/executor/adapter.go:794\ngithub.com/pingcap/tidb/pkg/executor.(*ExecStmt).Exec\n\t/Users/bba/pc/tidb/pkg/executor/adapter.go:559\ngithub.com/pingcap/tidb/pkg/session.runStmt\n\t/Users/bba/pc/tidb/pkg/session/session.go:2285\ngithub.com/pingcap/tidb/pkg/session.(*session).ExecuteStmt\n\t/Users/bba/pc/tidb/pkg/session/session.go:2146\ngithub.com/pingcap/tidb/pkg/testkit.(*TestKit).ExecWithContext\n\t/Users/bba/pc/tidb/pkg/testkit/testkit.go:384\ngithub.com/pingcap/tidb/pkg/testkit.(*TestKit).MustExecWithContext\n\t/Users/bba/pc/tidb/pkg/testkit/testkit.go:156\ngithub.com/pingcap/tidb/pkg/testkit.(*TestKit).MustExec\n\t/Users/bba/pc/tidb/pkg/testkit/testkit.go:151\ngithub.com/pingcap/tidb/pkg/ddl/tests/tiflash.TestAlterDatabaseBasic\n\t/Users/bba/pc/tidb/pkg/ddl/tests/tiflash/ddl_tiflash_test.go:812\ntesting.tRunner\n\t/Users/bba/.gvm/gos/go1.21.0/src/testing/testing.go:1595\nruntime.goexit\n\t/Users/bba/.gvm/gos/go1.21.0/src/runtime/asm_arm64.s:1197"]
[2024/05/15 17:15:11.471 +08:00] [INFO] [ddl_api.go:479] ["finish batch add TiFlash replica"] [category=ddl] [schemaID=117]
[2024/05/15 17:15:11.473 +08:00] [ERROR] [tiflash_manager.go:104] ["Fail to get peer status from TiFlash."] [tableID=106] [stack="github.com/pingcap/tidb/pkg/domain/infosync.getTiFlashPeerWithoutLagCount\n\t/Users/bba/pc/tidb/pkg/domain/infosync/tiflash_manager.go:104\ngithub.com/pingcap/tidb/pkg/domain/infosync.calculateTiFlashProgress\n\t/Users/bba/pc/tidb/pkg/domain/infosync/tiflash_manager.go:132\ngithub.com/pingcap/tidb/pkg/domain/infosync.(*mockTiFlashReplicaManagerCtx).CalculateTiFlashProgress\n\t/Users/bba/pc/tidb/pkg/domain/infosync/tiflash_manager.go:743\ngithub.com/pingcap/tidb/pkg/domain/infosync.CalculateTiFlashProgress\n\t/Users/bba/pc/tidb/pkg/domain/infosync/info.go:1104\ngithub.com/pingcap/tidb/pkg/ddl.PollAvailableTableProgress\n\t/Users/bba/pc/tidb/pkg/ddl/ddl_tiflash_api.go:394\ngithub.com/pingcap/tidb/pkg/ddl.(*ddl).refreshTiFlashTicker\n\t/Users/bba/pc/tidb/pkg/ddl/ddl_tiflash_api.go:449\ngithub.com/pingcap/tidb/pkg/ddl.(*ddl).PollTiFlashRoutine\n\t/Users/bba/pc/tidb/pkg/ddl/ddl_tiflash_api.go:588\ngithub.com/pingcap/tidb/pkg/util.(*WaitGroupWrapper).Run.func1\n\t/Users/bba/pc/tidb/pkg/util/wait_group_wrapper.go:157"]
[2024/05/15 17:15:11.473 +08:00] [ERROR] [tiflash_manager.go:134] ["Fail to get peer count from TiFlash."] [tableID=106] [stack="github.com/pingcap/tidb/pkg/domain/infosync.calculateTiFlashProgress\n\t/Users/bba/pc/tidb/pkg/domain/infosync/tiflash_manager.go:134\ngithub.com/pingcap/tidb/pkg/domain/infosync.(*mockTiFlashReplicaManagerCtx).CalculateTiFlashProgress\n\t/Users/bba/pc/tidb/pkg/domain/infosync/tiflash_manager.go:743\ngithub.com/pingcap/tidb/pkg/domain/infosync.CalculateTiFlashProgress\n\t/Users/bba/pc/tidb/pkg/domain/infosync/info.go:1104\ngithub.com/pingcap/tidb/pkg/ddl.PollAvailableTableProgress\n\t/Users/bba/pc/tidb/pkg/ddl/ddl_tiflash_api.go:394\ngithub.com/pingcap/tidb/pkg/ddl.(*ddl).refreshTiFlashTicker\n\t/Users/bba/pc/tidb/pkg/ddl/ddl_tiflash_api.go:449\ngithub.com/pingcap/tidb/pkg/ddl.(*ddl).PollTiFlashRoutine\n\t/Users/bba/pc/tidb/pkg/ddl/ddl_tiflash_api.go:588\ngithub.com/pingcap/tidb/pkg/util.(*WaitGroupWrapper).Run.func1\n\t/Users/bba/pc/tidb/pkg/util/wait_group_wrapper.go:157"]
panic: Get "http://127.0.0.1:54776/tiflash/sync-status/keyspace/4294967295/table/106": dial tcp 127.0.0.1:54776: connect: connection refused

goroutine 11221 [running]:
github.com/pingcap/tidb/pkg/ddl.PollAvailableTableProgress({0x10563aab0, 0x1400e55e030}, {0x1400e52a900?, 0x104a2d4b8?}, 0x14000994b00)
	/Users/bba/pc/tidb/pkg/ddl/ddl_tiflash_api.go:401 +0xb8c
github.com/pingcap/tidb/pkg/ddl.(*ddl).refreshTiFlashTicker(0x140098de900, {0x105671f20, 0x1400e52a900}, 0x14000994b00)
	/Users/bba/pc/tidb/pkg/ddl/ddl_tiflash_api.go:449 +0x1b0
github.com/pingcap/tidb/pkg/ddl.(*ddl).PollTiFlashRoutine(0x140098de900)
	/Users/bba/pc/tidb/pkg/ddl/ddl_tiflash_api.go:588 +0x574
github.com/pingcap/tidb/pkg/util.(*WaitGroupWrapper).Run.func1()
	/Users/bba/pc/tidb/pkg/util/wait_group_wrapper.go:157 +0x58
created by github.com/pingcap/tidb/pkg/util.(*WaitGroupWrapper).Run in goroutine 85
	/Users/bba/pc/tidb/pkg/util/wait_group_wrapper.go:155 +0x7c
[FAIL]  pkg/executor TestTimeBoundedStalenessTxn
err=exit status 1
[2024/05/15 17:15:13.212 +08:00] [INFO] [store_cache.go:510] ["change store resolve state"] [store=1] [addr=store1] [from=unresolved] [to=resolved] [liveness-state=reachable]
[2024/05/15 17:15:13.213 +08:00] [INFO] [ddl_api.go:1139] ["Automatically convert BLOB(65535) to MEDIUMBLOB"] [category=ddl]
[2024/05/15 17:15:13.213 +08:00] [INFO] [ddl_api.go:1139] ["Automatically convert BLOB(65535) to MEDIUMBLOB"] [category=ddl]
[2024/05/15 17:15:13.213 +08:00] [INFO] [ddl_api.go:1139] ["Automatically convert BLOB(65535) to MEDIUMBLOB"] [category=ddl]
[2024/05/15 17:15:13.213 +08:00] [INFO] [ddl_api.go:1139] ["Automatically convert BLOB(65535) to MEDIUMBLOB"] [category=ddl]
[2024/05/15 17:15:13.214 +08:00] [INFO] [ddl_api.go:1139] ["Automatically convert BLOB(65535) to MEDIUMBLOB"] [category=ddl]
[2024/05/15 17:15:13.214 +08:00] [INFO] [tidb.go:80] ["new domain"] [store=c59bef24-5c42-40ec-8fc1-36fb88b26e8d] ["ddl lease"=500ms] ["stats lease"=-1ns]
[2024/05/15 17:15:13.217 +08:00] [WARN] [controller.go:198] ["[resource group controller] server does not save config, load config failed"]
[2024/05/15 17:15:13.217 +08:00] [INFO] [controller.go:185] ["load resource controller config"] [config="{\"degraded-mode-wait-duration\":\"0s\",\"ltb-max-wait-duration\":\"30s\",\"wait-retry-interval\":\"50ms\",\"wait-retry-times\":10,\"request-unit\":{\"read-base-cost\":0.125,\"read-per-batch-base-cost\":0.5,\"read-cost-per-byte\":0.0000152587890625,\"write-base-cost\":1,\"write-per-batch-base-cost\":1,\"write-cost-per-byte\":0.0009765625,\"read-cpu-ms-cost\":0.3333333333333333},\"enable-controller-trace-log\":\"false\"}"] [ru-config="{\"ReadBaseCost\":0.125,\"ReadPerBatchBaseCost\":0.5,\"ReadBytesCost\":0.0000152587890625,\"WriteBaseCost\":1,\"WritePerBatchBaseCost\":1,\"WriteBytesCost\":0.0009765625,\"CPUMsCost\":0.3333333333333333,\"LTBMaxWaitDuration\":30000000000,\"WaitRetryInterval\":50000000,\"WaitRetryTimes\":10,\"DegradedModeWaitDuration\":0}"]
[2024/05/15 17:15:13.218 +08:00] [WARN] [domain.go:244] ["failed to get schema version"] [error="There is no Write MVCC info for the schema version"] [errorVerbose="There is no Write MVCC info for the schema version\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).getTimestampForSchemaVersionWithNonEmptyDiff\n\t/Users/bba/pc/tidb/pkg/domain/domain.go:343\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).loadInfoSchema\n\t/Users/bba/pc/tidb/pkg/domain/domain.go:242\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).Reload\n\t/Users/bba/pc/tidb/pkg/domain/domain.go:614\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).Init\n\t/Users/bba/pc/tidb/pkg/domain/domain.go:1268\ngithub.com/pingcap/tidb/pkg/session.(*domainMap).Get.func1\n\t/Users/bba/pc/tidb/pkg/session/tidb.go:92\ngithub.com/pingcap/tidb/pkg/util.RunWithRetry\n\t/Users/bba/pc/tidb/pkg/util/misc.go:70\ngithub.com/pingcap/tidb/pkg/session.(*domainMap).Get\n\t/Users/bba/pc/tidb/pkg/session/tidb.go:79\ngithub.com/pingcap/tidb/pkg/session.createSessionWithOpt\n\t/Users/bba/pc/tidb/pkg/session/session.go:3633\ngithub.com/pingcap/tidb/pkg/session.createSession\n\t/Users/bba/pc/tidb/pkg/session/session.go:3625\ngithub.com/pingcap/tidb/pkg/session.runInBootstrapSession\n\t/Users/bba/pc/tidb/pkg/session/session.go:3575\ngithub.com/pingcap/tidb/pkg/session.bootstrapSessionImpl\n\t/Users/bba/pc/tidb/pkg/session/session.go:3351\ngithub.com/pingcap/tidb/pkg/session.BootstrapSession\n\t/Users/bba/pc/tidb/pkg/session/session.go:3317\ngithub.com/pingcap/tidb/pkg/testkit.bootstrap\n\t/Users/bba/pc/tidb/pkg/testkit/mockstore.go:294\ngithub.com/pingcap/tidb/pkg/testkit.CreateMockStoreAndDomain\n\t/Users/bba/pc/tidb/pkg/testkit/mockstore.go:265\ngithub.com/pingcap/tidb/pkg/testkit.CreateMockStore\n\t/Users/bba/pc/tidb/pkg/testkit/mockstore.go:72\ngithub.com/pingcap/tidb/pkg/executor_test.TestTimeBoundedStalenessTxn\n\t/Users/bba/pc/tidb/pkg/executor/stale_txn_test.go:429\ntesting.tRunner\n\t/Users/bba/.gvm/gos/go1.21.0/src/testing/testing.go:1595\nruntime.goexit\n\t/Users/bba/.gvm/gos/go1.21.0/src/runtime/asm_arm64.s:1197"] [version=0]
[2024/05/15 17:15:13.226 +08:00] [INFO] [domain.go:323] ["full load InfoSchema success"] [currentSchemaVersion=0] [neededSchemaVersion=0] ["start time"=7.742416ms]
[2024/05/15 17:15:13.226 +08:00] [INFO] [domain.go:643] ["full load and reset schema validator"]
[2024/05/15 17:15:13.226 +08:00] [INFO] [ddl.go:818] ["start DDL"] [category=ddl] [ID=1963df1b-bdcd-4bb0-a44b-6b739e1dd215] [runWorker=true]
[2024/05/15 17:15:13.226 +08:00] [INFO] [ddl.go:777] ["start delRangeManager OK"] [category=ddl] ["is a emulator"=true]
[2024/05/15 17:15:13.226 +08:00] [WARN] [env.go:51] ["initialize environment failed"] [category=ddl-ingest] ["storage limitation"="only support TiKV storage"] ["current storage"=unistore] ["lightning is initialized"=false]
[2024/05/15 17:15:13.226 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=loadSchemaInLoop]
[2024/05/15 17:15:13.226 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=mdlCheckLoop]
[2024/05/15 17:15:13.226 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=topNSlowQueryLoop]
[2024/05/15 17:15:13.226 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=infoSyncerKeeper]
[2024/05/15 17:15:13.226 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=globalConfigSyncerKeeper]
[2024/05/15 17:15:13.226 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=runawayStartLoop]
[2024/05/15 17:15:13.226 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=requestUnitsWriterLoop]
[2024/05/15 17:15:13.226 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=topologySyncerKeeper]
[2024/05/15 17:15:13.226 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=closestReplicaReadCheckLoop]
[2024/05/15 17:15:13.226 +08:00] [WARN] [domain.go:1334] ["pd / etcd client not provided, won't begin Advancer."]
[2024/05/15 17:15:13.227 +08:00] [INFO] [delete_range.go:172] ["start delRange emulator"] [category=ddl]
[2024/05/15 17:15:13.227 +08:00] [INFO] [job_table.go:334] ["get global state and global state change"] [category=ddl] [oldState=false] [currState=false]
[2024/05/15 17:15:13.227 +08:00] [INFO] [runaway.go:149] ["try to start runaway manager loop"]
[2024/05/15 17:15:13.227 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=requestUnitsWriterLoop]
[2024/05/15 17:15:13.277 +08:00] [INFO] [job_table.go:334] ["get global state and global state change"] [category=ddl] [oldState=false] [currState=false]
[2024/05/15 17:15:13.277 +08:00] [INFO] [job_table.go:349] ["the owner sets owner operator value"] [category=ddl] [ownerOp=none]
[2024/05/15 17:15:13.429 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=0] [cur_db=mysql] [sql="CREATE DATABASE IF NOT EXISTS test"] [user=]
[2024/05/15 17:15:13.431 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:3, Type:create schema, State:queueing, SchemaState:none, SchemaID:2, TableID:0, RowCount:0, ArgLen:1, start time: 2024-05-15 17:15:13.43 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:15:13.431 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:3, Type:create schema, State:queueing, SchemaState:none, SchemaID:2, TableID:0, RowCount:0, ArgLen:1, start time: 2024-05-15 17:15:13.43 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE DATABASE IF NOT EXISTS test"]
[2024/05/15 17:15:13.438 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=3] [category=ddl] [job="ID:3, Type:create schema, State:queueing, SchemaState:none, SchemaID:2, TableID:0, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:13.43 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:13.450 +08:00] [INFO] [domain.go:323] ["full load InfoSchema success"] [currentSchemaVersion=0] [neededSchemaVersion=1] ["start time"=9.412417ms]
[2024/05/15 17:15:13.451 +08:00] [INFO] [domain.go:643] ["full load and reset schema validator"]
[2024/05/15 17:15:13.452 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:15:13.452 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=3] [version=1]
[2024/05/15 17:15:13.452 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=1] ["take time"=11.406416ms] [job="ID:3, Type:create schema, State:done, SchemaState:public, SchemaID:2, TableID:0, RowCount:0, ArgLen:1, start time: 2024-05-15 17:15:13.43 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:13.455 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=3] [job="ID:3, Type:create schema, State:synced, SchemaState:public, SchemaID:2, TableID:0, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:13.43 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:13.457 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=3]
[2024/05/15 17:15:13.457 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:15:13.457 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=1] [cur_db=mysql] [sql="CREATE DATABASE IF NOT EXISTS `mysql`"] [user=]
[2024/05/15 17:15:13.458 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=1] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.user (\n\t\tHost\t\t\t\t\tCHAR(255),\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tauthentication_string\tTEXT,\n\t\tplugin\t\t\t\t\tCHAR(64),\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tProcess_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_db_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tSuper_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_user_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_slave_priv\t    \tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_client_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_role_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_role_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAccount_locked\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShutdown_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReload_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tFILE_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tConfig_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_Tablespace_Priv  ENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPassword_reuse_history  smallint unsigned DEFAULT NULL,\n\t\tPassword_reuse_time     smallint unsigned DEFAULT NULL,\n\t\tUser_attributes\t\t\tjson,\n\t\tToken_issuer\t\t\tVARCHAR(255),\n\t\tPassword_expired\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPassword_last_changed\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP(),\n\t\tPassword_lifetime\t\tSMALLINT UNSIGNED DEFAULT NULL,\n\t\tPRIMARY KEY (Host, User));"] [user=]
[2024/05/15 17:15:13.461 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:5, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:4, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:13.459 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:15:13.461 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:5, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:4, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:13.459 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.user (\n\t\tHost\t\t\t\t\tCHAR(255),\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tauthentication_string\tTEXT,\n\t\tplugin\t\t\t\t\tCHAR(64),\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tProcess_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_db_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tSuper_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_user_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_slave_priv\t    \tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_client_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_role_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_role_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAccount_locked\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShutdown_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReload_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tFILE_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tConfig_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_Tablespace_Priv  ENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPassword_reuse_history  smallint unsigned DEFAULT NULL,\n\t\tPassword_reuse_time     smallint unsigned DEFAULT NULL,\n\t\tUser_attributes\t\t\tjson,\n\t\tToken_issuer\t\t\tVARCHAR(255),\n\t\tPassword_expired\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPassword_last_changed\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP(),\n\t\tPassword_lifetime\t\tSMALLINT UNSIGNED DEFAULT NULL,\n\t\tPRIMARY KEY (Host, User));"]
[2024/05/15 17:15:13.467 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=5] [category=ddl] [job="ID:5, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:4, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:13.459 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:13.473 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=1] [neededSchemaVersion=2] ["start time"=1.300416ms] [gotSchemaVersion=2] [phyTblIDs="[4]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:15:13.475 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:15:13.475 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=5] [version=2]
[2024/05/15 17:15:13.481 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=2] ["take time"=9.181583ms] [job="ID:5, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:4, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:13.459 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:13.492 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=5] [job="ID:5, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:4, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:13.459 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:13.497 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=5]
[2024/05/15 17:15:13.497 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:15:13.497 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=2] [cur_db=mysql] [sql="CREATE TABLE  IF NOT EXISTS mysql.password_history (\n         Host char(255)  NOT NULL DEFAULT '',\n         User char(32)  NOT NULL DEFAULT '',\n         Password_timestamp timestamp(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6),\n         Password text,\n         PRIMARY KEY (Host,User,Password_timestamp )\n        ) COMMENT='Password history for user accounts' "] [user=]
[2024/05/15 17:15:13.500 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:7, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:6, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:13.499 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:15:13.500 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:7, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:6, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:13.499 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE  IF NOT EXISTS mysql.password_history (\n         Host char(255)  NOT NULL DEFAULT '',\n         User char(32)  NOT NULL DEFAULT '',\n         Password_timestamp timestamp(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6),\n         Password text,\n         PRIMARY KEY (Host,User,Password_timestamp )\n        ) COMMENT='Password history for user accounts' "]
[2024/05/15 17:15:13.504 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=7] [category=ddl] [job="ID:7, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:6, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:13.499 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:13.505 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=2] [neededSchemaVersion=3] ["start time"=218.292s] [gotSchemaVersion=3] [phyTblIDs="[6]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:15:13.506 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:15:13.506 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=7] [version=3]
[2024/05/15 17:15:13.508 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=3] ["take time"=2.560958ms] [job="ID:7, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:6, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:13.499 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:13.512 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=7] [job="ID:7, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:6, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:13.499 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:13.514 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=7]
[2024/05/15 17:15:13.514 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:15:13.514 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=3] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.global_priv (Host CHAR(255) NOT NULL DEFAULT '',User CHAR(80) NOT NULL DEFAULT '',Priv LONGTEXT NOT NULL DEFAULT '',PRIMARY KEY (Host, User))"] [user=]
[2024/05/15 17:15:13.516 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:9, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:8, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:13.515 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:15:13.516 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:9, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:8, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:13.515 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.global_priv (Host CHAR(255) NOT NULL DEFAULT '',User CHAR(80) NOT NULL DEFAULT '',Priv LONGTEXT NOT NULL DEFAULT '',PRIMARY KEY (Host, User))"]
[2024/05/15 17:15:13.520 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=9] [category=ddl] [job="ID:9, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:8, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:13.515 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:13.521 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=3] [neededSchemaVersion=4] ["start time"=171.917s] [gotSchemaVersion=4] [phyTblIDs="[8]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:15:13.522 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:15:13.522 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=9] [version=4]
[2024/05/15 17:15:13.523 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=4] ["take time"=2.061708ms] [job="ID:9, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:8, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:13.515 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:13.527 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=9] [job="ID:9, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:8, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:13.515 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:13.528 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=9]
[2024/05/15 17:15:13.528 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:15:13.529 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=4] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.db (\n\t\tHost\t\t\t\t\tCHAR(255),\n\t\tDB\t\t\t\t\t\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv \t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (Host, DB, User));"] [user=]
[2024/05/15 17:15:13.530 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:11, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:10, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:13.529 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:15:13.530 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:11, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:10, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:13.529 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.db (\n\t\tHost\t\t\t\t\tCHAR(255),\n\t\tDB\t\t\t\t\t\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv \t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (Host, DB, User));"]
[2024/05/15 17:15:13.534 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=11] [category=ddl] [job="ID:11, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:10, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:13.529 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:13.537 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=4] [neededSchemaVersion=5] ["start time"=522.042s] [gotSchemaVersion=5] [phyTblIDs="[10]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:15:13.538 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:15:13.538 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=11] [version=5]
[2024/05/15 17:15:13.541 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=5] ["take time"=4.015458ms] [job="ID:11, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:10, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:13.529 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:13.547 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=11] [job="ID:11, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:10, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:13.529 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:13.549 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=11]
[2024/05/15 17:15:13.549 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:15:13.549 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=5] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tables_priv (\n\t\tHost\t\tCHAR(255),\n\t\tDB\t\t\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tGrantor\t\tCHAR(77),\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tTable_priv\tSET('Select','Insert','Update','Delete','Create','Drop','Grant','Index','Alter','Create View','Show View','Trigger','References'),\n\t\tColumn_priv\tSET('Select','Insert','Update','References'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name));"] [user=]
[2024/05/15 17:15:13.551 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:13, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:12, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:13.55 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:15:13.551 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:13, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:12, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:13.55 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tables_priv (\n\t\tHost\t\tCHAR(255),\n\t\tDB\t\t\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tGrantor\t\tCHAR(77),\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tTable_priv\tSET('Select','Insert','Update','Delete','Create','Drop','Grant','Index','Alter','Create View','Show View','Trigger','References'),\n\t\tColumn_priv\tSET('Select','Insert','Update','References'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name));"]
[2024/05/15 17:15:13.556 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=13] [category=ddl] [job="ID:13, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:12, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:13.55 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:13.558 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=5] [neededSchemaVersion=6] ["start time"=281.083s] [gotSchemaVersion=6] [phyTblIDs="[12]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:15:13.559 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:15:13.559 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=13] [version=6]
[2024/05/15 17:15:13.560 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=6] ["take time"=2.1595ms] [job="ID:13, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:12, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:13.55 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:13.565 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=13] [job="ID:13, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:12, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:13.55 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:13.567 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=13]
[2024/05/15 17:15:13.567 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:15:13.567 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=6] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.columns_priv(\n\t\tHost\t\tCHAR(255),\n\t\tDB\t\t\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tColumn_name\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tColumn_priv\tSET('Select','Insert','Update','References'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name, Column_name));"] [user=]
[2024/05/15 17:15:13.569 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:15, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:14, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:13.568 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:15:13.569 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:15, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:14, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:13.568 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.columns_priv(\n\t\tHost\t\tCHAR(255),\n\t\tDB\t\t\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tColumn_name\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tColumn_priv\tSET('Select','Insert','Update','References'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name, Column_name));"]
[2024/05/15 17:15:13.573 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=15] [category=ddl] [job="ID:15, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:14, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:13.568 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:13.575 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=6] [neededSchemaVersion=7] ["start time"=276.292s] [gotSchemaVersion=7] [phyTblIDs="[14]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:15:13.576 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:15:13.576 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=15] [version=7]
[2024/05/15 17:15:13.577 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=7] ["take time"=2.266625ms] [job="ID:15, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:14, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:13.568 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:13.581 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=15] [job="ID:15, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:14, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:13.568 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:13.583 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=15]
[2024/05/15 17:15:13.583 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:15:13.583 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=7] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.GLOBAL_VARIABLES(\n\t\tVARIABLE_NAME  VARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE VARCHAR(16383) DEFAULT NULL);"] [user=]
[2024/05/15 17:15:13.585 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:17, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:16, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:13.584 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:15:13.585 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:17, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:16, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:13.584 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.GLOBAL_VARIABLES(\n\t\tVARIABLE_NAME  VARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE VARCHAR(16383) DEFAULT NULL);"]
[2024/05/15 17:15:13.589 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=17] [category=ddl] [job="ID:17, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:16, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:13.584 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:13.590 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=7] [neededSchemaVersion=8] ["start time"=167.375s] [gotSchemaVersion=8] [phyTblIDs="[16]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:15:13.591 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:15:13.591 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=17] [version=8]
[2024/05/15 17:15:13.593 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=8] ["take time"=2.494ms] [job="ID:17, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:16, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:13.584 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:13.596 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=17] [job="ID:17, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:16, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:13.584 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:13.598 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=17]
[2024/05/15 17:15:13.598 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:15:13.598 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=8] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb(\n\t\tVARIABLE_NAME  \tVARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE \tVARCHAR(1024) DEFAULT NULL,\n\t\tCOMMENT \t\tVARCHAR(1024));"] [user=]
[2024/05/15 17:15:13.599 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:19, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:18, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:13.598 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:15:13.599 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:19, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:18, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:13.598 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb(\n\t\tVARIABLE_NAME  \tVARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE \tVARCHAR(1024) DEFAULT NULL,\n\t\tCOMMENT \t\tVARCHAR(1024));"]
[2024/05/15 17:15:13.603 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=19] [category=ddl] [job="ID:19, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:18, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:13.598 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:13.605 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=8] [neededSchemaVersion=9] ["start time"=219.041s] [gotSchemaVersion=9] [phyTblIDs="[18]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:15:13.605 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:15:13.606 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=19] [version=9]
[2024/05/15 17:15:13.607 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=9] ["take time"=2.091541ms] [job="ID:19, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:18, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:13.598 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:13.611 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=19] [job="ID:19, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:18, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:13.598 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:13.613 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=19]
[2024/05/15 17:15:13.613 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:15:13.613 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=9] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.help_topic (\n  \t\thelp_topic_id \t\tINT(10) UNSIGNED NOT NULL,\n  \t\tname \t\t\t\tCHAR(64) NOT NULL,\n  \t\thelp_category_id \tSMALLINT(5) UNSIGNED NOT NULL,\n  \t\tdescription \t\tTEXT NOT NULL,\n  \t\texample \t\t\tTEXT NOT NULL,\n  \t\turl \t\t\t\tTEXT NOT NULL,\n  \t\tPRIMARY KEY (help_topic_id) clustered,\n  \t\tUNIQUE KEY name (name)\n\t\t) ENGINE=InnoDB DEFAULT CHARSET=utf8 STATS_PERSISTENT=0 COMMENT='help topics';"] [user=]
[2024/05/15 17:15:13.614 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:21, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:20, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:13.614 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:15:13.614 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:21, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:20, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:13.614 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.help_topic (\n  \t\thelp_topic_id \t\tINT(10) UNSIGNED NOT NULL,\n  \t\tname \t\t\t\tCHAR(64) NOT NULL,\n  \t\thelp_category_id \tSMALLINT(5) UNSIGNED NOT NULL,\n  \t\tdescription \t\tTEXT NOT NULL,\n  \t\texample \t\t\tTEXT NOT NULL,\n  \t\turl \t\t\t\tTEXT NOT NULL,\n  \t\tPRIMARY KEY (help_topic_id) clustered,\n  \t\tUNIQUE KEY name (name)\n\t\t) ENGINE=InnoDB DEFAULT CHARSET=utf8 STATS_PERSISTENT=0 COMMENT='help topics';"]
[2024/05/15 17:15:13.618 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=21] [category=ddl] [job="ID:21, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:20, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:13.614 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:13.620 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=9] [neededSchemaVersion=10] ["start time"=227.791s] [gotSchemaVersion=10] [phyTblIDs="[20]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:15:13.621 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:15:13.621 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=21] [version=10]
[2024/05/15 17:15:13.622 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=10] ["take time"=2.069916ms] [job="ID:21, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:20, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:13.614 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:13.626 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=21] [job="ID:21, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:20, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:13.614 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:13.628 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=21]
[2024/05/15 17:15:13.628 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:15:13.628 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=10] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_meta (\n\t\tversion \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\ttable_id \t\tBIGINT(64) NOT NULL,\n\t\tmodify_count\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcount \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tsnapshot        BIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tINDEX idx_ver(version),\n\t\tUNIQUE INDEX tbl(table_id)\n\t);"] [user=]
[2024/05/15 17:15:13.629 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:23, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:22, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:13.629 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:15:13.629 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:23, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:22, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:13.629 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_meta (\n\t\tversion \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\ttable_id \t\tBIGINT(64) NOT NULL,\n\t\tmodify_count\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcount \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tsnapshot        BIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tINDEX idx_ver(version),\n\t\tUNIQUE INDEX tbl(table_id)\n\t);"]
[2024/05/15 17:15:13.633 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=23] [category=ddl] [job="ID:23, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:22, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:13.629 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:13.635 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=10] [neededSchemaVersion=11] ["start time"=264.25s] [gotSchemaVersion=11] [phyTblIDs="[22]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:15:13.636 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:15:13.636 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=23] [version=11]
[2024/05/15 17:15:13.637 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=11] ["take time"=2.25475ms] [job="ID:23, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:22, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:13.629 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:13.641 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=23] [job="ID:23, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:22, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:13.629 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:13.643 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=23]
[2024/05/15 17:15:13.643 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:15:13.643 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=11] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_histograms (\n\t\ttable_id \t\t\tBIGINT(64) NOT NULL,\n\t\tis_index \t\t\tTINYINT(2) NOT NULL,\n\t\thist_id \t\t\tBIGINT(64) NOT NULL,\n\t\tdistinct_count \t\tBIGINT(64) NOT NULL,\n\t\tnull_count \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\ttot_col_size \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tmodify_count \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tversion \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tcm_sketch \t\t\tBLOB(6291456),\n\t\tstats_ver \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tflag \t\t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcorrelation \t\tDOUBLE NOT NULL DEFAULT 0,\n\t\tlast_analyze_pos \tLONGBLOB DEFAULT NULL,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id)\n\t);"] [user=]
[2024/05/15 17:15:13.643 +08:00] [INFO] [ddl_api.go:1139] ["Automatically convert BLOB(6291456) to MEDIUMBLOB"] [category=ddl]
[2024/05/15 17:15:13.645 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:25, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:24, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:13.644 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:15:13.645 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:25, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:24, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:13.644 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_histograms (\n\t\ttable_id \t\t\tBIGINT(64) NOT NULL,\n\t\tis_index \t\t\tTINYINT(2) NOT NULL,\n\t\thist_id \t\t\tBIGINT(64) NOT NULL,\n\t\tdistinct_count \t\tBIGINT(64) NOT NULL,\n\t\tnull_count \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\ttot_col_size \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tmodify_count \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tversion \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tcm_sketch \t\t\tBLOB(6291456),\n\t\tstats_ver \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tflag \t\t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcorrelation \t\tDOUBLE NOT NULL DEFAULT 0,\n\t\tlast_analyze_pos \tLONGBLOB DEFAULT NULL,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id)\n\t);"]
[2024/05/15 17:15:13.650 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=25] [category=ddl] [job="ID:25, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:24, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:13.644 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:13.655 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=11] [neededSchemaVersion=12] ["start time"=508.084s] [gotSchemaVersion=12] [phyTblIDs="[24]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:15:13.656 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:15:13.656 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=25] [version=12]
[2024/05/15 17:15:13.658 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=12] ["take time"=4.4635ms] [job="ID:25, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:24, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:13.644 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:13.667 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=25] [job="ID:25, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:24, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:13.644 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:13.670 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=25]
[2024/05/15 17:15:13.670 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:15:13.670 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=12] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_buckets (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tbucket_id \tBIGINT(64) NOT NULL,\n\t\tcount \t\tBIGINT(64) NOT NULL,\n\t\trepeats \tBIGINT(64) NOT NULL,\n\t\tupper_bound LONGBLOB NOT NULL,\n\t\tlower_bound LONGBLOB ,\n\t\tndv         BIGINT NOT NULL DEFAULT 0,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id, bucket_id)\n\t);"] [user=]
[2024/05/15 17:15:13.673 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:27, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:26, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:13.672 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:15:13.673 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:27, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:26, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:13.672 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_buckets (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tbucket_id \tBIGINT(64) NOT NULL,\n\t\tcount \t\tBIGINT(64) NOT NULL,\n\t\trepeats \tBIGINT(64) NOT NULL,\n\t\tupper_bound LONGBLOB NOT NULL,\n\t\tlower_bound LONGBLOB ,\n\t\tndv         BIGINT NOT NULL DEFAULT 0,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id, bucket_id)\n\t);"]
[2024/05/15 17:15:13.680 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=27] [category=ddl] [job="ID:27, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:26, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:13.672 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:13.682 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=12] [neededSchemaVersion=13] ["start time"=284.167s] [gotSchemaVersion=13] [phyTblIDs="[26]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:15:13.683 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:15:13.683 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=27] [version=13]
[2024/05/15 17:15:13.684 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=13] ["take time"=2.294541ms] [job="ID:27, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:26, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:13.672 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:13.688 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=27] [job="ID:27, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:26, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:13.672 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:13.690 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=27]
[2024/05/15 17:15:13.690 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:15:13.690 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=13] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_index (job_id, element_id)\n\t);"] [user=]
[2024/05/15 17:15:13.692 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:29, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:28, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:13.691 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:15:13.692 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:29, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:28, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:13.691 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_index (job_id, element_id)\n\t);"]
[2024/05/15 17:15:13.695 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=29] [category=ddl] [job="ID:29, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:28, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:13.691 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:13.697 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=13] [neededSchemaVersion=14] ["start time"=200s] [gotSchemaVersion=14] [phyTblIDs="[28]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:15:13.697 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:15:13.697 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=29] [version=14]
[2024/05/15 17:15:13.698 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=14] ["take time"=2.004958ms] [job="ID:29, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:28, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:13.691 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:13.702 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=29] [job="ID:29, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:28, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:13.691 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:13.704 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=29]
[2024/05/15 17:15:13.704 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:15:13.704 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=14] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range_done (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_done_index (job_id, element_id)\n\t);"] [user=]
[2024/05/15 17:15:13.705 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:31, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:30, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:13.705 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:15:13.705 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:31, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:30, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:13.705 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range_done (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_done_index (job_id, element_id)\n\t);"]
[2024/05/15 17:15:13.709 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=31] [category=ddl] [job="ID:31, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:30, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:13.705 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:13.710 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=14] [neededSchemaVersion=15] ["start time"=196.292s] [gotSchemaVersion=15] [phyTblIDs="[30]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:15:13.711 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:15:13.711 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=31] [version=15]
[2024/05/15 17:15:13.713 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=15] ["take time"=2.688375ms] [job="ID:31, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:30, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:13.705 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:13.716 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=31] [job="ID:31, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:30, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:13.705 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:13.718 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=31]
[2024/05/15 17:15:13.718 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:15:13.718 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=15] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_feedback (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tfeedback \tBLOB NOT NULL,\n\t\tINDEX hist(table_id, is_index, hist_id)\n\t);"] [user=]
[2024/05/15 17:15:13.719 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:33, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:32, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:13.719 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:15:13.719 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:33, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:32, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:13.719 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_feedback (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tfeedback \tBLOB NOT NULL,\n\t\tINDEX hist(table_id, is_index, hist_id)\n\t);"]
[2024/05/15 17:15:13.723 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=33] [category=ddl] [job="ID:33, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:32, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:13.719 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:13.724 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=15] [neededSchemaVersion=16] ["start time"=186.167s] [gotSchemaVersion=16] [phyTblIDs="[32]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:15:13.724 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:15:13.724 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=33] [version=16]
[2024/05/15 17:15:13.726 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=16] ["take time"=2.013208ms] [job="ID:33, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:32, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:13.719 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:13.730 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=33] [job="ID:33, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:32, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:13.719 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:13.732 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=33]
[2024/05/15 17:15:13.732 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:15:13.732 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=16] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.role_edges (\n\t\tFROM_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tFROM_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tWITH_ADMIN_OPTION \tENUM('N','Y') CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (FROM_HOST,FROM_USER,TO_HOST,TO_USER)\n\t);"] [user=]
[2024/05/15 17:15:13.734 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:35, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:34, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:13.733 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:15:13.734 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:35, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:34, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:13.733 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.role_edges (\n\t\tFROM_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tFROM_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tWITH_ADMIN_OPTION \tENUM('N','Y') CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (FROM_HOST,FROM_USER,TO_HOST,TO_USER)\n\t);"]
[2024/05/15 17:15:13.738 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=35] [category=ddl] [job="ID:35, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:34, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:13.733 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:13.739 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=16] [neededSchemaVersion=17] ["start time"=205.833s] [gotSchemaVersion=17] [phyTblIDs="[34]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:15:13.740 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:15:13.740 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=35] [version=17]
[2024/05/15 17:15:13.741 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=17] ["take time"=2.018959ms] [job="ID:35, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:34, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:13.733 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:13.745 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=35] [job="ID:35, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:34, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:13.733 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:13.747 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=35]
[2024/05/15 17:15:13.747 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:15:13.747 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=17] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.default_roles (\n\t\tHOST \t\t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tUSER \t\t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tDEFAULT_ROLE_HOST \tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '%',\n\t\tDEFAULT_ROLE_USER \tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tPRIMARY KEY (HOST,USER,DEFAULT_ROLE_HOST,DEFAULT_ROLE_USER)\n\t)"] [user=]
[2024/05/15 17:15:13.748 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:37, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:36, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:13.747 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:15:13.748 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:37, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:36, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:13.747 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.default_roles (\n\t\tHOST \t\t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tUSER \t\t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tDEFAULT_ROLE_HOST \tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '%',\n\t\tDEFAULT_ROLE_USER \tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tPRIMARY KEY (HOST,USER,DEFAULT_ROLE_HOST,DEFAULT_ROLE_USER)\n\t)"]
[2024/05/15 17:15:13.751 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=37] [category=ddl] [job="ID:37, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:36, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:13.747 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:13.753 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=17] [neededSchemaVersion=18] ["start time"=190.083s] [gotSchemaVersion=18] [phyTblIDs="[36]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:15:13.753 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:15:13.753 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=37] [version=18]
[2024/05/15 17:15:13.755 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=18] ["take time"=2.259333ms] [job="ID:37, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:36, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:13.747 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:13.759 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=37] [job="ID:37, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:36, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:13.747 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:13.760 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=37]
[2024/05/15 17:15:13.760 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:15:13.761 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=18] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.bind_info (\n\t\toriginal_sql TEXT NOT NULL,\n\t\tbind_sql TEXT NOT NULL,\n\t\tdefault_db TEXT NOT NULL,\n\t\tstatus TEXT NOT NULL,\n\t\tcreate_time TIMESTAMP(3) NOT NULL,\n\t\tupdate_time TIMESTAMP(3) NOT NULL,\n\t\tcharset TEXT NOT NULL,\n\t\tcollation TEXT NOT NULL,\n\t\tsource VARCHAR(10) NOT NULL DEFAULT 'unknown',\n\t\tsql_digest varchar(64),\n\t\tplan_digest varchar(64),\n\t\tINDEX sql_index(original_sql(700),default_db(68)) COMMENT \"accelerate the speed when add global binding query\",\n\t\tINDEX time_index(update_time) COMMENT \"accelerate the speed when querying with last update time\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"] [user=]
[2024/05/15 17:15:13.762 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:39, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:38, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:13.761 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:15:13.762 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:39, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:38, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:13.761 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.bind_info (\n\t\toriginal_sql TEXT NOT NULL,\n\t\tbind_sql TEXT NOT NULL,\n\t\tdefault_db TEXT NOT NULL,\n\t\tstatus TEXT NOT NULL,\n\t\tcreate_time TIMESTAMP(3) NOT NULL,\n\t\tupdate_time TIMESTAMP(3) NOT NULL,\n\t\tcharset TEXT NOT NULL,\n\t\tcollation TEXT NOT NULL,\n\t\tsource VARCHAR(10) NOT NULL DEFAULT 'unknown',\n\t\tsql_digest varchar(64),\n\t\tplan_digest varchar(64),\n\t\tINDEX sql_index(original_sql(700),default_db(68)) COMMENT \"accelerate the speed when add global binding query\",\n\t\tINDEX time_index(update_time) COMMENT \"accelerate the speed when querying with last update time\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"]
[2024/05/15 17:15:13.766 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=39] [category=ddl] [job="ID:39, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:38, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:13.761 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:13.768 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=18] [neededSchemaVersion=19] ["start time"=360.792s] [gotSchemaVersion=19] [phyTblIDs="[38]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:15:13.769 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:15:13.769 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=39] [version=19]
[2024/05/15 17:15:13.770 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=19] ["take time"=2.328875ms] [job="ID:39, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:38, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:13.761 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:13.774 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=39] [job="ID:39, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:38, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:13.761 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:13.777 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=39]
[2024/05/15 17:15:13.777 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:15:13.777 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=0] ["to ID"=1] ["table ID"=38] ["database ID"=1]
[2024/05/15 17:15:13.777 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=19] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_top_n (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tvalue \t\tLONGBLOB,\n\t\tcount \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\tINDEX tbl(table_id, is_index, hist_id)\n\t);"] [user=]
[2024/05/15 17:15:13.778 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:41, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:40, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:13.778 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:15:13.778 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:41, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:40, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:13.778 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_top_n (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tvalue \t\tLONGBLOB,\n\t\tcount \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\tINDEX tbl(table_id, is_index, hist_id)\n\t);"]
[2024/05/15 17:15:13.782 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=41] [category=ddl] [job="ID:41, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:40, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:13.778 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:13.784 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=19] [neededSchemaVersion=20] ["start time"=218.916s] [gotSchemaVersion=20] [phyTblIDs="[40]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:15:13.784 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:15:13.784 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=41] [version=20]
[2024/05/15 17:15:13.785 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=20] ["take time"=2.184625ms] [job="ID:41, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:40, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:13.778 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:13.789 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=41] [job="ID:41, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:40, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:13.778 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:13.791 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=41]
[2024/05/15 17:15:13.791 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:15:13.791 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=20] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.expr_pushdown_blacklist (\n\t\tname \t\tCHAR(100) NOT NULL,\n\t\tstore_type \tCHAR(100) NOT NULL DEFAULT 'tikv,tiflash,tidb',\n\t\treason \t\tVARCHAR(200)\n\t);"] [user=]
[2024/05/15 17:15:13.792 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:43, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:42, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:13.792 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:15:13.793 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:43, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:42, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:13.792 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.expr_pushdown_blacklist (\n\t\tname \t\tCHAR(100) NOT NULL,\n\t\tstore_type \tCHAR(100) NOT NULL DEFAULT 'tikv,tiflash,tidb',\n\t\treason \t\tVARCHAR(200)\n\t);"]
[2024/05/15 17:15:13.796 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=43] [category=ddl] [job="ID:43, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:42, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:13.792 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:13.797 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=20] [neededSchemaVersion=21] ["start time"=147.875s] [gotSchemaVersion=21] [phyTblIDs="[42]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:15:13.798 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:15:13.798 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=43] [version=21]
[2024/05/15 17:15:13.799 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=21] ["take time"=2.17425ms] [job="ID:43, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:42, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:13.792 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:13.803 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=43] [job="ID:43, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:42, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:13.792 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:13.805 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=43]
[2024/05/15 17:15:13.805 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:15:13.805 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=21] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.opt_rule_blacklist (\n\t\tname \tCHAR(100) NOT NULL\n\t);"] [user=]
[2024/05/15 17:15:13.806 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:45, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:44, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:13.806 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:15:13.806 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:45, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:44, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:13.806 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.opt_rule_blacklist (\n\t\tname \tCHAR(100) NOT NULL\n\t);"]
[2024/05/15 17:15:13.810 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=45] [category=ddl] [job="ID:45, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:44, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:13.806 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:13.811 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=21] [neededSchemaVersion=22] ["start time"=127.875s] [gotSchemaVersion=22] [phyTblIDs="[44]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:15:13.812 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:15:13.812 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=45] [version=22]
[2024/05/15 17:15:13.814 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=22] ["take time"=2.663542ms] [job="ID:45, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:44, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:13.806 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:13.818 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=45] [job="ID:45, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:44, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:13.806 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:13.819 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=45]
[2024/05/15 17:15:13.819 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:15:13.820 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=22] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_extended (\n\t\tname varchar(32) NOT NULL,\n\t\ttype tinyint(4) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tcolumn_ids varchar(32) NOT NULL,\n\t\tstats blob DEFAULT NULL,\n\t\tversion bigint(64) unsigned NOT NULL,\n\t\tstatus tinyint(4) NOT NULL,\n\t\tPRIMARY KEY(name, table_id),\n\t\tKEY idx_1 (table_id, status, version),\n\t\tKEY idx_2 (status, version)\n\t);"] [user=]
[2024/05/15 17:15:13.821 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:47, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:46, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:13.821 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:15:13.821 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:47, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:46, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:13.821 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_extended (\n\t\tname varchar(32) NOT NULL,\n\t\ttype tinyint(4) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tcolumn_ids varchar(32) NOT NULL,\n\t\tstats blob DEFAULT NULL,\n\t\tversion bigint(64) unsigned NOT NULL,\n\t\tstatus tinyint(4) NOT NULL,\n\t\tPRIMARY KEY(name, table_id),\n\t\tKEY idx_1 (table_id, status, version),\n\t\tKEY idx_2 (status, version)\n\t);"]
[2024/05/15 17:15:13.827 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=47] [category=ddl] [job="ID:47, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:46, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:13.821 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:13.831 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=22] [neededSchemaVersion=23] ["start time"=424.584s] [gotSchemaVersion=23] [phyTblIDs="[46]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:15:13.832 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:15:13.832 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=47] [version=23]
[2024/05/15 17:15:13.832 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=23] ["take time"=2.005084ms] [job="ID:47, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:46, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:13.821 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:13.837 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=47] [job="ID:47, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:46, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:13.821 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:13.841 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=47]
[2024/05/15 17:15:13.841 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:15:13.841 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=23] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_fm_sketch (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tvalue \t\tLONGBLOB,\n\t\tINDEX tbl(table_id, is_index, hist_id)\n\t);"] [user=]
[2024/05/15 17:15:13.844 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:49, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:48, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:13.842 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:15:13.844 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:49, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:48, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:13.842 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_fm_sketch (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tvalue \t\tLONGBLOB,\n\t\tINDEX tbl(table_id, is_index, hist_id)\n\t);"]
[2024/05/15 17:15:13.851 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=49] [category=ddl] [job="ID:49, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:48, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:13.842 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:13.853 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=23] [neededSchemaVersion=24] ["start time"=287.417s] [gotSchemaVersion=24] [phyTblIDs="[48]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:15:13.853 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:15:13.853 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=49] [version=24]
[2024/05/15 17:15:13.855 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=24] ["take time"=2.492792ms] [job="ID:49, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:48, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:13.842 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:13.861 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=49] [job="ID:49, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:48, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:13.842 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:13.863 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=49]
[2024/05/15 17:15:13.863 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:15:13.863 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=24] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.global_grants (\n\t\tUSER char(32) NOT NULL DEFAULT '',\n\t\tHOST char(255) NOT NULL DEFAULT '',\n\t\tPRIV char(32) NOT NULL DEFAULT '',\n\t\tWITH_GRANT_OPTION enum('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (USER,HOST,PRIV)\n\t);"] [user=]
[2024/05/15 17:15:13.864 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:51, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:50, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:13.863 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:15:13.864 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:51, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:50, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:13.863 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.global_grants (\n\t\tUSER char(32) NOT NULL DEFAULT '',\n\t\tHOST char(255) NOT NULL DEFAULT '',\n\t\tPRIV char(32) NOT NULL DEFAULT '',\n\t\tWITH_GRANT_OPTION enum('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (USER,HOST,PRIV)\n\t);"]
[2024/05/15 17:15:13.867 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=51] [category=ddl] [job="ID:51, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:50, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:13.863 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:13.869 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=24] [neededSchemaVersion=25] ["start time"=234.375s] [gotSchemaVersion=25] [phyTblIDs="[50]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:15:13.869 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:15:13.869 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=51] [version=25]
[2024/05/15 17:15:13.871 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=25] ["take time"=2.219291ms] [job="ID:51, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:50, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:13.863 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:13.875 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=51] [job="ID:51, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:50, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:13.863 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:13.877 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=51]
[2024/05/15 17:15:13.877 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:15:13.877 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=25] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.capture_plan_baselines_blacklist (\n\t\tid bigint(64) auto_increment,\n\t\tfilter_type varchar(32) NOT NULL COMMENT \"type of the filter, only db, table and frequency supported now\",\n\t\tfilter_value varchar(32) NOT NULL,\n\t\tkey idx(filter_type),\n\t\tprimary key(id)\n\t);"] [user=]
[2024/05/15 17:15:13.878 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:53, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:52, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:13.878 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:15:13.878 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:53, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:52, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:13.878 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.capture_plan_baselines_blacklist (\n\t\tid bigint(64) auto_increment,\n\t\tfilter_type varchar(32) NOT NULL COMMENT \"type of the filter, only db, table and frequency supported now\",\n\t\tfilter_value varchar(32) NOT NULL,\n\t\tkey idx(filter_type),\n\t\tprimary key(id)\n\t);"]
[2024/05/15 17:15:13.883 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=53] [category=ddl] [job="ID:53, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:52, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:13.878 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:13.884 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=25] [neededSchemaVersion=26] ["start time"=164.417s] [gotSchemaVersion=26] [phyTblIDs="[52]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:15:13.885 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:15:13.885 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=53] [version=26]
[2024/05/15 17:15:13.886 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=26] ["take time"=2.005625ms] [job="ID:53, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:52, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:13.878 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:13.889 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=53] [job="ID:53, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:52, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:13.878 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:13.891 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=53]
[2024/05/15 17:15:13.891 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:15:13.891 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=26] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.column_stats_usage (\n\t\ttable_id BIGINT(64) NOT NULL,\n\t\tcolumn_id BIGINT(64) NOT NULL,\n\t\tlast_used_at TIMESTAMP,\n\t\tlast_analyzed_at TIMESTAMP,\n\t\tPRIMARY KEY (table_id, column_id) CLUSTERED\n\t);"] [user=]
[2024/05/15 17:15:13.892 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:55, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:54, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:13.892 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:15:13.892 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:55, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:54, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:13.892 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.column_stats_usage (\n\t\ttable_id BIGINT(64) NOT NULL,\n\t\tcolumn_id BIGINT(64) NOT NULL,\n\t\tlast_used_at TIMESTAMP,\n\t\tlast_analyzed_at TIMESTAMP,\n\t\tPRIMARY KEY (table_id, column_id) CLUSTERED\n\t);"]
[2024/05/15 17:15:13.895 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=55] [category=ddl] [job="ID:55, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:54, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:13.892 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:13.897 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=26] [neededSchemaVersion=27] ["start time"=187.042s] [gotSchemaVersion=27] [phyTblIDs="[54]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:15:13.897 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:15:13.897 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=55] [version=27]
[2024/05/15 17:15:13.898 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=27] ["take time"=2.00375ms] [job="ID:55, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:54, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:13.892 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:13.902 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=55] [job="ID:55, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:54, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:13.892 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:13.904 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=55]
[2024/05/15 17:15:13.904 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:15:13.904 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=27] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.table_cache_meta (\n\t\ttid bigint(11) NOT NULL DEFAULT 0,\n\t\tlock_type enum('NONE','READ', 'INTEND', 'WRITE') NOT NULL DEFAULT 'NONE',\n\t\tlease bigint(20) NOT NULL DEFAULT 0,\n\t\toldReadLease bigint(20) NOT NULL DEFAULT 0,\n\t\tPRIMARY KEY (tid)\n\t);"] [user=]
[2024/05/15 17:15:13.905 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:57, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:56, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:13.904 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:15:13.905 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:57, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:56, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:13.904 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.table_cache_meta (\n\t\ttid bigint(11) NOT NULL DEFAULT 0,\n\t\tlock_type enum('NONE','READ', 'INTEND', 'WRITE') NOT NULL DEFAULT 'NONE',\n\t\tlease bigint(20) NOT NULL DEFAULT 0,\n\t\toldReadLease bigint(20) NOT NULL DEFAULT 0,\n\t\tPRIMARY KEY (tid)\n\t);"]
[2024/05/15 17:15:13.908 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=57] [category=ddl] [job="ID:57, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:56, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:13.904 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:13.909 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=27] [neededSchemaVersion=28] ["start time"=163.458s] [gotSchemaVersion=28] [phyTblIDs="[56]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:15:13.910 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:15:13.910 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=57] [version=28]
[2024/05/15 17:15:13.911 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=28] ["take time"=2.004875ms] [job="ID:57, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:56, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:13.904 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:13.914 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=57] [job="ID:57, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:56, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:13.904 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:13.916 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=57]
[2024/05/15 17:15:13.916 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:15:13.916 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=28] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.analyze_options (\n\t\ttable_id BIGINT(64) NOT NULL,\n\t\tsample_num BIGINT(64) NOT NULL DEFAULT 0,\n\t\tsample_rate DOUBLE NOT NULL DEFAULT -1,\n\t\tbuckets BIGINT(64) NOT NULL DEFAULT 0,\n\t\ttopn BIGINT(64) NOT NULL DEFAULT -1,\n\t\tcolumn_choice enum('DEFAULT','ALL','PREDICATE','LIST') NOT NULL DEFAULT 'DEFAULT',\n\t\tcolumn_ids TEXT(19372),\n\t\tPRIMARY KEY (table_id) CLUSTERED\n\t);"] [user=]
[2024/05/15 17:15:13.916 +08:00] [INFO] [ddl_api.go:1139] ["Automatically convert BLOB(19372) to MEDIUMBLOB"] [category=ddl]
[2024/05/15 17:15:13.917 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:59, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:58, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:13.916 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:15:13.917 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:59, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:58, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:13.916 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.analyze_options (\n\t\ttable_id BIGINT(64) NOT NULL,\n\t\tsample_num BIGINT(64) NOT NULL DEFAULT 0,\n\t\tsample_rate DOUBLE NOT NULL DEFAULT -1,\n\t\tbuckets BIGINT(64) NOT NULL DEFAULT 0,\n\t\ttopn BIGINT(64) NOT NULL DEFAULT -1,\n\t\tcolumn_choice enum('DEFAULT','ALL','PREDICATE','LIST') NOT NULL DEFAULT 'DEFAULT',\n\t\tcolumn_ids TEXT(19372),\n\t\tPRIMARY KEY (table_id) CLUSTERED\n\t);"]
[2024/05/15 17:15:13.920 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=59] [category=ddl] [job="ID:59, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:58, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:13.916 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:13.922 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=28] [neededSchemaVersion=29] ["start time"=249s] [gotSchemaVersion=29] [phyTblIDs="[58]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:15:13.923 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:15:13.923 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=59] [version=29]
[2024/05/15 17:15:13.924 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=29] ["take time"=2.014375ms] [job="ID:59, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:58, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:13.916 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:13.927 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=59] [job="ID:59, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:58, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:13.916 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:13.929 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=59]
[2024/05/15 17:15:13.929 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:15:13.929 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=29] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_history (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tstats_data longblob NOT NULL,\n\t\tseq_no bigint(64) NOT NULL comment 'sequence number of the gzipped data slice',\n\t\tversion bigint(64) NOT NULL comment 'stats version which corresponding to stats:version in EXPLAIN',\n\t\tcreate_time datetime(6) NOT NULL,\n\t\tUNIQUE KEY table_version_seq (table_id, version, seq_no),\n\t\tKEY table_create_time (table_id, create_time, seq_no),\n    \tKEY idx_create_time (create_time)\n\t);"] [user=]
[2024/05/15 17:15:13.930 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:61, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:60, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:13.929 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:15:13.930 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:61, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:60, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:13.929 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_history (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tstats_data longblob NOT NULL,\n\t\tseq_no bigint(64) NOT NULL comment 'sequence number of the gzipped data slice',\n\t\tversion bigint(64) NOT NULL comment 'stats version which corresponding to stats:version in EXPLAIN',\n\t\tcreate_time datetime(6) NOT NULL,\n\t\tUNIQUE KEY table_version_seq (table_id, version, seq_no),\n\t\tKEY table_create_time (table_id, create_time, seq_no),\n    \tKEY idx_create_time (create_time)\n\t);"]
[2024/05/15 17:15:13.933 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=61] [category=ddl] [job="ID:61, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:60, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:13.929 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:13.935 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=29] [neededSchemaVersion=30] ["start time"=258.583s] [gotSchemaVersion=30] [phyTblIDs="[60]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:15:13.936 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:15:13.936 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=61] [version=30]
[2024/05/15 17:15:13.937 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=30] ["take time"=2.008959ms] [job="ID:61, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:60, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:13.929 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:13.941 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=61] [job="ID:61, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:60, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:13.929 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:13.942 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=61]
[2024/05/15 17:15:13.942 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:15:13.942 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=30] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_meta_history (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tmodify_count bigint(64) NOT NULL,\n\t\tcount bigint(64) NOT NULL,\n\t\tversion bigint(64) NOT NULL comment 'stats version which corresponding to stats:version in EXPLAIN',\n    \tsource varchar(40) NOT NULL,\n\t\tcreate_time datetime(6) NOT NULL,\n\t\tUNIQUE KEY table_version (table_id, version),\n\t\tKEY table_create_time (table_id, create_time),\n    \tKEY idx_create_time (create_time)\n\t);"] [user=]
[2024/05/15 17:15:13.943 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:63, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:62, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:13.943 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:15:13.943 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:63, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:62, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:13.943 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_meta_history (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tmodify_count bigint(64) NOT NULL,\n\t\tcount bigint(64) NOT NULL,\n\t\tversion bigint(64) NOT NULL comment 'stats version which corresponding to stats:version in EXPLAIN',\n    \tsource varchar(40) NOT NULL,\n\t\tcreate_time datetime(6) NOT NULL,\n\t\tUNIQUE KEY table_version (table_id, version),\n\t\tKEY table_create_time (table_id, create_time),\n    \tKEY idx_create_time (create_time)\n\t);"]
[2024/05/15 17:15:13.947 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=63] [category=ddl] [job="ID:63, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:62, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:13.943 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:13.949 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=30] [neededSchemaVersion=31] ["start time"=272.292s] [gotSchemaVersion=31] [phyTblIDs="[62]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:15:13.949 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:15:13.949 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=63] [version=31]
[2024/05/15 17:15:13.951 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=31] ["take time"=2.008667ms] [job="ID:63, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:62, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:13.943 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:13.954 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=63] [job="ID:63, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:62, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:13.943 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:13.956 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=63]
[2024/05/15 17:15:13.956 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:15:13.956 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=31] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.analyze_jobs (\n\t\tid BIGINT(64) UNSIGNED NOT NULL AUTO_INCREMENT,\n\t\tupdate_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\ttable_schema CHAR(64) NOT NULL DEFAULT '',\n\t\ttable_name CHAR(64) NOT NULL DEFAULT '',\n\t\tpartition_name CHAR(64) NOT NULL DEFAULT '',\n\t\tjob_info TEXT NOT NULL,\n\t\tprocessed_rows BIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tstart_time TIMESTAMP,\n\t\tend_time TIMESTAMP,\n\t\tstate ENUM('pending', 'running', 'finished', 'failed') NOT NULL,\n\t\tfail_reason TEXT,\n\t\tinstance VARCHAR(512) NOT NULL comment 'address of the TiDB instance executing the analyze job',\n\t\tprocess_id BIGINT(64) UNSIGNED comment 'ID of the process executing the analyze job',\n\t\tPRIMARY KEY (id),\n\t\tKEY (update_time)\n\t);"] [user=]
[2024/05/15 17:15:13.957 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:65, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:64, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:13.957 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:15:13.957 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:65, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:64, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:13.957 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.analyze_jobs (\n\t\tid BIGINT(64) UNSIGNED NOT NULL AUTO_INCREMENT,\n\t\tupdate_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\ttable_schema CHAR(64) NOT NULL DEFAULT '',\n\t\ttable_name CHAR(64) NOT NULL DEFAULT '',\n\t\tpartition_name CHAR(64) NOT NULL DEFAULT '',\n\t\tjob_info TEXT NOT NULL,\n\t\tprocessed_rows BIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tstart_time TIMESTAMP,\n\t\tend_time TIMESTAMP,\n\t\tstate ENUM('pending', 'running', 'finished', 'failed') NOT NULL,\n\t\tfail_reason TEXT,\n\t\tinstance VARCHAR(512) NOT NULL comment 'address of the TiDB instance executing the analyze job',\n\t\tprocess_id BIGINT(64) UNSIGNED comment 'ID of the process executing the analyze job',\n\t\tPRIMARY KEY (id),\n\t\tKEY (update_time)\n\t);"]
[2024/05/15 17:15:13.961 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=65] [category=ddl] [job="ID:65, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:64, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:13.957 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:13.963 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=31] [neededSchemaVersion=32] ["start time"=332.916s] [gotSchemaVersion=32] [phyTblIDs="[64]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:15:13.964 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:15:13.964 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=65] [version=32]
[2024/05/15 17:15:13.965 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=32] ["take time"=2.062375ms] [job="ID:65, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:64, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:13.957 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:13.969 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=65] [job="ID:65, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:64, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:13.957 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:13.971 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=65]
[2024/05/15 17:15:13.971 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:15:13.971 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=32] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.advisory_locks (\n\t\tlock_name VARCHAR(64) NOT NULL PRIMARY KEY\n\t);"] [user=]
[2024/05/15 17:15:13.972 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:67, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:66, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:13.972 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:15:13.972 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:67, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:66, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:13.972 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.advisory_locks (\n\t\tlock_name VARCHAR(64) NOT NULL PRIMARY KEY\n\t);"]
[2024/05/15 17:15:13.976 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=67] [category=ddl] [job="ID:67, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:66, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:13.972 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:13.977 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=32] [neededSchemaVersion=33] ["start time"=154.167s] [gotSchemaVersion=33] [phyTblIDs="[66]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:15:13.978 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:15:13.978 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=67] [version=33]
[2024/05/15 17:15:13.979 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=33] ["take time"=2.488292ms] [job="ID:67, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:66, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:13.972 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:13.983 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=67] [job="ID:67, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:66, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:13.972 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:13.985 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=67]
[2024/05/15 17:15:13.985 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:15:13.987 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:69, Type:create view, State:queueing, SchemaState:none, SchemaID:1, TableID:68, RowCount:0, ArgLen:3, start time: 2024-05-15 17:15:13.986 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:15:13.987 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:69, Type:create view, State:queueing, SchemaState:none, SchemaID:1, TableID:68, RowCount:0, ArgLen:3, start time: 2024-05-15 17:15:13.986 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE OR REPLACE VIEW mysql.tidb_mdl_view as (\n\t\tSELECT tidb_mdl_info.job_id,\n\t\t\tJSON_UNQUOTE(JSON_EXTRACT(cast(cast(job_meta as char) as json), \"$.schema_name\")) as db_name,\n\t\t\tJSON_UNQUOTE(JSON_EXTRACT(cast(cast(job_meta as char) as json), \"$.table_name\")) as table_name,\n\t\t\tJSON_UNQUOTE(JSON_EXTRACT(cast(cast(job_meta as char) as json), \"$.query\")) as query,\n\t\t\tsession_id,\n\t\t\tcluster_tidb_trx.start_time,\n\t\t\ttidb_decode_sql_digests(all_sql_digests, 4096) AS SQL_DIGESTS\n\t\tFROM mysql.tidb_ddl_job,\n\t\t\tmysql.tidb_mdl_info,\n\t\t\tinformation_schema.cluster_tidb_trx\n\t\tWHERE tidb_ddl_job.job_id=tidb_mdl_info.job_id\n\t\t\tAND CONCAT(',', tidb_mdl_info.table_ids, ',') REGEXP CONCAT(',(', REPLACE(cluster_tidb_trx.related_table_ids, ',', '|'), '),') != 0\n\t);"]
[2024/05/15 17:15:13.990 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=69] [category=ddl] [job="ID:69, Type:create view, State:queueing, SchemaState:none, SchemaID:1, TableID:68, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:13.986 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:13.992 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=33] [neededSchemaVersion=34] ["start time"=236.917s] [gotSchemaVersion=34] [phyTblIDs="[68]"] [actionTypes="[21]"] [diffTypes="[\"create view\"]"]
[2024/05/15 17:15:13.993 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:15:13.993 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=69] [version=34]
[2024/05/15 17:15:13.994 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=34] ["take time"=2.02175ms] [job="ID:69, Type:create view, State:done, SchemaState:public, SchemaID:1, TableID:68, RowCount:0, ArgLen:3, start time: 2024-05-15 17:15:13.986 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:14.000 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=69] [job="ID:69, Type:create view, State:synced, SchemaState:public, SchemaID:1, TableID:68, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:13.986 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:14.003 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=69]
[2024/05/15 17:15:14.003 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:15:14.003 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=34] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.plan_replayer_status (\n\t\tsql_digest VARCHAR(128),\n\t\tplan_digest VARCHAR(128),\n\t\torigin_sql TEXT,\n\t\ttoken VARCHAR(128),\n\t\tupdate_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\tfail_reason TEXT,\n\t\tinstance VARCHAR(512) NOT NULL comment 'address of the TiDB instance executing the plan replayer job');"] [user=]
[2024/05/15 17:15:14.005 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:71, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:70, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:14.004 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:15:14.005 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:71, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:70, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:14.004 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.plan_replayer_status (\n\t\tsql_digest VARCHAR(128),\n\t\tplan_digest VARCHAR(128),\n\t\torigin_sql TEXT,\n\t\ttoken VARCHAR(128),\n\t\tupdate_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\tfail_reason TEXT,\n\t\tinstance VARCHAR(512) NOT NULL comment 'address of the TiDB instance executing the plan replayer job');"]
[2024/05/15 17:15:14.012 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=71] [category=ddl] [job="ID:71, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:70, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:14.004 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:14.015 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=34] [neededSchemaVersion=35] ["start time"=345.042s] [gotSchemaVersion=35] [phyTblIDs="[70]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:15:14.017 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:15:14.017 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=71] [version=35]
[2024/05/15 17:15:14.019 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=35] ["take time"=4.404666ms] [job="ID:71, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:70, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:14.004 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:14.027 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=71] [job="ID:71, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:70, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:14.004 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:14.029 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=71]
[2024/05/15 17:15:14.029 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:15:14.029 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=35] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.plan_replayer_task (\n\t\tsql_digest VARCHAR(128) NOT NULL,\n\t\tplan_digest VARCHAR(128) NOT NULL,\n\t\tupdate_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\tPRIMARY KEY (sql_digest,plan_digest));"] [user=]
[2024/05/15 17:15:14.033 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:73, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:72, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:14.03 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:15:14.033 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:73, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:72, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:14.03 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.plan_replayer_task (\n\t\tsql_digest VARCHAR(128) NOT NULL,\n\t\tplan_digest VARCHAR(128) NOT NULL,\n\t\tupdate_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\tPRIMARY KEY (sql_digest,plan_digest));"]
[2024/05/15 17:15:14.037 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=73] [category=ddl] [job="ID:73, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:72, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:14.03 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:14.039 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=35] [neededSchemaVersion=36] ["start time"=193.583s] [gotSchemaVersion=36] [phyTblIDs="[72]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:15:14.039 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:15:14.039 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=73] [version=36]
[2024/05/15 17:15:14.040 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=36] ["take time"=2.0145ms] [job="ID:73, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:72, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:14.03 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:14.044 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=73] [job="ID:73, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:72, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:14.03 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:14.046 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=73]
[2024/05/15 17:15:14.046 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:15:14.046 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=36] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_table_locked(\n\t\ttable_id bigint(64) NOT NULL,\n\t\tmodify_count bigint(64) NOT NULL DEFAULT 0,\n\t\tcount bigint(64) NOT NULL DEFAULT 0,\n\t\tversion bigint(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tPRIMARY KEY (table_id));"] [user=]
[2024/05/15 17:15:14.047 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:75, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:74, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:14.047 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:15:14.047 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:75, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:74, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:14.047 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_table_locked(\n\t\ttable_id bigint(64) NOT NULL,\n\t\tmodify_count bigint(64) NOT NULL DEFAULT 0,\n\t\tcount bigint(64) NOT NULL DEFAULT 0,\n\t\tversion bigint(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tPRIMARY KEY (table_id));"]
[2024/05/15 17:15:14.051 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=75] [category=ddl] [job="ID:75, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:74, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:14.047 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:14.052 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=36] [neededSchemaVersion=37] ["start time"=178.875s] [gotSchemaVersion=37] [phyTblIDs="[74]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:15:14.053 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:15:14.053 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=75] [version=37]
[2024/05/15 17:15:14.054 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=37] ["take time"=2.036625ms] [job="ID:75, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:74, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:14.047 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:14.058 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=75] [job="ID:75, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:74, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:14.047 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:14.060 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=75]
[2024/05/15 17:15:14.060 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:15:14.060 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=37] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_ttl_table_status (\n\t\ttable_id bigint(64) PRIMARY KEY,\n        parent_table_id bigint(64),\n        table_statistics text DEFAULT NULL,\n\t\tlast_job_id varchar(64) DEFAULT NULL,\n\t\tlast_job_start_time timestamp NULL DEFAULT NULL,\n\t\tlast_job_finish_time timestamp NULL DEFAULT NULL,\n\t\tlast_job_ttl_expire timestamp NULL DEFAULT NULL,\n        last_job_summary text DEFAULT NULL,\n\t\tcurrent_job_id varchar(64) DEFAULT NULL,\n\t\tcurrent_job_owner_id varchar(64) DEFAULT NULL,\n\t\tcurrent_job_owner_addr varchar(256) DEFAULT NULL,\n\t\tcurrent_job_owner_hb_time timestamp,\n\t\tcurrent_job_start_time timestamp NULL DEFAULT NULL,\n\t\tcurrent_job_ttl_expire timestamp NULL DEFAULT NULL,\n\t\tcurrent_job_state text DEFAULT NULL,\n\t\tcurrent_job_status varchar(64) DEFAULT NULL,\n  \t\tcurrent_job_status_update_time timestamp NULL DEFAULT NULL);"] [user=]
[2024/05/15 17:15:14.061 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:77, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:76, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:14.06 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:15:14.061 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:77, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:76, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:14.06 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_ttl_table_status (\n\t\ttable_id bigint(64) PRIMARY KEY,\n        parent_table_id bigint(64),\n        table_statistics text DEFAULT NULL,\n\t\tlast_job_id varchar(64) DEFAULT NULL,\n\t\tlast_job_start_time timestamp NULL DEFAULT NULL,\n\t\tlast_job_finish_time timestamp NULL DEFAULT NULL,\n\t\tlast_job_ttl_expire timestamp NULL DEFAULT NULL,\n        last_job_summary text DEFAULT NULL,\n\t\tcurrent_job_id varchar(64) DEFAULT NULL,\n\t\tcurrent_job_owner_id varchar(64) DEFAULT NULL,\n\t\tcurrent_job_owner_addr varchar(256) DEFAULT NULL,\n\t\tcurrent_job_owner_hb_time timestamp,\n\t\tcurrent_job_start_time timestamp NULL DEFAULT NULL,\n\t\tcurrent_job_ttl_expire timestamp NULL DEFAULT NULL,\n\t\tcurrent_job_state text DEFAULT NULL,\n\t\tcurrent_job_status varchar(64) DEFAULT NULL,\n  \t\tcurrent_job_status_update_time timestamp NULL DEFAULT NULL);"]
[2024/05/15 17:15:14.065 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=77] [category=ddl] [job="ID:77, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:76, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:14.06 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:14.067 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=37] [neededSchemaVersion=38] ["start time"=370.791s] [gotSchemaVersion=38] [phyTblIDs="[76]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:15:14.068 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:15:14.068 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=77] [version=38]
[2024/05/15 17:15:14.069 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=38] ["take time"=2.006709ms] [job="ID:77, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:76, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:14.06 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:14.073 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=77] [job="ID:77, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:76, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:14.06 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:14.075 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=77]
[2024/05/15 17:15:14.075 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:15:14.075 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=38] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_ttl_task (\n\t\tjob_id varchar(64) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tscan_id int NOT NULL,\n\t\tscan_range_start BLOB,\n\t\tscan_range_end BLOB,\n\t\texpire_time timestamp NOT NULL,\n\t\towner_id varchar(64) DEFAULT NULL,\n\t\towner_addr varchar(64) DEFAULT NULL,\n\t\towner_hb_time timestamp DEFAULT NULL,\n\t\tstatus varchar(64) DEFAULT 'waiting',\n\t\tstatus_update_time timestamp NULL DEFAULT NULL,\n\t\tstate text,\n\t\tcreated_time timestamp NOT NULL,\n\t\tprimary key(job_id, scan_id),\n\t\tkey(created_time));"] [user=]
[2024/05/15 17:15:14.077 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:79, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:78, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:14.076 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:15:14.077 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:79, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:78, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:14.076 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_ttl_task (\n\t\tjob_id varchar(64) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tscan_id int NOT NULL,\n\t\tscan_range_start BLOB,\n\t\tscan_range_end BLOB,\n\t\texpire_time timestamp NOT NULL,\n\t\towner_id varchar(64) DEFAULT NULL,\n\t\towner_addr varchar(64) DEFAULT NULL,\n\t\towner_hb_time timestamp DEFAULT NULL,\n\t\tstatus varchar(64) DEFAULT 'waiting',\n\t\tstatus_update_time timestamp NULL DEFAULT NULL,\n\t\tstate text,\n\t\tcreated_time timestamp NOT NULL,\n\t\tprimary key(job_id, scan_id),\n\t\tkey(created_time));"]
[2024/05/15 17:15:14.080 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=79] [category=ddl] [job="ID:79, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:78, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:14.076 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:14.083 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=38] [neededSchemaVersion=39] ["start time"=368.458s] [gotSchemaVersion=39] [phyTblIDs="[78]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:15:14.083 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:15:14.083 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=79] [version=39]
[2024/05/15 17:15:14.084 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=39] ["take time"=2.074792ms] [job="ID:79, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:78, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:14.076 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:14.088 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=79] [job="ID:79, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:78, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:14.076 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:14.090 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=79]
[2024/05/15 17:15:14.090 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:15:14.090 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=39] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_ttl_job_history (\n\t\tjob_id varchar(64) PRIMARY KEY,\n\t\ttable_id bigint(64) NOT NULL,\n        parent_table_id bigint(64) NOT NULL,\n    \ttable_schema varchar(64) NOT NULL,\n\t\ttable_name varchar(64) NOT NULL,\n    \tpartition_name varchar(64) DEFAULT NULL,\n\t\tcreate_time timestamp NOT NULL,\n\t\tfinish_time timestamp NOT NULL,\n\t\tttl_expire timestamp NOT NULL,\n        summary_text text,\n\t\texpired_rows bigint(64) DEFAULT NULL,\n    \tdeleted_rows bigint(64) DEFAULT NULL,\n    \terror_delete_rows bigint(64) DEFAULT NULL,\n    \tstatus varchar(64) NOT NULL,\n    \tkey(table_schema, table_name, create_time),\n    \tkey(parent_table_id, create_time),\n    \tkey(create_time)\n\t);"] [user=]
[2024/05/15 17:15:14.092 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:81, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:80, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:14.091 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:15:14.092 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:81, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:80, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:14.091 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_ttl_job_history (\n\t\tjob_id varchar(64) PRIMARY KEY,\n\t\ttable_id bigint(64) NOT NULL,\n        parent_table_id bigint(64) NOT NULL,\n    \ttable_schema varchar(64) NOT NULL,\n\t\ttable_name varchar(64) NOT NULL,\n    \tpartition_name varchar(64) DEFAULT NULL,\n\t\tcreate_time timestamp NOT NULL,\n\t\tfinish_time timestamp NOT NULL,\n\t\tttl_expire timestamp NOT NULL,\n        summary_text text,\n\t\texpired_rows bigint(64) DEFAULT NULL,\n    \tdeleted_rows bigint(64) DEFAULT NULL,\n    \terror_delete_rows bigint(64) DEFAULT NULL,\n    \tstatus varchar(64) NOT NULL,\n    \tkey(table_schema, table_name, create_time),\n    \tkey(parent_table_id, create_time),\n    \tkey(create_time)\n\t);"]
[2024/05/15 17:15:14.095 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=81] [category=ddl] [job="ID:81, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:80, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:14.091 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:14.097 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=39] [neededSchemaVersion=40] ["start time"=396.75s] [gotSchemaVersion=40] [phyTblIDs="[80]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:15:14.098 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:15:14.098 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=81] [version=40]
[2024/05/15 17:15:14.099 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=40] ["take time"=2.093333ms] [job="ID:81, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:80, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:14.091 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:14.103 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=81] [job="ID:81, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:80, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:14.091 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:14.106 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=81]
[2024/05/15 17:15:14.106 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:15:14.106 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=40] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_global_task (\n\t\tid BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n    \ttask_key VARCHAR(256) NOT NULL,\n\t\ttype VARCHAR(256) NOT NULL,\n\t\tdispatcher_id VARCHAR(261),\n\t\tstate VARCHAR(64) NOT NULL,\n\t\tpriority INT DEFAULT 1,\n\t\tcreate_time TIMESTAMP,\n\t\tstart_time TIMESTAMP,\n\t\tstate_update_time TIMESTAMP,\n\t\tend_time TIMESTAMP,\n\t\tmeta LONGBLOB,\n\t\tconcurrency INT(11),\n\t\tstep INT(11),\n\t\ttarget_scope VARCHAR(256) DEFAULT \"\",\n\t\terror BLOB,\n\t\tkey(state),\n      \tUNIQUE KEY task_key(task_key)\n\t);"] [user=]
[2024/05/15 17:15:14.108 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:83, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:82, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:14.107 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:15:14.108 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:83, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:82, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:14.107 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_global_task (\n\t\tid BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n    \ttask_key VARCHAR(256) NOT NULL,\n\t\ttype VARCHAR(256) NOT NULL,\n\t\tdispatcher_id VARCHAR(261),\n\t\tstate VARCHAR(64) NOT NULL,\n\t\tpriority INT DEFAULT 1,\n\t\tcreate_time TIMESTAMP,\n\t\tstart_time TIMESTAMP,\n\t\tstate_update_time TIMESTAMP,\n\t\tend_time TIMESTAMP,\n\t\tmeta LONGBLOB,\n\t\tconcurrency INT(11),\n\t\tstep INT(11),\n\t\ttarget_scope VARCHAR(256) DEFAULT \"\",\n\t\terror BLOB,\n\t\tkey(state),\n      \tUNIQUE KEY task_key(task_key)\n\t);"]
[2024/05/15 17:15:14.111 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=83] [category=ddl] [job="ID:83, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:82, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:14.107 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:14.113 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=40] [neededSchemaVersion=41] ["start time"=394.875s] [gotSchemaVersion=41] [phyTblIDs="[82]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:15:14.114 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:15:14.114 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=83] [version=41]
[2024/05/15 17:15:14.116 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=41] ["take time"=2.61875ms] [job="ID:83, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:82, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:14.107 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:14.119 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=83] [job="ID:83, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:82, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:14.107 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:14.121 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=83]
[2024/05/15 17:15:14.121 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:15:14.122 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=41] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_global_task_history (\n\t\tid BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n    \ttask_key VARCHAR(256) NOT NULL,\n\t\ttype VARCHAR(256) NOT NULL,\n\t\tdispatcher_id VARCHAR(261),\n\t\tstate VARCHAR(64) NOT NULL,\n\t\tpriority INT DEFAULT 1,\n\t\tcreate_time TIMESTAMP,\n\t\tstart_time TIMESTAMP,\n\t\tstate_update_time TIMESTAMP,\n\t\tend_time TIMESTAMP,\n\t\tmeta LONGBLOB,\n\t\tconcurrency INT(11),\n\t\tstep INT(11),\n\t\ttarget_scope VARCHAR(256) DEFAULT \"\",\n\t\terror BLOB,\n\t\tkey(state),\n      \tUNIQUE KEY task_key(task_key)\n\t);"] [user=]
[2024/05/15 17:15:14.123 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:85, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:84, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:14.123 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:15:14.124 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:85, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:84, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:14.123 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_global_task_history (\n\t\tid BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n    \ttask_key VARCHAR(256) NOT NULL,\n\t\ttype VARCHAR(256) NOT NULL,\n\t\tdispatcher_id VARCHAR(261),\n\t\tstate VARCHAR(64) NOT NULL,\n\t\tpriority INT DEFAULT 1,\n\t\tcreate_time TIMESTAMP,\n\t\tstart_time TIMESTAMP,\n\t\tstate_update_time TIMESTAMP,\n\t\tend_time TIMESTAMP,\n\t\tmeta LONGBLOB,\n\t\tconcurrency INT(11),\n\t\tstep INT(11),\n\t\ttarget_scope VARCHAR(256) DEFAULT \"\",\n\t\terror BLOB,\n\t\tkey(state),\n      \tUNIQUE KEY task_key(task_key)\n\t);"]
[2024/05/15 17:15:14.127 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=85] [category=ddl] [job="ID:85, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:84, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:14.123 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:14.129 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=41] [neededSchemaVersion=42] ["start time"=385.917s] [gotSchemaVersion=42] [phyTblIDs="[84]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:15:14.130 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:15:14.130 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=85] [version=42]
[2024/05/15 17:15:14.131 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=42] ["take time"=2.392792ms] [job="ID:85, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:84, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:14.123 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:14.135 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=85] [job="ID:85, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:84, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:14.123 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:14.137 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=85]
[2024/05/15 17:15:14.137 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:15:14.137 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=42] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_import_jobs (\n\t\tid bigint(64) NOT NULL AUTO_INCREMENT,\n\t\tcreate_time TIMESTAMP(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6),\n\t\tstart_time TIMESTAMP(6) NULL DEFAULT NULL,\n\t\tupdate_time TIMESTAMP(6) NULL DEFAULT NULL,\n\t\tend_time TIMESTAMP(6) NULL DEFAULT NULL,\n\t\ttable_schema VARCHAR(64) NOT NULL,\n\t\ttable_name VARCHAR(64) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tcreated_by VARCHAR(300) NOT NULL,\n\t\tparameters text NOT NULL,\n\t\tsource_file_size bigint(64) NOT NULL,\n\t\tstatus VARCHAR(64) NOT NULL,\n\t\tstep VARCHAR(64) NOT NULL,\n\t\tsummary text DEFAULT NULL,\n\t\terror_message TEXT DEFAULT NULL,\n\t\tPRIMARY KEY (id),\n\t\tKEY (created_by),\n\t\tKEY (status));"] [user=]
[2024/05/15 17:15:14.139 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:87, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:86, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:14.138 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:15:14.139 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:87, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:86, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:14.138 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_import_jobs (\n\t\tid bigint(64) NOT NULL AUTO_INCREMENT,\n\t\tcreate_time TIMESTAMP(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6),\n\t\tstart_time TIMESTAMP(6) NULL DEFAULT NULL,\n\t\tupdate_time TIMESTAMP(6) NULL DEFAULT NULL,\n\t\tend_time TIMESTAMP(6) NULL DEFAULT NULL,\n\t\ttable_schema VARCHAR(64) NOT NULL,\n\t\ttable_name VARCHAR(64) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tcreated_by VARCHAR(300) NOT NULL,\n\t\tparameters text NOT NULL,\n\t\tsource_file_size bigint(64) NOT NULL,\n\t\tstatus VARCHAR(64) NOT NULL,\n\t\tstep VARCHAR(64) NOT NULL,\n\t\tsummary text DEFAULT NULL,\n\t\terror_message TEXT DEFAULT NULL,\n\t\tPRIMARY KEY (id),\n\t\tKEY (created_by),\n\t\tKEY (status));"]
[2024/05/15 17:15:14.143 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=87] [category=ddl] [job="ID:87, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:86, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:14.138 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:14.146 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=42] [neededSchemaVersion=43] ["start time"=388.792s] [gotSchemaVersion=43] [phyTblIDs="[86]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:15:14.146 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:15:14.146 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=87] [version=43]
[2024/05/15 17:15:14.147 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=43] ["take time"=2.153125ms] [job="ID:87, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:86, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:14.138 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:14.152 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=87] [job="ID:87, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:86, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:14.138 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:14.154 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=87]
[2024/05/15 17:15:14.154 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:15:14.154 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=43] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_runaway_watch (\n\t\tid BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n\t\tresource_group_name varchar(32) not null,\n\t\tstart_time datetime(6) NOT NULL,\n\t\tend_time datetime(6),\n\t\twatch bigint(10) NOT NULL,\n\t\twatch_text TEXT NOT NULL,\n\t\tsource varchar(512) NOT NULL,\n\t\taction bigint(10),\n\t\tINDEX sql_index(resource_group_name,watch_text(700)) COMMENT \"accelerate the speed when select quarantined query\",\n\t\tINDEX time_index(end_time) COMMENT \"accelerate the speed when querying with active watch\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"] [user=]
[2024/05/15 17:15:14.156 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:89, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:88, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:14.155 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:15:14.156 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:89, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:88, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:14.155 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_runaway_watch (\n\t\tid BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n\t\tresource_group_name varchar(32) not null,\n\t\tstart_time datetime(6) NOT NULL,\n\t\tend_time datetime(6),\n\t\twatch bigint(10) NOT NULL,\n\t\twatch_text TEXT NOT NULL,\n\t\tsource varchar(512) NOT NULL,\n\t\taction bigint(10),\n\t\tINDEX sql_index(resource_group_name,watch_text(700)) COMMENT \"accelerate the speed when select quarantined query\",\n\t\tINDEX time_index(end_time) COMMENT \"accelerate the speed when querying with active watch\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"]
[2024/05/15 17:15:14.159 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=89] [category=ddl] [job="ID:89, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:88, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:14.155 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:14.161 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=43] [neededSchemaVersion=44] ["start time"=305.416s] [gotSchemaVersion=44] [phyTblIDs="[88]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:15:14.162 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:15:14.162 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=89] [version=44]
[2024/05/15 17:15:14.164 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=44] ["take time"=2.720625ms] [job="ID:89, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:88, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:14.155 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:14.168 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=89] [job="ID:89, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:88, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:14.155 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:14.173 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=89]
[2024/05/15 17:15:14.173 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:15:14.173 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=44] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_runaway_queries (\n\t\tresource_group_name varchar(32) not null,\n\t\ttime TIMESTAMP NOT NULL,\n\t\tmatch_type varchar(12) NOT NULL,\n\t\taction varchar(12) NOT NULL,\n\t\toriginal_sql TEXT NOT NULL,\n\t\tplan_digest TEXT NOT NULL,\n\t\ttidb_server varchar(512),\n\t\tINDEX plan_index(plan_digest(64)) COMMENT \"accelerate the speed when select runaway query\",\n\t\tINDEX time_index(time) COMMENT \"accelerate the speed when querying with active watch\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"] [user=]
[2024/05/15 17:15:14.175 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:91, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:90, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:14.174 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:15:14.175 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:91, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:90, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:14.174 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_runaway_queries (\n\t\tresource_group_name varchar(32) not null,\n\t\ttime TIMESTAMP NOT NULL,\n\t\tmatch_type varchar(12) NOT NULL,\n\t\taction varchar(12) NOT NULL,\n\t\toriginal_sql TEXT NOT NULL,\n\t\tplan_digest TEXT NOT NULL,\n\t\ttidb_server varchar(512),\n\t\tINDEX plan_index(plan_digest(64)) COMMENT \"accelerate the speed when select runaway query\",\n\t\tINDEX time_index(time) COMMENT \"accelerate the speed when querying with active watch\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"]
[2024/05/15 17:15:14.180 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=91] [category=ddl] [job="ID:91, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:90, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:14.174 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:14.182 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=44] [neededSchemaVersion=45] ["start time"=273.333s] [gotSchemaVersion=45] [phyTblIDs="[90]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:15:14.183 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:15:14.183 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=91] [version=45]
[2024/05/15 17:15:14.184 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=45] ["take time"=2.240333ms] [job="ID:91, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:90, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:14.174 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:14.191 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=91] [job="ID:91, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:90, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:14.174 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:14.195 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=91]
[2024/05/15 17:15:14.195 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:15:14.195 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=45] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS `mysql`.`tidb_timers` (\n\t\tID BIGINT(64) UNSIGNED NOT NULL AUTO_INCREMENT,\n\t\tNAMESPACE VARCHAR(256) NOT NULL,\n\t\tTIMER_KEY VARCHAR(256) NOT NULL,\n\t\tTIMER_DATA BLOB,\n\t\tTIMEZONE VARCHAR(64) NOT NULL,\n\t\tSCHED_POLICY_TYPE VARCHAR(32) NOT NULL,\n\t\tSCHED_POLICY_EXPR VARCHAR(256) NOT NULL,\n\t\tHOOK_CLASS VARCHAR(64) NOT NULL,\n\t\tWATERMARK TIMESTAMP DEFAULT NULL,\n\t\tENABLE TINYINT(2) NOT NULL,\n\t\tTIMER_EXT JSON NOT NULL,\n\t\tEVENT_STATUS VARCHAR(32) NOT NULL,\n\t\tEVENT_ID VARCHAR(64) NOT NULL,\n\t\tEVENT_DATA BLOB,\n\t\tEVENT_START TIMESTAMP DEFAULT NULL,\n\t\tSUMMARY_DATA BLOB,\n\t\tCREATE_TIME TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,\n\t\tUPDATE_TIME TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\tVERSION BIGINT(64) UNSIGNED NOT NULL,\n\t\tPRIMARY KEY (ID),\n\t\tUNIQUE KEY timer_key(NAMESPACE, TIMER_KEY),\n\t\tKEY hook_class(HOOK_CLASS)\n\t)"] [user=]
[2024/05/15 17:15:14.199 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:93, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:92, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:14.197 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:15:14.199 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:93, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:92, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:14.197 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS `mysql`.`tidb_timers` (\n\t\tID BIGINT(64) UNSIGNED NOT NULL AUTO_INCREMENT,\n\t\tNAMESPACE VARCHAR(256) NOT NULL,\n\t\tTIMER_KEY VARCHAR(256) NOT NULL,\n\t\tTIMER_DATA BLOB,\n\t\tTIMEZONE VARCHAR(64) NOT NULL,\n\t\tSCHED_POLICY_TYPE VARCHAR(32) NOT NULL,\n\t\tSCHED_POLICY_EXPR VARCHAR(256) NOT NULL,\n\t\tHOOK_CLASS VARCHAR(64) NOT NULL,\n\t\tWATERMARK TIMESTAMP DEFAULT NULL,\n\t\tENABLE TINYINT(2) NOT NULL,\n\t\tTIMER_EXT JSON NOT NULL,\n\t\tEVENT_STATUS VARCHAR(32) NOT NULL,\n\t\tEVENT_ID VARCHAR(64) NOT NULL,\n\t\tEVENT_DATA BLOB,\n\t\tEVENT_START TIMESTAMP DEFAULT NULL,\n\t\tSUMMARY_DATA BLOB,\n\t\tCREATE_TIME TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,\n\t\tUPDATE_TIME TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\tVERSION BIGINT(64) UNSIGNED NOT NULL,\n\t\tPRIMARY KEY (ID),\n\t\tUNIQUE KEY timer_key(NAMESPACE, TIMER_KEY),\n\t\tKEY hook_class(HOOK_CLASS)\n\t)"]
[2024/05/15 17:15:14.207 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=93] [category=ddl] [job="ID:93, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:92, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:14.197 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:14.213 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=45] [neededSchemaVersion=46] ["start time"=710.542s] [gotSchemaVersion=46] [phyTblIDs="[92]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:15:14.214 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:15:14.214 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=93] [version=46]
[2024/05/15 17:15:14.217 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=46] ["take time"=4.663125ms] [job="ID:93, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:92, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:14.197 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:14.225 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=93] [job="ID:93, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:92, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:14.197 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:14.230 +08:00] [WARN] [runaway.go:166] ["failed to start runaway manager loop, please check whether the bootstrap or update is finished"] [error="[schema:1146]Table 'mysql.tidb_runaway_watch_done' doesn't exist"] [errorVerbose="[schema:1146]Table 'mysql.tidb_runaway_watch_done' doesn't exist\ngithub.com/pingcap/errors.AddStack\n\t/Users/bba/.gvm/pkgsets/go1.21.0/global/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20240318064555-6bd07397691f/errors.go:178\ngithub.com/pingcap/errors.Trace\n\t/Users/bba/.gvm/pkgsets/go1.21.0/global/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20240318064555-6bd07397691f/juju_adaptor.go:15\ngithub.com/pingcap/tidb/pkg/planner/core.Preprocess\n\t/Users/bba/pc/tidb/pkg/planner/core/preprocess.go:141\ngithub.com/pingcap/tidb/pkg/executor.(*Compiler).Compile\n\t/Users/bba/pc/tidb/pkg/executor/compiler.go:67\ngithub.com/pingcap/tidb/pkg/session.(*session).ExecuteStmt\n\t/Users/bba/pc/tidb/pkg/session/session.go:2094\ngithub.com/pingcap/tidb/pkg/session.(*session).ExecuteInternalStmt\n\t/Users/bba/pc/tidb/pkg/session/session.go:1998\ngithub.com/pingcap/tidb/pkg/session.(*session).ExecRestrictedSQL.func1\n\t/Users/bba/pc/tidb/pkg/session/session.go:1963\ngithub.com/pingcap/tidb/pkg/session.(*session).withRestrictedSQLExecutor\n\t/Users/bba/pc/tidb/pkg/session/session.go:1949\ngithub.com/pingcap/tidb/pkg/session.(*session).ExecRestrictedSQL\n\t/Users/bba/pc/tidb/pkg/session/session.go:1953\ngithub.com/pingcap/tidb/pkg/domain.(*SystemTableReader).Read\n\t/Users/bba/pc/tidb/pkg/domain/runaway.go:655\ngithub.com/pingcap/tidb/pkg/domain.getRunawayWatchDoneRecord\n\t/Users/bba/pc/tidb/pkg/domain/runaway.go:582\ngithub.com/pingcap/tidb/pkg/domain.(*runawaySyncer).getWatchDoneRecord\n\t/Users/bba/pc/tidb/pkg/domain/runaway.go:539\ngithub.com/pingcap/tidb/pkg/domain.(*runawaySyncer).getNewWatchDoneRecords\n\t/Users/bba/pc/tidb/pkg/domain/runaway.go:513\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).updateNewAndDoneWatch\n\t/Users/bba/pc/tidb/pkg/domain/runaway.go:184\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).runawayStartLoop\n\t/Users/bba/pc/tidb/pkg/domain/runaway.go:156\ngithub.com/pingcap/tidb/pkg/util.(*WaitGroupEnhancedWrapper).Run.func1\n\t/Users/bba/pc/tidb/pkg/util/wait_group_wrapper.go:99\nruntime.goexit\n\t/Users/bba/.gvm/gos/go1.21.0/src/runtime/asm_arm64.s:1197"]
[2024/05/15 17:15:14.232 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=93]
[2024/05/15 17:15:14.232 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:15:14.232 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=46] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_runaway_watch_done (\n\t\tid BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n\t\trecord_id BIGINT(20) not null,\n\t\tresource_group_name varchar(32) not null,\n\t\tstart_time datetime(6) NOT NULL,\n\t\tend_time datetime(6),\n\t\twatch bigint(10) NOT NULL,\n\t\twatch_text TEXT NOT NULL,\n\t\tsource varchar(512) NOT NULL,\n\t\taction bigint(10),\n\t\tdone_time TIMESTAMP(6) NOT NULL\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"] [user=]
[2024/05/15 17:15:14.233 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:95, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:94, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:14.233 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:15:14.233 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:95, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:94, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:14.233 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_runaway_watch_done (\n\t\tid BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n\t\trecord_id BIGINT(20) not null,\n\t\tresource_group_name varchar(32) not null,\n\t\tstart_time datetime(6) NOT NULL,\n\t\tend_time datetime(6),\n\t\twatch bigint(10) NOT NULL,\n\t\twatch_text TEXT NOT NULL,\n\t\tsource varchar(512) NOT NULL,\n\t\taction bigint(10),\n\t\tdone_time TIMESTAMP(6) NOT NULL\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"]
[2024/05/15 17:15:14.238 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=95] [category=ddl] [job="ID:95, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:94, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:14.233 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:14.239 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=46] [neededSchemaVersion=47] ["start time"=302.25s] [gotSchemaVersion=47] [phyTblIDs="[94]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:15:14.240 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:15:14.240 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=95] [version=47]
[2024/05/15 17:15:14.243 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=47] ["take time"=4.008ms] [job="ID:95, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:94, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:14.233 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:14.248 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=95] [job="ID:95, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:94, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:14.233 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:14.250 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=95]
[2024/05/15 17:15:14.250 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:15:14.251 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=47] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.dist_framework_meta (\n        host VARCHAR(261) NOT NULL PRIMARY KEY,\n        role VARCHAR(64),\n        cpu_count int default 0,\n        keyspace_id bigint(8) NOT NULL DEFAULT -1\n    );"] [user=]
[2024/05/15 17:15:14.252 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:97, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:96, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:14.251 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:15:14.252 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:97, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:96, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:14.251 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.dist_framework_meta (\n        host VARCHAR(261) NOT NULL PRIMARY KEY,\n        role VARCHAR(64),\n        cpu_count int default 0,\n        keyspace_id bigint(8) NOT NULL DEFAULT -1\n    );"]
[2024/05/15 17:15:14.255 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=97] [category=ddl] [job="ID:97, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:96, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:14.251 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:14.257 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=47] [neededSchemaVersion=48] ["start time"=196.125s] [gotSchemaVersion=48] [phyTblIDs="[96]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:15:14.257 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:15:14.257 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=97] [version=48]
[2024/05/15 17:15:14.258 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=48] ["take time"=2.007625ms] [job="ID:97, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:96, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:14.251 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:14.263 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=97] [job="ID:97, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:96, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:14.251 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:14.265 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=97]
[2024/05/15 17:15:14.265 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:15:14.265 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=48] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.request_unit_by_group (\n\t\tstart_time TIMESTAMP(6) NOT NULL,\n\t\tend_time TIMESTAMP(6) NOT NULL,\n\t\tresource_group VARCHAR(32) NOT null,\n\t\ttotal_ru bigint(64) UNSIGNED NOT NULL,\n\t\tPRIMARY KEY (start_time, end_time, resource_group),\n\t\tKEY (resource_group)\n\t);"] [user=]
[2024/05/15 17:15:14.266 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:99, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:98, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:14.265 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:15:14.266 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:99, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:98, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:14.265 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.request_unit_by_group (\n\t\tstart_time TIMESTAMP(6) NOT NULL,\n\t\tend_time TIMESTAMP(6) NOT NULL,\n\t\tresource_group VARCHAR(32) NOT null,\n\t\ttotal_ru bigint(64) UNSIGNED NOT NULL,\n\t\tPRIMARY KEY (start_time, end_time, resource_group),\n\t\tKEY (resource_group)\n\t);"]
[2024/05/15 17:15:14.270 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=99] [category=ddl] [job="ID:99, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:98, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:14.265 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:14.272 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=48] [neededSchemaVersion=49] ["start time"=208.958s] [gotSchemaVersion=49] [phyTblIDs="[98]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:15:14.273 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:15:14.273 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=99] [version=49]
[2024/05/15 17:15:14.274 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=49] ["take time"=2.024958ms] [job="ID:99, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:98, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:14.265 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:14.278 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=99] [job="ID:99, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:98, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:14.265 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:14.280 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=99]
[2024/05/15 17:15:14.280 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:15:14.280 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=49] [cur_db=mysql] [sql="CREATE DATABASE IF NOT EXISTS sys;"] [user=]
[2024/05/15 17:15:14.281 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:101, Type:create schema, State:queueing, SchemaState:none, SchemaID:100, TableID:0, RowCount:0, ArgLen:1, start time: 2024-05-15 17:15:14.28 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:15:14.281 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:101, Type:create schema, State:queueing, SchemaState:none, SchemaID:100, TableID:0, RowCount:0, ArgLen:1, start time: 2024-05-15 17:15:14.28 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE DATABASE IF NOT EXISTS sys;"]
[2024/05/15 17:15:14.285 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=101] [category=ddl] [job="ID:101, Type:create schema, State:queueing, SchemaState:none, SchemaID:100, TableID:0, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:14.28 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:14.286 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=49] [neededSchemaVersion=50] ["start time"=37.291s] [gotSchemaVersion=50] [phyTblIDs="[]"] [actionTypes="[]"] [diffTypes="[\"create schema\"]"]
[2024/05/15 17:15:14.286 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:15:14.286 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=101] [version=50]
[2024/05/15 17:15:14.288 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=50] ["take time"=2.601917ms] [job="ID:101, Type:create schema, State:done, SchemaState:public, SchemaID:100, TableID:0, RowCount:0, ArgLen:1, start time: 2024-05-15 17:15:14.28 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:14.291 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=101] [job="ID:101, Type:create schema, State:synced, SchemaState:public, SchemaID:100, TableID:0, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:14.28 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:14.293 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=101]
[2024/05/15 17:15:14.293 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:15:14.295 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:103, Type:create view, State:queueing, SchemaState:none, SchemaID:100, TableID:102, RowCount:0, ArgLen:3, start time: 2024-05-15 17:15:14.294 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:15:14.295 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:103, Type:create view, State:queueing, SchemaState:none, SchemaID:100, TableID:102, RowCount:0, ArgLen:3, start time: 2024-05-15 17:15:14.294 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE OR REPLACE VIEW sys.schema_unused_indexes AS\n\t\tSELECT\n\t\t\ttable_schema as object_schema,\n\t\t\ttable_name as object_name,\n\t\t\tindex_name\n\t\tFROM information_schema.cluster_tidb_index_usage\n\t\tWHERE\n\t\t\ttable_schema not in ('sys', 'mysql', 'INFORMATION_SCHEMA', 'PERFORMANCE_SCHEMA') and\n\t\t\tindex_name != 'PRIMARY'\n\t\tGROUP BY table_schema, table_name, index_name\n\t\tHAVING\n\t\t\tsum(last_access_time) is null;"]
[2024/05/15 17:15:14.298 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=103] [category=ddl] [job="ID:103, Type:create view, State:queueing, SchemaState:none, SchemaID:100, TableID:102, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:14.294 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:14.300 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=50] [neededSchemaVersion=51] ["start time"=156.917s] [gotSchemaVersion=51] [phyTblIDs="[102]"] [actionTypes="[21]"] [diffTypes="[\"create view\"]"]
[2024/05/15 17:15:14.300 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:15:14.300 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=103] [version=51]
[2024/05/15 17:15:14.301 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=51] ["take time"=2.227292ms] [job="ID:103, Type:create view, State:done, SchemaState:public, SchemaID:100, TableID:102, RowCount:0, ArgLen:3, start time: 2024-05-15 17:15:14.294 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:14.306 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=103] [job="ID:103, Type:create view, State:synced, SchemaState:public, SchemaID:100, TableID:102, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:14.294 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:14.308 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=103]
[2024/05/15 17:15:14.308 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:15:14.309 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=0] ["to ID"=1] ["table ID"=4] ["database ID"=1]
[2024/05/15 17:15:14.313 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=0] ["to ID"=655] ["table ID"=16] ["database ID"=1]
[2024/05/15 17:15:14.317 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=0] ["to ID"=1] ["table ID"=18] ["database ID"=1]
[2024/05/15 17:15:14.317 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1] ["to ID"=2] ["table ID"=18] ["database ID"=1]
[2024/05/15 17:15:14.317 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2] ["to ID"=3] ["table ID"=18] ["database ID"=1]
[2024/05/15 17:15:14.317 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3] ["to ID"=4] ["table ID"=18] ["database ID"=1]
[2024/05/15 17:15:14.318 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=4] ["to ID"=5] ["table ID"=18] ["database ID"=1]
[2024/05/15 17:15:14.321 +08:00] [INFO] [bootstrap.go:745] ["bootstrap successful"] ["take time"=1.094295458s]
[2024/05/15 17:15:14.323 +08:00] [INFO] [mock.go:106] ["owner manager is canceled"] [category=ddl] [ID=1963df1b-bdcd-4bb0-a44b-6b739e1dd215] [ownerKey=/tidb/ddl/fg/owner]
[2024/05/15 17:15:14.323 +08:00] [INFO] [ddl_workerpool.go:82] ["closing workerPool"] [category=ddl]
[2024/05/15 17:15:14.323 +08:00] [INFO] [ddl_worker.go:186] ["DDL worker closed"] [worker="worker 2, tp add index"] [category=ddl] ["take time"=709ns]
[2024/05/15 17:15:14.323 +08:00] [INFO] [ddl_workerpool.go:82] ["closing workerPool"] [category=ddl]
[2024/05/15 17:15:14.323 +08:00] [INFO] [ddl_worker.go:186] ["DDL worker closed"] [worker="worker 1, tp general"] [category=ddl] ["take time"=209ns]
[2024/05/15 17:15:14.323 +08:00] [INFO] [ddl_workerpool.go:82] ["closing workerPool"] [category=ddl]
[2024/05/15 17:15:14.323 +08:00] [INFO] [delete_range.go:162] ["closing delRange"] [category=ddl]
[2024/05/15 17:15:14.323 +08:00] [INFO] [session_pool.go:99] ["closing session pool"] [category=ddl]
[2024/05/15 17:15:14.323 +08:00] [INFO] [ddl.go:951] ["DDL closed"] [category=ddl] [ID=1963df1b-bdcd-4bb0-a44b-6b739e1dd215] ["take time"=2.152292ms]
[2024/05/15 17:15:14.323 +08:00] [INFO] [ddl.go:769] ["stop DDL"] [category=ddl] [ID=1963df1b-bdcd-4bb0-a44b-6b739e1dd215]
[2024/05/15 17:15:14.323 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=mdlCheckLoop]
[2024/05/15 17:15:14.323 +08:00] [INFO] [domain.go:915] ["loadSchemaInLoop exited."]
[2024/05/15 17:15:14.323 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=loadSchemaInLoop]
[2024/05/15 17:15:14.323 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=runawayStartLoop]
[2024/05/15 17:15:14.323 +08:00] [INFO] [domain.go:769] ["topologySyncerKeeper exited."]
[2024/05/15 17:15:14.323 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=topologySyncerKeeper]
[2024/05/15 17:15:14.323 +08:00] [INFO] [domain.go:745] ["globalConfigSyncerKeeper exited."]
[2024/05/15 17:15:14.323 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=globalConfigSyncerKeeper]
[2024/05/15 17:15:14.323 +08:00] [INFO] [domain.go:719] ["infoSyncerKeeper exited."]
[2024/05/15 17:15:14.323 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=infoSyncerKeeper]
[2024/05/15 17:15:14.323 +08:00] [INFO] [domain.go:691] ["topNSlowQueryLoop exited."]
[2024/05/15 17:15:14.323 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=topNSlowQueryLoop]
[2024/05/15 17:15:14.323 +08:00] [INFO] [domain.go:1369] ["closestReplicaReadCheckLoop exited."]
[2024/05/15 17:15:14.323 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=closestReplicaReadCheckLoop]
[2024/05/15 17:15:14.323 +08:00] [INFO] [domain.go:1082] ["domain closed"] ["take time"=2.320167ms]
[2024/05/15 17:15:14.323 +08:00] [INFO] [tidb.go:80] ["new domain"] [store=c59bef24-5c42-40ec-8fc1-36fb88b26e8d] ["ddl lease"=500ms] ["stats lease"=-1ns]
[2024/05/15 17:15:14.325 +08:00] [WARN] [controller.go:198] ["[resource group controller] server does not save config, load config failed"]
[2024/05/15 17:15:14.325 +08:00] [INFO] [controller.go:185] ["load resource controller config"] [config="{\"degraded-mode-wait-duration\":\"0s\",\"ltb-max-wait-duration\":\"30s\",\"wait-retry-interval\":\"50ms\",\"wait-retry-times\":10,\"request-unit\":{\"read-base-cost\":0.125,\"read-per-batch-base-cost\":0.5,\"read-cost-per-byte\":0.0000152587890625,\"write-base-cost\":1,\"write-per-batch-base-cost\":1,\"write-cost-per-byte\":0.0009765625,\"read-cpu-ms-cost\":0.3333333333333333},\"enable-controller-trace-log\":\"false\"}"] [ru-config="{\"ReadBaseCost\":0.125,\"ReadPerBatchBaseCost\":0.5,\"ReadBytesCost\":0.0000152587890625,\"WriteBaseCost\":1,\"WritePerBatchBaseCost\":1,\"WriteBytesCost\":0.0009765625,\"CPUMsCost\":0.3333333333333333,\"LTBMaxWaitDuration\":30000000000,\"WaitRetryInterval\":50000000,\"WaitRetryTimes\":10,\"DegradedModeWaitDuration\":0}"]
[2024/05/15 17:15:14.338 +08:00] [INFO] [domain.go:323] ["full load InfoSchema success"] [currentSchemaVersion=0] [neededSchemaVersion=51] ["start time"=12.612833ms]
[2024/05/15 17:15:14.341 +08:00] [INFO] [domain.go:643] ["full load and reset schema validator"]
[2024/05/15 17:15:14.341 +08:00] [INFO] [ddl.go:818] ["start DDL"] [category=ddl] [ID=4799bf28-ffba-4c8d-a76e-2b9940ce902d] [runWorker=true]
[2024/05/15 17:15:14.341 +08:00] [INFO] [ddl.go:777] ["start delRangeManager OK"] [category=ddl] ["is a emulator"=true]
[2024/05/15 17:15:14.341 +08:00] [WARN] [env.go:51] ["initialize environment failed"] [category=ddl-ingest] ["storage limitation"="only support TiKV storage"] ["current storage"=unistore] ["lightning is initialized"=false]
[2024/05/15 17:15:14.341 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=loadSchemaInLoop]
[2024/05/15 17:15:14.341 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=mdlCheckLoop]
[2024/05/15 17:15:14.341 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=topNSlowQueryLoop]
[2024/05/15 17:15:14.341 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=infoSyncerKeeper]
[2024/05/15 17:15:14.341 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=globalConfigSyncerKeeper]
[2024/05/15 17:15:14.341 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=runawayStartLoop]
[2024/05/15 17:15:14.341 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=requestUnitsWriterLoop]
[2024/05/15 17:15:14.341 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=topologySyncerKeeper]
[2024/05/15 17:15:14.341 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=closestReplicaReadCheckLoop]
[2024/05/15 17:15:14.341 +08:00] [WARN] [domain.go:1334] ["pd / etcd client not provided, won't begin Advancer."]
[2024/05/15 17:15:14.362 +08:00] [INFO] [delete_range.go:172] ["start delRange emulator"] [category=ddl]
[2024/05/15 17:15:14.362 +08:00] [INFO] [job_table.go:334] ["get global state and global state change"] [category=ddl] [oldState=false] [currState=false]
[2024/05/15 17:15:14.362 +08:00] [INFO] [runaway.go:149] ["try to start runaway manager loop"]
[2024/05/15 17:15:14.362 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=requestUnitsWriterLoop]
[2024/05/15 17:15:14.368 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=globalBindHandleWorkerLoop]
[2024/05/15 17:15:14.368 +08:00] [WARN] [sysvar_cache.go:49] ["sysvar cache is empty, triggering rebuild"]
[2024/05/15 17:15:14.369 +08:00] [INFO] [sysvar.go:2748] ["set resource control"] [enable=true]
[2024/05/15 17:15:14.369 +08:00] [INFO] [controller.go:447] ["[resource group controller] create resource group cost controller"] [name=default]
[2024/05/15 17:15:14.373 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=loadPrivilegeInLoop]
[2024/05/15 17:15:14.374 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=LoadSysVarCacheLoop]
[2024/05/15 17:15:14.375 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=dumpFileGcChecker]
[2024/05/15 17:15:14.375 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=indexUsageWorker]
[2024/05/15 17:15:14.375 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=quitStatsOwner]
[2024/05/15 17:15:14.375 +08:00] [INFO] [domain.go:2278] ["start load stats sub workers"] ["worker count"=5]
[2024/05/15 17:15:14.375 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=loadSigningCertLoop]
[2024/05/15 17:15:14.375 +08:00] [INFO] [manager.go:113] ["build task executor manager"] [server-id=:4000] [total-cpu=1] [total-mem=32GiB]
[2024/05/15 17:15:14.376 +08:00] [INFO] [domain.go:2078] ["dumpFileGcChecker started"]
[2024/05/15 17:15:14.377 +08:00] [INFO] [task_manager.go:217] ["scale ttl worker"] [ttl-worker=job-manager] [ttl-worker=task-manager] [originalCount=0] [newCount=4]
[2024/05/15 17:15:14.377 +08:00] [INFO] [task_manager.go:217] ["scale ttl worker"] [ttl-worker=job-manager] [ttl-worker=task-manager] [originalCount=0] [newCount=4]
[2024/05/15 17:15:14.379 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=0] ["to ID"=1] ["table ID"=96] ["database ID"=1]
[2024/05/15 17:15:14.379 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=distTaskFrameworkLoop]
[2024/05/15 17:15:14.381 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=1] [schemaVersion=51] [cur_db=test] [sql="drop table if exists t"] [user=]
[2024/05/15 17:15:14.381 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=1] [schemaVersion=51] [cur_db=test] [sql="create table t (id int primary key);"] [user=]
[2024/05/15 17:15:14.382 +08:00] [INFO] [manager.go:146] ["task executor manager start"] [server-id=:4000]
[2024/05/15 17:15:14.382 +08:00] [INFO] [domain.go:1533] ["dist task executor manager started"]
[2024/05/15 17:15:14.384 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:105, Type:create table, State:queueing, SchemaState:none, SchemaID:2, TableID:104, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:14.383 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:15:14.384 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:105, Type:create table, State:queueing, SchemaState:none, SchemaID:2, TableID:104, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:14.383 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="create table t (id int primary key);"]
[2024/05/15 17:15:14.412 +08:00] [INFO] [job_table.go:334] ["get global state and global state change"] [category=ddl] [oldState=false] [currState=false]
[2024/05/15 17:15:14.412 +08:00] [INFO] [job_table.go:349] ["the owner sets owner operator value"] [category=ddl] [ownerOp=none]
[2024/05/15 17:15:14.416 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=105] [conn=1] [category=ddl] [job="ID:105, Type:create table, State:queueing, SchemaState:none, SchemaID:2, TableID:104, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:14.383 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:14.417 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=51] [neededSchemaVersion=52] ["start time"=111.333s] [gotSchemaVersion=52] [phyTblIDs="[104]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:15:14.418 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=105] [version=52]
[2024/05/15 17:15:14.419 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=52] ["take time"=2.082583ms] [job="ID:105, Type:create table, State:done, SchemaState:public, SchemaID:2, TableID:104, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:14.383 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:14.424 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=105] [conn=1] [job="ID:105, Type:create table, State:synced, SchemaState:public, SchemaID:2, TableID:104, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:14.383 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:14.426 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=105]
[2024/05/15 17:15:14.426 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:15:14.428 +08:00] [WARN] [domain.go:244] ["failed to get schema version"] [error="There is no Write MVCC info for the schema version"] [errorVerbose="There is no Write MVCC info for the schema version\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).getTimestampForSchemaVersionWithNonEmptyDiff\n\t/Users/bba/pc/tidb/pkg/domain/domain.go:343\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).loadInfoSchema\n\t/Users/bba/pc/tidb/pkg/domain/domain.go:242\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).GetSnapshotInfoSchema\n\t/Users/bba/pc/tidb/pkg/domain/domain.go:519\ngithub.com/pingcap/tidb/pkg/sessiontxn/staleread.GetSessionSnapshotInfoSchema\n\t/Users/bba/pc/tidb/pkg/sessiontxn/staleread/processor.go:321\ngithub.com/pingcap/tidb/pkg/sessiontxn/staleread.(*StalenessTxnContextProvider).activateStaleTxn\n\t/Users/bba/pc/tidb/pkg/sessiontxn/staleread/provider.go:113\ngithub.com/pingcap/tidb/pkg/sessiontxn/staleread.(*StalenessTxnContextProvider).OnInitialize\n\t/Users/bba/pc/tidb/pkg/sessiontxn/staleread/provider.go:81\ngithub.com/pingcap/tidb/pkg/session.(*txnManager).EnterNewTxn\n\t/Users/bba/pc/tidb/pkg/session/txnmanager.go:161\ngithub.com/pingcap/tidb/pkg/executor.(*SimpleExec).executeBegin\n\t/Users/bba/pc/tidb/pkg/executor/simple.go:634\ngithub.com/pingcap/tidb/pkg/executor.(*SimpleExec).Next\n\t/Users/bba/pc/tidb/pkg/executor/simple.go:159\ngithub.com/pingcap/tidb/pkg/executor/internal/exec.Next\n\t/Users/bba/pc/tidb/pkg/executor/internal/exec/executor.go:410\ngithub.com/pingcap/tidb/pkg/executor.(*ExecStmt).next\n\t/Users/bba/pc/tidb/pkg/executor/adapter.go:1211\ngithub.com/pingcap/tidb/pkg/executor.(*ExecStmt).handleNoDelayExecutor\n\t/Users/bba/pc/tidb/pkg/executor/adapter.go:960\ngithub.com/pingcap/tidb/pkg/executor.(*ExecStmt).handleNoDelay\n\t/Users/bba/pc/tidb/pkg/executor/adapter.go:794\ngithub.com/pingcap/tidb/pkg/executor.(*ExecStmt).Exec\n\t/Users/bba/pc/tidb/pkg/executor/adapter.go:559\ngithub.com/pingcap/tidb/pkg/session.runStmt\n\t/Users/bba/pc/tidb/pkg/session/session.go:2285\ngithub.com/pingcap/tidb/pkg/session.(*session).ExecuteStmt\n\t/Users/bba/pc/tidb/pkg/session/session.go:2146\ngithub.com/pingcap/tidb/pkg/testkit.(*TestKit).ExecWithContext\n\t/Users/bba/pc/tidb/pkg/testkit/testkit.go:384\ngithub.com/pingcap/tidb/pkg/testkit.(*TestKit).MustExecWithContext\n\t/Users/bba/pc/tidb/pkg/testkit/testkit.go:156\ngithub.com/pingcap/tidb/pkg/testkit.(*TestKit).MustExec\n\t/Users/bba/pc/tidb/pkg/testkit/testkit.go:151\ngithub.com/pingcap/tidb/pkg/executor_test.TestTimeBoundedStalenessTxn\n\t/Users/bba/pc/tidb/pkg/executor/stale_txn_test.go:479\ntesting.tRunner\n\t/Users/bba/.gvm/gos/go1.21.0/src/testing/testing.go:1595\nruntime.goexit\n\t/Users/bba/.gvm/gos/go1.21.0/src/runtime/asm_arm64.s:1197"] [version=0]
[2024/05/15 17:15:14.438 +08:00] [INFO] [domain.go:323] ["full load InfoSchema success"] [currentSchemaVersion=52] [neededSchemaVersion=0] ["start time"=9.43225ms]
[2024/05/15 17:15:14.439 +08:00] [WARN] [domain.go:244] ["failed to get schema version"] [error="There is no Write MVCC info for the schema version"] [errorVerbose="There is no Write MVCC info for the schema version\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).getTimestampForSchemaVersionWithNonEmptyDiff\n\t/Users/bba/pc/tidb/pkg/domain/domain.go:343\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).loadInfoSchema\n\t/Users/bba/pc/tidb/pkg/domain/domain.go:242\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).GetSnapshotInfoSchema\n\t/Users/bba/pc/tidb/pkg/domain/domain.go:519\ngithub.com/pingcap/tidb/pkg/sessiontxn/staleread.GetSessionSnapshotInfoSchema\n\t/Users/bba/pc/tidb/pkg/sessiontxn/staleread/processor.go:321\ngithub.com/pingcap/tidb/pkg/sessiontxn/staleread.(*StalenessTxnContextProvider).activateStaleTxn\n\t/Users/bba/pc/tidb/pkg/sessiontxn/staleread/provider.go:113\ngithub.com/pingcap/tidb/pkg/sessiontxn/staleread.(*StalenessTxnContextProvider).OnInitialize\n\t/Users/bba/pc/tidb/pkg/sessiontxn/staleread/provider.go:81\ngithub.com/pingcap/tidb/pkg/session.(*txnManager).EnterNewTxn\n\t/Users/bba/pc/tidb/pkg/session/txnmanager.go:161\ngithub.com/pingcap/tidb/pkg/executor.(*SimpleExec).executeBegin\n\t/Users/bba/pc/tidb/pkg/executor/simple.go:634\ngithub.com/pingcap/tidb/pkg/executor.(*SimpleExec).Next\n\t/Users/bba/pc/tidb/pkg/executor/simple.go:159\ngithub.com/pingcap/tidb/pkg/executor/internal/exec.Next\n\t/Users/bba/pc/tidb/pkg/executor/internal/exec/executor.go:410\ngithub.com/pingcap/tidb/pkg/executor.(*ExecStmt).next\n\t/Users/bba/pc/tidb/pkg/executor/adapter.go:1211\ngithub.com/pingcap/tidb/pkg/executor.(*ExecStmt).handleNoDelayExecutor\n\t/Users/bba/pc/tidb/pkg/executor/adapter.go:960\ngithub.com/pingcap/tidb/pkg/executor.(*ExecStmt).handleNoDelay\n\t/Users/bba/pc/tidb/pkg/executor/adapter.go:794\ngithub.com/pingcap/tidb/pkg/executor.(*ExecStmt).Exec\n\t/Users/bba/pc/tidb/pkg/executor/adapter.go:559\ngithub.com/pingcap/tidb/pkg/session.runStmt\n\t/Users/bba/pc/tidb/pkg/session/session.go:2285\ngithub.com/pingcap/tidb/pkg/session.(*session).ExecuteStmt\n\t/Users/bba/pc/tidb/pkg/session/session.go:2146\ngithub.com/pingcap/tidb/pkg/testkit.(*TestKit).ExecWithContext\n\t/Users/bba/pc/tidb/pkg/testkit/testkit.go:384\ngithub.com/pingcap/tidb/pkg/testkit.(*TestKit).MustExecWithContext\n\t/Users/bba/pc/tidb/pkg/testkit/testkit.go:156\ngithub.com/pingcap/tidb/pkg/testkit.(*TestKit).MustExec\n\t/Users/bba/pc/tidb/pkg/testkit/testkit.go:151\ngithub.com/pingcap/tidb/pkg/executor_test.TestTimeBoundedStalenessTxn\n\t/Users/bba/pc/tidb/pkg/executor/stale_txn_test.go:479\ntesting.tRunner\n\t/Users/bba/.gvm/gos/go1.21.0/src/testing/testing.go:1595\nruntime.goexit\n\t/Users/bba/.gvm/gos/go1.21.0/src/runtime/asm_arm64.s:1197"] [version=0]
[2024/05/15 17:15:14.440 +08:00] [WARN] [domain.go:244] ["failed to get schema version"] [error="There is no Write MVCC info for the schema version"] [errorVerbose="There is no Write MVCC info for the schema version\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).getTimestampForSchemaVersionWithNonEmptyDiff\n\t/Users/bba/pc/tidb/pkg/domain/domain.go:343\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).loadInfoSchema\n\t/Users/bba/pc/tidb/pkg/domain/domain.go:242\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).GetSnapshotInfoSchema\n\t/Users/bba/pc/tidb/pkg/domain/domain.go:519\ngithub.com/pingcap/tidb/pkg/sessiontxn/staleread.GetSessionSnapshotInfoSchema\n\t/Users/bba/pc/tidb/pkg/sessiontxn/staleread/processor.go:321\ngithub.com/pingcap/tidb/pkg/sessiontxn/staleread.(*StalenessTxnContextProvider).activateStaleTxn\n\t/Users/bba/pc/tidb/pkg/sessiontxn/staleread/provider.go:113\ngithub.com/pingcap/tidb/pkg/sessiontxn/staleread.(*StalenessTxnContextProvider).OnInitialize\n\t/Users/bba/pc/tidb/pkg/sessiontxn/staleread/provider.go:81\ngithub.com/pingcap/tidb/pkg/session.(*txnManager).EnterNewTxn\n\t/Users/bba/pc/tidb/pkg/session/txnmanager.go:161\ngithub.com/pingcap/tidb/pkg/executor.(*SimpleExec).executeBegin\n\t/Users/bba/pc/tidb/pkg/executor/simple.go:634\ngithub.com/pingcap/tidb/pkg/executor.(*SimpleExec).Next\n\t/Users/bba/pc/tidb/pkg/executor/simple.go:159\ngithub.com/pingcap/tidb/pkg/executor/internal/exec.Next\n\t/Users/bba/pc/tidb/pkg/executor/internal/exec/executor.go:410\ngithub.com/pingcap/tidb/pkg/executor.(*ExecStmt).next\n\t/Users/bba/pc/tidb/pkg/executor/adapter.go:1211\ngithub.com/pingcap/tidb/pkg/executor.(*ExecStmt).handleNoDelayExecutor\n\t/Users/bba/pc/tidb/pkg/executor/adapter.go:960\ngithub.com/pingcap/tidb/pkg/executor.(*ExecStmt).handleNoDelay\n\t/Users/bba/pc/tidb/pkg/executor/adapter.go:794\ngithub.com/pingcap/tidb/pkg/executor.(*ExecStmt).Exec\n\t/Users/bba/pc/tidb/pkg/executor/adapter.go:559\ngithub.com/pingcap/tidb/pkg/session.runStmt\n\t/Users/bba/pc/tidb/pkg/session/session.go:2285\ngithub.com/pingcap/tidb/pkg/session.(*session).ExecuteStmt\n\t/Users/bba/pc/tidb/pkg/session/session.go:2146\ngithub.com/pingcap/tidb/pkg/testkit.(*TestKit).ExecWithContext\n\t/Users/bba/pc/tidb/pkg/testkit/testkit.go:384\ngithub.com/pingcap/tidb/pkg/testkit.(*TestKit).MustExecWithContext\n\t/Users/bba/pc/tidb/pkg/testkit/testkit.go:156\ngithub.com/pingcap/tidb/pkg/testkit.(*TestKit).MustExec\n\t/Users/bba/pc/tidb/pkg/testkit/testkit.go:151\ngithub.com/pingcap/tidb/pkg/executor_test.TestTimeBoundedStalenessTxn\n\t/Users/bba/pc/tidb/pkg/executor/stale_txn_test.go:479\ntesting.tRunner\n\t/Users/bba/.gvm/gos/go1.21.0/src/testing/testing.go:1595\nruntime.goexit\n\t/Users/bba/.gvm/gos/go1.21.0/src/runtime/asm_arm64.s:1197"] [version=0]
[2024/05/15 17:15:14.440 +08:00] [WARN] [domain.go:244] ["failed to get schema version"] [error="There is no Write MVCC info for the schema version"] [errorVerbose="There is no Write MVCC info for the schema version\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).getTimestampForSchemaVersionWithNonEmptyDiff\n\t/Users/bba/pc/tidb/pkg/domain/domain.go:343\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).loadInfoSchema\n\t/Users/bba/pc/tidb/pkg/domain/domain.go:242\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).GetSnapshotInfoSchema\n\t/Users/bba/pc/tidb/pkg/domain/domain.go:519\ngithub.com/pingcap/tidb/pkg/sessiontxn/staleread.GetSessionSnapshotInfoSchema\n\t/Users/bba/pc/tidb/pkg/sessiontxn/staleread/processor.go:321\ngithub.com/pingcap/tidb/pkg/sessiontxn/staleread.(*StalenessTxnContextProvider).activateStaleTxn\n\t/Users/bba/pc/tidb/pkg/sessiontxn/staleread/provider.go:113\ngithub.com/pingcap/tidb/pkg/sessiontxn/staleread.(*StalenessTxnContextProvider).OnInitialize\n\t/Users/bba/pc/tidb/pkg/sessiontxn/staleread/provider.go:81\ngithub.com/pingcap/tidb/pkg/session.(*txnManager).EnterNewTxn\n\t/Users/bba/pc/tidb/pkg/session/txnmanager.go:161\ngithub.com/pingcap/tidb/pkg/executor.(*SimpleExec).executeBegin\n\t/Users/bba/pc/tidb/pkg/executor/simple.go:634\ngithub.com/pingcap/tidb/pkg/executor.(*SimpleExec).Next\n\t/Users/bba/pc/tidb/pkg/executor/simple.go:159\ngithub.com/pingcap/tidb/pkg/executor/internal/exec.Next\n\t/Users/bba/pc/tidb/pkg/executor/internal/exec/executor.go:410\ngithub.com/pingcap/tidb/pkg/executor.(*ExecStmt).next\n\t/Users/bba/pc/tidb/pkg/executor/adapter.go:1211\ngithub.com/pingcap/tidb/pkg/executor.(*ExecStmt).handleNoDelayExecutor\n\t/Users/bba/pc/tidb/pkg/executor/adapter.go:960\ngithub.com/pingcap/tidb/pkg/executor.(*ExecStmt).handleNoDelay\n\t/Users/bba/pc/tidb/pkg/executor/adapter.go:794\ngithub.com/pingcap/tidb/pkg/executor.(*ExecStmt).Exec\n\t/Users/bba/pc/tidb/pkg/executor/adapter.go:559\ngithub.com/pingcap/tidb/pkg/session.runStmt\n\t/Users/bba/pc/tidb/pkg/session/session.go:2285\ngithub.com/pingcap/tidb/pkg/session.(*session).ExecuteStmt\n\t/Users/bba/pc/tidb/pkg/session/session.go:2146\ngithub.com/pingcap/tidb/pkg/testkit.(*TestKit).ExecWithContext\n\t/Users/bba/pc/tidb/pkg/testkit/testkit.go:384\ngithub.com/pingcap/tidb/pkg/testkit.(*TestKit).MustExecWithContext\n\t/Users/bba/pc/tidb/pkg/testkit/testkit.go:156\ngithub.com/pingcap/tidb/pkg/testkit.(*TestKit).MustExec\n\t/Users/bba/pc/tidb/pkg/testkit/testkit.go:151\ngithub.com/pingcap/tidb/pkg/executor_test.TestTimeBoundedStalenessTxn\n\t/Users/bba/pc/tidb/pkg/executor/stale_txn_test.go:479\ntesting.tRunner\n\t/Users/bba/.gvm/gos/go1.21.0/src/testing/testing.go:1595\nruntime.goexit\n\t/Users/bba/.gvm/gos/go1.21.0/src/runtime/asm_arm64.s:1197"] [version=0]
[2024/05/15 17:15:14.440 +08:00] [WARN] [domain.go:244] ["failed to get schema version"] [error="There is no Write MVCC info for the schema version"] [errorVerbose="There is no Write MVCC info for the schema version\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).getTimestampForSchemaVersionWithNonEmptyDiff\n\t/Users/bba/pc/tidb/pkg/domain/domain.go:343\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).loadInfoSchema\n\t/Users/bba/pc/tidb/pkg/domain/domain.go:242\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).GetSnapshotInfoSchema\n\t/Users/bba/pc/tidb/pkg/domain/domain.go:519\ngithub.com/pingcap/tidb/pkg/sessiontxn/staleread.GetSessionSnapshotInfoSchema\n\t/Users/bba/pc/tidb/pkg/sessiontxn/staleread/processor.go:321\ngithub.com/pingcap/tidb/pkg/sessiontxn/staleread.(*StalenessTxnContextProvider).activateStaleTxn\n\t/Users/bba/pc/tidb/pkg/sessiontxn/staleread/provider.go:113\ngithub.com/pingcap/tidb/pkg/sessiontxn/staleread.(*StalenessTxnContextProvider).OnInitialize\n\t/Users/bba/pc/tidb/pkg/sessiontxn/staleread/provider.go:81\ngithub.com/pingcap/tidb/pkg/session.(*txnManager).EnterNewTxn\n\t/Users/bba/pc/tidb/pkg/session/txnmanager.go:161\ngithub.com/pingcap/tidb/pkg/executor.(*SimpleExec).executeBegin\n\t/Users/bba/pc/tidb/pkg/executor/simple.go:634\ngithub.com/pingcap/tidb/pkg/executor.(*SimpleExec).Next\n\t/Users/bba/pc/tidb/pkg/executor/simple.go:159\ngithub.com/pingcap/tidb/pkg/executor/internal/exec.Next\n\t/Users/bba/pc/tidb/pkg/executor/internal/exec/executor.go:410\ngithub.com/pingcap/tidb/pkg/executor.(*ExecStmt).next\n\t/Users/bba/pc/tidb/pkg/executor/adapter.go:1211\ngithub.com/pingcap/tidb/pkg/executor.(*ExecStmt).handleNoDelayExecutor\n\t/Users/bba/pc/tidb/pkg/executor/adapter.go:960\ngithub.com/pingcap/tidb/pkg/executor.(*ExecStmt).handleNoDelay\n\t/Users/bba/pc/tidb/pkg/executor/adapter.go:794\ngithub.com/pingcap/tidb/pkg/executor.(*ExecStmt).Exec\n\t/Users/bba/pc/tidb/pkg/executor/adapter.go:559\ngithub.com/pingcap/tidb/pkg/session.runStmt\n\t/Users/bba/pc/tidb/pkg/session/session.go:2285\ngithub.com/pingcap/tidb/pkg/session.(*session).ExecuteStmt\n\t/Users/bba/pc/tidb/pkg/session/session.go:2146\ngithub.com/pingcap/tidb/pkg/testkit.(*TestKit).ExecWithContext\n\t/Users/bba/pc/tidb/pkg/testkit/testkit.go:384\ngithub.com/pingcap/tidb/pkg/testkit.(*TestKit).MustExecWithContext\n\t/Users/bba/pc/tidb/pkg/testkit/testkit.go:156\ngithub.com/pingcap/tidb/pkg/testkit.(*TestKit).MustExec\n\t/Users/bba/pc/tidb/pkg/testkit/testkit.go:151\ngithub.com/pingcap/tidb/pkg/executor_test.TestTimeBoundedStalenessTxn\n\t/Users/bba/pc/tidb/pkg/executor/stale_txn_test.go:479\ntesting.tRunner\n\t/Users/bba/.gvm/gos/go1.21.0/src/testing/testing.go:1595\nruntime.goexit\n\t/Users/bba/.gvm/gos/go1.21.0/src/runtime/asm_arm64.s:1197"] [version=0]
[2024/05/15 17:15:14.441 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=1] [schemaVersion=52] [cur_db=test] [sql="drop table if exists t"] [user=]
[2024/05/15 17:15:14.448 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:106, Type:drop table, State:queueing, SchemaState:public, SchemaID:2, TableID:104, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:14.447 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:15:14.448 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:106, Type:drop table, State:queueing, SchemaState:public, SchemaID:2, TableID:104, RowCount:0, ArgLen:2, start time: 2024-05-15 17:15:14.447 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="drop table if exists t"]
[2024/05/15 17:15:14.454 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=106] [conn=1] [category=ddl] [job="ID:106, Type:drop table, State:queueing, SchemaState:public, SchemaID:2, TableID:104, RowCount:0, ArgLen:0, start time: 2024-05-15 17:15:14.447 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:15:14.458 +08:00] [INFO] [domain.go:915] ["loadSchemaInLoop exited."]
[2024/05/15 17:15:14.458 +08:00] [ERROR] [misc.go:114] ["panic in the recoverable goroutine"] [label=domain] [funcInfo=loadSchemaInLoop] [r="err1 != err2"] [stack="github.com/pingcap/tidb/pkg/util.Recover\n\t/Users/bba/pc/tidb/pkg/util/misc.go:118\nruntime.gopanic\n\t/Users/bba/.gvm/gos/go1.21.0/src/runtime/panic.go:914\ngithub.com/pingcap/tidb/pkg/infoschema.(*BuilderV3).ApplyDiff\n\t/Users/bba/pc/tidb/pkg/infoschema/infov3_builder.go:89\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).tryLoadSchemaDiffs\n\t/Users/bba/pc/tidb/pkg/domain/domain.go:479\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).loadInfoSchema\n\t/Users/bba/pc/tidb/pkg/domain/domain.go:284\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).Reload\n\t/Users/bba/pc/tidb/pkg/domain/domain.go:614\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).loadSchemaInLoop\n\t/Users/bba/pc/tidb/pkg/domain/domain.go:927\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).Init.func2\n\t/Users/bba/pc/tidb/pkg/domain/domain.go:1295\ngithub.com/pingcap/tidb/pkg/util.(*WaitGroupEnhancedWrapper).Run.func1\n\t/Users/bba/pc/tidb/pkg/util/wait_group_wrapper.go:99"] [stack="github.com/pingcap/tidb/pkg/util.Recover\n\t/Users/bba/pc/tidb/pkg/util/misc.go:114\nruntime.gopanic\n\t/Users/bba/.gvm/gos/go1.21.0/src/runtime/panic.go:914\ngithub.com/pingcap/tidb/pkg/infoschema.(*BuilderV3).ApplyDiff\n\t/Users/bba/pc/tidb/pkg/infoschema/infov3_builder.go:89\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).tryLoadSchemaDiffs\n\t/Users/bba/pc/tidb/pkg/domain/domain.go:479\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).loadInfoSchema\n\t/Users/bba/pc/tidb/pkg/domain/domain.go:284\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).Reload\n\t/Users/bba/pc/tidb/pkg/domain/domain.go:614\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).loadSchemaInLoop\n\t/Users/bba/pc/tidb/pkg/domain/domain.go:927\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).Init.func2\n\t/Users/bba/pc/tidb/pkg/domain/domain.go:1295\ngithub.com/pingcap/tidb/pkg/util.(*WaitGroupEnhancedWrapper).Run.func1\n\t/Users/bba/pc/tidb/pkg/util/wait_group_wrapper.go:99"]
[2024/05/15 17:15:15.365 +08:00] [INFO] [runaway.go:158] ["preparations for the runaway manager are finished and start runaway manager loop"]
[2024/05/15 17:15:15.365 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=runawayRecordFlushLoop]
[2024/05/15 17:15:15.365 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=runawayWatchSyncLoop]
[2024/05/15 17:15:15.365 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=runawayStartLoop]
[2024/05/15 17:15:15.378 +08:00] [INFO] [runtime.go:160] ["TimerGroupRuntime loop started"] [groupID=ttl]
[2024/05/15 17:15:15.378 +08:00] [INFO] [runtime.go:402] ["create watch chan if possible for timer runtime"] [groupID=ttl] [storeSupportWatch=true]
[2024/05/15 17:15:15.403 +08:00] [INFO] [slots.go:205] ["initialize slot capacity"] [capacity=1]
[2024/05/15 17:15:15.404 +08:00] [INFO] [scheduler_manager.go:200] ["schedule task loop start"] [server-id=:4000]
[2024/05/15 17:15:15.404 +08:00] [INFO] [scheduler_manager.go:312] ["subtask table gc loop start"] [server-id=:4000]
[2024/05/15 17:15:15.404 +08:00] [INFO] [scheduler_manager.go:373] ["cleanup loop start"] [server-id=:4000]
[2024/05/15 17:15:15.404 +08:00] [INFO] [scheduler_manager.go:453] ["collect loop start"] [server-id=:4000]
[2024/05/15 17:15:16.364 +08:00] [INFO] [info.go:1142] [SetTiFlashGroupConfig]
[FAIL]  pkg/planner/core/casetest/pushdown TestPushDownProjectionForTiFlashCoprocessor
err=exit status 2
[2024/05/15 17:16:05.719 +08:00] [INFO] [store_cache.go:510] ["change store resolve state"] [store=1] [addr=store1] [from=unresolved] [to=resolved] [liveness-state=reachable]
[2024/05/15 17:16:05.738 +08:00] [INFO] [ddl_api.go:1139] ["Automatically convert BLOB(65535) to MEDIUMBLOB"] [category=ddl]
[2024/05/15 17:16:05.739 +08:00] [INFO] [ddl_api.go:1139] ["Automatically convert BLOB(65535) to MEDIUMBLOB"] [category=ddl]
[2024/05/15 17:16:05.742 +08:00] [INFO] [ddl_api.go:1139] ["Automatically convert BLOB(65535) to MEDIUMBLOB"] [category=ddl]
[2024/05/15 17:16:05.742 +08:00] [INFO] [ddl_api.go:1139] ["Automatically convert BLOB(65535) to MEDIUMBLOB"] [category=ddl]
[2024/05/15 17:16:05.745 +08:00] [INFO] [ddl_api.go:1139] ["Automatically convert BLOB(65535) to MEDIUMBLOB"] [category=ddl]
[2024/05/15 17:16:05.751 +08:00] [INFO] [tidb.go:80] ["new domain"] [store=2d4ab4ad-2442-4ca8-9194-4cf9aa302c74] ["ddl lease"=500ms] ["stats lease"=-1ns]
[2024/05/15 17:16:05.765 +08:00] [WARN] [controller.go:198] ["[resource group controller] server does not save config, load config failed"]
[2024/05/15 17:16:05.766 +08:00] [INFO] [controller.go:185] ["load resource controller config"] [config="{\"degraded-mode-wait-duration\":\"0s\",\"ltb-max-wait-duration\":\"30s\",\"wait-retry-interval\":\"50ms\",\"wait-retry-times\":10,\"request-unit\":{\"read-base-cost\":0.125,\"read-per-batch-base-cost\":0.5,\"read-cost-per-byte\":0.0000152587890625,\"write-base-cost\":1,\"write-per-batch-base-cost\":1,\"write-cost-per-byte\":0.0009765625,\"read-cpu-ms-cost\":0.3333333333333333},\"enable-controller-trace-log\":\"false\"}"] [ru-config="{\"ReadBaseCost\":0.125,\"ReadPerBatchBaseCost\":0.5,\"ReadBytesCost\":0.0000152587890625,\"WriteBaseCost\":1,\"WritePerBatchBaseCost\":1,\"WriteBytesCost\":0.0009765625,\"CPUMsCost\":0.3333333333333333,\"LTBMaxWaitDuration\":30000000000,\"WaitRetryInterval\":50000000,\"WaitRetryTimes\":10,\"DegradedModeWaitDuration\":0}"]
[2024/05/15 17:16:05.767 +08:00] [WARN] [domain.go:244] ["failed to get schema version"] [error="There is no Write MVCC info for the schema version"] [errorVerbose="There is no Write MVCC info for the schema version\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).getTimestampForSchemaVersionWithNonEmptyDiff\n\t/Users/bba/pc/tidb/pkg/domain/domain.go:343\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).loadInfoSchema\n\t/Users/bba/pc/tidb/pkg/domain/domain.go:242\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).Reload\n\t/Users/bba/pc/tidb/pkg/domain/domain.go:614\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).Init\n\t/Users/bba/pc/tidb/pkg/domain/domain.go:1268\ngithub.com/pingcap/tidb/pkg/session.(*domainMap).Get.func1\n\t/Users/bba/pc/tidb/pkg/session/tidb.go:92\ngithub.com/pingcap/tidb/pkg/util.RunWithRetry\n\t/Users/bba/pc/tidb/pkg/util/misc.go:70\ngithub.com/pingcap/tidb/pkg/session.(*domainMap).Get\n\t/Users/bba/pc/tidb/pkg/session/tidb.go:79\ngithub.com/pingcap/tidb/pkg/session.createSessionWithOpt\n\t/Users/bba/pc/tidb/pkg/session/session.go:3633\ngithub.com/pingcap/tidb/pkg/session.createSession\n\t/Users/bba/pc/tidb/pkg/session/session.go:3625\ngithub.com/pingcap/tidb/pkg/session.runInBootstrapSession\n\t/Users/bba/pc/tidb/pkg/session/session.go:3575\ngithub.com/pingcap/tidb/pkg/session.bootstrapSessionImpl\n\t/Users/bba/pc/tidb/pkg/session/session.go:3351\ngithub.com/pingcap/tidb/pkg/session.BootstrapSession\n\t/Users/bba/pc/tidb/pkg/session/session.go:3317\ngithub.com/pingcap/tidb/pkg/testkit.bootstrap\n\t/Users/bba/pc/tidb/pkg/testkit/mockstore.go:294\ngithub.com/pingcap/tidb/pkg/testkit.CreateMockStoreAndDomain\n\t/Users/bba/pc/tidb/pkg/testkit/mockstore.go:265\ngithub.com/pingcap/tidb/pkg/testkit.CreateMockStore\n\t/Users/bba/pc/tidb/pkg/testkit/mockstore.go:72\ngithub.com/pingcap/tidb/pkg/planner/core/casetest/pushdown.TestPushDownProjectionForTiFlashCoprocessor\n\t/Users/bba/pc/tidb/pkg/planner/core/casetest/pushdown/push_down_test.go:162\ntesting.tRunner\n\t/Users/bba/.gvm/gos/go1.21.0/src/testing/testing.go:1595\nruntime.goexit\n\t/Users/bba/.gvm/gos/go1.21.0/src/runtime/asm_arm64.s:1197"] [version=0]
[2024/05/15 17:16:05.780 +08:00] [INFO] [domain.go:323] ["full load InfoSchema success"] [currentSchemaVersion=0] [neededSchemaVersion=0] ["start time"=11.8645ms]
[2024/05/15 17:16:05.781 +08:00] [INFO] [domain.go:643] ["full load and reset schema validator"]
[2024/05/15 17:16:05.781 +08:00] [INFO] [ddl.go:818] ["start DDL"] [category=ddl] [ID=26281ef7-2f12-40b5-8a12-677a7b5abdce] [runWorker=true]
[2024/05/15 17:16:05.782 +08:00] [INFO] [ddl.go:777] ["start delRangeManager OK"] [category=ddl] ["is a emulator"=true]
[2024/05/15 17:16:05.783 +08:00] [WARN] [env.go:51] ["initialize environment failed"] [category=ddl-ingest] ["storage limitation"="only support TiKV storage"] ["current storage"=unistore] ["lightning is initialized"=false]
[2024/05/15 17:16:05.783 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=loadSchemaInLoop]
[2024/05/15 17:16:05.783 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=mdlCheckLoop]
[2024/05/15 17:16:05.783 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=topNSlowQueryLoop]
[2024/05/15 17:16:05.783 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=infoSyncerKeeper]
[2024/05/15 17:16:05.783 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=globalConfigSyncerKeeper]
[2024/05/15 17:16:05.783 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=runawayStartLoop]
[2024/05/15 17:16:05.783 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=requestUnitsWriterLoop]
[2024/05/15 17:16:05.783 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=topologySyncerKeeper]
[2024/05/15 17:16:05.783 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=closestReplicaReadCheckLoop]
[2024/05/15 17:16:05.783 +08:00] [WARN] [domain.go:1334] ["pd / etcd client not provided, won't begin Advancer."]
[2024/05/15 17:16:05.799 +08:00] [INFO] [delete_range.go:172] ["start delRange emulator"] [category=ddl]
[2024/05/15 17:16:05.801 +08:00] [INFO] [job_table.go:334] ["get global state and global state change"] [category=ddl] [oldState=false] [currState=false]
[2024/05/15 17:16:05.804 +08:00] [INFO] [runaway.go:149] ["try to start runaway manager loop"]
[2024/05/15 17:16:05.804 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=requestUnitsWriterLoop]
[2024/05/15 17:16:05.813 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=0] [cur_db=mysql] [sql="CREATE DATABASE IF NOT EXISTS test"] [user=]
[2024/05/15 17:16:05.851 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:3, Type:create schema, State:queueing, SchemaState:none, SchemaID:2, TableID:0, RowCount:0, ArgLen:1, start time: 2024-05-15 17:16:05.845 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:16:05.851 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:3, Type:create schema, State:queueing, SchemaState:none, SchemaID:2, TableID:0, RowCount:0, ArgLen:1, start time: 2024-05-15 17:16:05.845 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE DATABASE IF NOT EXISTS test"]
[2024/05/15 17:16:05.851 +08:00] [INFO] [job_table.go:334] ["get global state and global state change"] [category=ddl] [oldState=false] [currState=false]
[2024/05/15 17:16:05.851 +08:00] [INFO] [job_table.go:349] ["the owner sets owner operator value"] [category=ddl] [ownerOp=none]
[2024/05/15 17:16:05.878 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=3] [category=ddl] [job="ID:3, Type:create schema, State:queueing, SchemaState:none, SchemaID:2, TableID:0, RowCount:0, ArgLen:0, start time: 2024-05-15 17:16:05.845 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:16:05.893 +08:00] [INFO] [domain.go:323] ["full load InfoSchema success"] [currentSchemaVersion=0] [neededSchemaVersion=1] ["start time"=10.516666ms]
[2024/05/15 17:16:05.894 +08:00] [INFO] [domain.go:643] ["full load and reset schema validator"]
[2024/05/15 17:16:05.897 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:16:05.897 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=3] [version=1]
[2024/05/15 17:16:05.897 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=1] ["take time"=14.578208ms] [job="ID:3, Type:create schema, State:done, SchemaState:public, SchemaID:2, TableID:0, RowCount:0, ArgLen:1, start time: 2024-05-15 17:16:05.845 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:16:05.904 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=3] [job="ID:3, Type:create schema, State:synced, SchemaState:public, SchemaID:2, TableID:0, RowCount:0, ArgLen:0, start time: 2024-05-15 17:16:05.845 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:16:05.909 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=3]
[2024/05/15 17:16:05.909 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:16:05.910 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=1] [cur_db=mysql] [sql="CREATE DATABASE IF NOT EXISTS `mysql`"] [user=]
[2024/05/15 17:16:05.910 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=1] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.user (\n\t\tHost\t\t\t\t\tCHAR(255),\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tauthentication_string\tTEXT,\n\t\tplugin\t\t\t\t\tCHAR(64),\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tProcess_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_db_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tSuper_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_user_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_slave_priv\t    \tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_client_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_role_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_role_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAccount_locked\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShutdown_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReload_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tFILE_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tConfig_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_Tablespace_Priv  ENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPassword_reuse_history  smallint unsigned DEFAULT NULL,\n\t\tPassword_reuse_time     smallint unsigned DEFAULT NULL,\n\t\tUser_attributes\t\t\tjson,\n\t\tToken_issuer\t\t\tVARCHAR(255),\n\t\tPassword_expired\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPassword_last_changed\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP(),\n\t\tPassword_lifetime\t\tSMALLINT UNSIGNED DEFAULT NULL,\n\t\tPRIMARY KEY (Host, User));"] [user=]
[2024/05/15 17:16:05.916 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:5, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:4, RowCount:0, ArgLen:2, start time: 2024-05-15 17:16:05.913 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:16:05.916 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:5, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:4, RowCount:0, ArgLen:2, start time: 2024-05-15 17:16:05.913 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.user (\n\t\tHost\t\t\t\t\tCHAR(255),\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tauthentication_string\tTEXT,\n\t\tplugin\t\t\t\t\tCHAR(64),\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tProcess_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_db_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tSuper_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_user_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_slave_priv\t    \tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_client_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_role_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_role_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAccount_locked\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShutdown_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReload_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tFILE_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tConfig_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_Tablespace_Priv  ENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPassword_reuse_history  smallint unsigned DEFAULT NULL,\n\t\tPassword_reuse_time     smallint unsigned DEFAULT NULL,\n\t\tUser_attributes\t\t\tjson,\n\t\tToken_issuer\t\t\tVARCHAR(255),\n\t\tPassword_expired\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPassword_last_changed\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP(),\n\t\tPassword_lifetime\t\tSMALLINT UNSIGNED DEFAULT NULL,\n\t\tPRIMARY KEY (Host, User));"]
[2024/05/15 17:16:05.921 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=5] [category=ddl] [job="ID:5, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:4, RowCount:0, ArgLen:0, start time: 2024-05-15 17:16:05.913 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:16:05.927 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=1] [neededSchemaVersion=2] ["start time"=887.75s] [gotSchemaVersion=2] [phyTblIDs="[4]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:16:05.929 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:16:05.929 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=5] [version=2]
[2024/05/15 17:16:05.932 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=2] ["take time"=5.244625ms] [job="ID:5, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:4, RowCount:0, ArgLen:2, start time: 2024-05-15 17:16:05.913 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:16:05.938 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=5] [job="ID:5, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:4, RowCount:0, ArgLen:0, start time: 2024-05-15 17:16:05.913 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:16:05.943 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=5]
[2024/05/15 17:16:05.943 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:16:05.944 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=2] [cur_db=mysql] [sql="CREATE TABLE  IF NOT EXISTS mysql.password_history (\n         Host char(255)  NOT NULL DEFAULT '',\n         User char(32)  NOT NULL DEFAULT '',\n         Password_timestamp timestamp(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6),\n         Password text,\n         PRIMARY KEY (Host,User,Password_timestamp )\n        ) COMMENT='Password history for user accounts' "] [user=]
[2024/05/15 17:16:05.947 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:7, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:6, RowCount:0, ArgLen:2, start time: 2024-05-15 17:16:05.946 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:16:05.947 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:7, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:6, RowCount:0, ArgLen:2, start time: 2024-05-15 17:16:05.946 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE  IF NOT EXISTS mysql.password_history (\n         Host char(255)  NOT NULL DEFAULT '',\n         User char(32)  NOT NULL DEFAULT '',\n         Password_timestamp timestamp(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6),\n         Password text,\n         PRIMARY KEY (Host,User,Password_timestamp )\n        ) COMMENT='Password history for user accounts' "]
[2024/05/15 17:16:05.951 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=7] [category=ddl] [job="ID:7, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:6, RowCount:0, ArgLen:0, start time: 2024-05-15 17:16:05.946 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:16:05.953 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=2] [neededSchemaVersion=3] ["start time"=183.791s] [gotSchemaVersion=3] [phyTblIDs="[6]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:16:05.954 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:16:05.954 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=7] [version=3]
[2024/05/15 17:16:05.956 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=3] ["take time"=3.463458ms] [job="ID:7, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:6, RowCount:0, ArgLen:2, start time: 2024-05-15 17:16:05.946 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:16:05.961 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=7] [job="ID:7, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:6, RowCount:0, ArgLen:0, start time: 2024-05-15 17:16:05.946 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:16:05.967 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=7]
[2024/05/15 17:16:05.967 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:16:05.968 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=3] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.global_priv (Host CHAR(255) NOT NULL DEFAULT '',User CHAR(80) NOT NULL DEFAULT '',Priv LONGTEXT NOT NULL DEFAULT '',PRIMARY KEY (Host, User))"] [user=]
[2024/05/15 17:16:05.973 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:9, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:8, RowCount:0, ArgLen:2, start time: 2024-05-15 17:16:05.97 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:16:05.973 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:9, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:8, RowCount:0, ArgLen:2, start time: 2024-05-15 17:16:05.97 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.global_priv (Host CHAR(255) NOT NULL DEFAULT '',User CHAR(80) NOT NULL DEFAULT '',Priv LONGTEXT NOT NULL DEFAULT '',PRIMARY KEY (Host, User))"]
[2024/05/15 17:16:05.983 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=9] [category=ddl] [job="ID:9, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:8, RowCount:0, ArgLen:0, start time: 2024-05-15 17:16:05.97 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:16:05.988 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=3] [neededSchemaVersion=4] ["start time"=255.417s] [gotSchemaVersion=4] [phyTblIDs="[8]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:16:05.989 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:16:05.989 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=9] [version=4]
[2024/05/15 17:16:05.990 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=4] ["take time"=2.004834ms] [job="ID:9, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:8, RowCount:0, ArgLen:2, start time: 2024-05-15 17:16:05.97 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:16:05.994 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=9] [job="ID:9, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:8, RowCount:0, ArgLen:0, start time: 2024-05-15 17:16:05.97 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:16:05.997 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=9]
[2024/05/15 17:16:05.997 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:16:05.997 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=4] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.db (\n\t\tHost\t\t\t\t\tCHAR(255),\n\t\tDB\t\t\t\t\t\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv \t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (Host, DB, User));"] [user=]
[2024/05/15 17:16:06.001 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:11, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:10, RowCount:0, ArgLen:2, start time: 2024-05-15 17:16:05.999 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:16:06.001 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:11, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:10, RowCount:0, ArgLen:2, start time: 2024-05-15 17:16:05.999 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.db (\n\t\tHost\t\t\t\t\tCHAR(255),\n\t\tDB\t\t\t\t\t\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv \t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (Host, DB, User));"]
[2024/05/15 17:16:06.007 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=11] [category=ddl] [job="ID:11, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:10, RowCount:0, ArgLen:0, start time: 2024-05-15 17:16:05.999 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:16:06.010 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=4] [neededSchemaVersion=5] ["start time"=522.792s] [gotSchemaVersion=5] [phyTblIDs="[10]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:16:06.011 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:16:06.011 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=11] [version=5]
[2024/05/15 17:16:06.013 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=5] ["take time"=2.737792ms] [job="ID:11, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:10, RowCount:0, ArgLen:2, start time: 2024-05-15 17:16:05.999 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:16:06.018 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=11] [job="ID:11, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:10, RowCount:0, ArgLen:0, start time: 2024-05-15 17:16:05.999 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:16:06.021 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=11]
[2024/05/15 17:16:06.021 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:16:06.021 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=5] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tables_priv (\n\t\tHost\t\tCHAR(255),\n\t\tDB\t\t\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tGrantor\t\tCHAR(77),\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tTable_priv\tSET('Select','Insert','Update','Delete','Create','Drop','Grant','Index','Alter','Create View','Show View','Trigger','References'),\n\t\tColumn_priv\tSET('Select','Insert','Update','References'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name));"] [user=]
[2024/05/15 17:16:06.023 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:13, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:12, RowCount:0, ArgLen:2, start time: 2024-05-15 17:16:06.022 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:16:06.023 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:13, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:12, RowCount:0, ArgLen:2, start time: 2024-05-15 17:16:06.022 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tables_priv (\n\t\tHost\t\tCHAR(255),\n\t\tDB\t\t\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tGrantor\t\tCHAR(77),\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tTable_priv\tSET('Select','Insert','Update','Delete','Create','Drop','Grant','Index','Alter','Create View','Show View','Trigger','References'),\n\t\tColumn_priv\tSET('Select','Insert','Update','References'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name));"]
[2024/05/15 17:16:06.027 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=13] [category=ddl] [job="ID:13, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:12, RowCount:0, ArgLen:0, start time: 2024-05-15 17:16:06.022 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:16:06.030 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=5] [neededSchemaVersion=6] ["start time"=462.125s] [gotSchemaVersion=6] [phyTblIDs="[12]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:16:06.030 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:16:06.030 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=13] [version=6]
[2024/05/15 17:16:06.032 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=6] ["take time"=2.7315ms] [job="ID:13, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:12, RowCount:0, ArgLen:2, start time: 2024-05-15 17:16:06.022 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:16:06.037 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=13] [job="ID:13, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:12, RowCount:0, ArgLen:0, start time: 2024-05-15 17:16:06.022 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:16:06.039 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=13]
[2024/05/15 17:16:06.039 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:16:06.039 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=6] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.columns_priv(\n\t\tHost\t\tCHAR(255),\n\t\tDB\t\t\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tColumn_name\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tColumn_priv\tSET('Select','Insert','Update','References'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name, Column_name));"] [user=]
[2024/05/15 17:16:06.041 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:15, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:14, RowCount:0, ArgLen:2, start time: 2024-05-15 17:16:06.04 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:16:06.041 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:15, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:14, RowCount:0, ArgLen:2, start time: 2024-05-15 17:16:06.04 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.columns_priv(\n\t\tHost\t\tCHAR(255),\n\t\tDB\t\t\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tColumn_name\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tColumn_priv\tSET('Select','Insert','Update','References'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name, Column_name));"]
[2024/05/15 17:16:06.046 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=15] [category=ddl] [job="ID:15, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:14, RowCount:0, ArgLen:0, start time: 2024-05-15 17:16:06.04 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:16:06.049 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=6] [neededSchemaVersion=7] ["start time"=250.417s] [gotSchemaVersion=7] [phyTblIDs="[14]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:16:06.049 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:16:06.049 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=15] [version=7]
[2024/05/15 17:16:06.051 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=7] ["take time"=2.11025ms] [job="ID:15, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:14, RowCount:0, ArgLen:2, start time: 2024-05-15 17:16:06.04 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:16:06.057 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=15] [job="ID:15, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:14, RowCount:0, ArgLen:0, start time: 2024-05-15 17:16:06.04 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:16:06.059 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=15]
[2024/05/15 17:16:06.059 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:16:06.059 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=7] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.GLOBAL_VARIABLES(\n\t\tVARIABLE_NAME  VARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE VARCHAR(16383) DEFAULT NULL);"] [user=]
[2024/05/15 17:16:06.060 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:17, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:16, RowCount:0, ArgLen:2, start time: 2024-05-15 17:16:06.06 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:16:06.060 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:17, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:16, RowCount:0, ArgLen:2, start time: 2024-05-15 17:16:06.06 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.GLOBAL_VARIABLES(\n\t\tVARIABLE_NAME  VARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE VARCHAR(16383) DEFAULT NULL);"]
[2024/05/15 17:16:06.066 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=17] [category=ddl] [job="ID:17, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:16, RowCount:0, ArgLen:0, start time: 2024-05-15 17:16:06.06 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:16:06.067 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=7] [neededSchemaVersion=8] ["start time"=142.958s] [gotSchemaVersion=8] [phyTblIDs="[16]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:16:06.068 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:16:06.068 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=17] [version=8]
[2024/05/15 17:16:06.069 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=8] ["take time"=2.387959ms] [job="ID:17, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:16, RowCount:0, ArgLen:2, start time: 2024-05-15 17:16:06.06 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:16:06.074 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=17] [job="ID:17, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:16, RowCount:0, ArgLen:0, start time: 2024-05-15 17:16:06.06 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:16:06.076 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=17]
[2024/05/15 17:16:06.076 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:16:06.076 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=8] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb(\n\t\tVARIABLE_NAME  \tVARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE \tVARCHAR(1024) DEFAULT NULL,\n\t\tCOMMENT \t\tVARCHAR(1024));"] [user=]
[2024/05/15 17:16:06.078 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:19, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:18, RowCount:0, ArgLen:2, start time: 2024-05-15 17:16:06.077 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:16:06.078 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:19, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:18, RowCount:0, ArgLen:2, start time: 2024-05-15 17:16:06.077 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb(\n\t\tVARIABLE_NAME  \tVARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE \tVARCHAR(1024) DEFAULT NULL,\n\t\tCOMMENT \t\tVARCHAR(1024));"]
[2024/05/15 17:16:06.083 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=19] [category=ddl] [job="ID:19, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:18, RowCount:0, ArgLen:0, start time: 2024-05-15 17:16:06.077 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:16:06.085 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=8] [neededSchemaVersion=9] ["start time"=175.333s] [gotSchemaVersion=9] [phyTblIDs="[18]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:16:06.086 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:16:06.086 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=19] [version=9]
[2024/05/15 17:16:06.088 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=9] ["take time"=3.028958ms] [job="ID:19, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:18, RowCount:0, ArgLen:2, start time: 2024-05-15 17:16:06.077 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:16:06.094 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=19] [job="ID:19, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:18, RowCount:0, ArgLen:0, start time: 2024-05-15 17:16:06.077 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:16:06.096 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=19]
[2024/05/15 17:16:06.096 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:16:06.097 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=9] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.help_topic (\n  \t\thelp_topic_id \t\tINT(10) UNSIGNED NOT NULL,\n  \t\tname \t\t\t\tCHAR(64) NOT NULL,\n  \t\thelp_category_id \tSMALLINT(5) UNSIGNED NOT NULL,\n  \t\tdescription \t\tTEXT NOT NULL,\n  \t\texample \t\t\tTEXT NOT NULL,\n  \t\turl \t\t\t\tTEXT NOT NULL,\n  \t\tPRIMARY KEY (help_topic_id) clustered,\n  \t\tUNIQUE KEY name (name)\n\t\t) ENGINE=InnoDB DEFAULT CHARSET=utf8 STATS_PERSISTENT=0 COMMENT='help topics';"] [user=]
[2024/05/15 17:16:06.099 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:21, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:20, RowCount:0, ArgLen:2, start time: 2024-05-15 17:16:06.098 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:16:06.099 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:21, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:20, RowCount:0, ArgLen:2, start time: 2024-05-15 17:16:06.098 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.help_topic (\n  \t\thelp_topic_id \t\tINT(10) UNSIGNED NOT NULL,\n  \t\tname \t\t\t\tCHAR(64) NOT NULL,\n  \t\thelp_category_id \tSMALLINT(5) UNSIGNED NOT NULL,\n  \t\tdescription \t\tTEXT NOT NULL,\n  \t\texample \t\t\tTEXT NOT NULL,\n  \t\turl \t\t\t\tTEXT NOT NULL,\n  \t\tPRIMARY KEY (help_topic_id) clustered,\n  \t\tUNIQUE KEY name (name)\n\t\t) ENGINE=InnoDB DEFAULT CHARSET=utf8 STATS_PERSISTENT=0 COMMENT='help topics';"]
[2024/05/15 17:16:06.103 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=21] [category=ddl] [job="ID:21, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:20, RowCount:0, ArgLen:0, start time: 2024-05-15 17:16:06.098 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:16:06.106 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=9] [neededSchemaVersion=10] ["start time"=248.5s] [gotSchemaVersion=10] [phyTblIDs="[20]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:16:06.107 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:16:06.107 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=21] [version=10]
[2024/05/15 17:16:06.108 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=10] ["take time"=2.337667ms] [job="ID:21, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:20, RowCount:0, ArgLen:2, start time: 2024-05-15 17:16:06.098 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:16:06.115 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=21] [job="ID:21, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:20, RowCount:0, ArgLen:0, start time: 2024-05-15 17:16:06.098 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:16:06.117 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=21]
[2024/05/15 17:16:06.117 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:16:06.117 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=10] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_meta (\n\t\tversion \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\ttable_id \t\tBIGINT(64) NOT NULL,\n\t\tmodify_count\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcount \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tsnapshot        BIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tINDEX idx_ver(version),\n\t\tUNIQUE INDEX tbl(table_id)\n\t);"] [user=]
[2024/05/15 17:16:06.118 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:23, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:22, RowCount:0, ArgLen:2, start time: 2024-05-15 17:16:06.118 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:16:06.118 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:23, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:22, RowCount:0, ArgLen:2, start time: 2024-05-15 17:16:06.118 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_meta (\n\t\tversion \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\ttable_id \t\tBIGINT(64) NOT NULL,\n\t\tmodify_count\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcount \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tsnapshot        BIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tINDEX idx_ver(version),\n\t\tUNIQUE INDEX tbl(table_id)\n\t);"]
[2024/05/15 17:16:06.122 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=23] [category=ddl] [job="ID:23, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:22, RowCount:0, ArgLen:0, start time: 2024-05-15 17:16:06.118 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:16:06.124 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=10] [neededSchemaVersion=11] ["start time"=224.25s] [gotSchemaVersion=11] [phyTblIDs="[22]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:16:06.125 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:16:06.125 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=23] [version=11]
[2024/05/15 17:16:06.126 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=11] ["take time"=2.152792ms] [job="ID:23, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:22, RowCount:0, ArgLen:2, start time: 2024-05-15 17:16:06.118 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:16:06.130 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=23] [job="ID:23, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:22, RowCount:0, ArgLen:0, start time: 2024-05-15 17:16:06.118 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:16:06.132 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=23]
[2024/05/15 17:16:06.132 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:16:06.132 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=11] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_histograms (\n\t\ttable_id \t\t\tBIGINT(64) NOT NULL,\n\t\tis_index \t\t\tTINYINT(2) NOT NULL,\n\t\thist_id \t\t\tBIGINT(64) NOT NULL,\n\t\tdistinct_count \t\tBIGINT(64) NOT NULL,\n\t\tnull_count \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\ttot_col_size \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tmodify_count \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tversion \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tcm_sketch \t\t\tBLOB(6291456),\n\t\tstats_ver \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tflag \t\t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcorrelation \t\tDOUBLE NOT NULL DEFAULT 0,\n\t\tlast_analyze_pos \tLONGBLOB DEFAULT NULL,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id)\n\t);"] [user=]
[2024/05/15 17:16:06.132 +08:00] [INFO] [ddl_api.go:1139] ["Automatically convert BLOB(6291456) to MEDIUMBLOB"] [category=ddl]
[2024/05/15 17:16:06.134 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:25, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:24, RowCount:0, ArgLen:2, start time: 2024-05-15 17:16:06.133 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:16:06.134 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:25, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:24, RowCount:0, ArgLen:2, start time: 2024-05-15 17:16:06.133 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_histograms (\n\t\ttable_id \t\t\tBIGINT(64) NOT NULL,\n\t\tis_index \t\t\tTINYINT(2) NOT NULL,\n\t\thist_id \t\t\tBIGINT(64) NOT NULL,\n\t\tdistinct_count \t\tBIGINT(64) NOT NULL,\n\t\tnull_count \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\ttot_col_size \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tmodify_count \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tversion \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tcm_sketch \t\t\tBLOB(6291456),\n\t\tstats_ver \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tflag \t\t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcorrelation \t\tDOUBLE NOT NULL DEFAULT 0,\n\t\tlast_analyze_pos \tLONGBLOB DEFAULT NULL,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id)\n\t);"]
[2024/05/15 17:16:06.139 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=25] [category=ddl] [job="ID:25, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:24, RowCount:0, ArgLen:0, start time: 2024-05-15 17:16:06.133 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:16:06.142 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=11] [neededSchemaVersion=12] ["start time"=419.583s] [gotSchemaVersion=12] [phyTblIDs="[24]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:16:06.143 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:16:06.143 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=25] [version=12]
[2024/05/15 17:16:06.144 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=12] ["take time"=2.836958ms] [job="ID:25, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:24, RowCount:0, ArgLen:2, start time: 2024-05-15 17:16:06.133 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:16:06.149 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=25] [job="ID:25, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:24, RowCount:0, ArgLen:0, start time: 2024-05-15 17:16:06.133 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:16:06.151 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=25]
[2024/05/15 17:16:06.151 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:16:06.151 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=12] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_buckets (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tbucket_id \tBIGINT(64) NOT NULL,\n\t\tcount \t\tBIGINT(64) NOT NULL,\n\t\trepeats \tBIGINT(64) NOT NULL,\n\t\tupper_bound LONGBLOB NOT NULL,\n\t\tlower_bound LONGBLOB ,\n\t\tndv         BIGINT NOT NULL DEFAULT 0,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id, bucket_id)\n\t);"] [user=]
[2024/05/15 17:16:06.153 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:27, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:26, RowCount:0, ArgLen:2, start time: 2024-05-15 17:16:06.152 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:16:06.153 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:27, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:26, RowCount:0, ArgLen:2, start time: 2024-05-15 17:16:06.152 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_buckets (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tbucket_id \tBIGINT(64) NOT NULL,\n\t\tcount \t\tBIGINT(64) NOT NULL,\n\t\trepeats \tBIGINT(64) NOT NULL,\n\t\tupper_bound LONGBLOB NOT NULL,\n\t\tlower_bound LONGBLOB ,\n\t\tndv         BIGINT NOT NULL DEFAULT 0,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id, bucket_id)\n\t);"]
[2024/05/15 17:16:06.159 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=27] [category=ddl] [job="ID:27, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:26, RowCount:0, ArgLen:0, start time: 2024-05-15 17:16:06.152 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:16:06.161 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=12] [neededSchemaVersion=13] ["start time"=335.709s] [gotSchemaVersion=13] [phyTblIDs="[26]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:16:06.162 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:16:06.162 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=27] [version=13]
[2024/05/15 17:16:06.164 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=13] ["take time"=2.771875ms] [job="ID:27, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:26, RowCount:0, ArgLen:2, start time: 2024-05-15 17:16:06.152 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:16:06.169 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=27] [job="ID:27, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:26, RowCount:0, ArgLen:0, start time: 2024-05-15 17:16:06.152 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:16:06.171 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=27]
[2024/05/15 17:16:06.171 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:16:06.171 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=13] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_index (job_id, element_id)\n\t);"] [user=]
[2024/05/15 17:16:06.173 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:29, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:28, RowCount:0, ArgLen:2, start time: 2024-05-15 17:16:06.172 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:16:06.173 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:29, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:28, RowCount:0, ArgLen:2, start time: 2024-05-15 17:16:06.172 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_index (job_id, element_id)\n\t);"]
[2024/05/15 17:16:06.178 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=29] [category=ddl] [job="ID:29, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:28, RowCount:0, ArgLen:0, start time: 2024-05-15 17:16:06.172 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:16:06.180 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=13] [neededSchemaVersion=14] ["start time"=212.292s] [gotSchemaVersion=14] [phyTblIDs="[28]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:16:06.181 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:16:06.181 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=29] [version=14]
[2024/05/15 17:16:06.182 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=14] ["take time"=2.020333ms] [job="ID:29, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:28, RowCount:0, ArgLen:2, start time: 2024-05-15 17:16:06.172 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:16:06.186 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=29] [job="ID:29, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:28, RowCount:0, ArgLen:0, start time: 2024-05-15 17:16:06.172 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:16:06.190 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=29]
[2024/05/15 17:16:06.190 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:16:06.190 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=14] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range_done (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_done_index (job_id, element_id)\n\t);"] [user=]
[2024/05/15 17:16:06.191 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:31, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:30, RowCount:0, ArgLen:2, start time: 2024-05-15 17:16:06.191 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:16:06.191 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:31, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:30, RowCount:0, ArgLen:2, start time: 2024-05-15 17:16:06.191 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range_done (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_done_index (job_id, element_id)\n\t);"]
[2024/05/15 17:16:06.196 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=31] [category=ddl] [job="ID:31, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:30, RowCount:0, ArgLen:0, start time: 2024-05-15 17:16:06.191 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:16:06.197 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=14] [neededSchemaVersion=15] ["start time"=216.375s] [gotSchemaVersion=15] [phyTblIDs="[30]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:16:06.198 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:16:06.198 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=31] [version=15]
[2024/05/15 17:16:06.199 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=15] ["take time"=2.272625ms] [job="ID:31, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:30, RowCount:0, ArgLen:2, start time: 2024-05-15 17:16:06.191 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:16:06.204 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=31] [job="ID:31, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:30, RowCount:0, ArgLen:0, start time: 2024-05-15 17:16:06.191 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:16:06.207 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=31]
[2024/05/15 17:16:06.207 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:16:06.207 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=15] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_feedback (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tfeedback \tBLOB NOT NULL,\n\t\tINDEX hist(table_id, is_index, hist_id)\n\t);"] [user=]
[2024/05/15 17:16:06.208 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:33, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:32, RowCount:0, ArgLen:2, start time: 2024-05-15 17:16:06.207 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:16:06.208 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:33, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:32, RowCount:0, ArgLen:2, start time: 2024-05-15 17:16:06.207 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_feedback (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tfeedback \tBLOB NOT NULL,\n\t\tINDEX hist(table_id, is_index, hist_id)\n\t);"]
[2024/05/15 17:16:06.212 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=33] [category=ddl] [job="ID:33, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:32, RowCount:0, ArgLen:0, start time: 2024-05-15 17:16:06.207 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:16:06.214 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=15] [neededSchemaVersion=16] ["start time"=216.459s] [gotSchemaVersion=16] [phyTblIDs="[32]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:16:06.214 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:16:06.214 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=33] [version=16]
[2024/05/15 17:16:06.216 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=16] ["take time"=2.64125ms] [job="ID:33, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:32, RowCount:0, ArgLen:2, start time: 2024-05-15 17:16:06.207 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:16:06.226 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=33] [job="ID:33, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:32, RowCount:0, ArgLen:0, start time: 2024-05-15 17:16:06.207 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:16:06.230 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=33]
[2024/05/15 17:16:06.230 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:16:06.231 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=16] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.role_edges (\n\t\tFROM_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tFROM_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tWITH_ADMIN_OPTION \tENUM('N','Y') CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (FROM_HOST,FROM_USER,TO_HOST,TO_USER)\n\t);"] [user=]
[2024/05/15 17:16:06.235 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:35, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:34, RowCount:0, ArgLen:2, start time: 2024-05-15 17:16:06.234 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:16:06.235 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:35, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:34, RowCount:0, ArgLen:2, start time: 2024-05-15 17:16:06.234 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.role_edges (\n\t\tFROM_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tFROM_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tWITH_ADMIN_OPTION \tENUM('N','Y') CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (FROM_HOST,FROM_USER,TO_HOST,TO_USER)\n\t);"]
[2024/05/15 17:16:06.247 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=35] [category=ddl] [job="ID:35, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:34, RowCount:0, ArgLen:0, start time: 2024-05-15 17:16:06.234 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:16:06.248 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=16] [neededSchemaVersion=17] ["start time"=221.042s] [gotSchemaVersion=17] [phyTblIDs="[34]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:16:06.249 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:16:06.249 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=35] [version=17]
[2024/05/15 17:16:06.250 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=17] ["take time"=2.404542ms] [job="ID:35, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:34, RowCount:0, ArgLen:2, start time: 2024-05-15 17:16:06.234 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:16:06.258 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=35] [job="ID:35, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:34, RowCount:0, ArgLen:0, start time: 2024-05-15 17:16:06.234 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:16:06.260 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=35]
[2024/05/15 17:16:06.260 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:16:06.260 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=17] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.default_roles (\n\t\tHOST \t\t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tUSER \t\t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tDEFAULT_ROLE_HOST \tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '%',\n\t\tDEFAULT_ROLE_USER \tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tPRIMARY KEY (HOST,USER,DEFAULT_ROLE_HOST,DEFAULT_ROLE_USER)\n\t)"] [user=]
[2024/05/15 17:16:06.262 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:37, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:36, RowCount:0, ArgLen:2, start time: 2024-05-15 17:16:06.261 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:16:06.262 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:37, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:36, RowCount:0, ArgLen:2, start time: 2024-05-15 17:16:06.261 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.default_roles (\n\t\tHOST \t\t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tUSER \t\t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tDEFAULT_ROLE_HOST \tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '%',\n\t\tDEFAULT_ROLE_USER \tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tPRIMARY KEY (HOST,USER,DEFAULT_ROLE_HOST,DEFAULT_ROLE_USER)\n\t)"]
[2024/05/15 17:16:06.268 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=37] [category=ddl] [job="ID:37, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:36, RowCount:0, ArgLen:0, start time: 2024-05-15 17:16:06.261 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:16:06.271 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=17] [neededSchemaVersion=18] ["start time"=1.243666ms] [gotSchemaVersion=18] [phyTblIDs="[36]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:16:06.272 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:16:06.272 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=37] [version=18]
[2024/05/15 17:16:06.276 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=18] ["take time"=6.663208ms] [job="ID:37, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:36, RowCount:0, ArgLen:2, start time: 2024-05-15 17:16:06.261 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:16:06.282 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=37] [job="ID:37, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:36, RowCount:0, ArgLen:0, start time: 2024-05-15 17:16:06.261 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:16:06.286 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=37]
[2024/05/15 17:16:06.286 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:16:06.287 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=18] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.bind_info (\n\t\toriginal_sql TEXT NOT NULL,\n\t\tbind_sql TEXT NOT NULL,\n\t\tdefault_db TEXT NOT NULL,\n\t\tstatus TEXT NOT NULL,\n\t\tcreate_time TIMESTAMP(3) NOT NULL,\n\t\tupdate_time TIMESTAMP(3) NOT NULL,\n\t\tcharset TEXT NOT NULL,\n\t\tcollation TEXT NOT NULL,\n\t\tsource VARCHAR(10) NOT NULL DEFAULT 'unknown',\n\t\tsql_digest varchar(64),\n\t\tplan_digest varchar(64),\n\t\tINDEX sql_index(original_sql(700),default_db(68)) COMMENT \"accelerate the speed when add global binding query\",\n\t\tINDEX time_index(update_time) COMMENT \"accelerate the speed when querying with last update time\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"] [user=]
[2024/05/15 17:16:06.289 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:39, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:38, RowCount:0, ArgLen:2, start time: 2024-05-15 17:16:06.288 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:16:06.289 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:39, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:38, RowCount:0, ArgLen:2, start time: 2024-05-15 17:16:06.288 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.bind_info (\n\t\toriginal_sql TEXT NOT NULL,\n\t\tbind_sql TEXT NOT NULL,\n\t\tdefault_db TEXT NOT NULL,\n\t\tstatus TEXT NOT NULL,\n\t\tcreate_time TIMESTAMP(3) NOT NULL,\n\t\tupdate_time TIMESTAMP(3) NOT NULL,\n\t\tcharset TEXT NOT NULL,\n\t\tcollation TEXT NOT NULL,\n\t\tsource VARCHAR(10) NOT NULL DEFAULT 'unknown',\n\t\tsql_digest varchar(64),\n\t\tplan_digest varchar(64),\n\t\tINDEX sql_index(original_sql(700),default_db(68)) COMMENT \"accelerate the speed when add global binding query\",\n\t\tINDEX time_index(update_time) COMMENT \"accelerate the speed when querying with last update time\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"]
[2024/05/15 17:16:06.295 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=39] [category=ddl] [job="ID:39, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:38, RowCount:0, ArgLen:0, start time: 2024-05-15 17:16:06.288 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:16:06.298 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=18] [neededSchemaVersion=19] ["start time"=611.209s] [gotSchemaVersion=19] [phyTblIDs="[38]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:16:06.299 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:16:06.299 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=39] [version=19]
[2024/05/15 17:16:06.300 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=19] ["take time"=2.545292ms] [job="ID:39, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:38, RowCount:0, ArgLen:2, start time: 2024-05-15 17:16:06.288 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:16:06.306 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=39] [job="ID:39, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:38, RowCount:0, ArgLen:0, start time: 2024-05-15 17:16:06.288 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:16:06.309 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=39]
[2024/05/15 17:16:06.309 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:16:06.310 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=0] ["to ID"=1] ["table ID"=38] ["database ID"=1]
[2024/05/15 17:16:06.310 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=19] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_top_n (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tvalue \t\tLONGBLOB,\n\t\tcount \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\tINDEX tbl(table_id, is_index, hist_id)\n\t);"] [user=]
[2024/05/15 17:16:06.312 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:41, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:40, RowCount:0, ArgLen:2, start time: 2024-05-15 17:16:06.311 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:16:06.312 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:41, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:40, RowCount:0, ArgLen:2, start time: 2024-05-15 17:16:06.311 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_top_n (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tvalue \t\tLONGBLOB,\n\t\tcount \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\tINDEX tbl(table_id, is_index, hist_id)\n\t);"]
[2024/05/15 17:16:06.316 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=41] [category=ddl] [job="ID:41, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:40, RowCount:0, ArgLen:0, start time: 2024-05-15 17:16:06.311 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:16:06.318 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=19] [neededSchemaVersion=20] ["start time"=221.667s] [gotSchemaVersion=20] [phyTblIDs="[40]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:16:06.319 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:16:06.319 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=41] [version=20]
[2024/05/15 17:16:06.320 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=20] ["take time"=2.336875ms] [job="ID:41, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:40, RowCount:0, ArgLen:2, start time: 2024-05-15 17:16:06.311 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:16:06.329 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=41] [job="ID:41, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:40, RowCount:0, ArgLen:0, start time: 2024-05-15 17:16:06.311 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:16:06.331 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=41]
[2024/05/15 17:16:06.331 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:16:06.331 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=20] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.expr_pushdown_blacklist (\n\t\tname \t\tCHAR(100) NOT NULL,\n\t\tstore_type \tCHAR(100) NOT NULL DEFAULT 'tikv,tiflash,tidb',\n\t\treason \t\tVARCHAR(200)\n\t);"] [user=]
[2024/05/15 17:16:06.333 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:43, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:42, RowCount:0, ArgLen:2, start time: 2024-05-15 17:16:06.332 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:16:06.333 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:43, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:42, RowCount:0, ArgLen:2, start time: 2024-05-15 17:16:06.332 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.expr_pushdown_blacklist (\n\t\tname \t\tCHAR(100) NOT NULL,\n\t\tstore_type \tCHAR(100) NOT NULL DEFAULT 'tikv,tiflash,tidb',\n\t\treason \t\tVARCHAR(200)\n\t);"]
[2024/05/15 17:16:06.338 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=43] [category=ddl] [job="ID:43, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:42, RowCount:0, ArgLen:0, start time: 2024-05-15 17:16:06.332 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:16:06.340 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=20] [neededSchemaVersion=21] ["start time"=178.458s] [gotSchemaVersion=21] [phyTblIDs="[42]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:16:06.341 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:16:06.341 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=43] [version=21]
[2024/05/15 17:16:06.343 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=21] ["take time"=3.508667ms] [job="ID:43, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:42, RowCount:0, ArgLen:2, start time: 2024-05-15 17:16:06.332 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:16:06.350 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=43] [job="ID:43, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:42, RowCount:0, ArgLen:0, start time: 2024-05-15 17:16:06.332 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:16:06.355 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=43]
[2024/05/15 17:16:06.355 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:16:06.356 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=21] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.opt_rule_blacklist (\n\t\tname \tCHAR(100) NOT NULL\n\t);"] [user=]
[2024/05/15 17:16:06.357 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:45, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:44, RowCount:0, ArgLen:2, start time: 2024-05-15 17:16:06.357 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:16:06.357 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:45, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:44, RowCount:0, ArgLen:2, start time: 2024-05-15 17:16:06.357 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.opt_rule_blacklist (\n\t\tname \tCHAR(100) NOT NULL\n\t);"]
[2024/05/15 17:16:06.362 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=45] [category=ddl] [job="ID:45, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:44, RowCount:0, ArgLen:0, start time: 2024-05-15 17:16:06.357 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:16:06.365 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=21] [neededSchemaVersion=22] ["start time"=121.75s] [gotSchemaVersion=22] [phyTblIDs="[44]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:16:06.366 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:16:06.366 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=45] [version=22]
[2024/05/15 17:16:06.367 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=22] ["take time"=2.025625ms] [job="ID:45, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:44, RowCount:0, ArgLen:2, start time: 2024-05-15 17:16:06.357 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:16:06.370 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=45] [job="ID:45, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:44, RowCount:0, ArgLen:0, start time: 2024-05-15 17:16:06.357 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:16:06.372 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=45]
[2024/05/15 17:16:06.372 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:16:06.373 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=22] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_extended (\n\t\tname varchar(32) NOT NULL,\n\t\ttype tinyint(4) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tcolumn_ids varchar(32) NOT NULL,\n\t\tstats blob DEFAULT NULL,\n\t\tversion bigint(64) unsigned NOT NULL,\n\t\tstatus tinyint(4) NOT NULL,\n\t\tPRIMARY KEY(name, table_id),\n\t\tKEY idx_1 (table_id, status, version),\n\t\tKEY idx_2 (status, version)\n\t);"] [user=]
[2024/05/15 17:16:06.374 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:47, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:46, RowCount:0, ArgLen:2, start time: 2024-05-15 17:16:06.374 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:16:06.375 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:47, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:46, RowCount:0, ArgLen:2, start time: 2024-05-15 17:16:06.374 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_extended (\n\t\tname varchar(32) NOT NULL,\n\t\ttype tinyint(4) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tcolumn_ids varchar(32) NOT NULL,\n\t\tstats blob DEFAULT NULL,\n\t\tversion bigint(64) unsigned NOT NULL,\n\t\tstatus tinyint(4) NOT NULL,\n\t\tPRIMARY KEY(name, table_id),\n\t\tKEY idx_1 (table_id, status, version),\n\t\tKEY idx_2 (status, version)\n\t);"]
[2024/05/15 17:16:06.380 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=47] [category=ddl] [job="ID:47, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:46, RowCount:0, ArgLen:0, start time: 2024-05-15 17:16:06.374 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:16:06.382 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=22] [neededSchemaVersion=23] ["start time"=316.916s] [gotSchemaVersion=23] [phyTblIDs="[46]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:16:06.382 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:16:06.382 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=47] [version=23]
[2024/05/15 17:16:06.384 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=23] ["take time"=3.004833ms] [job="ID:47, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:46, RowCount:0, ArgLen:2, start time: 2024-05-15 17:16:06.374 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:16:06.390 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=47] [job="ID:47, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:46, RowCount:0, ArgLen:0, start time: 2024-05-15 17:16:06.374 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:16:06.392 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=47]
[2024/05/15 17:16:06.392 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:16:06.392 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=23] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_fm_sketch (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tvalue \t\tLONGBLOB,\n\t\tINDEX tbl(table_id, is_index, hist_id)\n\t);"] [user=]
[2024/05/15 17:16:06.394 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:49, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:48, RowCount:0, ArgLen:2, start time: 2024-05-15 17:16:06.393 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:16:06.394 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:49, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:48, RowCount:0, ArgLen:2, start time: 2024-05-15 17:16:06.393 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_fm_sketch (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tvalue \t\tLONGBLOB,\n\t\tINDEX tbl(table_id, is_index, hist_id)\n\t);"]
[2024/05/15 17:16:06.398 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=49] [category=ddl] [job="ID:49, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:48, RowCount:0, ArgLen:0, start time: 2024-05-15 17:16:06.393 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:16:06.399 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=23] [neededSchemaVersion=24] ["start time"=189.708s] [gotSchemaVersion=24] [phyTblIDs="[48]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:16:06.400 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:16:06.400 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=49] [version=24]
[2024/05/15 17:16:06.401 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=24] ["take time"=2.1835ms] [job="ID:49, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:48, RowCount:0, ArgLen:2, start time: 2024-05-15 17:16:06.393 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:16:06.406 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=49] [job="ID:49, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:48, RowCount:0, ArgLen:0, start time: 2024-05-15 17:16:06.393 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:16:06.408 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=49]
[2024/05/15 17:16:06.408 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:16:06.408 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=24] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.global_grants (\n\t\tUSER char(32) NOT NULL DEFAULT '',\n\t\tHOST char(255) NOT NULL DEFAULT '',\n\t\tPRIV char(32) NOT NULL DEFAULT '',\n\t\tWITH_GRANT_OPTION enum('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (USER,HOST,PRIV)\n\t);"] [user=]
[2024/05/15 17:16:06.410 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:51, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:50, RowCount:0, ArgLen:2, start time: 2024-05-15 17:16:06.409 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:16:06.410 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:51, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:50, RowCount:0, ArgLen:2, start time: 2024-05-15 17:16:06.409 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.global_grants (\n\t\tUSER char(32) NOT NULL DEFAULT '',\n\t\tHOST char(255) NOT NULL DEFAULT '',\n\t\tPRIV char(32) NOT NULL DEFAULT '',\n\t\tWITH_GRANT_OPTION enum('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (USER,HOST,PRIV)\n\t);"]
[2024/05/15 17:16:06.414 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=51] [category=ddl] [job="ID:51, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:50, RowCount:0, ArgLen:0, start time: 2024-05-15 17:16:06.409 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:16:06.415 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=24] [neededSchemaVersion=25] ["start time"=205.916s] [gotSchemaVersion=25] [phyTblIDs="[50]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:16:06.416 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:16:06.416 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=51] [version=25]
[2024/05/15 17:16:06.417 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=25] ["take time"=2.359ms] [job="ID:51, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:50, RowCount:0, ArgLen:2, start time: 2024-05-15 17:16:06.409 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:16:06.422 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=51] [job="ID:51, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:50, RowCount:0, ArgLen:0, start time: 2024-05-15 17:16:06.409 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:16:06.423 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=51]
[2024/05/15 17:16:06.423 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:16:06.423 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=25] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.capture_plan_baselines_blacklist (\n\t\tid bigint(64) auto_increment,\n\t\tfilter_type varchar(32) NOT NULL COMMENT \"type of the filter, only db, table and frequency supported now\",\n\t\tfilter_value varchar(32) NOT NULL,\n\t\tkey idx(filter_type),\n\t\tprimary key(id)\n\t);"] [user=]
[2024/05/15 17:16:06.425 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:53, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:52, RowCount:0, ArgLen:2, start time: 2024-05-15 17:16:06.424 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:16:06.425 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:53, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:52, RowCount:0, ArgLen:2, start time: 2024-05-15 17:16:06.424 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.capture_plan_baselines_blacklist (\n\t\tid bigint(64) auto_increment,\n\t\tfilter_type varchar(32) NOT NULL COMMENT \"type of the filter, only db, table and frequency supported now\",\n\t\tfilter_value varchar(32) NOT NULL,\n\t\tkey idx(filter_type),\n\t\tprimary key(id)\n\t);"]
[2024/05/15 17:16:06.430 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=53] [category=ddl] [job="ID:53, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:52, RowCount:0, ArgLen:0, start time: 2024-05-15 17:16:06.424 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:16:06.432 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=25] [neededSchemaVersion=26] ["start time"=288.042s] [gotSchemaVersion=26] [phyTblIDs="[52]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:16:06.433 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:16:06.433 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=53] [version=26]
[2024/05/15 17:16:06.434 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=26] ["take time"=2.19925ms] [job="ID:53, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:52, RowCount:0, ArgLen:2, start time: 2024-05-15 17:16:06.424 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:16:06.440 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=53] [job="ID:53, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:52, RowCount:0, ArgLen:0, start time: 2024-05-15 17:16:06.424 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:16:06.441 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=53]
[2024/05/15 17:16:06.442 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:16:06.442 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=26] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.column_stats_usage (\n\t\ttable_id BIGINT(64) NOT NULL,\n\t\tcolumn_id BIGINT(64) NOT NULL,\n\t\tlast_used_at TIMESTAMP,\n\t\tlast_analyzed_at TIMESTAMP,\n\t\tPRIMARY KEY (table_id, column_id) CLUSTERED\n\t);"] [user=]
[2024/05/15 17:16:06.444 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:55, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:54, RowCount:0, ArgLen:2, start time: 2024-05-15 17:16:06.443 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:16:06.444 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:55, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:54, RowCount:0, ArgLen:2, start time: 2024-05-15 17:16:06.443 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.column_stats_usage (\n\t\ttable_id BIGINT(64) NOT NULL,\n\t\tcolumn_id BIGINT(64) NOT NULL,\n\t\tlast_used_at TIMESTAMP,\n\t\tlast_analyzed_at TIMESTAMP,\n\t\tPRIMARY KEY (table_id, column_id) CLUSTERED\n\t);"]
[2024/05/15 17:16:06.453 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=55] [category=ddl] [job="ID:55, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:54, RowCount:0, ArgLen:0, start time: 2024-05-15 17:16:06.443 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:16:06.456 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=26] [neededSchemaVersion=27] ["start time"=210.792s] [gotSchemaVersion=27] [phyTblIDs="[54]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:16:06.456 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:16:06.456 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=55] [version=27]
[2024/05/15 17:16:06.459 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=27] ["take time"=3.234084ms] [job="ID:55, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:54, RowCount:0, ArgLen:2, start time: 2024-05-15 17:16:06.443 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:16:06.466 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=55] [job="ID:55, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:54, RowCount:0, ArgLen:0, start time: 2024-05-15 17:16:06.443 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:16:06.468 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=55]
[2024/05/15 17:16:06.468 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:16:06.468 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=27] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.table_cache_meta (\n\t\ttid bigint(11) NOT NULL DEFAULT 0,\n\t\tlock_type enum('NONE','READ', 'INTEND', 'WRITE') NOT NULL DEFAULT 'NONE',\n\t\tlease bigint(20) NOT NULL DEFAULT 0,\n\t\toldReadLease bigint(20) NOT NULL DEFAULT 0,\n\t\tPRIMARY KEY (tid)\n\t);"] [user=]
[2024/05/15 17:16:06.469 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:57, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:56, RowCount:0, ArgLen:2, start time: 2024-05-15 17:16:06.468 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:16:06.469 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:57, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:56, RowCount:0, ArgLen:2, start time: 2024-05-15 17:16:06.468 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.table_cache_meta (\n\t\ttid bigint(11) NOT NULL DEFAULT 0,\n\t\tlock_type enum('NONE','READ', 'INTEND', 'WRITE') NOT NULL DEFAULT 'NONE',\n\t\tlease bigint(20) NOT NULL DEFAULT 0,\n\t\toldReadLease bigint(20) NOT NULL DEFAULT 0,\n\t\tPRIMARY KEY (tid)\n\t);"]
[2024/05/15 17:16:06.472 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=57] [category=ddl] [job="ID:57, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:56, RowCount:0, ArgLen:0, start time: 2024-05-15 17:16:06.468 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:16:06.474 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=27] [neededSchemaVersion=28] ["start time"=182.25s] [gotSchemaVersion=28] [phyTblIDs="[56]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:16:06.475 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:16:06.475 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=57] [version=28]
[2024/05/15 17:16:06.476 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=28] ["take time"=2.191792ms] [job="ID:57, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:56, RowCount:0, ArgLen:2, start time: 2024-05-15 17:16:06.468 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:16:06.482 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=57] [job="ID:57, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:56, RowCount:0, ArgLen:0, start time: 2024-05-15 17:16:06.468 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:16:06.484 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=57]
[2024/05/15 17:16:06.484 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:16:06.485 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=28] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.analyze_options (\n\t\ttable_id BIGINT(64) NOT NULL,\n\t\tsample_num BIGINT(64) NOT NULL DEFAULT 0,\n\t\tsample_rate DOUBLE NOT NULL DEFAULT -1,\n\t\tbuckets BIGINT(64) NOT NULL DEFAULT 0,\n\t\ttopn BIGINT(64) NOT NULL DEFAULT -1,\n\t\tcolumn_choice enum('DEFAULT','ALL','PREDICATE','LIST') NOT NULL DEFAULT 'DEFAULT',\n\t\tcolumn_ids TEXT(19372),\n\t\tPRIMARY KEY (table_id) CLUSTERED\n\t);"] [user=]
[2024/05/15 17:16:06.485 +08:00] [INFO] [ddl_api.go:1139] ["Automatically convert BLOB(19372) to MEDIUMBLOB"] [category=ddl]
[2024/05/15 17:16:06.487 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:59, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:58, RowCount:0, ArgLen:2, start time: 2024-05-15 17:16:06.486 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:16:06.487 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:59, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:58, RowCount:0, ArgLen:2, start time: 2024-05-15 17:16:06.486 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.analyze_options (\n\t\ttable_id BIGINT(64) NOT NULL,\n\t\tsample_num BIGINT(64) NOT NULL DEFAULT 0,\n\t\tsample_rate DOUBLE NOT NULL DEFAULT -1,\n\t\tbuckets BIGINT(64) NOT NULL DEFAULT 0,\n\t\ttopn BIGINT(64) NOT NULL DEFAULT -1,\n\t\tcolumn_choice enum('DEFAULT','ALL','PREDICATE','LIST') NOT NULL DEFAULT 'DEFAULT',\n\t\tcolumn_ids TEXT(19372),\n\t\tPRIMARY KEY (table_id) CLUSTERED\n\t);"]
[2024/05/15 17:16:06.491 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=59] [category=ddl] [job="ID:59, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:58, RowCount:0, ArgLen:0, start time: 2024-05-15 17:16:06.486 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:16:06.494 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=28] [neededSchemaVersion=29] ["start time"=238.917s] [gotSchemaVersion=29] [phyTblIDs="[58]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:16:06.495 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:16:06.495 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=59] [version=29]
[2024/05/15 17:16:06.497 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=29] ["take time"=2.821834ms] [job="ID:59, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:58, RowCount:0, ArgLen:2, start time: 2024-05-15 17:16:06.486 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:16:06.502 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=59] [job="ID:59, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:58, RowCount:0, ArgLen:0, start time: 2024-05-15 17:16:06.486 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:16:06.504 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=59]
[2024/05/15 17:16:06.504 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:16:06.504 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=29] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_history (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tstats_data longblob NOT NULL,\n\t\tseq_no bigint(64) NOT NULL comment 'sequence number of the gzipped data slice',\n\t\tversion bigint(64) NOT NULL comment 'stats version which corresponding to stats:version in EXPLAIN',\n\t\tcreate_time datetime(6) NOT NULL,\n\t\tUNIQUE KEY table_version_seq (table_id, version, seq_no),\n\t\tKEY table_create_time (table_id, create_time, seq_no),\n    \tKEY idx_create_time (create_time)\n\t);"] [user=]
[2024/05/15 17:16:06.506 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:61, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:60, RowCount:0, ArgLen:2, start time: 2024-05-15 17:16:06.505 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:16:06.506 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:61, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:60, RowCount:0, ArgLen:2, start time: 2024-05-15 17:16:06.505 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_history (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tstats_data longblob NOT NULL,\n\t\tseq_no bigint(64) NOT NULL comment 'sequence number of the gzipped data slice',\n\t\tversion bigint(64) NOT NULL comment 'stats version which corresponding to stats:version in EXPLAIN',\n\t\tcreate_time datetime(6) NOT NULL,\n\t\tUNIQUE KEY table_version_seq (table_id, version, seq_no),\n\t\tKEY table_create_time (table_id, create_time, seq_no),\n    \tKEY idx_create_time (create_time)\n\t);"]
[2024/05/15 17:16:06.515 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=61] [category=ddl] [job="ID:61, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:60, RowCount:0, ArgLen:0, start time: 2024-05-15 17:16:06.505 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:16:06.520 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=29] [neededSchemaVersion=30] ["start time"=466.459s] [gotSchemaVersion=30] [phyTblIDs="[60]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:16:06.521 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:16:06.521 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=61] [version=30]
[2024/05/15 17:16:06.524 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=30] ["take time"=4.73925ms] [job="ID:61, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:60, RowCount:0, ArgLen:2, start time: 2024-05-15 17:16:06.505 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:16:06.534 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=61] [job="ID:61, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:60, RowCount:0, ArgLen:0, start time: 2024-05-15 17:16:06.505 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:16:06.540 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=61]
[2024/05/15 17:16:06.540 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:16:06.540 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=30] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_meta_history (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tmodify_count bigint(64) NOT NULL,\n\t\tcount bigint(64) NOT NULL,\n\t\tversion bigint(64) NOT NULL comment 'stats version which corresponding to stats:version in EXPLAIN',\n    \tsource varchar(40) NOT NULL,\n\t\tcreate_time datetime(6) NOT NULL,\n\t\tUNIQUE KEY table_version (table_id, version),\n\t\tKEY table_create_time (table_id, create_time),\n    \tKEY idx_create_time (create_time)\n\t);"] [user=]
[2024/05/15 17:16:06.543 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:63, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:62, RowCount:0, ArgLen:2, start time: 2024-05-15 17:16:06.542 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:16:06.543 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:63, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:62, RowCount:0, ArgLen:2, start time: 2024-05-15 17:16:06.542 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_meta_history (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tmodify_count bigint(64) NOT NULL,\n\t\tcount bigint(64) NOT NULL,\n\t\tversion bigint(64) NOT NULL comment 'stats version which corresponding to stats:version in EXPLAIN',\n    \tsource varchar(40) NOT NULL,\n\t\tcreate_time datetime(6) NOT NULL,\n\t\tUNIQUE KEY table_version (table_id, version),\n\t\tKEY table_create_time (table_id, create_time),\n    \tKEY idx_create_time (create_time)\n\t);"]
[2024/05/15 17:16:06.552 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=63] [category=ddl] [job="ID:63, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:62, RowCount:0, ArgLen:0, start time: 2024-05-15 17:16:06.542 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:16:06.556 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=30] [neededSchemaVersion=31] ["start time"=629.833s] [gotSchemaVersion=31] [phyTblIDs="[62]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:16:06.557 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:16:06.557 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=63] [version=31]
[2024/05/15 17:16:06.560 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=31] ["take time"=5.33625ms] [job="ID:63, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:62, RowCount:0, ArgLen:2, start time: 2024-05-15 17:16:06.542 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:16:06.567 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=63] [job="ID:63, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:62, RowCount:0, ArgLen:0, start time: 2024-05-15 17:16:06.542 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:16:06.569 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=63]
[2024/05/15 17:16:06.569 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:16:06.569 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=31] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.analyze_jobs (\n\t\tid BIGINT(64) UNSIGNED NOT NULL AUTO_INCREMENT,\n\t\tupdate_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\ttable_schema CHAR(64) NOT NULL DEFAULT '',\n\t\ttable_name CHAR(64) NOT NULL DEFAULT '',\n\t\tpartition_name CHAR(64) NOT NULL DEFAULT '',\n\t\tjob_info TEXT NOT NULL,\n\t\tprocessed_rows BIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tstart_time TIMESTAMP,\n\t\tend_time TIMESTAMP,\n\t\tstate ENUM('pending', 'running', 'finished', 'failed') NOT NULL,\n\t\tfail_reason TEXT,\n\t\tinstance VARCHAR(512) NOT NULL comment 'address of the TiDB instance executing the analyze job',\n\t\tprocess_id BIGINT(64) UNSIGNED comment 'ID of the process executing the analyze job',\n\t\tPRIMARY KEY (id),\n\t\tKEY (update_time)\n\t);"] [user=]
[2024/05/15 17:16:06.572 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:65, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:64, RowCount:0, ArgLen:2, start time: 2024-05-15 17:16:06.57 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:16:06.572 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:65, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:64, RowCount:0, ArgLen:2, start time: 2024-05-15 17:16:06.57 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.analyze_jobs (\n\t\tid BIGINT(64) UNSIGNED NOT NULL AUTO_INCREMENT,\n\t\tupdate_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\ttable_schema CHAR(64) NOT NULL DEFAULT '',\n\t\ttable_name CHAR(64) NOT NULL DEFAULT '',\n\t\tpartition_name CHAR(64) NOT NULL DEFAULT '',\n\t\tjob_info TEXT NOT NULL,\n\t\tprocessed_rows BIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tstart_time TIMESTAMP,\n\t\tend_time TIMESTAMP,\n\t\tstate ENUM('pending', 'running', 'finished', 'failed') NOT NULL,\n\t\tfail_reason TEXT,\n\t\tinstance VARCHAR(512) NOT NULL comment 'address of the TiDB instance executing the analyze job',\n\t\tprocess_id BIGINT(64) UNSIGNED comment 'ID of the process executing the analyze job',\n\t\tPRIMARY KEY (id),\n\t\tKEY (update_time)\n\t);"]
[2024/05/15 17:16:06.576 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=65] [category=ddl] [job="ID:65, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:64, RowCount:0, ArgLen:0, start time: 2024-05-15 17:16:06.57 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:16:06.580 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=31] [neededSchemaVersion=32] ["start time"=492.083s] [gotSchemaVersion=32] [phyTblIDs="[64]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:16:06.581 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:16:06.581 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=65] [version=32]
[2024/05/15 17:16:06.583 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=32] ["take time"=3.49525ms] [job="ID:65, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:64, RowCount:0, ArgLen:2, start time: 2024-05-15 17:16:06.57 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:16:06.588 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=65] [job="ID:65, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:64, RowCount:0, ArgLen:0, start time: 2024-05-15 17:16:06.57 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:16:06.592 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=65]
[2024/05/15 17:16:06.593 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:16:06.593 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=32] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.advisory_locks (\n\t\tlock_name VARCHAR(64) NOT NULL PRIMARY KEY\n\t);"] [user=]
[2024/05/15 17:16:06.596 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:67, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:66, RowCount:0, ArgLen:2, start time: 2024-05-15 17:16:06.595 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:16:06.596 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:67, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:66, RowCount:0, ArgLen:2, start time: 2024-05-15 17:16:06.595 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.advisory_locks (\n\t\tlock_name VARCHAR(64) NOT NULL PRIMARY KEY\n\t);"]
[2024/05/15 17:16:06.600 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=67] [category=ddl] [job="ID:67, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:66, RowCount:0, ArgLen:0, start time: 2024-05-15 17:16:06.595 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:16:06.601 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=32] [neededSchemaVersion=33] ["start time"=135.292s] [gotSchemaVersion=33] [phyTblIDs="[66]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:16:06.602 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:16:06.602 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=67] [version=33]
[2024/05/15 17:16:06.603 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=33] ["take time"=2.004667ms] [job="ID:67, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:66, RowCount:0, ArgLen:2, start time: 2024-05-15 17:16:06.595 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:16:06.609 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=67] [job="ID:67, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:66, RowCount:0, ArgLen:0, start time: 2024-05-15 17:16:06.595 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:16:06.612 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=67]
[2024/05/15 17:16:06.612 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:16:06.617 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:69, Type:create view, State:queueing, SchemaState:none, SchemaID:1, TableID:68, RowCount:0, ArgLen:3, start time: 2024-05-15 17:16:06.617 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:16:06.617 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:69, Type:create view, State:queueing, SchemaState:none, SchemaID:1, TableID:68, RowCount:0, ArgLen:3, start time: 2024-05-15 17:16:06.617 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE OR REPLACE VIEW mysql.tidb_mdl_view as (\n\t\tSELECT tidb_mdl_info.job_id,\n\t\t\tJSON_UNQUOTE(JSON_EXTRACT(cast(cast(job_meta as char) as json), \"$.schema_name\")) as db_name,\n\t\t\tJSON_UNQUOTE(JSON_EXTRACT(cast(cast(job_meta as char) as json), \"$.table_name\")) as table_name,\n\t\t\tJSON_UNQUOTE(JSON_EXTRACT(cast(cast(job_meta as char) as json), \"$.query\")) as query,\n\t\t\tsession_id,\n\t\t\tcluster_tidb_trx.start_time,\n\t\t\ttidb_decode_sql_digests(all_sql_digests, 4096) AS SQL_DIGESTS\n\t\tFROM mysql.tidb_ddl_job,\n\t\t\tmysql.tidb_mdl_info,\n\t\t\tinformation_schema.cluster_tidb_trx\n\t\tWHERE tidb_ddl_job.job_id=tidb_mdl_info.job_id\n\t\t\tAND CONCAT(',', tidb_mdl_info.table_ids, ',') REGEXP CONCAT(',(', REPLACE(cluster_tidb_trx.related_table_ids, ',', '|'), '),') != 0\n\t);"]
[2024/05/15 17:16:06.621 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=69] [category=ddl] [job="ID:69, Type:create view, State:queueing, SchemaState:none, SchemaID:1, TableID:68, RowCount:0, ArgLen:0, start time: 2024-05-15 17:16:06.617 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:16:06.625 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=33] [neededSchemaVersion=34] ["start time"=245.75s] [gotSchemaVersion=34] [phyTblIDs="[68]"] [actionTypes="[21]"] [diffTypes="[\"create view\"]"]
[2024/05/15 17:16:06.626 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:16:06.626 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=69] [version=34]
[2024/05/15 17:16:06.627 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=34] ["take time"=2.360625ms] [job="ID:69, Type:create view, State:done, SchemaState:public, SchemaID:1, TableID:68, RowCount:0, ArgLen:3, start time: 2024-05-15 17:16:06.617 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:16:06.634 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=69] [job="ID:69, Type:create view, State:synced, SchemaState:public, SchemaID:1, TableID:68, RowCount:0, ArgLen:0, start time: 2024-05-15 17:16:06.617 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:16:06.636 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=69]
[2024/05/15 17:16:06.636 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:16:06.636 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=34] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.plan_replayer_status (\n\t\tsql_digest VARCHAR(128),\n\t\tplan_digest VARCHAR(128),\n\t\torigin_sql TEXT,\n\t\ttoken VARCHAR(128),\n\t\tupdate_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\tfail_reason TEXT,\n\t\tinstance VARCHAR(512) NOT NULL comment 'address of the TiDB instance executing the plan replayer job');"] [user=]
[2024/05/15 17:16:06.638 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:71, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:70, RowCount:0, ArgLen:2, start time: 2024-05-15 17:16:06.637 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:16:06.638 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:71, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:70, RowCount:0, ArgLen:2, start time: 2024-05-15 17:16:06.637 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.plan_replayer_status (\n\t\tsql_digest VARCHAR(128),\n\t\tplan_digest VARCHAR(128),\n\t\torigin_sql TEXT,\n\t\ttoken VARCHAR(128),\n\t\tupdate_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\tfail_reason TEXT,\n\t\tinstance VARCHAR(512) NOT NULL comment 'address of the TiDB instance executing the plan replayer job');"]
[2024/05/15 17:16:06.644 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=71] [category=ddl] [job="ID:71, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:70, RowCount:0, ArgLen:0, start time: 2024-05-15 17:16:06.637 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:16:06.645 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=34] [neededSchemaVersion=35] ["start time"=235.167s] [gotSchemaVersion=35] [phyTblIDs="[70]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:16:06.646 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:16:06.646 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=71] [version=35]
[2024/05/15 17:16:06.649 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=35] ["take time"=3.507542ms] [job="ID:71, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:70, RowCount:0, ArgLen:2, start time: 2024-05-15 17:16:06.637 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:16:06.653 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=71] [job="ID:71, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:70, RowCount:0, ArgLen:0, start time: 2024-05-15 17:16:06.637 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:16:06.655 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=71]
[2024/05/15 17:16:06.656 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:16:06.656 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=35] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.plan_replayer_task (\n\t\tsql_digest VARCHAR(128) NOT NULL,\n\t\tplan_digest VARCHAR(128) NOT NULL,\n\t\tupdate_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\tPRIMARY KEY (sql_digest,plan_digest));"] [user=]
[2024/05/15 17:16:06.658 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:73, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:72, RowCount:0, ArgLen:2, start time: 2024-05-15 17:16:06.657 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:16:06.658 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:73, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:72, RowCount:0, ArgLen:2, start time: 2024-05-15 17:16:06.657 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.plan_replayer_task (\n\t\tsql_digest VARCHAR(128) NOT NULL,\n\t\tplan_digest VARCHAR(128) NOT NULL,\n\t\tupdate_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\tPRIMARY KEY (sql_digest,plan_digest));"]
[2024/05/15 17:16:06.662 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=73] [category=ddl] [job="ID:73, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:72, RowCount:0, ArgLen:0, start time: 2024-05-15 17:16:06.657 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:16:06.664 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=35] [neededSchemaVersion=36] ["start time"=292.042s] [gotSchemaVersion=36] [phyTblIDs="[72]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:16:06.665 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:16:06.665 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=73] [version=36]
[2024/05/15 17:16:06.666 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=36] ["take time"=3.204875ms] [job="ID:73, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:72, RowCount:0, ArgLen:2, start time: 2024-05-15 17:16:06.657 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:16:06.671 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=73] [job="ID:73, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:72, RowCount:0, ArgLen:0, start time: 2024-05-15 17:16:06.657 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:16:06.672 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=73]
[2024/05/15 17:16:06.672 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:16:06.673 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=36] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_table_locked(\n\t\ttable_id bigint(64) NOT NULL,\n\t\tmodify_count bigint(64) NOT NULL DEFAULT 0,\n\t\tcount bigint(64) NOT NULL DEFAULT 0,\n\t\tversion bigint(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tPRIMARY KEY (table_id));"] [user=]
[2024/05/15 17:16:06.674 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:75, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:74, RowCount:0, ArgLen:2, start time: 2024-05-15 17:16:06.674 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:16:06.674 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:75, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:74, RowCount:0, ArgLen:2, start time: 2024-05-15 17:16:06.674 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_table_locked(\n\t\ttable_id bigint(64) NOT NULL,\n\t\tmodify_count bigint(64) NOT NULL DEFAULT 0,\n\t\tcount bigint(64) NOT NULL DEFAULT 0,\n\t\tversion bigint(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tPRIMARY KEY (table_id));"]
[2024/05/15 17:16:06.679 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=75] [category=ddl] [job="ID:75, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:74, RowCount:0, ArgLen:0, start time: 2024-05-15 17:16:06.674 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:16:06.681 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=36] [neededSchemaVersion=37] ["start time"=205.292s] [gotSchemaVersion=37] [phyTblIDs="[74]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:16:06.682 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:16:06.682 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=75] [version=37]
[2024/05/15 17:16:06.683 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=37] ["take time"=2.1395ms] [job="ID:75, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:74, RowCount:0, ArgLen:2, start time: 2024-05-15 17:16:06.674 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:16:06.692 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=75] [job="ID:75, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:74, RowCount:0, ArgLen:0, start time: 2024-05-15 17:16:06.674 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:16:06.694 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=75]
[2024/05/15 17:16:06.694 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:16:06.694 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=37] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_ttl_table_status (\n\t\ttable_id bigint(64) PRIMARY KEY,\n        parent_table_id bigint(64),\n        table_statistics text DEFAULT NULL,\n\t\tlast_job_id varchar(64) DEFAULT NULL,\n\t\tlast_job_start_time timestamp NULL DEFAULT NULL,\n\t\tlast_job_finish_time timestamp NULL DEFAULT NULL,\n\t\tlast_job_ttl_expire timestamp NULL DEFAULT NULL,\n        last_job_summary text DEFAULT NULL,\n\t\tcurrent_job_id varchar(64) DEFAULT NULL,\n\t\tcurrent_job_owner_id varchar(64) DEFAULT NULL,\n\t\tcurrent_job_owner_addr varchar(256) DEFAULT NULL,\n\t\tcurrent_job_owner_hb_time timestamp,\n\t\tcurrent_job_start_time timestamp NULL DEFAULT NULL,\n\t\tcurrent_job_ttl_expire timestamp NULL DEFAULT NULL,\n\t\tcurrent_job_state text DEFAULT NULL,\n\t\tcurrent_job_status varchar(64) DEFAULT NULL,\n  \t\tcurrent_job_status_update_time timestamp NULL DEFAULT NULL);"] [user=]
[2024/05/15 17:16:06.697 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:77, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:76, RowCount:0, ArgLen:2, start time: 2024-05-15 17:16:06.696 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:16:06.697 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:77, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:76, RowCount:0, ArgLen:2, start time: 2024-05-15 17:16:06.696 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_ttl_table_status (\n\t\ttable_id bigint(64) PRIMARY KEY,\n        parent_table_id bigint(64),\n        table_statistics text DEFAULT NULL,\n\t\tlast_job_id varchar(64) DEFAULT NULL,\n\t\tlast_job_start_time timestamp NULL DEFAULT NULL,\n\t\tlast_job_finish_time timestamp NULL DEFAULT NULL,\n\t\tlast_job_ttl_expire timestamp NULL DEFAULT NULL,\n        last_job_summary text DEFAULT NULL,\n\t\tcurrent_job_id varchar(64) DEFAULT NULL,\n\t\tcurrent_job_owner_id varchar(64) DEFAULT NULL,\n\t\tcurrent_job_owner_addr varchar(256) DEFAULT NULL,\n\t\tcurrent_job_owner_hb_time timestamp,\n\t\tcurrent_job_start_time timestamp NULL DEFAULT NULL,\n\t\tcurrent_job_ttl_expire timestamp NULL DEFAULT NULL,\n\t\tcurrent_job_state text DEFAULT NULL,\n\t\tcurrent_job_status varchar(64) DEFAULT NULL,\n  \t\tcurrent_job_status_update_time timestamp NULL DEFAULT NULL);"]
[2024/05/15 17:16:06.703 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=77] [category=ddl] [job="ID:77, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:76, RowCount:0, ArgLen:0, start time: 2024-05-15 17:16:06.696 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:16:06.707 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=37] [neededSchemaVersion=38] ["start time"=502.208s] [gotSchemaVersion=38] [phyTblIDs="[76]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:16:06.708 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:16:06.708 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=77] [version=38]
[2024/05/15 17:16:06.709 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=38] ["take time"=2.913667ms] [job="ID:77, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:76, RowCount:0, ArgLen:2, start time: 2024-05-15 17:16:06.696 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:16:06.714 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=77] [job="ID:77, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:76, RowCount:0, ArgLen:0, start time: 2024-05-15 17:16:06.696 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:16:06.717 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=77]
[2024/05/15 17:16:06.717 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:16:06.717 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=38] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_ttl_task (\n\t\tjob_id varchar(64) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tscan_id int NOT NULL,\n\t\tscan_range_start BLOB,\n\t\tscan_range_end BLOB,\n\t\texpire_time timestamp NOT NULL,\n\t\towner_id varchar(64) DEFAULT NULL,\n\t\towner_addr varchar(64) DEFAULT NULL,\n\t\towner_hb_time timestamp DEFAULT NULL,\n\t\tstatus varchar(64) DEFAULT 'waiting',\n\t\tstatus_update_time timestamp NULL DEFAULT NULL,\n\t\tstate text,\n\t\tcreated_time timestamp NOT NULL,\n\t\tprimary key(job_id, scan_id),\n\t\tkey(created_time));"] [user=]
[2024/05/15 17:16:06.718 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:79, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:78, RowCount:0, ArgLen:2, start time: 2024-05-15 17:16:06.718 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:16:06.718 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:79, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:78, RowCount:0, ArgLen:2, start time: 2024-05-15 17:16:06.718 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_ttl_task (\n\t\tjob_id varchar(64) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tscan_id int NOT NULL,\n\t\tscan_range_start BLOB,\n\t\tscan_range_end BLOB,\n\t\texpire_time timestamp NOT NULL,\n\t\towner_id varchar(64) DEFAULT NULL,\n\t\towner_addr varchar(64) DEFAULT NULL,\n\t\towner_hb_time timestamp DEFAULT NULL,\n\t\tstatus varchar(64) DEFAULT 'waiting',\n\t\tstatus_update_time timestamp NULL DEFAULT NULL,\n\t\tstate text,\n\t\tcreated_time timestamp NOT NULL,\n\t\tprimary key(job_id, scan_id),\n\t\tkey(created_time));"]
[2024/05/15 17:16:06.723 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=79] [category=ddl] [job="ID:79, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:78, RowCount:0, ArgLen:0, start time: 2024-05-15 17:16:06.718 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:16:06.726 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=38] [neededSchemaVersion=39] ["start time"=404.5s] [gotSchemaVersion=39] [phyTblIDs="[78]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:16:06.726 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:16:06.726 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=79] [version=39]
[2024/05/15 17:16:06.728 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=39] ["take time"=2.616833ms] [job="ID:79, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:78, RowCount:0, ArgLen:2, start time: 2024-05-15 17:16:06.718 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:16:06.733 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=79] [job="ID:79, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:78, RowCount:0, ArgLen:0, start time: 2024-05-15 17:16:06.718 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:16:06.735 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=79]
[2024/05/15 17:16:06.735 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:16:06.735 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=39] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_ttl_job_history (\n\t\tjob_id varchar(64) PRIMARY KEY,\n\t\ttable_id bigint(64) NOT NULL,\n        parent_table_id bigint(64) NOT NULL,\n    \ttable_schema varchar(64) NOT NULL,\n\t\ttable_name varchar(64) NOT NULL,\n    \tpartition_name varchar(64) DEFAULT NULL,\n\t\tcreate_time timestamp NOT NULL,\n\t\tfinish_time timestamp NOT NULL,\n\t\tttl_expire timestamp NOT NULL,\n        summary_text text,\n\t\texpired_rows bigint(64) DEFAULT NULL,\n    \tdeleted_rows bigint(64) DEFAULT NULL,\n    \terror_delete_rows bigint(64) DEFAULT NULL,\n    \tstatus varchar(64) NOT NULL,\n    \tkey(table_schema, table_name, create_time),\n    \tkey(parent_table_id, create_time),\n    \tkey(create_time)\n\t);"] [user=]
[2024/05/15 17:16:06.737 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:81, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:80, RowCount:0, ArgLen:2, start time: 2024-05-15 17:16:06.736 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:16:06.737 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:81, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:80, RowCount:0, ArgLen:2, start time: 2024-05-15 17:16:06.736 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_ttl_job_history (\n\t\tjob_id varchar(64) PRIMARY KEY,\n\t\ttable_id bigint(64) NOT NULL,\n        parent_table_id bigint(64) NOT NULL,\n    \ttable_schema varchar(64) NOT NULL,\n\t\ttable_name varchar(64) NOT NULL,\n    \tpartition_name varchar(64) DEFAULT NULL,\n\t\tcreate_time timestamp NOT NULL,\n\t\tfinish_time timestamp NOT NULL,\n\t\tttl_expire timestamp NOT NULL,\n        summary_text text,\n\t\texpired_rows bigint(64) DEFAULT NULL,\n    \tdeleted_rows bigint(64) DEFAULT NULL,\n    \terror_delete_rows bigint(64) DEFAULT NULL,\n    \tstatus varchar(64) NOT NULL,\n    \tkey(table_schema, table_name, create_time),\n    \tkey(parent_table_id, create_time),\n    \tkey(create_time)\n\t);"]
[2024/05/15 17:16:06.741 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=81] [category=ddl] [job="ID:81, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:80, RowCount:0, ArgLen:0, start time: 2024-05-15 17:16:06.736 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:16:06.744 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=39] [neededSchemaVersion=40] ["start time"=536.709s] [gotSchemaVersion=40] [phyTblIDs="[80]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:16:06.745 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:16:06.745 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=81] [version=40]
[2024/05/15 17:16:06.746 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=40] ["take time"=2.676458ms] [job="ID:81, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:80, RowCount:0, ArgLen:2, start time: 2024-05-15 17:16:06.736 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:16:06.752 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=81] [job="ID:81, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:80, RowCount:0, ArgLen:0, start time: 2024-05-15 17:16:06.736 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:16:06.755 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=81]
[2024/05/15 17:16:06.755 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:16:06.755 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=40] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_global_task (\n\t\tid BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n    \ttask_key VARCHAR(256) NOT NULL,\n\t\ttype VARCHAR(256) NOT NULL,\n\t\tdispatcher_id VARCHAR(261),\n\t\tstate VARCHAR(64) NOT NULL,\n\t\tpriority INT DEFAULT 1,\n\t\tcreate_time TIMESTAMP,\n\t\tstart_time TIMESTAMP,\n\t\tstate_update_time TIMESTAMP,\n\t\tend_time TIMESTAMP,\n\t\tmeta LONGBLOB,\n\t\tconcurrency INT(11),\n\t\tstep INT(11),\n\t\ttarget_scope VARCHAR(256) DEFAULT \"\",\n\t\terror BLOB,\n\t\tkey(state),\n      \tUNIQUE KEY task_key(task_key)\n\t);"] [user=]
[2024/05/15 17:16:06.758 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:83, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:82, RowCount:0, ArgLen:2, start time: 2024-05-15 17:16:06.756 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:16:06.758 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:83, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:82, RowCount:0, ArgLen:2, start time: 2024-05-15 17:16:06.756 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_global_task (\n\t\tid BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n    \ttask_key VARCHAR(256) NOT NULL,\n\t\ttype VARCHAR(256) NOT NULL,\n\t\tdispatcher_id VARCHAR(261),\n\t\tstate VARCHAR(64) NOT NULL,\n\t\tpriority INT DEFAULT 1,\n\t\tcreate_time TIMESTAMP,\n\t\tstart_time TIMESTAMP,\n\t\tstate_update_time TIMESTAMP,\n\t\tend_time TIMESTAMP,\n\t\tmeta LONGBLOB,\n\t\tconcurrency INT(11),\n\t\tstep INT(11),\n\t\ttarget_scope VARCHAR(256) DEFAULT \"\",\n\t\terror BLOB,\n\t\tkey(state),\n      \tUNIQUE KEY task_key(task_key)\n\t);"]
[2024/05/15 17:16:06.762 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=83] [category=ddl] [job="ID:83, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:82, RowCount:0, ArgLen:0, start time: 2024-05-15 17:16:06.756 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:16:06.765 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=40] [neededSchemaVersion=41] ["start time"=388.083s] [gotSchemaVersion=41] [phyTblIDs="[82]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:16:06.765 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:16:06.765 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=83] [version=41]
[2024/05/15 17:16:06.767 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=41] ["take time"=2.524042ms] [job="ID:83, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:82, RowCount:0, ArgLen:2, start time: 2024-05-15 17:16:06.756 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:16:06.771 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=83] [job="ID:83, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:82, RowCount:0, ArgLen:0, start time: 2024-05-15 17:16:06.756 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:16:06.774 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=83]
[2024/05/15 17:16:06.774 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:16:06.774 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=41] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_global_task_history (\n\t\tid BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n    \ttask_key VARCHAR(256) NOT NULL,\n\t\ttype VARCHAR(256) NOT NULL,\n\t\tdispatcher_id VARCHAR(261),\n\t\tstate VARCHAR(64) NOT NULL,\n\t\tpriority INT DEFAULT 1,\n\t\tcreate_time TIMESTAMP,\n\t\tstart_time TIMESTAMP,\n\t\tstate_update_time TIMESTAMP,\n\t\tend_time TIMESTAMP,\n\t\tmeta LONGBLOB,\n\t\tconcurrency INT(11),\n\t\tstep INT(11),\n\t\ttarget_scope VARCHAR(256) DEFAULT \"\",\n\t\terror BLOB,\n\t\tkey(state),\n      \tUNIQUE KEY task_key(task_key)\n\t);"] [user=]
[2024/05/15 17:16:06.776 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:85, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:84, RowCount:0, ArgLen:2, start time: 2024-05-15 17:16:06.775 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:16:06.776 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:85, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:84, RowCount:0, ArgLen:2, start time: 2024-05-15 17:16:06.775 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_global_task_history (\n\t\tid BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n    \ttask_key VARCHAR(256) NOT NULL,\n\t\ttype VARCHAR(256) NOT NULL,\n\t\tdispatcher_id VARCHAR(261),\n\t\tstate VARCHAR(64) NOT NULL,\n\t\tpriority INT DEFAULT 1,\n\t\tcreate_time TIMESTAMP,\n\t\tstart_time TIMESTAMP,\n\t\tstate_update_time TIMESTAMP,\n\t\tend_time TIMESTAMP,\n\t\tmeta LONGBLOB,\n\t\tconcurrency INT(11),\n\t\tstep INT(11),\n\t\ttarget_scope VARCHAR(256) DEFAULT \"\",\n\t\terror BLOB,\n\t\tkey(state),\n      \tUNIQUE KEY task_key(task_key)\n\t);"]
[2024/05/15 17:16:06.780 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=85] [category=ddl] [job="ID:85, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:84, RowCount:0, ArgLen:0, start time: 2024-05-15 17:16:06.775 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:16:06.782 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=41] [neededSchemaVersion=42] ["start time"=402.333s] [gotSchemaVersion=42] [phyTblIDs="[84]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:16:06.783 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:16:06.783 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=85] [version=42]
[2024/05/15 17:16:06.784 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=42] ["take time"=2.4725ms] [job="ID:85, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:84, RowCount:0, ArgLen:2, start time: 2024-05-15 17:16:06.775 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:16:06.789 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=85] [job="ID:85, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:84, RowCount:0, ArgLen:0, start time: 2024-05-15 17:16:06.775 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:16:06.792 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=85]
[2024/05/15 17:16:06.792 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:16:06.792 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=42] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_import_jobs (\n\t\tid bigint(64) NOT NULL AUTO_INCREMENT,\n\t\tcreate_time TIMESTAMP(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6),\n\t\tstart_time TIMESTAMP(6) NULL DEFAULT NULL,\n\t\tupdate_time TIMESTAMP(6) NULL DEFAULT NULL,\n\t\tend_time TIMESTAMP(6) NULL DEFAULT NULL,\n\t\ttable_schema VARCHAR(64) NOT NULL,\n\t\ttable_name VARCHAR(64) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tcreated_by VARCHAR(300) NOT NULL,\n\t\tparameters text NOT NULL,\n\t\tsource_file_size bigint(64) NOT NULL,\n\t\tstatus VARCHAR(64) NOT NULL,\n\t\tstep VARCHAR(64) NOT NULL,\n\t\tsummary text DEFAULT NULL,\n\t\terror_message TEXT DEFAULT NULL,\n\t\tPRIMARY KEY (id),\n\t\tKEY (created_by),\n\t\tKEY (status));"] [user=]
[2024/05/15 17:16:06.794 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:87, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:86, RowCount:0, ArgLen:2, start time: 2024-05-15 17:16:06.793 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:16:06.794 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:87, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:86, RowCount:0, ArgLen:2, start time: 2024-05-15 17:16:06.793 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_import_jobs (\n\t\tid bigint(64) NOT NULL AUTO_INCREMENT,\n\t\tcreate_time TIMESTAMP(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6),\n\t\tstart_time TIMESTAMP(6) NULL DEFAULT NULL,\n\t\tupdate_time TIMESTAMP(6) NULL DEFAULT NULL,\n\t\tend_time TIMESTAMP(6) NULL DEFAULT NULL,\n\t\ttable_schema VARCHAR(64) NOT NULL,\n\t\ttable_name VARCHAR(64) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tcreated_by VARCHAR(300) NOT NULL,\n\t\tparameters text NOT NULL,\n\t\tsource_file_size bigint(64) NOT NULL,\n\t\tstatus VARCHAR(64) NOT NULL,\n\t\tstep VARCHAR(64) NOT NULL,\n\t\tsummary text DEFAULT NULL,\n\t\terror_message TEXT DEFAULT NULL,\n\t\tPRIMARY KEY (id),\n\t\tKEY (created_by),\n\t\tKEY (status));"]
[2024/05/15 17:16:06.799 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=87] [category=ddl] [job="ID:87, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:86, RowCount:0, ArgLen:0, start time: 2024-05-15 17:16:06.793 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:16:06.802 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=42] [neededSchemaVersion=43] ["start time"=401.208s] [gotSchemaVersion=43] [phyTblIDs="[86]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:16:06.803 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:16:06.803 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=87] [version=43]
[2024/05/15 17:16:06.805 +08:00] [WARN] [runaway.go:166] ["failed to start runaway manager loop, please check whether the bootstrap or update is finished"] [error="[schema:1146]Table 'mysql.tidb_runaway_watch' doesn't exist"] [errorVerbose="[schema:1146]Table 'mysql.tidb_runaway_watch' doesn't exist\ngithub.com/pingcap/errors.AddStack\n\t/Users/bba/.gvm/pkgsets/go1.21.0/global/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20240318064555-6bd07397691f/errors.go:178\ngithub.com/pingcap/errors.Trace\n\t/Users/bba/.gvm/pkgsets/go1.21.0/global/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20240318064555-6bd07397691f/juju_adaptor.go:15\ngithub.com/pingcap/tidb/pkg/planner/core.Preprocess\n\t/Users/bba/pc/tidb/pkg/planner/core/preprocess.go:141\ngithub.com/pingcap/tidb/pkg/executor.(*Compiler).Compile\n\t/Users/bba/pc/tidb/pkg/executor/compiler.go:67\ngithub.com/pingcap/tidb/pkg/session.(*session).ExecuteStmt\n\t/Users/bba/pc/tidb/pkg/session/session.go:2094\ngithub.com/pingcap/tidb/pkg/session.(*session).ExecuteInternalStmt\n\t/Users/bba/pc/tidb/pkg/session/session.go:1998\ngithub.com/pingcap/tidb/pkg/session.(*session).ExecRestrictedSQL.func1\n\t/Users/bba/pc/tidb/pkg/session/session.go:1963\ngithub.com/pingcap/tidb/pkg/session.(*session).withRestrictedSQLExecutor\n\t/Users/bba/pc/tidb/pkg/session/session.go:1949\ngithub.com/pingcap/tidb/pkg/session.(*session).ExecRestrictedSQL\n\t/Users/bba/pc/tidb/pkg/session/session.go:1953\ngithub.com/pingcap/tidb/pkg/domain.(*SystemTableReader).Read\n\t/Users/bba/pc/tidb/pkg/domain/runaway.go:655\ngithub.com/pingcap/tidb/pkg/domain.getRunawayWatchRecord\n\t/Users/bba/pc/tidb/pkg/domain/runaway.go:543\ngithub.com/pingcap/tidb/pkg/domain.(*runawaySyncer).getWatchRecord\n\t/Users/bba/pc/tidb/pkg/domain/runaway.go:526\ngithub.com/pingcap/tidb/pkg/domain.(*runawaySyncer).getNewWatchRecords\n\t/Users/bba/pc/tidb/pkg/domain/runaway.go:509\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).updateNewAndDoneWatch\n\t/Users/bba/pc/tidb/pkg/domain/runaway.go:177\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).runawayStartLoop\n\t/Users/bba/pc/tidb/pkg/domain/runaway.go:156\ngithub.com/pingcap/tidb/pkg/util.(*WaitGroupEnhancedWrapper).Run.func1\n\t/Users/bba/pc/tidb/pkg/util/wait_group_wrapper.go:99\nruntime.goexit\n\t/Users/bba/.gvm/gos/go1.21.0/src/runtime/asm_arm64.s:1197"]
[2024/05/15 17:16:06.806 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=43] ["take time"=4.388625ms] [job="ID:87, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:86, RowCount:0, ArgLen:2, start time: 2024-05-15 17:16:06.793 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:16:06.817 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=87] [job="ID:87, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:86, RowCount:0, ArgLen:0, start time: 2024-05-15 17:16:06.793 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:16:06.821 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=87]
[2024/05/15 17:16:06.821 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:16:06.822 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=43] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_runaway_watch (\n\t\tid BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n\t\tresource_group_name varchar(32) not null,\n\t\tstart_time datetime(6) NOT NULL,\n\t\tend_time datetime(6),\n\t\twatch bigint(10) NOT NULL,\n\t\twatch_text TEXT NOT NULL,\n\t\tsource varchar(512) NOT NULL,\n\t\taction bigint(10),\n\t\tINDEX sql_index(resource_group_name,watch_text(700)) COMMENT \"accelerate the speed when select quarantined query\",\n\t\tINDEX time_index(end_time) COMMENT \"accelerate the speed when querying with active watch\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"] [user=]
[2024/05/15 17:16:06.826 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:89, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:88, RowCount:0, ArgLen:2, start time: 2024-05-15 17:16:06.825 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:16:06.826 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:89, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:88, RowCount:0, ArgLen:2, start time: 2024-05-15 17:16:06.825 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_runaway_watch (\n\t\tid BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n\t\tresource_group_name varchar(32) not null,\n\t\tstart_time datetime(6) NOT NULL,\n\t\tend_time datetime(6),\n\t\twatch bigint(10) NOT NULL,\n\t\twatch_text TEXT NOT NULL,\n\t\tsource varchar(512) NOT NULL,\n\t\taction bigint(10),\n\t\tINDEX sql_index(resource_group_name,watch_text(700)) COMMENT \"accelerate the speed when select quarantined query\",\n\t\tINDEX time_index(end_time) COMMENT \"accelerate the speed when querying with active watch\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"]
[2024/05/15 17:16:06.834 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=89] [category=ddl] [job="ID:89, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:88, RowCount:0, ArgLen:0, start time: 2024-05-15 17:16:06.825 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:16:06.839 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=43] [neededSchemaVersion=44] ["start time"=419.833s] [gotSchemaVersion=44] [phyTblIDs="[88]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:16:06.840 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:16:06.840 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=89] [version=44]
[2024/05/15 17:16:06.842 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=44] ["take time"=3.343ms] [job="ID:89, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:88, RowCount:0, ArgLen:2, start time: 2024-05-15 17:16:06.825 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:16:06.849 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=89] [job="ID:89, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:88, RowCount:0, ArgLen:0, start time: 2024-05-15 17:16:06.825 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:16:06.852 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=89]
[2024/05/15 17:16:06.852 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:16:06.852 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=44] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_runaway_queries (\n\t\tresource_group_name varchar(32) not null,\n\t\ttime TIMESTAMP NOT NULL,\n\t\tmatch_type varchar(12) NOT NULL,\n\t\taction varchar(12) NOT NULL,\n\t\toriginal_sql TEXT NOT NULL,\n\t\tplan_digest TEXT NOT NULL,\n\t\ttidb_server varchar(512),\n\t\tINDEX plan_index(plan_digest(64)) COMMENT \"accelerate the speed when select runaway query\",\n\t\tINDEX time_index(time) COMMENT \"accelerate the speed when querying with active watch\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"] [user=]
[2024/05/15 17:16:06.853 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:91, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:90, RowCount:0, ArgLen:2, start time: 2024-05-15 17:16:06.852 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:16:06.853 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:91, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:90, RowCount:0, ArgLen:2, start time: 2024-05-15 17:16:06.852 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_runaway_queries (\n\t\tresource_group_name varchar(32) not null,\n\t\ttime TIMESTAMP NOT NULL,\n\t\tmatch_type varchar(12) NOT NULL,\n\t\taction varchar(12) NOT NULL,\n\t\toriginal_sql TEXT NOT NULL,\n\t\tplan_digest TEXT NOT NULL,\n\t\ttidb_server varchar(512),\n\t\tINDEX plan_index(plan_digest(64)) COMMENT \"accelerate the speed when select runaway query\",\n\t\tINDEX time_index(time) COMMENT \"accelerate the speed when querying with active watch\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"]
[2024/05/15 17:16:06.857 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=91] [category=ddl] [job="ID:91, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:90, RowCount:0, ArgLen:0, start time: 2024-05-15 17:16:06.852 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:16:06.860 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=44] [neededSchemaVersion=45] ["start time"=302.667s] [gotSchemaVersion=45] [phyTblIDs="[90]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:16:06.861 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:16:06.861 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=91] [version=45]
[2024/05/15 17:16:06.862 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=45] ["take time"=2.414625ms] [job="ID:91, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:90, RowCount:0, ArgLen:2, start time: 2024-05-15 17:16:06.852 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:16:06.867 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=91] [job="ID:91, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:90, RowCount:0, ArgLen:0, start time: 2024-05-15 17:16:06.852 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:16:06.869 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=91]
[2024/05/15 17:16:06.869 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:16:06.869 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=45] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS `mysql`.`tidb_timers` (\n\t\tID BIGINT(64) UNSIGNED NOT NULL AUTO_INCREMENT,\n\t\tNAMESPACE VARCHAR(256) NOT NULL,\n\t\tTIMER_KEY VARCHAR(256) NOT NULL,\n\t\tTIMER_DATA BLOB,\n\t\tTIMEZONE VARCHAR(64) NOT NULL,\n\t\tSCHED_POLICY_TYPE VARCHAR(32) NOT NULL,\n\t\tSCHED_POLICY_EXPR VARCHAR(256) NOT NULL,\n\t\tHOOK_CLASS VARCHAR(64) NOT NULL,\n\t\tWATERMARK TIMESTAMP DEFAULT NULL,\n\t\tENABLE TINYINT(2) NOT NULL,\n\t\tTIMER_EXT JSON NOT NULL,\n\t\tEVENT_STATUS VARCHAR(32) NOT NULL,\n\t\tEVENT_ID VARCHAR(64) NOT NULL,\n\t\tEVENT_DATA BLOB,\n\t\tEVENT_START TIMESTAMP DEFAULT NULL,\n\t\tSUMMARY_DATA BLOB,\n\t\tCREATE_TIME TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,\n\t\tUPDATE_TIME TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\tVERSION BIGINT(64) UNSIGNED NOT NULL,\n\t\tPRIMARY KEY (ID),\n\t\tUNIQUE KEY timer_key(NAMESPACE, TIMER_KEY),\n\t\tKEY hook_class(HOOK_CLASS)\n\t)"] [user=]
[2024/05/15 17:16:06.871 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:93, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:92, RowCount:0, ArgLen:2, start time: 2024-05-15 17:16:06.87 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:16:06.871 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:93, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:92, RowCount:0, ArgLen:2, start time: 2024-05-15 17:16:06.87 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS `mysql`.`tidb_timers` (\n\t\tID BIGINT(64) UNSIGNED NOT NULL AUTO_INCREMENT,\n\t\tNAMESPACE VARCHAR(256) NOT NULL,\n\t\tTIMER_KEY VARCHAR(256) NOT NULL,\n\t\tTIMER_DATA BLOB,\n\t\tTIMEZONE VARCHAR(64) NOT NULL,\n\t\tSCHED_POLICY_TYPE VARCHAR(32) NOT NULL,\n\t\tSCHED_POLICY_EXPR VARCHAR(256) NOT NULL,\n\t\tHOOK_CLASS VARCHAR(64) NOT NULL,\n\t\tWATERMARK TIMESTAMP DEFAULT NULL,\n\t\tENABLE TINYINT(2) NOT NULL,\n\t\tTIMER_EXT JSON NOT NULL,\n\t\tEVENT_STATUS VARCHAR(32) NOT NULL,\n\t\tEVENT_ID VARCHAR(64) NOT NULL,\n\t\tEVENT_DATA BLOB,\n\t\tEVENT_START TIMESTAMP DEFAULT NULL,\n\t\tSUMMARY_DATA BLOB,\n\t\tCREATE_TIME TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,\n\t\tUPDATE_TIME TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\tVERSION BIGINT(64) UNSIGNED NOT NULL,\n\t\tPRIMARY KEY (ID),\n\t\tUNIQUE KEY timer_key(NAMESPACE, TIMER_KEY),\n\t\tKEY hook_class(HOOK_CLASS)\n\t)"]
[2024/05/15 17:16:06.876 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=93] [category=ddl] [job="ID:93, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:92, RowCount:0, ArgLen:0, start time: 2024-05-15 17:16:06.87 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:16:06.879 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=45] [neededSchemaVersion=46] ["start time"=464.708s] [gotSchemaVersion=46] [phyTblIDs="[92]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:16:06.879 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:16:06.879 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=93] [version=46]
[2024/05/15 17:16:06.880 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=46] ["take time"=2.273792ms] [job="ID:93, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:92, RowCount:0, ArgLen:2, start time: 2024-05-15 17:16:06.87 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:16:06.885 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=93] [job="ID:93, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:92, RowCount:0, ArgLen:0, start time: 2024-05-15 17:16:06.87 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:16:06.887 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=93]
[2024/05/15 17:16:06.888 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:16:06.888 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=46] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_runaway_watch_done (\n\t\tid BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n\t\trecord_id BIGINT(20) not null,\n\t\tresource_group_name varchar(32) not null,\n\t\tstart_time datetime(6) NOT NULL,\n\t\tend_time datetime(6),\n\t\twatch bigint(10) NOT NULL,\n\t\twatch_text TEXT NOT NULL,\n\t\tsource varchar(512) NOT NULL,\n\t\taction bigint(10),\n\t\tdone_time TIMESTAMP(6) NOT NULL\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"] [user=]
[2024/05/15 17:16:06.891 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:95, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:94, RowCount:0, ArgLen:2, start time: 2024-05-15 17:16:06.889 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:16:06.891 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:95, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:94, RowCount:0, ArgLen:2, start time: 2024-05-15 17:16:06.889 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_runaway_watch_done (\n\t\tid BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n\t\trecord_id BIGINT(20) not null,\n\t\tresource_group_name varchar(32) not null,\n\t\tstart_time datetime(6) NOT NULL,\n\t\tend_time datetime(6),\n\t\twatch bigint(10) NOT NULL,\n\t\twatch_text TEXT NOT NULL,\n\t\tsource varchar(512) NOT NULL,\n\t\taction bigint(10),\n\t\tdone_time TIMESTAMP(6) NOT NULL\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"]
[2024/05/15 17:16:06.895 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=95] [category=ddl] [job="ID:95, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:94, RowCount:0, ArgLen:0, start time: 2024-05-15 17:16:06.889 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:16:06.898 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=46] [neededSchemaVersion=47] ["start time"=519.333s] [gotSchemaVersion=47] [phyTblIDs="[94]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:16:06.899 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:16:06.899 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=95] [version=47]
[2024/05/15 17:16:06.900 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=47] ["take time"=2.730334ms] [job="ID:95, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:94, RowCount:0, ArgLen:2, start time: 2024-05-15 17:16:06.889 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:16:06.904 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=95] [job="ID:95, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:94, RowCount:0, ArgLen:0, start time: 2024-05-15 17:16:06.889 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:16:06.908 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=95]
[2024/05/15 17:16:06.908 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:16:06.908 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=47] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.dist_framework_meta (\n        host VARCHAR(261) NOT NULL PRIMARY KEY,\n        role VARCHAR(64),\n        cpu_count int default 0,\n        keyspace_id bigint(8) NOT NULL DEFAULT -1\n    );"] [user=]
[2024/05/15 17:16:06.910 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:97, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:96, RowCount:0, ArgLen:2, start time: 2024-05-15 17:16:06.91 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:16:06.910 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:97, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:96, RowCount:0, ArgLen:2, start time: 2024-05-15 17:16:06.91 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.dist_framework_meta (\n        host VARCHAR(261) NOT NULL PRIMARY KEY,\n        role VARCHAR(64),\n        cpu_count int default 0,\n        keyspace_id bigint(8) NOT NULL DEFAULT -1\n    );"]
[2024/05/15 17:16:06.915 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=97] [category=ddl] [job="ID:97, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:96, RowCount:0, ArgLen:0, start time: 2024-05-15 17:16:06.91 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:16:06.917 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=47] [neededSchemaVersion=48] ["start time"=221.75s] [gotSchemaVersion=48] [phyTblIDs="[96]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:16:06.917 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:16:06.917 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=97] [version=48]
[2024/05/15 17:16:06.919 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=48] ["take time"=2.379333ms] [job="ID:97, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:96, RowCount:0, ArgLen:2, start time: 2024-05-15 17:16:06.91 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:16:06.924 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=97] [job="ID:97, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:96, RowCount:0, ArgLen:0, start time: 2024-05-15 17:16:06.91 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:16:06.926 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=97]
[2024/05/15 17:16:06.926 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:16:06.927 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=48] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.request_unit_by_group (\n\t\tstart_time TIMESTAMP(6) NOT NULL,\n\t\tend_time TIMESTAMP(6) NOT NULL,\n\t\tresource_group VARCHAR(32) NOT null,\n\t\ttotal_ru bigint(64) UNSIGNED NOT NULL,\n\t\tPRIMARY KEY (start_time, end_time, resource_group),\n\t\tKEY (resource_group)\n\t);"] [user=]
[2024/05/15 17:16:06.928 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:99, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:98, RowCount:0, ArgLen:2, start time: 2024-05-15 17:16:06.927 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:16:06.928 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:99, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:98, RowCount:0, ArgLen:2, start time: 2024-05-15 17:16:06.927 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.request_unit_by_group (\n\t\tstart_time TIMESTAMP(6) NOT NULL,\n\t\tend_time TIMESTAMP(6) NOT NULL,\n\t\tresource_group VARCHAR(32) NOT null,\n\t\ttotal_ru bigint(64) UNSIGNED NOT NULL,\n\t\tPRIMARY KEY (start_time, end_time, resource_group),\n\t\tKEY (resource_group)\n\t);"]
[2024/05/15 17:16:06.933 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=99] [category=ddl] [job="ID:99, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:98, RowCount:0, ArgLen:0, start time: 2024-05-15 17:16:06.927 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:16:06.935 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=48] [neededSchemaVersion=49] ["start time"=208.292s] [gotSchemaVersion=49] [phyTblIDs="[98]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:16:06.936 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:16:06.936 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=99] [version=49]
[2024/05/15 17:16:06.937 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=49] ["take time"=2.068459ms] [job="ID:99, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:98, RowCount:0, ArgLen:2, start time: 2024-05-15 17:16:06.927 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:16:06.942 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=99] [job="ID:99, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:98, RowCount:0, ArgLen:0, start time: 2024-05-15 17:16:06.927 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:16:06.944 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=99]
[2024/05/15 17:16:06.944 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:16:06.944 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=49] [cur_db=mysql] [sql="CREATE DATABASE IF NOT EXISTS sys;"] [user=]
[2024/05/15 17:16:06.945 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:101, Type:create schema, State:queueing, SchemaState:none, SchemaID:100, TableID:0, RowCount:0, ArgLen:1, start time: 2024-05-15 17:16:06.945 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:16:06.945 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:101, Type:create schema, State:queueing, SchemaState:none, SchemaID:100, TableID:0, RowCount:0, ArgLen:1, start time: 2024-05-15 17:16:06.945 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE DATABASE IF NOT EXISTS sys;"]
[2024/05/15 17:16:06.951 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=101] [category=ddl] [job="ID:101, Type:create schema, State:queueing, SchemaState:none, SchemaID:100, TableID:0, RowCount:0, ArgLen:0, start time: 2024-05-15 17:16:06.945 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:16:06.953 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=49] [neededSchemaVersion=50] ["start time"=45.292s] [gotSchemaVersion=50] [phyTblIDs="[]"] [actionTypes="[]"] [diffTypes="[\"create schema\"]"]
[2024/05/15 17:16:06.954 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:16:06.954 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=101] [version=50]
[2024/05/15 17:16:06.955 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=50] ["take time"=2.312083ms] [job="ID:101, Type:create schema, State:done, SchemaState:public, SchemaID:100, TableID:0, RowCount:0, ArgLen:1, start time: 2024-05-15 17:16:06.945 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:16:06.960 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=101] [job="ID:101, Type:create schema, State:synced, SchemaState:public, SchemaID:100, TableID:0, RowCount:0, ArgLen:0, start time: 2024-05-15 17:16:06.945 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:16:06.962 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=101]
[2024/05/15 17:16:06.962 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:16:06.965 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:103, Type:create view, State:queueing, SchemaState:none, SchemaID:100, TableID:102, RowCount:0, ArgLen:3, start time: 2024-05-15 17:16:06.964 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:16:06.965 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:103, Type:create view, State:queueing, SchemaState:none, SchemaID:100, TableID:102, RowCount:0, ArgLen:3, start time: 2024-05-15 17:16:06.964 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE OR REPLACE VIEW sys.schema_unused_indexes AS\n\t\tSELECT\n\t\t\ttable_schema as object_schema,\n\t\t\ttable_name as object_name,\n\t\t\tindex_name\n\t\tFROM information_schema.cluster_tidb_index_usage\n\t\tWHERE\n\t\t\ttable_schema not in ('sys', 'mysql', 'INFORMATION_SCHEMA', 'PERFORMANCE_SCHEMA') and\n\t\t\tindex_name != 'PRIMARY'\n\t\tGROUP BY table_schema, table_name, index_name\n\t\tHAVING\n\t\t\tsum(last_access_time) is null;"]
[2024/05/15 17:16:06.970 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=103] [category=ddl] [job="ID:103, Type:create view, State:queueing, SchemaState:none, SchemaID:100, TableID:102, RowCount:0, ArgLen:0, start time: 2024-05-15 17:16:06.964 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:16:06.971 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=50] [neededSchemaVersion=51] ["start time"=148.25s] [gotSchemaVersion=51] [phyTblIDs="[102]"] [actionTypes="[21]"] [diffTypes="[\"create view\"]"]
[2024/05/15 17:16:06.972 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:16:06.972 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=103] [version=51]
[2024/05/15 17:16:06.973 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=51] ["take time"=2.437542ms] [job="ID:103, Type:create view, State:done, SchemaState:public, SchemaID:100, TableID:102, RowCount:0, ArgLen:3, start time: 2024-05-15 17:16:06.964 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:16:06.978 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=103] [job="ID:103, Type:create view, State:synced, SchemaState:public, SchemaID:100, TableID:102, RowCount:0, ArgLen:0, start time: 2024-05-15 17:16:06.964 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:16:06.981 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=103]
[2024/05/15 17:16:06.981 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:16:06.982 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=0] ["to ID"=1] ["table ID"=4] ["database ID"=1]
[2024/05/15 17:16:06.986 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=0] ["to ID"=655] ["table ID"=16] ["database ID"=1]
[2024/05/15 17:16:06.991 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=0] ["to ID"=1] ["table ID"=18] ["database ID"=1]
[2024/05/15 17:16:06.991 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1] ["to ID"=2] ["table ID"=18] ["database ID"=1]
[2024/05/15 17:16:06.991 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2] ["to ID"=3] ["table ID"=18] ["database ID"=1]
[2024/05/15 17:16:06.991 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3] ["to ID"=4] ["table ID"=18] ["database ID"=1]
[2024/05/15 17:16:06.993 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=4] ["to ID"=5] ["table ID"=18] ["database ID"=1]
[2024/05/15 17:16:06.996 +08:00] [INFO] [bootstrap.go:745] ["bootstrap successful"] ["take time"=1.211936875s]
[2024/05/15 17:16:06.998 +08:00] [INFO] [mock.go:106] ["owner manager is canceled"] [category=ddl] [ID=26281ef7-2f12-40b5-8a12-677a7b5abdce] [ownerKey=/tidb/ddl/fg/owner]
[2024/05/15 17:16:06.998 +08:00] [INFO] [ddl_workerpool.go:82] ["closing workerPool"] [category=ddl]
[2024/05/15 17:16:06.998 +08:00] [INFO] [ddl_worker.go:186] ["DDL worker closed"] [worker="worker 2, tp add index"] [category=ddl] ["take time"=1.708s]
[2024/05/15 17:16:06.998 +08:00] [INFO] [ddl_workerpool.go:82] ["closing workerPool"] [category=ddl]
[2024/05/15 17:16:06.998 +08:00] [INFO] [ddl_worker.go:186] ["DDL worker closed"] [worker="worker 1, tp general"] [category=ddl] ["take time"=542ns]
[2024/05/15 17:16:06.998 +08:00] [INFO] [ddl_workerpool.go:82] ["closing workerPool"] [category=ddl]
[2024/05/15 17:16:06.998 +08:00] [INFO] [delete_range.go:162] ["closing delRange"] [category=ddl]
[2024/05/15 17:16:06.998 +08:00] [INFO] [session_pool.go:99] ["closing session pool"] [category=ddl]
[2024/05/15 17:16:06.999 +08:00] [INFO] [ddl.go:951] ["DDL closed"] [category=ddl] [ID=26281ef7-2f12-40b5-8a12-677a7b5abdce] ["take time"=2.625167ms]
[2024/05/15 17:16:06.999 +08:00] [INFO] [ddl.go:769] ["stop DDL"] [category=ddl] [ID=26281ef7-2f12-40b5-8a12-677a7b5abdce]
[2024/05/15 17:16:06.999 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=mdlCheckLoop]
[2024/05/15 17:16:06.999 +08:00] [INFO] [domain.go:915] ["loadSchemaInLoop exited."]
[2024/05/15 17:16:06.999 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=loadSchemaInLoop]
[2024/05/15 17:16:06.999 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=runawayStartLoop]
[2024/05/15 17:16:06.999 +08:00] [INFO] [domain.go:769] ["topologySyncerKeeper exited."]
[2024/05/15 17:16:06.999 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=topologySyncerKeeper]
[2024/05/15 17:16:06.999 +08:00] [INFO] [domain.go:745] ["globalConfigSyncerKeeper exited."]
[2024/05/15 17:16:06.999 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=globalConfigSyncerKeeper]
[2024/05/15 17:16:06.999 +08:00] [INFO] [domain.go:719] ["infoSyncerKeeper exited."]
[2024/05/15 17:16:06.999 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=infoSyncerKeeper]
[2024/05/15 17:16:06.999 +08:00] [INFO] [domain.go:691] ["topNSlowQueryLoop exited."]
[2024/05/15 17:16:06.999 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=topNSlowQueryLoop]
[2024/05/15 17:16:06.999 +08:00] [INFO] [domain.go:1369] ["closestReplicaReadCheckLoop exited."]
[2024/05/15 17:16:06.999 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=closestReplicaReadCheckLoop]
[2024/05/15 17:16:06.999 +08:00] [INFO] [domain.go:1082] ["domain closed"] ["take time"=3.0625ms]
[2024/05/15 17:16:06.999 +08:00] [INFO] [tidb.go:80] ["new domain"] [store=2d4ab4ad-2442-4ca8-9194-4cf9aa302c74] ["ddl lease"=500ms] ["stats lease"=-1ns]
[2024/05/15 17:16:07.001 +08:00] [WARN] [controller.go:198] ["[resource group controller] server does not save config, load config failed"]
[2024/05/15 17:16:07.001 +08:00] [INFO] [controller.go:185] ["load resource controller config"] [config="{\"degraded-mode-wait-duration\":\"0s\",\"ltb-max-wait-duration\":\"30s\",\"wait-retry-interval\":\"50ms\",\"wait-retry-times\":10,\"request-unit\":{\"read-base-cost\":0.125,\"read-per-batch-base-cost\":0.5,\"read-cost-per-byte\":0.0000152587890625,\"write-base-cost\":1,\"write-per-batch-base-cost\":1,\"write-cost-per-byte\":0.0009765625,\"read-cpu-ms-cost\":0.3333333333333333},\"enable-controller-trace-log\":\"false\"}"] [ru-config="{\"ReadBaseCost\":0.125,\"ReadPerBatchBaseCost\":0.5,\"ReadBytesCost\":0.0000152587890625,\"WriteBaseCost\":1,\"WritePerBatchBaseCost\":1,\"WriteBytesCost\":0.0009765625,\"CPUMsCost\":0.3333333333333333,\"LTBMaxWaitDuration\":30000000000,\"WaitRetryInterval\":50000000,\"WaitRetryTimes\":10,\"DegradedModeWaitDuration\":0}"]
[2024/05/15 17:16:07.015 +08:00] [INFO] [domain.go:323] ["full load InfoSchema success"] [currentSchemaVersion=0] [neededSchemaVersion=51] ["start time"=13.291042ms]
[2024/05/15 17:16:07.018 +08:00] [INFO] [domain.go:643] ["full load and reset schema validator"]
[2024/05/15 17:16:07.018 +08:00] [INFO] [ddl.go:818] ["start DDL"] [category=ddl] [ID=3847f620-6d65-4b0f-b1df-8715c4ef2a2c] [runWorker=true]
[2024/05/15 17:16:07.018 +08:00] [INFO] [ddl.go:777] ["start delRangeManager OK"] [category=ddl] ["is a emulator"=true]
[2024/05/15 17:16:07.018 +08:00] [WARN] [env.go:51] ["initialize environment failed"] [category=ddl-ingest] ["storage limitation"="only support TiKV storage"] ["current storage"=unistore] ["lightning is initialized"=false]
[2024/05/15 17:16:07.018 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=loadSchemaInLoop]
[2024/05/15 17:16:07.018 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=mdlCheckLoop]
[2024/05/15 17:16:07.018 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=topNSlowQueryLoop]
[2024/05/15 17:16:07.018 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=infoSyncerKeeper]
[2024/05/15 17:16:07.018 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=globalConfigSyncerKeeper]
[2024/05/15 17:16:07.018 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=runawayStartLoop]
[2024/05/15 17:16:07.018 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=requestUnitsWriterLoop]
[2024/05/15 17:16:07.018 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=topologySyncerKeeper]
[2024/05/15 17:16:07.018 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=closestReplicaReadCheckLoop]
[2024/05/15 17:16:07.018 +08:00] [WARN] [domain.go:1334] ["pd / etcd client not provided, won't begin Advancer."]
[2024/05/15 17:16:07.040 +08:00] [INFO] [delete_range.go:172] ["start delRange emulator"] [category=ddl]
[2024/05/15 17:16:07.041 +08:00] [INFO] [job_table.go:334] ["get global state and global state change"] [category=ddl] [oldState=false] [currState=false]
[2024/05/15 17:16:07.041 +08:00] [INFO] [runaway.go:149] ["try to start runaway manager loop"]
[2024/05/15 17:16:07.041 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=requestUnitsWriterLoop]
[2024/05/15 17:16:07.044 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=globalBindHandleWorkerLoop]
[2024/05/15 17:16:07.044 +08:00] [WARN] [sysvar_cache.go:49] ["sysvar cache is empty, triggering rebuild"]
[2024/05/15 17:16:07.045 +08:00] [INFO] [sysvar.go:2748] ["set resource control"] [enable=true]
[2024/05/15 17:16:07.046 +08:00] [INFO] [controller.go:447] ["[resource group controller] create resource group cost controller"] [name=default]
[2024/05/15 17:16:07.053 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=loadPrivilegeInLoop]
[2024/05/15 17:16:07.054 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=LoadSysVarCacheLoop]
[2024/05/15 17:16:07.055 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=dumpFileGcChecker]
[2024/05/15 17:16:07.056 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=indexUsageWorker]
[2024/05/15 17:16:07.056 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=quitStatsOwner]
[2024/05/15 17:16:07.056 +08:00] [INFO] [domain.go:2278] ["start load stats sub workers"] ["worker count"=5]
[2024/05/15 17:16:07.059 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=loadSigningCertLoop]
[2024/05/15 17:16:07.059 +08:00] [INFO] [manager.go:113] ["build task executor manager"] [server-id=:4000] [total-cpu=1] [total-mem=32GiB]
[2024/05/15 17:16:07.060 +08:00] [INFO] [domain.go:2078] ["dumpFileGcChecker started"]
[2024/05/15 17:16:07.064 +08:00] [INFO] [task_manager.go:217] ["scale ttl worker"] [ttl-worker=job-manager] [ttl-worker=task-manager] [originalCount=0] [newCount=4]
[2024/05/15 17:16:07.064 +08:00] [INFO] [task_manager.go:217] ["scale ttl worker"] [ttl-worker=job-manager] [ttl-worker=task-manager] [originalCount=0] [newCount=4]
[2024/05/15 17:16:07.071 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=0] ["to ID"=1] ["table ID"=96] ["database ID"=1]
[2024/05/15 17:16:07.072 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=distTaskFrameworkLoop]
[2024/05/15 17:16:07.076 +08:00] [INFO] [manager.go:146] ["task executor manager start"] [server-id=:4000]
[2024/05/15 17:16:07.076 +08:00] [INFO] [domain.go:1533] ["dist task executor manager started"]
[2024/05/15 17:16:07.076 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=30000] ["to ID"=30001] ["table ID"=16] ["database ID"=1]
[2024/05/15 17:16:07.081 +08:00] [INFO] [set.go:170] ["set global var"] [conn=1] [name=tidb_schema_cache_size] [val=1024]
[2024/05/15 17:16:07.082 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=1] [schemaVersion=51] [cur_db=test] [sql="drop table if exists t"] [user=]
[2024/05/15 17:16:07.082 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=1] [schemaVersion=51] [cur_db=test] [sql="create table t (a int, b real, i int, id int, value decimal(6,3), name char(128), d decimal(6,3), s char(128), t datetime, c bigint as ((a+1)) virtual, e real as ((b+a)))"] [user=]
[2024/05/15 17:16:07.088 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:105, Type:create table, State:queueing, SchemaState:none, SchemaID:2, TableID:104, RowCount:0, ArgLen:2, start time: 2024-05-15 17:16:07.087 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:16:07.088 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:105, Type:create table, State:queueing, SchemaState:none, SchemaID:2, TableID:104, RowCount:0, ArgLen:2, start time: 2024-05-15 17:16:07.087 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="create table t (a int, b real, i int, id int, value decimal(6,3), name char(128), d decimal(6,3), s char(128), t datetime, c bigint as ((a+1)) virtual, e real as ((b+a)))"]
[2024/05/15 17:16:07.110 +08:00] [INFO] [job_table.go:334] ["get global state and global state change"] [category=ddl] [oldState=false] [currState=false]
[2024/05/15 17:16:07.110 +08:00] [INFO] [job_table.go:349] ["the owner sets owner operator value"] [category=ddl] [ownerOp=none]
[2024/05/15 17:16:07.128 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=105] [conn=1] [category=ddl] [job="ID:105, Type:create table, State:queueing, SchemaState:none, SchemaID:2, TableID:104, RowCount:0, ArgLen:0, start time: 2024-05-15 17:16:07.087 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:16:07.132 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=51] [neededSchemaVersion=52] ["start time"=720.208s] [gotSchemaVersion=52] [phyTblIDs="[104]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:16:07.134 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=105] [version=52]
[2024/05/15 17:16:07.136 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=52] ["take time"=4.006167ms] [job="ID:105, Type:create table, State:done, SchemaState:public, SchemaID:2, TableID:104, RowCount:0, ArgLen:2, start time: 2024-05-15 17:16:07.087 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:16:07.141 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=105] [conn=1] [job="ID:105, Type:create table, State:synced, SchemaState:public, SchemaID:2, TableID:104, RowCount:0, ArgLen:0, start time: 2024-05-15 17:16:07.087 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:16:07.144 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=105]
[2024/05/15 17:16:07.144 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:16:07.153 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=0] ["to ID"=1] ["table ID"=22] ["database ID"=1]
[2024/05/15 17:16:07.156 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=0] ["to ID"=1] ["table ID"=24] ["database ID"=1]
[2024/05/15 17:16:07.166 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1] ["to ID"=2] ["table ID"=24] ["database ID"=1]
[2024/05/15 17:16:07.169 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2] ["to ID"=3] ["table ID"=24] ["database ID"=1]
[2024/05/15 17:16:07.172 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3] ["to ID"=4] ["table ID"=24] ["database ID"=1]
[2024/05/15 17:16:07.176 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=4] ["to ID"=5] ["table ID"=24] ["database ID"=1]
[2024/05/15 17:16:07.178 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=5] ["to ID"=6] ["table ID"=24] ["database ID"=1]
[2024/05/15 17:16:07.180 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=6] ["to ID"=7] ["table ID"=24] ["database ID"=1]
[2024/05/15 17:16:07.182 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=7] ["to ID"=8] ["table ID"=24] ["database ID"=1]
[2024/05/15 17:16:07.184 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=8] ["to ID"=9] ["table ID"=24] ["database ID"=1]
[2024/05/15 17:16:07.185 +08:00] [INFO] [analyze.go:747] ["analyze table `test`.`t` has finished"] [partition=] ["job info"="analyze table all columns with 256 buckets, 500 topn, 1 samplerate"] ["start time"=2024/05/15 17:16:07.149 +08:00] ["end time"=2024/05/15 17:16:07.185 +08:00] [cost=35.516666ms] ["sample rate reason"="use min(1, 110000/10000) as the sample-rate=1"]
[2024/05/15 17:16:07.239 +08:00] [WARN] [infoschema_v3.go:59] ["table not equal"] [tbl1="{\"id\":104,\"name\":{\"O\":\"t\",\"L\":\"t\"},\"charset\":\"utf8mb4\",\"collate\":\"utf8mb4_bin\",\"cols\":[{\"id\":1,\"name\":{\"O\":\"a\",\"L\":\"a\"},\"offset\":0,\"origin_default\":null,\"origin_default_bit\":null,\"default\":null,\"default_bit\":null,\"default_is_expr\":false,\"generated_expr_string\":\"\",\"generated_stored\":false,\"dependences\":null,\"type\":{\"Tp\":3,\"Flag\":0,\"Flen\":11,\"Decimal\":0,\"Charset\":\"binary\",\"Collate\":\"binary\",\"Elems\":null,\"ElemsIsBinaryLit\":null,\"Array\":false},\"state\":5,\"comment\":\"\",\"hidden\":false,\"change_state_info\":null,\"version\":2},{\"id\":2,\"name\":{\"O\":\"b\",\"L\":\"b\"},\"offset\":1,\"origin_default\":null,\"origin_default_bit\":null,\"default\":null,\"default_bit\":null,\"default_is_expr\":false,\"generated_expr_string\":\"\",\"generated_stored\":false,\"dependences\":null,\"type\":{\"Tp\":5,\"Flag\":0,\"Flen\":22,\"Decimal\":-1,\"Charset\":\"binary\",\"Collate\":\"binary\",\"Elems\":null,\"ElemsIsBinaryLit\":null,\"Array\":false},\"state\":5,\"comment\":\"\",\"hidden\":false,\"change_state_info\":null,\"version\":2},{\"id\":3,\"name\":{\"O\":\"i\",\"L\":\"i\"},\"offset\":2,\"origin_default\":null,\"origin_default_bit\":null,\"default\":null,\"default_bit\":null,\"default_is_expr\":false,\"generated_expr_string\":\"\",\"generated_stored\":false,\"dependences\":null,\"type\":{\"Tp\":3,\"Flag\":0,\"Flen\":11,\"Decimal\":0,\"Charset\":\"binary\",\"Collate\":\"binary\",\"Elems\":null,\"ElemsIsBinaryLit\":null,\"Array\":false},\"state\":5,\"comment\":\"\",\"hidden\":false,\"change_state_info\":null,\"version\":2},{\"id\":4,\"name\":{\"O\":\"id\",\"L\":\"id\"},\"offset\":3,\"origin_default\":null,\"origin_default_bit\":null,\"default\":null,\"default_bit\":null,\"default_is_expr\":false,\"generated_expr_string\":\"\",\"generated_stored\":false,\"dependences\":null,\"type\":{\"Tp\":3,\"Flag\":0,\"Flen\":11,\"Decimal\":0,\"Charset\":\"binary\",\"Collate\":\"binary\",\"Elems\":null,\"ElemsIsBinaryLit\":null,\"Array\":false},\"state\":5,\"comment\":\"\",\"hidden\":false,\"change_state_info\":null,\"version\":2},{\"id\":5,\"name\":{\"O\":\"value\",\"L\":\"value\"},\"offset\":4,\"origin_default\":null,\"origin_default_bit\":null,\"default\":null,\"default_bit\":null,\"default_is_expr\":false,\"generated_expr_string\":\"\",\"generated_stored\":false,\"dependences\":null,\"type\":{\"Tp\":246,\"Flag\":0,\"Flen\":6,\"Decimal\":3,\"Charset\":\"binary\",\"Collate\":\"binary\",\"Elems\":null,\"ElemsIsBinaryLit\":null,\"Array\":false},\"state\":5,\"comment\":\"\",\"hidden\":false,\"change_state_info\":null,\"version\":2},{\"id\":6,\"name\":{\"O\":\"name\",\"L\":\"name\"},\"offset\":5,\"origin_default\":null,\"origin_default_bit\":null,\"default\":null,\"default_bit\":null,\"default_is_expr\":false,\"generated_expr_string\":\"\",\"generated_stored\":false,\"dependences\":null,\"type\":{\"Tp\":254,\"Flag\":0,\"Flen\":128,\"Decimal\":0,\"Charset\":\"utf8mb4\",\"Collate\":\"utf8mb4_bin\",\"Elems\":null,\"ElemsIsBinaryLit\":null,\"Array\":false},\"state\":5,\"comment\":\"\",\"hidden\":false,\"change_state_info\":null,\"version\":2},{\"id\":7,\"name\":{\"O\":\"d\",\"L\":\"d\"},\"offset\":6,\"origin_default\":null,\"origin_default_bit\":null,\"default\":null,\"default_bit\":null,\"default_is_expr\":false,\"generated_expr_string\":\"\",\"generated_stored\":false,\"dependences\":null,\"type\":{\"Tp\":246,\"Flag\":0,\"Flen\":6,\"Decimal\":3,\"Charset\":\"binary\",\"Collate\":\"binary\",\"Elems\":null,\"ElemsIsBinaryLit\":null,\"Array\":false},\"state\":5,\"comment\":\"\",\"hidden\":false,\"change_state_info\":null,\"version\":2},{\"id\":8,\"name\":{\"O\":\"s\",\"L\":\"s\"},\"offset\":7,\"origin_default\":null,\"origin_default_bit\":null,\"default\":null,\"default_bit\":null,\"default_is_expr\":false,\"generated_expr_string\":\"\",\"generated_stored\":false,\"dependences\":null,\"type\":{\"Tp\":254,\"Flag\":0,\"Flen\":128,\"Decimal\":0,\"Charset\":\"utf8mb4\",\"Collate\":\"utf8mb4_bin\",\"Elems\":null,\"ElemsIsBinaryLit\":null,\"Array\":false},\"state\":5,\"comment\":\"\",\"hidden\":false,\"change_state_info\":null,\"version\":2},{\"id\":9,\"name\":{\"O\":\"t\",\"L\":\"t\"},\"offset\":8,\"origin_default\":null,\"origin_default_bit\":null,\"default\":null,\"default_bit\":null,\"default_is_expr\":false,\"generated_expr_string\":\"\",\"generated_stored\":false,\"dependences\":null,\"type\":{\"Tp\":12,\"Flag\":128,\"Flen\":19,\"Decimal\":0,\"Charset\":\"binary\",\"Collate\":\"binary\",\"Elems\":null,\"ElemsIsBinaryLit\":null,\"Array\":false},\"state\":5,\"comment\":\"\",\"hidden\":false,\"change_state_info\":null,\"version\":2},{\"id\":10,\"name\":{\"O\":\"c\",\"L\":\"c\"},\"offset\":9,\"origin_default\":null,\"origin_default_bit\":null,\"default\":null,\"default_bit\":null,\"default_is_expr\":false,\"generated_expr_string\":\"(`a` + 1)\",\"generated_stored\":false,\"dependences\":{\"a\":{}},\"type\":{\"Tp\":8,\"Flag\":0,\"Flen\":20,\"Decimal\":0,\"Charset\":\"binary\",\"Collate\":\"binary\",\"Elems\":null,\"ElemsIsBinaryLit\":null,\"Array\":false},\"state\":5,\"comment\":\"\",\"hidden\":false,\"change_state_info\":null,\"version\":2},{\"id\":11,\"name\":{\"O\":\"e\",\"L\":\"e\"},\"offset\":10,\"origin_default\":null,\"origin_default_bit\":null,\"default\":null,\"default_bit\":null,\"default_is_expr\":false,\"generated_expr_string\":\"(`b` + `a`)\",\"generated_stored\":false,\"dependences\":{\"a\":{},\"b\":{}},\"type\":{\"Tp\":5,\"Flag\":0,\"Flen\":22,\"Decimal\":-1,\"Charset\":\"binary\",\"Collate\":\"binary\",\"Elems\":null,\"ElemsIsBinaryLit\":null,\"Array\":false},\"state\":5,\"comment\":\"\",\"hidden\":false,\"change_state_info\":null,\"version\":2}],\"index_info\":null,\"constraint_info\":null,\"fk_info\":null,\"state\":5,\"pk_is_handle\":false,\"is_common_handle\":false,\"common_handle_version\":0,\"comment\":\"\",\"auto_inc_id\":0,\"auto_id_cache\":0,\"auto_rand_id\":0,\"max_col_id\":11,\"max_idx_id\":0,\"max_fk_id\":0,\"max_cst_id\":0,\"update_timestamp\":449777386685202433,\"ShardRowIDBits\":0,\"max_shard_row_id_bits\":0,\"auto_random_bits\":0,\"auto_random_range_bits\":0,\"pre_split_regions\":0,\"partition\":null,\"compression\":\"\",\"view\":null,\"sequence\":null,\"Lock\":null,\"version\":5,\"tiflash_replica\":null,\"is_columnar\":false,\"temp_table_type\":0,\"cache_table_status\":0,\"policy_ref_info\":null,\"stats_options\":null,\"exchange_partition_info\":null,\"ttl_info\":null,\"revision\":0}"] [tbl2="{\"id\":104,\"name\":{\"O\":\"t\",\"L\":\"t\"},\"charset\":\"utf8mb4\",\"collate\":\"utf8mb4_bin\",\"cols\":[{\"id\":1,\"name\":{\"O\":\"a\",\"L\":\"a\"},\"offset\":0,\"origin_default\":null,\"origin_default_bit\":null,\"default\":null,\"default_bit\":null,\"default_is_expr\":false,\"generated_expr_string\":\"\",\"generated_stored\":false,\"dependences\":null,\"type\":{\"Tp\":3,\"Flag\":0,\"Flen\":11,\"Decimal\":0,\"Charset\":\"binary\",\"Collate\":\"binary\",\"Elems\":null,\"ElemsIsBinaryLit\":null,\"Array\":false},\"state\":5,\"comment\":\"\",\"hidden\":false,\"change_state_info\":null,\"version\":2},{\"id\":2,\"name\":{\"O\":\"b\",\"L\":\"b\"},\"offset\":1,\"origin_default\":null,\"origin_default_bit\":null,\"default\":null,\"default_bit\":null,\"default_is_expr\":false,\"generated_expr_string\":\"\",\"generated_stored\":false,\"dependences\":null,\"type\":{\"Tp\":5,\"Flag\":0,\"Flen\":22,\"Decimal\":-1,\"Charset\":\"binary\",\"Collate\":\"binary\",\"Elems\":null,\"ElemsIsBinaryLit\":null,\"Array\":false},\"state\":5,\"comment\":\"\",\"hidden\":false,\"change_state_info\":null,\"version\":2},{\"id\":3,\"name\":{\"O\":\"i\",\"L\":\"i\"},\"offset\":2,\"origin_default\":null,\"origin_default_bit\":null,\"default\":null,\"default_bit\":null,\"default_is_expr\":false,\"generated_expr_string\":\"\",\"generated_stored\":false,\"dependences\":null,\"type\":{\"Tp\":3,\"Flag\":0,\"Flen\":11,\"Decimal\":0,\"Charset\":\"binary\",\"Collate\":\"binary\",\"Elems\":null,\"ElemsIsBinaryLit\":null,\"Array\":false},\"state\":5,\"comment\":\"\",\"hidden\":false,\"change_state_info\":null,\"version\":2},{\"id\":4,\"name\":{\"O\":\"id\",\"L\":\"id\"},\"offset\":3,\"origin_default\":null,\"origin_default_bit\":null,\"default\":null,\"default_bit\":null,\"default_is_expr\":false,\"generated_expr_string\":\"\",\"generated_stored\":false,\"dependences\":null,\"type\":{\"Tp\":3,\"Flag\":0,\"Flen\":11,\"Decimal\":0,\"Charset\":\"binary\",\"Collate\":\"binary\",\"Elems\":null,\"ElemsIsBinaryLit\":null,\"Array\":false},\"state\":5,\"comment\":\"\",\"hidden\":false,\"change_state_info\":null,\"version\":2},{\"id\":5,\"name\":{\"O\":\"value\",\"L\":\"value\"},\"offset\":4,\"origin_default\":null,\"origin_default_bit\":null,\"default\":null,\"default_bit\":null,\"default_is_expr\":false,\"generated_expr_string\":\"\",\"generated_stored\":false,\"dependences\":null,\"type\":{\"Tp\":246,\"Flag\":0,\"Flen\":6,\"Decimal\":3,\"Charset\":\"binary\",\"Collate\":\"binary\",\"Elems\":null,\"ElemsIsBinaryLit\":null,\"Array\":false},\"state\":5,\"comment\":\"\",\"hidden\":false,\"change_state_info\":null,\"version\":2},{\"id\":6,\"name\":{\"O\":\"name\",\"L\":\"name\"},\"offset\":5,\"origin_default\":null,\"origin_default_bit\":null,\"default\":null,\"default_bit\":null,\"default_is_expr\":false,\"generated_expr_string\":\"\",\"generated_stored\":false,\"dependences\":null,\"type\":{\"Tp\":254,\"Flag\":0,\"Flen\":128,\"Decimal\":0,\"Charset\":\"utf8mb4\",\"Collate\":\"utf8mb4_bin\",\"Elems\":null,\"ElemsIsBinaryLit\":null,\"Array\":false},\"state\":5,\"comment\":\"\",\"hidden\":false,\"change_state_info\":null,\"version\":2},{\"id\":7,\"name\":{\"O\":\"d\",\"L\":\"d\"},\"offset\":6,\"origin_default\":null,\"origin_default_bit\":null,\"default\":null,\"default_bit\":null,\"default_is_expr\":false,\"generated_expr_string\":\"\",\"generated_stored\":false,\"dependences\":null,\"type\":{\"Tp\":246,\"Flag\":0,\"Flen\":6,\"Decimal\":3,\"Charset\":\"binary\",\"Collate\":\"binary\",\"Elems\":null,\"ElemsIsBinaryLit\":null,\"Array\":false},\"state\":5,\"comment\":\"\",\"hidden\":false,\"change_state_info\":null,\"version\":2},{\"id\":8,\"name\":{\"O\":\"s\",\"L\":\"s\"},\"offset\":7,\"origin_default\":null,\"origin_default_bit\":null,\"default\":null,\"default_bit\":null,\"default_is_expr\":false,\"generated_expr_string\":\"\",\"generated_stored\":false,\"dependences\":null,\"type\":{\"Tp\":254,\"Flag\":0,\"Flen\":128,\"Decimal\":0,\"Charset\":\"utf8mb4\",\"Collate\":\"utf8mb4_bin\",\"Elems\":null,\"ElemsIsBinaryLit\":null,\"Array\":false},\"state\":5,\"comment\":\"\",\"hidden\":false,\"change_state_info\":null,\"version\":2},{\"id\":9,\"name\":{\"O\":\"t\",\"L\":\"t\"},\"offset\":8,\"origin_default\":null,\"origin_default_bit\":null,\"default\":null,\"default_bit\":null,\"default_is_expr\":false,\"generated_expr_string\":\"\",\"generated_stored\":false,\"dependences\":null,\"type\":{\"Tp\":12,\"Flag\":128,\"Flen\":19,\"Decimal\":0,\"Charset\":\"binary\",\"Collate\":\"binary\",\"Elems\":null,\"ElemsIsBinaryLit\":null,\"Array\":false},\"state\":5,\"comment\":\"\",\"hidden\":false,\"change_state_info\":null,\"version\":2},{\"id\":10,\"name\":{\"O\":\"c\",\"L\":\"c\"},\"offset\":9,\"origin_default\":null,\"origin_default_bit\":null,\"default\":null,\"default_bit\":null,\"default_is_expr\":false,\"generated_expr_string\":\"(`a` + 1)\",\"generated_stored\":false,\"dependences\":{\"a\":{}},\"type\":{\"Tp\":8,\"Flag\":8388608,\"Flen\":20,\"Decimal\":0,\"Charset\":\"binary\",\"Collate\":\"binary\",\"Elems\":null,\"ElemsIsBinaryLit\":null,\"Array\":false},\"state\":5,\"comment\":\"\",\"hidden\":false,\"change_state_info\":null,\"version\":2},{\"id\":11,\"name\":{\"O\":\"e\",\"L\":\"e\"},\"offset\":10,\"origin_default\":null,\"origin_default_bit\":null,\"default\":null,\"default_bit\":null,\"default_is_expr\":false,\"generated_expr_string\":\"(`b` + `a`)\",\"generated_stored\":false,\"dependences\":{\"a\":{},\"b\":{}},\"type\":{\"Tp\":5,\"Flag\":0,\"Flen\":22,\"Decimal\":-1,\"Charset\":\"binary\",\"Collate\":\"binary\",\"Elems\":null,\"ElemsIsBinaryLit\":null,\"Array\":false},\"state\":5,\"comment\":\"\",\"hidden\":false,\"change_state_info\":null,\"version\":2}],\"index_info\":null,\"constraint_info\":null,\"fk_info\":null,\"state\":5,\"pk_is_handle\":false,\"is_common_handle\":false,\"common_handle_version\":0,\"comment\":\"\",\"auto_inc_id\":0,\"auto_id_cache\":0,\"auto_rand_id\":0,\"max_col_id\":11,\"max_idx_id\":0,\"max_fk_id\":0,\"max_cst_id\":0,\"update_timestamp\":449777386685202433,\"ShardRowIDBits\":0,\"max_shard_row_id_bits\":0,\"auto_random_bits\":0,\"auto_random_range_bits\":0,\"pre_split_regions\":0,\"partition\":null,\"compression\":\"\",\"view\":null,\"sequence\":null,\"Lock\":null,\"version\":5,\"tiflash_replica\":null,\"is_columnar\":false,\"temp_table_type\":0,\"cache_table_status\":0,\"policy_ref_info\":null,\"stats_options\":null,\"exchange_partition_info\":null,\"ttl_info\":null,\"revision\":0}"]
[2024/05/15 17:16:07.239 +08:00] [INFO] [mock.go:106] ["owner manager is canceled"] [category=ddl] [ID=3847f620-6d65-4b0f-b1df-8715c4ef2a2c] [ownerKey=/tidb/ddl/fg/owner]
[2024/05/15 17:16:07.239 +08:00] [INFO] [ddl_workerpool.go:82] ["closing workerPool"] [category=ddl]
[2024/05/15 17:16:07.239 +08:00] [INFO] [ddl_worker.go:186] ["DDL worker closed"] [worker="worker 4, tp add index"] [category=ddl] ["take time"=875ns]
[2024/05/15 17:16:07.239 +08:00] [INFO] [ddl_workerpool.go:82] ["closing workerPool"] [category=ddl]
[2024/05/15 17:16:07.239 +08:00] [INFO] [ddl_worker.go:186] ["DDL worker closed"] [worker="worker 3, tp general"] [category=ddl] ["take time"=458ns]
[2024/05/15 17:16:07.239 +08:00] [INFO] [ddl_workerpool.go:82] ["closing workerPool"] [category=ddl]
[2024/05/15 17:16:07.239 +08:00] [INFO] [delete_range.go:162] ["closing delRange"] [category=ddl]
[2024/05/15 17:16:07.239 +08:00] [INFO] [session_pool.go:99] ["closing session pool"] [category=ddl]
[2024/05/15 17:16:07.239 +08:00] [INFO] [ddl.go:951] ["DDL closed"] [category=ddl] [ID=3847f620-6d65-4b0f-b1df-8715c4ef2a2c] ["take time"=159.292s]
[2024/05/15 17:16:07.239 +08:00] [INFO] [ddl.go:769] ["stop DDL"] [category=ddl] [ID=3847f620-6d65-4b0f-b1df-8715c4ef2a2c]
[2024/05/15 17:16:07.239 +08:00] [INFO] [domain.go:1034] ["stopping ttlJobManager"]
[2024/05/15 17:16:07.239 +08:00] [INFO] [task_manager.go:194] ["shrink ttl worker"] [ttl-worker=job-manager] [ttl-worker=task-manager] [originalCount=4] [newCount=0]
[2024/05/15 17:16:07.239 +08:00] [INFO] [scan.go:309] ["ttlScanWorker loop exited."]
[2024/05/15 17:16:07.239 +08:00] [INFO] [scan.go:309] ["ttlScanWorker loop exited."]
[2024/05/15 17:16:07.239 +08:00] [INFO] [scan.go:309] ["ttlScanWorker loop exited."]
[2024/05/15 17:16:07.239 +08:00] [INFO] [scan.go:309] ["ttlScanWorker loop exited."]
[2024/05/15 17:16:07.239 +08:00] [INFO] [task_manager.go:194] ["shrink ttl worker"] [ttl-worker=job-manager] [ttl-worker=task-manager] [originalCount=4] [newCount=0]
[2024/05/15 17:16:07.239 +08:00] [INFO] [del.go:261] ["ttlDeleteWorker loop exited."]
[2024/05/15 17:16:07.239 +08:00] [INFO] [del.go:261] ["ttlDeleteWorker loop exited."]
[2024/05/15 17:16:07.239 +08:00] [INFO] [del.go:261] ["ttlDeleteWorker loop exited."]
[2024/05/15 17:16:07.239 +08:00] [INFO] [del.go:261] ["ttlDeleteWorker loop exited."]
[2024/05/15 17:16:07.240 +08:00] [INFO] [job_manager.go:174] ["ttlJobManager loop exited."] [ttl-worker=job-manager]
[2024/05/15 17:16:07.240 +08:00] [INFO] [domain.go:1045] ["ttlJobManager exited."]
[2024/05/15 17:16:07.240 +08:00] [INFO] [manager.go:280] ["recoverMetaLoop done"] [server-id=:4000]
[2024/05/15 17:16:07.240 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=mdlCheckLoop]
[2024/05/15 17:16:07.240 +08:00] [INFO] [domain.go:915] ["loadSchemaInLoop exited."]
[2024/05/15 17:16:07.240 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=loadSchemaInLoop]
[2024/05/15 17:16:07.240 +08:00] [INFO] [domain.go:1535] ["stopping dist task executor manager"]
[2024/05/15 17:16:07.240 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=loadSigningCertLoop]
[2024/05/15 17:16:07.240 +08:00] [INFO] [stats_syncload.go:216] ["SubLoadWorker exited."]
[2024/05/15 17:16:07.241 +08:00] [INFO] [stats_syncload.go:216] ["SubLoadWorker exited."]
[2024/05/15 17:16:07.241 +08:00] [INFO] [stats_syncload.go:216] ["SubLoadWorker exited."]
[2024/05/15 17:16:07.241 +08:00] [INFO] [stats_syncload.go:216] ["SubLoadWorker exited."]
[2024/05/15 17:16:07.241 +08:00] [INFO] [stats_syncload.go:216] ["SubLoadWorker exited."]
[2024/05/15 17:16:07.241 +08:00] [INFO] [mock.go:106] ["owner manager is canceled"] [category=ddl] [ID=3847f620-6d65-4b0f-b1df-8715c4ef2a2c] [ownerKey=/tidb/stats/owner]
[2024/05/15 17:16:07.241 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=quitStatsOwner]
[2024/05/15 17:16:07.241 +08:00] [INFO] [domain.go:2361] ["indexUsageWorker exited."]
[2024/05/15 17:16:07.241 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=indexUsageWorker]
[2024/05/15 17:16:07.241 +08:00] [INFO] [domain.go:2082] ["dumpFileGcChecker exited."]
[2024/05/15 17:16:07.241 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=dumpFileGcChecker]
[2024/05/15 17:16:07.241 +08:00] [INFO] [domain.go:1758] ["LoadSysVarCacheLoop exited."]
[2024/05/15 17:16:07.241 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=LoadSysVarCacheLoop]
[2024/05/15 17:16:07.241 +08:00] [INFO] [domain.go:1708] ["loadPrivilegeInLoop exited."]
[2024/05/15 17:16:07.241 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=loadPrivilegeInLoop]
[2024/05/15 17:16:07.241 +08:00] [INFO] [mock.go:106] ["owner manager is canceled"] [category=ddl] [ID=3847f620-6d65-4b0f-b1df-8715c4ef2a2c] [ownerKey=/tidb/bindinfo/owner]
[2024/05/15 17:16:07.241 +08:00] [INFO] [domain.go:1897] ["globalBindHandleWorkerLoop exited."]
[2024/05/15 17:16:07.241 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=globalBindHandleWorkerLoop]
[2024/05/15 17:16:07.241 +08:00] [INFO] [domain.go:769] ["topologySyncerKeeper exited."]
[2024/05/15 17:16:07.241 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=topologySyncerKeeper]
[2024/05/15 17:16:07.241 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=runawayStartLoop]
[2024/05/15 17:16:07.241 +08:00] [INFO] [domain.go:745] ["globalConfigSyncerKeeper exited."]
[2024/05/15 17:16:07.241 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=globalConfigSyncerKeeper]
[2024/05/15 17:16:07.241 +08:00] [INFO] [domain.go:719] ["infoSyncerKeeper exited."]
[2024/05/15 17:16:07.241 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=infoSyncerKeeper]
[2024/05/15 17:16:07.241 +08:00] [INFO] [domain.go:691] ["topNSlowQueryLoop exited."]
[2024/05/15 17:16:07.241 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=topNSlowQueryLoop]
[2024/05/15 17:16:07.241 +08:00] [INFO] [domain.go:1369] ["closestReplicaReadCheckLoop exited."]
[2024/05/15 17:16:07.241 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=closestReplicaReadCheckLoop]
[2024/05/15 17:16:07.241 +08:00] [INFO] [manager.go:179] ["handle tasks loop done"] [server-id=:4000]
[2024/05/15 17:16:07.241 +08:00] [INFO] [domain.go:1537] ["dist task executor manager stopped"]
[2024/05/15 17:16:07.241 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=distTaskFrameworkLoop]
[2024/05/15 17:16:07.241 +08:00] [INFO] [domain.go:1082] ["domain closed"] ["take time"=1.898167ms]
[2024/05/15 17:16:07.249 +08:00] [INFO] [db.go:567] ["Closing database"]
[2024/05/15 17:16:07.249 +08:00] [INFO] [db.go:592] ["Memtable flushed"]
[2024/05/15 17:16:07.249 +08:00] [INFO] [db.go:596] ["Compaction finished"]
[2024/05/15 17:16:07.249 +08:00] [INFO] [db.go:615] ["BlobManager finished"]
[2024/05/15 17:16:07.249 +08:00] [INFO] [db.go:619] ["ResourceManager finished"]
[2024/05/15 17:16:07.249 +08:00] [INFO] [db.go:625] ["Waiting for closer"]
--- FAIL: TestPushDownProjectionForTiFlashCoprocessor (1.60s)
panic: inconsistent infoschema [recovered]
	panic: inconsistent infoschema [recovered]
	panic: inconsistent infoschema

goroutine 12 [running]:
testing.tRunner.func1.2({0x1088abae0, 0x10918cec0})
	/Users/bba/.gvm/gos/go1.21.0/src/testing/testing.go:1545 +0x1c8
testing.tRunner.func1()
	/Users/bba/.gvm/gos/go1.21.0/src/testing/testing.go:1548 +0x360
panic({0x1088abae0?, 0x10918cec0?})
	/Users/bba/.gvm/gos/go1.21.0/src/runtime/panic.go:914 +0x218
github.com/pingcap/tidb/pkg/executor.(*ExecStmt).Exec.func1()
	/Users/bba/pc/tidb/pkg/executor/adapter.go:452 +0x41c
panic({0x1088abae0?, 0x10918cec0?})
	/Users/bba/.gvm/gos/go1.21.0/src/runtime/panic.go:914 +0x218
github.com/pingcap/tidb/pkg/infoschema.(*infoschemaV3).TableByID(0x1400891a510, 0x1400a1fa5c0?)
	/Users/bba/pc/tidb/pkg/infoschema/infoschema_v3.go:201 +0xb4
github.com/pingcap/tidb/pkg/infoschema.(*SessionExtendedInfoSchema).TableByID(0x14005e4c090, 0x68)
	/Users/bba/pc/tidb/pkg/infoschema/infoschema.go:737 +0x90
github.com/pingcap/tidb/pkg/executor.(*executorBuilder).buildMPPGather(0x14005733ce0, 0x14005bd6c00)
	/Users/bba/pc/tidb/pkg/executor/builder.go:3336 +0x560
github.com/pingcap/tidb/pkg/executor.(*executorBuilder).buildTableReader(0x14005733ce0, 0x14005bd6c00)
	/Users/bba/pc/tidb/pkg/executor/builder.go:3373 +0x91c
github.com/pingcap/tidb/pkg/executor.(*executorBuilder).build(0x14005733ce0, {0x1091f4c70?, 0x14005bd6c00?})
	/Users/bba/pc/tidb/pkg/executor/builder.go:288 +0xae4
github.com/pingcap/tidb/pkg/executor.(*executorBuilder).buildProjection(0x14005733ce0, 0x14006bb0620)
	/Users/bba/pc/tidb/pkg/executor/builder.go:1775 +0x64
github.com/pingcap/tidb/pkg/executor.(*executorBuilder).build(0x14005733ce0, {0x1091f48b0?, 0x14006bb0620?})
	/Users/bba/pc/tidb/pkg/executor/builder.go:276 +0xa0c
github.com/pingcap/tidb/pkg/executor.(*executorBuilder).buildExplain(0x14005733ce0, 0x140052a92b0)
	/Users/bba/pc/tidb/pkg/executor/builder.go:1229 +0x1ac
github.com/pingcap/tidb/pkg/executor.(*executorBuilder).build(0x109246d30?, {0x1091f38c0?, 0x140052a92b0?})
	/Users/bba/pc/tidb/pkg/executor/builder.go:194 +0x43c
github.com/pingcap/tidb/pkg/executor.(*ExecStmt).buildExecutor(0x140053154a0)
	/Users/bba/pc/tidb/pkg/executor/adapter.go:1172 +0x164
github.com/pingcap/tidb/pkg/executor.(*ExecStmt).Exec(0x140053154a0, {0x1091d0248, 0x14005e4d290})
	/Users/bba/pc/tidb/pkg/executor/adapter.go:522 +0x710
github.com/pingcap/tidb/pkg/session.runStmt({0x1091d01a0, 0x10c21a020}, 0x140058b9680, {0x1091e05d0, 0x140053154a0?})
	/Users/bba/pc/tidb/pkg/session/session.go:2285 +0x338
github.com/pingcap/tidb/pkg/session.(*session).ExecuteStmt(0x140058b9680, {0x1091d01a0?, 0x10c21a020?}, {0x1091e6eb8, 0x140057325b0?})
	/Users/bba/pc/tidb/pkg/session/session.go:2146 +0xd94
github.com/pingcap/tidb/pkg/testkit.(*TestKit).ExecWithContext(0x1400950e910, {0x1091d01a0, 0x10c21a020}, {0x14005df5380, 0x31}, {0x0, 0x0, 0x0})
	/Users/bba/pc/tidb/pkg/testkit/testkit.go:384 +0x714
github.com/pingcap/tidb/pkg/testkit.(*TestKit).MustQueryWithContext(0x1400950e910, {0x1091d01a0, 0x10c21a020}, {0x14005df5380, 0x31}, {0x0, 0x0, 0x0})
	/Users/bba/pc/tidb/pkg/testkit/testkit.go:195 +0xc8
github.com/pingcap/tidb/pkg/testkit.(*TestKit).MustQuery(0x14000952480?, {0x14005df5380?, 0x3?}, {0x0?, 0x108859a40?, 0x14005b40240?})
	/Users/bba/pc/tidb/pkg/testkit/testkit.go:173 +0x78
github.com/pingcap/tidb/pkg/planner/core/casetest/pushdown.TestPushDownProjectionForTiFlashCoprocessor(0x0?)
	/Users/bba/pc/tidb/pkg/planner/core/casetest/pushdown/push_down_test.go:198 +0x498
testing.tRunner(0x14000603a00, 0x109181d78)
	/Users/bba/.gvm/gos/go1.21.0/src/testing/testing.go:1595 +0xe8
created by testing.(*T).Run in goroutine 1
	/Users/bba/.gvm/gos/go1.21.0/src/testing/testing.go:1648 +0x33c
[FAIL]  pkg/executor/test/ddl TestShardRowIDBits
err=exit status 1
PASS
goleak: Errors on successful test run: found unexpected goroutines:
[Goroutine 23 in state select, with go.opencensus.io/stats/view.(*worker).start on top of the stack:
go.opencensus.io/stats/view.(*worker).start(0x140000d9400)
	/Users/bba/.gvm/pkgsets/go1.21.0/global/pkg/mod/go.opencensus.io@v0.24.0/stats/view/worker.go:292 +0x88
created by go.opencensus.io/stats/view.init.0 in goroutine 1
	/Users/bba/.gvm/pkgsets/go1.21.0/global/pkg/mod/go.opencensus.io@v0.24.0/stats/view/worker.go:34 +0x98
]
[FAIL]  pkg/executor/test/showtest TestShow2
err=exit status 2
[2024/05/15 17:18:59.032 +08:00] [INFO] [store_cache.go:510] ["change store resolve state"] [store=1] [addr=store1] [from=unresolved] [to=resolved] [liveness-state=reachable]
[2024/05/15 17:18:59.048 +08:00] [INFO] [ddl_api.go:1139] ["Automatically convert BLOB(65535) to MEDIUMBLOB"] [category=ddl]
[2024/05/15 17:18:59.049 +08:00] [INFO] [ddl_api.go:1139] ["Automatically convert BLOB(65535) to MEDIUMBLOB"] [category=ddl]
[2024/05/15 17:18:59.052 +08:00] [INFO] [ddl_api.go:1139] ["Automatically convert BLOB(65535) to MEDIUMBLOB"] [category=ddl]
[2024/05/15 17:18:59.052 +08:00] [INFO] [ddl_api.go:1139] ["Automatically convert BLOB(65535) to MEDIUMBLOB"] [category=ddl]
[2024/05/15 17:18:59.055 +08:00] [INFO] [ddl_api.go:1139] ["Automatically convert BLOB(65535) to MEDIUMBLOB"] [category=ddl]
[2024/05/15 17:18:59.061 +08:00] [INFO] [tidb.go:80] ["new domain"] [store=6ee96b55-29a7-41e8-b0f2-1a591194db5a] ["ddl lease"=500ms] ["stats lease"=-1ns]
[2024/05/15 17:18:59.075 +08:00] [WARN] [controller.go:198] ["[resource group controller] server does not save config, load config failed"]
[2024/05/15 17:18:59.076 +08:00] [INFO] [controller.go:185] ["load resource controller config"] [config="{\"degraded-mode-wait-duration\":\"0s\",\"ltb-max-wait-duration\":\"30s\",\"wait-retry-interval\":\"50ms\",\"wait-retry-times\":10,\"request-unit\":{\"read-base-cost\":0.125,\"read-per-batch-base-cost\":0.5,\"read-cost-per-byte\":0.0000152587890625,\"write-base-cost\":1,\"write-per-batch-base-cost\":1,\"write-cost-per-byte\":0.0009765625,\"read-cpu-ms-cost\":0.3333333333333333},\"enable-controller-trace-log\":\"false\"}"] [ru-config="{\"ReadBaseCost\":0.125,\"ReadPerBatchBaseCost\":0.5,\"ReadBytesCost\":0.0000152587890625,\"WriteBaseCost\":1,\"WritePerBatchBaseCost\":1,\"WriteBytesCost\":0.0009765625,\"CPUMsCost\":0.3333333333333333,\"LTBMaxWaitDuration\":30000000000,\"WaitRetryInterval\":50000000,\"WaitRetryTimes\":10,\"DegradedModeWaitDuration\":0}"]
[2024/05/15 17:18:59.077 +08:00] [WARN] [domain.go:244] ["failed to get schema version"] [error="There is no Write MVCC info for the schema version"] [errorVerbose="There is no Write MVCC info for the schema version\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).getTimestampForSchemaVersionWithNonEmptyDiff\n\t/Users/bba/pc/tidb/pkg/domain/domain.go:343\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).loadInfoSchema\n\t/Users/bba/pc/tidb/pkg/domain/domain.go:242\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).Reload\n\t/Users/bba/pc/tidb/pkg/domain/domain.go:614\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).Init\n\t/Users/bba/pc/tidb/pkg/domain/domain.go:1268\ngithub.com/pingcap/tidb/pkg/session.(*domainMap).Get.func1\n\t/Users/bba/pc/tidb/pkg/session/tidb.go:92\ngithub.com/pingcap/tidb/pkg/util.RunWithRetry\n\t/Users/bba/pc/tidb/pkg/util/misc.go:70\ngithub.com/pingcap/tidb/pkg/session.(*domainMap).Get\n\t/Users/bba/pc/tidb/pkg/session/tidb.go:79\ngithub.com/pingcap/tidb/pkg/session.createSessionWithOpt\n\t/Users/bba/pc/tidb/pkg/session/session.go:3633\ngithub.com/pingcap/tidb/pkg/session.createSession\n\t/Users/bba/pc/tidb/pkg/session/session.go:3625\ngithub.com/pingcap/tidb/pkg/session.runInBootstrapSession\n\t/Users/bba/pc/tidb/pkg/session/session.go:3575\ngithub.com/pingcap/tidb/pkg/session.bootstrapSessionImpl\n\t/Users/bba/pc/tidb/pkg/session/session.go:3351\ngithub.com/pingcap/tidb/pkg/session.BootstrapSession\n\t/Users/bba/pc/tidb/pkg/session/session.go:3317\ngithub.com/pingcap/tidb/pkg/testkit.bootstrap\n\t/Users/bba/pc/tidb/pkg/testkit/mockstore.go:294\ngithub.com/pingcap/tidb/pkg/testkit.CreateMockStoreAndDomain\n\t/Users/bba/pc/tidb/pkg/testkit/mockstore.go:265\ngithub.com/pingcap/tidb/pkg/executor/test/showtest.TestShow2\n\t/Users/bba/pc/tidb/pkg/executor/test/showtest/show_test.go:431\ntesting.tRunner\n\t/Users/bba/.gvm/gos/go1.21.0/src/testing/testing.go:1595\nruntime.goexit\n\t/Users/bba/.gvm/gos/go1.21.0/src/runtime/asm_arm64.s:1197"] [version=0]
[2024/05/15 17:18:59.094 +08:00] [INFO] [domain.go:323] ["full load InfoSchema success"] [currentSchemaVersion=0] [neededSchemaVersion=0] ["start time"=15.36225ms]
[2024/05/15 17:18:59.095 +08:00] [INFO] [domain.go:643] ["full load and reset schema validator"]
[2024/05/15 17:18:59.096 +08:00] [INFO] [ddl.go:818] ["start DDL"] [category=ddl] [ID=a6a3cc7f-c0e4-48e5-8f60-d25c84ab936f] [runWorker=true]
[2024/05/15 17:18:59.097 +08:00] [INFO] [ddl.go:777] ["start delRangeManager OK"] [category=ddl] ["is a emulator"=true]
[2024/05/15 17:18:59.098 +08:00] [WARN] [env.go:51] ["initialize environment failed"] [category=ddl-ingest] ["storage limitation"="only support TiKV storage"] ["current storage"=unistore] ["lightning is initialized"=false]
[2024/05/15 17:18:59.098 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=loadSchemaInLoop]
[2024/05/15 17:18:59.098 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=mdlCheckLoop]
[2024/05/15 17:18:59.098 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=topNSlowQueryLoop]
[2024/05/15 17:18:59.098 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=infoSyncerKeeper]
[2024/05/15 17:18:59.098 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=globalConfigSyncerKeeper]
[2024/05/15 17:18:59.098 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=runawayStartLoop]
[2024/05/15 17:18:59.098 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=requestUnitsWriterLoop]
[2024/05/15 17:18:59.098 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=topologySyncerKeeper]
[2024/05/15 17:18:59.098 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=closestReplicaReadCheckLoop]
[2024/05/15 17:18:59.098 +08:00] [WARN] [domain.go:1334] ["pd / etcd client not provided, won't begin Advancer."]
[2024/05/15 17:18:59.118 +08:00] [INFO] [delete_range.go:172] ["start delRange emulator"] [category=ddl]
[2024/05/15 17:18:59.121 +08:00] [INFO] [job_table.go:334] ["get global state and global state change"] [category=ddl] [oldState=false] [currState=false]
[2024/05/15 17:18:59.125 +08:00] [INFO] [runaway.go:149] ["try to start runaway manager loop"]
[2024/05/15 17:18:59.125 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=requestUnitsWriterLoop]
[2024/05/15 17:18:59.128 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=0] [cur_db=mysql] [sql="CREATE DATABASE IF NOT EXISTS test"] [user=]
[2024/05/15 17:18:59.163 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:3, Type:create schema, State:queueing, SchemaState:none, SchemaID:2, TableID:0, RowCount:0, ArgLen:1, start time: 2024-05-15 17:18:59.157 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:18:59.163 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:3, Type:create schema, State:queueing, SchemaState:none, SchemaID:2, TableID:0, RowCount:0, ArgLen:1, start time: 2024-05-15 17:18:59.157 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE DATABASE IF NOT EXISTS test"]
[2024/05/15 17:18:59.172 +08:00] [INFO] [job_table.go:334] ["get global state and global state change"] [category=ddl] [oldState=false] [currState=false]
[2024/05/15 17:18:59.172 +08:00] [INFO] [job_table.go:349] ["the owner sets owner operator value"] [category=ddl] [ownerOp=none]
[2024/05/15 17:18:59.203 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=3] [category=ddl] [job="ID:3, Type:create schema, State:queueing, SchemaState:none, SchemaID:2, TableID:0, RowCount:0, ArgLen:0, start time: 2024-05-15 17:18:59.157 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:18:59.215 +08:00] [INFO] [domain.go:323] ["full load InfoSchema success"] [currentSchemaVersion=0] [neededSchemaVersion=1] ["start time"=8.155458ms]
[2024/05/15 17:18:59.216 +08:00] [INFO] [domain.go:643] ["full load and reset schema validator"]
[2024/05/15 17:18:59.217 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:18:59.217 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=3] [version=1]
[2024/05/15 17:18:59.217 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=1] ["take time"=10.765875ms] [job="ID:3, Type:create schema, State:done, SchemaState:public, SchemaID:2, TableID:0, RowCount:0, ArgLen:1, start time: 2024-05-15 17:18:59.157 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:18:59.222 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=3] [job="ID:3, Type:create schema, State:synced, SchemaState:public, SchemaID:2, TableID:0, RowCount:0, ArgLen:0, start time: 2024-05-15 17:18:59.157 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:18:59.225 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=3]
[2024/05/15 17:18:59.225 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:18:59.226 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=1] [cur_db=mysql] [sql="CREATE DATABASE IF NOT EXISTS `mysql`"] [user=]
[2024/05/15 17:18:59.227 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=1] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.user (\n\t\tHost\t\t\t\t\tCHAR(255),\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tauthentication_string\tTEXT,\n\t\tplugin\t\t\t\t\tCHAR(64),\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tProcess_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_db_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tSuper_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_user_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_slave_priv\t    \tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_client_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_role_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_role_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAccount_locked\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShutdown_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReload_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tFILE_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tConfig_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_Tablespace_Priv  ENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPassword_reuse_history  smallint unsigned DEFAULT NULL,\n\t\tPassword_reuse_time     smallint unsigned DEFAULT NULL,\n\t\tUser_attributes\t\t\tjson,\n\t\tToken_issuer\t\t\tVARCHAR(255),\n\t\tPassword_expired\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPassword_last_changed\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP(),\n\t\tPassword_lifetime\t\tSMALLINT UNSIGNED DEFAULT NULL,\n\t\tPRIMARY KEY (Host, User));"] [user=]
[2024/05/15 17:18:59.230 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:5, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:4, RowCount:0, ArgLen:2, start time: 2024-05-15 17:18:59.228 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:18:59.230 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:5, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:4, RowCount:0, ArgLen:2, start time: 2024-05-15 17:18:59.228 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.user (\n\t\tHost\t\t\t\t\tCHAR(255),\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tauthentication_string\tTEXT,\n\t\tplugin\t\t\t\t\tCHAR(64),\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tProcess_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_db_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tSuper_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_user_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_slave_priv\t    \tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_client_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_role_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_role_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAccount_locked\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShutdown_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReload_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tFILE_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tConfig_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_Tablespace_Priv  ENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPassword_reuse_history  smallint unsigned DEFAULT NULL,\n\t\tPassword_reuse_time     smallint unsigned DEFAULT NULL,\n\t\tUser_attributes\t\t\tjson,\n\t\tToken_issuer\t\t\tVARCHAR(255),\n\t\tPassword_expired\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPassword_last_changed\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP(),\n\t\tPassword_lifetime\t\tSMALLINT UNSIGNED DEFAULT NULL,\n\t\tPRIMARY KEY (Host, User));"]
[2024/05/15 17:18:59.235 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=5] [category=ddl] [job="ID:5, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:4, RowCount:0, ArgLen:0, start time: 2024-05-15 17:18:59.228 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:18:59.243 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=1] [neededSchemaVersion=2] ["start time"=993.791s] [gotSchemaVersion=2] [phyTblIDs="[4]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:18:59.244 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:18:59.244 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=5] [version=2]
[2024/05/15 17:18:59.245 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=2] ["take time"=2.90925ms] [job="ID:5, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:4, RowCount:0, ArgLen:2, start time: 2024-05-15 17:18:59.228 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:18:59.251 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=5] [job="ID:5, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:4, RowCount:0, ArgLen:0, start time: 2024-05-15 17:18:59.228 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:18:59.255 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=5]
[2024/05/15 17:18:59.255 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:18:59.257 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=2] [cur_db=mysql] [sql="CREATE TABLE  IF NOT EXISTS mysql.password_history (\n         Host char(255)  NOT NULL DEFAULT '',\n         User char(32)  NOT NULL DEFAULT '',\n         Password_timestamp timestamp(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6),\n         Password text,\n         PRIMARY KEY (Host,User,Password_timestamp )\n        ) COMMENT='Password history for user accounts' "] [user=]
[2024/05/15 17:18:59.259 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:7, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:6, RowCount:0, ArgLen:2, start time: 2024-05-15 17:18:59.259 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:18:59.260 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:7, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:6, RowCount:0, ArgLen:2, start time: 2024-05-15 17:18:59.259 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE  IF NOT EXISTS mysql.password_history (\n         Host char(255)  NOT NULL DEFAULT '',\n         User char(32)  NOT NULL DEFAULT '',\n         Password_timestamp timestamp(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6),\n         Password text,\n         PRIMARY KEY (Host,User,Password_timestamp )\n        ) COMMENT='Password history for user accounts' "]
[2024/05/15 17:18:59.263 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=7] [category=ddl] [job="ID:7, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:6, RowCount:0, ArgLen:0, start time: 2024-05-15 17:18:59.259 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:18:59.265 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=2] [neededSchemaVersion=3] ["start time"=202.375s] [gotSchemaVersion=3] [phyTblIDs="[6]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:18:59.266 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:18:59.266 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=7] [version=3]
[2024/05/15 17:18:59.267 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=3] ["take time"=2.393333ms] [job="ID:7, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:6, RowCount:0, ArgLen:2, start time: 2024-05-15 17:18:59.259 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:18:59.273 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=7] [job="ID:7, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:6, RowCount:0, ArgLen:0, start time: 2024-05-15 17:18:59.259 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:18:59.277 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=7]
[2024/05/15 17:18:59.277 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:18:59.278 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=3] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.global_priv (Host CHAR(255) NOT NULL DEFAULT '',User CHAR(80) NOT NULL DEFAULT '',Priv LONGTEXT NOT NULL DEFAULT '',PRIMARY KEY (Host, User))"] [user=]
[2024/05/15 17:18:59.281 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:9, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:8, RowCount:0, ArgLen:2, start time: 2024-05-15 17:18:59.28 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:18:59.281 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:9, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:8, RowCount:0, ArgLen:2, start time: 2024-05-15 17:18:59.28 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.global_priv (Host CHAR(255) NOT NULL DEFAULT '',User CHAR(80) NOT NULL DEFAULT '',Priv LONGTEXT NOT NULL DEFAULT '',PRIMARY KEY (Host, User))"]
[2024/05/15 17:18:59.291 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=9] [category=ddl] [job="ID:9, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:8, RowCount:0, ArgLen:0, start time: 2024-05-15 17:18:59.28 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:18:59.296 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=3] [neededSchemaVersion=4] ["start time"=223.583s] [gotSchemaVersion=4] [phyTblIDs="[8]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:18:59.297 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:18:59.297 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=9] [version=4]
[2024/05/15 17:18:59.298 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=4] ["take time"=2.347375ms] [job="ID:9, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:8, RowCount:0, ArgLen:2, start time: 2024-05-15 17:18:59.28 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:18:59.306 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=9] [job="ID:9, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:8, RowCount:0, ArgLen:0, start time: 2024-05-15 17:18:59.28 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:18:59.307 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=9]
[2024/05/15 17:18:59.307 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:18:59.308 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=4] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.db (\n\t\tHost\t\t\t\t\tCHAR(255),\n\t\tDB\t\t\t\t\t\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv \t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (Host, DB, User));"] [user=]
[2024/05/15 17:18:59.311 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:11, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:10, RowCount:0, ArgLen:2, start time: 2024-05-15 17:18:59.309 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:18:59.311 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:11, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:10, RowCount:0, ArgLen:2, start time: 2024-05-15 17:18:59.309 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.db (\n\t\tHost\t\t\t\t\tCHAR(255),\n\t\tDB\t\t\t\t\t\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv \t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (Host, DB, User));"]
[2024/05/15 17:18:59.315 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=11] [category=ddl] [job="ID:11, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:10, RowCount:0, ArgLen:0, start time: 2024-05-15 17:18:59.309 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:18:59.318 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=4] [neededSchemaVersion=5] ["start time"=502.792s] [gotSchemaVersion=5] [phyTblIDs="[10]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:18:59.319 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:18:59.319 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=11] [version=5]
[2024/05/15 17:18:59.320 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=5] ["take time"=2.352ms] [job="ID:11, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:10, RowCount:0, ArgLen:2, start time: 2024-05-15 17:18:59.309 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:18:59.325 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=11] [job="ID:11, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:10, RowCount:0, ArgLen:0, start time: 2024-05-15 17:18:59.309 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:18:59.328 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=11]
[2024/05/15 17:18:59.328 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:18:59.328 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=5] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tables_priv (\n\t\tHost\t\tCHAR(255),\n\t\tDB\t\t\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tGrantor\t\tCHAR(77),\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tTable_priv\tSET('Select','Insert','Update','Delete','Create','Drop','Grant','Index','Alter','Create View','Show View','Trigger','References'),\n\t\tColumn_priv\tSET('Select','Insert','Update','References'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name));"] [user=]
[2024/05/15 17:18:59.330 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:13, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:12, RowCount:0, ArgLen:2, start time: 2024-05-15 17:18:59.329 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:18:59.330 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:13, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:12, RowCount:0, ArgLen:2, start time: 2024-05-15 17:18:59.329 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tables_priv (\n\t\tHost\t\tCHAR(255),\n\t\tDB\t\t\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tGrantor\t\tCHAR(77),\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tTable_priv\tSET('Select','Insert','Update','Delete','Create','Drop','Grant','Index','Alter','Create View','Show View','Trigger','References'),\n\t\tColumn_priv\tSET('Select','Insert','Update','References'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name));"]
[2024/05/15 17:18:59.335 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=13] [category=ddl] [job="ID:13, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:12, RowCount:0, ArgLen:0, start time: 2024-05-15 17:18:59.329 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:18:59.337 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=5] [neededSchemaVersion=6] ["start time"=317.916s] [gotSchemaVersion=6] [phyTblIDs="[12]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:18:59.338 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:18:59.338 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=13] [version=6]
[2024/05/15 17:18:59.339 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=6] ["take time"=2.207166ms] [job="ID:13, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:12, RowCount:0, ArgLen:2, start time: 2024-05-15 17:18:59.329 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:18:59.345 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=13] [job="ID:13, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:12, RowCount:0, ArgLen:0, start time: 2024-05-15 17:18:59.329 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:18:59.348 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=13]
[2024/05/15 17:18:59.348 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:18:59.348 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=6] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.columns_priv(\n\t\tHost\t\tCHAR(255),\n\t\tDB\t\t\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tColumn_name\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tColumn_priv\tSET('Select','Insert','Update','References'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name, Column_name));"] [user=]
[2024/05/15 17:18:59.350 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:15, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:14, RowCount:0, ArgLen:2, start time: 2024-05-15 17:18:59.349 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:18:59.350 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:15, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:14, RowCount:0, ArgLen:2, start time: 2024-05-15 17:18:59.349 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.columns_priv(\n\t\tHost\t\tCHAR(255),\n\t\tDB\t\t\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tColumn_name\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tColumn_priv\tSET('Select','Insert','Update','References'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name, Column_name));"]
[2024/05/15 17:18:59.354 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=15] [category=ddl] [job="ID:15, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:14, RowCount:0, ArgLen:0, start time: 2024-05-15 17:18:59.349 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:18:59.356 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=6] [neededSchemaVersion=7] ["start time"=264.917s] [gotSchemaVersion=7] [phyTblIDs="[14]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:18:59.357 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:18:59.357 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=15] [version=7]
[2024/05/15 17:18:59.358 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=7] ["take time"=2.215833ms] [job="ID:15, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:14, RowCount:0, ArgLen:2, start time: 2024-05-15 17:18:59.349 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:18:59.363 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=15] [job="ID:15, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:14, RowCount:0, ArgLen:0, start time: 2024-05-15 17:18:59.349 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:18:59.365 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=15]
[2024/05/15 17:18:59.365 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:18:59.365 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=7] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.GLOBAL_VARIABLES(\n\t\tVARIABLE_NAME  VARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE VARCHAR(16383) DEFAULT NULL);"] [user=]
[2024/05/15 17:18:59.367 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:17, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:16, RowCount:0, ArgLen:2, start time: 2024-05-15 17:18:59.365 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:18:59.367 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:17, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:16, RowCount:0, ArgLen:2, start time: 2024-05-15 17:18:59.365 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.GLOBAL_VARIABLES(\n\t\tVARIABLE_NAME  VARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE VARCHAR(16383) DEFAULT NULL);"]
[2024/05/15 17:18:59.371 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=17] [category=ddl] [job="ID:17, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:16, RowCount:0, ArgLen:0, start time: 2024-05-15 17:18:59.365 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:18:59.372 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=7] [neededSchemaVersion=8] ["start time"=162s] [gotSchemaVersion=8] [phyTblIDs="[16]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:18:59.374 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:18:59.374 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=17] [version=8]
[2024/05/15 17:18:59.374 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=8] ["take time"=2.0055ms] [job="ID:17, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:16, RowCount:0, ArgLen:2, start time: 2024-05-15 17:18:59.365 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:18:59.377 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=17] [job="ID:17, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:16, RowCount:0, ArgLen:0, start time: 2024-05-15 17:18:59.365 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:18:59.379 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=17]
[2024/05/15 17:18:59.379 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:18:59.379 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=8] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb(\n\t\tVARIABLE_NAME  \tVARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE \tVARCHAR(1024) DEFAULT NULL,\n\t\tCOMMENT \t\tVARCHAR(1024));"] [user=]
[2024/05/15 17:18:59.380 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:19, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:18, RowCount:0, ArgLen:2, start time: 2024-05-15 17:18:59.38 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:18:59.380 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:19, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:18, RowCount:0, ArgLen:2, start time: 2024-05-15 17:18:59.38 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb(\n\t\tVARIABLE_NAME  \tVARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE \tVARCHAR(1024) DEFAULT NULL,\n\t\tCOMMENT \t\tVARCHAR(1024));"]
[2024/05/15 17:18:59.383 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=19] [category=ddl] [job="ID:19, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:18, RowCount:0, ArgLen:0, start time: 2024-05-15 17:18:59.38 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:18:59.385 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=8] [neededSchemaVersion=9] ["start time"=171.459s] [gotSchemaVersion=9] [phyTblIDs="[18]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:18:59.386 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:18:59.386 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=19] [version=9]
[2024/05/15 17:18:59.387 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=9] ["take time"=2.019375ms] [job="ID:19, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:18, RowCount:0, ArgLen:2, start time: 2024-05-15 17:18:59.38 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:18:59.391 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=19] [job="ID:19, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:18, RowCount:0, ArgLen:0, start time: 2024-05-15 17:18:59.38 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:18:59.393 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=19]
[2024/05/15 17:18:59.393 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:18:59.394 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=9] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.help_topic (\n  \t\thelp_topic_id \t\tINT(10) UNSIGNED NOT NULL,\n  \t\tname \t\t\t\tCHAR(64) NOT NULL,\n  \t\thelp_category_id \tSMALLINT(5) UNSIGNED NOT NULL,\n  \t\tdescription \t\tTEXT NOT NULL,\n  \t\texample \t\t\tTEXT NOT NULL,\n  \t\turl \t\t\t\tTEXT NOT NULL,\n  \t\tPRIMARY KEY (help_topic_id) clustered,\n  \t\tUNIQUE KEY name (name)\n\t\t) ENGINE=InnoDB DEFAULT CHARSET=utf8 STATS_PERSISTENT=0 COMMENT='help topics';"] [user=]
[2024/05/15 17:18:59.396 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:21, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:20, RowCount:0, ArgLen:2, start time: 2024-05-15 17:18:59.395 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:18:59.396 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:21, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:20, RowCount:0, ArgLen:2, start time: 2024-05-15 17:18:59.395 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.help_topic (\n  \t\thelp_topic_id \t\tINT(10) UNSIGNED NOT NULL,\n  \t\tname \t\t\t\tCHAR(64) NOT NULL,\n  \t\thelp_category_id \tSMALLINT(5) UNSIGNED NOT NULL,\n  \t\tdescription \t\tTEXT NOT NULL,\n  \t\texample \t\t\tTEXT NOT NULL,\n  \t\turl \t\t\t\tTEXT NOT NULL,\n  \t\tPRIMARY KEY (help_topic_id) clustered,\n  \t\tUNIQUE KEY name (name)\n\t\t) ENGINE=InnoDB DEFAULT CHARSET=utf8 STATS_PERSISTENT=0 COMMENT='help topics';"]
[2024/05/15 17:18:59.399 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=21] [category=ddl] [job="ID:21, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:20, RowCount:0, ArgLen:0, start time: 2024-05-15 17:18:59.395 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:18:59.401 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=9] [neededSchemaVersion=10] ["start time"=213.792s] [gotSchemaVersion=10] [phyTblIDs="[20]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:18:59.402 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:18:59.402 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=21] [version=10]
[2024/05/15 17:18:59.403 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=10] ["take time"=2.06575ms] [job="ID:21, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:20, RowCount:0, ArgLen:2, start time: 2024-05-15 17:18:59.395 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:18:59.409 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=21] [job="ID:21, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:20, RowCount:0, ArgLen:0, start time: 2024-05-15 17:18:59.395 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:18:59.411 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=21]
[2024/05/15 17:18:59.411 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:18:59.411 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=10] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_meta (\n\t\tversion \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\ttable_id \t\tBIGINT(64) NOT NULL,\n\t\tmodify_count\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcount \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tsnapshot        BIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tINDEX idx_ver(version),\n\t\tUNIQUE INDEX tbl(table_id)\n\t);"] [user=]
[2024/05/15 17:18:59.413 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:23, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:22, RowCount:0, ArgLen:2, start time: 2024-05-15 17:18:59.412 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:18:59.413 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:23, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:22, RowCount:0, ArgLen:2, start time: 2024-05-15 17:18:59.412 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_meta (\n\t\tversion \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\ttable_id \t\tBIGINT(64) NOT NULL,\n\t\tmodify_count\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcount \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tsnapshot        BIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tINDEX idx_ver(version),\n\t\tUNIQUE INDEX tbl(table_id)\n\t);"]
[2024/05/15 17:18:59.416 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=23] [category=ddl] [job="ID:23, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:22, RowCount:0, ArgLen:0, start time: 2024-05-15 17:18:59.412 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:18:59.418 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=10] [neededSchemaVersion=11] ["start time"=235s] [gotSchemaVersion=11] [phyTblIDs="[22]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:18:59.419 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:18:59.419 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=23] [version=11]
[2024/05/15 17:18:59.420 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=11] ["take time"=2.264875ms] [job="ID:23, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:22, RowCount:0, ArgLen:2, start time: 2024-05-15 17:18:59.412 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:18:59.425 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=23] [job="ID:23, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:22, RowCount:0, ArgLen:0, start time: 2024-05-15 17:18:59.412 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:18:59.426 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=23]
[2024/05/15 17:18:59.426 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:18:59.427 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=11] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_histograms (\n\t\ttable_id \t\t\tBIGINT(64) NOT NULL,\n\t\tis_index \t\t\tTINYINT(2) NOT NULL,\n\t\thist_id \t\t\tBIGINT(64) NOT NULL,\n\t\tdistinct_count \t\tBIGINT(64) NOT NULL,\n\t\tnull_count \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\ttot_col_size \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tmodify_count \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tversion \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tcm_sketch \t\t\tBLOB(6291456),\n\t\tstats_ver \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tflag \t\t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcorrelation \t\tDOUBLE NOT NULL DEFAULT 0,\n\t\tlast_analyze_pos \tLONGBLOB DEFAULT NULL,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id)\n\t);"] [user=]
[2024/05/15 17:18:59.427 +08:00] [INFO] [ddl_api.go:1139] ["Automatically convert BLOB(6291456) to MEDIUMBLOB"] [category=ddl]
[2024/05/15 17:18:59.428 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:25, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:24, RowCount:0, ArgLen:2, start time: 2024-05-15 17:18:59.427 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:18:59.428 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:25, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:24, RowCount:0, ArgLen:2, start time: 2024-05-15 17:18:59.427 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_histograms (\n\t\ttable_id \t\t\tBIGINT(64) NOT NULL,\n\t\tis_index \t\t\tTINYINT(2) NOT NULL,\n\t\thist_id \t\t\tBIGINT(64) NOT NULL,\n\t\tdistinct_count \t\tBIGINT(64) NOT NULL,\n\t\tnull_count \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\ttot_col_size \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tmodify_count \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tversion \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tcm_sketch \t\t\tBLOB(6291456),\n\t\tstats_ver \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tflag \t\t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcorrelation \t\tDOUBLE NOT NULL DEFAULT 0,\n\t\tlast_analyze_pos \tLONGBLOB DEFAULT NULL,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id)\n\t);"]
[2024/05/15 17:18:59.432 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=25] [category=ddl] [job="ID:25, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:24, RowCount:0, ArgLen:0, start time: 2024-05-15 17:18:59.427 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:18:59.435 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=11] [neededSchemaVersion=12] ["start time"=347.5s] [gotSchemaVersion=12] [phyTblIDs="[24]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:18:59.435 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:18:59.435 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=25] [version=12]
[2024/05/15 17:18:59.436 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=12] ["take time"=2.185708ms] [job="ID:25, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:24, RowCount:0, ArgLen:2, start time: 2024-05-15 17:18:59.427 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:18:59.441 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=25] [job="ID:25, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:24, RowCount:0, ArgLen:0, start time: 2024-05-15 17:18:59.427 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:18:59.443 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=25]
[2024/05/15 17:18:59.443 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:18:59.443 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=12] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_buckets (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tbucket_id \tBIGINT(64) NOT NULL,\n\t\tcount \t\tBIGINT(64) NOT NULL,\n\t\trepeats \tBIGINT(64) NOT NULL,\n\t\tupper_bound LONGBLOB NOT NULL,\n\t\tlower_bound LONGBLOB ,\n\t\tndv         BIGINT NOT NULL DEFAULT 0,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id, bucket_id)\n\t);"] [user=]
[2024/05/15 17:18:59.444 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:27, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:26, RowCount:0, ArgLen:2, start time: 2024-05-15 17:18:59.444 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:18:59.444 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:27, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:26, RowCount:0, ArgLen:2, start time: 2024-05-15 17:18:59.444 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_buckets (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tbucket_id \tBIGINT(64) NOT NULL,\n\t\tcount \t\tBIGINT(64) NOT NULL,\n\t\trepeats \tBIGINT(64) NOT NULL,\n\t\tupper_bound LONGBLOB NOT NULL,\n\t\tlower_bound LONGBLOB ,\n\t\tndv         BIGINT NOT NULL DEFAULT 0,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id, bucket_id)\n\t);"]
[2024/05/15 17:18:59.448 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=27] [category=ddl] [job="ID:27, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:26, RowCount:0, ArgLen:0, start time: 2024-05-15 17:18:59.444 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:18:59.450 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=12] [neededSchemaVersion=13] ["start time"=293.417s] [gotSchemaVersion=13] [phyTblIDs="[26]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:18:59.450 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:18:59.450 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=27] [version=13]
[2024/05/15 17:18:59.451 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=13] ["take time"=2.041208ms] [job="ID:27, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:26, RowCount:0, ArgLen:2, start time: 2024-05-15 17:18:59.444 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:18:59.456 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=27] [job="ID:27, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:26, RowCount:0, ArgLen:0, start time: 2024-05-15 17:18:59.444 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:18:59.458 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=27]
[2024/05/15 17:18:59.458 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:18:59.458 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=13] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_index (job_id, element_id)\n\t);"] [user=]
[2024/05/15 17:18:59.459 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:29, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:28, RowCount:0, ArgLen:2, start time: 2024-05-15 17:18:59.459 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:18:59.460 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:29, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:28, RowCount:0, ArgLen:2, start time: 2024-05-15 17:18:59.459 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_index (job_id, element_id)\n\t);"]
[2024/05/15 17:18:59.463 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=29] [category=ddl] [job="ID:29, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:28, RowCount:0, ArgLen:0, start time: 2024-05-15 17:18:59.459 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:18:59.465 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=13] [neededSchemaVersion=14] ["start time"=215.709s] [gotSchemaVersion=14] [phyTblIDs="[28]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:18:59.465 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:18:59.465 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=29] [version=14]
[2024/05/15 17:18:59.467 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=14] ["take time"=2.422459ms] [job="ID:29, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:28, RowCount:0, ArgLen:2, start time: 2024-05-15 17:18:59.459 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:18:59.471 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=29] [job="ID:29, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:28, RowCount:0, ArgLen:0, start time: 2024-05-15 17:18:59.459 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:18:59.473 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=29]
[2024/05/15 17:18:59.473 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:18:59.473 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=14] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range_done (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_done_index (job_id, element_id)\n\t);"] [user=]
[2024/05/15 17:18:59.474 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:31, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:30, RowCount:0, ArgLen:2, start time: 2024-05-15 17:18:59.474 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:18:59.474 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:31, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:30, RowCount:0, ArgLen:2, start time: 2024-05-15 17:18:59.474 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range_done (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_done_index (job_id, element_id)\n\t);"]
[2024/05/15 17:18:59.478 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=31] [category=ddl] [job="ID:31, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:30, RowCount:0, ArgLen:0, start time: 2024-05-15 17:18:59.474 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:18:59.479 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=14] [neededSchemaVersion=15] ["start time"=210.291s] [gotSchemaVersion=15] [phyTblIDs="[30]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:18:59.480 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:18:59.480 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=31] [version=15]
[2024/05/15 17:18:59.483 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=15] ["take time"=3.788084ms] [job="ID:31, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:30, RowCount:0, ArgLen:2, start time: 2024-05-15 17:18:59.474 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:18:59.487 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=31] [job="ID:31, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:30, RowCount:0, ArgLen:0, start time: 2024-05-15 17:18:59.474 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:18:59.489 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=31]
[2024/05/15 17:18:59.489 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:18:59.490 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=15] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_feedback (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tfeedback \tBLOB NOT NULL,\n\t\tINDEX hist(table_id, is_index, hist_id)\n\t);"] [user=]
[2024/05/15 17:18:59.491 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:33, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:32, RowCount:0, ArgLen:2, start time: 2024-05-15 17:18:59.49 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:18:59.491 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:33, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:32, RowCount:0, ArgLen:2, start time: 2024-05-15 17:18:59.49 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_feedback (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tfeedback \tBLOB NOT NULL,\n\t\tINDEX hist(table_id, is_index, hist_id)\n\t);"]
[2024/05/15 17:18:59.494 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=33] [category=ddl] [job="ID:33, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:32, RowCount:0, ArgLen:0, start time: 2024-05-15 17:18:59.49 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:18:59.496 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=15] [neededSchemaVersion=16] ["start time"=236.292s] [gotSchemaVersion=16] [phyTblIDs="[32]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:18:59.496 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:18:59.496 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=33] [version=16]
[2024/05/15 17:18:59.497 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=16] ["take time"=2.073ms] [job="ID:33, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:32, RowCount:0, ArgLen:2, start time: 2024-05-15 17:18:59.49 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:18:59.506 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=33] [job="ID:33, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:32, RowCount:0, ArgLen:0, start time: 2024-05-15 17:18:59.49 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:18:59.510 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=33]
[2024/05/15 17:18:59.510 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:18:59.511 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=16] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.role_edges (\n\t\tFROM_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tFROM_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tWITH_ADMIN_OPTION \tENUM('N','Y') CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (FROM_HOST,FROM_USER,TO_HOST,TO_USER)\n\t);"] [user=]
[2024/05/15 17:18:59.514 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:35, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:34, RowCount:0, ArgLen:2, start time: 2024-05-15 17:18:59.513 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:18:59.514 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:35, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:34, RowCount:0, ArgLen:2, start time: 2024-05-15 17:18:59.513 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.role_edges (\n\t\tFROM_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tFROM_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tWITH_ADMIN_OPTION \tENUM('N','Y') CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (FROM_HOST,FROM_USER,TO_HOST,TO_USER)\n\t);"]
[2024/05/15 17:18:59.523 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=35] [category=ddl] [job="ID:35, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:34, RowCount:0, ArgLen:0, start time: 2024-05-15 17:18:59.513 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:18:59.526 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=16] [neededSchemaVersion=17] ["start time"=568.25s] [gotSchemaVersion=17] [phyTblIDs="[34]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:18:59.527 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:18:59.527 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=35] [version=17]
[2024/05/15 17:18:59.529 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=17] ["take time"=4.532375ms] [job="ID:35, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:34, RowCount:0, ArgLen:2, start time: 2024-05-15 17:18:59.513 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:18:59.533 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=35] [job="ID:35, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:34, RowCount:0, ArgLen:0, start time: 2024-05-15 17:18:59.513 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:18:59.535 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=35]
[2024/05/15 17:18:59.535 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:18:59.535 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=17] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.default_roles (\n\t\tHOST \t\t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tUSER \t\t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tDEFAULT_ROLE_HOST \tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '%',\n\t\tDEFAULT_ROLE_USER \tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tPRIMARY KEY (HOST,USER,DEFAULT_ROLE_HOST,DEFAULT_ROLE_USER)\n\t)"] [user=]
[2024/05/15 17:18:59.536 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:37, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:36, RowCount:0, ArgLen:2, start time: 2024-05-15 17:18:59.535 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:18:59.536 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:37, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:36, RowCount:0, ArgLen:2, start time: 2024-05-15 17:18:59.535 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.default_roles (\n\t\tHOST \t\t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tUSER \t\t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tDEFAULT_ROLE_HOST \tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '%',\n\t\tDEFAULT_ROLE_USER \tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tPRIMARY KEY (HOST,USER,DEFAULT_ROLE_HOST,DEFAULT_ROLE_USER)\n\t)"]
[2024/05/15 17:18:59.540 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=37] [category=ddl] [job="ID:37, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:36, RowCount:0, ArgLen:0, start time: 2024-05-15 17:18:59.535 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:18:59.541 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=17] [neededSchemaVersion=18] ["start time"=197.542s] [gotSchemaVersion=18] [phyTblIDs="[36]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:18:59.542 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:18:59.542 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=37] [version=18]
[2024/05/15 17:18:59.543 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=18] ["take time"=2.011584ms] [job="ID:37, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:36, RowCount:0, ArgLen:2, start time: 2024-05-15 17:18:59.535 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:18:59.547 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=37] [job="ID:37, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:36, RowCount:0, ArgLen:0, start time: 2024-05-15 17:18:59.535 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:18:59.549 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=37]
[2024/05/15 17:18:59.549 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:18:59.549 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=18] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.bind_info (\n\t\toriginal_sql TEXT NOT NULL,\n\t\tbind_sql TEXT NOT NULL,\n\t\tdefault_db TEXT NOT NULL,\n\t\tstatus TEXT NOT NULL,\n\t\tcreate_time TIMESTAMP(3) NOT NULL,\n\t\tupdate_time TIMESTAMP(3) NOT NULL,\n\t\tcharset TEXT NOT NULL,\n\t\tcollation TEXT NOT NULL,\n\t\tsource VARCHAR(10) NOT NULL DEFAULT 'unknown',\n\t\tsql_digest varchar(64),\n\t\tplan_digest varchar(64),\n\t\tINDEX sql_index(original_sql(700),default_db(68)) COMMENT \"accelerate the speed when add global binding query\",\n\t\tINDEX time_index(update_time) COMMENT \"accelerate the speed when querying with last update time\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"] [user=]
[2024/05/15 17:18:59.551 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:39, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:38, RowCount:0, ArgLen:2, start time: 2024-05-15 17:18:59.55 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:18:59.551 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:39, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:38, RowCount:0, ArgLen:2, start time: 2024-05-15 17:18:59.55 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.bind_info (\n\t\toriginal_sql TEXT NOT NULL,\n\t\tbind_sql TEXT NOT NULL,\n\t\tdefault_db TEXT NOT NULL,\n\t\tstatus TEXT NOT NULL,\n\t\tcreate_time TIMESTAMP(3) NOT NULL,\n\t\tupdate_time TIMESTAMP(3) NOT NULL,\n\t\tcharset TEXT NOT NULL,\n\t\tcollation TEXT NOT NULL,\n\t\tsource VARCHAR(10) NOT NULL DEFAULT 'unknown',\n\t\tsql_digest varchar(64),\n\t\tplan_digest varchar(64),\n\t\tINDEX sql_index(original_sql(700),default_db(68)) COMMENT \"accelerate the speed when add global binding query\",\n\t\tINDEX time_index(update_time) COMMENT \"accelerate the speed when querying with last update time\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"]
[2024/05/15 17:18:59.554 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=39] [category=ddl] [job="ID:39, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:38, RowCount:0, ArgLen:0, start time: 2024-05-15 17:18:59.55 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:18:59.557 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=18] [neededSchemaVersion=19] ["start time"=357.167s] [gotSchemaVersion=19] [phyTblIDs="[38]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:18:59.557 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:18:59.557 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=39] [version=19]
[2024/05/15 17:18:59.559 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=19] ["take time"=2.601833ms] [job="ID:39, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:38, RowCount:0, ArgLen:2, start time: 2024-05-15 17:18:59.55 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:18:59.563 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=39] [job="ID:39, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:38, RowCount:0, ArgLen:0, start time: 2024-05-15 17:18:59.55 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:18:59.565 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=39]
[2024/05/15 17:18:59.565 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:18:59.566 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=0] ["to ID"=1] ["table ID"=38] ["database ID"=1]
[2024/05/15 17:18:59.566 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=19] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_top_n (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tvalue \t\tLONGBLOB,\n\t\tcount \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\tINDEX tbl(table_id, is_index, hist_id)\n\t);"] [user=]
[2024/05/15 17:18:59.568 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:41, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:40, RowCount:0, ArgLen:2, start time: 2024-05-15 17:18:59.567 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:18:59.568 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:41, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:40, RowCount:0, ArgLen:2, start time: 2024-05-15 17:18:59.567 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_top_n (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tvalue \t\tLONGBLOB,\n\t\tcount \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\tINDEX tbl(table_id, is_index, hist_id)\n\t);"]
[2024/05/15 17:18:59.571 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=41] [category=ddl] [job="ID:41, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:40, RowCount:0, ArgLen:0, start time: 2024-05-15 17:18:59.567 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:18:59.573 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=19] [neededSchemaVersion=20] ["start time"=222.916s] [gotSchemaVersion=20] [phyTblIDs="[40]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:18:59.574 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:18:59.574 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=41] [version=20]
[2024/05/15 17:18:59.575 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=20] ["take time"=2.013166ms] [job="ID:41, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:40, RowCount:0, ArgLen:2, start time: 2024-05-15 17:18:59.567 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:18:59.579 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=41] [job="ID:41, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:40, RowCount:0, ArgLen:0, start time: 2024-05-15 17:18:59.567 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:18:59.581 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=41]
[2024/05/15 17:18:59.581 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:18:59.581 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=20] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.expr_pushdown_blacklist (\n\t\tname \t\tCHAR(100) NOT NULL,\n\t\tstore_type \tCHAR(100) NOT NULL DEFAULT 'tikv,tiflash,tidb',\n\t\treason \t\tVARCHAR(200)\n\t);"] [user=]
[2024/05/15 17:18:59.582 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:43, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:42, RowCount:0, ArgLen:2, start time: 2024-05-15 17:18:59.582 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:18:59.582 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:43, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:42, RowCount:0, ArgLen:2, start time: 2024-05-15 17:18:59.582 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.expr_pushdown_blacklist (\n\t\tname \t\tCHAR(100) NOT NULL,\n\t\tstore_type \tCHAR(100) NOT NULL DEFAULT 'tikv,tiflash,tidb',\n\t\treason \t\tVARCHAR(200)\n\t);"]
[2024/05/15 17:18:59.586 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=43] [category=ddl] [job="ID:43, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:42, RowCount:0, ArgLen:0, start time: 2024-05-15 17:18:59.582 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:18:59.587 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=20] [neededSchemaVersion=21] ["start time"=157.166s] [gotSchemaVersion=21] [phyTblIDs="[42]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:18:59.588 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:18:59.588 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=43] [version=21]
[2024/05/15 17:18:59.589 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=21] ["take time"=2.146417ms] [job="ID:43, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:42, RowCount:0, ArgLen:2, start time: 2024-05-15 17:18:59.582 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:18:59.594 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=43] [job="ID:43, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:42, RowCount:0, ArgLen:0, start time: 2024-05-15 17:18:59.582 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:18:59.595 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=43]
[2024/05/15 17:18:59.595 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:18:59.595 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=21] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.opt_rule_blacklist (\n\t\tname \tCHAR(100) NOT NULL\n\t);"] [user=]
[2024/05/15 17:18:59.596 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:45, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:44, RowCount:0, ArgLen:2, start time: 2024-05-15 17:18:59.596 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:18:59.596 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:45, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:44, RowCount:0, ArgLen:2, start time: 2024-05-15 17:18:59.596 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.opt_rule_blacklist (\n\t\tname \tCHAR(100) NOT NULL\n\t);"]
[2024/05/15 17:18:59.600 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=45] [category=ddl] [job="ID:45, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:44, RowCount:0, ArgLen:0, start time: 2024-05-15 17:18:59.596 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:18:59.602 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=21] [neededSchemaVersion=22] ["start time"=110.75s] [gotSchemaVersion=22] [phyTblIDs="[44]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:18:59.602 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:18:59.602 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=45] [version=22]
[2024/05/15 17:18:59.604 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=22] ["take time"=2.028083ms] [job="ID:45, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:44, RowCount:0, ArgLen:2, start time: 2024-05-15 17:18:59.596 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:18:59.608 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=45] [job="ID:45, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:44, RowCount:0, ArgLen:0, start time: 2024-05-15 17:18:59.596 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:18:59.610 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=45]
[2024/05/15 17:18:59.610 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:18:59.610 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=22] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_extended (\n\t\tname varchar(32) NOT NULL,\n\t\ttype tinyint(4) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tcolumn_ids varchar(32) NOT NULL,\n\t\tstats blob DEFAULT NULL,\n\t\tversion bigint(64) unsigned NOT NULL,\n\t\tstatus tinyint(4) NOT NULL,\n\t\tPRIMARY KEY(name, table_id),\n\t\tKEY idx_1 (table_id, status, version),\n\t\tKEY idx_2 (status, version)\n\t);"] [user=]
[2024/05/15 17:18:59.612 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:47, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:46, RowCount:0, ArgLen:2, start time: 2024-05-15 17:18:59.611 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:18:59.612 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:47, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:46, RowCount:0, ArgLen:2, start time: 2024-05-15 17:18:59.611 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_extended (\n\t\tname varchar(32) NOT NULL,\n\t\ttype tinyint(4) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tcolumn_ids varchar(32) NOT NULL,\n\t\tstats blob DEFAULT NULL,\n\t\tversion bigint(64) unsigned NOT NULL,\n\t\tstatus tinyint(4) NOT NULL,\n\t\tPRIMARY KEY(name, table_id),\n\t\tKEY idx_1 (table_id, status, version),\n\t\tKEY idx_2 (status, version)\n\t);"]
[2024/05/15 17:18:59.615 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=47] [category=ddl] [job="ID:47, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:46, RowCount:0, ArgLen:0, start time: 2024-05-15 17:18:59.611 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:18:59.618 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=22] [neededSchemaVersion=23] ["start time"=339.458s] [gotSchemaVersion=23] [phyTblIDs="[46]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:18:59.619 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:18:59.619 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=47] [version=23]
[2024/05/15 17:18:59.620 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=23] ["take time"=2.266875ms] [job="ID:47, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:46, RowCount:0, ArgLen:2, start time: 2024-05-15 17:18:59.611 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:18:59.625 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=47] [job="ID:47, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:46, RowCount:0, ArgLen:0, start time: 2024-05-15 17:18:59.611 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:18:59.628 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=47]
[2024/05/15 17:18:59.628 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:18:59.628 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=23] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_fm_sketch (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tvalue \t\tLONGBLOB,\n\t\tINDEX tbl(table_id, is_index, hist_id)\n\t);"] [user=]
[2024/05/15 17:18:59.630 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:49, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:48, RowCount:0, ArgLen:2, start time: 2024-05-15 17:18:59.629 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:18:59.630 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:49, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:48, RowCount:0, ArgLen:2, start time: 2024-05-15 17:18:59.629 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_fm_sketch (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tvalue \t\tLONGBLOB,\n\t\tINDEX tbl(table_id, is_index, hist_id)\n\t);"]
[2024/05/15 17:18:59.634 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=49] [category=ddl] [job="ID:49, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:48, RowCount:0, ArgLen:0, start time: 2024-05-15 17:18:59.629 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:18:59.636 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=23] [neededSchemaVersion=24] ["start time"=225.25s] [gotSchemaVersion=24] [phyTblIDs="[48]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:18:59.637 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:18:59.637 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=49] [version=24]
[2024/05/15 17:18:59.638 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=24] ["take time"=2.417334ms] [job="ID:49, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:48, RowCount:0, ArgLen:2, start time: 2024-05-15 17:18:59.629 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:18:59.643 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=49] [job="ID:49, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:48, RowCount:0, ArgLen:0, start time: 2024-05-15 17:18:59.629 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:18:59.645 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=49]
[2024/05/15 17:18:59.645 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:18:59.645 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=24] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.global_grants (\n\t\tUSER char(32) NOT NULL DEFAULT '',\n\t\tHOST char(255) NOT NULL DEFAULT '',\n\t\tPRIV char(32) NOT NULL DEFAULT '',\n\t\tWITH_GRANT_OPTION enum('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (USER,HOST,PRIV)\n\t);"] [user=]
[2024/05/15 17:18:59.647 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:51, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:50, RowCount:0, ArgLen:2, start time: 2024-05-15 17:18:59.646 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:18:59.647 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:51, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:50, RowCount:0, ArgLen:2, start time: 2024-05-15 17:18:59.646 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.global_grants (\n\t\tUSER char(32) NOT NULL DEFAULT '',\n\t\tHOST char(255) NOT NULL DEFAULT '',\n\t\tPRIV char(32) NOT NULL DEFAULT '',\n\t\tWITH_GRANT_OPTION enum('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (USER,HOST,PRIV)\n\t);"]
[2024/05/15 17:18:59.652 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=51] [category=ddl] [job="ID:51, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:50, RowCount:0, ArgLen:0, start time: 2024-05-15 17:18:59.646 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:18:59.654 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=24] [neededSchemaVersion=25] ["start time"=203.875s] [gotSchemaVersion=25] [phyTblIDs="[50]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:18:59.655 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:18:59.655 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=51] [version=25]
[2024/05/15 17:18:59.656 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=25] ["take time"=2.075792ms] [job="ID:51, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:50, RowCount:0, ArgLen:2, start time: 2024-05-15 17:18:59.646 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:18:59.661 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=51] [job="ID:51, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:50, RowCount:0, ArgLen:0, start time: 2024-05-15 17:18:59.646 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:18:59.663 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=51]
[2024/05/15 17:18:59.663 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:18:59.663 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=25] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.capture_plan_baselines_blacklist (\n\t\tid bigint(64) auto_increment,\n\t\tfilter_type varchar(32) NOT NULL COMMENT \"type of the filter, only db, table and frequency supported now\",\n\t\tfilter_value varchar(32) NOT NULL,\n\t\tkey idx(filter_type),\n\t\tprimary key(id)\n\t);"] [user=]
[2024/05/15 17:18:59.665 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:53, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:52, RowCount:0, ArgLen:2, start time: 2024-05-15 17:18:59.664 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:18:59.665 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:53, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:52, RowCount:0, ArgLen:2, start time: 2024-05-15 17:18:59.664 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.capture_plan_baselines_blacklist (\n\t\tid bigint(64) auto_increment,\n\t\tfilter_type varchar(32) NOT NULL COMMENT \"type of the filter, only db, table and frequency supported now\",\n\t\tfilter_value varchar(32) NOT NULL,\n\t\tkey idx(filter_type),\n\t\tprimary key(id)\n\t);"]
[2024/05/15 17:18:59.669 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=53] [category=ddl] [job="ID:53, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:52, RowCount:0, ArgLen:0, start time: 2024-05-15 17:18:59.664 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:18:59.670 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=25] [neededSchemaVersion=26] ["start time"=170.334s] [gotSchemaVersion=26] [phyTblIDs="[52]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:18:59.671 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:18:59.671 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=53] [version=26]
[2024/05/15 17:18:59.672 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=26] ["take time"=2.384959ms] [job="ID:53, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:52, RowCount:0, ArgLen:2, start time: 2024-05-15 17:18:59.664 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:18:59.679 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=53] [job="ID:53, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:52, RowCount:0, ArgLen:0, start time: 2024-05-15 17:18:59.664 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:18:59.681 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=53]
[2024/05/15 17:18:59.681 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:18:59.681 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=26] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.column_stats_usage (\n\t\ttable_id BIGINT(64) NOT NULL,\n\t\tcolumn_id BIGINT(64) NOT NULL,\n\t\tlast_used_at TIMESTAMP,\n\t\tlast_analyzed_at TIMESTAMP,\n\t\tPRIMARY KEY (table_id, column_id) CLUSTERED\n\t);"] [user=]
[2024/05/15 17:18:59.682 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:55, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:54, RowCount:0, ArgLen:2, start time: 2024-05-15 17:18:59.682 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:18:59.682 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:55, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:54, RowCount:0, ArgLen:2, start time: 2024-05-15 17:18:59.682 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.column_stats_usage (\n\t\ttable_id BIGINT(64) NOT NULL,\n\t\tcolumn_id BIGINT(64) NOT NULL,\n\t\tlast_used_at TIMESTAMP,\n\t\tlast_analyzed_at TIMESTAMP,\n\t\tPRIMARY KEY (table_id, column_id) CLUSTERED\n\t);"]
[2024/05/15 17:18:59.686 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=55] [category=ddl] [job="ID:55, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:54, RowCount:0, ArgLen:0, start time: 2024-05-15 17:18:59.682 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:18:59.689 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=26] [neededSchemaVersion=27] ["start time"=194.5s] [gotSchemaVersion=27] [phyTblIDs="[54]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:18:59.690 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:18:59.690 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=55] [version=27]
[2024/05/15 17:18:59.691 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=27] ["take time"=2.01525ms] [job="ID:55, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:54, RowCount:0, ArgLen:2, start time: 2024-05-15 17:18:59.682 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:18:59.695 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=55] [job="ID:55, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:54, RowCount:0, ArgLen:0, start time: 2024-05-15 17:18:59.682 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:18:59.697 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=55]
[2024/05/15 17:18:59.698 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:18:59.698 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=27] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.table_cache_meta (\n\t\ttid bigint(11) NOT NULL DEFAULT 0,\n\t\tlock_type enum('NONE','READ', 'INTEND', 'WRITE') NOT NULL DEFAULT 'NONE',\n\t\tlease bigint(20) NOT NULL DEFAULT 0,\n\t\toldReadLease bigint(20) NOT NULL DEFAULT 0,\n\t\tPRIMARY KEY (tid)\n\t);"] [user=]
[2024/05/15 17:18:59.699 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:57, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:56, RowCount:0, ArgLen:2, start time: 2024-05-15 17:18:59.699 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:18:59.699 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:57, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:56, RowCount:0, ArgLen:2, start time: 2024-05-15 17:18:59.699 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.table_cache_meta (\n\t\ttid bigint(11) NOT NULL DEFAULT 0,\n\t\tlock_type enum('NONE','READ', 'INTEND', 'WRITE') NOT NULL DEFAULT 'NONE',\n\t\tlease bigint(20) NOT NULL DEFAULT 0,\n\t\toldReadLease bigint(20) NOT NULL DEFAULT 0,\n\t\tPRIMARY KEY (tid)\n\t);"]
[2024/05/15 17:18:59.703 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=57] [category=ddl] [job="ID:57, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:56, RowCount:0, ArgLen:0, start time: 2024-05-15 17:18:59.699 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:18:59.705 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=27] [neededSchemaVersion=28] ["start time"=236.042s] [gotSchemaVersion=28] [phyTblIDs="[56]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:18:59.706 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:18:59.706 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=57] [version=28]
[2024/05/15 17:18:59.707 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=28] ["take time"=2.446208ms] [job="ID:57, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:56, RowCount:0, ArgLen:2, start time: 2024-05-15 17:18:59.699 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:18:59.713 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=57] [job="ID:57, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:56, RowCount:0, ArgLen:0, start time: 2024-05-15 17:18:59.699 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:18:59.715 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=57]
[2024/05/15 17:18:59.715 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:18:59.715 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=28] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.analyze_options (\n\t\ttable_id BIGINT(64) NOT NULL,\n\t\tsample_num BIGINT(64) NOT NULL DEFAULT 0,\n\t\tsample_rate DOUBLE NOT NULL DEFAULT -1,\n\t\tbuckets BIGINT(64) NOT NULL DEFAULT 0,\n\t\ttopn BIGINT(64) NOT NULL DEFAULT -1,\n\t\tcolumn_choice enum('DEFAULT','ALL','PREDICATE','LIST') NOT NULL DEFAULT 'DEFAULT',\n\t\tcolumn_ids TEXT(19372),\n\t\tPRIMARY KEY (table_id) CLUSTERED\n\t);"] [user=]
[2024/05/15 17:18:59.715 +08:00] [INFO] [ddl_api.go:1139] ["Automatically convert BLOB(19372) to MEDIUMBLOB"] [category=ddl]
[2024/05/15 17:18:59.716 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:59, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:58, RowCount:0, ArgLen:2, start time: 2024-05-15 17:18:59.715 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:18:59.716 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:59, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:58, RowCount:0, ArgLen:2, start time: 2024-05-15 17:18:59.715 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.analyze_options (\n\t\ttable_id BIGINT(64) NOT NULL,\n\t\tsample_num BIGINT(64) NOT NULL DEFAULT 0,\n\t\tsample_rate DOUBLE NOT NULL DEFAULT -1,\n\t\tbuckets BIGINT(64) NOT NULL DEFAULT 0,\n\t\ttopn BIGINT(64) NOT NULL DEFAULT -1,\n\t\tcolumn_choice enum('DEFAULT','ALL','PREDICATE','LIST') NOT NULL DEFAULT 'DEFAULT',\n\t\tcolumn_ids TEXT(19372),\n\t\tPRIMARY KEY (table_id) CLUSTERED\n\t);"]
[2024/05/15 17:18:59.721 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=59] [category=ddl] [job="ID:59, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:58, RowCount:0, ArgLen:0, start time: 2024-05-15 17:18:59.715 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:18:59.722 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=28] [neededSchemaVersion=29] ["start time"=265.75s] [gotSchemaVersion=29] [phyTblIDs="[58]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:18:59.723 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:18:59.724 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=59] [version=29]
[2024/05/15 17:18:59.725 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=29] ["take time"=2.978375ms] [job="ID:59, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:58, RowCount:0, ArgLen:2, start time: 2024-05-15 17:18:59.715 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:18:59.733 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=59] [job="ID:59, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:58, RowCount:0, ArgLen:0, start time: 2024-05-15 17:18:59.715 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:18:59.735 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=59]
[2024/05/15 17:18:59.735 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:18:59.736 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=29] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_history (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tstats_data longblob NOT NULL,\n\t\tseq_no bigint(64) NOT NULL comment 'sequence number of the gzipped data slice',\n\t\tversion bigint(64) NOT NULL comment 'stats version which corresponding to stats:version in EXPLAIN',\n\t\tcreate_time datetime(6) NOT NULL,\n\t\tUNIQUE KEY table_version_seq (table_id, version, seq_no),\n\t\tKEY table_create_time (table_id, create_time, seq_no),\n    \tKEY idx_create_time (create_time)\n\t);"] [user=]
[2024/05/15 17:18:59.738 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:61, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:60, RowCount:0, ArgLen:2, start time: 2024-05-15 17:18:59.737 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:18:59.738 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:61, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:60, RowCount:0, ArgLen:2, start time: 2024-05-15 17:18:59.737 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_history (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tstats_data longblob NOT NULL,\n\t\tseq_no bigint(64) NOT NULL comment 'sequence number of the gzipped data slice',\n\t\tversion bigint(64) NOT NULL comment 'stats version which corresponding to stats:version in EXPLAIN',\n\t\tcreate_time datetime(6) NOT NULL,\n\t\tUNIQUE KEY table_version_seq (table_id, version, seq_no),\n\t\tKEY table_create_time (table_id, create_time, seq_no),\n    \tKEY idx_create_time (create_time)\n\t);"]
[2024/05/15 17:18:59.746 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=61] [category=ddl] [job="ID:61, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:60, RowCount:0, ArgLen:0, start time: 2024-05-15 17:18:59.737 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:18:59.750 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=29] [neededSchemaVersion=30] ["start time"=462.208s] [gotSchemaVersion=30] [phyTblIDs="[60]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:18:59.751 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:18:59.751 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=61] [version=30]
[2024/05/15 17:18:59.754 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=30] ["take time"=4.604166ms] [job="ID:61, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:60, RowCount:0, ArgLen:2, start time: 2024-05-15 17:18:59.737 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:18:59.761 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=61] [job="ID:61, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:60, RowCount:0, ArgLen:0, start time: 2024-05-15 17:18:59.737 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:18:59.765 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=61]
[2024/05/15 17:18:59.765 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:18:59.765 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=30] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_meta_history (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tmodify_count bigint(64) NOT NULL,\n\t\tcount bigint(64) NOT NULL,\n\t\tversion bigint(64) NOT NULL comment 'stats version which corresponding to stats:version in EXPLAIN',\n    \tsource varchar(40) NOT NULL,\n\t\tcreate_time datetime(6) NOT NULL,\n\t\tUNIQUE KEY table_version (table_id, version),\n\t\tKEY table_create_time (table_id, create_time),\n    \tKEY idx_create_time (create_time)\n\t);"] [user=]
[2024/05/15 17:18:59.767 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:63, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:62, RowCount:0, ArgLen:2, start time: 2024-05-15 17:18:59.766 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:18:59.767 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:63, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:62, RowCount:0, ArgLen:2, start time: 2024-05-15 17:18:59.766 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_meta_history (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tmodify_count bigint(64) NOT NULL,\n\t\tcount bigint(64) NOT NULL,\n\t\tversion bigint(64) NOT NULL comment 'stats version which corresponding to stats:version in EXPLAIN',\n    \tsource varchar(40) NOT NULL,\n\t\tcreate_time datetime(6) NOT NULL,\n\t\tUNIQUE KEY table_version (table_id, version),\n\t\tKEY table_create_time (table_id, create_time),\n    \tKEY idx_create_time (create_time)\n\t);"]
[2024/05/15 17:18:59.774 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=63] [category=ddl] [job="ID:63, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:62, RowCount:0, ArgLen:0, start time: 2024-05-15 17:18:59.766 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:18:59.776 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=30] [neededSchemaVersion=31] ["start time"=272.875s] [gotSchemaVersion=31] [phyTblIDs="[62]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:18:59.777 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:18:59.777 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=63] [version=31]
[2024/05/15 17:18:59.778 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=31] ["take time"=2.180416ms] [job="ID:63, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:62, RowCount:0, ArgLen:2, start time: 2024-05-15 17:18:59.766 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:18:59.782 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=63] [job="ID:63, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:62, RowCount:0, ArgLen:0, start time: 2024-05-15 17:18:59.766 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:18:59.784 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=63]
[2024/05/15 17:18:59.784 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:18:59.784 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=31] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.analyze_jobs (\n\t\tid BIGINT(64) UNSIGNED NOT NULL AUTO_INCREMENT,\n\t\tupdate_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\ttable_schema CHAR(64) NOT NULL DEFAULT '',\n\t\ttable_name CHAR(64) NOT NULL DEFAULT '',\n\t\tpartition_name CHAR(64) NOT NULL DEFAULT '',\n\t\tjob_info TEXT NOT NULL,\n\t\tprocessed_rows BIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tstart_time TIMESTAMP,\n\t\tend_time TIMESTAMP,\n\t\tstate ENUM('pending', 'running', 'finished', 'failed') NOT NULL,\n\t\tfail_reason TEXT,\n\t\tinstance VARCHAR(512) NOT NULL comment 'address of the TiDB instance executing the analyze job',\n\t\tprocess_id BIGINT(64) UNSIGNED comment 'ID of the process executing the analyze job',\n\t\tPRIMARY KEY (id),\n\t\tKEY (update_time)\n\t);"] [user=]
[2024/05/15 17:18:59.786 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:65, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:64, RowCount:0, ArgLen:2, start time: 2024-05-15 17:18:59.785 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:18:59.786 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:65, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:64, RowCount:0, ArgLen:2, start time: 2024-05-15 17:18:59.785 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.analyze_jobs (\n\t\tid BIGINT(64) UNSIGNED NOT NULL AUTO_INCREMENT,\n\t\tupdate_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\ttable_schema CHAR(64) NOT NULL DEFAULT '',\n\t\ttable_name CHAR(64) NOT NULL DEFAULT '',\n\t\tpartition_name CHAR(64) NOT NULL DEFAULT '',\n\t\tjob_info TEXT NOT NULL,\n\t\tprocessed_rows BIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tstart_time TIMESTAMP,\n\t\tend_time TIMESTAMP,\n\t\tstate ENUM('pending', 'running', 'finished', 'failed') NOT NULL,\n\t\tfail_reason TEXT,\n\t\tinstance VARCHAR(512) NOT NULL comment 'address of the TiDB instance executing the analyze job',\n\t\tprocess_id BIGINT(64) UNSIGNED comment 'ID of the process executing the analyze job',\n\t\tPRIMARY KEY (id),\n\t\tKEY (update_time)\n\t);"]
[2024/05/15 17:18:59.790 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=65] [category=ddl] [job="ID:65, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:64, RowCount:0, ArgLen:0, start time: 2024-05-15 17:18:59.785 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:18:59.792 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=31] [neededSchemaVersion=32] ["start time"=338.333s] [gotSchemaVersion=32] [phyTblIDs="[64]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:18:59.793 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:18:59.793 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=65] [version=32]
[2024/05/15 17:18:59.794 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=32] ["take time"=2.242791ms] [job="ID:65, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:64, RowCount:0, ArgLen:2, start time: 2024-05-15 17:18:59.785 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:18:59.798 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=65] [job="ID:65, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:64, RowCount:0, ArgLen:0, start time: 2024-05-15 17:18:59.785 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:18:59.801 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=65]
[2024/05/15 17:18:59.801 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:18:59.801 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=32] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.advisory_locks (\n\t\tlock_name VARCHAR(64) NOT NULL PRIMARY KEY\n\t);"] [user=]
[2024/05/15 17:18:59.802 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:67, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:66, RowCount:0, ArgLen:2, start time: 2024-05-15 17:18:59.802 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:18:59.802 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:67, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:66, RowCount:0, ArgLen:2, start time: 2024-05-15 17:18:59.802 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.advisory_locks (\n\t\tlock_name VARCHAR(64) NOT NULL PRIMARY KEY\n\t);"]
[2024/05/15 17:18:59.806 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=67] [category=ddl] [job="ID:67, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:66, RowCount:0, ArgLen:0, start time: 2024-05-15 17:18:59.802 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:18:59.807 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=32] [neededSchemaVersion=33] ["start time"=131.917s] [gotSchemaVersion=33] [phyTblIDs="[66]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:18:59.808 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:18:59.808 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=67] [version=33]
[2024/05/15 17:18:59.809 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=33] ["take time"=2.005792ms] [job="ID:67, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:66, RowCount:0, ArgLen:2, start time: 2024-05-15 17:18:59.802 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:18:59.813 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=67] [job="ID:67, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:66, RowCount:0, ArgLen:0, start time: 2024-05-15 17:18:59.802 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:18:59.815 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=67]
[2024/05/15 17:18:59.815 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:18:59.820 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:69, Type:create view, State:queueing, SchemaState:none, SchemaID:1, TableID:68, RowCount:0, ArgLen:3, start time: 2024-05-15 17:18:59.819 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:18:59.820 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:69, Type:create view, State:queueing, SchemaState:none, SchemaID:1, TableID:68, RowCount:0, ArgLen:3, start time: 2024-05-15 17:18:59.819 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE OR REPLACE VIEW mysql.tidb_mdl_view as (\n\t\tSELECT tidb_mdl_info.job_id,\n\t\t\tJSON_UNQUOTE(JSON_EXTRACT(cast(cast(job_meta as char) as json), \"$.schema_name\")) as db_name,\n\t\t\tJSON_UNQUOTE(JSON_EXTRACT(cast(cast(job_meta as char) as json), \"$.table_name\")) as table_name,\n\t\t\tJSON_UNQUOTE(JSON_EXTRACT(cast(cast(job_meta as char) as json), \"$.query\")) as query,\n\t\t\tsession_id,\n\t\t\tcluster_tidb_trx.start_time,\n\t\t\ttidb_decode_sql_digests(all_sql_digests, 4096) AS SQL_DIGESTS\n\t\tFROM mysql.tidb_ddl_job,\n\t\t\tmysql.tidb_mdl_info,\n\t\t\tinformation_schema.cluster_tidb_trx\n\t\tWHERE tidb_ddl_job.job_id=tidb_mdl_info.job_id\n\t\t\tAND CONCAT(',', tidb_mdl_info.table_ids, ',') REGEXP CONCAT(',(', REPLACE(cluster_tidb_trx.related_table_ids, ',', '|'), '),') != 0\n\t);"]
[2024/05/15 17:18:59.824 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=69] [category=ddl] [job="ID:69, Type:create view, State:queueing, SchemaState:none, SchemaID:1, TableID:68, RowCount:0, ArgLen:0, start time: 2024-05-15 17:18:59.819 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:18:59.826 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=33] [neededSchemaVersion=34] ["start time"=217.25s] [gotSchemaVersion=34] [phyTblIDs="[68]"] [actionTypes="[21]"] [diffTypes="[\"create view\"]"]
[2024/05/15 17:18:59.827 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:18:59.827 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=69] [version=34]
[2024/05/15 17:18:59.828 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=34] ["take time"=2.075917ms] [job="ID:69, Type:create view, State:done, SchemaState:public, SchemaID:1, TableID:68, RowCount:0, ArgLen:3, start time: 2024-05-15 17:18:59.819 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:18:59.832 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=69] [job="ID:69, Type:create view, State:synced, SchemaState:public, SchemaID:1, TableID:68, RowCount:0, ArgLen:0, start time: 2024-05-15 17:18:59.819 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:18:59.834 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=69]
[2024/05/15 17:18:59.834 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:18:59.834 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=34] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.plan_replayer_status (\n\t\tsql_digest VARCHAR(128),\n\t\tplan_digest VARCHAR(128),\n\t\torigin_sql TEXT,\n\t\ttoken VARCHAR(128),\n\t\tupdate_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\tfail_reason TEXT,\n\t\tinstance VARCHAR(512) NOT NULL comment 'address of the TiDB instance executing the plan replayer job');"] [user=]
[2024/05/15 17:18:59.835 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:71, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:70, RowCount:0, ArgLen:2, start time: 2024-05-15 17:18:59.835 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:18:59.835 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:71, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:70, RowCount:0, ArgLen:2, start time: 2024-05-15 17:18:59.835 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.plan_replayer_status (\n\t\tsql_digest VARCHAR(128),\n\t\tplan_digest VARCHAR(128),\n\t\torigin_sql TEXT,\n\t\ttoken VARCHAR(128),\n\t\tupdate_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\tfail_reason TEXT,\n\t\tinstance VARCHAR(512) NOT NULL comment 'address of the TiDB instance executing the plan replayer job');"]
[2024/05/15 17:18:59.839 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=71] [category=ddl] [job="ID:71, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:70, RowCount:0, ArgLen:0, start time: 2024-05-15 17:18:59.835 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:18:59.842 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=34] [neededSchemaVersion=35] ["start time"=228.833s] [gotSchemaVersion=35] [phyTblIDs="[70]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:18:59.842 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:18:59.842 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=71] [version=35]
[2024/05/15 17:18:59.843 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=35] ["take time"=2.088417ms] [job="ID:71, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:70, RowCount:0, ArgLen:2, start time: 2024-05-15 17:18:59.835 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:18:59.848 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=71] [job="ID:71, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:70, RowCount:0, ArgLen:0, start time: 2024-05-15 17:18:59.835 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:18:59.850 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=71]
[2024/05/15 17:18:59.850 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:18:59.850 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=35] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.plan_replayer_task (\n\t\tsql_digest VARCHAR(128) NOT NULL,\n\t\tplan_digest VARCHAR(128) NOT NULL,\n\t\tupdate_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\tPRIMARY KEY (sql_digest,plan_digest));"] [user=]
[2024/05/15 17:18:59.851 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:73, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:72, RowCount:0, ArgLen:2, start time: 2024-05-15 17:18:59.851 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:18:59.851 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:73, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:72, RowCount:0, ArgLen:2, start time: 2024-05-15 17:18:59.851 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.plan_replayer_task (\n\t\tsql_digest VARCHAR(128) NOT NULL,\n\t\tplan_digest VARCHAR(128) NOT NULL,\n\t\tupdate_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\tPRIMARY KEY (sql_digest,plan_digest));"]
[2024/05/15 17:18:59.855 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=73] [category=ddl] [job="ID:73, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:72, RowCount:0, ArgLen:0, start time: 2024-05-15 17:18:59.851 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:18:59.856 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=35] [neededSchemaVersion=36] ["start time"=186.417s] [gotSchemaVersion=36] [phyTblIDs="[72]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:18:59.857 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:18:59.857 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=73] [version=36]
[2024/05/15 17:18:59.859 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=36] ["take time"=2.574333ms] [job="ID:73, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:72, RowCount:0, ArgLen:2, start time: 2024-05-15 17:18:59.851 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:18:59.862 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=73] [job="ID:73, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:72, RowCount:0, ArgLen:0, start time: 2024-05-15 17:18:59.851 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:18:59.864 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=73]
[2024/05/15 17:18:59.864 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:18:59.864 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=36] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_table_locked(\n\t\ttable_id bigint(64) NOT NULL,\n\t\tmodify_count bigint(64) NOT NULL DEFAULT 0,\n\t\tcount bigint(64) NOT NULL DEFAULT 0,\n\t\tversion bigint(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tPRIMARY KEY (table_id));"] [user=]
[2024/05/15 17:18:59.865 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:75, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:74, RowCount:0, ArgLen:2, start time: 2024-05-15 17:18:59.865 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:18:59.865 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:75, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:74, RowCount:0, ArgLen:2, start time: 2024-05-15 17:18:59.865 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_table_locked(\n\t\ttable_id bigint(64) NOT NULL,\n\t\tmodify_count bigint(64) NOT NULL DEFAULT 0,\n\t\tcount bigint(64) NOT NULL DEFAULT 0,\n\t\tversion bigint(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tPRIMARY KEY (table_id));"]
[2024/05/15 17:18:59.868 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=75] [category=ddl] [job="ID:75, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:74, RowCount:0, ArgLen:0, start time: 2024-05-15 17:18:59.865 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:18:59.870 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=36] [neededSchemaVersion=37] ["start time"=184.792s] [gotSchemaVersion=37] [phyTblIDs="[74]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:18:59.871 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:18:59.871 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=75] [version=37]
[2024/05/15 17:18:59.872 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=37] ["take time"=2.150375ms] [job="ID:75, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:74, RowCount:0, ArgLen:2, start time: 2024-05-15 17:18:59.865 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:18:59.877 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=75] [job="ID:75, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:74, RowCount:0, ArgLen:0, start time: 2024-05-15 17:18:59.865 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:18:59.878 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=75]
[2024/05/15 17:18:59.878 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:18:59.879 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=37] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_ttl_table_status (\n\t\ttable_id bigint(64) PRIMARY KEY,\n        parent_table_id bigint(64),\n        table_statistics text DEFAULT NULL,\n\t\tlast_job_id varchar(64) DEFAULT NULL,\n\t\tlast_job_start_time timestamp NULL DEFAULT NULL,\n\t\tlast_job_finish_time timestamp NULL DEFAULT NULL,\n\t\tlast_job_ttl_expire timestamp NULL DEFAULT NULL,\n        last_job_summary text DEFAULT NULL,\n\t\tcurrent_job_id varchar(64) DEFAULT NULL,\n\t\tcurrent_job_owner_id varchar(64) DEFAULT NULL,\n\t\tcurrent_job_owner_addr varchar(256) DEFAULT NULL,\n\t\tcurrent_job_owner_hb_time timestamp,\n\t\tcurrent_job_start_time timestamp NULL DEFAULT NULL,\n\t\tcurrent_job_ttl_expire timestamp NULL DEFAULT NULL,\n\t\tcurrent_job_state text DEFAULT NULL,\n\t\tcurrent_job_status varchar(64) DEFAULT NULL,\n  \t\tcurrent_job_status_update_time timestamp NULL DEFAULT NULL);"] [user=]
[2024/05/15 17:18:59.880 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:77, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:76, RowCount:0, ArgLen:2, start time: 2024-05-15 17:18:59.879 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:18:59.880 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:77, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:76, RowCount:0, ArgLen:2, start time: 2024-05-15 17:18:59.879 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_ttl_table_status (\n\t\ttable_id bigint(64) PRIMARY KEY,\n        parent_table_id bigint(64),\n        table_statistics text DEFAULT NULL,\n\t\tlast_job_id varchar(64) DEFAULT NULL,\n\t\tlast_job_start_time timestamp NULL DEFAULT NULL,\n\t\tlast_job_finish_time timestamp NULL DEFAULT NULL,\n\t\tlast_job_ttl_expire timestamp NULL DEFAULT NULL,\n        last_job_summary text DEFAULT NULL,\n\t\tcurrent_job_id varchar(64) DEFAULT NULL,\n\t\tcurrent_job_owner_id varchar(64) DEFAULT NULL,\n\t\tcurrent_job_owner_addr varchar(256) DEFAULT NULL,\n\t\tcurrent_job_owner_hb_time timestamp,\n\t\tcurrent_job_start_time timestamp NULL DEFAULT NULL,\n\t\tcurrent_job_ttl_expire timestamp NULL DEFAULT NULL,\n\t\tcurrent_job_state text DEFAULT NULL,\n\t\tcurrent_job_status varchar(64) DEFAULT NULL,\n  \t\tcurrent_job_status_update_time timestamp NULL DEFAULT NULL);"]
[2024/05/15 17:18:59.884 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=77] [category=ddl] [job="ID:77, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:76, RowCount:0, ArgLen:0, start time: 2024-05-15 17:18:59.879 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:18:59.886 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=37] [neededSchemaVersion=38] ["start time"=423.75s] [gotSchemaVersion=38] [phyTblIDs="[76]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:18:59.887 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:18:59.887 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=77] [version=38]
[2024/05/15 17:18:59.888 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=38] ["take time"=2.090333ms] [job="ID:77, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:76, RowCount:0, ArgLen:2, start time: 2024-05-15 17:18:59.879 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:18:59.892 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=77] [job="ID:77, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:76, RowCount:0, ArgLen:0, start time: 2024-05-15 17:18:59.879 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:18:59.895 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=77]
[2024/05/15 17:18:59.895 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:18:59.895 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=38] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_ttl_task (\n\t\tjob_id varchar(64) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tscan_id int NOT NULL,\n\t\tscan_range_start BLOB,\n\t\tscan_range_end BLOB,\n\t\texpire_time timestamp NOT NULL,\n\t\towner_id varchar(64) DEFAULT NULL,\n\t\towner_addr varchar(64) DEFAULT NULL,\n\t\towner_hb_time timestamp DEFAULT NULL,\n\t\tstatus varchar(64) DEFAULT 'waiting',\n\t\tstatus_update_time timestamp NULL DEFAULT NULL,\n\t\tstate text,\n\t\tcreated_time timestamp NOT NULL,\n\t\tprimary key(job_id, scan_id),\n\t\tkey(created_time));"] [user=]
[2024/05/15 17:18:59.896 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:79, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:78, RowCount:0, ArgLen:2, start time: 2024-05-15 17:18:59.895 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:18:59.896 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:79, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:78, RowCount:0, ArgLen:2, start time: 2024-05-15 17:18:59.895 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_ttl_task (\n\t\tjob_id varchar(64) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tscan_id int NOT NULL,\n\t\tscan_range_start BLOB,\n\t\tscan_range_end BLOB,\n\t\texpire_time timestamp NOT NULL,\n\t\towner_id varchar(64) DEFAULT NULL,\n\t\towner_addr varchar(64) DEFAULT NULL,\n\t\towner_hb_time timestamp DEFAULT NULL,\n\t\tstatus varchar(64) DEFAULT 'waiting',\n\t\tstatus_update_time timestamp NULL DEFAULT NULL,\n\t\tstate text,\n\t\tcreated_time timestamp NOT NULL,\n\t\tprimary key(job_id, scan_id),\n\t\tkey(created_time));"]
[2024/05/15 17:18:59.900 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=79] [category=ddl] [job="ID:79, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:78, RowCount:0, ArgLen:0, start time: 2024-05-15 17:18:59.895 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:18:59.902 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=38] [neededSchemaVersion=39] ["start time"=359.834s] [gotSchemaVersion=39] [phyTblIDs="[78]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:18:59.902 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:18:59.902 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=79] [version=39]
[2024/05/15 17:18:59.904 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=39] ["take time"=2.851459ms] [job="ID:79, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:78, RowCount:0, ArgLen:2, start time: 2024-05-15 17:18:59.895 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:18:59.908 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=79] [job="ID:79, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:78, RowCount:0, ArgLen:0, start time: 2024-05-15 17:18:59.895 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:18:59.910 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=79]
[2024/05/15 17:18:59.910 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:18:59.910 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=39] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_ttl_job_history (\n\t\tjob_id varchar(64) PRIMARY KEY,\n\t\ttable_id bigint(64) NOT NULL,\n        parent_table_id bigint(64) NOT NULL,\n    \ttable_schema varchar(64) NOT NULL,\n\t\ttable_name varchar(64) NOT NULL,\n    \tpartition_name varchar(64) DEFAULT NULL,\n\t\tcreate_time timestamp NOT NULL,\n\t\tfinish_time timestamp NOT NULL,\n\t\tttl_expire timestamp NOT NULL,\n        summary_text text,\n\t\texpired_rows bigint(64) DEFAULT NULL,\n    \tdeleted_rows bigint(64) DEFAULT NULL,\n    \terror_delete_rows bigint(64) DEFAULT NULL,\n    \tstatus varchar(64) NOT NULL,\n    \tkey(table_schema, table_name, create_time),\n    \tkey(parent_table_id, create_time),\n    \tkey(create_time)\n\t);"] [user=]
[2024/05/15 17:18:59.912 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:81, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:80, RowCount:0, ArgLen:2, start time: 2024-05-15 17:18:59.911 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:18:59.912 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:81, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:80, RowCount:0, ArgLen:2, start time: 2024-05-15 17:18:59.911 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_ttl_job_history (\n\t\tjob_id varchar(64) PRIMARY KEY,\n\t\ttable_id bigint(64) NOT NULL,\n        parent_table_id bigint(64) NOT NULL,\n    \ttable_schema varchar(64) NOT NULL,\n\t\ttable_name varchar(64) NOT NULL,\n    \tpartition_name varchar(64) DEFAULT NULL,\n\t\tcreate_time timestamp NOT NULL,\n\t\tfinish_time timestamp NOT NULL,\n\t\tttl_expire timestamp NOT NULL,\n        summary_text text,\n\t\texpired_rows bigint(64) DEFAULT NULL,\n    \tdeleted_rows bigint(64) DEFAULT NULL,\n    \terror_delete_rows bigint(64) DEFAULT NULL,\n    \tstatus varchar(64) NOT NULL,\n    \tkey(table_schema, table_name, create_time),\n    \tkey(parent_table_id, create_time),\n    \tkey(create_time)\n\t);"]
[2024/05/15 17:18:59.916 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=81] [category=ddl] [job="ID:81, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:80, RowCount:0, ArgLen:0, start time: 2024-05-15 17:18:59.911 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:18:59.918 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=39] [neededSchemaVersion=40] ["start time"=414.5s] [gotSchemaVersion=40] [phyTblIDs="[80]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:18:59.919 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:18:59.919 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=81] [version=40]
[2024/05/15 17:18:59.920 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=40] ["take time"=2.363916ms] [job="ID:81, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:80, RowCount:0, ArgLen:2, start time: 2024-05-15 17:18:59.911 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:18:59.924 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=81] [job="ID:81, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:80, RowCount:0, ArgLen:0, start time: 2024-05-15 17:18:59.911 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:18:59.927 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=81]
[2024/05/15 17:18:59.927 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:18:59.927 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=40] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_global_task (\n\t\tid BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n    \ttask_key VARCHAR(256) NOT NULL,\n\t\ttype VARCHAR(256) NOT NULL,\n\t\tdispatcher_id VARCHAR(261),\n\t\tstate VARCHAR(64) NOT NULL,\n\t\tpriority INT DEFAULT 1,\n\t\tcreate_time TIMESTAMP,\n\t\tstart_time TIMESTAMP,\n\t\tstate_update_time TIMESTAMP,\n\t\tend_time TIMESTAMP,\n\t\tmeta LONGBLOB,\n\t\tconcurrency INT(11),\n\t\tstep INT(11),\n\t\ttarget_scope VARCHAR(256) DEFAULT \"\",\n\t\terror BLOB,\n\t\tkey(state),\n      \tUNIQUE KEY task_key(task_key)\n\t);"] [user=]
[2024/05/15 17:18:59.929 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:83, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:82, RowCount:0, ArgLen:2, start time: 2024-05-15 17:18:59.928 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:18:59.929 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:83, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:82, RowCount:0, ArgLen:2, start time: 2024-05-15 17:18:59.928 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_global_task (\n\t\tid BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n    \ttask_key VARCHAR(256) NOT NULL,\n\t\ttype VARCHAR(256) NOT NULL,\n\t\tdispatcher_id VARCHAR(261),\n\t\tstate VARCHAR(64) NOT NULL,\n\t\tpriority INT DEFAULT 1,\n\t\tcreate_time TIMESTAMP,\n\t\tstart_time TIMESTAMP,\n\t\tstate_update_time TIMESTAMP,\n\t\tend_time TIMESTAMP,\n\t\tmeta LONGBLOB,\n\t\tconcurrency INT(11),\n\t\tstep INT(11),\n\t\ttarget_scope VARCHAR(256) DEFAULT \"\",\n\t\terror BLOB,\n\t\tkey(state),\n      \tUNIQUE KEY task_key(task_key)\n\t);"]
[2024/05/15 17:18:59.933 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=83] [category=ddl] [job="ID:83, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:82, RowCount:0, ArgLen:0, start time: 2024-05-15 17:18:59.928 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:18:59.936 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=40] [neededSchemaVersion=41] ["start time"=390.958s] [gotSchemaVersion=41] [phyTblIDs="[82]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:18:59.936 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:18:59.936 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=83] [version=41]
[2024/05/15 17:18:59.937 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=41] ["take time"=2.087916ms] [job="ID:83, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:82, RowCount:0, ArgLen:2, start time: 2024-05-15 17:18:59.928 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:18:59.942 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=83] [job="ID:83, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:82, RowCount:0, ArgLen:0, start time: 2024-05-15 17:18:59.928 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:18:59.944 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=83]
[2024/05/15 17:18:59.944 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:18:59.944 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=41] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_global_task_history (\n\t\tid BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n    \ttask_key VARCHAR(256) NOT NULL,\n\t\ttype VARCHAR(256) NOT NULL,\n\t\tdispatcher_id VARCHAR(261),\n\t\tstate VARCHAR(64) NOT NULL,\n\t\tpriority INT DEFAULT 1,\n\t\tcreate_time TIMESTAMP,\n\t\tstart_time TIMESTAMP,\n\t\tstate_update_time TIMESTAMP,\n\t\tend_time TIMESTAMP,\n\t\tmeta LONGBLOB,\n\t\tconcurrency INT(11),\n\t\tstep INT(11),\n\t\ttarget_scope VARCHAR(256) DEFAULT \"\",\n\t\terror BLOB,\n\t\tkey(state),\n      \tUNIQUE KEY task_key(task_key)\n\t);"] [user=]
[2024/05/15 17:18:59.946 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:85, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:84, RowCount:0, ArgLen:2, start time: 2024-05-15 17:18:59.945 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:18:59.946 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:85, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:84, RowCount:0, ArgLen:2, start time: 2024-05-15 17:18:59.945 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_global_task_history (\n\t\tid BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n    \ttask_key VARCHAR(256) NOT NULL,\n\t\ttype VARCHAR(256) NOT NULL,\n\t\tdispatcher_id VARCHAR(261),\n\t\tstate VARCHAR(64) NOT NULL,\n\t\tpriority INT DEFAULT 1,\n\t\tcreate_time TIMESTAMP,\n\t\tstart_time TIMESTAMP,\n\t\tstate_update_time TIMESTAMP,\n\t\tend_time TIMESTAMP,\n\t\tmeta LONGBLOB,\n\t\tconcurrency INT(11),\n\t\tstep INT(11),\n\t\ttarget_scope VARCHAR(256) DEFAULT \"\",\n\t\terror BLOB,\n\t\tkey(state),\n      \tUNIQUE KEY task_key(task_key)\n\t);"]
[2024/05/15 17:18:59.950 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=85] [category=ddl] [job="ID:85, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:84, RowCount:0, ArgLen:0, start time: 2024-05-15 17:18:59.945 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:18:59.952 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=41] [neededSchemaVersion=42] ["start time"=416.958s] [gotSchemaVersion=42] [phyTblIDs="[84]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:18:59.953 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:18:59.953 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=85] [version=42]
[2024/05/15 17:18:59.954 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=42] ["take time"=2.361792ms] [job="ID:85, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:84, RowCount:0, ArgLen:2, start time: 2024-05-15 17:18:59.945 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:18:59.959 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=85] [job="ID:85, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:84, RowCount:0, ArgLen:0, start time: 2024-05-15 17:18:59.945 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:18:59.962 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=85]
[2024/05/15 17:18:59.962 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:18:59.962 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=42] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_import_jobs (\n\t\tid bigint(64) NOT NULL AUTO_INCREMENT,\n\t\tcreate_time TIMESTAMP(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6),\n\t\tstart_time TIMESTAMP(6) NULL DEFAULT NULL,\n\t\tupdate_time TIMESTAMP(6) NULL DEFAULT NULL,\n\t\tend_time TIMESTAMP(6) NULL DEFAULT NULL,\n\t\ttable_schema VARCHAR(64) NOT NULL,\n\t\ttable_name VARCHAR(64) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tcreated_by VARCHAR(300) NOT NULL,\n\t\tparameters text NOT NULL,\n\t\tsource_file_size bigint(64) NOT NULL,\n\t\tstatus VARCHAR(64) NOT NULL,\n\t\tstep VARCHAR(64) NOT NULL,\n\t\tsummary text DEFAULT NULL,\n\t\terror_message TEXT DEFAULT NULL,\n\t\tPRIMARY KEY (id),\n\t\tKEY (created_by),\n\t\tKEY (status));"] [user=]
[2024/05/15 17:18:59.963 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:87, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:86, RowCount:0, ArgLen:2, start time: 2024-05-15 17:18:59.963 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:18:59.963 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:87, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:86, RowCount:0, ArgLen:2, start time: 2024-05-15 17:18:59.963 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_import_jobs (\n\t\tid bigint(64) NOT NULL AUTO_INCREMENT,\n\t\tcreate_time TIMESTAMP(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6),\n\t\tstart_time TIMESTAMP(6) NULL DEFAULT NULL,\n\t\tupdate_time TIMESTAMP(6) NULL DEFAULT NULL,\n\t\tend_time TIMESTAMP(6) NULL DEFAULT NULL,\n\t\ttable_schema VARCHAR(64) NOT NULL,\n\t\ttable_name VARCHAR(64) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tcreated_by VARCHAR(300) NOT NULL,\n\t\tparameters text NOT NULL,\n\t\tsource_file_size bigint(64) NOT NULL,\n\t\tstatus VARCHAR(64) NOT NULL,\n\t\tstep VARCHAR(64) NOT NULL,\n\t\tsummary text DEFAULT NULL,\n\t\terror_message TEXT DEFAULT NULL,\n\t\tPRIMARY KEY (id),\n\t\tKEY (created_by),\n\t\tKEY (status));"]
[2024/05/15 17:18:59.967 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=87] [category=ddl] [job="ID:87, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:86, RowCount:0, ArgLen:0, start time: 2024-05-15 17:18:59.963 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:18:59.969 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=42] [neededSchemaVersion=43] ["start time"=409.333s] [gotSchemaVersion=43] [phyTblIDs="[86]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:18:59.970 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:18:59.970 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=87] [version=43]
[2024/05/15 17:18:59.971 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=43] ["take time"=2.049583ms] [job="ID:87, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:86, RowCount:0, ArgLen:2, start time: 2024-05-15 17:18:59.963 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:18:59.978 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=87] [job="ID:87, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:86, RowCount:0, ArgLen:0, start time: 2024-05-15 17:18:59.963 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:18:59.982 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=87]
[2024/05/15 17:18:59.982 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:18:59.982 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=43] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_runaway_watch (\n\t\tid BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n\t\tresource_group_name varchar(32) not null,\n\t\tstart_time datetime(6) NOT NULL,\n\t\tend_time datetime(6),\n\t\twatch bigint(10) NOT NULL,\n\t\twatch_text TEXT NOT NULL,\n\t\tsource varchar(512) NOT NULL,\n\t\taction bigint(10),\n\t\tINDEX sql_index(resource_group_name,watch_text(700)) COMMENT \"accelerate the speed when select quarantined query\",\n\t\tINDEX time_index(end_time) COMMENT \"accelerate the speed when querying with active watch\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"] [user=]
[2024/05/15 17:18:59.985 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:89, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:88, RowCount:0, ArgLen:2, start time: 2024-05-15 17:18:59.984 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:18:59.985 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:89, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:88, RowCount:0, ArgLen:2, start time: 2024-05-15 17:18:59.984 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_runaway_watch (\n\t\tid BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n\t\tresource_group_name varchar(32) not null,\n\t\tstart_time datetime(6) NOT NULL,\n\t\tend_time datetime(6),\n\t\twatch bigint(10) NOT NULL,\n\t\twatch_text TEXT NOT NULL,\n\t\tsource varchar(512) NOT NULL,\n\t\taction bigint(10),\n\t\tINDEX sql_index(resource_group_name,watch_text(700)) COMMENT \"accelerate the speed when select quarantined query\",\n\t\tINDEX time_index(end_time) COMMENT \"accelerate the speed when querying with active watch\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"]
[2024/05/15 17:18:59.992 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=89] [category=ddl] [job="ID:89, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:88, RowCount:0, ArgLen:0, start time: 2024-05-15 17:18:59.984 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:18:59.995 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=43] [neededSchemaVersion=44] ["start time"=425.75s] [gotSchemaVersion=44] [phyTblIDs="[88]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:18:59.996 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:18:59.996 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=89] [version=44]
[2024/05/15 17:19:00.000 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=44] ["take time"=5.220542ms] [job="ID:89, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:88, RowCount:0, ArgLen:2, start time: 2024-05-15 17:18:59.984 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:00.009 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=89] [job="ID:89, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:88, RowCount:0, ArgLen:0, start time: 2024-05-15 17:18:59.984 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:00.013 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=89]
[2024/05/15 17:19:00.013 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:19:00.013 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=44] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_runaway_queries (\n\t\tresource_group_name varchar(32) not null,\n\t\ttime TIMESTAMP NOT NULL,\n\t\tmatch_type varchar(12) NOT NULL,\n\t\taction varchar(12) NOT NULL,\n\t\toriginal_sql TEXT NOT NULL,\n\t\tplan_digest TEXT NOT NULL,\n\t\ttidb_server varchar(512),\n\t\tINDEX plan_index(plan_digest(64)) COMMENT \"accelerate the speed when select runaway query\",\n\t\tINDEX time_index(time) COMMENT \"accelerate the speed when querying with active watch\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"] [user=]
[2024/05/15 17:19:00.015 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:91, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:90, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:00.014 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:19:00.015 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:91, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:90, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:00.014 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_runaway_queries (\n\t\tresource_group_name varchar(32) not null,\n\t\ttime TIMESTAMP NOT NULL,\n\t\tmatch_type varchar(12) NOT NULL,\n\t\taction varchar(12) NOT NULL,\n\t\toriginal_sql TEXT NOT NULL,\n\t\tplan_digest TEXT NOT NULL,\n\t\ttidb_server varchar(512),\n\t\tINDEX plan_index(plan_digest(64)) COMMENT \"accelerate the speed when select runaway query\",\n\t\tINDEX time_index(time) COMMENT \"accelerate the speed when querying with active watch\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"]
[2024/05/15 17:19:00.019 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=91] [category=ddl] [job="ID:91, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:90, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:00.014 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:00.021 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=44] [neededSchemaVersion=45] ["start time"=273.542s] [gotSchemaVersion=45] [phyTblIDs="[90]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:19:00.022 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:19:00.022 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=91] [version=45]
[2024/05/15 17:19:00.023 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=45] ["take time"=2.019458ms] [job="ID:91, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:90, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:00.014 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:00.027 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=91] [job="ID:91, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:90, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:00.014 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:00.029 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=91]
[2024/05/15 17:19:00.029 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:19:00.029 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=45] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS `mysql`.`tidb_timers` (\n\t\tID BIGINT(64) UNSIGNED NOT NULL AUTO_INCREMENT,\n\t\tNAMESPACE VARCHAR(256) NOT NULL,\n\t\tTIMER_KEY VARCHAR(256) NOT NULL,\n\t\tTIMER_DATA BLOB,\n\t\tTIMEZONE VARCHAR(64) NOT NULL,\n\t\tSCHED_POLICY_TYPE VARCHAR(32) NOT NULL,\n\t\tSCHED_POLICY_EXPR VARCHAR(256) NOT NULL,\n\t\tHOOK_CLASS VARCHAR(64) NOT NULL,\n\t\tWATERMARK TIMESTAMP DEFAULT NULL,\n\t\tENABLE TINYINT(2) NOT NULL,\n\t\tTIMER_EXT JSON NOT NULL,\n\t\tEVENT_STATUS VARCHAR(32) NOT NULL,\n\t\tEVENT_ID VARCHAR(64) NOT NULL,\n\t\tEVENT_DATA BLOB,\n\t\tEVENT_START TIMESTAMP DEFAULT NULL,\n\t\tSUMMARY_DATA BLOB,\n\t\tCREATE_TIME TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,\n\t\tUPDATE_TIME TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\tVERSION BIGINT(64) UNSIGNED NOT NULL,\n\t\tPRIMARY KEY (ID),\n\t\tUNIQUE KEY timer_key(NAMESPACE, TIMER_KEY),\n\t\tKEY hook_class(HOOK_CLASS)\n\t)"] [user=]
[2024/05/15 17:19:00.032 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:93, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:92, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:00.03 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:19:00.032 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:93, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:92, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:00.03 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS `mysql`.`tidb_timers` (\n\t\tID BIGINT(64) UNSIGNED NOT NULL AUTO_INCREMENT,\n\t\tNAMESPACE VARCHAR(256) NOT NULL,\n\t\tTIMER_KEY VARCHAR(256) NOT NULL,\n\t\tTIMER_DATA BLOB,\n\t\tTIMEZONE VARCHAR(64) NOT NULL,\n\t\tSCHED_POLICY_TYPE VARCHAR(32) NOT NULL,\n\t\tSCHED_POLICY_EXPR VARCHAR(256) NOT NULL,\n\t\tHOOK_CLASS VARCHAR(64) NOT NULL,\n\t\tWATERMARK TIMESTAMP DEFAULT NULL,\n\t\tENABLE TINYINT(2) NOT NULL,\n\t\tTIMER_EXT JSON NOT NULL,\n\t\tEVENT_STATUS VARCHAR(32) NOT NULL,\n\t\tEVENT_ID VARCHAR(64) NOT NULL,\n\t\tEVENT_DATA BLOB,\n\t\tEVENT_START TIMESTAMP DEFAULT NULL,\n\t\tSUMMARY_DATA BLOB,\n\t\tCREATE_TIME TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,\n\t\tUPDATE_TIME TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\tVERSION BIGINT(64) UNSIGNED NOT NULL,\n\t\tPRIMARY KEY (ID),\n\t\tUNIQUE KEY timer_key(NAMESPACE, TIMER_KEY),\n\t\tKEY hook_class(HOOK_CLASS)\n\t)"]
[2024/05/15 17:19:00.035 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=93] [category=ddl] [job="ID:93, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:92, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:00.03 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:00.038 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=45] [neededSchemaVersion=46] ["start time"=512s] [gotSchemaVersion=46] [phyTblIDs="[92]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:19:00.039 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:19:00.039 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=93] [version=46]
[2024/05/15 17:19:00.040 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=46] ["take time"=2.184875ms] [job="ID:93, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:92, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:00.03 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:00.044 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=93] [job="ID:93, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:92, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:00.03 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:00.046 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=93]
[2024/05/15 17:19:00.046 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:19:00.046 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=46] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_runaway_watch_done (\n\t\tid BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n\t\trecord_id BIGINT(20) not null,\n\t\tresource_group_name varchar(32) not null,\n\t\tstart_time datetime(6) NOT NULL,\n\t\tend_time datetime(6),\n\t\twatch bigint(10) NOT NULL,\n\t\twatch_text TEXT NOT NULL,\n\t\tsource varchar(512) NOT NULL,\n\t\taction bigint(10),\n\t\tdone_time TIMESTAMP(6) NOT NULL\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"] [user=]
[2024/05/15 17:19:00.047 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:95, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:94, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:00.046 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:19:00.047 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:95, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:94, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:00.046 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_runaway_watch_done (\n\t\tid BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n\t\trecord_id BIGINT(20) not null,\n\t\tresource_group_name varchar(32) not null,\n\t\tstart_time datetime(6) NOT NULL,\n\t\tend_time datetime(6),\n\t\twatch bigint(10) NOT NULL,\n\t\twatch_text TEXT NOT NULL,\n\t\tsource varchar(512) NOT NULL,\n\t\taction bigint(10),\n\t\tdone_time TIMESTAMP(6) NOT NULL\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"]
[2024/05/15 17:19:00.050 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=95] [category=ddl] [job="ID:95, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:94, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:00.046 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:00.052 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=46] [neededSchemaVersion=47] ["start time"=256.333s] [gotSchemaVersion=47] [phyTblIDs="[94]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:19:00.053 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:19:00.053 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=95] [version=47]
[2024/05/15 17:19:00.054 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=47] ["take time"=2.009291ms] [job="ID:95, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:94, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:00.046 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:00.058 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=95] [job="ID:95, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:94, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:00.046 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:00.060 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=95]
[2024/05/15 17:19:00.060 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:19:00.060 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=47] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.dist_framework_meta (\n        host VARCHAR(261) NOT NULL PRIMARY KEY,\n        role VARCHAR(64),\n        cpu_count int default 0,\n        keyspace_id bigint(8) NOT NULL DEFAULT -1\n    );"] [user=]
[2024/05/15 17:19:00.061 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:97, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:96, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:00.061 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:19:00.061 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:97, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:96, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:00.061 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.dist_framework_meta (\n        host VARCHAR(261) NOT NULL PRIMARY KEY,\n        role VARCHAR(64),\n        cpu_count int default 0,\n        keyspace_id bigint(8) NOT NULL DEFAULT -1\n    );"]
[2024/05/15 17:19:00.065 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=97] [category=ddl] [job="ID:97, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:96, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:00.061 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:00.066 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=47] [neededSchemaVersion=48] ["start time"=200.458s] [gotSchemaVersion=48] [phyTblIDs="[96]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:19:00.067 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:19:00.067 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=97] [version=48]
[2024/05/15 17:19:00.068 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=48] ["take time"=2.115042ms] [job="ID:97, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:96, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:00.061 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:00.072 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=97] [job="ID:97, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:96, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:00.061 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:00.074 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=97]
[2024/05/15 17:19:00.074 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:19:00.074 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=48] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.request_unit_by_group (\n\t\tstart_time TIMESTAMP(6) NOT NULL,\n\t\tend_time TIMESTAMP(6) NOT NULL,\n\t\tresource_group VARCHAR(32) NOT null,\n\t\ttotal_ru bigint(64) UNSIGNED NOT NULL,\n\t\tPRIMARY KEY (start_time, end_time, resource_group),\n\t\tKEY (resource_group)\n\t);"] [user=]
[2024/05/15 17:19:00.076 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:99, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:98, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:00.075 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:19:00.076 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:99, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:98, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:00.075 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.request_unit_by_group (\n\t\tstart_time TIMESTAMP(6) NOT NULL,\n\t\tend_time TIMESTAMP(6) NOT NULL,\n\t\tresource_group VARCHAR(32) NOT null,\n\t\ttotal_ru bigint(64) UNSIGNED NOT NULL,\n\t\tPRIMARY KEY (start_time, end_time, resource_group),\n\t\tKEY (resource_group)\n\t);"]
[2024/05/15 17:19:00.079 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=99] [category=ddl] [job="ID:99, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:98, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:00.075 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:00.081 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=48] [neededSchemaVersion=49] ["start time"=206.625s] [gotSchemaVersion=49] [phyTblIDs="[98]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:19:00.081 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:19:00.081 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=99] [version=49]
[2024/05/15 17:19:00.083 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=49] ["take time"=2.270167ms] [job="ID:99, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:98, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:00.075 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:00.087 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=99] [job="ID:99, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:98, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:00.075 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:00.090 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=99]
[2024/05/15 17:19:00.090 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:19:00.090 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=49] [cur_db=mysql] [sql="CREATE DATABASE IF NOT EXISTS sys;"] [user=]
[2024/05/15 17:19:00.091 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:101, Type:create schema, State:queueing, SchemaState:none, SchemaID:100, TableID:0, RowCount:0, ArgLen:1, start time: 2024-05-15 17:19:00.09 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:19:00.091 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:101, Type:create schema, State:queueing, SchemaState:none, SchemaID:100, TableID:0, RowCount:0, ArgLen:1, start time: 2024-05-15 17:19:00.09 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE DATABASE IF NOT EXISTS sys;"]
[2024/05/15 17:19:00.094 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=101] [category=ddl] [job="ID:101, Type:create schema, State:queueing, SchemaState:none, SchemaID:100, TableID:0, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:00.09 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:00.095 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=49] [neededSchemaVersion=50] ["start time"=39.708s] [gotSchemaVersion=50] [phyTblIDs="[]"] [actionTypes="[]"] [diffTypes="[\"create schema\"]"]
[2024/05/15 17:19:00.096 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:19:00.096 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=101] [version=50]
[2024/05/15 17:19:00.097 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=50] ["take time"=2.005ms] [job="ID:101, Type:create schema, State:done, SchemaState:public, SchemaID:100, TableID:0, RowCount:0, ArgLen:1, start time: 2024-05-15 17:19:00.09 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:00.102 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=101] [job="ID:101, Type:create schema, State:synced, SchemaState:public, SchemaID:100, TableID:0, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:00.09 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:00.104 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=101]
[2024/05/15 17:19:00.104 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:19:00.107 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:103, Type:create view, State:queueing, SchemaState:none, SchemaID:100, TableID:102, RowCount:0, ArgLen:3, start time: 2024-05-15 17:19:00.106 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:19:00.107 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:103, Type:create view, State:queueing, SchemaState:none, SchemaID:100, TableID:102, RowCount:0, ArgLen:3, start time: 2024-05-15 17:19:00.106 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE OR REPLACE VIEW sys.schema_unused_indexes AS\n\t\tSELECT\n\t\t\ttable_schema as object_schema,\n\t\t\ttable_name as object_name,\n\t\t\tindex_name\n\t\tFROM information_schema.cluster_tidb_index_usage\n\t\tWHERE\n\t\t\ttable_schema not in ('sys', 'mysql', 'INFORMATION_SCHEMA', 'PERFORMANCE_SCHEMA') and\n\t\t\tindex_name != 'PRIMARY'\n\t\tGROUP BY table_schema, table_name, index_name\n\t\tHAVING\n\t\t\tsum(last_access_time) is null;"]
[2024/05/15 17:19:00.110 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=103] [category=ddl] [job="ID:103, Type:create view, State:queueing, SchemaState:none, SchemaID:100, TableID:102, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:00.106 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:00.112 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=50] [neededSchemaVersion=51] ["start time"=149.541s] [gotSchemaVersion=51] [phyTblIDs="[102]"] [actionTypes="[21]"] [diffTypes="[\"create view\"]"]
[2024/05/15 17:19:00.113 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:19:00.113 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=103] [version=51]
[2024/05/15 17:19:00.114 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=51] ["take time"=2.014417ms] [job="ID:103, Type:create view, State:done, SchemaState:public, SchemaID:100, TableID:102, RowCount:0, ArgLen:3, start time: 2024-05-15 17:19:00.106 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:00.118 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=103] [job="ID:103, Type:create view, State:synced, SchemaState:public, SchemaID:100, TableID:102, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:00.106 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:00.120 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=103]
[2024/05/15 17:19:00.120 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:19:00.121 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=0] ["to ID"=1] ["table ID"=4] ["database ID"=1]
[2024/05/15 17:19:00.125 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=0] ["to ID"=655] ["table ID"=16] ["database ID"=1]
[2024/05/15 17:19:00.130 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=0] ["to ID"=1] ["table ID"=18] ["database ID"=1]
[2024/05/15 17:19:00.131 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1] ["to ID"=2] ["table ID"=18] ["database ID"=1]
[2024/05/15 17:19:00.131 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2] ["to ID"=3] ["table ID"=18] ["database ID"=1]
[2024/05/15 17:19:00.131 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3] ["to ID"=4] ["table ID"=18] ["database ID"=1]
[2024/05/15 17:19:00.133 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=4] ["to ID"=5] ["table ID"=18] ["database ID"=1]
[2024/05/15 17:19:00.136 +08:00] [INFO] [bootstrap.go:745] ["bootstrap successful"] ["take time"=1.037534666s]
[2024/05/15 17:19:00.136 +08:00] [INFO] [runaway.go:158] ["preparations for the runaway manager are finished and start runaway manager loop"]
[2024/05/15 17:19:00.136 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=runawayRecordFlushLoop]
[2024/05/15 17:19:00.137 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=runawayWatchSyncLoop]
[2024/05/15 17:19:00.137 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=runawayStartLoop]
[2024/05/15 17:19:00.139 +08:00] [INFO] [mock.go:106] ["owner manager is canceled"] [category=ddl] [ID=a6a3cc7f-c0e4-48e5-8f60-d25c84ab936f] [ownerKey=/tidb/ddl/fg/owner]
[2024/05/15 17:19:00.139 +08:00] [INFO] [ddl_workerpool.go:82] ["closing workerPool"] [category=ddl]
[2024/05/15 17:19:00.139 +08:00] [INFO] [ddl_worker.go:186] ["DDL worker closed"] [worker="worker 2, tp add index"] [category=ddl] ["take time"=792ns]
[2024/05/15 17:19:00.139 +08:00] [INFO] [ddl_workerpool.go:82] ["closing workerPool"] [category=ddl]
[2024/05/15 17:19:00.139 +08:00] [INFO] [ddl_worker.go:186] ["DDL worker closed"] [worker="worker 1, tp general"] [category=ddl] ["take time"=292ns]
[2024/05/15 17:19:00.139 +08:00] [INFO] [ddl_workerpool.go:82] ["closing workerPool"] [category=ddl]
[2024/05/15 17:19:00.139 +08:00] [INFO] [delete_range.go:162] ["closing delRange"] [category=ddl]
[2024/05/15 17:19:00.139 +08:00] [INFO] [session_pool.go:99] ["closing session pool"] [category=ddl]
[2024/05/15 17:19:00.139 +08:00] [INFO] [ddl.go:951] ["DDL closed"] [category=ddl] [ID=a6a3cc7f-c0e4-48e5-8f60-d25c84ab936f] ["take time"=773.75s]
[2024/05/15 17:19:00.139 +08:00] [INFO] [ddl.go:769] ["stop DDL"] [category=ddl] [ID=a6a3cc7f-c0e4-48e5-8f60-d25c84ab936f]
[2024/05/15 17:19:00.139 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=mdlCheckLoop]
[2024/05/15 17:19:00.139 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=runawayRecordFlushLoop]
[2024/05/15 17:19:00.139 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=runawayWatchSyncLoop]
[2024/05/15 17:19:00.139 +08:00] [INFO] [domain.go:915] ["loadSchemaInLoop exited."]
[2024/05/15 17:19:00.139 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=loadSchemaInLoop]
[2024/05/15 17:19:00.139 +08:00] [INFO] [domain.go:769] ["topologySyncerKeeper exited."]
[2024/05/15 17:19:00.139 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=topologySyncerKeeper]
[2024/05/15 17:19:00.139 +08:00] [INFO] [domain.go:745] ["globalConfigSyncerKeeper exited."]
[2024/05/15 17:19:00.139 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=globalConfigSyncerKeeper]
[2024/05/15 17:19:00.139 +08:00] [INFO] [domain.go:719] ["infoSyncerKeeper exited."]
[2024/05/15 17:19:00.139 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=infoSyncerKeeper]
[2024/05/15 17:19:00.139 +08:00] [INFO] [domain.go:691] ["topNSlowQueryLoop exited."]
[2024/05/15 17:19:00.139 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=topNSlowQueryLoop]
[2024/05/15 17:19:00.139 +08:00] [INFO] [domain.go:1369] ["closestReplicaReadCheckLoop exited."]
[2024/05/15 17:19:00.139 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=closestReplicaReadCheckLoop]
[2024/05/15 17:19:00.139 +08:00] [INFO] [domain.go:1082] ["domain closed"] ["take time"=961.416s]
[2024/05/15 17:19:00.139 +08:00] [INFO] [tidb.go:80] ["new domain"] [store=6ee96b55-29a7-41e8-b0f2-1a591194db5a] ["ddl lease"=500ms] ["stats lease"=-1ns]
[2024/05/15 17:19:00.141 +08:00] [WARN] [controller.go:198] ["[resource group controller] server does not save config, load config failed"]
[2024/05/15 17:19:00.141 +08:00] [INFO] [controller.go:185] ["load resource controller config"] [config="{\"degraded-mode-wait-duration\":\"0s\",\"ltb-max-wait-duration\":\"30s\",\"wait-retry-interval\":\"50ms\",\"wait-retry-times\":10,\"request-unit\":{\"read-base-cost\":0.125,\"read-per-batch-base-cost\":0.5,\"read-cost-per-byte\":0.0000152587890625,\"write-base-cost\":1,\"write-per-batch-base-cost\":1,\"write-cost-per-byte\":0.0009765625,\"read-cpu-ms-cost\":0.3333333333333333},\"enable-controller-trace-log\":\"false\"}"] [ru-config="{\"ReadBaseCost\":0.125,\"ReadPerBatchBaseCost\":0.5,\"ReadBytesCost\":0.0000152587890625,\"WriteBaseCost\":1,\"WritePerBatchBaseCost\":1,\"WriteBytesCost\":0.0009765625,\"CPUMsCost\":0.3333333333333333,\"LTBMaxWaitDuration\":30000000000,\"WaitRetryInterval\":50000000,\"WaitRetryTimes\":10,\"DegradedModeWaitDuration\":0}"]
[2024/05/15 17:19:00.154 +08:00] [INFO] [domain.go:323] ["full load InfoSchema success"] [currentSchemaVersion=0] [neededSchemaVersion=51] ["start time"=12.679375ms]
[2024/05/15 17:19:00.157 +08:00] [INFO] [domain.go:643] ["full load and reset schema validator"]
[2024/05/15 17:19:00.157 +08:00] [INFO] [ddl.go:818] ["start DDL"] [category=ddl] [ID=d9d0010e-257a-4048-8b51-1d2efeff7673] [runWorker=true]
[2024/05/15 17:19:00.157 +08:00] [INFO] [ddl.go:777] ["start delRangeManager OK"] [category=ddl] ["is a emulator"=true]
[2024/05/15 17:19:00.157 +08:00] [WARN] [env.go:51] ["initialize environment failed"] [category=ddl-ingest] ["storage limitation"="only support TiKV storage"] ["current storage"=unistore] ["lightning is initialized"=false]
[2024/05/15 17:19:00.157 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=loadSchemaInLoop]
[2024/05/15 17:19:00.157 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=mdlCheckLoop]
[2024/05/15 17:19:00.157 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=topNSlowQueryLoop]
[2024/05/15 17:19:00.157 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=infoSyncerKeeper]
[2024/05/15 17:19:00.157 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=globalConfigSyncerKeeper]
[2024/05/15 17:19:00.157 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=runawayStartLoop]
[2024/05/15 17:19:00.157 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=requestUnitsWriterLoop]
[2024/05/15 17:19:00.157 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=topologySyncerKeeper]
[2024/05/15 17:19:00.157 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=closestReplicaReadCheckLoop]
[2024/05/15 17:19:00.157 +08:00] [WARN] [domain.go:1334] ["pd / etcd client not provided, won't begin Advancer."]
[2024/05/15 17:19:00.159 +08:00] [INFO] [delete_range.go:172] ["start delRange emulator"] [category=ddl]
[2024/05/15 17:19:00.159 +08:00] [INFO] [job_table.go:334] ["get global state and global state change"] [category=ddl] [oldState=false] [currState=false]
[2024/05/15 17:19:00.159 +08:00] [INFO] [runaway.go:149] ["try to start runaway manager loop"]
[2024/05/15 17:19:00.159 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=requestUnitsWriterLoop]
[2024/05/15 17:19:00.184 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=globalBindHandleWorkerLoop]
[2024/05/15 17:19:00.184 +08:00] [WARN] [sysvar_cache.go:49] ["sysvar cache is empty, triggering rebuild"]
[2024/05/15 17:19:00.185 +08:00] [INFO] [sysvar.go:2748] ["set resource control"] [enable=true]
[2024/05/15 17:19:00.186 +08:00] [INFO] [controller.go:447] ["[resource group controller] create resource group cost controller"] [name=default]
[2024/05/15 17:19:00.194 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=loadPrivilegeInLoop]
[2024/05/15 17:19:00.195 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=LoadSysVarCacheLoop]
[2024/05/15 17:19:00.196 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=dumpFileGcChecker]
[2024/05/15 17:19:00.197 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=indexUsageWorker]
[2024/05/15 17:19:00.197 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=quitStatsOwner]
[2024/05/15 17:19:00.197 +08:00] [INFO] [domain.go:2278] ["start load stats sub workers"] ["worker count"=5]
[2024/05/15 17:19:00.197 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=loadSigningCertLoop]
[2024/05/15 17:19:00.198 +08:00] [INFO] [manager.go:113] ["build task executor manager"] [server-id=:4000] [total-cpu=1] [total-mem=32GiB]
[2024/05/15 17:19:00.198 +08:00] [INFO] [domain.go:2078] ["dumpFileGcChecker started"]
[2024/05/15 17:19:00.200 +08:00] [INFO] [task_manager.go:217] ["scale ttl worker"] [ttl-worker=job-manager] [ttl-worker=task-manager] [originalCount=0] [newCount=4]
[2024/05/15 17:19:00.200 +08:00] [INFO] [task_manager.go:217] ["scale ttl worker"] [ttl-worker=job-manager] [ttl-worker=task-manager] [originalCount=0] [newCount=4]
[2024/05/15 17:19:00.205 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=0] ["to ID"=1] ["table ID"=96] ["database ID"=1]
[2024/05/15 17:19:00.205 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=distTaskFrameworkLoop]
[2024/05/15 17:19:00.210 +08:00] [INFO] [job_table.go:334] ["get global state and global state change"] [category=ddl] [oldState=false] [currState=false]
[2024/05/15 17:19:00.210 +08:00] [INFO] [job_table.go:349] ["the owner sets owner operator value"] [category=ddl] [ownerOp=none]
[2024/05/15 17:19:00.212 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=5000] ["to ID"=5001] ["table ID"=16] ["database ID"=1]
[2024/05/15 17:19:00.213 +08:00] [INFO] [manager.go:146] ["task executor manager start"] [server-id=:4000]
[2024/05/15 17:19:00.213 +08:00] [INFO] [domain.go:1533] ["dist task executor manager started"]
[2024/05/15 17:19:00.214 +08:00] [INFO] [set.go:170] ["set global var"] [conn=1] [name=tidb_schema_cache_size] [val=1024]
[2024/05/15 17:19:00.215 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=5001] ["to ID"=5002] ["table ID"=16] ["database ID"=1]
[2024/05/15 17:19:00.217 +08:00] [INFO] [set.go:170] ["set global var"] [conn=1] [name=autocommit] [val=0]
[2024/05/15 17:19:00.219 +08:00] [INFO] [set.go:170] ["set global var"] [conn=2] [name=tidb_schema_cache_size] [val=1024]
[2024/05/15 17:19:00.228 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=5002] ["to ID"=5003] ["table ID"=16] ["database ID"=1]
[2024/05/15 17:19:00.234 +08:00] [INFO] [set.go:170] ["set global var"] [conn=1] [name=autocommit] [val=1]
[2024/05/15 17:19:00.239 +08:00] [INFO] [set.go:170] ["set global var"] [conn=3] [name=tidb_schema_cache_size] [val=1024]
[2024/05/15 17:19:00.242 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=1] [schemaVersion=51] [cur_db=test] [sql="drop table if exists test_full_column"] [user=]
[2024/05/15 17:19:00.243 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=1] [schemaVersion=51] [cur_db=test] [sql="create table test_full_column(\n\t\t\t\t\tc_int int,\n\t\t\t\t\tc_float float,\n\t\t\t\t\tc_bit bit,\n\t\t\t\t\tc_bool bool,\n\t\t\t\t\tc_char char(1) charset ascii collate ascii_bin,\n\t\t\t\t\tc_nchar national char(1) charset ascii collate ascii_bin,\n\t\t\t\t\tc_binary binary,\n\t\t\t\t\tc_varchar varchar(1) charset ascii collate ascii_bin,\n\t\t\t\t\tc_varchar_default varchar(20) charset ascii collate ascii_bin default 'cUrrent_tImestamp',\n\t\t\t\t\tc_nvarchar national varchar(1) charset ascii collate ascii_bin,\n\t\t\t\t\tc_varbinary varbinary(1),\n\t\t\t\t\tc_year year,\n\t\t\t\t\tc_date date,\n\t\t\t\t\tc_time time,\n\t\t\t\t\tc_datetime datetime,\n\t\t\t\t\tc_datetime_default datetime default current_timestamp,\n\t\t\t\t\tc_datetime_default_2 datetime(2) default current_timestamp(2),\n\t\t\t\t\tc_timestamp timestamp,\n\t\t\t\t\tc_timestamp_default timestamp default current_timestamp,\n\t\t\t\t\tc_timestamp_default_3 timestamp(3) default current_timestamp(3),\n\t\t\t\t\tc_timestamp_default_4 timestamp(3) default current_timestamp(3) on update current_timestamp(3),\n\t\t\t\t\tc_date_default date default current_date,\n\t\t\t\t\tc_date_default_2 date default (curdate()),\n\t\t\t\t\tc_blob blob,\n\t\t\t\t\tc_tinyblob tinyblob,\n\t\t\t\t\tc_mediumblob mediumblob,\n\t\t\t\t\tc_longblob longblob,\n\t\t\t\t\tc_text text charset ascii collate ascii_bin,\n\t\t\t\t\tc_tinytext tinytext charset ascii collate ascii_bin,\n\t\t\t\t\tc_mediumtext mediumtext charset ascii collate ascii_bin,\n\t\t\t\t\tc_longtext longtext charset ascii collate ascii_bin,\n\t\t\t\t\tc_json json,\n\t\t\t\t\tc_enum enum('1') charset ascii collate ascii_bin,\n\t\t\t\t\tc_set set('1') charset ascii collate ascii_bin\n\t\t\t\t);"] [user=]
[2024/05/15 17:19:00.265 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:105, Type:create table, State:queueing, SchemaState:none, SchemaID:2, TableID:104, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:00.264 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:19:00.265 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:105, Type:create table, State:queueing, SchemaState:none, SchemaID:2, TableID:104, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:00.264 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="create table test_full_column(\n\t\t\t\t\tc_int int,\n\t\t\t\t\tc_float float,\n\t\t\t\t\tc_bit bit,\n\t\t\t\t\tc_bool bool,\n\t\t\t\t\tc_char char(1) charset ascii collate ascii_bin,\n\t\t\t\t\tc_nchar national char(1) charset ascii collate ascii_bin,\n\t\t\t\t\tc_binary binary,\n\t\t\t\t\tc_varchar varchar(1) charset ascii collate ascii_bin,\n\t\t\t\t\tc_varchar_default varchar(20) charset ascii collate ascii_bin default 'cUrrent_tImestamp',\n\t\t\t\t\tc_nvarchar national varchar(1) charset ascii collate ascii_bin,\n\t\t\t\t\tc_varbinary varbinary(1),\n\t\t\t\t\tc_year year,\n\t\t\t\t\tc_date date,\n\t\t\t\t\tc_time time,\n\t\t\t\t\tc_datetime datetime,\n\t\t\t\t\tc_datetime_default datetime default current_timestamp,\n\t\t\t\t\tc_datetime_default_2 datetime(2) default current_timestamp(2),\n\t\t\t\t\tc_timestamp timestamp,\n\t\t\t\t\tc_timestamp_default timestamp default current_timestamp,\n\t\t\t\t\tc_timestamp_default_3 timestamp(3) default current_timestamp(3),\n\t\t\t\t\tc_timestamp_default_4 timestamp(3) default current_timestamp(3) on update current_timestamp(3),\n\t\t\t\t\tc_date_default date default current_date,\n\t\t\t\t\tc_date_default_2 date default (curdate()),\n\t\t\t\t\tc_blob blob,\n\t\t\t\t\tc_tinyblob tinyblob,\n\t\t\t\t\tc_mediumblob mediumblob,\n\t\t\t\t\tc_longblob longblob,\n\t\t\t\t\tc_text text charset ascii collate ascii_bin,\n\t\t\t\t\tc_tinytext tinytext charset ascii collate ascii_bin,\n\t\t\t\t\tc_mediumtext mediumtext charset ascii collate ascii_bin,\n\t\t\t\t\tc_longtext longtext charset ascii collate ascii_bin,\n\t\t\t\t\tc_json json,\n\t\t\t\t\tc_enum enum('1') charset ascii collate ascii_bin,\n\t\t\t\t\tc_set set('1') charset ascii collate ascii_bin\n\t\t\t\t);"]
[2024/05/15 17:19:00.275 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=105] [conn=1] [category=ddl] [job="ID:105, Type:create table, State:queueing, SchemaState:none, SchemaID:2, TableID:104, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:00.264 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:00.279 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=51] [neededSchemaVersion=52] ["start time"=709.167s] [gotSchemaVersion=52] [phyTblIDs="[104]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:19:00.280 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=105] [version=52]
[2024/05/15 17:19:00.281 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=52] ["take time"=2.979208ms] [job="ID:105, Type:create table, State:done, SchemaState:public, SchemaID:2, TableID:104, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:00.264 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:00.287 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=105] [conn=1] [job="ID:105, Type:create table, State:synced, SchemaState:public, SchemaID:2, TableID:104, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:00.264 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:00.290 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=105]
[2024/05/15 17:19:00.290 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:19:00.292 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=1] [schemaVersion=52] [cur_db=test] [sql="drop table if exists test_full_column"] [user=]
[2024/05/15 17:19:00.294 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:106, Type:drop table, State:queueing, SchemaState:public, SchemaID:2, TableID:104, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:00.293 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:19:00.294 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:106, Type:drop table, State:queueing, SchemaState:public, SchemaID:2, TableID:104, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:00.293 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="drop table if exists test_full_column"]
[2024/05/15 17:19:00.298 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=106] [conn=1] [category=ddl] [job="ID:106, Type:drop table, State:queueing, SchemaState:public, SchemaID:2, TableID:104, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:00.293 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:00.300 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=52] [neededSchemaVersion=53] ["start time"=77.625s] [gotSchemaVersion=53] [phyTblIDs="[104]"] [actionTypes="[4]"] [diffTypes="[\"drop table\"]"]
[2024/05/15 17:19:00.300 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=106] [version=53]
[2024/05/15 17:19:00.302 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=53] ["take time"=2.486ms] [job="ID:106, Type:drop table, State:running, SchemaState:write only, SchemaID:2, TableID:104, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:00.293 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:00.306 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=106] [conn=1] [category=ddl] [job="ID:106, Type:drop table, State:running, SchemaState:write only, SchemaID:2, TableID:104, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:00.293 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:00.308 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=53] [neededSchemaVersion=54] ["start time"=22.417s] [gotSchemaVersion=54] [phyTblIDs="[]"] [actionTypes="[]"] [diffTypes="[\"drop table\"]"]
[2024/05/15 17:19:00.309 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=106] [version=54]
[2024/05/15 17:19:00.310 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=54] ["take time"=2.1025ms] [job="ID:106, Type:drop table, State:running, SchemaState:delete only, SchemaID:2, TableID:104, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:00.293 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:00.315 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=106] [conn=1] [category=ddl] [job="ID:106, Type:drop table, State:running, SchemaState:delete only, SchemaID:2, TableID:104, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:00.293 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:00.317 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=54] [neededSchemaVersion=55] ["start time"=54.375s] [gotSchemaVersion=55] [phyTblIDs="[]"] [actionTypes="[]"] [diffTypes="[\"drop table\"]"]
[2024/05/15 17:19:00.318 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=106] [version=55]
[2024/05/15 17:19:00.319 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=55] ["take time"=2.004292ms] [job="ID:106, Type:drop table, State:done, SchemaState:none, SchemaID:2, TableID:104, RowCount:0, ArgLen:3, start time: 2024-05-15 17:19:00.293 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:00.323 +08:00] [INFO] [delete_range.go:447] ["insert into delete-range table"] [category=ddl] [jobID=106] [tableIDs="[104]"] [comment="drop table: table ID"]
[2024/05/15 17:19:00.323 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=0] ["to ID"=1] ["table ID"=28] ["database ID"=1]
[2024/05/15 17:19:00.323 +08:00] [INFO] [delete_range.go:112] ["add job into delete-range table"] [category=ddl] [jobID=106] [jobType="drop table"]
[2024/05/15 17:19:00.324 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=106] [conn=1] [job="ID:106, Type:drop table, State:synced, SchemaState:none, SchemaID:2, TableID:104, RowCount:0, ArgLen:3, start time: 2024-05-15 17:19:00.293 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:00.328 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=0] ["to ID"=1] ["table ID"=30] ["database ID"=1]
[2024/05/15 17:19:00.328 +08:00] [INFO] [delete_range.go:259] ["delRange emulator complete task"] [category=ddl] [category=ddl] [jobID=106] [elementID=1] [startKey=748000000000000068] [endKey=748000000000000069]
[2024/05/15 17:19:00.331 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=106]
[2024/05/15 17:19:00.331 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:19:00.331 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=1] [schemaVersion=55] [cur_db=test] [sql="drop table if exists t"] [user=]
[2024/05/15 17:19:00.331 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=1] [schemaVersion=55] [cur_db=test] [sql="create table if not exists t (c int) comment ''"] [user=]
[2024/05/15 17:19:00.333 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:108, Type:create table, State:queueing, SchemaState:none, SchemaID:2, TableID:107, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:00.332 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:19:00.333 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:108, Type:create table, State:queueing, SchemaState:none, SchemaID:2, TableID:107, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:00.332 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="create table if not exists t (c int) comment ''"]
[2024/05/15 17:19:00.337 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=108] [conn=1] [category=ddl] [job="ID:108, Type:create table, State:queueing, SchemaState:none, SchemaID:2, TableID:107, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:00.332 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:00.339 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=55] [neededSchemaVersion=56] ["start time"=111.042s] [gotSchemaVersion=56] [phyTblIDs="[107]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:19:00.340 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=108] [version=56]
[2024/05/15 17:19:00.341 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=56] ["take time"=2.106667ms] [job="ID:108, Type:create table, State:done, SchemaState:public, SchemaID:2, TableID:107, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:00.332 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:00.346 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=108] [conn=1] [job="ID:108, Type:create table, State:synced, SchemaState:public, SchemaID:2, TableID:107, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:00.332 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:00.348 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=108]
[2024/05/15 17:19:00.348 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:19:00.350 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:110, Type:create view, State:queueing, SchemaState:none, SchemaID:2, TableID:109, RowCount:0, ArgLen:3, start time: 2024-05-15 17:19:00.349 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:19:00.350 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:110, Type:create view, State:queueing, SchemaState:none, SchemaID:2, TableID:109, RowCount:0, ArgLen:3, start time: 2024-05-15 17:19:00.349 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="create or replace definer='root'@'localhost' view v as select * from t"]
[2024/05/15 17:19:00.354 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=110] [conn=1] [category=ddl] [job="ID:110, Type:create view, State:queueing, SchemaState:none, SchemaID:2, TableID:109, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:00.349 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:00.355 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=56] [neededSchemaVersion=57] ["start time"=104.75s] [gotSchemaVersion=57] [phyTblIDs="[109]"] [actionTypes="[21]"] [diffTypes="[\"create view\"]"]
[2024/05/15 17:19:00.356 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=110] [version=57]
[2024/05/15 17:19:00.357 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=57] ["take time"=2.432125ms] [job="ID:110, Type:create view, State:done, SchemaState:public, SchemaID:2, TableID:109, RowCount:0, ArgLen:3, start time: 2024-05-15 17:19:00.349 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:00.361 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=110] [conn=1] [job="ID:110, Type:create view, State:synced, SchemaState:public, SchemaID:2, TableID:109, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:00.349 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:00.363 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=110]
[2024/05/15 17:19:00.363 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:19:00.364 +08:00] [WARN] [infoschema_v3.go:59] ["table not equal"] [tbl1="{\"id\":109,\"name\":{\"O\":\"v\",\"L\":\"v\"},\"charset\":\"utf8mb4\",\"collate\":\"utf8mb4_bin\",\"cols\":[{\"id\":1,\"name\":{\"O\":\"c\",\"L\":\"c\"},\"offset\":0,\"origin_default\":null,\"origin_default_bit\":null,\"default\":null,\"default_bit\":null,\"default_is_expr\":false,\"generated_expr_string\":\"\",\"generated_stored\":false,\"dependences\":null,\"type\":{\"Tp\":0,\"Flag\":0,\"Flen\":0,\"Decimal\":0,\"Charset\":\"\",\"Collate\":\"\",\"Elems\":null,\"ElemsIsBinaryLit\":null,\"Array\":false},\"state\":5,\"comment\":\"\",\"hidden\":false,\"change_state_info\":null,\"version\":0}],\"index_info\":null,\"constraint_info\":null,\"fk_info\":null,\"state\":5,\"pk_is_handle\":false,\"is_common_handle\":false,\"common_handle_version\":0,\"comment\":\"\",\"auto_inc_id\":0,\"auto_id_cache\":0,\"auto_rand_id\":0,\"max_col_id\":1,\"max_idx_id\":0,\"max_fk_id\":0,\"max_cst_id\":0,\"update_timestamp\":449777432095358977,\"ShardRowIDBits\":0,\"max_shard_row_id_bits\":0,\"auto_random_bits\":0,\"auto_random_range_bits\":0,\"pre_split_regions\":0,\"partition\":null,\"compression\":\"\",\"view\":{\"view_algorithm\":0,\"view_definer\":{\"Username\":\"root\",\"Hostname\":\"localhost\",\"CurrentUser\":false,\"AuthUsername\":\"\",\"AuthHostname\":\"\",\"AuthPlugin\":\"\"},\"view_security\":0,\"view_select\":\"SELECT `test`.`t`.`c` AS `c` FROM `test`.`t`\",\"view_checkoption\":1,\"view_cols\":null},\"sequence\":null,\"Lock\":null,\"version\":5,\"tiflash_replica\":null,\"is_columnar\":false,\"temp_table_type\":0,\"cache_table_status\":0,\"policy_ref_info\":null,\"stats_options\":null,\"exchange_partition_info\":null,\"ttl_info\":null,\"revision\":0}"] [tbl2="{\"id\":109,\"name\":{\"O\":\"v\",\"L\":\"v\"},\"charset\":\"utf8mb4\",\"collate\":\"utf8mb4_bin\",\"cols\":[{\"id\":1,\"name\":{\"O\":\"c\",\"L\":\"c\"},\"offset\":0,\"origin_default\":null,\"origin_default_bit\":null,\"default\":null,\"default_bit\":null,\"default_is_expr\":false,\"generated_expr_string\":\"\",\"generated_stored\":false,\"dependences\":null,\"type\":{\"Tp\":3,\"Flag\":0,\"Flen\":11,\"Decimal\":0,\"Charset\":\"binary\",\"Collate\":\"binary\",\"Elems\":null,\"ElemsIsBinaryLit\":null,\"Array\":false},\"state\":5,\"comment\":\"\",\"hidden\":false,\"change_state_info\":null,\"version\":0}],\"index_info\":null,\"constraint_info\":null,\"fk_info\":null,\"state\":5,\"pk_is_handle\":false,\"is_common_handle\":false,\"common_handle_version\":0,\"comment\":\"\",\"auto_inc_id\":0,\"auto_id_cache\":0,\"auto_rand_id\":0,\"max_col_id\":1,\"max_idx_id\":0,\"max_fk_id\":0,\"max_cst_id\":0,\"update_timestamp\":449777432095358977,\"ShardRowIDBits\":0,\"max_shard_row_id_bits\":0,\"auto_random_bits\":0,\"auto_random_range_bits\":0,\"pre_split_regions\":0,\"partition\":null,\"compression\":\"\",\"view\":{\"view_algorithm\":0,\"view_definer\":{\"Username\":\"root\",\"Hostname\":\"localhost\",\"CurrentUser\":false,\"AuthUsername\":\"\",\"AuthHostname\":\"\",\"AuthPlugin\":\"\"},\"view_security\":0,\"view_select\":\"SELECT `test`.`t`.`c` AS `c` FROM `test`.`t`\",\"view_checkoption\":1,\"view_cols\":null},\"sequence\":null,\"Lock\":null,\"version\":5,\"tiflash_replica\":null,\"is_columnar\":false,\"temp_table_type\":0,\"cache_table_status\":0,\"policy_ref_info\":null,\"stats_options\":null,\"exchange_partition_info\":null,\"ttl_info\":null,\"revision\":0}"]
[2024/05/15 17:19:00.364 +08:00] [INFO] [mock.go:106] ["owner manager is canceled"] [category=ddl] [ID=d9d0010e-257a-4048-8b51-1d2efeff7673] [ownerKey=/tidb/ddl/fg/owner]
[2024/05/15 17:19:00.364 +08:00] [INFO] [ddl_workerpool.go:82] ["closing workerPool"] [category=ddl]
[2024/05/15 17:19:00.364 +08:00] [INFO] [ddl_worker.go:186] ["DDL worker closed"] [worker="worker 4, tp add index"] [category=ddl] ["take time"=1.125s]
[2024/05/15 17:19:00.364 +08:00] [INFO] [ddl_workerpool.go:82] ["closing workerPool"] [category=ddl]
[2024/05/15 17:19:00.364 +08:00] [INFO] [ddl_worker.go:186] ["DDL worker closed"] [worker="worker 3, tp general"] [category=ddl] ["take time"=500ns]
[2024/05/15 17:19:00.364 +08:00] [INFO] [ddl_workerpool.go:82] ["closing workerPool"] [category=ddl]
[2024/05/15 17:19:00.364 +08:00] [INFO] [delete_range.go:162] ["closing delRange"] [category=ddl]
[2024/05/15 17:19:00.364 +08:00] [INFO] [session_pool.go:99] ["closing session pool"] [category=ddl]
[2024/05/15 17:19:00.364 +08:00] [INFO] [ddl.go:951] ["DDL closed"] [category=ddl] [ID=d9d0010e-257a-4048-8b51-1d2efeff7673] ["take time"=285.959s]
[2024/05/15 17:19:00.364 +08:00] [INFO] [ddl.go:769] ["stop DDL"] [category=ddl] [ID=d9d0010e-257a-4048-8b51-1d2efeff7673]
[2024/05/15 17:19:00.364 +08:00] [INFO] [domain.go:1034] ["stopping ttlJobManager"]
[2024/05/15 17:19:00.364 +08:00] [INFO] [task_manager.go:194] ["shrink ttl worker"] [ttl-worker=job-manager] [ttl-worker=task-manager] [originalCount=4] [newCount=0]
[2024/05/15 17:19:00.364 +08:00] [INFO] [scan.go:309] ["ttlScanWorker loop exited."]
[2024/05/15 17:19:00.364 +08:00] [INFO] [scan.go:309] ["ttlScanWorker loop exited."]
[2024/05/15 17:19:00.364 +08:00] [INFO] [scan.go:309] ["ttlScanWorker loop exited."]
[2024/05/15 17:19:00.364 +08:00] [INFO] [scan.go:309] ["ttlScanWorker loop exited."]
[2024/05/15 17:19:00.364 +08:00] [INFO] [task_manager.go:194] ["shrink ttl worker"] [ttl-worker=job-manager] [ttl-worker=task-manager] [originalCount=4] [newCount=0]
[2024/05/15 17:19:00.364 +08:00] [INFO] [del.go:261] ["ttlDeleteWorker loop exited."]
[2024/05/15 17:19:00.364 +08:00] [INFO] [del.go:261] ["ttlDeleteWorker loop exited."]
[2024/05/15 17:19:00.364 +08:00] [INFO] [del.go:261] ["ttlDeleteWorker loop exited."]
[2024/05/15 17:19:00.364 +08:00] [INFO] [del.go:261] ["ttlDeleteWorker loop exited."]
[2024/05/15 17:19:00.365 +08:00] [INFO] [job_manager.go:174] ["ttlJobManager loop exited."] [ttl-worker=job-manager]
[2024/05/15 17:19:00.365 +08:00] [INFO] [domain.go:1045] ["ttlJobManager exited."]
[2024/05/15 17:19:00.365 +08:00] [INFO] [manager.go:280] ["recoverMetaLoop done"] [server-id=:4000]
[2024/05/15 17:19:00.365 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=mdlCheckLoop]
[2024/05/15 17:19:00.365 +08:00] [INFO] [domain.go:915] ["loadSchemaInLoop exited."]
[2024/05/15 17:19:00.365 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=loadSchemaInLoop]
[2024/05/15 17:19:00.365 +08:00] [INFO] [domain.go:1535] ["stopping dist task executor manager"]
[2024/05/15 17:19:00.365 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=loadSigningCertLoop]
[2024/05/15 17:19:00.365 +08:00] [INFO] [stats_syncload.go:216] ["SubLoadWorker exited."]
[2024/05/15 17:19:00.365 +08:00] [INFO] [stats_syncload.go:216] ["SubLoadWorker exited."]
[2024/05/15 17:19:00.365 +08:00] [INFO] [stats_syncload.go:216] ["SubLoadWorker exited."]
[2024/05/15 17:19:00.365 +08:00] [INFO] [stats_syncload.go:216] ["SubLoadWorker exited."]
[2024/05/15 17:19:00.365 +08:00] [INFO] [stats_syncload.go:216] ["SubLoadWorker exited."]
[2024/05/15 17:19:00.365 +08:00] [INFO] [mock.go:106] ["owner manager is canceled"] [category=ddl] [ID=d9d0010e-257a-4048-8b51-1d2efeff7673] [ownerKey=/tidb/stats/owner]
[2024/05/15 17:19:00.365 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=quitStatsOwner]
[2024/05/15 17:19:00.365 +08:00] [INFO] [domain.go:2361] ["indexUsageWorker exited."]
[2024/05/15 17:19:00.365 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=indexUsageWorker]
[2024/05/15 17:19:00.365 +08:00] [INFO] [domain.go:2082] ["dumpFileGcChecker exited."]
[2024/05/15 17:19:00.365 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=dumpFileGcChecker]
[2024/05/15 17:19:00.365 +08:00] [INFO] [domain.go:1758] ["LoadSysVarCacheLoop exited."]
[2024/05/15 17:19:00.366 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=LoadSysVarCacheLoop]
[2024/05/15 17:19:00.366 +08:00] [INFO] [domain.go:1708] ["loadPrivilegeInLoop exited."]
[2024/05/15 17:19:00.366 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=loadPrivilegeInLoop]
[2024/05/15 17:19:00.366 +08:00] [INFO] [mock.go:106] ["owner manager is canceled"] [category=ddl] [ID=d9d0010e-257a-4048-8b51-1d2efeff7673] [ownerKey=/tidb/bindinfo/owner]
[2024/05/15 17:19:00.366 +08:00] [INFO] [domain.go:1897] ["globalBindHandleWorkerLoop exited."]
[2024/05/15 17:19:00.366 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=globalBindHandleWorkerLoop]
[2024/05/15 17:19:00.366 +08:00] [INFO] [domain.go:769] ["topologySyncerKeeper exited."]
[2024/05/15 17:19:00.366 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=topologySyncerKeeper]
[2024/05/15 17:19:00.366 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=runawayStartLoop]
[2024/05/15 17:19:00.366 +08:00] [INFO] [domain.go:745] ["globalConfigSyncerKeeper exited."]
[2024/05/15 17:19:00.366 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=globalConfigSyncerKeeper]
[2024/05/15 17:19:00.366 +08:00] [INFO] [domain.go:719] ["infoSyncerKeeper exited."]
[2024/05/15 17:19:00.366 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=infoSyncerKeeper]
[2024/05/15 17:19:00.366 +08:00] [INFO] [domain.go:691] ["topNSlowQueryLoop exited."]
[2024/05/15 17:19:00.366 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=topNSlowQueryLoop]
[2024/05/15 17:19:00.366 +08:00] [INFO] [domain.go:1369] ["closestReplicaReadCheckLoop exited."]
[2024/05/15 17:19:00.366 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=closestReplicaReadCheckLoop]
[2024/05/15 17:19:00.366 +08:00] [INFO] [manager.go:179] ["handle tasks loop done"] [server-id=:4000]
[2024/05/15 17:19:00.366 +08:00] [INFO] [domain.go:1537] ["dist task executor manager stopped"]
[2024/05/15 17:19:00.366 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=distTaskFrameworkLoop]
[2024/05/15 17:19:00.366 +08:00] [INFO] [domain.go:1082] ["domain closed"] ["take time"=1.77875ms]
[2024/05/15 17:19:00.371 +08:00] [INFO] [db.go:567] ["Closing database"]
[2024/05/15 17:19:00.371 +08:00] [INFO] [db.go:592] ["Memtable flushed"]
[2024/05/15 17:19:00.371 +08:00] [INFO] [db.go:596] ["Compaction finished"]
[2024/05/15 17:19:00.371 +08:00] [INFO] [db.go:615] ["BlobManager finished"]
[2024/05/15 17:19:00.371 +08:00] [INFO] [db.go:619] ["ResourceManager finished"]
[2024/05/15 17:19:00.371 +08:00] [INFO] [db.go:625] ["Waiting for closer"]
--- FAIL: TestShow2 (1.40s)
panic: inconsistent infoschema [recovered]
	panic: inconsistent infoschema [recovered]
	panic: inconsistent infoschema

goroutine 68 [running]:
testing.tRunner.func1.2({0x108c7bb00, 0x10955def0})
	/Users/bba/.gvm/gos/go1.21.0/src/testing/testing.go:1545 +0x1c8
testing.tRunner.func1()
	/Users/bba/.gvm/gos/go1.21.0/src/testing/testing.go:1548 +0x360
panic({0x108c7bb00?, 0x10955def0?})
	/Users/bba/.gvm/gos/go1.21.0/src/runtime/panic.go:914 +0x218
github.com/pingcap/tidb/pkg/executor.(*Compiler).Compile.func1()
	/Users/bba/pc/tidb/pkg/executor/compiler.go:57 +0x360
panic({0x108c7bb00?, 0x10955def0?})
	/Users/bba/.gvm/gos/go1.21.0/src/runtime/panic.go:914 +0x218
github.com/pingcap/tidb/pkg/infoschema.(*infoschemaV3).TableByName(0x1400607c9e0, {{0x107fe17d0?, 0x1400a75aef8?}, {0x107fe17d0?, 0x1400a75afb8?}}, {{0x107fe85b2?, 0x1400a75aef8?}, {0x107fe85b2?, 0x1067e4980?}})
	/Users/bba/pc/tidb/pkg/infoschema/infoschema_v3.go:216 +0x128
github.com/pingcap/tidb/pkg/infoschema.(*SessionExtendedInfoSchema).TableByName(0x140082615c0, {{0x107fe17d0?, 0x800000008bc73d48?}, {0x107fe17d0?, 0x1400a75b018?}}, {{0x107fe85b2?, 0x1400a75aff8?}, {0x107fe85b2?, 0x1400a75b088?}})
	/Users/bba/pc/tidb/pkg/infoschema/infoschema.go:696 +0x138
github.com/pingcap/tidb/pkg/planner/core.(*preprocessor).tableByName(0x14004a42af0, 0x14004a26c30)
	/Users/bba/pc/tidb/pkg/planner/core/preprocess.go:495 +0x150
github.com/pingcap/tidb/pkg/planner/core.(*preprocessor).handleTableName(0x14004a42af0, 0x14004a26c30)
	/Users/bba/pc/tidb/pkg/planner/core/preprocess.go:1574 +0x120
github.com/pingcap/tidb/pkg/planner/core.(*preprocessor).Leave(0x14004a42af0, {0x1095ac6d0?, 0x14004a26c30?})
	/Users/bba/pc/tidb/pkg/planner/core/preprocess.go:596 +0x1a0
github.com/pingcap/tidb/pkg/parser/ast.(*TableName).Accept(0x14004a42af0?, {0x109582318, 0x14004a42af0})
	/Users/bba/pc/tidb/pkg/parser/ast/dml.go:452 +0x12c
github.com/pingcap/tidb/pkg/parser/ast.(*ShowStmt).Accept(0x14004a42af0?, {0x109582318, 0x14004a42af0})
	/Users/bba/pc/tidb/pkg/parser/ast/dml.go:3453 +0x68
github.com/pingcap/tidb/pkg/parser/ast.(*ExplainStmt).Accept(0x1095a0b60?, {0x109582318, 0x14004a42af0})
	/Users/bba/pc/tidb/pkg/parser/ast/misc.go:257 +0x6c
github.com/pingcap/tidb/pkg/planner/core.Preprocess({0x1095a0b60, 0x10c5f2260}, {0x109617470, 0x1400588a6c0}, {0x1095acad0, 0x14004a42a80}, {0x1400a75b518, 0x2, 0x1400a75b428?})
	/Users/bba/pc/tidb/pkg/planner/core/preprocess.go:138 +0x19c
github.com/pingcap/tidb/pkg/executor.(*Compiler).Compile(0x1400a75b7f0, {0x1095a0b60?, 0x10c5f2260?}, {0x1095b6ab0?, 0x14004a42a80})
	/Users/bba/pc/tidb/pkg/executor/compiler.go:67 +0x1d8
github.com/pingcap/tidb/pkg/session.(*session).ExecuteStmt(0x1400588a6c0, {0x1095a0b60?, 0x10c5f2260?}, {0x1095b6ab0, 0x14004a42a80?})
	/Users/bba/pc/tidb/pkg/session/session.go:2094 +0x70c
github.com/pingcap/tidb/pkg/testkit.(*TestKit).ExecWithContext(0x140090e1400, {0x1095a0b60, 0x10c5f2260}, {0x107fe85a9, 0xa}, {0x0, 0x0, 0x0})
	/Users/bba/pc/tidb/pkg/testkit/testkit.go:384 +0x714
github.com/pingcap/tidb/pkg/testkit.(*TestKit).MustQueryWithContext(0x140090e1400, {0x1095a0b60, 0x10c5f2260}, {0x107fe85a9, 0xa}, {0x0, 0x0, 0x0})
	/Users/bba/pc/tidb/pkg/testkit/testkit.go:195 +0xc8
github.com/pingcap/tidb/pkg/testkit.(*TestKit).MustQuery(0x14004a34fc0?, {0x107fe85a9?, 0x1?}, {0x0?, 0x0?, 0x0?})
	/Users/bba/pc/tidb/pkg/testkit/testkit.go:173 +0x78
github.com/pingcap/tidb/pkg/executor/test/showtest.TestShow2(0x140004fd798?)
	/Users/bba/pc/tidb/pkg/executor/test/showtest/show_test.go:526 +0x458
testing.tRunner(0x14000e07380, 0x109552600)
	/Users/bba/.gvm/gos/go1.21.0/src/testing/testing.go:1595 +0xe8
created by testing.(*T).Run in goroutine 1
	/Users/bba/.gvm/gos/go1.21.0/src/testing/testing.go:1648 +0x33c
[FAIL]  pkg/infoschema/test/clustertablestest TestSelectHiddenColumn
err=exit status 1
[2024/05/15 17:19:10.104 +08:00] [INFO] [store_cache.go:510] ["change store resolve state"] [store=1] [addr=store1] [from=unresolved] [to=resolved] [liveness-state=reachable]
[2024/05/15 17:19:10.105 +08:00] [INFO] [ddl_api.go:1139] ["Automatically convert BLOB(65535) to MEDIUMBLOB"] [category=ddl]
[2024/05/15 17:19:10.105 +08:00] [INFO] [ddl_api.go:1139] ["Automatically convert BLOB(65535) to MEDIUMBLOB"] [category=ddl]
[2024/05/15 17:19:10.105 +08:00] [INFO] [ddl_api.go:1139] ["Automatically convert BLOB(65535) to MEDIUMBLOB"] [category=ddl]
[2024/05/15 17:19:10.105 +08:00] [INFO] [ddl_api.go:1139] ["Automatically convert BLOB(65535) to MEDIUMBLOB"] [category=ddl]
[2024/05/15 17:19:10.105 +08:00] [INFO] [ddl_api.go:1139] ["Automatically convert BLOB(65535) to MEDIUMBLOB"] [category=ddl]
[2024/05/15 17:19:10.106 +08:00] [INFO] [tidb.go:80] ["new domain"] [store=7852b266-3938-4798-b4d6-83d676d6e638] ["ddl lease"=500ms] ["stats lease"=-1ns]
[2024/05/15 17:19:10.110 +08:00] [WARN] [controller.go:198] ["[resource group controller] server does not save config, load config failed"]
[2024/05/15 17:19:10.110 +08:00] [INFO] [controller.go:185] ["load resource controller config"] [config="{\"degraded-mode-wait-duration\":\"0s\",\"ltb-max-wait-duration\":\"30s\",\"wait-retry-interval\":\"50ms\",\"wait-retry-times\":10,\"request-unit\":{\"read-base-cost\":0.125,\"read-per-batch-base-cost\":0.5,\"read-cost-per-byte\":0.0000152587890625,\"write-base-cost\":1,\"write-per-batch-base-cost\":1,\"write-cost-per-byte\":0.0009765625,\"read-cpu-ms-cost\":0.3333333333333333},\"enable-controller-trace-log\":\"false\"}"] [ru-config="{\"ReadBaseCost\":0.125,\"ReadPerBatchBaseCost\":0.5,\"ReadBytesCost\":0.0000152587890625,\"WriteBaseCost\":1,\"WritePerBatchBaseCost\":1,\"WriteBytesCost\":0.0009765625,\"CPUMsCost\":0.3333333333333333,\"LTBMaxWaitDuration\":30000000000,\"WaitRetryInterval\":50000000,\"WaitRetryTimes\":10,\"DegradedModeWaitDuration\":0}"]
[2024/05/15 17:19:10.110 +08:00] [WARN] [domain.go:244] ["failed to get schema version"] [error="There is no Write MVCC info for the schema version"] [errorVerbose="There is no Write MVCC info for the schema version\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).getTimestampForSchemaVersionWithNonEmptyDiff\n\t/Users/bba/pc/tidb/pkg/domain/domain.go:343\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).loadInfoSchema\n\t/Users/bba/pc/tidb/pkg/domain/domain.go:242\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).Reload\n\t/Users/bba/pc/tidb/pkg/domain/domain.go:614\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).Init\n\t/Users/bba/pc/tidb/pkg/domain/domain.go:1268\ngithub.com/pingcap/tidb/pkg/session.(*domainMap).Get.func1\n\t/Users/bba/pc/tidb/pkg/session/tidb.go:92\ngithub.com/pingcap/tidb/pkg/util.RunWithRetry\n\t/Users/bba/pc/tidb/pkg/util/misc.go:70\ngithub.com/pingcap/tidb/pkg/session.(*domainMap).Get\n\t/Users/bba/pc/tidb/pkg/session/tidb.go:79\ngithub.com/pingcap/tidb/pkg/session.createSessionWithOpt\n\t/Users/bba/pc/tidb/pkg/session/session.go:3633\ngithub.com/pingcap/tidb/pkg/session.createSession\n\t/Users/bba/pc/tidb/pkg/session/session.go:3625\ngithub.com/pingcap/tidb/pkg/session.runInBootstrapSession\n\t/Users/bba/pc/tidb/pkg/session/session.go:3575\ngithub.com/pingcap/tidb/pkg/session.bootstrapSessionImpl\n\t/Users/bba/pc/tidb/pkg/session/session.go:3351\ngithub.com/pingcap/tidb/pkg/session.BootstrapSession\n\t/Users/bba/pc/tidb/pkg/session/session.go:3317\ngithub.com/pingcap/tidb/pkg/testkit.bootstrap\n\t/Users/bba/pc/tidb/pkg/testkit/mockstore.go:294\ngithub.com/pingcap/tidb/pkg/testkit.CreateMockStoreAndDomain\n\t/Users/bba/pc/tidb/pkg/testkit/mockstore.go:265\ngithub.com/pingcap/tidb/pkg/infoschema/test/clustertablestest.TestSelectHiddenColumn\n\t/Users/bba/pc/tidb/pkg/infoschema/test/clustertablestest/tables_test.go:639\ntesting.tRunner\n\t/Users/bba/.gvm/gos/go1.21.0/src/testing/testing.go:1595\nruntime.goexit\n\t/Users/bba/.gvm/gos/go1.21.0/src/runtime/asm_arm64.s:1197"] [version=0]
[2024/05/15 17:19:10.117 +08:00] [INFO] [domain.go:323] ["full load InfoSchema success"] [currentSchemaVersion=0] [neededSchemaVersion=0] ["start time"=7.611875ms]
[2024/05/15 17:19:10.118 +08:00] [INFO] [domain.go:643] ["full load and reset schema validator"]
[2024/05/15 17:19:10.118 +08:00] [INFO] [ddl.go:818] ["start DDL"] [category=ddl] [ID=ec7116c0-21f1-4bc6-9a15-27330431fe65] [runWorker=true]
[2024/05/15 17:19:10.118 +08:00] [INFO] [ddl.go:777] ["start delRangeManager OK"] [category=ddl] ["is a emulator"=true]
[2024/05/15 17:19:10.118 +08:00] [WARN] [env.go:51] ["initialize environment failed"] [category=ddl-ingest] ["storage limitation"="only support TiKV storage"] ["current storage"=unistore] ["lightning is initialized"=false]
[2024/05/15 17:19:10.118 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=loadSchemaInLoop]
[2024/05/15 17:19:10.118 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=mdlCheckLoop]
[2024/05/15 17:19:10.118 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=topNSlowQueryLoop]
[2024/05/15 17:19:10.118 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=infoSyncerKeeper]
[2024/05/15 17:19:10.118 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=globalConfigSyncerKeeper]
[2024/05/15 17:19:10.118 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=runawayStartLoop]
[2024/05/15 17:19:10.118 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=requestUnitsWriterLoop]
[2024/05/15 17:19:10.118 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=topologySyncerKeeper]
[2024/05/15 17:19:10.118 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=closestReplicaReadCheckLoop]
[2024/05/15 17:19:10.118 +08:00] [WARN] [domain.go:1334] ["pd / etcd client not provided, won't begin Advancer."]
[2024/05/15 17:19:10.119 +08:00] [INFO] [delete_range.go:172] ["start delRange emulator"] [category=ddl]
[2024/05/15 17:19:10.119 +08:00] [INFO] [job_table.go:334] ["get global state and global state change"] [category=ddl] [oldState=false] [currState=false]
[2024/05/15 17:19:10.119 +08:00] [INFO] [runaway.go:149] ["try to start runaway manager loop"]
[2024/05/15 17:19:10.119 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=requestUnitsWriterLoop]
[2024/05/15 17:19:10.169 +08:00] [INFO] [job_table.go:334] ["get global state and global state change"] [category=ddl] [oldState=false] [currState=false]
[2024/05/15 17:19:10.169 +08:00] [INFO] [job_table.go:349] ["the owner sets owner operator value"] [category=ddl] [ownerOp=none]
[2024/05/15 17:19:10.320 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=0] [cur_db=mysql] [sql="CREATE DATABASE IF NOT EXISTS test"] [user=]
[2024/05/15 17:19:10.326 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:3, Type:create schema, State:queueing, SchemaState:none, SchemaID:2, TableID:0, RowCount:0, ArgLen:1, start time: 2024-05-15 17:19:10.322 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:19:10.326 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:3, Type:create schema, State:queueing, SchemaState:none, SchemaID:2, TableID:0, RowCount:0, ArgLen:1, start time: 2024-05-15 17:19:10.322 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE DATABASE IF NOT EXISTS test"]
[2024/05/15 17:19:10.334 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=3] [category=ddl] [job="ID:3, Type:create schema, State:queueing, SchemaState:none, SchemaID:2, TableID:0, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:10.322 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:10.344 +08:00] [INFO] [domain.go:323] ["full load InfoSchema success"] [currentSchemaVersion=0] [neededSchemaVersion=1] ["start time"=9.505375ms]
[2024/05/15 17:19:10.345 +08:00] [INFO] [domain.go:643] ["full load and reset schema validator"]
[2024/05/15 17:19:10.348 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:19:10.348 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=3] [version=1]
[2024/05/15 17:19:10.349 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=1] ["take time"=14.018459ms] [job="ID:3, Type:create schema, State:done, SchemaState:public, SchemaID:2, TableID:0, RowCount:0, ArgLen:1, start time: 2024-05-15 17:19:10.322 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:10.356 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=3] [job="ID:3, Type:create schema, State:synced, SchemaState:public, SchemaID:2, TableID:0, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:10.322 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:10.360 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=3]
[2024/05/15 17:19:10.360 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:19:10.360 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=1] [cur_db=mysql] [sql="CREATE DATABASE IF NOT EXISTS `mysql`"] [user=]
[2024/05/15 17:19:10.360 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=1] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.user (\n\t\tHost\t\t\t\t\tCHAR(255),\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tauthentication_string\tTEXT,\n\t\tplugin\t\t\t\t\tCHAR(64),\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tProcess_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_db_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tSuper_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_user_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_slave_priv\t    \tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_client_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_role_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_role_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAccount_locked\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShutdown_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReload_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tFILE_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tConfig_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_Tablespace_Priv  ENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPassword_reuse_history  smallint unsigned DEFAULT NULL,\n\t\tPassword_reuse_time     smallint unsigned DEFAULT NULL,\n\t\tUser_attributes\t\t\tjson,\n\t\tToken_issuer\t\t\tVARCHAR(255),\n\t\tPassword_expired\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPassword_last_changed\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP(),\n\t\tPassword_lifetime\t\tSMALLINT UNSIGNED DEFAULT NULL,\n\t\tPRIMARY KEY (Host, User));"] [user=]
[2024/05/15 17:19:10.365 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:5, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:4, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:10.362 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:19:10.365 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:5, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:4, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:10.362 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.user (\n\t\tHost\t\t\t\t\tCHAR(255),\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tauthentication_string\tTEXT,\n\t\tplugin\t\t\t\t\tCHAR(64),\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tProcess_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_db_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tSuper_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_user_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_slave_priv\t    \tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_client_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_role_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_role_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAccount_locked\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShutdown_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReload_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tFILE_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tConfig_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_Tablespace_Priv  ENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPassword_reuse_history  smallint unsigned DEFAULT NULL,\n\t\tPassword_reuse_time     smallint unsigned DEFAULT NULL,\n\t\tUser_attributes\t\t\tjson,\n\t\tToken_issuer\t\t\tVARCHAR(255),\n\t\tPassword_expired\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPassword_last_changed\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP(),\n\t\tPassword_lifetime\t\tSMALLINT UNSIGNED DEFAULT NULL,\n\t\tPRIMARY KEY (Host, User));"]
[2024/05/15 17:19:10.368 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=5] [category=ddl] [job="ID:5, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:4, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:10.362 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:10.381 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=1] [neededSchemaVersion=2] ["start time"=1.274666ms] [gotSchemaVersion=2] [phyTblIDs="[4]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:19:10.383 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:19:10.383 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=5] [version=2]
[2024/05/15 17:19:10.386 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=2] ["take time"=10.292417ms] [job="ID:5, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:4, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:10.362 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:10.394 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=5] [job="ID:5, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:4, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:10.362 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:10.399 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=5]
[2024/05/15 17:19:10.399 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:19:10.400 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=2] [cur_db=mysql] [sql="CREATE TABLE  IF NOT EXISTS mysql.password_history (\n         Host char(255)  NOT NULL DEFAULT '',\n         User char(32)  NOT NULL DEFAULT '',\n         Password_timestamp timestamp(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6),\n         Password text,\n         PRIMARY KEY (Host,User,Password_timestamp )\n        ) COMMENT='Password history for user accounts' "] [user=]
[2024/05/15 17:19:10.402 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:7, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:6, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:10.401 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:19:10.402 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:7, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:6, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:10.401 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE  IF NOT EXISTS mysql.password_history (\n         Host char(255)  NOT NULL DEFAULT '',\n         User char(32)  NOT NULL DEFAULT '',\n         Password_timestamp timestamp(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6),\n         Password text,\n         PRIMARY KEY (Host,User,Password_timestamp )\n        ) COMMENT='Password history for user accounts' "]
[2024/05/15 17:19:10.406 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=7] [category=ddl] [job="ID:7, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:6, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:10.401 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:10.407 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=2] [neededSchemaVersion=3] ["start time"=216.542s] [gotSchemaVersion=3] [phyTblIDs="[6]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:19:10.408 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:19:10.408 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=7] [version=3]
[2024/05/15 17:19:10.409 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=3] ["take time"=2.125584ms] [job="ID:7, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:6, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:10.401 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:10.414 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=7] [job="ID:7, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:6, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:10.401 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:10.415 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=7]
[2024/05/15 17:19:10.415 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:19:10.415 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=3] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.global_priv (Host CHAR(255) NOT NULL DEFAULT '',User CHAR(80) NOT NULL DEFAULT '',Priv LONGTEXT NOT NULL DEFAULT '',PRIMARY KEY (Host, User))"] [user=]
[2024/05/15 17:19:10.417 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:9, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:8, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:10.416 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:19:10.417 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:9, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:8, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:10.416 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.global_priv (Host CHAR(255) NOT NULL DEFAULT '',User CHAR(80) NOT NULL DEFAULT '',Priv LONGTEXT NOT NULL DEFAULT '',PRIMARY KEY (Host, User))"]
[2024/05/15 17:19:10.420 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=9] [category=ddl] [job="ID:9, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:8, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:10.416 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:10.422 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=3] [neededSchemaVersion=4] ["start time"=171.917s] [gotSchemaVersion=4] [phyTblIDs="[8]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:19:10.422 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:19:10.422 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=9] [version=4]
[2024/05/15 17:19:10.424 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=4] ["take time"=2.00525ms] [job="ID:9, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:8, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:10.416 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:10.427 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=9] [job="ID:9, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:8, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:10.416 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:10.429 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=9]
[2024/05/15 17:19:10.429 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:19:10.429 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=4] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.db (\n\t\tHost\t\t\t\t\tCHAR(255),\n\t\tDB\t\t\t\t\t\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv \t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (Host, DB, User));"] [user=]
[2024/05/15 17:19:10.431 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:11, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:10, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:10.43 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:19:10.431 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:11, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:10, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:10.43 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.db (\n\t\tHost\t\t\t\t\tCHAR(255),\n\t\tDB\t\t\t\t\t\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv \t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (Host, DB, User));"]
[2024/05/15 17:19:10.434 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=11] [category=ddl] [job="ID:11, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:10, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:10.43 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:10.437 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=4] [neededSchemaVersion=5] ["start time"=502.583s] [gotSchemaVersion=5] [phyTblIDs="[10]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:19:10.438 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:19:10.438 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=11] [version=5]
[2024/05/15 17:19:10.439 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=5] ["take time"=2.357667ms] [job="ID:11, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:10, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:10.43 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:10.443 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=11] [job="ID:11, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:10, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:10.43 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:10.446 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=11]
[2024/05/15 17:19:10.446 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:19:10.446 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=5] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tables_priv (\n\t\tHost\t\tCHAR(255),\n\t\tDB\t\t\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tGrantor\t\tCHAR(77),\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tTable_priv\tSET('Select','Insert','Update','Delete','Create','Drop','Grant','Index','Alter','Create View','Show View','Trigger','References'),\n\t\tColumn_priv\tSET('Select','Insert','Update','References'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name));"] [user=]
[2024/05/15 17:19:10.447 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:13, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:12, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:10.446 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:19:10.447 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:13, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:12, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:10.446 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tables_priv (\n\t\tHost\t\tCHAR(255),\n\t\tDB\t\t\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tGrantor\t\tCHAR(77),\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tTable_priv\tSET('Select','Insert','Update','Delete','Create','Drop','Grant','Index','Alter','Create View','Show View','Trigger','References'),\n\t\tColumn_priv\tSET('Select','Insert','Update','References'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name));"]
[2024/05/15 17:19:10.451 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=13] [category=ddl] [job="ID:13, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:12, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:10.446 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:10.452 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=5] [neededSchemaVersion=6] ["start time"=322.167s] [gotSchemaVersion=6] [phyTblIDs="[12]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:19:10.453 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:19:10.453 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=13] [version=6]
[2024/05/15 17:19:10.454 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=6] ["take time"=2.164916ms] [job="ID:13, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:12, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:10.446 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:10.458 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=13] [job="ID:13, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:12, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:10.446 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:10.460 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=13]
[2024/05/15 17:19:10.460 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:19:10.460 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=6] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.columns_priv(\n\t\tHost\t\tCHAR(255),\n\t\tDB\t\t\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tColumn_name\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tColumn_priv\tSET('Select','Insert','Update','References'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name, Column_name));"] [user=]
[2024/05/15 17:19:10.461 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:15, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:14, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:10.461 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:19:10.461 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:15, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:14, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:10.461 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.columns_priv(\n\t\tHost\t\tCHAR(255),\n\t\tDB\t\t\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tColumn_name\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tColumn_priv\tSET('Select','Insert','Update','References'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name, Column_name));"]
[2024/05/15 17:19:10.465 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=15] [category=ddl] [job="ID:15, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:14, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:10.461 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:10.467 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=6] [neededSchemaVersion=7] ["start time"=306s] [gotSchemaVersion=7] [phyTblIDs="[14]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:19:10.467 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:19:10.467 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=15] [version=7]
[2024/05/15 17:19:10.468 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=7] ["take time"=2.153833ms] [job="ID:15, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:14, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:10.461 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:10.473 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=15] [job="ID:15, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:14, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:10.461 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:10.475 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=15]
[2024/05/15 17:19:10.475 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:19:10.475 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=7] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.GLOBAL_VARIABLES(\n\t\tVARIABLE_NAME  VARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE VARCHAR(16383) DEFAULT NULL);"] [user=]
[2024/05/15 17:19:10.476 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:17, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:16, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:10.476 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:19:10.476 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:17, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:16, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:10.476 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.GLOBAL_VARIABLES(\n\t\tVARIABLE_NAME  VARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE VARCHAR(16383) DEFAULT NULL);"]
[2024/05/15 17:19:10.480 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=17] [category=ddl] [job="ID:17, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:16, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:10.476 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:10.481 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=7] [neededSchemaVersion=8] ["start time"=158.208s] [gotSchemaVersion=8] [phyTblIDs="[16]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:19:10.482 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:19:10.482 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=17] [version=8]
[2024/05/15 17:19:10.483 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=8] ["take time"=2.009416ms] [job="ID:17, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:16, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:10.476 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:10.487 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=17] [job="ID:17, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:16, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:10.476 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:10.488 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=17]
[2024/05/15 17:19:10.488 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:19:10.488 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=8] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb(\n\t\tVARIABLE_NAME  \tVARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE \tVARCHAR(1024) DEFAULT NULL,\n\t\tCOMMENT \t\tVARCHAR(1024));"] [user=]
[2024/05/15 17:19:10.490 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:19, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:18, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:10.489 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:19:10.490 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:19, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:18, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:10.489 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb(\n\t\tVARIABLE_NAME  \tVARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE \tVARCHAR(1024) DEFAULT NULL,\n\t\tCOMMENT \t\tVARCHAR(1024));"]
[2024/05/15 17:19:10.493 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=19] [category=ddl] [job="ID:19, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:18, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:10.489 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:10.494 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=8] [neededSchemaVersion=9] ["start time"=151.583s] [gotSchemaVersion=9] [phyTblIDs="[18]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:19:10.494 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:19:10.494 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=19] [version=9]
[2024/05/15 17:19:10.496 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=9] ["take time"=2.004541ms] [job="ID:19, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:18, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:10.489 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:10.500 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=19] [job="ID:19, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:18, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:10.489 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:10.501 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=19]
[2024/05/15 17:19:10.501 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:19:10.504 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=9] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.help_topic (\n  \t\thelp_topic_id \t\tINT(10) UNSIGNED NOT NULL,\n  \t\tname \t\t\t\tCHAR(64) NOT NULL,\n  \t\thelp_category_id \tSMALLINT(5) UNSIGNED NOT NULL,\n  \t\tdescription \t\tTEXT NOT NULL,\n  \t\texample \t\t\tTEXT NOT NULL,\n  \t\turl \t\t\t\tTEXT NOT NULL,\n  \t\tPRIMARY KEY (help_topic_id) clustered,\n  \t\tUNIQUE KEY name (name)\n\t\t) ENGINE=InnoDB DEFAULT CHARSET=utf8 STATS_PERSISTENT=0 COMMENT='help topics';"] [user=]
[2024/05/15 17:19:10.506 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:21, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:20, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:10.505 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:19:10.506 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:21, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:20, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:10.505 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.help_topic (\n  \t\thelp_topic_id \t\tINT(10) UNSIGNED NOT NULL,\n  \t\tname \t\t\t\tCHAR(64) NOT NULL,\n  \t\thelp_category_id \tSMALLINT(5) UNSIGNED NOT NULL,\n  \t\tdescription \t\tTEXT NOT NULL,\n  \t\texample \t\t\tTEXT NOT NULL,\n  \t\turl \t\t\t\tTEXT NOT NULL,\n  \t\tPRIMARY KEY (help_topic_id) clustered,\n  \t\tUNIQUE KEY name (name)\n\t\t) ENGINE=InnoDB DEFAULT CHARSET=utf8 STATS_PERSISTENT=0 COMMENT='help topics';"]
[2024/05/15 17:19:10.509 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=21] [category=ddl] [job="ID:21, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:20, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:10.505 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:10.511 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=9] [neededSchemaVersion=10] ["start time"=222.75s] [gotSchemaVersion=10] [phyTblIDs="[20]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:19:10.511 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:19:10.511 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=21] [version=10]
[2024/05/15 17:19:10.512 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=10] ["take time"=2.015333ms] [job="ID:21, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:20, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:10.505 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:10.516 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=21] [job="ID:21, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:20, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:10.505 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:10.517 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=21]
[2024/05/15 17:19:10.517 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:19:10.518 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=10] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_meta (\n\t\tversion \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\ttable_id \t\tBIGINT(64) NOT NULL,\n\t\tmodify_count\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcount \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tsnapshot        BIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tINDEX idx_ver(version),\n\t\tUNIQUE INDEX tbl(table_id)\n\t);"] [user=]
[2024/05/15 17:19:10.519 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:23, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:22, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:10.518 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:19:10.519 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:23, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:22, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:10.518 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_meta (\n\t\tversion \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\ttable_id \t\tBIGINT(64) NOT NULL,\n\t\tmodify_count\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcount \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tsnapshot        BIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tINDEX idx_ver(version),\n\t\tUNIQUE INDEX tbl(table_id)\n\t);"]
[2024/05/15 17:19:10.522 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=23] [category=ddl] [job="ID:23, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:22, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:10.518 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:10.523 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=10] [neededSchemaVersion=11] ["start time"=281.042s] [gotSchemaVersion=11] [phyTblIDs="[22]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:19:10.524 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:19:10.524 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=23] [version=11]
[2024/05/15 17:19:10.525 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=11] ["take time"=2.373333ms] [job="ID:23, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:22, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:10.518 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:10.529 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=23] [job="ID:23, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:22, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:10.518 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:10.531 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=23]
[2024/05/15 17:19:10.531 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:19:10.531 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=11] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_histograms (\n\t\ttable_id \t\t\tBIGINT(64) NOT NULL,\n\t\tis_index \t\t\tTINYINT(2) NOT NULL,\n\t\thist_id \t\t\tBIGINT(64) NOT NULL,\n\t\tdistinct_count \t\tBIGINT(64) NOT NULL,\n\t\tnull_count \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\ttot_col_size \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tmodify_count \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tversion \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tcm_sketch \t\t\tBLOB(6291456),\n\t\tstats_ver \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tflag \t\t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcorrelation \t\tDOUBLE NOT NULL DEFAULT 0,\n\t\tlast_analyze_pos \tLONGBLOB DEFAULT NULL,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id)\n\t);"] [user=]
[2024/05/15 17:19:10.531 +08:00] [INFO] [ddl_api.go:1139] ["Automatically convert BLOB(6291456) to MEDIUMBLOB"] [category=ddl]
[2024/05/15 17:19:10.533 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:25, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:24, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:10.532 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:19:10.533 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:25, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:24, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:10.532 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_histograms (\n\t\ttable_id \t\t\tBIGINT(64) NOT NULL,\n\t\tis_index \t\t\tTINYINT(2) NOT NULL,\n\t\thist_id \t\t\tBIGINT(64) NOT NULL,\n\t\tdistinct_count \t\tBIGINT(64) NOT NULL,\n\t\tnull_count \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\ttot_col_size \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tmodify_count \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tversion \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tcm_sketch \t\t\tBLOB(6291456),\n\t\tstats_ver \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tflag \t\t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcorrelation \t\tDOUBLE NOT NULL DEFAULT 0,\n\t\tlast_analyze_pos \tLONGBLOB DEFAULT NULL,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id)\n\t);"]
[2024/05/15 17:19:10.537 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=25] [category=ddl] [job="ID:25, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:24, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:10.532 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:10.540 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=11] [neededSchemaVersion=12] ["start time"=578.833s] [gotSchemaVersion=12] [phyTblIDs="[24]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:19:10.541 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:19:10.541 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=25] [version=12]
[2024/05/15 17:19:10.543 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=12] ["take time"=4.174041ms] [job="ID:25, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:24, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:10.532 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:10.551 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=25] [job="ID:25, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:24, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:10.532 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:10.555 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=25]
[2024/05/15 17:19:10.555 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:19:10.555 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=12] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_buckets (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tbucket_id \tBIGINT(64) NOT NULL,\n\t\tcount \t\tBIGINT(64) NOT NULL,\n\t\trepeats \tBIGINT(64) NOT NULL,\n\t\tupper_bound LONGBLOB NOT NULL,\n\t\tlower_bound LONGBLOB ,\n\t\tndv         BIGINT NOT NULL DEFAULT 0,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id, bucket_id)\n\t);"] [user=]
[2024/05/15 17:19:10.560 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:27, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:26, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:10.559 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:19:10.560 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:27, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:26, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:10.559 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_buckets (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tbucket_id \tBIGINT(64) NOT NULL,\n\t\tcount \t\tBIGINT(64) NOT NULL,\n\t\trepeats \tBIGINT(64) NOT NULL,\n\t\tupper_bound LONGBLOB NOT NULL,\n\t\tlower_bound LONGBLOB ,\n\t\tndv         BIGINT NOT NULL DEFAULT 0,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id, bucket_id)\n\t);"]
[2024/05/15 17:19:10.566 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=27] [category=ddl] [job="ID:27, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:26, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:10.559 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:10.569 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=12] [neededSchemaVersion=13] ["start time"=408.75s] [gotSchemaVersion=13] [phyTblIDs="[26]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:19:10.570 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:19:10.570 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=27] [version=13]
[2024/05/15 17:19:10.572 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=13] ["take time"=3.469833ms] [job="ID:27, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:26, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:10.559 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:10.576 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=27] [job="ID:27, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:26, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:10.559 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:10.578 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=27]
[2024/05/15 17:19:10.578 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:19:10.578 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=13] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_index (job_id, element_id)\n\t);"] [user=]
[2024/05/15 17:19:10.579 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:29, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:28, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:10.578 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:19:10.579 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:29, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:28, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:10.578 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_index (job_id, element_id)\n\t);"]
[2024/05/15 17:19:10.582 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=29] [category=ddl] [job="ID:29, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:28, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:10.578 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:10.584 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=13] [neededSchemaVersion=14] ["start time"=226.708s] [gotSchemaVersion=14] [phyTblIDs="[28]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:19:10.584 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:19:10.584 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=29] [version=14]
[2024/05/15 17:19:10.586 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=14] ["take time"=2.005167ms] [job="ID:29, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:28, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:10.578 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:10.590 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=29] [job="ID:29, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:28, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:10.578 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:10.591 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=29]
[2024/05/15 17:19:10.591 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:19:10.591 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=14] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range_done (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_done_index (job_id, element_id)\n\t);"] [user=]
[2024/05/15 17:19:10.593 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:31, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:30, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:10.592 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:19:10.593 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:31, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:30, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:10.592 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range_done (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_done_index (job_id, element_id)\n\t);"]
[2024/05/15 17:19:10.596 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=31] [category=ddl] [job="ID:31, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:30, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:10.592 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:10.597 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=14] [neededSchemaVersion=15] ["start time"=202.625s] [gotSchemaVersion=15] [phyTblIDs="[30]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:19:10.598 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:19:10.598 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=31] [version=15]
[2024/05/15 17:19:10.599 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=15] ["take time"=2.03275ms] [job="ID:31, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:30, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:10.592 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:10.603 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=31] [job="ID:31, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:30, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:10.592 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:10.605 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=31]
[2024/05/15 17:19:10.605 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:19:10.605 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=15] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_feedback (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tfeedback \tBLOB NOT NULL,\n\t\tINDEX hist(table_id, is_index, hist_id)\n\t);"] [user=]
[2024/05/15 17:19:10.606 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:33, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:32, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:10.606 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:19:10.606 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:33, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:32, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:10.606 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_feedback (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tfeedback \tBLOB NOT NULL,\n\t\tINDEX hist(table_id, is_index, hist_id)\n\t);"]
[2024/05/15 17:19:10.611 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=33] [category=ddl] [job="ID:33, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:32, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:10.606 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:10.612 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=15] [neededSchemaVersion=16] ["start time"=185.125s] [gotSchemaVersion=16] [phyTblIDs="[32]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:19:10.613 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:19:10.613 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=33] [version=16]
[2024/05/15 17:19:10.615 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=16] ["take time"=2.546209ms] [job="ID:33, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:32, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:10.606 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:10.618 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=33] [job="ID:33, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:32, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:10.606 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:10.620 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=33]
[2024/05/15 17:19:10.620 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:19:10.620 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=16] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.role_edges (\n\t\tFROM_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tFROM_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tWITH_ADMIN_OPTION \tENUM('N','Y') CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (FROM_HOST,FROM_USER,TO_HOST,TO_USER)\n\t);"] [user=]
[2024/05/15 17:19:10.621 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:35, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:34, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:10.621 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:19:10.621 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:35, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:34, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:10.621 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.role_edges (\n\t\tFROM_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tFROM_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tWITH_ADMIN_OPTION \tENUM('N','Y') CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (FROM_HOST,FROM_USER,TO_HOST,TO_USER)\n\t);"]
[2024/05/15 17:19:10.625 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=35] [category=ddl] [job="ID:35, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:34, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:10.621 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:10.627 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=16] [neededSchemaVersion=17] ["start time"=219.583s] [gotSchemaVersion=17] [phyTblIDs="[34]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:19:10.627 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:19:10.627 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=35] [version=17]
[2024/05/15 17:19:10.628 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=17] ["take time"=2.01575ms] [job="ID:35, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:34, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:10.621 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:10.632 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=35] [job="ID:35, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:34, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:10.621 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:10.634 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=35]
[2024/05/15 17:19:10.634 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:19:10.634 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=17] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.default_roles (\n\t\tHOST \t\t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tUSER \t\t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tDEFAULT_ROLE_HOST \tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '%',\n\t\tDEFAULT_ROLE_USER \tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tPRIMARY KEY (HOST,USER,DEFAULT_ROLE_HOST,DEFAULT_ROLE_USER)\n\t)"] [user=]
[2024/05/15 17:19:10.635 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:37, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:36, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:10.634 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:19:10.635 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:37, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:36, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:10.634 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.default_roles (\n\t\tHOST \t\t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tUSER \t\t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tDEFAULT_ROLE_HOST \tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '%',\n\t\tDEFAULT_ROLE_USER \tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tPRIMARY KEY (HOST,USER,DEFAULT_ROLE_HOST,DEFAULT_ROLE_USER)\n\t)"]
[2024/05/15 17:19:10.639 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=37] [category=ddl] [job="ID:37, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:36, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:10.634 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:10.640 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=17] [neededSchemaVersion=18] ["start time"=243.625s] [gotSchemaVersion=18] [phyTblIDs="[36]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:19:10.641 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:19:10.641 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=37] [version=18]
[2024/05/15 17:19:10.642 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=18] ["take time"=2.0495ms] [job="ID:37, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:36, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:10.634 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:10.645 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=37] [job="ID:37, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:36, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:10.634 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:10.647 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=37]
[2024/05/15 17:19:10.647 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:19:10.648 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=18] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.bind_info (\n\t\toriginal_sql TEXT NOT NULL,\n\t\tbind_sql TEXT NOT NULL,\n\t\tdefault_db TEXT NOT NULL,\n\t\tstatus TEXT NOT NULL,\n\t\tcreate_time TIMESTAMP(3) NOT NULL,\n\t\tupdate_time TIMESTAMP(3) NOT NULL,\n\t\tcharset TEXT NOT NULL,\n\t\tcollation TEXT NOT NULL,\n\t\tsource VARCHAR(10) NOT NULL DEFAULT 'unknown',\n\t\tsql_digest varchar(64),\n\t\tplan_digest varchar(64),\n\t\tINDEX sql_index(original_sql(700),default_db(68)) COMMENT \"accelerate the speed when add global binding query\",\n\t\tINDEX time_index(update_time) COMMENT \"accelerate the speed when querying with last update time\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"] [user=]
[2024/05/15 17:19:10.650 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:39, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:38, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:10.649 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:19:10.650 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:39, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:38, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:10.649 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.bind_info (\n\t\toriginal_sql TEXT NOT NULL,\n\t\tbind_sql TEXT NOT NULL,\n\t\tdefault_db TEXT NOT NULL,\n\t\tstatus TEXT NOT NULL,\n\t\tcreate_time TIMESTAMP(3) NOT NULL,\n\t\tupdate_time TIMESTAMP(3) NOT NULL,\n\t\tcharset TEXT NOT NULL,\n\t\tcollation TEXT NOT NULL,\n\t\tsource VARCHAR(10) NOT NULL DEFAULT 'unknown',\n\t\tsql_digest varchar(64),\n\t\tplan_digest varchar(64),\n\t\tINDEX sql_index(original_sql(700),default_db(68)) COMMENT \"accelerate the speed when add global binding query\",\n\t\tINDEX time_index(update_time) COMMENT \"accelerate the speed when querying with last update time\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"]
[2024/05/15 17:19:10.654 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=39] [category=ddl] [job="ID:39, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:38, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:10.649 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:10.656 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=18] [neededSchemaVersion=19] ["start time"=352.042s] [gotSchemaVersion=19] [phyTblIDs="[38]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:19:10.657 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:19:10.657 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=39] [version=19]
[2024/05/15 17:19:10.658 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=19] ["take time"=2.037083ms] [job="ID:39, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:38, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:10.649 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:10.662 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=39] [job="ID:39, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:38, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:10.649 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:10.664 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=39]
[2024/05/15 17:19:10.664 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:19:10.665 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=0] ["to ID"=1] ["table ID"=38] ["database ID"=1]
[2024/05/15 17:19:10.665 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=19] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_top_n (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tvalue \t\tLONGBLOB,\n\t\tcount \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\tINDEX tbl(table_id, is_index, hist_id)\n\t);"] [user=]
[2024/05/15 17:19:10.666 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:41, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:40, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:10.665 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:19:10.666 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:41, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:40, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:10.665 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_top_n (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tvalue \t\tLONGBLOB,\n\t\tcount \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\tINDEX tbl(table_id, is_index, hist_id)\n\t);"]
[2024/05/15 17:19:10.669 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=41] [category=ddl] [job="ID:41, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:40, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:10.665 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:10.670 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=19] [neededSchemaVersion=20] ["start time"=188.875s] [gotSchemaVersion=20] [phyTblIDs="[40]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:19:10.671 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:19:10.671 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=41] [version=20]
[2024/05/15 17:19:10.672 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=20] ["take time"=2.381084ms] [job="ID:41, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:40, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:10.665 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:10.675 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=41] [job="ID:41, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:40, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:10.665 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:10.677 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=41]
[2024/05/15 17:19:10.677 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:19:10.677 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=20] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.expr_pushdown_blacklist (\n\t\tname \t\tCHAR(100) NOT NULL,\n\t\tstore_type \tCHAR(100) NOT NULL DEFAULT 'tikv,tiflash,tidb',\n\t\treason \t\tVARCHAR(200)\n\t);"] [user=]
[2024/05/15 17:19:10.678 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:43, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:42, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:10.678 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:19:10.678 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:43, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:42, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:10.678 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.expr_pushdown_blacklist (\n\t\tname \t\tCHAR(100) NOT NULL,\n\t\tstore_type \tCHAR(100) NOT NULL DEFAULT 'tikv,tiflash,tidb',\n\t\treason \t\tVARCHAR(200)\n\t);"]
[2024/05/15 17:19:10.681 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=43] [category=ddl] [job="ID:43, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:42, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:10.678 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:10.683 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=20] [neededSchemaVersion=21] ["start time"=141.208s] [gotSchemaVersion=21] [phyTblIDs="[42]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:19:10.683 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:19:10.683 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=43] [version=21]
[2024/05/15 17:19:10.684 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=21] ["take time"=2.018916ms] [job="ID:43, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:42, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:10.678 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:10.688 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=43] [job="ID:43, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:42, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:10.678 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:10.690 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=43]
[2024/05/15 17:19:10.690 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:19:10.690 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=21] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.opt_rule_blacklist (\n\t\tname \tCHAR(100) NOT NULL\n\t);"] [user=]
[2024/05/15 17:19:10.691 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:45, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:44, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:10.691 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:19:10.692 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:45, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:44, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:10.691 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.opt_rule_blacklist (\n\t\tname \tCHAR(100) NOT NULL\n\t);"]
[2024/05/15 17:19:10.695 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=45] [category=ddl] [job="ID:45, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:44, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:10.691 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:10.696 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=21] [neededSchemaVersion=22] ["start time"=109.708s] [gotSchemaVersion=22] [phyTblIDs="[44]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:19:10.697 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:19:10.697 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=45] [version=22]
[2024/05/15 17:19:10.699 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=22] ["take time"=2.581708ms] [job="ID:45, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:44, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:10.691 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:10.702 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=45] [job="ID:45, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:44, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:10.691 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:10.703 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=45]
[2024/05/15 17:19:10.703 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:19:10.703 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=22] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_extended (\n\t\tname varchar(32) NOT NULL,\n\t\ttype tinyint(4) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tcolumn_ids varchar(32) NOT NULL,\n\t\tstats blob DEFAULT NULL,\n\t\tversion bigint(64) unsigned NOT NULL,\n\t\tstatus tinyint(4) NOT NULL,\n\t\tPRIMARY KEY(name, table_id),\n\t\tKEY idx_1 (table_id, status, version),\n\t\tKEY idx_2 (status, version)\n\t);"] [user=]
[2024/05/15 17:19:10.704 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:47, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:46, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:10.704 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:19:10.704 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:47, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:46, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:10.704 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_extended (\n\t\tname varchar(32) NOT NULL,\n\t\ttype tinyint(4) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tcolumn_ids varchar(32) NOT NULL,\n\t\tstats blob DEFAULT NULL,\n\t\tversion bigint(64) unsigned NOT NULL,\n\t\tstatus tinyint(4) NOT NULL,\n\t\tPRIMARY KEY(name, table_id),\n\t\tKEY idx_1 (table_id, status, version),\n\t\tKEY idx_2 (status, version)\n\t);"]
[2024/05/15 17:19:10.707 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=47] [category=ddl] [job="ID:47, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:46, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:10.704 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:10.709 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=22] [neededSchemaVersion=23] ["start time"=262.541s] [gotSchemaVersion=23] [phyTblIDs="[46]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:19:10.709 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:19:10.709 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=47] [version=23]
[2024/05/15 17:19:10.712 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=23] ["take time"=3.766458ms] [job="ID:47, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:46, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:10.704 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:10.719 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=47] [job="ID:47, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:46, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:10.704 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:10.723 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=47]
[2024/05/15 17:19:10.723 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:19:10.723 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=23] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_fm_sketch (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tvalue \t\tLONGBLOB,\n\t\tINDEX tbl(table_id, is_index, hist_id)\n\t);"] [user=]
[2024/05/15 17:19:10.725 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:49, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:48, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:10.724 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:19:10.725 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:49, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:48, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:10.724 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_fm_sketch (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tvalue \t\tLONGBLOB,\n\t\tINDEX tbl(table_id, is_index, hist_id)\n\t);"]
[2024/05/15 17:19:10.731 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=49] [category=ddl] [job="ID:49, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:48, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:10.724 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:10.735 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=23] [neededSchemaVersion=24] ["start time"=283.042s] [gotSchemaVersion=24] [phyTblIDs="[48]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:19:10.736 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:19:10.736 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=49] [version=24]
[2024/05/15 17:19:10.738 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=24] ["take time"=2.879583ms] [job="ID:49, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:48, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:10.724 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:10.745 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=49] [job="ID:49, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:48, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:10.724 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:10.747 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=49]
[2024/05/15 17:19:10.747 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:19:10.747 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=24] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.global_grants (\n\t\tUSER char(32) NOT NULL DEFAULT '',\n\t\tHOST char(255) NOT NULL DEFAULT '',\n\t\tPRIV char(32) NOT NULL DEFAULT '',\n\t\tWITH_GRANT_OPTION enum('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (USER,HOST,PRIV)\n\t);"] [user=]
[2024/05/15 17:19:10.749 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:51, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:50, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:10.748 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:19:10.749 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:51, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:50, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:10.748 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.global_grants (\n\t\tUSER char(32) NOT NULL DEFAULT '',\n\t\tHOST char(255) NOT NULL DEFAULT '',\n\t\tPRIV char(32) NOT NULL DEFAULT '',\n\t\tWITH_GRANT_OPTION enum('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (USER,HOST,PRIV)\n\t);"]
[2024/05/15 17:19:10.752 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=51] [category=ddl] [job="ID:51, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:50, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:10.748 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:10.754 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=24] [neededSchemaVersion=25] ["start time"=195.625s] [gotSchemaVersion=25] [phyTblIDs="[50]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:19:10.754 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:19:10.754 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=51] [version=25]
[2024/05/15 17:19:10.756 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=25] ["take time"=2.625333ms] [job="ID:51, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:50, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:10.748 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:10.759 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=51] [job="ID:51, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:50, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:10.748 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:10.761 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=51]
[2024/05/15 17:19:10.761 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:19:10.761 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=25] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.capture_plan_baselines_blacklist (\n\t\tid bigint(64) auto_increment,\n\t\tfilter_type varchar(32) NOT NULL COMMENT \"type of the filter, only db, table and frequency supported now\",\n\t\tfilter_value varchar(32) NOT NULL,\n\t\tkey idx(filter_type),\n\t\tprimary key(id)\n\t);"] [user=]
[2024/05/15 17:19:10.762 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:53, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:52, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:10.762 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:19:10.762 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:53, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:52, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:10.762 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.capture_plan_baselines_blacklist (\n\t\tid bigint(64) auto_increment,\n\t\tfilter_type varchar(32) NOT NULL COMMENT \"type of the filter, only db, table and frequency supported now\",\n\t\tfilter_value varchar(32) NOT NULL,\n\t\tkey idx(filter_type),\n\t\tprimary key(id)\n\t);"]
[2024/05/15 17:19:10.766 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=53] [category=ddl] [job="ID:53, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:52, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:10.762 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:10.767 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=25] [neededSchemaVersion=26] ["start time"=165.209s] [gotSchemaVersion=26] [phyTblIDs="[52]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:19:10.767 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:19:10.767 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=53] [version=26]
[2024/05/15 17:19:10.769 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=26] ["take time"=2.006292ms] [job="ID:53, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:52, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:10.762 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:10.772 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=53] [job="ID:53, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:52, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:10.762 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:10.774 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=53]
[2024/05/15 17:19:10.774 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:19:10.774 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=26] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.column_stats_usage (\n\t\ttable_id BIGINT(64) NOT NULL,\n\t\tcolumn_id BIGINT(64) NOT NULL,\n\t\tlast_used_at TIMESTAMP,\n\t\tlast_analyzed_at TIMESTAMP,\n\t\tPRIMARY KEY (table_id, column_id) CLUSTERED\n\t);"] [user=]
[2024/05/15 17:19:10.775 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:55, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:54, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:10.775 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:19:10.775 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:55, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:54, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:10.775 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.column_stats_usage (\n\t\ttable_id BIGINT(64) NOT NULL,\n\t\tcolumn_id BIGINT(64) NOT NULL,\n\t\tlast_used_at TIMESTAMP,\n\t\tlast_analyzed_at TIMESTAMP,\n\t\tPRIMARY KEY (table_id, column_id) CLUSTERED\n\t);"]
[2024/05/15 17:19:10.779 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=55] [category=ddl] [job="ID:55, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:54, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:10.775 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:10.780 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=26] [neededSchemaVersion=27] ["start time"=171.25s] [gotSchemaVersion=27] [phyTblIDs="[54]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:19:10.781 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:19:10.781 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=55] [version=27]
[2024/05/15 17:19:10.782 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=27] ["take time"=2.003583ms] [job="ID:55, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:54, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:10.775 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:10.786 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=55] [job="ID:55, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:54, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:10.775 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:10.787 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=55]
[2024/05/15 17:19:10.787 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:19:10.788 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=27] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.table_cache_meta (\n\t\ttid bigint(11) NOT NULL DEFAULT 0,\n\t\tlock_type enum('NONE','READ', 'INTEND', 'WRITE') NOT NULL DEFAULT 'NONE',\n\t\tlease bigint(20) NOT NULL DEFAULT 0,\n\t\toldReadLease bigint(20) NOT NULL DEFAULT 0,\n\t\tPRIMARY KEY (tid)\n\t);"] [user=]
[2024/05/15 17:19:10.789 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:57, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:56, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:10.788 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:19:10.789 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:57, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:56, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:10.788 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.table_cache_meta (\n\t\ttid bigint(11) NOT NULL DEFAULT 0,\n\t\tlock_type enum('NONE','READ', 'INTEND', 'WRITE') NOT NULL DEFAULT 'NONE',\n\t\tlease bigint(20) NOT NULL DEFAULT 0,\n\t\toldReadLease bigint(20) NOT NULL DEFAULT 0,\n\t\tPRIMARY KEY (tid)\n\t);"]
[2024/05/15 17:19:10.792 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=57] [category=ddl] [job="ID:57, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:56, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:10.788 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:10.794 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=27] [neededSchemaVersion=28] ["start time"=167.208s] [gotSchemaVersion=28] [phyTblIDs="[56]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:19:10.794 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:19:10.794 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=57] [version=28]
[2024/05/15 17:19:10.795 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=28] ["take time"=2.017292ms] [job="ID:57, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:56, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:10.788 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:10.798 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=57] [job="ID:57, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:56, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:10.788 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:10.800 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=57]
[2024/05/15 17:19:10.800 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:19:10.801 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=28] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.analyze_options (\n\t\ttable_id BIGINT(64) NOT NULL,\n\t\tsample_num BIGINT(64) NOT NULL DEFAULT 0,\n\t\tsample_rate DOUBLE NOT NULL DEFAULT -1,\n\t\tbuckets BIGINT(64) NOT NULL DEFAULT 0,\n\t\ttopn BIGINT(64) NOT NULL DEFAULT -1,\n\t\tcolumn_choice enum('DEFAULT','ALL','PREDICATE','LIST') NOT NULL DEFAULT 'DEFAULT',\n\t\tcolumn_ids TEXT(19372),\n\t\tPRIMARY KEY (table_id) CLUSTERED\n\t);"] [user=]
[2024/05/15 17:19:10.801 +08:00] [INFO] [ddl_api.go:1139] ["Automatically convert BLOB(19372) to MEDIUMBLOB"] [category=ddl]
[2024/05/15 17:19:10.802 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:59, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:58, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:10.801 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:19:10.802 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:59, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:58, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:10.801 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.analyze_options (\n\t\ttable_id BIGINT(64) NOT NULL,\n\t\tsample_num BIGINT(64) NOT NULL DEFAULT 0,\n\t\tsample_rate DOUBLE NOT NULL DEFAULT -1,\n\t\tbuckets BIGINT(64) NOT NULL DEFAULT 0,\n\t\ttopn BIGINT(64) NOT NULL DEFAULT -1,\n\t\tcolumn_choice enum('DEFAULT','ALL','PREDICATE','LIST') NOT NULL DEFAULT 'DEFAULT',\n\t\tcolumn_ids TEXT(19372),\n\t\tPRIMARY KEY (table_id) CLUSTERED\n\t);"]
[2024/05/15 17:19:10.806 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=59] [category=ddl] [job="ID:59, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:58, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:10.801 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:10.807 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=28] [neededSchemaVersion=29] ["start time"=226.125s] [gotSchemaVersion=29] [phyTblIDs="[58]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:19:10.808 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:19:10.808 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=59] [version=29]
[2024/05/15 17:19:10.809 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=29] ["take time"=2.004292ms] [job="ID:59, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:58, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:10.801 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:10.812 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=59] [job="ID:59, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:58, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:10.801 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:10.814 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=59]
[2024/05/15 17:19:10.814 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:19:10.814 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=29] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_history (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tstats_data longblob NOT NULL,\n\t\tseq_no bigint(64) NOT NULL comment 'sequence number of the gzipped data slice',\n\t\tversion bigint(64) NOT NULL comment 'stats version which corresponding to stats:version in EXPLAIN',\n\t\tcreate_time datetime(6) NOT NULL,\n\t\tUNIQUE KEY table_version_seq (table_id, version, seq_no),\n\t\tKEY table_create_time (table_id, create_time, seq_no),\n    \tKEY idx_create_time (create_time)\n\t);"] [user=]
[2024/05/15 17:19:10.815 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:61, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:60, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:10.815 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:19:10.815 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:61, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:60, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:10.815 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_history (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tstats_data longblob NOT NULL,\n\t\tseq_no bigint(64) NOT NULL comment 'sequence number of the gzipped data slice',\n\t\tversion bigint(64) NOT NULL comment 'stats version which corresponding to stats:version in EXPLAIN',\n\t\tcreate_time datetime(6) NOT NULL,\n\t\tUNIQUE KEY table_version_seq (table_id, version, seq_no),\n\t\tKEY table_create_time (table_id, create_time, seq_no),\n    \tKEY idx_create_time (create_time)\n\t);"]
[2024/05/15 17:19:10.819 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=61] [category=ddl] [job="ID:61, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:60, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:10.815 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:10.820 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=29] [neededSchemaVersion=30] ["start time"=255.167s] [gotSchemaVersion=30] [phyTblIDs="[60]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:19:10.821 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:19:10.821 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=61] [version=30]
[2024/05/15 17:19:10.822 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=30] ["take time"=2.008208ms] [job="ID:61, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:60, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:10.815 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:10.826 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=61] [job="ID:61, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:60, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:10.815 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:10.827 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=61]
[2024/05/15 17:19:10.827 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:19:10.827 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=30] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_meta_history (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tmodify_count bigint(64) NOT NULL,\n\t\tcount bigint(64) NOT NULL,\n\t\tversion bigint(64) NOT NULL comment 'stats version which corresponding to stats:version in EXPLAIN',\n    \tsource varchar(40) NOT NULL,\n\t\tcreate_time datetime(6) NOT NULL,\n\t\tUNIQUE KEY table_version (table_id, version),\n\t\tKEY table_create_time (table_id, create_time),\n    \tKEY idx_create_time (create_time)\n\t);"] [user=]
[2024/05/15 17:19:10.829 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:63, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:62, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:10.828 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:19:10.829 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:63, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:62, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:10.828 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_meta_history (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tmodify_count bigint(64) NOT NULL,\n\t\tcount bigint(64) NOT NULL,\n\t\tversion bigint(64) NOT NULL comment 'stats version which corresponding to stats:version in EXPLAIN',\n    \tsource varchar(40) NOT NULL,\n\t\tcreate_time datetime(6) NOT NULL,\n\t\tUNIQUE KEY table_version (table_id, version),\n\t\tKEY table_create_time (table_id, create_time),\n    \tKEY idx_create_time (create_time)\n\t);"]
[2024/05/15 17:19:10.832 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=63] [category=ddl] [job="ID:63, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:62, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:10.828 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:10.834 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=30] [neededSchemaVersion=31] ["start time"=246.083s] [gotSchemaVersion=31] [phyTblIDs="[62]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:19:10.834 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:19:10.834 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=63] [version=31]
[2024/05/15 17:19:10.835 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=31] ["take time"=2.003666ms] [job="ID:63, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:62, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:10.828 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:10.840 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=63] [job="ID:63, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:62, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:10.828 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:10.841 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=63]
[2024/05/15 17:19:10.841 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:19:10.842 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=31] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.analyze_jobs (\n\t\tid BIGINT(64) UNSIGNED NOT NULL AUTO_INCREMENT,\n\t\tupdate_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\ttable_schema CHAR(64) NOT NULL DEFAULT '',\n\t\ttable_name CHAR(64) NOT NULL DEFAULT '',\n\t\tpartition_name CHAR(64) NOT NULL DEFAULT '',\n\t\tjob_info TEXT NOT NULL,\n\t\tprocessed_rows BIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tstart_time TIMESTAMP,\n\t\tend_time TIMESTAMP,\n\t\tstate ENUM('pending', 'running', 'finished', 'failed') NOT NULL,\n\t\tfail_reason TEXT,\n\t\tinstance VARCHAR(512) NOT NULL comment 'address of the TiDB instance executing the analyze job',\n\t\tprocess_id BIGINT(64) UNSIGNED comment 'ID of the process executing the analyze job',\n\t\tPRIMARY KEY (id),\n\t\tKEY (update_time)\n\t);"] [user=]
[2024/05/15 17:19:10.843 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:65, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:64, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:10.842 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:19:10.843 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:65, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:64, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:10.842 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.analyze_jobs (\n\t\tid BIGINT(64) UNSIGNED NOT NULL AUTO_INCREMENT,\n\t\tupdate_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\ttable_schema CHAR(64) NOT NULL DEFAULT '',\n\t\ttable_name CHAR(64) NOT NULL DEFAULT '',\n\t\tpartition_name CHAR(64) NOT NULL DEFAULT '',\n\t\tjob_info TEXT NOT NULL,\n\t\tprocessed_rows BIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tstart_time TIMESTAMP,\n\t\tend_time TIMESTAMP,\n\t\tstate ENUM('pending', 'running', 'finished', 'failed') NOT NULL,\n\t\tfail_reason TEXT,\n\t\tinstance VARCHAR(512) NOT NULL comment 'address of the TiDB instance executing the analyze job',\n\t\tprocess_id BIGINT(64) UNSIGNED comment 'ID of the process executing the analyze job',\n\t\tPRIMARY KEY (id),\n\t\tKEY (update_time)\n\t);"]
[2024/05/15 17:19:10.846 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=65] [category=ddl] [job="ID:65, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:64, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:10.842 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:10.848 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=31] [neededSchemaVersion=32] ["start time"=343.75s] [gotSchemaVersion=32] [phyTblIDs="[64]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:19:10.849 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:19:10.849 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=65] [version=32]
[2024/05/15 17:19:10.850 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=32] ["take time"=2.024667ms] [job="ID:65, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:64, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:10.842 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:10.854 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=65] [job="ID:65, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:64, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:10.842 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:10.856 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=65]
[2024/05/15 17:19:10.856 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:19:10.856 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=32] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.advisory_locks (\n\t\tlock_name VARCHAR(64) NOT NULL PRIMARY KEY\n\t);"] [user=]
[2024/05/15 17:19:10.857 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:67, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:66, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:10.857 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:19:10.857 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:67, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:66, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:10.857 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.advisory_locks (\n\t\tlock_name VARCHAR(64) NOT NULL PRIMARY KEY\n\t);"]
[2024/05/15 17:19:10.860 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=67] [category=ddl] [job="ID:67, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:66, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:10.857 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:10.861 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=32] [neededSchemaVersion=33] ["start time"=115.208s] [gotSchemaVersion=33] [phyTblIDs="[66]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:19:10.862 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:19:10.862 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=67] [version=33]
[2024/05/15 17:19:10.863 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=33] ["take time"=2.006333ms] [job="ID:67, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:66, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:10.857 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:10.867 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=67] [job="ID:67, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:66, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:10.857 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:10.868 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=67]
[2024/05/15 17:19:10.868 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:19:10.872 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:69, Type:create view, State:queueing, SchemaState:none, SchemaID:1, TableID:68, RowCount:0, ArgLen:3, start time: 2024-05-15 17:19:10.871 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:19:10.872 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:69, Type:create view, State:queueing, SchemaState:none, SchemaID:1, TableID:68, RowCount:0, ArgLen:3, start time: 2024-05-15 17:19:10.871 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE OR REPLACE VIEW mysql.tidb_mdl_view as (\n\t\tSELECT tidb_mdl_info.job_id,\n\t\t\tJSON_UNQUOTE(JSON_EXTRACT(cast(cast(job_meta as char) as json), \"$.schema_name\")) as db_name,\n\t\t\tJSON_UNQUOTE(JSON_EXTRACT(cast(cast(job_meta as char) as json), \"$.table_name\")) as table_name,\n\t\t\tJSON_UNQUOTE(JSON_EXTRACT(cast(cast(job_meta as char) as json), \"$.query\")) as query,\n\t\t\tsession_id,\n\t\t\tcluster_tidb_trx.start_time,\n\t\t\ttidb_decode_sql_digests(all_sql_digests, 4096) AS SQL_DIGESTS\n\t\tFROM mysql.tidb_ddl_job,\n\t\t\tmysql.tidb_mdl_info,\n\t\t\tinformation_schema.cluster_tidb_trx\n\t\tWHERE tidb_ddl_job.job_id=tidb_mdl_info.job_id\n\t\t\tAND CONCAT(',', tidb_mdl_info.table_ids, ',') REGEXP CONCAT(',(', REPLACE(cluster_tidb_trx.related_table_ids, ',', '|'), '),') != 0\n\t);"]
[2024/05/15 17:19:10.876 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=69] [category=ddl] [job="ID:69, Type:create view, State:queueing, SchemaState:none, SchemaID:1, TableID:68, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:10.871 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:10.877 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=33] [neededSchemaVersion=34] ["start time"=202.666s] [gotSchemaVersion=34] [phyTblIDs="[68]"] [actionTypes="[21]"] [diffTypes="[\"create view\"]"]
[2024/05/15 17:19:10.878 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:19:10.878 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=69] [version=34]
[2024/05/15 17:19:10.880 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=34] ["take time"=2.983208ms] [job="ID:69, Type:create view, State:done, SchemaState:public, SchemaID:1, TableID:68, RowCount:0, ArgLen:3, start time: 2024-05-15 17:19:10.871 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:10.887 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=69] [job="ID:69, Type:create view, State:synced, SchemaState:public, SchemaID:1, TableID:68, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:10.871 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:10.890 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=69]
[2024/05/15 17:19:10.890 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:19:10.891 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=34] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.plan_replayer_status (\n\t\tsql_digest VARCHAR(128),\n\t\tplan_digest VARCHAR(128),\n\t\torigin_sql TEXT,\n\t\ttoken VARCHAR(128),\n\t\tupdate_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\tfail_reason TEXT,\n\t\tinstance VARCHAR(512) NOT NULL comment 'address of the TiDB instance executing the plan replayer job');"] [user=]
[2024/05/15 17:19:10.893 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:71, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:70, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:10.891 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:19:10.893 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:71, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:70, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:10.891 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.plan_replayer_status (\n\t\tsql_digest VARCHAR(128),\n\t\tplan_digest VARCHAR(128),\n\t\torigin_sql TEXT,\n\t\ttoken VARCHAR(128),\n\t\tupdate_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\tfail_reason TEXT,\n\t\tinstance VARCHAR(512) NOT NULL comment 'address of the TiDB instance executing the plan replayer job');"]
[2024/05/15 17:19:10.899 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=71] [category=ddl] [job="ID:71, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:70, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:10.891 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:10.901 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=34] [neededSchemaVersion=35] ["start time"=316.917s] [gotSchemaVersion=35] [phyTblIDs="[70]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:19:10.903 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:19:10.903 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=71] [version=35]
[2024/05/15 17:19:10.905 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=35] ["take time"=4.262791ms] [job="ID:71, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:70, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:10.891 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:10.911 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=71] [job="ID:71, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:70, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:10.891 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:10.913 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=71]
[2024/05/15 17:19:10.913 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:19:10.913 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=35] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.plan_replayer_task (\n\t\tsql_digest VARCHAR(128) NOT NULL,\n\t\tplan_digest VARCHAR(128) NOT NULL,\n\t\tupdate_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\tPRIMARY KEY (sql_digest,plan_digest));"] [user=]
[2024/05/15 17:19:10.914 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:73, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:72, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:10.914 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:19:10.914 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:73, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:72, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:10.914 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.plan_replayer_task (\n\t\tsql_digest VARCHAR(128) NOT NULL,\n\t\tplan_digest VARCHAR(128) NOT NULL,\n\t\tupdate_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\tPRIMARY KEY (sql_digest,plan_digest));"]
[2024/05/15 17:19:10.919 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=73] [category=ddl] [job="ID:73, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:72, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:10.914 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:10.920 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=35] [neededSchemaVersion=36] ["start time"=167.875s] [gotSchemaVersion=36] [phyTblIDs="[72]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:19:10.920 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:19:10.920 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=73] [version=36]
[2024/05/15 17:19:10.922 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=36] ["take time"=2.534084ms] [job="ID:73, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:72, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:10.914 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:10.925 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=73] [job="ID:73, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:72, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:10.914 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:10.926 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=73]
[2024/05/15 17:19:10.926 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:19:10.926 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=36] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_table_locked(\n\t\ttable_id bigint(64) NOT NULL,\n\t\tmodify_count bigint(64) NOT NULL DEFAULT 0,\n\t\tcount bigint(64) NOT NULL DEFAULT 0,\n\t\tversion bigint(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tPRIMARY KEY (table_id));"] [user=]
[2024/05/15 17:19:10.927 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:75, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:74, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:10.927 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:19:10.927 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:75, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:74, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:10.927 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_table_locked(\n\t\ttable_id bigint(64) NOT NULL,\n\t\tmodify_count bigint(64) NOT NULL DEFAULT 0,\n\t\tcount bigint(64) NOT NULL DEFAULT 0,\n\t\tversion bigint(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tPRIMARY KEY (table_id));"]
[2024/05/15 17:19:10.930 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=75] [category=ddl] [job="ID:75, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:74, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:10.927 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:10.932 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=36] [neededSchemaVersion=37] ["start time"=166.125s] [gotSchemaVersion=37] [phyTblIDs="[74]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:19:10.932 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:19:10.932 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=75] [version=37]
[2024/05/15 17:19:10.934 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=37] ["take time"=2.561292ms] [job="ID:75, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:74, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:10.927 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:10.936 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=75] [job="ID:75, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:74, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:10.927 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:10.938 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=75]
[2024/05/15 17:19:10.938 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:19:10.938 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=37] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_ttl_table_status (\n\t\ttable_id bigint(64) PRIMARY KEY,\n        parent_table_id bigint(64),\n        table_statistics text DEFAULT NULL,\n\t\tlast_job_id varchar(64) DEFAULT NULL,\n\t\tlast_job_start_time timestamp NULL DEFAULT NULL,\n\t\tlast_job_finish_time timestamp NULL DEFAULT NULL,\n\t\tlast_job_ttl_expire timestamp NULL DEFAULT NULL,\n        last_job_summary text DEFAULT NULL,\n\t\tcurrent_job_id varchar(64) DEFAULT NULL,\n\t\tcurrent_job_owner_id varchar(64) DEFAULT NULL,\n\t\tcurrent_job_owner_addr varchar(256) DEFAULT NULL,\n\t\tcurrent_job_owner_hb_time timestamp,\n\t\tcurrent_job_start_time timestamp NULL DEFAULT NULL,\n\t\tcurrent_job_ttl_expire timestamp NULL DEFAULT NULL,\n\t\tcurrent_job_state text DEFAULT NULL,\n\t\tcurrent_job_status varchar(64) DEFAULT NULL,\n  \t\tcurrent_job_status_update_time timestamp NULL DEFAULT NULL);"] [user=]
[2024/05/15 17:19:10.939 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:77, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:76, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:10.939 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:19:10.940 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:77, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:76, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:10.939 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_ttl_table_status (\n\t\ttable_id bigint(64) PRIMARY KEY,\n        parent_table_id bigint(64),\n        table_statistics text DEFAULT NULL,\n\t\tlast_job_id varchar(64) DEFAULT NULL,\n\t\tlast_job_start_time timestamp NULL DEFAULT NULL,\n\t\tlast_job_finish_time timestamp NULL DEFAULT NULL,\n\t\tlast_job_ttl_expire timestamp NULL DEFAULT NULL,\n        last_job_summary text DEFAULT NULL,\n\t\tcurrent_job_id varchar(64) DEFAULT NULL,\n\t\tcurrent_job_owner_id varchar(64) DEFAULT NULL,\n\t\tcurrent_job_owner_addr varchar(256) DEFAULT NULL,\n\t\tcurrent_job_owner_hb_time timestamp,\n\t\tcurrent_job_start_time timestamp NULL DEFAULT NULL,\n\t\tcurrent_job_ttl_expire timestamp NULL DEFAULT NULL,\n\t\tcurrent_job_state text DEFAULT NULL,\n\t\tcurrent_job_status varchar(64) DEFAULT NULL,\n  \t\tcurrent_job_status_update_time timestamp NULL DEFAULT NULL);"]
[2024/05/15 17:19:10.943 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=77] [category=ddl] [job="ID:77, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:76, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:10.939 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:10.945 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=37] [neededSchemaVersion=38] ["start time"=369.125s] [gotSchemaVersion=38] [phyTblIDs="[76]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:19:10.945 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:19:10.945 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=77] [version=38]
[2024/05/15 17:19:10.946 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=38] ["take time"=2.012708ms] [job="ID:77, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:76, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:10.939 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:10.950 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=77] [job="ID:77, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:76, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:10.939 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:10.952 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=77]
[2024/05/15 17:19:10.952 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:19:10.952 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=38] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_ttl_task (\n\t\tjob_id varchar(64) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tscan_id int NOT NULL,\n\t\tscan_range_start BLOB,\n\t\tscan_range_end BLOB,\n\t\texpire_time timestamp NOT NULL,\n\t\towner_id varchar(64) DEFAULT NULL,\n\t\towner_addr varchar(64) DEFAULT NULL,\n\t\towner_hb_time timestamp DEFAULT NULL,\n\t\tstatus varchar(64) DEFAULT 'waiting',\n\t\tstatus_update_time timestamp NULL DEFAULT NULL,\n\t\tstate text,\n\t\tcreated_time timestamp NOT NULL,\n\t\tprimary key(job_id, scan_id),\n\t\tkey(created_time));"] [user=]
[2024/05/15 17:19:10.953 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:79, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:78, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:10.953 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:19:10.953 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:79, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:78, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:10.953 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_ttl_task (\n\t\tjob_id varchar(64) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tscan_id int NOT NULL,\n\t\tscan_range_start BLOB,\n\t\tscan_range_end BLOB,\n\t\texpire_time timestamp NOT NULL,\n\t\towner_id varchar(64) DEFAULT NULL,\n\t\towner_addr varchar(64) DEFAULT NULL,\n\t\towner_hb_time timestamp DEFAULT NULL,\n\t\tstatus varchar(64) DEFAULT 'waiting',\n\t\tstatus_update_time timestamp NULL DEFAULT NULL,\n\t\tstate text,\n\t\tcreated_time timestamp NOT NULL,\n\t\tprimary key(job_id, scan_id),\n\t\tkey(created_time));"]
[2024/05/15 17:19:10.956 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=79] [category=ddl] [job="ID:79, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:78, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:10.953 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:10.958 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=38] [neededSchemaVersion=39] ["start time"=339.625s] [gotSchemaVersion=39] [phyTblIDs="[78]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:19:10.959 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:19:10.959 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=79] [version=39]
[2024/05/15 17:19:10.960 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=39] ["take time"=2.561ms] [job="ID:79, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:78, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:10.953 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:10.963 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=79] [job="ID:79, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:78, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:10.953 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:10.965 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=79]
[2024/05/15 17:19:10.965 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:19:10.965 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=39] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_ttl_job_history (\n\t\tjob_id varchar(64) PRIMARY KEY,\n\t\ttable_id bigint(64) NOT NULL,\n        parent_table_id bigint(64) NOT NULL,\n    \ttable_schema varchar(64) NOT NULL,\n\t\ttable_name varchar(64) NOT NULL,\n    \tpartition_name varchar(64) DEFAULT NULL,\n\t\tcreate_time timestamp NOT NULL,\n\t\tfinish_time timestamp NOT NULL,\n\t\tttl_expire timestamp NOT NULL,\n        summary_text text,\n\t\texpired_rows bigint(64) DEFAULT NULL,\n    \tdeleted_rows bigint(64) DEFAULT NULL,\n    \terror_delete_rows bigint(64) DEFAULT NULL,\n    \tstatus varchar(64) NOT NULL,\n    \tkey(table_schema, table_name, create_time),\n    \tkey(parent_table_id, create_time),\n    \tkey(create_time)\n\t);"] [user=]
[2024/05/15 17:19:10.966 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:81, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:80, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:10.965 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:19:10.966 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:81, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:80, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:10.965 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_ttl_job_history (\n\t\tjob_id varchar(64) PRIMARY KEY,\n\t\ttable_id bigint(64) NOT NULL,\n        parent_table_id bigint(64) NOT NULL,\n    \ttable_schema varchar(64) NOT NULL,\n\t\ttable_name varchar(64) NOT NULL,\n    \tpartition_name varchar(64) DEFAULT NULL,\n\t\tcreate_time timestamp NOT NULL,\n\t\tfinish_time timestamp NOT NULL,\n\t\tttl_expire timestamp NOT NULL,\n        summary_text text,\n\t\texpired_rows bigint(64) DEFAULT NULL,\n    \tdeleted_rows bigint(64) DEFAULT NULL,\n    \terror_delete_rows bigint(64) DEFAULT NULL,\n    \tstatus varchar(64) NOT NULL,\n    \tkey(table_schema, table_name, create_time),\n    \tkey(parent_table_id, create_time),\n    \tkey(create_time)\n\t);"]
[2024/05/15 17:19:10.969 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=81] [category=ddl] [job="ID:81, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:80, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:10.965 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:10.971 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=39] [neededSchemaVersion=40] ["start time"=387.833s] [gotSchemaVersion=40] [phyTblIDs="[80]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:19:10.972 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:19:10.972 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=81] [version=40]
[2024/05/15 17:19:10.973 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=40] ["take time"=2.0025ms] [job="ID:81, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:80, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:10.965 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:10.976 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=81] [job="ID:81, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:80, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:10.965 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:10.978 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=81]
[2024/05/15 17:19:10.978 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:19:10.978 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=40] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_global_task (\n\t\tid BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n    \ttask_key VARCHAR(256) NOT NULL,\n\t\ttype VARCHAR(256) NOT NULL,\n\t\tdispatcher_id VARCHAR(261),\n\t\tstate VARCHAR(64) NOT NULL,\n\t\tpriority INT DEFAULT 1,\n\t\tcreate_time TIMESTAMP,\n\t\tstart_time TIMESTAMP,\n\t\tstate_update_time TIMESTAMP,\n\t\tend_time TIMESTAMP,\n\t\tmeta LONGBLOB,\n\t\tconcurrency INT(11),\n\t\tstep INT(11),\n\t\ttarget_scope VARCHAR(256) DEFAULT \"\",\n\t\terror BLOB,\n\t\tkey(state),\n      \tUNIQUE KEY task_key(task_key)\n\t);"] [user=]
[2024/05/15 17:19:10.979 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:83, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:82, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:10.979 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:19:10.979 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:83, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:82, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:10.979 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_global_task (\n\t\tid BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n    \ttask_key VARCHAR(256) NOT NULL,\n\t\ttype VARCHAR(256) NOT NULL,\n\t\tdispatcher_id VARCHAR(261),\n\t\tstate VARCHAR(64) NOT NULL,\n\t\tpriority INT DEFAULT 1,\n\t\tcreate_time TIMESTAMP,\n\t\tstart_time TIMESTAMP,\n\t\tstate_update_time TIMESTAMP,\n\t\tend_time TIMESTAMP,\n\t\tmeta LONGBLOB,\n\t\tconcurrency INT(11),\n\t\tstep INT(11),\n\t\ttarget_scope VARCHAR(256) DEFAULT \"\",\n\t\terror BLOB,\n\t\tkey(state),\n      \tUNIQUE KEY task_key(task_key)\n\t);"]
[2024/05/15 17:19:10.982 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=83] [category=ddl] [job="ID:83, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:82, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:10.979 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:10.984 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=40] [neededSchemaVersion=41] ["start time"=360.875s] [gotSchemaVersion=41] [phyTblIDs="[82]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:19:10.985 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:19:10.985 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=83] [version=41]
[2024/05/15 17:19:10.986 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=41] ["take time"=2.003625ms] [job="ID:83, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:82, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:10.979 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:10.989 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=83] [job="ID:83, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:82, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:10.979 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:10.991 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=83]
[2024/05/15 17:19:10.991 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:19:10.991 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=41] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_global_task_history (\n\t\tid BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n    \ttask_key VARCHAR(256) NOT NULL,\n\t\ttype VARCHAR(256) NOT NULL,\n\t\tdispatcher_id VARCHAR(261),\n\t\tstate VARCHAR(64) NOT NULL,\n\t\tpriority INT DEFAULT 1,\n\t\tcreate_time TIMESTAMP,\n\t\tstart_time TIMESTAMP,\n\t\tstate_update_time TIMESTAMP,\n\t\tend_time TIMESTAMP,\n\t\tmeta LONGBLOB,\n\t\tconcurrency INT(11),\n\t\tstep INT(11),\n\t\ttarget_scope VARCHAR(256) DEFAULT \"\",\n\t\terror BLOB,\n\t\tkey(state),\n      \tUNIQUE KEY task_key(task_key)\n\t);"] [user=]
[2024/05/15 17:19:10.992 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:85, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:84, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:10.992 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:19:10.992 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:85, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:84, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:10.992 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_global_task_history (\n\t\tid BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n    \ttask_key VARCHAR(256) NOT NULL,\n\t\ttype VARCHAR(256) NOT NULL,\n\t\tdispatcher_id VARCHAR(261),\n\t\tstate VARCHAR(64) NOT NULL,\n\t\tpriority INT DEFAULT 1,\n\t\tcreate_time TIMESTAMP,\n\t\tstart_time TIMESTAMP,\n\t\tstate_update_time TIMESTAMP,\n\t\tend_time TIMESTAMP,\n\t\tmeta LONGBLOB,\n\t\tconcurrency INT(11),\n\t\tstep INT(11),\n\t\ttarget_scope VARCHAR(256) DEFAULT \"\",\n\t\terror BLOB,\n\t\tkey(state),\n      \tUNIQUE KEY task_key(task_key)\n\t);"]
[2024/05/15 17:19:10.996 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=85] [category=ddl] [job="ID:85, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:84, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:10.992 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:10.997 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=41] [neededSchemaVersion=42] ["start time"=350.791s] [gotSchemaVersion=42] [phyTblIDs="[84]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:19:10.998 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:19:10.998 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=85] [version=42]
[2024/05/15 17:19:10.999 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=42] ["take time"=2.012833ms] [job="ID:85, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:84, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:10.992 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:11.003 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=85] [job="ID:85, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:84, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:10.992 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:11.005 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=85]
[2024/05/15 17:19:11.005 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:19:11.005 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=42] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_import_jobs (\n\t\tid bigint(64) NOT NULL AUTO_INCREMENT,\n\t\tcreate_time TIMESTAMP(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6),\n\t\tstart_time TIMESTAMP(6) NULL DEFAULT NULL,\n\t\tupdate_time TIMESTAMP(6) NULL DEFAULT NULL,\n\t\tend_time TIMESTAMP(6) NULL DEFAULT NULL,\n\t\ttable_schema VARCHAR(64) NOT NULL,\n\t\ttable_name VARCHAR(64) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tcreated_by VARCHAR(300) NOT NULL,\n\t\tparameters text NOT NULL,\n\t\tsource_file_size bigint(64) NOT NULL,\n\t\tstatus VARCHAR(64) NOT NULL,\n\t\tstep VARCHAR(64) NOT NULL,\n\t\tsummary text DEFAULT NULL,\n\t\terror_message TEXT DEFAULT NULL,\n\t\tPRIMARY KEY (id),\n\t\tKEY (created_by),\n\t\tKEY (status));"] [user=]
[2024/05/15 17:19:11.006 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:87, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:86, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:11.005 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:19:11.006 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:87, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:86, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:11.005 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_import_jobs (\n\t\tid bigint(64) NOT NULL AUTO_INCREMENT,\n\t\tcreate_time TIMESTAMP(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6),\n\t\tstart_time TIMESTAMP(6) NULL DEFAULT NULL,\n\t\tupdate_time TIMESTAMP(6) NULL DEFAULT NULL,\n\t\tend_time TIMESTAMP(6) NULL DEFAULT NULL,\n\t\ttable_schema VARCHAR(64) NOT NULL,\n\t\ttable_name VARCHAR(64) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tcreated_by VARCHAR(300) NOT NULL,\n\t\tparameters text NOT NULL,\n\t\tsource_file_size bigint(64) NOT NULL,\n\t\tstatus VARCHAR(64) NOT NULL,\n\t\tstep VARCHAR(64) NOT NULL,\n\t\tsummary text DEFAULT NULL,\n\t\terror_message TEXT DEFAULT NULL,\n\t\tPRIMARY KEY (id),\n\t\tKEY (created_by),\n\t\tKEY (status));"]
[2024/05/15 17:19:11.009 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=87] [category=ddl] [job="ID:87, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:86, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:11.005 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:11.011 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=42] [neededSchemaVersion=43] ["start time"=380.5s] [gotSchemaVersion=43] [phyTblIDs="[86]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:19:11.012 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:19:11.012 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=87] [version=43]
[2024/05/15 17:19:11.013 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=43] ["take time"=2.003916ms] [job="ID:87, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:86, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:11.005 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:11.016 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=87] [job="ID:87, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:86, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:11.005 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:11.018 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=87]
[2024/05/15 17:19:11.018 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:19:11.018 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=43] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_runaway_watch (\n\t\tid BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n\t\tresource_group_name varchar(32) not null,\n\t\tstart_time datetime(6) NOT NULL,\n\t\tend_time datetime(6),\n\t\twatch bigint(10) NOT NULL,\n\t\twatch_text TEXT NOT NULL,\n\t\tsource varchar(512) NOT NULL,\n\t\taction bigint(10),\n\t\tINDEX sql_index(resource_group_name,watch_text(700)) COMMENT \"accelerate the speed when select quarantined query\",\n\t\tINDEX time_index(end_time) COMMENT \"accelerate the speed when querying with active watch\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"] [user=]
[2024/05/15 17:19:11.019 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:89, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:88, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:11.019 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:19:11.019 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:89, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:88, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:11.019 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_runaway_watch (\n\t\tid BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n\t\tresource_group_name varchar(32) not null,\n\t\tstart_time datetime(6) NOT NULL,\n\t\tend_time datetime(6),\n\t\twatch bigint(10) NOT NULL,\n\t\twatch_text TEXT NOT NULL,\n\t\tsource varchar(512) NOT NULL,\n\t\taction bigint(10),\n\t\tINDEX sql_index(resource_group_name,watch_text(700)) COMMENT \"accelerate the speed when select quarantined query\",\n\t\tINDEX time_index(end_time) COMMENT \"accelerate the speed when querying with active watch\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"]
[2024/05/15 17:19:11.022 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=89] [category=ddl] [job="ID:89, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:88, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:11.019 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:11.024 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=43] [neededSchemaVersion=44] ["start time"=270.5s] [gotSchemaVersion=44] [phyTblIDs="[88]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:19:11.024 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:19:11.024 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=89] [version=44]
[2024/05/15 17:19:11.026 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=44] ["take time"=2.008042ms] [job="ID:89, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:88, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:11.019 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:11.029 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=89] [job="ID:89, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:88, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:11.019 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:11.031 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=89]
[2024/05/15 17:19:11.031 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:19:11.031 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=44] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_runaway_queries (\n\t\tresource_group_name varchar(32) not null,\n\t\ttime TIMESTAMP NOT NULL,\n\t\tmatch_type varchar(12) NOT NULL,\n\t\taction varchar(12) NOT NULL,\n\t\toriginal_sql TEXT NOT NULL,\n\t\tplan_digest TEXT NOT NULL,\n\t\ttidb_server varchar(512),\n\t\tINDEX plan_index(plan_digest(64)) COMMENT \"accelerate the speed when select runaway query\",\n\t\tINDEX time_index(time) COMMENT \"accelerate the speed when querying with active watch\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"] [user=]
[2024/05/15 17:19:11.032 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:91, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:90, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:11.031 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:19:11.032 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:91, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:90, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:11.031 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_runaway_queries (\n\t\tresource_group_name varchar(32) not null,\n\t\ttime TIMESTAMP NOT NULL,\n\t\tmatch_type varchar(12) NOT NULL,\n\t\taction varchar(12) NOT NULL,\n\t\toriginal_sql TEXT NOT NULL,\n\t\tplan_digest TEXT NOT NULL,\n\t\ttidb_server varchar(512),\n\t\tINDEX plan_index(plan_digest(64)) COMMENT \"accelerate the speed when select runaway query\",\n\t\tINDEX time_index(time) COMMENT \"accelerate the speed when querying with active watch\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"]
[2024/05/15 17:19:11.035 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=91] [category=ddl] [job="ID:91, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:90, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:11.031 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:11.037 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=44] [neededSchemaVersion=45] ["start time"=250.292s] [gotSchemaVersion=45] [phyTblIDs="[90]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:19:11.037 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:19:11.037 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=91] [version=45]
[2024/05/15 17:19:11.038 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=45] ["take time"=2.012333ms] [job="ID:91, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:90, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:11.031 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:11.042 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=91] [job="ID:91, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:90, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:11.031 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:11.043 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=91]
[2024/05/15 17:19:11.043 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:19:11.044 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=45] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS `mysql`.`tidb_timers` (\n\t\tID BIGINT(64) UNSIGNED NOT NULL AUTO_INCREMENT,\n\t\tNAMESPACE VARCHAR(256) NOT NULL,\n\t\tTIMER_KEY VARCHAR(256) NOT NULL,\n\t\tTIMER_DATA BLOB,\n\t\tTIMEZONE VARCHAR(64) NOT NULL,\n\t\tSCHED_POLICY_TYPE VARCHAR(32) NOT NULL,\n\t\tSCHED_POLICY_EXPR VARCHAR(256) NOT NULL,\n\t\tHOOK_CLASS VARCHAR(64) NOT NULL,\n\t\tWATERMARK TIMESTAMP DEFAULT NULL,\n\t\tENABLE TINYINT(2) NOT NULL,\n\t\tTIMER_EXT JSON NOT NULL,\n\t\tEVENT_STATUS VARCHAR(32) NOT NULL,\n\t\tEVENT_ID VARCHAR(64) NOT NULL,\n\t\tEVENT_DATA BLOB,\n\t\tEVENT_START TIMESTAMP DEFAULT NULL,\n\t\tSUMMARY_DATA BLOB,\n\t\tCREATE_TIME TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,\n\t\tUPDATE_TIME TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\tVERSION BIGINT(64) UNSIGNED NOT NULL,\n\t\tPRIMARY KEY (ID),\n\t\tUNIQUE KEY timer_key(NAMESPACE, TIMER_KEY),\n\t\tKEY hook_class(HOOK_CLASS)\n\t)"] [user=]
[2024/05/15 17:19:11.046 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:93, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:92, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:11.044 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:19:11.046 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:93, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:92, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:11.044 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS `mysql`.`tidb_timers` (\n\t\tID BIGINT(64) UNSIGNED NOT NULL AUTO_INCREMENT,\n\t\tNAMESPACE VARCHAR(256) NOT NULL,\n\t\tTIMER_KEY VARCHAR(256) NOT NULL,\n\t\tTIMER_DATA BLOB,\n\t\tTIMEZONE VARCHAR(64) NOT NULL,\n\t\tSCHED_POLICY_TYPE VARCHAR(32) NOT NULL,\n\t\tSCHED_POLICY_EXPR VARCHAR(256) NOT NULL,\n\t\tHOOK_CLASS VARCHAR(64) NOT NULL,\n\t\tWATERMARK TIMESTAMP DEFAULT NULL,\n\t\tENABLE TINYINT(2) NOT NULL,\n\t\tTIMER_EXT JSON NOT NULL,\n\t\tEVENT_STATUS VARCHAR(32) NOT NULL,\n\t\tEVENT_ID VARCHAR(64) NOT NULL,\n\t\tEVENT_DATA BLOB,\n\t\tEVENT_START TIMESTAMP DEFAULT NULL,\n\t\tSUMMARY_DATA BLOB,\n\t\tCREATE_TIME TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,\n\t\tUPDATE_TIME TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\tVERSION BIGINT(64) UNSIGNED NOT NULL,\n\t\tPRIMARY KEY (ID),\n\t\tUNIQUE KEY timer_key(NAMESPACE, TIMER_KEY),\n\t\tKEY hook_class(HOOK_CLASS)\n\t)"]
[2024/05/15 17:19:11.052 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=93] [category=ddl] [job="ID:93, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:92, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:11.044 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:11.056 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=45] [neededSchemaVersion=46] ["start time"=661.417s] [gotSchemaVersion=46] [phyTblIDs="[92]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:19:11.057 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:19:11.057 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=93] [version=46]
[2024/05/15 17:19:11.058 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=46] ["take time"=2.537958ms] [job="ID:93, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:92, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:11.044 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:11.063 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=93] [job="ID:93, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:92, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:11.044 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:11.066 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=93]
[2024/05/15 17:19:11.066 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:19:11.067 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=46] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_runaway_watch_done (\n\t\tid BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n\t\trecord_id BIGINT(20) not null,\n\t\tresource_group_name varchar(32) not null,\n\t\tstart_time datetime(6) NOT NULL,\n\t\tend_time datetime(6),\n\t\twatch bigint(10) NOT NULL,\n\t\twatch_text TEXT NOT NULL,\n\t\tsource varchar(512) NOT NULL,\n\t\taction bigint(10),\n\t\tdone_time TIMESTAMP(6) NOT NULL\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"] [user=]
[2024/05/15 17:19:11.070 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:95, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:94, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:11.069 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:19:11.070 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:95, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:94, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:11.069 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_runaway_watch_done (\n\t\tid BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n\t\trecord_id BIGINT(20) not null,\n\t\tresource_group_name varchar(32) not null,\n\t\tstart_time datetime(6) NOT NULL,\n\t\tend_time datetime(6),\n\t\twatch bigint(10) NOT NULL,\n\t\twatch_text TEXT NOT NULL,\n\t\tsource varchar(512) NOT NULL,\n\t\taction bigint(10),\n\t\tdone_time TIMESTAMP(6) NOT NULL\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"]
[2024/05/15 17:19:11.076 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=95] [category=ddl] [job="ID:95, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:94, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:11.069 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:11.079 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=46] [neededSchemaVersion=47] ["start time"=421.834s] [gotSchemaVersion=47] [phyTblIDs="[94]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:19:11.080 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:19:11.080 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=95] [version=47]
[2024/05/15 17:19:11.081 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=47] ["take time"=2.483291ms] [job="ID:95, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:94, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:11.069 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:11.088 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=95] [job="ID:95, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:94, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:11.069 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:11.089 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=95]
[2024/05/15 17:19:11.089 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:19:11.090 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=47] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.dist_framework_meta (\n        host VARCHAR(261) NOT NULL PRIMARY KEY,\n        role VARCHAR(64),\n        cpu_count int default 0,\n        keyspace_id bigint(8) NOT NULL DEFAULT -1\n    );"] [user=]
[2024/05/15 17:19:11.091 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:97, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:96, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:11.09 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:19:11.091 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:97, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:96, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:11.09 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.dist_framework_meta (\n        host VARCHAR(261) NOT NULL PRIMARY KEY,\n        role VARCHAR(64),\n        cpu_count int default 0,\n        keyspace_id bigint(8) NOT NULL DEFAULT -1\n    );"]
[2024/05/15 17:19:11.094 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=97] [category=ddl] [job="ID:97, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:96, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:11.09 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:11.095 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=47] [neededSchemaVersion=48] ["start time"=210.375s] [gotSchemaVersion=48] [phyTblIDs="[96]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:19:11.096 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:19:11.096 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=97] [version=48]
[2024/05/15 17:19:11.097 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=48] ["take time"=2.37325ms] [job="ID:97, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:96, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:11.09 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:11.100 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=97] [job="ID:97, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:96, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:11.09 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:11.102 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=97]
[2024/05/15 17:19:11.102 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:19:11.102 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=48] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.request_unit_by_group (\n\t\tstart_time TIMESTAMP(6) NOT NULL,\n\t\tend_time TIMESTAMP(6) NOT NULL,\n\t\tresource_group VARCHAR(32) NOT null,\n\t\ttotal_ru bigint(64) UNSIGNED NOT NULL,\n\t\tPRIMARY KEY (start_time, end_time, resource_group),\n\t\tKEY (resource_group)\n\t);"] [user=]
[2024/05/15 17:19:11.103 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:99, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:98, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:11.103 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:19:11.103 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:99, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:98, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:11.103 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.request_unit_by_group (\n\t\tstart_time TIMESTAMP(6) NOT NULL,\n\t\tend_time TIMESTAMP(6) NOT NULL,\n\t\tresource_group VARCHAR(32) NOT null,\n\t\ttotal_ru bigint(64) UNSIGNED NOT NULL,\n\t\tPRIMARY KEY (start_time, end_time, resource_group),\n\t\tKEY (resource_group)\n\t);"]
[2024/05/15 17:19:11.107 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=99] [category=ddl] [job="ID:99, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:98, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:11.103 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:11.108 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=48] [neededSchemaVersion=49] ["start time"=213.458s] [gotSchemaVersion=49] [phyTblIDs="[98]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:19:11.109 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:19:11.109 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=99] [version=49]
[2024/05/15 17:19:11.110 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=49] ["take time"=2.06825ms] [job="ID:99, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:98, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:11.103 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:11.114 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=99] [job="ID:99, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:98, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:11.103 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:11.115 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=99]
[2024/05/15 17:19:11.115 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:19:11.115 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=49] [cur_db=mysql] [sql="CREATE DATABASE IF NOT EXISTS sys;"] [user=]
[2024/05/15 17:19:11.116 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:101, Type:create schema, State:queueing, SchemaState:none, SchemaID:100, TableID:0, RowCount:0, ArgLen:1, start time: 2024-05-15 17:19:11.116 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:19:11.116 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:101, Type:create schema, State:queueing, SchemaState:none, SchemaID:100, TableID:0, RowCount:0, ArgLen:1, start time: 2024-05-15 17:19:11.116 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE DATABASE IF NOT EXISTS sys;"]
[2024/05/15 17:19:11.120 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=101] [category=ddl] [job="ID:101, Type:create schema, State:queueing, SchemaState:none, SchemaID:100, TableID:0, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:11.116 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:11.121 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=49] [neededSchemaVersion=50] ["start time"=35.708s] [gotSchemaVersion=50] [phyTblIDs="[]"] [actionTypes="[]"] [diffTypes="[\"create schema\"]"]
[2024/05/15 17:19:11.122 +08:00] [INFO] [runaway.go:158] ["preparations for the runaway manager are finished and start runaway manager loop"]
[2024/05/15 17:19:11.122 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=runawayRecordFlushLoop]
[2024/05/15 17:19:11.122 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=runawayWatchSyncLoop]
[2024/05/15 17:19:11.122 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=runawayStartLoop]
[2024/05/15 17:19:11.122 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:19:11.122 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=101] [version=50]
[2024/05/15 17:19:11.124 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=50] ["take time"=3.106333ms] [job="ID:101, Type:create schema, State:done, SchemaState:public, SchemaID:100, TableID:0, RowCount:0, ArgLen:1, start time: 2024-05-15 17:19:11.116 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:11.127 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=101] [job="ID:101, Type:create schema, State:synced, SchemaState:public, SchemaID:100, TableID:0, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:11.116 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:11.129 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=101]
[2024/05/15 17:19:11.129 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:19:11.131 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:103, Type:create view, State:queueing, SchemaState:none, SchemaID:100, TableID:102, RowCount:0, ArgLen:3, start time: 2024-05-15 17:19:11.131 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:19:11.131 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:103, Type:create view, State:queueing, SchemaState:none, SchemaID:100, TableID:102, RowCount:0, ArgLen:3, start time: 2024-05-15 17:19:11.131 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE OR REPLACE VIEW sys.schema_unused_indexes AS\n\t\tSELECT\n\t\t\ttable_schema as object_schema,\n\t\t\ttable_name as object_name,\n\t\t\tindex_name\n\t\tFROM information_schema.cluster_tidb_index_usage\n\t\tWHERE\n\t\t\ttable_schema not in ('sys', 'mysql', 'INFORMATION_SCHEMA', 'PERFORMANCE_SCHEMA') and\n\t\t\tindex_name != 'PRIMARY'\n\t\tGROUP BY table_schema, table_name, index_name\n\t\tHAVING\n\t\t\tsum(last_access_time) is null;"]
[2024/05/15 17:19:11.136 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=103] [category=ddl] [job="ID:103, Type:create view, State:queueing, SchemaState:none, SchemaID:100, TableID:102, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:11.131 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:11.137 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=50] [neededSchemaVersion=51] ["start time"=170.958s] [gotSchemaVersion=51] [phyTblIDs="[102]"] [actionTypes="[21]"] [diffTypes="[\"create view\"]"]
[2024/05/15 17:19:11.138 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:19:11.138 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=103] [version=51]
[2024/05/15 17:19:11.139 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=51] ["take time"=2.741917ms] [job="ID:103, Type:create view, State:done, SchemaState:public, SchemaID:100, TableID:102, RowCount:0, ArgLen:3, start time: 2024-05-15 17:19:11.131 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:11.143 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=103] [job="ID:103, Type:create view, State:synced, SchemaState:public, SchemaID:100, TableID:102, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:11.131 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:11.145 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=103]
[2024/05/15 17:19:11.145 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:19:11.146 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=0] ["to ID"=1] ["table ID"=4] ["database ID"=1]
[2024/05/15 17:19:11.149 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=0] ["to ID"=655] ["table ID"=16] ["database ID"=1]
[2024/05/15 17:19:11.154 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=0] ["to ID"=1] ["table ID"=18] ["database ID"=1]
[2024/05/15 17:19:11.154 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1] ["to ID"=2] ["table ID"=18] ["database ID"=1]
[2024/05/15 17:19:11.154 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2] ["to ID"=3] ["table ID"=18] ["database ID"=1]
[2024/05/15 17:19:11.154 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3] ["to ID"=4] ["table ID"=18] ["database ID"=1]
[2024/05/15 17:19:11.155 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=4] ["to ID"=5] ["table ID"=18] ["database ID"=1]
[2024/05/15 17:19:11.158 +08:00] [INFO] [bootstrap.go:745] ["bootstrap successful"] ["take time"=1.03927575s]
[2024/05/15 17:19:11.159 +08:00] [INFO] [mock.go:106] ["owner manager is canceled"] [category=ddl] [ID=ec7116c0-21f1-4bc6-9a15-27330431fe65] [ownerKey=/tidb/ddl/fg/owner]
[2024/05/15 17:19:11.159 +08:00] [INFO] [ddl_workerpool.go:82] ["closing workerPool"] [category=ddl]
[2024/05/15 17:19:11.159 +08:00] [INFO] [ddl_worker.go:186] ["DDL worker closed"] [worker="worker 2, tp add index"] [category=ddl] ["take time"=750ns]
[2024/05/15 17:19:11.159 +08:00] [INFO] [ddl_workerpool.go:82] ["closing workerPool"] [category=ddl]
[2024/05/15 17:19:11.159 +08:00] [INFO] [ddl_worker.go:186] ["DDL worker closed"] [worker="worker 1, tp general"] [category=ddl] ["take time"=292ns]
[2024/05/15 17:19:11.159 +08:00] [INFO] [ddl_workerpool.go:82] ["closing workerPool"] [category=ddl]
[2024/05/15 17:19:11.159 +08:00] [INFO] [delete_range.go:162] ["closing delRange"] [category=ddl]
[2024/05/15 17:19:11.159 +08:00] [INFO] [session_pool.go:99] ["closing session pool"] [category=ddl]
[2024/05/15 17:19:11.160 +08:00] [INFO] [ddl.go:951] ["DDL closed"] [category=ddl] [ID=ec7116c0-21f1-4bc6-9a15-27330431fe65] ["take time"=1.8735ms]
[2024/05/15 17:19:11.160 +08:00] [INFO] [ddl.go:769] ["stop DDL"] [category=ddl] [ID=ec7116c0-21f1-4bc6-9a15-27330431fe65]
[2024/05/15 17:19:11.160 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=mdlCheckLoop]
[2024/05/15 17:19:11.160 +08:00] [INFO] [domain.go:915] ["loadSchemaInLoop exited."]
[2024/05/15 17:19:11.160 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=loadSchemaInLoop]
[2024/05/15 17:19:11.160 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=runawayRecordFlushLoop]
[2024/05/15 17:19:11.160 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=runawayWatchSyncLoop]
[2024/05/15 17:19:11.160 +08:00] [INFO] [domain.go:769] ["topologySyncerKeeper exited."]
[2024/05/15 17:19:11.160 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=topologySyncerKeeper]
[2024/05/15 17:19:11.160 +08:00] [INFO] [domain.go:745] ["globalConfigSyncerKeeper exited."]
[2024/05/15 17:19:11.160 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=globalConfigSyncerKeeper]
[2024/05/15 17:19:11.160 +08:00] [INFO] [domain.go:719] ["infoSyncerKeeper exited."]
[2024/05/15 17:19:11.160 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=infoSyncerKeeper]
[2024/05/15 17:19:11.160 +08:00] [INFO] [domain.go:691] ["topNSlowQueryLoop exited."]
[2024/05/15 17:19:11.160 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=topNSlowQueryLoop]
[2024/05/15 17:19:11.160 +08:00] [INFO] [domain.go:1369] ["closestReplicaReadCheckLoop exited."]
[2024/05/15 17:19:11.160 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=closestReplicaReadCheckLoop]
[2024/05/15 17:19:11.160 +08:00] [INFO] [domain.go:1082] ["domain closed"] ["take time"=2.033458ms]
[2024/05/15 17:19:11.160 +08:00] [INFO] [tidb.go:80] ["new domain"] [store=7852b266-3938-4798-b4d6-83d676d6e638] ["ddl lease"=500ms] ["stats lease"=-1ns]
[2024/05/15 17:19:11.162 +08:00] [WARN] [controller.go:198] ["[resource group controller] server does not save config, load config failed"]
[2024/05/15 17:19:11.162 +08:00] [INFO] [controller.go:185] ["load resource controller config"] [config="{\"degraded-mode-wait-duration\":\"0s\",\"ltb-max-wait-duration\":\"30s\",\"wait-retry-interval\":\"50ms\",\"wait-retry-times\":10,\"request-unit\":{\"read-base-cost\":0.125,\"read-per-batch-base-cost\":0.5,\"read-cost-per-byte\":0.0000152587890625,\"write-base-cost\":1,\"write-per-batch-base-cost\":1,\"write-cost-per-byte\":0.0009765625,\"read-cpu-ms-cost\":0.3333333333333333},\"enable-controller-trace-log\":\"false\"}"] [ru-config="{\"ReadBaseCost\":0.125,\"ReadPerBatchBaseCost\":0.5,\"ReadBytesCost\":0.0000152587890625,\"WriteBaseCost\":1,\"WritePerBatchBaseCost\":1,\"WriteBytesCost\":0.0009765625,\"CPUMsCost\":0.3333333333333333,\"LTBMaxWaitDuration\":30000000000,\"WaitRetryInterval\":50000000,\"WaitRetryTimes\":10,\"DegradedModeWaitDuration\":0}"]
[2024/05/15 17:19:11.174 +08:00] [INFO] [domain.go:323] ["full load InfoSchema success"] [currentSchemaVersion=0] [neededSchemaVersion=51] ["start time"=12.39675ms]
[2024/05/15 17:19:11.180 +08:00] [INFO] [domain.go:643] ["full load and reset schema validator"]
[2024/05/15 17:19:11.180 +08:00] [INFO] [ddl.go:818] ["start DDL"] [category=ddl] [ID=9d53c3ac-64d1-4fdb-8bf6-a78d9ce924ec] [runWorker=true]
[2024/05/15 17:19:11.181 +08:00] [INFO] [ddl.go:777] ["start delRangeManager OK"] [category=ddl] ["is a emulator"=true]
[2024/05/15 17:19:11.181 +08:00] [WARN] [env.go:51] ["initialize environment failed"] [category=ddl-ingest] ["storage limitation"="only support TiKV storage"] ["current storage"=unistore] ["lightning is initialized"=false]
[2024/05/15 17:19:11.181 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=loadSchemaInLoop]
[2024/05/15 17:19:11.181 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=mdlCheckLoop]
[2024/05/15 17:19:11.181 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=topNSlowQueryLoop]
[2024/05/15 17:19:11.181 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=infoSyncerKeeper]
[2024/05/15 17:19:11.181 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=globalConfigSyncerKeeper]
[2024/05/15 17:19:11.181 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=runawayStartLoop]
[2024/05/15 17:19:11.181 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=requestUnitsWriterLoop]
[2024/05/15 17:19:11.181 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=topologySyncerKeeper]
[2024/05/15 17:19:11.181 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=closestReplicaReadCheckLoop]
[2024/05/15 17:19:11.181 +08:00] [WARN] [domain.go:1334] ["pd / etcd client not provided, won't begin Advancer."]
[2024/05/15 17:19:11.197 +08:00] [INFO] [delete_range.go:172] ["start delRange emulator"] [category=ddl]
[2024/05/15 17:19:11.197 +08:00] [INFO] [job_table.go:334] ["get global state and global state change"] [category=ddl] [oldState=false] [currState=false]
[2024/05/15 17:19:11.197 +08:00] [INFO] [runaway.go:149] ["try to start runaway manager loop"]
[2024/05/15 17:19:11.197 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=requestUnitsWriterLoop]
[2024/05/15 17:19:11.205 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=globalBindHandleWorkerLoop]
[2024/05/15 17:19:11.205 +08:00] [WARN] [sysvar_cache.go:49] ["sysvar cache is empty, triggering rebuild"]
[2024/05/15 17:19:11.206 +08:00] [INFO] [sysvar.go:2748] ["set resource control"] [enable=true]
[2024/05/15 17:19:11.207 +08:00] [INFO] [controller.go:447] ["[resource group controller] create resource group cost controller"] [name=default]
[2024/05/15 17:19:11.212 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=loadPrivilegeInLoop]
[2024/05/15 17:19:11.213 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=LoadSysVarCacheLoop]
[2024/05/15 17:19:11.213 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=dumpFileGcChecker]
[2024/05/15 17:19:11.214 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=indexUsageWorker]
[2024/05/15 17:19:11.214 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=quitStatsOwner]
[2024/05/15 17:19:11.214 +08:00] [INFO] [domain.go:2278] ["start load stats sub workers"] ["worker count"=5]
[2024/05/15 17:19:11.214 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=loadSigningCertLoop]
[2024/05/15 17:19:11.214 +08:00] [INFO] [manager.go:113] ["build task executor manager"] [server-id=:4000] [total-cpu=1] [total-mem=32GiB]
[2024/05/15 17:19:11.214 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=0] ["to ID"=1] ["table ID"=96] ["database ID"=1]
[2024/05/15 17:19:11.215 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=distTaskFrameworkLoop]
[2024/05/15 17:19:11.215 +08:00] [INFO] [domain.go:2078] ["dumpFileGcChecker started"]
[2024/05/15 17:19:11.215 +08:00] [INFO] [task_manager.go:217] ["scale ttl worker"] [ttl-worker=job-manager] [ttl-worker=task-manager] [originalCount=0] [newCount=4]
[2024/05/15 17:19:11.216 +08:00] [INFO] [task_manager.go:217] ["scale ttl worker"] [ttl-worker=job-manager] [ttl-worker=task-manager] [originalCount=0] [newCount=4]
[2024/05/15 17:19:11.218 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=30000] ["to ID"=30001] ["table ID"=16] ["database ID"=1]
[2024/05/15 17:19:11.218 +08:00] [INFO] [manager.go:146] ["task executor manager start"] [server-id=:4000]
[2024/05/15 17:19:11.218 +08:00] [INFO] [domain.go:1533] ["dist task executor manager started"]
[2024/05/15 17:19:11.220 +08:00] [INFO] [set.go:170] ["set global var"] [conn=1] [name=tidb_schema_cache_size] [val=1024]
[2024/05/15 17:19:11.220 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=1] [schemaVersion=51] [cur_db=] [sql="DROP DATABASE IF EXISTS `test_hidden`;"] [user=]
[2024/05/15 17:19:11.220 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=1] [schemaVersion=51] [cur_db=] [sql="CREATE DATABASE `test_hidden`;"] [user=]
[2024/05/15 17:19:11.222 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:105, Type:create schema, State:queueing, SchemaState:none, SchemaID:104, TableID:0, RowCount:0, ArgLen:1, start time: 2024-05-15 17:19:11.221 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:19:11.222 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:105, Type:create schema, State:queueing, SchemaState:none, SchemaID:104, TableID:0, RowCount:0, ArgLen:1, start time: 2024-05-15 17:19:11.221 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE DATABASE `test_hidden`;"]
[2024/05/15 17:19:11.247 +08:00] [INFO] [job_table.go:334] ["get global state and global state change"] [category=ddl] [oldState=false] [currState=false]
[2024/05/15 17:19:11.247 +08:00] [INFO] [job_table.go:349] ["the owner sets owner operator value"] [category=ddl] [ownerOp=none]
[2024/05/15 17:19:11.251 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=105] [conn=1] [category=ddl] [job="ID:105, Type:create schema, State:queueing, SchemaState:none, SchemaID:104, TableID:0, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:11.221 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:11.252 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=51] [neededSchemaVersion=52] ["start time"=35.416s] [gotSchemaVersion=52] [phyTblIDs="[]"] [actionTypes="[]"] [diffTypes="[\"create schema\"]"]
[2024/05/15 17:19:11.253 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=105] [version=52]
[2024/05/15 17:19:11.254 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=52] ["take time"=2.182167ms] [job="ID:105, Type:create schema, State:done, SchemaState:public, SchemaID:104, TableID:0, RowCount:0, ArgLen:1, start time: 2024-05-15 17:19:11.221 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:11.259 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=105] [conn=1] [job="ID:105, Type:create schema, State:synced, SchemaState:public, SchemaID:104, TableID:0, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:11.221 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:11.260 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=105]
[2024/05/15 17:19:11.260 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:19:11.261 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=1] [schemaVersion=52] [cur_db=test_hidden] [sql="CREATE TABLE hidden (a int , b int, c int);"] [user=]
[2024/05/15 17:19:11.262 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:107, Type:create table, State:queueing, SchemaState:none, SchemaID:104, TableID:106, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:11.261 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:19:11.262 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:107, Type:create table, State:queueing, SchemaState:none, SchemaID:104, TableID:106, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:11.261 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE hidden (a int , b int, c int);"]
[2024/05/15 17:19:11.265 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=107] [conn=1] [category=ddl] [job="ID:107, Type:create table, State:queueing, SchemaState:none, SchemaID:104, TableID:106, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:11.261 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:11.267 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=52] [neededSchemaVersion=53] ["start time"=140.333s] [gotSchemaVersion=53] [phyTblIDs="[106]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:19:11.268 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=107] [version=53]
[2024/05/15 17:19:11.269 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=53] ["take time"=2.226667ms] [job="ID:107, Type:create table, State:done, SchemaState:public, SchemaID:104, TableID:106, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:11.261 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:11.273 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=107] [conn=1] [job="ID:107, Type:create table, State:synced, SchemaState:public, SchemaID:104, TableID:106, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:11.261 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:11.277 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=107]
[2024/05/15 17:19:11.277 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:19:11.340 +08:00] [WARN] [infoschema_v3.go:59] ["table not equal"] [tbl1="{\"id\":106,\"name\":{\"O\":\"hidden\",\"L\":\"hidden\"},\"charset\":\"utf8mb4\",\"collate\":\"utf8mb4_bin\",\"cols\":[{\"id\":1,\"name\":{\"O\":\"a\",\"L\":\"a\"},\"offset\":0,\"origin_default\":null,\"origin_default_bit\":null,\"default\":null,\"default_bit\":null,\"default_is_expr\":false,\"generated_expr_string\":\"\",\"generated_stored\":false,\"dependences\":null,\"type\":{\"Tp\":3,\"Flag\":0,\"Flen\":11,\"Decimal\":0,\"Charset\":\"binary\",\"Collate\":\"binary\",\"Elems\":null,\"ElemsIsBinaryLit\":null,\"Array\":false},\"state\":5,\"comment\":\"\",\"hidden\":false,\"change_state_info\":null,\"version\":2},{\"id\":2,\"name\":{\"O\":\"b\",\"L\":\"b\"},\"offset\":1,\"origin_default\":null,\"origin_default_bit\":null,\"default\":null,\"default_bit\":null,\"default_is_expr\":false,\"generated_expr_string\":\"\",\"generated_stored\":false,\"dependences\":null,\"type\":{\"Tp\":3,\"Flag\":0,\"Flen\":11,\"Decimal\":0,\"Charset\":\"binary\",\"Collate\":\"binary\",\"Elems\":null,\"ElemsIsBinaryLit\":null,\"Array\":false},\"state\":5,\"comment\":\"\",\"hidden\":false,\"change_state_info\":null,\"version\":2},{\"id\":3,\"name\":{\"O\":\"c\",\"L\":\"c\"},\"offset\":2,\"origin_default\":null,\"origin_default_bit\":null,\"default\":null,\"default_bit\":null,\"default_is_expr\":false,\"generated_expr_string\":\"\",\"generated_stored\":false,\"dependences\":null,\"type\":{\"Tp\":3,\"Flag\":0,\"Flen\":11,\"Decimal\":0,\"Charset\":\"binary\",\"Collate\":\"binary\",\"Elems\":null,\"ElemsIsBinaryLit\":null,\"Array\":false},\"state\":5,\"comment\":\"\",\"hidden\":false,\"change_state_info\":null,\"version\":2}],\"index_info\":null,\"constraint_info\":null,\"fk_info\":null,\"state\":5,\"pk_is_handle\":false,\"is_common_handle\":false,\"common_handle_version\":0,\"comment\":\"\",\"auto_inc_id\":0,\"auto_id_cache\":0,\"auto_rand_id\":0,\"max_col_id\":3,\"max_idx_id\":0,\"max_fk_id\":0,\"max_cst_id\":0,\"update_timestamp\":449777434955612164,\"ShardRowIDBits\":0,\"max_shard_row_id_bits\":0,\"auto_random_bits\":0,\"auto_random_range_bits\":0,\"pre_split_regions\":0,\"partition\":null,\"compression\":\"\",\"view\":null,\"sequence\":null,\"Lock\":null,\"version\":5,\"tiflash_replica\":null,\"is_columnar\":false,\"temp_table_type\":0,\"cache_table_status\":0,\"policy_ref_info\":null,\"stats_options\":null,\"exchange_partition_info\":null,\"ttl_info\":null,\"revision\":0}"] [tbl2="{\"id\":106,\"name\":{\"O\":\"hidden\",\"L\":\"hidden\"},\"charset\":\"utf8mb4\",\"collate\":\"utf8mb4_bin\",\"cols\":[{\"id\":1,\"name\":{\"O\":\"a\",\"L\":\"a\"},\"offset\":0,\"origin_default\":null,\"origin_default_bit\":null,\"default\":null,\"default_bit\":null,\"default_is_expr\":false,\"generated_expr_string\":\"\",\"generated_stored\":false,\"dependences\":null,\"type\":{\"Tp\":3,\"Flag\":0,\"Flen\":11,\"Decimal\":0,\"Charset\":\"binary\",\"Collate\":\"binary\",\"Elems\":null,\"ElemsIsBinaryLit\":null,\"Array\":false},\"state\":5,\"comment\":\"\",\"hidden\":false,\"change_state_info\":null,\"version\":2},{\"id\":2,\"name\":{\"O\":\"b\",\"L\":\"b\"},\"offset\":1,\"origin_default\":null,\"origin_default_bit\":null,\"default\":null,\"default_bit\":null,\"default_is_expr\":false,\"generated_expr_string\":\"\",\"generated_stored\":false,\"dependences\":null,\"type\":{\"Tp\":3,\"Flag\":0,\"Flen\":11,\"Decimal\":0,\"Charset\":\"binary\",\"Collate\":\"binary\",\"Elems\":null,\"ElemsIsBinaryLit\":null,\"Array\":false},\"state\":5,\"comment\":\"\",\"hidden\":true,\"change_state_info\":null,\"version\":2},{\"id\":3,\"name\":{\"O\":\"c\",\"L\":\"c\"},\"offset\":2,\"origin_default\":null,\"origin_default_bit\":null,\"default\":null,\"default_bit\":null,\"default_is_expr\":false,\"generated_expr_string\":\"\",\"generated_stored\":false,\"dependences\":null,\"type\":{\"Tp\":3,\"Flag\":0,\"Flen\":11,\"Decimal\":0,\"Charset\":\"binary\",\"Collate\":\"binary\",\"Elems\":null,\"ElemsIsBinaryLit\":null,\"Array\":false},\"state\":5,\"comment\":\"\",\"hidden\":false,\"change_state_info\":null,\"version\":2}],\"index_info\":null,\"constraint_info\":null,\"fk_info\":null,\"state\":5,\"pk_is_handle\":false,\"is_common_handle\":false,\"common_handle_version\":0,\"comment\":\"\",\"auto_inc_id\":0,\"auto_id_cache\":0,\"auto_rand_id\":0,\"max_col_id\":3,\"max_idx_id\":0,\"max_fk_id\":0,\"max_cst_id\":0,\"update_timestamp\":449777434955612164,\"ShardRowIDBits\":0,\"max_shard_row_id_bits\":0,\"auto_random_bits\":0,\"auto_random_range_bits\":0,\"pre_split_regions\":0,\"partition\":null,\"compression\":\"\",\"view\":null,\"sequence\":null,\"Lock\":null,\"version\":5,\"tiflash_replica\":null,\"is_columnar\":false,\"temp_table_type\":0,\"cache_table_status\":0,\"policy_ref_info\":null,\"stats_options\":null,\"exchange_partition_info\":null,\"ttl_info\":null,\"revision\":0}"]
[2024/05/15 17:19:11.344 +08:00] [INFO] [mock.go:106] ["owner manager is canceled"] [category=ddl] [ID=9d53c3ac-64d1-4fdb-8bf6-a78d9ce924ec] [ownerKey=/tidb/ddl/fg/owner]
[2024/05/15 17:19:11.344 +08:00] [INFO] [ddl_workerpool.go:82] ["closing workerPool"] [category=ddl]
[2024/05/15 17:19:11.344 +08:00] [INFO] [ddl_worker.go:186] ["DDL worker closed"] [worker="worker 4, tp add index"] [category=ddl] ["take time"=833ns]
[2024/05/15 17:19:11.344 +08:00] [INFO] [ddl_workerpool.go:82] ["closing workerPool"] [category=ddl]
[2024/05/15 17:19:11.344 +08:00] [INFO] [ddl_worker.go:186] ["DDL worker closed"] [worker="worker 3, tp general"] [category=ddl] ["take time"=584ns]
[2024/05/15 17:19:11.344 +08:00] [INFO] [ddl_workerpool.go:82] ["closing workerPool"] [category=ddl]
[2024/05/15 17:19:11.344 +08:00] [INFO] [delete_range.go:162] ["closing delRange"] [category=ddl]
[2024/05/15 17:19:11.344 +08:00] [INFO] [session_pool.go:99] ["closing session pool"] [category=ddl]
[2024/05/15 17:19:11.344 +08:00] [INFO] [ddl.go:951] ["DDL closed"] [category=ddl] [ID=9d53c3ac-64d1-4fdb-8bf6-a78d9ce924ec] ["take time"=383.75s]
[2024/05/15 17:19:11.344 +08:00] [INFO] [ddl.go:769] ["stop DDL"] [category=ddl] [ID=9d53c3ac-64d1-4fdb-8bf6-a78d9ce924ec]
[2024/05/15 17:19:11.344 +08:00] [INFO] [domain.go:1034] ["stopping ttlJobManager"]
[2024/05/15 17:19:11.344 +08:00] [INFO] [task_manager.go:194] ["shrink ttl worker"] [ttl-worker=job-manager] [ttl-worker=task-manager] [originalCount=4] [newCount=0]
[2024/05/15 17:19:11.344 +08:00] [INFO] [scan.go:309] ["ttlScanWorker loop exited."]
[2024/05/15 17:19:11.344 +08:00] [INFO] [scan.go:309] ["ttlScanWorker loop exited."]
[2024/05/15 17:19:11.344 +08:00] [INFO] [scan.go:309] ["ttlScanWorker loop exited."]
[2024/05/15 17:19:11.344 +08:00] [INFO] [scan.go:309] ["ttlScanWorker loop exited."]
[2024/05/15 17:19:11.344 +08:00] [INFO] [task_manager.go:194] ["shrink ttl worker"] [ttl-worker=job-manager] [ttl-worker=task-manager] [originalCount=4] [newCount=0]
[2024/05/15 17:19:11.344 +08:00] [INFO] [del.go:261] ["ttlDeleteWorker loop exited."]
[2024/05/15 17:19:11.344 +08:00] [INFO] [del.go:261] ["ttlDeleteWorker loop exited."]
[2024/05/15 17:19:11.344 +08:00] [INFO] [del.go:261] ["ttlDeleteWorker loop exited."]
[2024/05/15 17:19:11.344 +08:00] [INFO] [del.go:261] ["ttlDeleteWorker loop exited."]
[2024/05/15 17:19:11.344 +08:00] [INFO] [job_manager.go:174] ["ttlJobManager loop exited."] [ttl-worker=job-manager]
[2024/05/15 17:19:11.344 +08:00] [INFO] [domain.go:1045] ["ttlJobManager exited."]
[2024/05/15 17:19:11.344 +08:00] [INFO] [manager.go:280] ["recoverMetaLoop done"] [server-id=:4000]
[2024/05/15 17:19:11.344 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=mdlCheckLoop]
[2024/05/15 17:19:11.344 +08:00] [INFO] [domain.go:915] ["loadSchemaInLoop exited."]
[2024/05/15 17:19:11.344 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=loadSchemaInLoop]
[2024/05/15 17:19:11.344 +08:00] [INFO] [domain.go:1535] ["stopping dist task executor manager"]
[2024/05/15 17:19:11.344 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=loadSigningCertLoop]
[2024/05/15 17:19:11.344 +08:00] [INFO] [stats_syncload.go:216] ["SubLoadWorker exited."]
[2024/05/15 17:19:11.344 +08:00] [INFO] [stats_syncload.go:216] ["SubLoadWorker exited."]
[2024/05/15 17:19:11.344 +08:00] [INFO] [stats_syncload.go:216] ["SubLoadWorker exited."]
[2024/05/15 17:19:11.344 +08:00] [INFO] [stats_syncload.go:216] ["SubLoadWorker exited."]
[2024/05/15 17:19:11.344 +08:00] [INFO] [stats_syncload.go:216] ["SubLoadWorker exited."]
[2024/05/15 17:19:11.344 +08:00] [INFO] [mock.go:106] ["owner manager is canceled"] [category=ddl] [ID=9d53c3ac-64d1-4fdb-8bf6-a78d9ce924ec] [ownerKey=/tidb/stats/owner]
[2024/05/15 17:19:11.344 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=quitStatsOwner]
[2024/05/15 17:19:11.344 +08:00] [INFO] [domain.go:2361] ["indexUsageWorker exited."]
[2024/05/15 17:19:11.344 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=indexUsageWorker]
[2024/05/15 17:19:11.344 +08:00] [INFO] [domain.go:2082] ["dumpFileGcChecker exited."]
[2024/05/15 17:19:11.344 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=dumpFileGcChecker]
[2024/05/15 17:19:11.344 +08:00] [INFO] [domain.go:1758] ["LoadSysVarCacheLoop exited."]
[2024/05/15 17:19:11.344 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=LoadSysVarCacheLoop]
[2024/05/15 17:19:11.344 +08:00] [INFO] [domain.go:1708] ["loadPrivilegeInLoop exited."]
[2024/05/15 17:19:11.344 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=loadPrivilegeInLoop]
[2024/05/15 17:19:11.344 +08:00] [INFO] [mock.go:106] ["owner manager is canceled"] [category=ddl] [ID=9d53c3ac-64d1-4fdb-8bf6-a78d9ce924ec] [ownerKey=/tidb/bindinfo/owner]
[2024/05/15 17:19:11.344 +08:00] [INFO] [domain.go:1897] ["globalBindHandleWorkerLoop exited."]
[2024/05/15 17:19:11.344 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=globalBindHandleWorkerLoop]
[2024/05/15 17:19:11.344 +08:00] [INFO] [domain.go:769] ["topologySyncerKeeper exited."]
[2024/05/15 17:19:11.344 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=topologySyncerKeeper]
[2024/05/15 17:19:11.344 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=runawayStartLoop]
[2024/05/15 17:19:11.344 +08:00] [INFO] [domain.go:745] ["globalConfigSyncerKeeper exited."]
[2024/05/15 17:19:11.344 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=globalConfigSyncerKeeper]
[2024/05/15 17:19:11.344 +08:00] [INFO] [domain.go:719] ["infoSyncerKeeper exited."]
[2024/05/15 17:19:11.344 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=infoSyncerKeeper]
[2024/05/15 17:19:11.344 +08:00] [INFO] [domain.go:691] ["topNSlowQueryLoop exited."]
[2024/05/15 17:19:11.344 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=topNSlowQueryLoop]
[2024/05/15 17:19:11.344 +08:00] [INFO] [domain.go:1369] ["closestReplicaReadCheckLoop exited."]
[2024/05/15 17:19:11.344 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=closestReplicaReadCheckLoop]
[2024/05/15 17:19:11.344 +08:00] [INFO] [manager.go:179] ["handle tasks loop done"] [server-id=:4000]
[2024/05/15 17:19:11.344 +08:00] [INFO] [domain.go:1537] ["dist task executor manager stopped"]
[2024/05/15 17:19:11.344 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=distTaskFrameworkLoop]
[2024/05/15 17:19:11.345 +08:00] [INFO] [domain.go:1082] ["domain closed"] ["take time"=1.181833ms]
[2024/05/15 17:19:11.354 +08:00] [INFO] [db.go:567] ["Closing database"]
[2024/05/15 17:19:11.354 +08:00] [INFO] [db.go:592] ["Memtable flushed"]
[2024/05/15 17:19:11.354 +08:00] [INFO] [db.go:596] ["Compaction finished"]
[2024/05/15 17:19:11.354 +08:00] [INFO] [db.go:615] ["BlobManager finished"]
[2024/05/15 17:19:11.354 +08:00] [INFO] [db.go:619] ["ResourceManager finished"]
[2024/05/15 17:19:11.354 +08:00] [INFO] [db.go:625] ["Waiting for closer"]
--- FAIL: TestSelectHiddenColumn (1.29s)
    testkit.go:273: 
        	Error Trace:	/Users/bba/pc/tidb/pkg/testkit/testkit.go:273
        	            				/Users/bba/pc/tidb/pkg/testkit/testkit.go:198
        	            				/Users/bba/pc/tidb/pkg/testkit/testkit.go:173
        	            				/Users/bba/pc/tidb/pkg/infoschema/test/clustertablestest/tables_test.go:652
        	Error:      	Received unexpected error:
        	            	inconsistent infoschemahidden hidden
        	            	github.com/pingcap/tidb/pkg/util.GetRecoverError
        	            		/Users/bba/pc/tidb/pkg/util/util.go:306
        	            	github.com/pingcap/tidb/pkg/executor/internal/exec.Next.func1
        	            		/Users/bba/pc/tidb/pkg/executor/internal/exec/executor.go:394
        	            	runtime.gopanic
        	            		/Users/bba/.gvm/gos/go1.21.0/src/runtime/panic.go:914
        	            	github.com/pingcap/tidb/pkg/infoschema.(*infoschemaV3).SchemaTablesWithTs
        	            		/Users/bba/pc/tidb/pkg/infoschema/infoschema_v3.go:273
        	            	github.com/pingcap/tidb/pkg/infoschema.(*WithTS).SchemaTables
        	            		/Users/bba/pc/tidb/pkg/infoschema/cache.go:289
        	            	github.com/pingcap/tidb/pkg/executor.(*hugeMemTableRetriever).setDataForColumns
        	            		/Users/bba/pc/tidb/pkg/executor/infoschema_reader.go:816
        	            	github.com/pingcap/tidb/pkg/executor.(*hugeMemTableRetriever).retrieve
        	            		/Users/bba/pc/tidb/pkg/executor/infoschema_reader.go:799
        	            	github.com/pingcap/tidb/pkg/executor.(*MemTableReaderExec).Next
        	            		/Users/bba/pc/tidb/pkg/executor/memtable_reader.go:120
        	            	github.com/pingcap/tidb/pkg/executor/internal/exec.Next
        	            		/Users/bba/pc/tidb/pkg/executor/internal/exec/executor.go:410
        	            	github.com/pingcap/tidb/pkg/executor/aggregate.(*HashAggExec).fetchChildData
        	            		/Users/bba/pc/tidb/pkg/executor/aggregate/agg_hash_executor.go:469
        	            	runtime.goexit
        	            		/Users/bba/.gvm/gos/go1.21.0/src/runtime/asm_arm64.s:1197
        	Test:       	TestSelectHiddenColumn
        	Messages:   	sql:select count(*) from INFORMATION_SCHEMA.COLUMNS where table_name = 'hidden', args:[]
FAIL
[FAIL]  pkg/ddl TestAlterAddConstraintStateChange3
err=exit status 2
[2024/05/15 17:19:27.391 +08:00] [INFO] [store_cache.go:510] ["change store resolve state"] [store=1] [addr=store1] [from=unresolved] [to=resolved] [liveness-state=reachable]
[2024/05/15 17:19:27.391 +08:00] [INFO] [ddl_api.go:1139] ["Automatically convert BLOB(65535) to MEDIUMBLOB"] [category=ddl]
[2024/05/15 17:19:27.391 +08:00] [INFO] [ddl_api.go:1139] ["Automatically convert BLOB(65535) to MEDIUMBLOB"] [category=ddl]
[2024/05/15 17:19:27.392 +08:00] [INFO] [ddl_api.go:1139] ["Automatically convert BLOB(65535) to MEDIUMBLOB"] [category=ddl]
[2024/05/15 17:19:27.392 +08:00] [INFO] [ddl_api.go:1139] ["Automatically convert BLOB(65535) to MEDIUMBLOB"] [category=ddl]
[2024/05/15 17:19:27.392 +08:00] [INFO] [ddl_api.go:1139] ["Automatically convert BLOB(65535) to MEDIUMBLOB"] [category=ddl]
[2024/05/15 17:19:27.393 +08:00] [INFO] [tidb.go:80] ["new domain"] [store=6c3ce306-f2b7-4158-a64f-c7d8ebc25b25] ["ddl lease"=500ms] ["stats lease"=-1ns]
[2024/05/15 17:19:27.397 +08:00] [WARN] [controller.go:198] ["[resource group controller] server does not save config, load config failed"]
[2024/05/15 17:19:27.397 +08:00] [INFO] [controller.go:185] ["load resource controller config"] [config="{\"degraded-mode-wait-duration\":\"0s\",\"ltb-max-wait-duration\":\"30s\",\"wait-retry-interval\":\"50ms\",\"wait-retry-times\":10,\"request-unit\":{\"read-base-cost\":0.125,\"read-per-batch-base-cost\":0.5,\"read-cost-per-byte\":0.0000152587890625,\"write-base-cost\":1,\"write-per-batch-base-cost\":1,\"write-cost-per-byte\":0.0009765625,\"read-cpu-ms-cost\":0.3333333333333333},\"enable-controller-trace-log\":\"false\"}"] [ru-config="{\"ReadBaseCost\":0.125,\"ReadPerBatchBaseCost\":0.5,\"ReadBytesCost\":0.0000152587890625,\"WriteBaseCost\":1,\"WritePerBatchBaseCost\":1,\"WriteBytesCost\":0.0009765625,\"CPUMsCost\":0.3333333333333333,\"LTBMaxWaitDuration\":30000000000,\"WaitRetryInterval\":50000000,\"WaitRetryTimes\":10,\"DegradedModeWaitDuration\":0}"]
[2024/05/15 17:19:27.397 +08:00] [WARN] [domain.go:244] ["failed to get schema version"] [error="There is no Write MVCC info for the schema version"] [errorVerbose="There is no Write MVCC info for the schema version\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).getTimestampForSchemaVersionWithNonEmptyDiff\n\t/Users/bba/pc/tidb/pkg/domain/domain.go:343\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).loadInfoSchema\n\t/Users/bba/pc/tidb/pkg/domain/domain.go:242\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).Reload\n\t/Users/bba/pc/tidb/pkg/domain/domain.go:614\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).Init\n\t/Users/bba/pc/tidb/pkg/domain/domain.go:1268\ngithub.com/pingcap/tidb/pkg/session.(*domainMap).Get.func1\n\t/Users/bba/pc/tidb/pkg/session/tidb.go:92\ngithub.com/pingcap/tidb/pkg/util.RunWithRetry\n\t/Users/bba/pc/tidb/pkg/util/misc.go:70\ngithub.com/pingcap/tidb/pkg/session.(*domainMap).Get\n\t/Users/bba/pc/tidb/pkg/session/tidb.go:79\ngithub.com/pingcap/tidb/pkg/session.createSessionWithOpt\n\t/Users/bba/pc/tidb/pkg/session/session.go:3633\ngithub.com/pingcap/tidb/pkg/session.createSession\n\t/Users/bba/pc/tidb/pkg/session/session.go:3625\ngithub.com/pingcap/tidb/pkg/session.runInBootstrapSession\n\t/Users/bba/pc/tidb/pkg/session/session.go:3575\ngithub.com/pingcap/tidb/pkg/session.bootstrapSessionImpl\n\t/Users/bba/pc/tidb/pkg/session/session.go:3351\ngithub.com/pingcap/tidb/pkg/session.BootstrapSession\n\t/Users/bba/pc/tidb/pkg/session/session.go:3317\ngithub.com/pingcap/tidb/pkg/testkit.bootstrap\n\t/Users/bba/pc/tidb/pkg/testkit/mockstore.go:294\ngithub.com/pingcap/tidb/pkg/testkit.CreateMockStoreAndDomain\n\t/Users/bba/pc/tidb/pkg/testkit/mockstore.go:265\ngithub.com/pingcap/tidb/pkg/ddl_test.TestAlterAddConstraintStateChange3\n\t/Users/bba/pc/tidb/pkg/ddl/constraint_test.go:200\ntesting.tRunner\n\t/Users/bba/.gvm/gos/go1.21.0/src/testing/testing.go:1595\nruntime.goexit\n\t/Users/bba/.gvm/gos/go1.21.0/src/runtime/asm_arm64.s:1197"] [version=0]
[2024/05/15 17:19:27.404 +08:00] [INFO] [domain.go:323] ["full load InfoSchema success"] [currentSchemaVersion=0] [neededSchemaVersion=0] ["start time"=7.454667ms]
[2024/05/15 17:19:27.405 +08:00] [INFO] [domain.go:643] ["full load and reset schema validator"]
[2024/05/15 17:19:27.405 +08:00] [INFO] [ddl.go:818] ["start DDL"] [category=ddl] [ID=2767533b-06bd-459b-b4f0-64cc1e118047] [runWorker=true]
[2024/05/15 17:19:27.405 +08:00] [INFO] [ddl.go:777] ["start delRangeManager OK"] [category=ddl] ["is a emulator"=true]
[2024/05/15 17:19:27.405 +08:00] [WARN] [env.go:51] ["initialize environment failed"] [category=ddl-ingest] ["storage limitation"="only support TiKV storage"] ["current storage"=unistore] ["lightning is initialized"=false]
[2024/05/15 17:19:27.405 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=loadSchemaInLoop]
[2024/05/15 17:19:27.405 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=mdlCheckLoop]
[2024/05/15 17:19:27.405 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=topNSlowQueryLoop]
[2024/05/15 17:19:27.405 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=infoSyncerKeeper]
[2024/05/15 17:19:27.405 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=globalConfigSyncerKeeper]
[2024/05/15 17:19:27.405 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=runawayStartLoop]
[2024/05/15 17:19:27.405 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=requestUnitsWriterLoop]
[2024/05/15 17:19:27.405 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=topologySyncerKeeper]
[2024/05/15 17:19:27.405 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=closestReplicaReadCheckLoop]
[2024/05/15 17:19:27.405 +08:00] [WARN] [domain.go:1334] ["pd / etcd client not provided, won't begin Advancer."]
[2024/05/15 17:19:27.406 +08:00] [INFO] [delete_range.go:172] ["start delRange emulator"] [category=ddl]
[2024/05/15 17:19:27.406 +08:00] [INFO] [job_table.go:334] ["get global state and global state change"] [category=ddl] [oldState=false] [currState=false]
[2024/05/15 17:19:27.406 +08:00] [INFO] [runaway.go:149] ["try to start runaway manager loop"]
[2024/05/15 17:19:27.406 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=requestUnitsWriterLoop]
[2024/05/15 17:19:27.456 +08:00] [INFO] [job_table.go:334] ["get global state and global state change"] [category=ddl] [oldState=false] [currState=false]
[2024/05/15 17:19:27.456 +08:00] [INFO] [job_table.go:349] ["the owner sets owner operator value"] [category=ddl] [ownerOp=none]
[2024/05/15 17:19:27.606 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=0] [cur_db=mysql] [sql="CREATE DATABASE IF NOT EXISTS test"] [user=]
[2024/05/15 17:19:27.609 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:3, Type:create schema, State:queueing, SchemaState:none, SchemaID:2, TableID:0, RowCount:0, ArgLen:1, start time: 2024-05-15 17:19:27.609 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:19:27.610 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:3, Type:create schema, State:queueing, SchemaState:none, SchemaID:2, TableID:0, RowCount:0, ArgLen:1, start time: 2024-05-15 17:19:27.609 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE DATABASE IF NOT EXISTS test"]
[2024/05/15 17:19:27.615 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=3] [category=ddl] [job="ID:3, Type:create schema, State:queueing, SchemaState:none, SchemaID:2, TableID:0, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:27.609 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:27.623 +08:00] [INFO] [domain.go:323] ["full load InfoSchema success"] [currentSchemaVersion=0] [neededSchemaVersion=1] ["start time"=7.682834ms]
[2024/05/15 17:19:27.624 +08:00] [INFO] [domain.go:643] ["full load and reset schema validator"]
[2024/05/15 17:19:27.625 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:19:27.625 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=3] [version=1]
[2024/05/15 17:19:27.625 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=1] ["take time"=9.297708ms] [job="ID:3, Type:create schema, State:done, SchemaState:public, SchemaID:2, TableID:0, RowCount:0, ArgLen:1, start time: 2024-05-15 17:19:27.609 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:27.628 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=3] [job="ID:3, Type:create schema, State:synced, SchemaState:public, SchemaID:2, TableID:0, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:27.609 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:27.629 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=3]
[2024/05/15 17:19:27.629 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:19:27.629 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=1] [cur_db=mysql] [sql="CREATE DATABASE IF NOT EXISTS `mysql`"] [user=]
[2024/05/15 17:19:27.630 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=1] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.user (\n\t\tHost\t\t\t\t\tCHAR(255),\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tauthentication_string\tTEXT,\n\t\tplugin\t\t\t\t\tCHAR(64),\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tProcess_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_db_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tSuper_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_user_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_slave_priv\t    \tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_client_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_role_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_role_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAccount_locked\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShutdown_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReload_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tFILE_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tConfig_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_Tablespace_Priv  ENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPassword_reuse_history  smallint unsigned DEFAULT NULL,\n\t\tPassword_reuse_time     smallint unsigned DEFAULT NULL,\n\t\tUser_attributes\t\t\tjson,\n\t\tToken_issuer\t\t\tVARCHAR(255),\n\t\tPassword_expired\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPassword_last_changed\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP(),\n\t\tPassword_lifetime\t\tSMALLINT UNSIGNED DEFAULT NULL,\n\t\tPRIMARY KEY (Host, User));"] [user=]
[2024/05/15 17:19:27.632 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:5, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:4, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:27.63 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:19:27.632 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:5, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:4, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:27.63 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.user (\n\t\tHost\t\t\t\t\tCHAR(255),\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tauthentication_string\tTEXT,\n\t\tplugin\t\t\t\t\tCHAR(64),\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tProcess_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_db_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tSuper_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_user_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_slave_priv\t    \tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_client_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_role_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_role_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAccount_locked\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShutdown_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReload_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tFILE_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tConfig_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_Tablespace_Priv  ENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPassword_reuse_history  smallint unsigned DEFAULT NULL,\n\t\tPassword_reuse_time     smallint unsigned DEFAULT NULL,\n\t\tUser_attributes\t\t\tjson,\n\t\tToken_issuer\t\t\tVARCHAR(255),\n\t\tPassword_expired\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPassword_last_changed\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP(),\n\t\tPassword_lifetime\t\tSMALLINT UNSIGNED DEFAULT NULL,\n\t\tPRIMARY KEY (Host, User));"]
[2024/05/15 17:19:27.636 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=5] [category=ddl] [job="ID:5, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:4, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:27.63 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:27.641 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=1] [neededSchemaVersion=2] ["start time"=898.917s] [gotSchemaVersion=2] [phyTblIDs="[4]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:19:27.641 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:19:27.641 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=5] [version=2]
[2024/05/15 17:19:27.643 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=2] ["take time"=3.144375ms] [job="ID:5, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:4, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:27.63 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:27.647 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=5] [job="ID:5, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:4, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:27.63 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:27.651 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=5]
[2024/05/15 17:19:27.651 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:19:27.651 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=2] [cur_db=mysql] [sql="CREATE TABLE  IF NOT EXISTS mysql.password_history (\n         Host char(255)  NOT NULL DEFAULT '',\n         User char(32)  NOT NULL DEFAULT '',\n         Password_timestamp timestamp(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6),\n         Password text,\n         PRIMARY KEY (Host,User,Password_timestamp )\n        ) COMMENT='Password history for user accounts' "] [user=]
[2024/05/15 17:19:27.652 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:7, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:6, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:27.652 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:19:27.652 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:7, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:6, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:27.652 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE  IF NOT EXISTS mysql.password_history (\n         Host char(255)  NOT NULL DEFAULT '',\n         User char(32)  NOT NULL DEFAULT '',\n         Password_timestamp timestamp(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6),\n         Password text,\n         PRIMARY KEY (Host,User,Password_timestamp )\n        ) COMMENT='Password history for user accounts' "]
[2024/05/15 17:19:27.660 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=7] [category=ddl] [job="ID:7, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:6, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:27.652 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:27.663 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=2] [neededSchemaVersion=3] ["start time"=267.042s] [gotSchemaVersion=3] [phyTblIDs="[6]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:19:27.664 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:19:27.664 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=7] [version=3]
[2024/05/15 17:19:27.665 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=3] ["take time"=2.240583ms] [job="ID:7, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:6, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:27.652 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:27.672 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=7] [job="ID:7, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:6, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:27.652 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:27.675 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=7]
[2024/05/15 17:19:27.675 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:19:27.675 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=3] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.global_priv (Host CHAR(255) NOT NULL DEFAULT '',User CHAR(80) NOT NULL DEFAULT '',Priv LONGTEXT NOT NULL DEFAULT '',PRIMARY KEY (Host, User))"] [user=]
[2024/05/15 17:19:27.677 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:9, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:8, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:27.676 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:19:27.677 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:9, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:8, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:27.676 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.global_priv (Host CHAR(255) NOT NULL DEFAULT '',User CHAR(80) NOT NULL DEFAULT '',Priv LONGTEXT NOT NULL DEFAULT '',PRIMARY KEY (Host, User))"]
[2024/05/15 17:19:27.681 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=9] [category=ddl] [job="ID:9, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:8, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:27.676 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:27.682 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=3] [neededSchemaVersion=4] ["start time"=177.541s] [gotSchemaVersion=4] [phyTblIDs="[8]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:19:27.683 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:19:27.683 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=9] [version=4]
[2024/05/15 17:19:27.684 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=4] ["take time"=2.554208ms] [job="ID:9, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:8, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:27.676 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:27.688 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=9] [job="ID:9, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:8, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:27.676 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:27.690 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=9]
[2024/05/15 17:19:27.690 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:19:27.690 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=4] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.db (\n\t\tHost\t\t\t\t\tCHAR(255),\n\t\tDB\t\t\t\t\t\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv \t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (Host, DB, User));"] [user=]
[2024/05/15 17:19:27.692 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:11, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:10, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:27.691 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:19:27.692 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:11, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:10, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:27.691 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.db (\n\t\tHost\t\t\t\t\tCHAR(255),\n\t\tDB\t\t\t\t\t\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv \t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (Host, DB, User));"]
[2024/05/15 17:19:27.696 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=11] [category=ddl] [job="ID:11, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:10, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:27.691 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:27.698 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=4] [neededSchemaVersion=5] ["start time"=497s] [gotSchemaVersion=5] [phyTblIDs="[10]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:19:27.699 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:19:27.699 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=11] [version=5]
[2024/05/15 17:19:27.700 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=5] ["take time"=2.508625ms] [job="ID:11, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:10, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:27.691 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:27.705 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=11] [job="ID:11, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:10, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:27.691 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:27.707 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=11]
[2024/05/15 17:19:27.707 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:19:27.707 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=5] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tables_priv (\n\t\tHost\t\tCHAR(255),\n\t\tDB\t\t\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tGrantor\t\tCHAR(77),\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tTable_priv\tSET('Select','Insert','Update','Delete','Create','Drop','Grant','Index','Alter','Create View','Show View','Trigger','References'),\n\t\tColumn_priv\tSET('Select','Insert','Update','References'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name));"] [user=]
[2024/05/15 17:19:27.708 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:13, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:12, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:27.708 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:19:27.708 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:13, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:12, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:27.708 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tables_priv (\n\t\tHost\t\tCHAR(255),\n\t\tDB\t\t\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tGrantor\t\tCHAR(77),\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tTable_priv\tSET('Select','Insert','Update','Delete','Create','Drop','Grant','Index','Alter','Create View','Show View','Trigger','References'),\n\t\tColumn_priv\tSET('Select','Insert','Update','References'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name));"]
[2024/05/15 17:19:27.712 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=13] [category=ddl] [job="ID:13, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:12, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:27.708 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:27.714 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=5] [neededSchemaVersion=6] ["start time"=276.875s] [gotSchemaVersion=6] [phyTblIDs="[12]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:19:27.714 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:19:27.714 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=13] [version=6]
[2024/05/15 17:19:27.715 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=6] ["take time"=2.036125ms] [job="ID:13, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:12, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:27.708 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:27.719 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=13] [job="ID:13, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:12, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:27.708 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:27.721 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=13]
[2024/05/15 17:19:27.721 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:19:27.721 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=6] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.columns_priv(\n\t\tHost\t\tCHAR(255),\n\t\tDB\t\t\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tColumn_name\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tColumn_priv\tSET('Select','Insert','Update','References'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name, Column_name));"] [user=]
[2024/05/15 17:19:27.722 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:15, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:14, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:27.722 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:19:27.722 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:15, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:14, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:27.722 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.columns_priv(\n\t\tHost\t\tCHAR(255),\n\t\tDB\t\t\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tColumn_name\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tColumn_priv\tSET('Select','Insert','Update','References'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name, Column_name));"]
[2024/05/15 17:19:27.726 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=15] [category=ddl] [job="ID:15, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:14, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:27.722 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:27.727 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=6] [neededSchemaVersion=7] ["start time"=244.833s] [gotSchemaVersion=7] [phyTblIDs="[14]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:19:27.728 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:19:27.728 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=15] [version=7]
[2024/05/15 17:19:27.729 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=7] ["take time"=2.003292ms] [job="ID:15, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:14, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:27.722 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:27.733 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=15] [job="ID:15, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:14, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:27.722 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:27.735 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=15]
[2024/05/15 17:19:27.735 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:19:27.735 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=7] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.GLOBAL_VARIABLES(\n\t\tVARIABLE_NAME  VARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE VARCHAR(16383) DEFAULT NULL);"] [user=]
[2024/05/15 17:19:27.737 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:17, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:16, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:27.736 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:19:27.737 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:17, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:16, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:27.736 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.GLOBAL_VARIABLES(\n\t\tVARIABLE_NAME  VARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE VARCHAR(16383) DEFAULT NULL);"]
[2024/05/15 17:19:27.740 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=17] [category=ddl] [job="ID:17, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:16, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:27.736 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:27.741 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=7] [neededSchemaVersion=8] ["start time"=155.917s] [gotSchemaVersion=8] [phyTblIDs="[16]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:19:27.742 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:19:27.742 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=17] [version=8]
[2024/05/15 17:19:27.743 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=8] ["take time"=2.006875ms] [job="ID:17, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:16, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:27.736 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:27.747 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=17] [job="ID:17, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:16, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:27.736 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:27.749 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=17]
[2024/05/15 17:19:27.749 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:19:27.749 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=8] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb(\n\t\tVARIABLE_NAME  \tVARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE \tVARCHAR(1024) DEFAULT NULL,\n\t\tCOMMENT \t\tVARCHAR(1024));"] [user=]
[2024/05/15 17:19:27.750 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:19, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:18, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:27.749 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:19:27.750 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:19, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:18, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:27.749 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb(\n\t\tVARIABLE_NAME  \tVARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE \tVARCHAR(1024) DEFAULT NULL,\n\t\tCOMMENT \t\tVARCHAR(1024));"]
[2024/05/15 17:19:27.754 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=19] [category=ddl] [job="ID:19, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:18, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:27.749 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:27.755 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=8] [neededSchemaVersion=9] ["start time"=148.875s] [gotSchemaVersion=9] [phyTblIDs="[18]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:19:27.755 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:19:27.755 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=19] [version=9]
[2024/05/15 17:19:27.757 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=9] ["take time"=2.678542ms] [job="ID:19, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:18, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:27.749 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:27.760 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=19] [job="ID:19, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:18, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:27.749 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:27.762 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=19]
[2024/05/15 17:19:27.762 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:19:27.762 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=9] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.help_topic (\n  \t\thelp_topic_id \t\tINT(10) UNSIGNED NOT NULL,\n  \t\tname \t\t\t\tCHAR(64) NOT NULL,\n  \t\thelp_category_id \tSMALLINT(5) UNSIGNED NOT NULL,\n  \t\tdescription \t\tTEXT NOT NULL,\n  \t\texample \t\t\tTEXT NOT NULL,\n  \t\turl \t\t\t\tTEXT NOT NULL,\n  \t\tPRIMARY KEY (help_topic_id) clustered,\n  \t\tUNIQUE KEY name (name)\n\t\t) ENGINE=InnoDB DEFAULT CHARSET=utf8 STATS_PERSISTENT=0 COMMENT='help topics';"] [user=]
[2024/05/15 17:19:27.763 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:21, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:20, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:27.763 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:19:27.763 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:21, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:20, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:27.763 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.help_topic (\n  \t\thelp_topic_id \t\tINT(10) UNSIGNED NOT NULL,\n  \t\tname \t\t\t\tCHAR(64) NOT NULL,\n  \t\thelp_category_id \tSMALLINT(5) UNSIGNED NOT NULL,\n  \t\tdescription \t\tTEXT NOT NULL,\n  \t\texample \t\t\tTEXT NOT NULL,\n  \t\turl \t\t\t\tTEXT NOT NULL,\n  \t\tPRIMARY KEY (help_topic_id) clustered,\n  \t\tUNIQUE KEY name (name)\n\t\t) ENGINE=InnoDB DEFAULT CHARSET=utf8 STATS_PERSISTENT=0 COMMENT='help topics';"]
[2024/05/15 17:19:27.767 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=21] [category=ddl] [job="ID:21, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:20, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:27.763 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:27.768 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=9] [neededSchemaVersion=10] ["start time"=218.25s] [gotSchemaVersion=10] [phyTblIDs="[20]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:19:27.769 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:19:27.769 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=21] [version=10]
[2024/05/15 17:19:27.770 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=10] ["take time"=2.084917ms] [job="ID:21, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:20, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:27.763 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:27.774 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=21] [job="ID:21, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:20, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:27.763 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:27.776 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=21]
[2024/05/15 17:19:27.776 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:19:27.776 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=10] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_meta (\n\t\tversion \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\ttable_id \t\tBIGINT(64) NOT NULL,\n\t\tmodify_count\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcount \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tsnapshot        BIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tINDEX idx_ver(version),\n\t\tUNIQUE INDEX tbl(table_id)\n\t);"] [user=]
[2024/05/15 17:19:27.777 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:23, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:22, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:27.777 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:19:27.777 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:23, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:22, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:27.777 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_meta (\n\t\tversion \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\ttable_id \t\tBIGINT(64) NOT NULL,\n\t\tmodify_count\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcount \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tsnapshot        BIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tINDEX idx_ver(version),\n\t\tUNIQUE INDEX tbl(table_id)\n\t);"]
[2024/05/15 17:19:27.780 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=23] [category=ddl] [job="ID:23, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:22, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:27.777 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:27.782 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=10] [neededSchemaVersion=11] ["start time"=215s] [gotSchemaVersion=11] [phyTblIDs="[22]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:19:27.782 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:19:27.782 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=23] [version=11]
[2024/05/15 17:19:27.784 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=11] ["take time"=2.061083ms] [job="ID:23, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:22, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:27.777 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:27.788 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=23] [job="ID:23, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:22, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:27.777 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:27.789 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=23]
[2024/05/15 17:19:27.789 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:19:27.789 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=11] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_histograms (\n\t\ttable_id \t\t\tBIGINT(64) NOT NULL,\n\t\tis_index \t\t\tTINYINT(2) NOT NULL,\n\t\thist_id \t\t\tBIGINT(64) NOT NULL,\n\t\tdistinct_count \t\tBIGINT(64) NOT NULL,\n\t\tnull_count \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\ttot_col_size \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tmodify_count \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tversion \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tcm_sketch \t\t\tBLOB(6291456),\n\t\tstats_ver \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tflag \t\t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcorrelation \t\tDOUBLE NOT NULL DEFAULT 0,\n\t\tlast_analyze_pos \tLONGBLOB DEFAULT NULL,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id)\n\t);"] [user=]
[2024/05/15 17:19:27.790 +08:00] [INFO] [ddl_api.go:1139] ["Automatically convert BLOB(6291456) to MEDIUMBLOB"] [category=ddl]
[2024/05/15 17:19:27.791 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:25, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:24, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:27.79 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:19:27.791 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:25, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:24, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:27.79 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_histograms (\n\t\ttable_id \t\t\tBIGINT(64) NOT NULL,\n\t\tis_index \t\t\tTINYINT(2) NOT NULL,\n\t\thist_id \t\t\tBIGINT(64) NOT NULL,\n\t\tdistinct_count \t\tBIGINT(64) NOT NULL,\n\t\tnull_count \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\ttot_col_size \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tmodify_count \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tversion \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tcm_sketch \t\t\tBLOB(6291456),\n\t\tstats_ver \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tflag \t\t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcorrelation \t\tDOUBLE NOT NULL DEFAULT 0,\n\t\tlast_analyze_pos \tLONGBLOB DEFAULT NULL,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id)\n\t);"]
[2024/05/15 17:19:27.795 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=25] [category=ddl] [job="ID:25, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:24, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:27.79 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:27.797 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=11] [neededSchemaVersion=12] ["start time"=402.917s] [gotSchemaVersion=12] [phyTblIDs="[24]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:19:27.797 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:19:27.797 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=25] [version=12]
[2024/05/15 17:19:27.798 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=12] ["take time"=2.114917ms] [job="ID:25, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:24, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:27.79 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:27.802 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=25] [job="ID:25, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:24, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:27.79 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:27.804 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=25]
[2024/05/15 17:19:27.804 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:19:27.804 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=12] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_buckets (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tbucket_id \tBIGINT(64) NOT NULL,\n\t\tcount \t\tBIGINT(64) NOT NULL,\n\t\trepeats \tBIGINT(64) NOT NULL,\n\t\tupper_bound LONGBLOB NOT NULL,\n\t\tlower_bound LONGBLOB ,\n\t\tndv         BIGINT NOT NULL DEFAULT 0,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id, bucket_id)\n\t);"] [user=]
[2024/05/15 17:19:27.806 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:27, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:26, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:27.805 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:19:27.806 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:27, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:26, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:27.805 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_buckets (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tbucket_id \tBIGINT(64) NOT NULL,\n\t\tcount \t\tBIGINT(64) NOT NULL,\n\t\trepeats \tBIGINT(64) NOT NULL,\n\t\tupper_bound LONGBLOB NOT NULL,\n\t\tlower_bound LONGBLOB ,\n\t\tndv         BIGINT NOT NULL DEFAULT 0,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id, bucket_id)\n\t);"]
[2024/05/15 17:19:27.809 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=27] [category=ddl] [job="ID:27, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:26, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:27.805 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:27.811 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=12] [neededSchemaVersion=13] ["start time"=298.25s] [gotSchemaVersion=13] [phyTblIDs="[26]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:19:27.812 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:19:27.812 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=27] [version=13]
[2024/05/15 17:19:27.813 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=13] ["take time"=2.118292ms] [job="ID:27, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:26, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:27.805 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:27.817 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=27] [job="ID:27, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:26, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:27.805 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:27.819 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=27]
[2024/05/15 17:19:27.819 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:19:27.819 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=13] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_index (job_id, element_id)\n\t);"] [user=]
[2024/05/15 17:19:27.820 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:29, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:28, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:27.82 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:19:27.820 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:29, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:28, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:27.82 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_index (job_id, element_id)\n\t);"]
[2024/05/15 17:19:27.823 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=29] [category=ddl] [job="ID:29, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:28, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:27.82 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:27.825 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=13] [neededSchemaVersion=14] ["start time"=204.5s] [gotSchemaVersion=14] [phyTblIDs="[28]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:19:27.825 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:19:27.826 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=29] [version=14]
[2024/05/15 17:19:27.827 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=14] ["take time"=2.558834ms] [job="ID:29, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:28, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:27.82 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:27.830 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=29] [job="ID:29, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:28, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:27.82 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:27.831 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=29]
[2024/05/15 17:19:27.831 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:19:27.832 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=14] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range_done (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_done_index (job_id, element_id)\n\t);"] [user=]
[2024/05/15 17:19:27.833 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:31, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:30, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:27.832 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:19:27.833 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:31, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:30, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:27.832 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range_done (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_done_index (job_id, element_id)\n\t);"]
[2024/05/15 17:19:27.836 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=31] [category=ddl] [job="ID:31, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:30, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:27.832 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:27.837 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=14] [neededSchemaVersion=15] ["start time"=204.75s] [gotSchemaVersion=15] [phyTblIDs="[30]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:19:27.838 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:19:27.838 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=31] [version=15]
[2024/05/15 17:19:27.839 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=15] ["take time"=2.017083ms] [job="ID:31, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:30, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:27.832 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:27.847 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=31] [job="ID:31, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:30, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:27.832 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:27.849 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=31]
[2024/05/15 17:19:27.850 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:19:27.850 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=15] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_feedback (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tfeedback \tBLOB NOT NULL,\n\t\tINDEX hist(table_id, is_index, hist_id)\n\t);"] [user=]
[2024/05/15 17:19:27.852 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:33, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:32, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:27.851 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:19:27.852 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:33, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:32, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:27.851 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_feedback (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tfeedback \tBLOB NOT NULL,\n\t\tINDEX hist(table_id, is_index, hist_id)\n\t);"]
[2024/05/15 17:19:27.860 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=33] [category=ddl] [job="ID:33, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:32, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:27.851 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:27.862 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=15] [neededSchemaVersion=16] ["start time"=274.875s] [gotSchemaVersion=16] [phyTblIDs="[32]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:19:27.863 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:19:27.863 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=33] [version=16]
[2024/05/15 17:19:27.867 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=16] ["take time"=5.010959ms] [job="ID:33, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:32, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:27.851 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:27.871 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=33] [job="ID:33, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:32, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:27.851 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:27.872 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=33]
[2024/05/15 17:19:27.872 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:19:27.873 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=16] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.role_edges (\n\t\tFROM_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tFROM_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tWITH_ADMIN_OPTION \tENUM('N','Y') CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (FROM_HOST,FROM_USER,TO_HOST,TO_USER)\n\t);"] [user=]
[2024/05/15 17:19:27.874 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:35, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:34, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:27.873 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:19:27.874 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:35, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:34, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:27.873 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.role_edges (\n\t\tFROM_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tFROM_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tWITH_ADMIN_OPTION \tENUM('N','Y') CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (FROM_HOST,FROM_USER,TO_HOST,TO_USER)\n\t);"]
[2024/05/15 17:19:27.877 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=35] [category=ddl] [job="ID:35, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:34, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:27.873 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:27.879 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=16] [neededSchemaVersion=17] ["start time"=222s] [gotSchemaVersion=17] [phyTblIDs="[34]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:19:27.879 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:19:27.879 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=35] [version=17]
[2024/05/15 17:19:27.881 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=17] ["take time"=2.046708ms] [job="ID:35, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:34, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:27.873 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:27.885 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=35] [job="ID:35, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:34, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:27.873 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:27.886 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=35]
[2024/05/15 17:19:27.886 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:19:27.886 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=17] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.default_roles (\n\t\tHOST \t\t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tUSER \t\t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tDEFAULT_ROLE_HOST \tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '%',\n\t\tDEFAULT_ROLE_USER \tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tPRIMARY KEY (HOST,USER,DEFAULT_ROLE_HOST,DEFAULT_ROLE_USER)\n\t)"] [user=]
[2024/05/15 17:19:27.888 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:37, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:36, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:27.887 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:19:27.888 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:37, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:36, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:27.887 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.default_roles (\n\t\tHOST \t\t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tUSER \t\t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tDEFAULT_ROLE_HOST \tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '%',\n\t\tDEFAULT_ROLE_USER \tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tPRIMARY KEY (HOST,USER,DEFAULT_ROLE_HOST,DEFAULT_ROLE_USER)\n\t)"]
[2024/05/15 17:19:27.892 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=37] [category=ddl] [job="ID:37, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:36, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:27.887 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:27.893 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=17] [neededSchemaVersion=18] ["start time"=212.25s] [gotSchemaVersion=18] [phyTblIDs="[36]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:19:27.894 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:19:27.894 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=37] [version=18]
[2024/05/15 17:19:27.895 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=18] ["take time"=2.004333ms] [job="ID:37, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:36, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:27.887 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:27.899 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=37] [job="ID:37, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:36, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:27.887 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:27.900 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=37]
[2024/05/15 17:19:27.900 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:19:27.901 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=18] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.bind_info (\n\t\toriginal_sql TEXT NOT NULL,\n\t\tbind_sql TEXT NOT NULL,\n\t\tdefault_db TEXT NOT NULL,\n\t\tstatus TEXT NOT NULL,\n\t\tcreate_time TIMESTAMP(3) NOT NULL,\n\t\tupdate_time TIMESTAMP(3) NOT NULL,\n\t\tcharset TEXT NOT NULL,\n\t\tcollation TEXT NOT NULL,\n\t\tsource VARCHAR(10) NOT NULL DEFAULT 'unknown',\n\t\tsql_digest varchar(64),\n\t\tplan_digest varchar(64),\n\t\tINDEX sql_index(original_sql(700),default_db(68)) COMMENT \"accelerate the speed when add global binding query\",\n\t\tINDEX time_index(update_time) COMMENT \"accelerate the speed when querying with last update time\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"] [user=]
[2024/05/15 17:19:27.902 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:39, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:38, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:27.901 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:19:27.902 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:39, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:38, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:27.901 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.bind_info (\n\t\toriginal_sql TEXT NOT NULL,\n\t\tbind_sql TEXT NOT NULL,\n\t\tdefault_db TEXT NOT NULL,\n\t\tstatus TEXT NOT NULL,\n\t\tcreate_time TIMESTAMP(3) NOT NULL,\n\t\tupdate_time TIMESTAMP(3) NOT NULL,\n\t\tcharset TEXT NOT NULL,\n\t\tcollation TEXT NOT NULL,\n\t\tsource VARCHAR(10) NOT NULL DEFAULT 'unknown',\n\t\tsql_digest varchar(64),\n\t\tplan_digest varchar(64),\n\t\tINDEX sql_index(original_sql(700),default_db(68)) COMMENT \"accelerate the speed when add global binding query\",\n\t\tINDEX time_index(update_time) COMMENT \"accelerate the speed when querying with last update time\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"]
[2024/05/15 17:19:27.906 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=39] [category=ddl] [job="ID:39, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:38, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:27.901 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:27.908 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=18] [neededSchemaVersion=19] ["start time"=422.75s] [gotSchemaVersion=19] [phyTblIDs="[38]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:19:27.909 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:19:27.909 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=39] [version=19]
[2024/05/15 17:19:27.911 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=19] ["take time"=3.193584ms] [job="ID:39, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:38, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:27.901 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:27.915 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=39] [job="ID:39, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:38, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:27.901 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:27.917 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=39]
[2024/05/15 17:19:27.917 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:19:27.918 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=0] ["to ID"=1] ["table ID"=38] ["database ID"=1]
[2024/05/15 17:19:27.918 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=19] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_top_n (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tvalue \t\tLONGBLOB,\n\t\tcount \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\tINDEX tbl(table_id, is_index, hist_id)\n\t);"] [user=]
[2024/05/15 17:19:27.919 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:41, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:40, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:27.919 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:19:27.919 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:41, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:40, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:27.919 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_top_n (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tvalue \t\tLONGBLOB,\n\t\tcount \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\tINDEX tbl(table_id, is_index, hist_id)\n\t);"]
[2024/05/15 17:19:27.923 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=41] [category=ddl] [job="ID:41, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:40, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:27.919 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:27.924 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=19] [neededSchemaVersion=20] ["start time"=209.959s] [gotSchemaVersion=20] [phyTblIDs="[40]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:19:27.925 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:19:27.925 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=41] [version=20]
[2024/05/15 17:19:27.926 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=20] ["take time"=2.025666ms] [job="ID:41, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:40, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:27.919 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:27.929 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=41] [job="ID:41, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:40, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:27.919 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:27.931 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=41]
[2024/05/15 17:19:27.931 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:19:27.932 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=20] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.expr_pushdown_blacklist (\n\t\tname \t\tCHAR(100) NOT NULL,\n\t\tstore_type \tCHAR(100) NOT NULL DEFAULT 'tikv,tiflash,tidb',\n\t\treason \t\tVARCHAR(200)\n\t);"] [user=]
[2024/05/15 17:19:27.933 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:43, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:42, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:27.932 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:19:27.933 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:43, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:42, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:27.932 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.expr_pushdown_blacklist (\n\t\tname \t\tCHAR(100) NOT NULL,\n\t\tstore_type \tCHAR(100) NOT NULL DEFAULT 'tikv,tiflash,tidb',\n\t\treason \t\tVARCHAR(200)\n\t);"]
[2024/05/15 17:19:27.936 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=43] [category=ddl] [job="ID:43, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:42, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:27.932 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:27.937 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=20] [neededSchemaVersion=21] ["start time"=164.208s] [gotSchemaVersion=21] [phyTblIDs="[42]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:19:27.938 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:19:27.938 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=43] [version=21]
[2024/05/15 17:19:27.939 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=21] ["take time"=2.183208ms] [job="ID:43, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:42, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:27.932 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:27.943 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=43] [job="ID:43, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:42, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:27.932 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:27.945 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=43]
[2024/05/15 17:19:27.945 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:19:27.945 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=21] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.opt_rule_blacklist (\n\t\tname \tCHAR(100) NOT NULL\n\t);"] [user=]
[2024/05/15 17:19:27.946 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:45, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:44, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:27.945 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:19:27.946 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:45, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:44, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:27.945 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.opt_rule_blacklist (\n\t\tname \tCHAR(100) NOT NULL\n\t);"]
[2024/05/15 17:19:27.950 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=45] [category=ddl] [job="ID:45, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:44, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:27.945 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:27.951 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=21] [neededSchemaVersion=22] ["start time"=110.167s] [gotSchemaVersion=22] [phyTblIDs="[44]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:19:27.951 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:19:27.951 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=45] [version=22]
[2024/05/15 17:19:27.954 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=22] ["take time"=2.978041ms] [job="ID:45, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:44, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:27.945 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:27.957 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=45] [job="ID:45, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:44, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:27.945 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:27.959 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=45]
[2024/05/15 17:19:27.959 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:19:27.959 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=22] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_extended (\n\t\tname varchar(32) NOT NULL,\n\t\ttype tinyint(4) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tcolumn_ids varchar(32) NOT NULL,\n\t\tstats blob DEFAULT NULL,\n\t\tversion bigint(64) unsigned NOT NULL,\n\t\tstatus tinyint(4) NOT NULL,\n\t\tPRIMARY KEY(name, table_id),\n\t\tKEY idx_1 (table_id, status, version),\n\t\tKEY idx_2 (status, version)\n\t);"] [user=]
[2024/05/15 17:19:27.961 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:47, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:46, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:27.96 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:19:27.961 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:47, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:46, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:27.96 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_extended (\n\t\tname varchar(32) NOT NULL,\n\t\ttype tinyint(4) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tcolumn_ids varchar(32) NOT NULL,\n\t\tstats blob DEFAULT NULL,\n\t\tversion bigint(64) unsigned NOT NULL,\n\t\tstatus tinyint(4) NOT NULL,\n\t\tPRIMARY KEY(name, table_id),\n\t\tKEY idx_1 (table_id, status, version),\n\t\tKEY idx_2 (status, version)\n\t);"]
[2024/05/15 17:19:27.964 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=47] [category=ddl] [job="ID:47, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:46, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:27.96 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:27.966 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=22] [neededSchemaVersion=23] ["start time"=276.208s] [gotSchemaVersion=23] [phyTblIDs="[46]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:19:27.966 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:19:27.966 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=47] [version=23]
[2024/05/15 17:19:27.967 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=23] ["take time"=2.095417ms] [job="ID:47, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:46, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:27.96 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:27.972 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=47] [job="ID:47, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:46, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:27.96 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:27.974 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=47]
[2024/05/15 17:19:27.974 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:19:27.974 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=23] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_fm_sketch (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tvalue \t\tLONGBLOB,\n\t\tINDEX tbl(table_id, is_index, hist_id)\n\t);"] [user=]
[2024/05/15 17:19:27.975 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:49, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:48, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:27.975 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:19:27.975 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:49, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:48, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:27.975 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_fm_sketch (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tvalue \t\tLONGBLOB,\n\t\tINDEX tbl(table_id, is_index, hist_id)\n\t);"]
[2024/05/15 17:19:27.979 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=49] [category=ddl] [job="ID:49, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:48, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:27.975 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:27.980 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=23] [neededSchemaVersion=24] ["start time"=200.709s] [gotSchemaVersion=24] [phyTblIDs="[48]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:19:27.981 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:19:27.981 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=49] [version=24]
[2024/05/15 17:19:27.982 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=24] ["take time"=2.466542ms] [job="ID:49, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:48, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:27.975 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:27.986 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=49] [job="ID:49, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:48, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:27.975 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:27.988 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=49]
[2024/05/15 17:19:27.988 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:19:27.988 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=24] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.global_grants (\n\t\tUSER char(32) NOT NULL DEFAULT '',\n\t\tHOST char(255) NOT NULL DEFAULT '',\n\t\tPRIV char(32) NOT NULL DEFAULT '',\n\t\tWITH_GRANT_OPTION enum('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (USER,HOST,PRIV)\n\t);"] [user=]
[2024/05/15 17:19:27.989 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:51, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:50, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:27.989 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:19:27.989 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:51, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:50, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:27.989 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.global_grants (\n\t\tUSER char(32) NOT NULL DEFAULT '',\n\t\tHOST char(255) NOT NULL DEFAULT '',\n\t\tPRIV char(32) NOT NULL DEFAULT '',\n\t\tWITH_GRANT_OPTION enum('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (USER,HOST,PRIV)\n\t);"]
[2024/05/15 17:19:27.993 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=51] [category=ddl] [job="ID:51, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:50, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:27.989 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:27.994 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=24] [neededSchemaVersion=25] ["start time"=213.708s] [gotSchemaVersion=25] [phyTblIDs="[50]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:19:27.995 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:19:27.995 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=51] [version=25]
[2024/05/15 17:19:27.997 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=25] ["take time"=2.522208ms] [job="ID:51, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:50, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:27.989 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:28.000 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=51] [job="ID:51, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:50, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:27.989 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:28.002 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=51]
[2024/05/15 17:19:28.002 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:19:28.002 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=25] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.capture_plan_baselines_blacklist (\n\t\tid bigint(64) auto_increment,\n\t\tfilter_type varchar(32) NOT NULL COMMENT \"type of the filter, only db, table and frequency supported now\",\n\t\tfilter_value varchar(32) NOT NULL,\n\t\tkey idx(filter_type),\n\t\tprimary key(id)\n\t);"] [user=]
[2024/05/15 17:19:28.004 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:53, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:52, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:28.003 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:19:28.004 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:53, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:52, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:28.003 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.capture_plan_baselines_blacklist (\n\t\tid bigint(64) auto_increment,\n\t\tfilter_type varchar(32) NOT NULL COMMENT \"type of the filter, only db, table and frequency supported now\",\n\t\tfilter_value varchar(32) NOT NULL,\n\t\tkey idx(filter_type),\n\t\tprimary key(id)\n\t);"]
[2024/05/15 17:19:28.008 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=53] [category=ddl] [job="ID:53, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:52, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:28.003 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:28.010 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=25] [neededSchemaVersion=26] ["start time"=172.958s] [gotSchemaVersion=26] [phyTblIDs="[52]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:19:28.010 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:19:28.010 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=53] [version=26]
[2024/05/15 17:19:28.011 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=26] ["take time"=2.023875ms] [job="ID:53, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:52, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:28.003 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:28.034 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=53] [job="ID:53, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:52, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:28.003 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:28.038 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=53]
[2024/05/15 17:19:28.038 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:19:28.039 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=26] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.column_stats_usage (\n\t\ttable_id BIGINT(64) NOT NULL,\n\t\tcolumn_id BIGINT(64) NOT NULL,\n\t\tlast_used_at TIMESTAMP,\n\t\tlast_analyzed_at TIMESTAMP,\n\t\tPRIMARY KEY (table_id, column_id) CLUSTERED\n\t);"] [user=]
[2024/05/15 17:19:28.041 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:55, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:54, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:28.04 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:19:28.041 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:55, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:54, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:28.04 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.column_stats_usage (\n\t\ttable_id BIGINT(64) NOT NULL,\n\t\tcolumn_id BIGINT(64) NOT NULL,\n\t\tlast_used_at TIMESTAMP,\n\t\tlast_analyzed_at TIMESTAMP,\n\t\tPRIMARY KEY (table_id, column_id) CLUSTERED\n\t);"]
[2024/05/15 17:19:28.046 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=55] [category=ddl] [job="ID:55, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:54, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:28.04 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:28.049 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=26] [neededSchemaVersion=27] ["start time"=200.666s] [gotSchemaVersion=27] [phyTblIDs="[54]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:19:28.049 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:19:28.049 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=55] [version=27]
[2024/05/15 17:19:28.051 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=27] ["take time"=2.131542ms] [job="ID:55, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:54, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:28.04 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:28.056 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=55] [job="ID:55, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:54, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:28.04 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:28.057 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=55]
[2024/05/15 17:19:28.057 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:19:28.057 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=27] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.table_cache_meta (\n\t\ttid bigint(11) NOT NULL DEFAULT 0,\n\t\tlock_type enum('NONE','READ', 'INTEND', 'WRITE') NOT NULL DEFAULT 'NONE',\n\t\tlease bigint(20) NOT NULL DEFAULT 0,\n\t\toldReadLease bigint(20) NOT NULL DEFAULT 0,\n\t\tPRIMARY KEY (tid)\n\t);"] [user=]
[2024/05/15 17:19:28.059 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:57, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:56, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:28.058 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:19:28.059 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:57, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:56, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:28.058 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.table_cache_meta (\n\t\ttid bigint(11) NOT NULL DEFAULT 0,\n\t\tlock_type enum('NONE','READ', 'INTEND', 'WRITE') NOT NULL DEFAULT 'NONE',\n\t\tlease bigint(20) NOT NULL DEFAULT 0,\n\t\toldReadLease bigint(20) NOT NULL DEFAULT 0,\n\t\tPRIMARY KEY (tid)\n\t);"]
[2024/05/15 17:19:28.063 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=57] [category=ddl] [job="ID:57, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:56, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:28.058 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:28.066 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=27] [neededSchemaVersion=28] ["start time"=600.417s] [gotSchemaVersion=28] [phyTblIDs="[56]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:19:28.066 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:19:28.066 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=57] [version=28]
[2024/05/15 17:19:28.068 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=28] ["take time"=3.043125ms] [job="ID:57, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:56, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:28.058 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:28.073 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=57] [job="ID:57, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:56, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:28.058 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:28.075 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=57]
[2024/05/15 17:19:28.075 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:19:28.075 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=28] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.analyze_options (\n\t\ttable_id BIGINT(64) NOT NULL,\n\t\tsample_num BIGINT(64) NOT NULL DEFAULT 0,\n\t\tsample_rate DOUBLE NOT NULL DEFAULT -1,\n\t\tbuckets BIGINT(64) NOT NULL DEFAULT 0,\n\t\ttopn BIGINT(64) NOT NULL DEFAULT -1,\n\t\tcolumn_choice enum('DEFAULT','ALL','PREDICATE','LIST') NOT NULL DEFAULT 'DEFAULT',\n\t\tcolumn_ids TEXT(19372),\n\t\tPRIMARY KEY (table_id) CLUSTERED\n\t);"] [user=]
[2024/05/15 17:19:28.075 +08:00] [INFO] [ddl_api.go:1139] ["Automatically convert BLOB(19372) to MEDIUMBLOB"] [category=ddl]
[2024/05/15 17:19:28.078 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:59, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:58, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:28.076 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:19:28.078 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:59, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:58, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:28.076 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.analyze_options (\n\t\ttable_id BIGINT(64) NOT NULL,\n\t\tsample_num BIGINT(64) NOT NULL DEFAULT 0,\n\t\tsample_rate DOUBLE NOT NULL DEFAULT -1,\n\t\tbuckets BIGINT(64) NOT NULL DEFAULT 0,\n\t\ttopn BIGINT(64) NOT NULL DEFAULT -1,\n\t\tcolumn_choice enum('DEFAULT','ALL','PREDICATE','LIST') NOT NULL DEFAULT 'DEFAULT',\n\t\tcolumn_ids TEXT(19372),\n\t\tPRIMARY KEY (table_id) CLUSTERED\n\t);"]
[2024/05/15 17:19:28.089 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=59] [category=ddl] [job="ID:59, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:58, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:28.076 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:28.093 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=28] [neededSchemaVersion=29] ["start time"=424s] [gotSchemaVersion=29] [phyTblIDs="[58]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:19:28.096 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:19:28.096 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=59] [version=29]
[2024/05/15 17:19:28.097 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=29] ["take time"=5.069458ms] [job="ID:59, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:58, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:28.076 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:28.108 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=59] [job="ID:59, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:58, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:28.076 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:28.115 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=59]
[2024/05/15 17:19:28.115 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:19:28.115 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=29] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_history (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tstats_data longblob NOT NULL,\n\t\tseq_no bigint(64) NOT NULL comment 'sequence number of the gzipped data slice',\n\t\tversion bigint(64) NOT NULL comment 'stats version which corresponding to stats:version in EXPLAIN',\n\t\tcreate_time datetime(6) NOT NULL,\n\t\tUNIQUE KEY table_version_seq (table_id, version, seq_no),\n\t\tKEY table_create_time (table_id, create_time, seq_no),\n    \tKEY idx_create_time (create_time)\n\t);"] [user=]
[2024/05/15 17:19:28.118 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:61, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:60, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:28.116 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:19:28.118 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:61, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:60, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:28.116 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_history (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tstats_data longblob NOT NULL,\n\t\tseq_no bigint(64) NOT NULL comment 'sequence number of the gzipped data slice',\n\t\tversion bigint(64) NOT NULL comment 'stats version which corresponding to stats:version in EXPLAIN',\n\t\tcreate_time datetime(6) NOT NULL,\n\t\tUNIQUE KEY table_version_seq (table_id, version, seq_no),\n\t\tKEY table_create_time (table_id, create_time, seq_no),\n    \tKEY idx_create_time (create_time)\n\t);"]
[2024/05/15 17:19:28.127 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=61] [category=ddl] [job="ID:61, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:60, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:28.116 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:28.134 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=29] [neededSchemaVersion=30] ["start time"=298.333s] [gotSchemaVersion=30] [phyTblIDs="[60]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:19:28.135 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:19:28.135 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=61] [version=30]
[2024/05/15 17:19:28.136 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=30] ["take time"=2.659125ms] [job="ID:61, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:60, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:28.116 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:28.142 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=61] [job="ID:61, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:60, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:28.116 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:28.146 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=61]
[2024/05/15 17:19:28.146 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:19:28.146 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=30] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_meta_history (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tmodify_count bigint(64) NOT NULL,\n\t\tcount bigint(64) NOT NULL,\n\t\tversion bigint(64) NOT NULL comment 'stats version which corresponding to stats:version in EXPLAIN',\n    \tsource varchar(40) NOT NULL,\n\t\tcreate_time datetime(6) NOT NULL,\n\t\tUNIQUE KEY table_version (table_id, version),\n\t\tKEY table_create_time (table_id, create_time),\n    \tKEY idx_create_time (create_time)\n\t);"] [user=]
[2024/05/15 17:19:28.149 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:63, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:62, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:28.147 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:19:28.149 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:63, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:62, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:28.147 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_meta_history (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tmodify_count bigint(64) NOT NULL,\n\t\tcount bigint(64) NOT NULL,\n\t\tversion bigint(64) NOT NULL comment 'stats version which corresponding to stats:version in EXPLAIN',\n    \tsource varchar(40) NOT NULL,\n\t\tcreate_time datetime(6) NOT NULL,\n\t\tUNIQUE KEY table_version (table_id, version),\n\t\tKEY table_create_time (table_id, create_time),\n    \tKEY idx_create_time (create_time)\n\t);"]
[2024/05/15 17:19:28.155 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=63] [category=ddl] [job="ID:63, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:62, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:28.147 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:28.158 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=30] [neededSchemaVersion=31] ["start time"=304.5s] [gotSchemaVersion=31] [phyTblIDs="[62]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:19:28.159 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:19:28.159 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=63] [version=31]
[2024/05/15 17:19:28.160 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=31] ["take time"=2.816208ms] [job="ID:63, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:62, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:28.147 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:28.167 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=63] [job="ID:63, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:62, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:28.147 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:28.169 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=63]
[2024/05/15 17:19:28.169 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:19:28.169 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=31] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.analyze_jobs (\n\t\tid BIGINT(64) UNSIGNED NOT NULL AUTO_INCREMENT,\n\t\tupdate_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\ttable_schema CHAR(64) NOT NULL DEFAULT '',\n\t\ttable_name CHAR(64) NOT NULL DEFAULT '',\n\t\tpartition_name CHAR(64) NOT NULL DEFAULT '',\n\t\tjob_info TEXT NOT NULL,\n\t\tprocessed_rows BIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tstart_time TIMESTAMP,\n\t\tend_time TIMESTAMP,\n\t\tstate ENUM('pending', 'running', 'finished', 'failed') NOT NULL,\n\t\tfail_reason TEXT,\n\t\tinstance VARCHAR(512) NOT NULL comment 'address of the TiDB instance executing the analyze job',\n\t\tprocess_id BIGINT(64) UNSIGNED comment 'ID of the process executing the analyze job',\n\t\tPRIMARY KEY (id),\n\t\tKEY (update_time)\n\t);"] [user=]
[2024/05/15 17:19:28.171 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:65, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:64, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:28.171 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:19:28.171 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:65, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:64, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:28.171 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.analyze_jobs (\n\t\tid BIGINT(64) UNSIGNED NOT NULL AUTO_INCREMENT,\n\t\tupdate_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\ttable_schema CHAR(64) NOT NULL DEFAULT '',\n\t\ttable_name CHAR(64) NOT NULL DEFAULT '',\n\t\tpartition_name CHAR(64) NOT NULL DEFAULT '',\n\t\tjob_info TEXT NOT NULL,\n\t\tprocessed_rows BIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tstart_time TIMESTAMP,\n\t\tend_time TIMESTAMP,\n\t\tstate ENUM('pending', 'running', 'finished', 'failed') NOT NULL,\n\t\tfail_reason TEXT,\n\t\tinstance VARCHAR(512) NOT NULL comment 'address of the TiDB instance executing the analyze job',\n\t\tprocess_id BIGINT(64) UNSIGNED comment 'ID of the process executing the analyze job',\n\t\tPRIMARY KEY (id),\n\t\tKEY (update_time)\n\t);"]
[2024/05/15 17:19:28.177 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=65] [category=ddl] [job="ID:65, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:64, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:28.171 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:28.183 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=31] [neededSchemaVersion=32] ["start time"=974.375s] [gotSchemaVersion=32] [phyTblIDs="[64]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:19:28.186 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:19:28.186 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=65] [version=32]
[2024/05/15 17:19:28.188 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=32] ["take time"=6.032958ms] [job="ID:65, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:64, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:28.171 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:28.200 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=65] [job="ID:65, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:64, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:28.171 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:28.204 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=65]
[2024/05/15 17:19:28.204 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:19:28.204 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=32] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.advisory_locks (\n\t\tlock_name VARCHAR(64) NOT NULL PRIMARY KEY\n\t);"] [user=]
[2024/05/15 17:19:28.206 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:67, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:66, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:28.205 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:19:28.207 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:67, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:66, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:28.205 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.advisory_locks (\n\t\tlock_name VARCHAR(64) NOT NULL PRIMARY KEY\n\t);"]
[2024/05/15 17:19:28.213 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=67] [category=ddl] [job="ID:67, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:66, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:28.205 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:28.215 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=32] [neededSchemaVersion=33] ["start time"=141.542s] [gotSchemaVersion=33] [phyTblIDs="[66]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:19:28.216 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:19:28.216 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=67] [version=33]
[2024/05/15 17:19:28.218 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=33] ["take time"=2.50625ms] [job="ID:67, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:66, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:28.205 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:28.225 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=67] [job="ID:67, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:66, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:28.205 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:28.227 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=67]
[2024/05/15 17:19:28.227 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:19:28.229 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:69, Type:create view, State:queueing, SchemaState:none, SchemaID:1, TableID:68, RowCount:0, ArgLen:3, start time: 2024-05-15 17:19:28.229 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:19:28.229 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:69, Type:create view, State:queueing, SchemaState:none, SchemaID:1, TableID:68, RowCount:0, ArgLen:3, start time: 2024-05-15 17:19:28.229 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE OR REPLACE VIEW mysql.tidb_mdl_view as (\n\t\tSELECT tidb_mdl_info.job_id,\n\t\t\tJSON_UNQUOTE(JSON_EXTRACT(cast(cast(job_meta as char) as json), \"$.schema_name\")) as db_name,\n\t\t\tJSON_UNQUOTE(JSON_EXTRACT(cast(cast(job_meta as char) as json), \"$.table_name\")) as table_name,\n\t\t\tJSON_UNQUOTE(JSON_EXTRACT(cast(cast(job_meta as char) as json), \"$.query\")) as query,\n\t\t\tsession_id,\n\t\t\tcluster_tidb_trx.start_time,\n\t\t\ttidb_decode_sql_digests(all_sql_digests, 4096) AS SQL_DIGESTS\n\t\tFROM mysql.tidb_ddl_job,\n\t\t\tmysql.tidb_mdl_info,\n\t\t\tinformation_schema.cluster_tidb_trx\n\t\tWHERE tidb_ddl_job.job_id=tidb_mdl_info.job_id\n\t\t\tAND CONCAT(',', tidb_mdl_info.table_ids, ',') REGEXP CONCAT(',(', REPLACE(cluster_tidb_trx.related_table_ids, ',', '|'), '),') != 0\n\t);"]
[2024/05/15 17:19:28.233 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=69] [category=ddl] [job="ID:69, Type:create view, State:queueing, SchemaState:none, SchemaID:1, TableID:68, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:28.229 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:28.236 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=33] [neededSchemaVersion=34] ["start time"=248.458s] [gotSchemaVersion=34] [phyTblIDs="[68]"] [actionTypes="[21]"] [diffTypes="[\"create view\"]"]
[2024/05/15 17:19:28.237 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:19:28.237 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=69] [version=34]
[2024/05/15 17:19:28.239 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=34] ["take time"=3.301333ms] [job="ID:69, Type:create view, State:done, SchemaState:public, SchemaID:1, TableID:68, RowCount:0, ArgLen:3, start time: 2024-05-15 17:19:28.229 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:28.244 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=69] [job="ID:69, Type:create view, State:synced, SchemaState:public, SchemaID:1, TableID:68, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:28.229 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:28.247 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=69]
[2024/05/15 17:19:28.248 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:19:28.248 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=34] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.plan_replayer_status (\n\t\tsql_digest VARCHAR(128),\n\t\tplan_digest VARCHAR(128),\n\t\torigin_sql TEXT,\n\t\ttoken VARCHAR(128),\n\t\tupdate_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\tfail_reason TEXT,\n\t\tinstance VARCHAR(512) NOT NULL comment 'address of the TiDB instance executing the plan replayer job');"] [user=]
[2024/05/15 17:19:28.250 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:71, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:70, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:28.249 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:19:28.250 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:71, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:70, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:28.249 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.plan_replayer_status (\n\t\tsql_digest VARCHAR(128),\n\t\tplan_digest VARCHAR(128),\n\t\torigin_sql TEXT,\n\t\ttoken VARCHAR(128),\n\t\tupdate_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\tfail_reason TEXT,\n\t\tinstance VARCHAR(512) NOT NULL comment 'address of the TiDB instance executing the plan replayer job');"]
[2024/05/15 17:19:28.254 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=71] [category=ddl] [job="ID:71, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:70, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:28.249 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:28.256 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=34] [neededSchemaVersion=35] ["start time"=368.5s] [gotSchemaVersion=35] [phyTblIDs="[70]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:19:28.257 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:19:28.257 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=71] [version=35]
[2024/05/15 17:19:28.258 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=35] ["take time"=2.546417ms] [job="ID:71, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:70, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:28.249 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:28.263 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=71] [job="ID:71, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:70, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:28.249 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:28.266 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=71]
[2024/05/15 17:19:28.266 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:19:28.266 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=35] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.plan_replayer_task (\n\t\tsql_digest VARCHAR(128) NOT NULL,\n\t\tplan_digest VARCHAR(128) NOT NULL,\n\t\tupdate_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\tPRIMARY KEY (sql_digest,plan_digest));"] [user=]
[2024/05/15 17:19:28.267 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:73, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:72, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:28.266 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:19:28.267 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:73, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:72, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:28.266 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.plan_replayer_task (\n\t\tsql_digest VARCHAR(128) NOT NULL,\n\t\tplan_digest VARCHAR(128) NOT NULL,\n\t\tupdate_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\tPRIMARY KEY (sql_digest,plan_digest));"]
[2024/05/15 17:19:28.272 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=73] [category=ddl] [job="ID:73, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:72, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:28.266 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:28.273 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=35] [neededSchemaVersion=36] ["start time"=170.083s] [gotSchemaVersion=36] [phyTblIDs="[72]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:19:28.274 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:19:28.274 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=73] [version=36]
[2024/05/15 17:19:28.276 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=36] ["take time"=2.679ms] [job="ID:73, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:72, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:28.266 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:28.279 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=73] [job="ID:73, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:72, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:28.266 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:28.280 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=73]
[2024/05/15 17:19:28.280 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:19:28.281 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=36] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_table_locked(\n\t\ttable_id bigint(64) NOT NULL,\n\t\tmodify_count bigint(64) NOT NULL DEFAULT 0,\n\t\tcount bigint(64) NOT NULL DEFAULT 0,\n\t\tversion bigint(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tPRIMARY KEY (table_id));"] [user=]
[2024/05/15 17:19:28.282 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:75, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:74, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:28.281 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:19:28.282 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:75, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:74, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:28.281 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_table_locked(\n\t\ttable_id bigint(64) NOT NULL,\n\t\tmodify_count bigint(64) NOT NULL DEFAULT 0,\n\t\tcount bigint(64) NOT NULL DEFAULT 0,\n\t\tversion bigint(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tPRIMARY KEY (table_id));"]
[2024/05/15 17:19:28.286 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=75] [category=ddl] [job="ID:75, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:74, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:28.281 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:28.288 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=36] [neededSchemaVersion=37] ["start time"=175.708s] [gotSchemaVersion=37] [phyTblIDs="[74]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:19:28.289 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:19:28.289 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=75] [version=37]
[2024/05/15 17:19:28.290 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=37] ["take time"=2.17425ms] [job="ID:75, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:74, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:28.281 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:28.294 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=75] [job="ID:75, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:74, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:28.281 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:28.296 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=75]
[2024/05/15 17:19:28.296 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:19:28.296 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=37] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_ttl_table_status (\n\t\ttable_id bigint(64) PRIMARY KEY,\n        parent_table_id bigint(64),\n        table_statistics text DEFAULT NULL,\n\t\tlast_job_id varchar(64) DEFAULT NULL,\n\t\tlast_job_start_time timestamp NULL DEFAULT NULL,\n\t\tlast_job_finish_time timestamp NULL DEFAULT NULL,\n\t\tlast_job_ttl_expire timestamp NULL DEFAULT NULL,\n        last_job_summary text DEFAULT NULL,\n\t\tcurrent_job_id varchar(64) DEFAULT NULL,\n\t\tcurrent_job_owner_id varchar(64) DEFAULT NULL,\n\t\tcurrent_job_owner_addr varchar(256) DEFAULT NULL,\n\t\tcurrent_job_owner_hb_time timestamp,\n\t\tcurrent_job_start_time timestamp NULL DEFAULT NULL,\n\t\tcurrent_job_ttl_expire timestamp NULL DEFAULT NULL,\n\t\tcurrent_job_state text DEFAULT NULL,\n\t\tcurrent_job_status varchar(64) DEFAULT NULL,\n  \t\tcurrent_job_status_update_time timestamp NULL DEFAULT NULL);"] [user=]
[2024/05/15 17:19:28.300 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:77, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:76, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:28.297 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:19:28.300 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:77, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:76, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:28.297 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_ttl_table_status (\n\t\ttable_id bigint(64) PRIMARY KEY,\n        parent_table_id bigint(64),\n        table_statistics text DEFAULT NULL,\n\t\tlast_job_id varchar(64) DEFAULT NULL,\n\t\tlast_job_start_time timestamp NULL DEFAULT NULL,\n\t\tlast_job_finish_time timestamp NULL DEFAULT NULL,\n\t\tlast_job_ttl_expire timestamp NULL DEFAULT NULL,\n        last_job_summary text DEFAULT NULL,\n\t\tcurrent_job_id varchar(64) DEFAULT NULL,\n\t\tcurrent_job_owner_id varchar(64) DEFAULT NULL,\n\t\tcurrent_job_owner_addr varchar(256) DEFAULT NULL,\n\t\tcurrent_job_owner_hb_time timestamp,\n\t\tcurrent_job_start_time timestamp NULL DEFAULT NULL,\n\t\tcurrent_job_ttl_expire timestamp NULL DEFAULT NULL,\n\t\tcurrent_job_state text DEFAULT NULL,\n\t\tcurrent_job_status varchar(64) DEFAULT NULL,\n  \t\tcurrent_job_status_update_time timestamp NULL DEFAULT NULL);"]
[2024/05/15 17:19:28.307 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=77] [category=ddl] [job="ID:77, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:76, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:28.297 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:28.311 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=37] [neededSchemaVersion=38] ["start time"=704.083s] [gotSchemaVersion=38] [phyTblIDs="[76]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:19:28.314 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:19:28.314 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=77] [version=38]
[2024/05/15 17:19:28.315 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=38] ["take time"=4.067875ms] [job="ID:77, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:76, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:28.297 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:28.320 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=77] [job="ID:77, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:76, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:28.297 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:28.322 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=77]
[2024/05/15 17:19:28.322 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:19:28.322 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=38] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_ttl_task (\n\t\tjob_id varchar(64) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tscan_id int NOT NULL,\n\t\tscan_range_start BLOB,\n\t\tscan_range_end BLOB,\n\t\texpire_time timestamp NOT NULL,\n\t\towner_id varchar(64) DEFAULT NULL,\n\t\towner_addr varchar(64) DEFAULT NULL,\n\t\towner_hb_time timestamp DEFAULT NULL,\n\t\tstatus varchar(64) DEFAULT 'waiting',\n\t\tstatus_update_time timestamp NULL DEFAULT NULL,\n\t\tstate text,\n\t\tcreated_time timestamp NOT NULL,\n\t\tprimary key(job_id, scan_id),\n\t\tkey(created_time));"] [user=]
[2024/05/15 17:19:28.324 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:79, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:78, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:28.323 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:19:28.324 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:79, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:78, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:28.323 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_ttl_task (\n\t\tjob_id varchar(64) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tscan_id int NOT NULL,\n\t\tscan_range_start BLOB,\n\t\tscan_range_end BLOB,\n\t\texpire_time timestamp NOT NULL,\n\t\towner_id varchar(64) DEFAULT NULL,\n\t\towner_addr varchar(64) DEFAULT NULL,\n\t\towner_hb_time timestamp DEFAULT NULL,\n\t\tstatus varchar(64) DEFAULT 'waiting',\n\t\tstatus_update_time timestamp NULL DEFAULT NULL,\n\t\tstate text,\n\t\tcreated_time timestamp NOT NULL,\n\t\tprimary key(job_id, scan_id),\n\t\tkey(created_time));"]
[2024/05/15 17:19:28.327 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=79] [category=ddl] [job="ID:79, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:78, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:28.323 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:28.330 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=38] [neededSchemaVersion=39] ["start time"=805.291s] [gotSchemaVersion=39] [phyTblIDs="[78]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:19:28.332 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:19:28.332 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=79] [version=39]
[2024/05/15 17:19:28.336 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=39] ["take time"=6.958416ms] [job="ID:79, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:78, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:28.323 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:28.340 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=79] [job="ID:79, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:78, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:28.323 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:28.343 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=79]
[2024/05/15 17:19:28.343 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:19:28.344 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=39] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_ttl_job_history (\n\t\tjob_id varchar(64) PRIMARY KEY,\n\t\ttable_id bigint(64) NOT NULL,\n        parent_table_id bigint(64) NOT NULL,\n    \ttable_schema varchar(64) NOT NULL,\n\t\ttable_name varchar(64) NOT NULL,\n    \tpartition_name varchar(64) DEFAULT NULL,\n\t\tcreate_time timestamp NOT NULL,\n\t\tfinish_time timestamp NOT NULL,\n\t\tttl_expire timestamp NOT NULL,\n        summary_text text,\n\t\texpired_rows bigint(64) DEFAULT NULL,\n    \tdeleted_rows bigint(64) DEFAULT NULL,\n    \terror_delete_rows bigint(64) DEFAULT NULL,\n    \tstatus varchar(64) NOT NULL,\n    \tkey(table_schema, table_name, create_time),\n    \tkey(parent_table_id, create_time),\n    \tkey(create_time)\n\t);"] [user=]
[2024/05/15 17:19:28.347 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:81, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:80, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:28.345 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:19:28.347 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:81, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:80, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:28.345 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_ttl_job_history (\n\t\tjob_id varchar(64) PRIMARY KEY,\n\t\ttable_id bigint(64) NOT NULL,\n        parent_table_id bigint(64) NOT NULL,\n    \ttable_schema varchar(64) NOT NULL,\n\t\ttable_name varchar(64) NOT NULL,\n    \tpartition_name varchar(64) DEFAULT NULL,\n\t\tcreate_time timestamp NOT NULL,\n\t\tfinish_time timestamp NOT NULL,\n\t\tttl_expire timestamp NOT NULL,\n        summary_text text,\n\t\texpired_rows bigint(64) DEFAULT NULL,\n    \tdeleted_rows bigint(64) DEFAULT NULL,\n    \terror_delete_rows bigint(64) DEFAULT NULL,\n    \tstatus varchar(64) NOT NULL,\n    \tkey(table_schema, table_name, create_time),\n    \tkey(parent_table_id, create_time),\n    \tkey(create_time)\n\t);"]
[2024/05/15 17:19:28.352 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=81] [category=ddl] [job="ID:81, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:80, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:28.345 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:28.356 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=39] [neededSchemaVersion=40] ["start time"=860.708s] [gotSchemaVersion=40] [phyTblIDs="[80]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:19:28.356 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:19:28.356 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=81] [version=40]
[2024/05/15 17:19:28.359 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=40] ["take time"=4.454208ms] [job="ID:81, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:80, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:28.345 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:28.365 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=81] [job="ID:81, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:80, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:28.345 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:28.368 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=81]
[2024/05/15 17:19:28.368 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:19:28.368 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=40] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_global_task (\n\t\tid BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n    \ttask_key VARCHAR(256) NOT NULL,\n\t\ttype VARCHAR(256) NOT NULL,\n\t\tdispatcher_id VARCHAR(261),\n\t\tstate VARCHAR(64) NOT NULL,\n\t\tpriority INT DEFAULT 1,\n\t\tcreate_time TIMESTAMP,\n\t\tstart_time TIMESTAMP,\n\t\tstate_update_time TIMESTAMP,\n\t\tend_time TIMESTAMP,\n\t\tmeta LONGBLOB,\n\t\tconcurrency INT(11),\n\t\tstep INT(11),\n\t\ttarget_scope VARCHAR(256) DEFAULT \"\",\n\t\terror BLOB,\n\t\tkey(state),\n      \tUNIQUE KEY task_key(task_key)\n\t);"] [user=]
[2024/05/15 17:19:28.369 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:83, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:82, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:28.368 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:19:28.369 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:83, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:82, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:28.368 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_global_task (\n\t\tid BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n    \ttask_key VARCHAR(256) NOT NULL,\n\t\ttype VARCHAR(256) NOT NULL,\n\t\tdispatcher_id VARCHAR(261),\n\t\tstate VARCHAR(64) NOT NULL,\n\t\tpriority INT DEFAULT 1,\n\t\tcreate_time TIMESTAMP,\n\t\tstart_time TIMESTAMP,\n\t\tstate_update_time TIMESTAMP,\n\t\tend_time TIMESTAMP,\n\t\tmeta LONGBLOB,\n\t\tconcurrency INT(11),\n\t\tstep INT(11),\n\t\ttarget_scope VARCHAR(256) DEFAULT \"\",\n\t\terror BLOB,\n\t\tkey(state),\n      \tUNIQUE KEY task_key(task_key)\n\t);"]
[2024/05/15 17:19:28.373 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=83] [category=ddl] [job="ID:83, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:82, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:28.368 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:28.375 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=40] [neededSchemaVersion=41] ["start time"=378.792s] [gotSchemaVersion=41] [phyTblIDs="[82]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:19:28.376 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:19:28.376 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=83] [version=41]
[2024/05/15 17:19:28.377 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=41] ["take time"=2.127958ms] [job="ID:83, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:82, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:28.368 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:28.385 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=83] [job="ID:83, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:82, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:28.368 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:28.388 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=83]
[2024/05/15 17:19:28.388 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:19:28.389 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=41] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_global_task_history (\n\t\tid BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n    \ttask_key VARCHAR(256) NOT NULL,\n\t\ttype VARCHAR(256) NOT NULL,\n\t\tdispatcher_id VARCHAR(261),\n\t\tstate VARCHAR(64) NOT NULL,\n\t\tpriority INT DEFAULT 1,\n\t\tcreate_time TIMESTAMP,\n\t\tstart_time TIMESTAMP,\n\t\tstate_update_time TIMESTAMP,\n\t\tend_time TIMESTAMP,\n\t\tmeta LONGBLOB,\n\t\tconcurrency INT(11),\n\t\tstep INT(11),\n\t\ttarget_scope VARCHAR(256) DEFAULT \"\",\n\t\terror BLOB,\n\t\tkey(state),\n      \tUNIQUE KEY task_key(task_key)\n\t);"] [user=]
[2024/05/15 17:19:28.391 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:85, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:84, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:28.389 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:19:28.391 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:85, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:84, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:28.389 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_global_task_history (\n\t\tid BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n    \ttask_key VARCHAR(256) NOT NULL,\n\t\ttype VARCHAR(256) NOT NULL,\n\t\tdispatcher_id VARCHAR(261),\n\t\tstate VARCHAR(64) NOT NULL,\n\t\tpriority INT DEFAULT 1,\n\t\tcreate_time TIMESTAMP,\n\t\tstart_time TIMESTAMP,\n\t\tstate_update_time TIMESTAMP,\n\t\tend_time TIMESTAMP,\n\t\tmeta LONGBLOB,\n\t\tconcurrency INT(11),\n\t\tstep INT(11),\n\t\ttarget_scope VARCHAR(256) DEFAULT \"\",\n\t\terror BLOB,\n\t\tkey(state),\n      \tUNIQUE KEY task_key(task_key)\n\t);"]
[2024/05/15 17:19:28.395 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=85] [category=ddl] [job="ID:85, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:84, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:28.389 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:28.398 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=41] [neededSchemaVersion=42] ["start time"=383.958s] [gotSchemaVersion=42] [phyTblIDs="[84]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:19:28.399 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:19:28.399 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=85] [version=42]
[2024/05/15 17:19:28.400 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=42] ["take time"=2.169791ms] [job="ID:85, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:84, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:28.389 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:28.406 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=85] [job="ID:85, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:84, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:28.389 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:28.408 +08:00] [WARN] [runaway.go:166] ["failed to start runaway manager loop, please check whether the bootstrap or update is finished"] [error="[schema:1146]Table 'mysql.tidb_runaway_watch' doesn't exist"] [errorVerbose="[schema:1146]Table 'mysql.tidb_runaway_watch' doesn't exist\ngithub.com/pingcap/errors.AddStack\n\t/Users/bba/.gvm/pkgsets/go1.21.0/global/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20240318064555-6bd07397691f/errors.go:178\ngithub.com/pingcap/errors.Trace\n\t/Users/bba/.gvm/pkgsets/go1.21.0/global/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20240318064555-6bd07397691f/juju_adaptor.go:15\ngithub.com/pingcap/tidb/pkg/planner/core.Preprocess\n\t/Users/bba/pc/tidb/pkg/planner/core/preprocess.go:141\ngithub.com/pingcap/tidb/pkg/executor.(*Compiler).Compile\n\t/Users/bba/pc/tidb/pkg/executor/compiler.go:67\ngithub.com/pingcap/tidb/pkg/session.(*session).ExecuteStmt\n\t/Users/bba/pc/tidb/pkg/session/session.go:2094\ngithub.com/pingcap/tidb/pkg/session.(*session).ExecuteInternalStmt\n\t/Users/bba/pc/tidb/pkg/session/session.go:1998\ngithub.com/pingcap/tidb/pkg/session.(*session).ExecRestrictedSQL.func1\n\t/Users/bba/pc/tidb/pkg/session/session.go:1963\ngithub.com/pingcap/tidb/pkg/session.(*session).withRestrictedSQLExecutor\n\t/Users/bba/pc/tidb/pkg/session/session.go:1949\ngithub.com/pingcap/tidb/pkg/session.(*session).ExecRestrictedSQL\n\t/Users/bba/pc/tidb/pkg/session/session.go:1953\ngithub.com/pingcap/tidb/pkg/domain.(*SystemTableReader).Read\n\t/Users/bba/pc/tidb/pkg/domain/runaway.go:655\ngithub.com/pingcap/tidb/pkg/domain.getRunawayWatchRecord\n\t/Users/bba/pc/tidb/pkg/domain/runaway.go:543\ngithub.com/pingcap/tidb/pkg/domain.(*runawaySyncer).getWatchRecord\n\t/Users/bba/pc/tidb/pkg/domain/runaway.go:526\ngithub.com/pingcap/tidb/pkg/domain.(*runawaySyncer).getNewWatchRecords\n\t/Users/bba/pc/tidb/pkg/domain/runaway.go:509\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).updateNewAndDoneWatch\n\t/Users/bba/pc/tidb/pkg/domain/runaway.go:177\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).runawayStartLoop\n\t/Users/bba/pc/tidb/pkg/domain/runaway.go:156\ngithub.com/pingcap/tidb/pkg/util.(*WaitGroupEnhancedWrapper).Run.func1\n\t/Users/bba/pc/tidb/pkg/util/wait_group_wrapper.go:99\nruntime.goexit\n\t/Users/bba/.gvm/gos/go1.21.0/src/runtime/asm_arm64.s:1197"]
[2024/05/15 17:19:28.412 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=85]
[2024/05/15 17:19:28.412 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:19:28.412 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=42] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_import_jobs (\n\t\tid bigint(64) NOT NULL AUTO_INCREMENT,\n\t\tcreate_time TIMESTAMP(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6),\n\t\tstart_time TIMESTAMP(6) NULL DEFAULT NULL,\n\t\tupdate_time TIMESTAMP(6) NULL DEFAULT NULL,\n\t\tend_time TIMESTAMP(6) NULL DEFAULT NULL,\n\t\ttable_schema VARCHAR(64) NOT NULL,\n\t\ttable_name VARCHAR(64) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tcreated_by VARCHAR(300) NOT NULL,\n\t\tparameters text NOT NULL,\n\t\tsource_file_size bigint(64) NOT NULL,\n\t\tstatus VARCHAR(64) NOT NULL,\n\t\tstep VARCHAR(64) NOT NULL,\n\t\tsummary text DEFAULT NULL,\n\t\terror_message TEXT DEFAULT NULL,\n\t\tPRIMARY KEY (id),\n\t\tKEY (created_by),\n\t\tKEY (status));"] [user=]
[2024/05/15 17:19:28.416 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:87, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:86, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:28.414 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:19:28.416 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:87, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:86, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:28.414 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_import_jobs (\n\t\tid bigint(64) NOT NULL AUTO_INCREMENT,\n\t\tcreate_time TIMESTAMP(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6),\n\t\tstart_time TIMESTAMP(6) NULL DEFAULT NULL,\n\t\tupdate_time TIMESTAMP(6) NULL DEFAULT NULL,\n\t\tend_time TIMESTAMP(6) NULL DEFAULT NULL,\n\t\ttable_schema VARCHAR(64) NOT NULL,\n\t\ttable_name VARCHAR(64) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tcreated_by VARCHAR(300) NOT NULL,\n\t\tparameters text NOT NULL,\n\t\tsource_file_size bigint(64) NOT NULL,\n\t\tstatus VARCHAR(64) NOT NULL,\n\t\tstep VARCHAR(64) NOT NULL,\n\t\tsummary text DEFAULT NULL,\n\t\terror_message TEXT DEFAULT NULL,\n\t\tPRIMARY KEY (id),\n\t\tKEY (created_by),\n\t\tKEY (status));"]
[2024/05/15 17:19:28.422 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=87] [category=ddl] [job="ID:87, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:86, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:28.414 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:28.429 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=42] [neededSchemaVersion=43] ["start time"=1.174958ms] [gotSchemaVersion=43] [phyTblIDs="[86]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:19:28.430 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:19:28.430 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=87] [version=43]
[2024/05/15 17:19:28.434 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=43] ["take time"=6.503417ms] [job="ID:87, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:86, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:28.414 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:28.444 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=87] [job="ID:87, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:86, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:28.414 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:28.446 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=87]
[2024/05/15 17:19:28.446 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:19:28.447 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=43] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_runaway_watch (\n\t\tid BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n\t\tresource_group_name varchar(32) not null,\n\t\tstart_time datetime(6) NOT NULL,\n\t\tend_time datetime(6),\n\t\twatch bigint(10) NOT NULL,\n\t\twatch_text TEXT NOT NULL,\n\t\tsource varchar(512) NOT NULL,\n\t\taction bigint(10),\n\t\tINDEX sql_index(resource_group_name,watch_text(700)) COMMENT \"accelerate the speed when select quarantined query\",\n\t\tINDEX time_index(end_time) COMMENT \"accelerate the speed when querying with active watch\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"] [user=]
[2024/05/15 17:19:28.449 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:89, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:88, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:28.447 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:19:28.449 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:89, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:88, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:28.447 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_runaway_watch (\n\t\tid BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n\t\tresource_group_name varchar(32) not null,\n\t\tstart_time datetime(6) NOT NULL,\n\t\tend_time datetime(6),\n\t\twatch bigint(10) NOT NULL,\n\t\twatch_text TEXT NOT NULL,\n\t\tsource varchar(512) NOT NULL,\n\t\taction bigint(10),\n\t\tINDEX sql_index(resource_group_name,watch_text(700)) COMMENT \"accelerate the speed when select quarantined query\",\n\t\tINDEX time_index(end_time) COMMENT \"accelerate the speed when querying with active watch\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"]
[2024/05/15 17:19:28.454 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=89] [category=ddl] [job="ID:89, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:88, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:28.447 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:28.456 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=43] [neededSchemaVersion=44] ["start time"=294.708s] [gotSchemaVersion=44] [phyTblIDs="[88]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:19:28.457 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:19:28.457 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=89] [version=44]
[2024/05/15 17:19:28.459 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=44] ["take time"=2.601084ms] [job="ID:89, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:88, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:28.447 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:28.463 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=89] [job="ID:89, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:88, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:28.447 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:28.465 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=89]
[2024/05/15 17:19:28.465 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:19:28.465 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=44] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_runaway_queries (\n\t\tresource_group_name varchar(32) not null,\n\t\ttime TIMESTAMP NOT NULL,\n\t\tmatch_type varchar(12) NOT NULL,\n\t\taction varchar(12) NOT NULL,\n\t\toriginal_sql TEXT NOT NULL,\n\t\tplan_digest TEXT NOT NULL,\n\t\ttidb_server varchar(512),\n\t\tINDEX plan_index(plan_digest(64)) COMMENT \"accelerate the speed when select runaway query\",\n\t\tINDEX time_index(time) COMMENT \"accelerate the speed when querying with active watch\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"] [user=]
[2024/05/15 17:19:28.466 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:91, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:90, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:28.465 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:19:28.466 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:91, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:90, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:28.465 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_runaway_queries (\n\t\tresource_group_name varchar(32) not null,\n\t\ttime TIMESTAMP NOT NULL,\n\t\tmatch_type varchar(12) NOT NULL,\n\t\taction varchar(12) NOT NULL,\n\t\toriginal_sql TEXT NOT NULL,\n\t\tplan_digest TEXT NOT NULL,\n\t\ttidb_server varchar(512),\n\t\tINDEX plan_index(plan_digest(64)) COMMENT \"accelerate the speed when select runaway query\",\n\t\tINDEX time_index(time) COMMENT \"accelerate the speed when querying with active watch\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"]
[2024/05/15 17:19:28.470 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=91] [category=ddl] [job="ID:91, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:90, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:28.465 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:28.472 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=44] [neededSchemaVersion=45] ["start time"=260.25s] [gotSchemaVersion=45] [phyTblIDs="[90]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:19:28.472 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:19:28.472 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=91] [version=45]
[2024/05/15 17:19:28.474 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=45] ["take time"=2.00625ms] [job="ID:91, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:90, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:28.465 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:28.478 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=91] [job="ID:91, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:90, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:28.465 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:28.479 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=91]
[2024/05/15 17:19:28.480 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:19:28.480 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=45] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS `mysql`.`tidb_timers` (\n\t\tID BIGINT(64) UNSIGNED NOT NULL AUTO_INCREMENT,\n\t\tNAMESPACE VARCHAR(256) NOT NULL,\n\t\tTIMER_KEY VARCHAR(256) NOT NULL,\n\t\tTIMER_DATA BLOB,\n\t\tTIMEZONE VARCHAR(64) NOT NULL,\n\t\tSCHED_POLICY_TYPE VARCHAR(32) NOT NULL,\n\t\tSCHED_POLICY_EXPR VARCHAR(256) NOT NULL,\n\t\tHOOK_CLASS VARCHAR(64) NOT NULL,\n\t\tWATERMARK TIMESTAMP DEFAULT NULL,\n\t\tENABLE TINYINT(2) NOT NULL,\n\t\tTIMER_EXT JSON NOT NULL,\n\t\tEVENT_STATUS VARCHAR(32) NOT NULL,\n\t\tEVENT_ID VARCHAR(64) NOT NULL,\n\t\tEVENT_DATA BLOB,\n\t\tEVENT_START TIMESTAMP DEFAULT NULL,\n\t\tSUMMARY_DATA BLOB,\n\t\tCREATE_TIME TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,\n\t\tUPDATE_TIME TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\tVERSION BIGINT(64) UNSIGNED NOT NULL,\n\t\tPRIMARY KEY (ID),\n\t\tUNIQUE KEY timer_key(NAMESPACE, TIMER_KEY),\n\t\tKEY hook_class(HOOK_CLASS)\n\t)"] [user=]
[2024/05/15 17:19:28.482 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:93, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:92, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:28.481 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:19:28.482 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:93, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:92, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:28.481 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS `mysql`.`tidb_timers` (\n\t\tID BIGINT(64) UNSIGNED NOT NULL AUTO_INCREMENT,\n\t\tNAMESPACE VARCHAR(256) NOT NULL,\n\t\tTIMER_KEY VARCHAR(256) NOT NULL,\n\t\tTIMER_DATA BLOB,\n\t\tTIMEZONE VARCHAR(64) NOT NULL,\n\t\tSCHED_POLICY_TYPE VARCHAR(32) NOT NULL,\n\t\tSCHED_POLICY_EXPR VARCHAR(256) NOT NULL,\n\t\tHOOK_CLASS VARCHAR(64) NOT NULL,\n\t\tWATERMARK TIMESTAMP DEFAULT NULL,\n\t\tENABLE TINYINT(2) NOT NULL,\n\t\tTIMER_EXT JSON NOT NULL,\n\t\tEVENT_STATUS VARCHAR(32) NOT NULL,\n\t\tEVENT_ID VARCHAR(64) NOT NULL,\n\t\tEVENT_DATA BLOB,\n\t\tEVENT_START TIMESTAMP DEFAULT NULL,\n\t\tSUMMARY_DATA BLOB,\n\t\tCREATE_TIME TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,\n\t\tUPDATE_TIME TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\tVERSION BIGINT(64) UNSIGNED NOT NULL,\n\t\tPRIMARY KEY (ID),\n\t\tUNIQUE KEY timer_key(NAMESPACE, TIMER_KEY),\n\t\tKEY hook_class(HOOK_CLASS)\n\t)"]
[2024/05/15 17:19:28.485 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=93] [category=ddl] [job="ID:93, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:92, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:28.481 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:28.488 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=45] [neededSchemaVersion=46] ["start time"=469.291s] [gotSchemaVersion=46] [phyTblIDs="[92]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:19:28.489 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:19:28.489 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=93] [version=46]
[2024/05/15 17:19:28.490 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=46] ["take time"=2.774334ms] [job="ID:93, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:92, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:28.481 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:28.495 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=93] [job="ID:93, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:92, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:28.481 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:28.497 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=93]
[2024/05/15 17:19:28.497 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:19:28.497 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=46] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_runaway_watch_done (\n\t\tid BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n\t\trecord_id BIGINT(20) not null,\n\t\tresource_group_name varchar(32) not null,\n\t\tstart_time datetime(6) NOT NULL,\n\t\tend_time datetime(6),\n\t\twatch bigint(10) NOT NULL,\n\t\twatch_text TEXT NOT NULL,\n\t\tsource varchar(512) NOT NULL,\n\t\taction bigint(10),\n\t\tdone_time TIMESTAMP(6) NOT NULL\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"] [user=]
[2024/05/15 17:19:28.499 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:95, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:94, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:28.498 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:19:28.499 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:95, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:94, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:28.498 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_runaway_watch_done (\n\t\tid BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n\t\trecord_id BIGINT(20) not null,\n\t\tresource_group_name varchar(32) not null,\n\t\tstart_time datetime(6) NOT NULL,\n\t\tend_time datetime(6),\n\t\twatch bigint(10) NOT NULL,\n\t\twatch_text TEXT NOT NULL,\n\t\tsource varchar(512) NOT NULL,\n\t\taction bigint(10),\n\t\tdone_time TIMESTAMP(6) NOT NULL\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"]
[2024/05/15 17:19:28.503 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=95] [category=ddl] [job="ID:95, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:94, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:28.498 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:28.505 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=46] [neededSchemaVersion=47] ["start time"=308.125s] [gotSchemaVersion=47] [phyTblIDs="[94]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:19:28.506 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:19:28.506 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=95] [version=47]
[2024/05/15 17:19:28.507 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=47] ["take time"=2.319334ms] [job="ID:95, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:94, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:28.498 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:28.512 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=95] [job="ID:95, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:94, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:28.498 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:28.514 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=95]
[2024/05/15 17:19:28.514 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:19:28.514 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=47] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.dist_framework_meta (\n        host VARCHAR(261) NOT NULL PRIMARY KEY,\n        role VARCHAR(64),\n        cpu_count int default 0,\n        keyspace_id bigint(8) NOT NULL DEFAULT -1\n    );"] [user=]
[2024/05/15 17:19:28.517 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:97, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:96, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:28.516 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:19:28.517 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:97, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:96, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:28.516 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.dist_framework_meta (\n        host VARCHAR(261) NOT NULL PRIMARY KEY,\n        role VARCHAR(64),\n        cpu_count int default 0,\n        keyspace_id bigint(8) NOT NULL DEFAULT -1\n    );"]
[2024/05/15 17:19:28.520 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=97] [category=ddl] [job="ID:97, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:96, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:28.516 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:28.522 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=47] [neededSchemaVersion=48] ["start time"=203.458s] [gotSchemaVersion=48] [phyTblIDs="[96]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:19:28.522 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:19:28.522 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=97] [version=48]
[2024/05/15 17:19:28.523 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=48] ["take time"=2.067208ms] [job="ID:97, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:96, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:28.516 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:28.528 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=97] [job="ID:97, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:96, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:28.516 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:28.529 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=97]
[2024/05/15 17:19:28.529 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:19:28.530 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=48] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.request_unit_by_group (\n\t\tstart_time TIMESTAMP(6) NOT NULL,\n\t\tend_time TIMESTAMP(6) NOT NULL,\n\t\tresource_group VARCHAR(32) NOT null,\n\t\ttotal_ru bigint(64) UNSIGNED NOT NULL,\n\t\tPRIMARY KEY (start_time, end_time, resource_group),\n\t\tKEY (resource_group)\n\t);"] [user=]
[2024/05/15 17:19:28.531 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:99, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:98, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:28.53 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:19:28.531 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:99, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:98, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:28.53 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.request_unit_by_group (\n\t\tstart_time TIMESTAMP(6) NOT NULL,\n\t\tend_time TIMESTAMP(6) NOT NULL,\n\t\tresource_group VARCHAR(32) NOT null,\n\t\ttotal_ru bigint(64) UNSIGNED NOT NULL,\n\t\tPRIMARY KEY (start_time, end_time, resource_group),\n\t\tKEY (resource_group)\n\t);"]
[2024/05/15 17:19:28.535 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=99] [category=ddl] [job="ID:99, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:98, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:28.53 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:28.536 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=48] [neededSchemaVersion=49] ["start time"=246.375s] [gotSchemaVersion=49] [phyTblIDs="[98]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:19:28.537 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:19:28.537 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=99] [version=49]
[2024/05/15 17:19:28.539 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=49] ["take time"=2.642417ms] [job="ID:99, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:98, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:28.53 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:28.543 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=99] [job="ID:99, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:98, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:28.53 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:28.545 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=99]
[2024/05/15 17:19:28.545 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:19:28.545 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=49] [cur_db=mysql] [sql="CREATE DATABASE IF NOT EXISTS sys;"] [user=]
[2024/05/15 17:19:28.547 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:101, Type:create schema, State:queueing, SchemaState:none, SchemaID:100, TableID:0, RowCount:0, ArgLen:1, start time: 2024-05-15 17:19:28.546 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:19:28.547 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:101, Type:create schema, State:queueing, SchemaState:none, SchemaID:100, TableID:0, RowCount:0, ArgLen:1, start time: 2024-05-15 17:19:28.546 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE DATABASE IF NOT EXISTS sys;"]
[2024/05/15 17:19:28.551 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=101] [category=ddl] [job="ID:101, Type:create schema, State:queueing, SchemaState:none, SchemaID:100, TableID:0, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:28.546 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:28.552 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=49] [neededSchemaVersion=50] ["start time"=47.667s] [gotSchemaVersion=50] [phyTblIDs="[]"] [actionTypes="[]"] [diffTypes="[\"create schema\"]"]
[2024/05/15 17:19:28.552 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:19:28.552 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=101] [version=50]
[2024/05/15 17:19:28.555 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=50] ["take time"=3.751333ms] [job="ID:101, Type:create schema, State:done, SchemaState:public, SchemaID:100, TableID:0, RowCount:0, ArgLen:1, start time: 2024-05-15 17:19:28.546 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:28.560 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=101] [job="ID:101, Type:create schema, State:synced, SchemaState:public, SchemaID:100, TableID:0, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:28.546 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:28.563 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=101]
[2024/05/15 17:19:28.563 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:19:28.565 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:103, Type:create view, State:queueing, SchemaState:none, SchemaID:100, TableID:102, RowCount:0, ArgLen:3, start time: 2024-05-15 17:19:28.564 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:19:28.565 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:103, Type:create view, State:queueing, SchemaState:none, SchemaID:100, TableID:102, RowCount:0, ArgLen:3, start time: 2024-05-15 17:19:28.564 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE OR REPLACE VIEW sys.schema_unused_indexes AS\n\t\tSELECT\n\t\t\ttable_schema as object_schema,\n\t\t\ttable_name as object_name,\n\t\t\tindex_name\n\t\tFROM information_schema.cluster_tidb_index_usage\n\t\tWHERE\n\t\t\ttable_schema not in ('sys', 'mysql', 'INFORMATION_SCHEMA', 'PERFORMANCE_SCHEMA') and\n\t\t\tindex_name != 'PRIMARY'\n\t\tGROUP BY table_schema, table_name, index_name\n\t\tHAVING\n\t\t\tsum(last_access_time) is null;"]
[2024/05/15 17:19:28.569 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=103] [category=ddl] [job="ID:103, Type:create view, State:queueing, SchemaState:none, SchemaID:100, TableID:102, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:28.564 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:28.571 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=50] [neededSchemaVersion=51] ["start time"=207.208s] [gotSchemaVersion=51] [phyTblIDs="[102]"] [actionTypes="[21]"] [diffTypes="[\"create view\"]"]
[2024/05/15 17:19:28.572 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:19:28.572 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=103] [version=51]
[2024/05/15 17:19:28.574 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=51] ["take time"=2.713834ms] [job="ID:103, Type:create view, State:done, SchemaState:public, SchemaID:100, TableID:102, RowCount:0, ArgLen:3, start time: 2024-05-15 17:19:28.564 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:28.579 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=103] [job="ID:103, Type:create view, State:synced, SchemaState:public, SchemaID:100, TableID:102, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:28.564 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:28.581 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=103]
[2024/05/15 17:19:28.581 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:19:28.582 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=0] ["to ID"=1] ["table ID"=4] ["database ID"=1]
[2024/05/15 17:19:28.586 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=0] ["to ID"=655] ["table ID"=16] ["database ID"=1]
[2024/05/15 17:19:28.590 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=0] ["to ID"=1] ["table ID"=18] ["database ID"=1]
[2024/05/15 17:19:28.590 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1] ["to ID"=2] ["table ID"=18] ["database ID"=1]
[2024/05/15 17:19:28.590 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2] ["to ID"=3] ["table ID"=18] ["database ID"=1]
[2024/05/15 17:19:28.590 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3] ["to ID"=4] ["table ID"=18] ["database ID"=1]
[2024/05/15 17:19:28.591 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=4] ["to ID"=5] ["table ID"=18] ["database ID"=1]
[2024/05/15 17:19:28.594 +08:00] [INFO] [bootstrap.go:745] ["bootstrap successful"] ["take time"=1.188711666s]
[2024/05/15 17:19:28.596 +08:00] [INFO] [mock.go:106] ["owner manager is canceled"] [category=ddl] [ID=2767533b-06bd-459b-b4f0-64cc1e118047] [ownerKey=/tidb/ddl/fg/owner]
[2024/05/15 17:19:28.596 +08:00] [INFO] [ddl_workerpool.go:82] ["closing workerPool"] [category=ddl]
[2024/05/15 17:19:28.596 +08:00] [INFO] [ddl_worker.go:186] ["DDL worker closed"] [worker="worker 2, tp add index"] [category=ddl] ["take time"=667ns]
[2024/05/15 17:19:28.596 +08:00] [INFO] [ddl_workerpool.go:82] ["closing workerPool"] [category=ddl]
[2024/05/15 17:19:28.596 +08:00] [INFO] [ddl_worker.go:186] ["DDL worker closed"] [worker="worker 1, tp general"] [category=ddl] ["take time"=458ns]
[2024/05/15 17:19:28.596 +08:00] [INFO] [ddl_workerpool.go:82] ["closing workerPool"] [category=ddl]
[2024/05/15 17:19:28.596 +08:00] [INFO] [delete_range.go:162] ["closing delRange"] [category=ddl]
[2024/05/15 17:19:28.596 +08:00] [INFO] [session_pool.go:99] ["closing session pool"] [category=ddl]
[2024/05/15 17:19:28.596 +08:00] [INFO] [ddl.go:951] ["DDL closed"] [category=ddl] [ID=2767533b-06bd-459b-b4f0-64cc1e118047] ["take time"=557.125s]
[2024/05/15 17:19:28.596 +08:00] [INFO] [ddl.go:769] ["stop DDL"] [category=ddl] [ID=2767533b-06bd-459b-b4f0-64cc1e118047]
[2024/05/15 17:19:28.596 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=mdlCheckLoop]
[2024/05/15 17:19:28.596 +08:00] [INFO] [domain.go:915] ["loadSchemaInLoop exited."]
[2024/05/15 17:19:28.596 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=loadSchemaInLoop]
[2024/05/15 17:19:28.596 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=runawayStartLoop]
[2024/05/15 17:19:28.596 +08:00] [INFO] [domain.go:769] ["topologySyncerKeeper exited."]
[2024/05/15 17:19:28.596 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=topologySyncerKeeper]
[2024/05/15 17:19:28.596 +08:00] [INFO] [domain.go:745] ["globalConfigSyncerKeeper exited."]
[2024/05/15 17:19:28.596 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=globalConfigSyncerKeeper]
[2024/05/15 17:19:28.596 +08:00] [INFO] [domain.go:719] ["infoSyncerKeeper exited."]
[2024/05/15 17:19:28.596 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=infoSyncerKeeper]
[2024/05/15 17:19:28.596 +08:00] [INFO] [domain.go:691] ["topNSlowQueryLoop exited."]
[2024/05/15 17:19:28.596 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=topNSlowQueryLoop]
[2024/05/15 17:19:28.596 +08:00] [INFO] [domain.go:1369] ["closestReplicaReadCheckLoop exited."]
[2024/05/15 17:19:28.596 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=closestReplicaReadCheckLoop]
[2024/05/15 17:19:28.596 +08:00] [INFO] [domain.go:1082] ["domain closed"] ["take time"=657.666s]
[2024/05/15 17:19:28.596 +08:00] [INFO] [tidb.go:80] ["new domain"] [store=6c3ce306-f2b7-4158-a64f-c7d8ebc25b25] ["ddl lease"=500ms] ["stats lease"=-1ns]
[2024/05/15 17:19:28.598 +08:00] [WARN] [controller.go:198] ["[resource group controller] server does not save config, load config failed"]
[2024/05/15 17:19:28.598 +08:00] [INFO] [controller.go:185] ["load resource controller config"] [config="{\"degraded-mode-wait-duration\":\"0s\",\"ltb-max-wait-duration\":\"30s\",\"wait-retry-interval\":\"50ms\",\"wait-retry-times\":10,\"request-unit\":{\"read-base-cost\":0.125,\"read-per-batch-base-cost\":0.5,\"read-cost-per-byte\":0.0000152587890625,\"write-base-cost\":1,\"write-per-batch-base-cost\":1,\"write-cost-per-byte\":0.0009765625,\"read-cpu-ms-cost\":0.3333333333333333},\"enable-controller-trace-log\":\"false\"}"] [ru-config="{\"ReadBaseCost\":0.125,\"ReadPerBatchBaseCost\":0.5,\"ReadBytesCost\":0.0000152587890625,\"WriteBaseCost\":1,\"WritePerBatchBaseCost\":1,\"WriteBytesCost\":0.0009765625,\"CPUMsCost\":0.3333333333333333,\"LTBMaxWaitDuration\":30000000000,\"WaitRetryInterval\":50000000,\"WaitRetryTimes\":10,\"DegradedModeWaitDuration\":0}"]
[2024/05/15 17:19:28.611 +08:00] [INFO] [domain.go:323] ["full load InfoSchema success"] [currentSchemaVersion=0] [neededSchemaVersion=51] ["start time"=12.614583ms]
[2024/05/15 17:19:28.614 +08:00] [INFO] [domain.go:643] ["full load and reset schema validator"]
[2024/05/15 17:19:28.614 +08:00] [INFO] [ddl.go:818] ["start DDL"] [category=ddl] [ID=6c0cf111-be00-4d53-a949-3d4907828e44] [runWorker=true]
[2024/05/15 17:19:28.614 +08:00] [INFO] [ddl.go:777] ["start delRangeManager OK"] [category=ddl] ["is a emulator"=true]
[2024/05/15 17:19:28.614 +08:00] [WARN] [env.go:51] ["initialize environment failed"] [category=ddl-ingest] ["storage limitation"="only support TiKV storage"] ["current storage"=unistore] ["lightning is initialized"=false]
[2024/05/15 17:19:28.614 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=loadSchemaInLoop]
[2024/05/15 17:19:28.614 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=mdlCheckLoop]
[2024/05/15 17:19:28.614 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=topNSlowQueryLoop]
[2024/05/15 17:19:28.614 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=infoSyncerKeeper]
[2024/05/15 17:19:28.614 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=globalConfigSyncerKeeper]
[2024/05/15 17:19:28.614 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=runawayStartLoop]
[2024/05/15 17:19:28.614 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=requestUnitsWriterLoop]
[2024/05/15 17:19:28.614 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=topologySyncerKeeper]
[2024/05/15 17:19:28.614 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=closestReplicaReadCheckLoop]
[2024/05/15 17:19:28.614 +08:00] [WARN] [domain.go:1334] ["pd / etcd client not provided, won't begin Advancer."]
[2024/05/15 17:19:28.633 +08:00] [INFO] [delete_range.go:172] ["start delRange emulator"] [category=ddl]
[2024/05/15 17:19:28.633 +08:00] [INFO] [job_table.go:334] ["get global state and global state change"] [category=ddl] [oldState=false] [currState=false]
[2024/05/15 17:19:28.633 +08:00] [INFO] [runaway.go:149] ["try to start runaway manager loop"]
[2024/05/15 17:19:28.633 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=requestUnitsWriterLoop]
[2024/05/15 17:19:28.648 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=globalBindHandleWorkerLoop]
[2024/05/15 17:19:28.648 +08:00] [WARN] [sysvar_cache.go:49] ["sysvar cache is empty, triggering rebuild"]
[2024/05/15 17:19:28.649 +08:00] [INFO] [sysvar.go:2748] ["set resource control"] [enable=true]
[2024/05/15 17:19:28.650 +08:00] [INFO] [controller.go:447] ["[resource group controller] create resource group cost controller"] [name=default]
[2024/05/15 17:19:28.657 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=loadPrivilegeInLoop]
[2024/05/15 17:19:28.659 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=LoadSysVarCacheLoop]
[2024/05/15 17:19:28.661 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=dumpFileGcChecker]
[2024/05/15 17:19:28.661 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=indexUsageWorker]
[2024/05/15 17:19:28.661 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=quitStatsOwner]
[2024/05/15 17:19:28.661 +08:00] [INFO] [domain.go:2278] ["start load stats sub workers"] ["worker count"=5]
[2024/05/15 17:19:28.661 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=loadSigningCertLoop]
[2024/05/15 17:19:28.661 +08:00] [INFO] [manager.go:113] ["build task executor manager"] [server-id=:4000] [total-cpu=1] [total-mem=32GiB]
[2024/05/15 17:19:28.662 +08:00] [INFO] [domain.go:2078] ["dumpFileGcChecker started"]
[2024/05/15 17:19:28.663 +08:00] [INFO] [task_manager.go:217] ["scale ttl worker"] [ttl-worker=job-manager] [ttl-worker=task-manager] [originalCount=0] [newCount=4]
[2024/05/15 17:19:28.663 +08:00] [INFO] [task_manager.go:217] ["scale ttl worker"] [ttl-worker=job-manager] [ttl-worker=task-manager] [originalCount=0] [newCount=4]
[2024/05/15 17:19:28.667 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=0] ["to ID"=1] ["table ID"=96] ["database ID"=1]
[2024/05/15 17:19:28.667 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=distTaskFrameworkLoop]
[2024/05/15 17:19:28.669 +08:00] [INFO] [manager.go:146] ["task executor manager start"] [server-id=:4000]
[2024/05/15 17:19:28.669 +08:00] [INFO] [domain.go:1533] ["dist task executor manager started"]
[2024/05/15 17:19:28.671 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=5000] ["to ID"=5001] ["table ID"=16] ["database ID"=1]
[2024/05/15 17:19:28.674 +08:00] [INFO] [set.go:170] ["set global var"] [conn=1] [name=tidb_schema_cache_size] [val=1024]
[2024/05/15 17:19:28.674 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=1] [schemaVersion=51] [cur_db=test] [sql="drop table if exists t"] [user=]
[2024/05/15 17:19:28.674 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=5001] ["to ID"=5002] ["table ID"=16] ["database ID"=1]
[2024/05/15 17:19:28.678 +08:00] [INFO] [set.go:170] ["set global var"] [conn=1] [name=tidb_enable_check_constraint] [val=1]
[2024/05/15 17:19:28.678 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=1] [schemaVersion=51] [cur_db=test] [sql="create table t (a int)"] [user=]
[2024/05/15 17:19:28.703 +08:00] [INFO] [job_table.go:334] ["get global state and global state change"] [category=ddl] [oldState=false] [currState=false]
[2024/05/15 17:19:28.703 +08:00] [INFO] [job_table.go:349] ["the owner sets owner operator value"] [category=ddl] [ownerOp=none]
[2024/05/15 17:19:28.712 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:105, Type:create table, State:queueing, SchemaState:none, SchemaID:2, TableID:104, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:28.68 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:19:28.712 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:105, Type:create table, State:queueing, SchemaState:none, SchemaID:2, TableID:104, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:28.68 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="create table t (a int)"]
[2024/05/15 17:19:28.718 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=105] [conn=1] [category=ddl] [job="ID:105, Type:create table, State:queueing, SchemaState:none, SchemaID:2, TableID:104, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:28.68 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:28.720 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=51] [neededSchemaVersion=52] ["start time"=97.708s] [gotSchemaVersion=52] [phyTblIDs="[104]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:19:28.720 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=105] [version=52]
[2024/05/15 17:19:28.721 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=52] ["take time"=2.006375ms] [job="ID:105, Type:create table, State:done, SchemaState:public, SchemaID:2, TableID:104, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:28.68 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:28.724 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=105] [conn=1] [job="ID:105, Type:create table, State:synced, SchemaState:public, SchemaID:2, TableID:104, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:28.68 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:28.726 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=105]
[2024/05/15 17:19:28.726 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:19:28.728 +08:00] [INFO] [set.go:170] ["set global var"] [conn=2] [name=tidb_schema_cache_size] [val=1024]
[2024/05/15 17:19:28.728 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=0] ["to ID"=1] ["table ID"=104] ["database ID"=2]
[2024/05/15 17:19:28.729 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=1] [schemaVersion=52] [cur_db=test] [sql="alter table t add constraint c3 check ( a > 10)"] [user=]
[2024/05/15 17:19:28.730 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:106, Type:add check constraint, State:queueing, SchemaState:none, SchemaID:2, TableID:104, RowCount:0, ArgLen:1, start time: 2024-05-15 17:19:28.729 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:19:28.730 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:106, Type:add check constraint, State:queueing, SchemaState:none, SchemaID:2, TableID:104, RowCount:0, ArgLen:1, start time: 2024-05-15 17:19:28.729 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="alter table t add constraint c3 check ( a > 10)"]
[2024/05/15 17:19:28.735 +08:00] [INFO] [callback.go:96] ["on job run before"] [category=ddl] [job="ID:106, Type:add check constraint, State:queueing, SchemaState:none, SchemaID:2, TableID:104, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:28.729 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:28.735 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=106] [conn=1] [category=ddl] [job="ID:106, Type:add check constraint, State:queueing, SchemaState:none, SchemaID:2, TableID:104, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:28.729 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:28.736 +08:00] [INFO] [callback.go:111] ["on job run after"] [category=ddl] [job="ID:106, Type:add check constraint, State:running, SchemaState:write only, SchemaID:2, TableID:104, RowCount:0, ArgLen:1, start time: 2024-05-15 17:19:28.729 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:28.737 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=52] [neededSchemaVersion=53] ["start time"=194.125s] [gotSchemaVersion=53] [phyTblIDs="[104]"] [actionTypes="[43]"] [diffTypes="[\"add check constraint\"]"]
[2024/05/15 17:19:28.737 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=106] [version=53]
[2024/05/15 17:19:28.738 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=53] ["take time"=2.105917ms] [job="ID:106, Type:add check constraint, State:running, SchemaState:write only, SchemaID:2, TableID:104, RowCount:0, ArgLen:1, start time: 2024-05-15 17:19:28.729 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:28.739 +08:00] [INFO] [callback.go:122] ["on job updated"] [category=ddl] [job="ID:106, Type:add check constraint, State:running, SchemaState:write only, SchemaID:2, TableID:104, RowCount:0, ArgLen:1, start time: 2024-05-15 17:19:28.729 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:28.739 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:19:28.743 +08:00] [INFO] [callback.go:96] ["on job run before"] [category=ddl] [job="ID:106, Type:add check constraint, State:running, SchemaState:write only, SchemaID:2, TableID:104, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:28.729 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:28.743 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=106] [conn=1] [category=ddl] [job="ID:106, Type:add check constraint, State:running, SchemaState:write only, SchemaID:2, TableID:104, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:28.729 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:28.744 +08:00] [INFO] [callback.go:111] ["on job run after"] [category=ddl] [job="ID:106, Type:add check constraint, State:running, SchemaState:write reorganization, SchemaID:2, TableID:104, RowCount:0, ArgLen:1, start time: 2024-05-15 17:19:28.729 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:28.745 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=53] [neededSchemaVersion=54] ["start time"=255.333s] [gotSchemaVersion=54] [phyTblIDs="[104]"] [actionTypes="[43]"] [diffTypes="[\"add check constraint\"]"]
[2024/05/15 17:19:28.746 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=106] [version=54]
[2024/05/15 17:19:28.747 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=54] ["take time"=2.8195ms] [job="ID:106, Type:add check constraint, State:running, SchemaState:write reorganization, SchemaID:2, TableID:104, RowCount:0, ArgLen:1, start time: 2024-05-15 17:19:28.729 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:28.748 +08:00] [INFO] [callback.go:122] ["on job updated"] [category=ddl] [job="ID:106, Type:add check constraint, State:running, SchemaState:write reorganization, SchemaID:2, TableID:104, RowCount:0, ArgLen:1, start time: 2024-05-15 17:19:28.729 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:28.748 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:19:28.752 +08:00] [INFO] [callback.go:96] ["on job run before"] [category=ddl] [job="ID:106, Type:add check constraint, State:running, SchemaState:write reorganization, SchemaID:2, TableID:104, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:28.729 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:28.752 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=106] [conn=1] [category=ddl] [job="ID:106, Type:add check constraint, State:running, SchemaState:write reorganization, SchemaID:2, TableID:104, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:28.729 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:28.753 +08:00] [INFO] [callback.go:111] ["on job run after"] [category=ddl] [job="ID:106, Type:add check constraint, State:done, SchemaState:public, SchemaID:2, TableID:104, RowCount:0, ArgLen:1, start time: 2024-05-15 17:19:28.729 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:28.754 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=54] [neededSchemaVersion=55] ["start time"=200.834s] [gotSchemaVersion=55] [phyTblIDs="[104]"] [actionTypes="[43]"] [diffTypes="[\"add check constraint\"]"]
[2024/05/15 17:19:28.754 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=106] [version=55]
[2024/05/15 17:19:28.756 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=55] ["take time"=2.004709ms] [job="ID:106, Type:add check constraint, State:done, SchemaState:public, SchemaID:2, TableID:104, RowCount:0, ArgLen:1, start time: 2024-05-15 17:19:28.729 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:28.756 +08:00] [INFO] [callback.go:122] ["on job updated"] [category=ddl] [job="ID:106, Type:add check constraint, State:done, SchemaState:public, SchemaID:2, TableID:104, RowCount:0, ArgLen:1, start time: 2024-05-15 17:19:28.729 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:28.756 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:19:28.756 +08:00] [WARN] [infoschema_v3.go:59] ["table not equal"] [tbl1="{\"id\":104,\"name\":{\"O\":\"t\",\"L\":\"t\"},\"charset\":\"utf8mb4\",\"collate\":\"utf8mb4_bin\",\"cols\":[{\"id\":1,\"name\":{\"O\":\"a\",\"L\":\"a\"},\"offset\":0,\"origin_default\":null,\"origin_default_bit\":null,\"default\":null,\"default_bit\":null,\"default_is_expr\":false,\"generated_expr_string\":\"\",\"generated_stored\":false,\"dependences\":null,\"type\":{\"Tp\":3,\"Flag\":0,\"Flen\":11,\"Decimal\":0,\"Charset\":\"binary\",\"Collate\":\"binary\",\"Elems\":null,\"ElemsIsBinaryLit\":null,\"Array\":false},\"state\":5,\"comment\":\"\",\"hidden\":false,\"change_state_info\":null,\"version\":2}],\"index_info\":null,\"constraint_info\":[{\"id\":1,\"constraint_name\":{\"O\":\"c3\",\"L\":\"c3\"},\"tbl_name\":{\"O\":\"t\",\"L\":\"t\"},\"constraint_cols\":[{\"O\":\"a\",\"L\":\"a\"}],\"enforced\":true,\"in_column\":false,\"expr_string\":\"`a` \\u003e 10\",\"state\":5}],\"fk_info\":null,\"state\":5,\"pk_is_handle\":false,\"is_common_handle\":false,\"common_handle_version\":0,\"comment\":\"\",\"auto_inc_id\":0,\"auto_id_cache\":0,\"auto_rand_id\":0,\"max_col_id\":1,\"max_idx_id\":0,\"max_fk_id\":0,\"max_cst_id\":1,\"update_timestamp\":449777439539724289,\"ShardRowIDBits\":0,\"max_shard_row_id_bits\":0,\"auto_random_bits\":0,\"auto_random_range_bits\":0,\"pre_split_regions\":0,\"partition\":null,\"compression\":\"\",\"view\":null,\"sequence\":null,\"Lock\":null,\"version\":5,\"tiflash_replica\":null,\"is_columnar\":false,\"temp_table_type\":0,\"cache_table_status\":0,\"policy_ref_info\":null,\"stats_options\":null,\"exchange_partition_info\":null,\"ttl_info\":null,\"revision\":3}"] [tbl2="{\"id\":104,\"name\":{\"O\":\"t\",\"L\":\"t\"},\"charset\":\"utf8mb4\",\"collate\":\"utf8mb4_bin\",\"cols\":[{\"id\":1,\"name\":{\"O\":\"a\",\"L\":\"a\"},\"offset\":0,\"origin_default\":null,\"origin_default_bit\":null,\"default\":null,\"default_bit\":null,\"default_is_expr\":false,\"generated_expr_string\":\"\",\"generated_stored\":false,\"dependences\":null,\"type\":{\"Tp\":3,\"Flag\":0,\"Flen\":11,\"Decimal\":0,\"Charset\":\"binary\",\"Collate\":\"binary\",\"Elems\":null,\"ElemsIsBinaryLit\":null,\"Array\":false},\"state\":5,\"comment\":\"\",\"hidden\":false,\"change_state_info\":null,\"version\":2}],\"index_info\":null,\"constraint_info\":[{\"id\":1,\"constraint_name\":{\"O\":\"c3\",\"L\":\"c3\"},\"tbl_name\":{\"O\":\"t\",\"L\":\"t\"},\"constraint_cols\":[{\"O\":\"a\",\"L\":\"a\"}],\"enforced\":true,\"in_column\":false,\"expr_string\":\"`a` \\u003e 10\",\"state\":3}],\"fk_info\":null,\"state\":5,\"pk_is_handle\":false,\"is_common_handle\":false,\"common_handle_version\":0,\"comment\":\"\",\"auto_inc_id\":0,\"auto_id_cache\":0,\"auto_rand_id\":0,\"max_col_id\":1,\"max_idx_id\":0,\"max_fk_id\":0,\"max_cst_id\":1,\"update_timestamp\":449777439539724289,\"ShardRowIDBits\":0,\"max_shard_row_id_bits\":0,\"auto_random_bits\":0,\"auto_random_range_bits\":0,\"pre_split_regions\":0,\"partition\":null,\"compression\":\"\",\"view\":null,\"sequence\":null,\"Lock\":null,\"version\":5,\"tiflash_replica\":null,\"is_columnar\":false,\"temp_table_type\":0,\"cache_table_status\":0,\"policy_ref_info\":null,\"stats_options\":null,\"exchange_partition_info\":null,\"ttl_info\":null,\"revision\":3}"]
panic: inconsistent infoschema [recovered]
	panic: inconsistent infoschema

goroutine 16780 [running]:
github.com/pingcap/tidb/pkg/executor.(*Compiler).Compile.func1()
	/Users/bba/pc/tidb/pkg/executor/compiler.go:57 +0x360
panic({0x104795020?, 0x105097770?})
	/Users/bba/.gvm/gos/go1.21.0/src/runtime/panic.go:914 +0x218
github.com/pingcap/tidb/pkg/infoschema.(*infoschemaV3).TableByName(0x14006a1df20, {{0x103a8d1cb?, 0x14006122df8?}, {0x103a8d1cb?, 0x198?}}, {{0x103ad64f1?, 0x14006122df8?}, {0x103ad64f1?, 0x102067430?}})
	/Users/bba/pc/tidb/pkg/infoschema/infoschema_v3.go:216 +0x128
github.com/pingcap/tidb/pkg/infoschema.(*SessionExtendedInfoSchema).TableByName(0x1400673af30, {{0x103a8d1cb?, 0x80000000b464c3a5?}, {0x103a8d1cb?, 0x14006122f18?}}, {{0x103ad64f1?, 0x14006122ef8?}, {0x103ad64f1?, 0x14006122f88?}})
	/Users/bba/pc/tidb/pkg/infoschema/infoschema.go:696 +0x138
github.com/pingcap/tidb/pkg/planner/core.(*preprocessor).tableByName(0x1400583f030, 0x1400a53e5b0)
	/Users/bba/pc/tidb/pkg/planner/core/preprocess.go:495 +0x150
github.com/pingcap/tidb/pkg/planner/core.(*preprocessor).handleTableName(0x1400583f030, 0x1400a53e5b0)
	/Users/bba/pc/tidb/pkg/planner/core/preprocess.go:1574 +0x120
github.com/pingcap/tidb/pkg/planner/core.(*preprocessor).Enter(0x1400583f030, {0x1050e9350?, 0x1400a2352c0?})
	/Users/bba/pc/tidb/pkg/planner/core/preprocess.go:256 +0x2e0
github.com/pingcap/tidb/pkg/parser/ast.(*InsertStmt).Accept(0x1050da508?, {0x1050bf440, 0x1400583f030})
	/Users/bba/pc/tidb/pkg/parser/ast/dml.go:2436 +0x40
github.com/pingcap/tidb/pkg/planner/core.Preprocess({0x1050da508, 0x1400673aea0}, {0x105151660, 0x1400b7fcd80}, {0x1050e9350, 0x1400a2352c0}, {0x14006123418, 0x2, 0x14006123328?})
	/Users/bba/pc/tidb/pkg/planner/core/preprocess.go:138 +0x19c
github.com/pingcap/tidb/pkg/executor.(*Compiler).Compile(0x140061236f0, {0x1050da508?, 0x1400673aea0?}, {0x1050f0a20?, 0x1400a2352c0})
	/Users/bba/pc/tidb/pkg/executor/compiler.go:67 +0x1d8
github.com/pingcap/tidb/pkg/session.(*session).ExecuteStmt(0x1400b7fcd80, {0x1050da508?, 0x1400673aea0?}, {0x1050f0a20, 0x1400a2352c0?})
	/Users/bba/pc/tidb/pkg/session/session.go:2094 +0x70c
github.com/pingcap/tidb/pkg/testkit.(*TestKit).ExecWithContext(0x14006c22b40, {0x1050da508, 0x1400673aea0}, {0x103ad64e5, 0x17}, {0x0, 0x0, 0x0})
	/Users/bba/pc/tidb/pkg/testkit/testkit.go:384 +0x714
github.com/pingcap/tidb/pkg/testkit.(*TestKit).Exec(0x10218465c?, {0x103ad64e5, 0x17}, {0x0, 0x0, 0x0})
	/Users/bba/pc/tidb/pkg/testkit/testkit.go:357 +0x80
github.com/pingcap/tidb/pkg/testkit.(*TestKit).ExecToErr(0x14006c22b40, {0x103ad64e5?, 0x14000c171e0?}, {0x0?, 0x140044758c0?, 0x103a84709?})
	/Users/bba/pc/tidb/pkg/testkit/testkit.go:430 +0x28
github.com/pingcap/tidb/pkg/testkit.(*TestKit).MustGetErrMsg(0x14006c22b40, {0x103ad64e5?, 0x103a84709?}, {0x103b6b6c5, 0x2e})
	/Users/bba/pc/tidb/pkg/testkit/testkit.go:474 +0x38
github.com/pingcap/tidb/pkg/ddl_test.TestAlterAddConstraintStateChange3.func1(0x1400a58f1e0)
	/Users/bba/pc/tidb/pkg/ddl/constraint_test.go:227 +0x128
github.com/pingcap/tidb/pkg/ddl/util/callback.(*TestDDLCallback).OnJobUpdated(0x14000354af0, 0x1400a58f1e0)
	/Users/bba/pc/tidb/pkg/ddl/util/callback/callback.go:124 +0x144
github.com/pingcap/tidb/pkg/ddl.(*ddl).delivery2Worker.func1()
	/Users/bba/pc/tidb/pkg/ddl/job_table.go:494 +0x798
github.com/pingcap/tidb/pkg/util.(*WaitGroupWrapper).Run.func1()
	/Users/bba/pc/tidb/pkg/util/wait_group_wrapper.go:157 +0x58
created by github.com/pingcap/tidb/pkg/util.(*WaitGroupWrapper).Run in goroutine 15892
	/Users/bba/pc/tidb/pkg/util/wait_group_wrapper.go:155 +0x7c
[FAIL]  pkg/executor TestShowStatusSnapshot
err=exit status 1
[2024/05/15 17:19:30.958 +08:00] [INFO] [store_cache.go:510] ["change store resolve state"] [store=1] [addr=store1] [from=unresolved] [to=resolved] [liveness-state=reachable]
[2024/05/15 17:19:30.959 +08:00] [INFO] [ddl_api.go:1139] ["Automatically convert BLOB(65535) to MEDIUMBLOB"] [category=ddl]
[2024/05/15 17:19:30.959 +08:00] [INFO] [ddl_api.go:1139] ["Automatically convert BLOB(65535) to MEDIUMBLOB"] [category=ddl]
[2024/05/15 17:19:30.960 +08:00] [INFO] [ddl_api.go:1139] ["Automatically convert BLOB(65535) to MEDIUMBLOB"] [category=ddl]
[2024/05/15 17:19:30.960 +08:00] [INFO] [ddl_api.go:1139] ["Automatically convert BLOB(65535) to MEDIUMBLOB"] [category=ddl]
[2024/05/15 17:19:30.960 +08:00] [INFO] [ddl_api.go:1139] ["Automatically convert BLOB(65535) to MEDIUMBLOB"] [category=ddl]
[2024/05/15 17:19:30.960 +08:00] [INFO] [tidb.go:80] ["new domain"] [store=7f919476-a7b2-4575-838c-df425fd04b22] ["ddl lease"=500ms] ["stats lease"=-1ns]
[2024/05/15 17:19:30.964 +08:00] [WARN] [controller.go:198] ["[resource group controller] server does not save config, load config failed"]
[2024/05/15 17:19:30.964 +08:00] [INFO] [controller.go:185] ["load resource controller config"] [config="{\"degraded-mode-wait-duration\":\"0s\",\"ltb-max-wait-duration\":\"30s\",\"wait-retry-interval\":\"50ms\",\"wait-retry-times\":10,\"request-unit\":{\"read-base-cost\":0.125,\"read-per-batch-base-cost\":0.5,\"read-cost-per-byte\":0.0000152587890625,\"write-base-cost\":1,\"write-per-batch-base-cost\":1,\"write-cost-per-byte\":0.0009765625,\"read-cpu-ms-cost\":0.3333333333333333},\"enable-controller-trace-log\":\"false\"}"] [ru-config="{\"ReadBaseCost\":0.125,\"ReadPerBatchBaseCost\":0.5,\"ReadBytesCost\":0.0000152587890625,\"WriteBaseCost\":1,\"WritePerBatchBaseCost\":1,\"WriteBytesCost\":0.0009765625,\"CPUMsCost\":0.3333333333333333,\"LTBMaxWaitDuration\":30000000000,\"WaitRetryInterval\":50000000,\"WaitRetryTimes\":10,\"DegradedModeWaitDuration\":0}"]
[2024/05/15 17:19:30.964 +08:00] [WARN] [domain.go:244] ["failed to get schema version"] [error="There is no Write MVCC info for the schema version"] [errorVerbose="There is no Write MVCC info for the schema version\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).getTimestampForSchemaVersionWithNonEmptyDiff\n\t/Users/bba/pc/tidb/pkg/domain/domain.go:343\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).loadInfoSchema\n\t/Users/bba/pc/tidb/pkg/domain/domain.go:242\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).Reload\n\t/Users/bba/pc/tidb/pkg/domain/domain.go:614\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).Init\n\t/Users/bba/pc/tidb/pkg/domain/domain.go:1268\ngithub.com/pingcap/tidb/pkg/session.(*domainMap).Get.func1\n\t/Users/bba/pc/tidb/pkg/session/tidb.go:92\ngithub.com/pingcap/tidb/pkg/util.RunWithRetry\n\t/Users/bba/pc/tidb/pkg/util/misc.go:70\ngithub.com/pingcap/tidb/pkg/session.(*domainMap).Get\n\t/Users/bba/pc/tidb/pkg/session/tidb.go:79\ngithub.com/pingcap/tidb/pkg/session.createSessionWithOpt\n\t/Users/bba/pc/tidb/pkg/session/session.go:3633\ngithub.com/pingcap/tidb/pkg/session.createSession\n\t/Users/bba/pc/tidb/pkg/session/session.go:3625\ngithub.com/pingcap/tidb/pkg/session.runInBootstrapSession\n\t/Users/bba/pc/tidb/pkg/session/session.go:3575\ngithub.com/pingcap/tidb/pkg/session.bootstrapSessionImpl\n\t/Users/bba/pc/tidb/pkg/session/session.go:3351\ngithub.com/pingcap/tidb/pkg/session.BootstrapSession\n\t/Users/bba/pc/tidb/pkg/session/session.go:3317\ngithub.com/pingcap/tidb/pkg/testkit.bootstrap\n\t/Users/bba/pc/tidb/pkg/testkit/mockstore.go:294\ngithub.com/pingcap/tidb/pkg/testkit.CreateMockStoreAndDomain\n\t/Users/bba/pc/tidb/pkg/testkit/mockstore.go:265\ngithub.com/pingcap/tidb/pkg/testkit.CreateMockStore\n\t/Users/bba/pc/tidb/pkg/testkit/mockstore.go:72\ngithub.com/pingcap/tidb/pkg/executor_test.TestShowStatusSnapshot\n\t/Users/bba/pc/tidb/pkg/executor/show_stats_test.go:279\ntesting.tRunner\n\t/Users/bba/.gvm/gos/go1.21.0/src/testing/testing.go:1595\nruntime.goexit\n\t/Users/bba/.gvm/gos/go1.21.0/src/runtime/asm_arm64.s:1197"] [version=0]
[2024/05/15 17:19:30.971 +08:00] [INFO] [domain.go:323] ["full load InfoSchema success"] [currentSchemaVersion=0] [neededSchemaVersion=0] ["start time"=7.597666ms]
[2024/05/15 17:19:30.972 +08:00] [INFO] [domain.go:643] ["full load and reset schema validator"]
[2024/05/15 17:19:30.972 +08:00] [INFO] [ddl.go:818] ["start DDL"] [category=ddl] [ID=f567d89c-9963-4389-8517-c9655fba1f1c] [runWorker=true]
[2024/05/15 17:19:30.972 +08:00] [INFO] [ddl.go:777] ["start delRangeManager OK"] [category=ddl] ["is a emulator"=true]
[2024/05/15 17:19:30.972 +08:00] [WARN] [env.go:51] ["initialize environment failed"] [category=ddl-ingest] ["storage limitation"="only support TiKV storage"] ["current storage"=unistore] ["lightning is initialized"=false]
[2024/05/15 17:19:30.972 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=loadSchemaInLoop]
[2024/05/15 17:19:30.972 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=mdlCheckLoop]
[2024/05/15 17:19:30.972 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=topNSlowQueryLoop]
[2024/05/15 17:19:30.972 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=infoSyncerKeeper]
[2024/05/15 17:19:30.972 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=globalConfigSyncerKeeper]
[2024/05/15 17:19:30.972 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=runawayStartLoop]
[2024/05/15 17:19:30.972 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=requestUnitsWriterLoop]
[2024/05/15 17:19:30.972 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=topologySyncerKeeper]
[2024/05/15 17:19:30.972 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=closestReplicaReadCheckLoop]
[2024/05/15 17:19:30.972 +08:00] [WARN] [domain.go:1334] ["pd / etcd client not provided, won't begin Advancer."]
[2024/05/15 17:19:30.973 +08:00] [INFO] [delete_range.go:172] ["start delRange emulator"] [category=ddl]
[2024/05/15 17:19:30.973 +08:00] [INFO] [job_table.go:334] ["get global state and global state change"] [category=ddl] [oldState=false] [currState=false]
[2024/05/15 17:19:30.973 +08:00] [INFO] [runaway.go:149] ["try to start runaway manager loop"]
[2024/05/15 17:19:30.973 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=requestUnitsWriterLoop]
[2024/05/15 17:19:31.023 +08:00] [INFO] [job_table.go:334] ["get global state and global state change"] [category=ddl] [oldState=false] [currState=false]
[2024/05/15 17:19:31.023 +08:00] [INFO] [job_table.go:349] ["the owner sets owner operator value"] [category=ddl] [ownerOp=none]
[2024/05/15 17:19:31.173 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=0] [cur_db=mysql] [sql="CREATE DATABASE IF NOT EXISTS test"] [user=]
[2024/05/15 17:19:31.176 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:3, Type:create schema, State:queueing, SchemaState:none, SchemaID:2, TableID:0, RowCount:0, ArgLen:1, start time: 2024-05-15 17:19:31.175 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:19:31.176 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:3, Type:create schema, State:queueing, SchemaState:none, SchemaID:2, TableID:0, RowCount:0, ArgLen:1, start time: 2024-05-15 17:19:31.175 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE DATABASE IF NOT EXISTS test"]
[2024/05/15 17:19:31.181 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=3] [category=ddl] [job="ID:3, Type:create schema, State:queueing, SchemaState:none, SchemaID:2, TableID:0, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:31.175 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:31.189 +08:00] [INFO] [domain.go:323] ["full load InfoSchema success"] [currentSchemaVersion=0] [neededSchemaVersion=1] ["start time"=7.42875ms]
[2024/05/15 17:19:31.190 +08:00] [INFO] [domain.go:643] ["full load and reset schema validator"]
[2024/05/15 17:19:31.191 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:19:31.191 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=3] [version=1]
[2024/05/15 17:19:31.192 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=1] ["take time"=10.109792ms] [job="ID:3, Type:create schema, State:done, SchemaState:public, SchemaID:2, TableID:0, RowCount:0, ArgLen:1, start time: 2024-05-15 17:19:31.175 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:31.195 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=3] [job="ID:3, Type:create schema, State:synced, SchemaState:public, SchemaID:2, TableID:0, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:31.175 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:31.197 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=3]
[2024/05/15 17:19:31.197 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:19:31.197 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=1] [cur_db=mysql] [sql="CREATE DATABASE IF NOT EXISTS `mysql`"] [user=]
[2024/05/15 17:19:31.197 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=1] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.user (\n\t\tHost\t\t\t\t\tCHAR(255),\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tauthentication_string\tTEXT,\n\t\tplugin\t\t\t\t\tCHAR(64),\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tProcess_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_db_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tSuper_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_user_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_slave_priv\t    \tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_client_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_role_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_role_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAccount_locked\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShutdown_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReload_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tFILE_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tConfig_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_Tablespace_Priv  ENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPassword_reuse_history  smallint unsigned DEFAULT NULL,\n\t\tPassword_reuse_time     smallint unsigned DEFAULT NULL,\n\t\tUser_attributes\t\t\tjson,\n\t\tToken_issuer\t\t\tVARCHAR(255),\n\t\tPassword_expired\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPassword_last_changed\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP(),\n\t\tPassword_lifetime\t\tSMALLINT UNSIGNED DEFAULT NULL,\n\t\tPRIMARY KEY (Host, User));"] [user=]
[2024/05/15 17:19:31.199 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:5, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:4, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:31.198 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:19:31.199 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:5, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:4, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:31.198 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.user (\n\t\tHost\t\t\t\t\tCHAR(255),\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tauthentication_string\tTEXT,\n\t\tplugin\t\t\t\t\tCHAR(64),\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tProcess_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_db_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tSuper_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_user_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_slave_priv\t    \tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_client_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_role_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_role_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAccount_locked\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShutdown_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReload_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tFILE_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tConfig_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_Tablespace_Priv  ENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPassword_reuse_history  smallint unsigned DEFAULT NULL,\n\t\tPassword_reuse_time     smallint unsigned DEFAULT NULL,\n\t\tUser_attributes\t\t\tjson,\n\t\tToken_issuer\t\t\tVARCHAR(255),\n\t\tPassword_expired\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPassword_last_changed\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP(),\n\t\tPassword_lifetime\t\tSMALLINT UNSIGNED DEFAULT NULL,\n\t\tPRIMARY KEY (Host, User));"]
[2024/05/15 17:19:31.203 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=5] [category=ddl] [job="ID:5, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:4, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:31.198 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:31.207 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=1] [neededSchemaVersion=2] ["start time"=926.583s] [gotSchemaVersion=2] [phyTblIDs="[4]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:19:31.208 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:19:31.208 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=5] [version=2]
[2024/05/15 17:19:31.209 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=2] ["take time"=2.808958ms] [job="ID:5, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:4, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:31.198 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:31.213 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=5] [job="ID:5, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:4, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:31.198 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:31.216 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=5]
[2024/05/15 17:19:31.216 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:19:31.217 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=2] [cur_db=mysql] [sql="CREATE TABLE  IF NOT EXISTS mysql.password_history (\n         Host char(255)  NOT NULL DEFAULT '',\n         User char(32)  NOT NULL DEFAULT '',\n         Password_timestamp timestamp(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6),\n         Password text,\n         PRIMARY KEY (Host,User,Password_timestamp )\n        ) COMMENT='Password history for user accounts' "] [user=]
[2024/05/15 17:19:31.218 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:7, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:6, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:31.217 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:19:31.218 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:7, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:6, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:31.217 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE  IF NOT EXISTS mysql.password_history (\n         Host char(255)  NOT NULL DEFAULT '',\n         User char(32)  NOT NULL DEFAULT '',\n         Password_timestamp timestamp(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6),\n         Password text,\n         PRIMARY KEY (Host,User,Password_timestamp )\n        ) COMMENT='Password history for user accounts' "]
[2024/05/15 17:19:31.224 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=7] [category=ddl] [job="ID:7, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:6, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:31.217 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:31.227 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=2] [neededSchemaVersion=3] ["start time"=358.834s] [gotSchemaVersion=3] [phyTblIDs="[6]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:19:31.229 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:19:31.229 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=7] [version=3]
[2024/05/15 17:19:31.232 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=3] ["take time"=5.568875ms] [job="ID:7, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:6, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:31.217 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:31.239 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=7] [job="ID:7, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:6, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:31.217 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:31.241 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=7]
[2024/05/15 17:19:31.241 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:19:31.241 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=3] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.global_priv (Host CHAR(255) NOT NULL DEFAULT '',User CHAR(80) NOT NULL DEFAULT '',Priv LONGTEXT NOT NULL DEFAULT '',PRIMARY KEY (Host, User))"] [user=]
[2024/05/15 17:19:31.243 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:9, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:8, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:31.242 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:19:31.243 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:9, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:8, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:31.242 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.global_priv (Host CHAR(255) NOT NULL DEFAULT '',User CHAR(80) NOT NULL DEFAULT '',Priv LONGTEXT NOT NULL DEFAULT '',PRIMARY KEY (Host, User))"]
[2024/05/15 17:19:31.247 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=9] [category=ddl] [job="ID:9, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:8, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:31.242 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:31.248 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=3] [neededSchemaVersion=4] ["start time"=148.625s] [gotSchemaVersion=4] [phyTblIDs="[8]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:19:31.249 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:19:31.249 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=9] [version=4]
[2024/05/15 17:19:31.250 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=4] ["take time"=2.329666ms] [job="ID:9, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:8, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:31.242 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:31.253 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=9] [job="ID:9, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:8, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:31.242 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:31.255 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=9]
[2024/05/15 17:19:31.255 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:19:31.255 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=4] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.db (\n\t\tHost\t\t\t\t\tCHAR(255),\n\t\tDB\t\t\t\t\t\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv \t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (Host, DB, User));"] [user=]
[2024/05/15 17:19:31.256 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:11, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:10, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:31.255 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:19:31.256 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:11, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:10, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:31.255 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.db (\n\t\tHost\t\t\t\t\tCHAR(255),\n\t\tDB\t\t\t\t\t\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv \t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (Host, DB, User));"]
[2024/05/15 17:19:31.259 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=11] [category=ddl] [job="ID:11, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:10, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:31.255 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:31.261 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=4] [neededSchemaVersion=5] ["start time"=477.833s] [gotSchemaVersion=5] [phyTblIDs="[10]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:19:31.262 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:19:31.262 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=11] [version=5]
[2024/05/15 17:19:31.263 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=5] ["take time"=2.0225ms] [job="ID:11, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:10, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:31.255 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:31.267 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=11] [job="ID:11, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:10, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:31.255 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:31.270 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=11]
[2024/05/15 17:19:31.270 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:19:31.270 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=5] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tables_priv (\n\t\tHost\t\tCHAR(255),\n\t\tDB\t\t\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tGrantor\t\tCHAR(77),\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tTable_priv\tSET('Select','Insert','Update','Delete','Create','Drop','Grant','Index','Alter','Create View','Show View','Trigger','References'),\n\t\tColumn_priv\tSET('Select','Insert','Update','References'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name));"] [user=]
[2024/05/15 17:19:31.271 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:13, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:12, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:31.27 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:19:31.271 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:13, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:12, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:31.27 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tables_priv (\n\t\tHost\t\tCHAR(255),\n\t\tDB\t\t\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tGrantor\t\tCHAR(77),\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tTable_priv\tSET('Select','Insert','Update','Delete','Create','Drop','Grant','Index','Alter','Create View','Show View','Trigger','References'),\n\t\tColumn_priv\tSET('Select','Insert','Update','References'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name));"]
[2024/05/15 17:19:31.274 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=13] [category=ddl] [job="ID:13, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:12, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:31.27 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:31.275 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=5] [neededSchemaVersion=6] ["start time"=272.458s] [gotSchemaVersion=6] [phyTblIDs="[12]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:19:31.276 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:19:31.276 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=13] [version=6]
[2024/05/15 17:19:31.277 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=6] ["take time"=2.269208ms] [job="ID:13, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:12, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:31.27 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:31.281 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=13] [job="ID:13, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:12, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:31.27 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:31.283 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=13]
[2024/05/15 17:19:31.283 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:19:31.283 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=6] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.columns_priv(\n\t\tHost\t\tCHAR(255),\n\t\tDB\t\t\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tColumn_name\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tColumn_priv\tSET('Select','Insert','Update','References'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name, Column_name));"] [user=]
[2024/05/15 17:19:31.284 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:15, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:14, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:31.283 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:19:31.284 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:15, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:14, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:31.283 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.columns_priv(\n\t\tHost\t\tCHAR(255),\n\t\tDB\t\t\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tColumn_name\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tColumn_priv\tSET('Select','Insert','Update','References'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name, Column_name));"]
[2024/05/15 17:19:31.287 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=15] [category=ddl] [job="ID:15, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:14, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:31.283 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:31.289 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=6] [neededSchemaVersion=7] ["start time"=274.459s] [gotSchemaVersion=7] [phyTblIDs="[14]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:19:31.290 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:19:31.290 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=15] [version=7]
[2024/05/15 17:19:31.291 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=7] ["take time"=2.047167ms] [job="ID:15, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:14, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:31.283 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:31.295 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=15] [job="ID:15, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:14, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:31.283 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:31.297 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=15]
[2024/05/15 17:19:31.297 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:19:31.297 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=7] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.GLOBAL_VARIABLES(\n\t\tVARIABLE_NAME  VARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE VARCHAR(16383) DEFAULT NULL);"] [user=]
[2024/05/15 17:19:31.298 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:17, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:16, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:31.297 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:19:31.298 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:17, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:16, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:31.297 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.GLOBAL_VARIABLES(\n\t\tVARIABLE_NAME  VARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE VARCHAR(16383) DEFAULT NULL);"]
[2024/05/15 17:19:31.301 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=17] [category=ddl] [job="ID:17, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:16, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:31.297 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:31.302 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=7] [neededSchemaVersion=8] ["start time"=157.333s] [gotSchemaVersion=8] [phyTblIDs="[16]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:19:31.303 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:19:31.303 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=17] [version=8]
[2024/05/15 17:19:31.304 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=8] ["take time"=2.006209ms] [job="ID:17, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:16, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:31.297 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:31.308 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=17] [job="ID:17, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:16, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:31.297 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:31.309 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=17]
[2024/05/15 17:19:31.309 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:19:31.309 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=8] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb(\n\t\tVARIABLE_NAME  \tVARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE \tVARCHAR(1024) DEFAULT NULL,\n\t\tCOMMENT \t\tVARCHAR(1024));"] [user=]
[2024/05/15 17:19:31.310 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:19, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:18, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:31.31 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:19:31.310 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:19, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:18, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:31.31 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb(\n\t\tVARIABLE_NAME  \tVARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE \tVARCHAR(1024) DEFAULT NULL,\n\t\tCOMMENT \t\tVARCHAR(1024));"]
[2024/05/15 17:19:31.313 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=19] [category=ddl] [job="ID:19, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:18, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:31.31 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:31.315 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=8] [neededSchemaVersion=9] ["start time"=169.709s] [gotSchemaVersion=9] [phyTblIDs="[18]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:19:31.315 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:19:31.315 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=19] [version=9]
[2024/05/15 17:19:31.317 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=9] ["take time"=2.0115ms] [job="ID:19, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:18, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:31.31 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:31.320 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=19] [job="ID:19, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:18, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:31.31 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:31.322 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=19]
[2024/05/15 17:19:31.322 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:19:31.322 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=9] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.help_topic (\n  \t\thelp_topic_id \t\tINT(10) UNSIGNED NOT NULL,\n  \t\tname \t\t\t\tCHAR(64) NOT NULL,\n  \t\thelp_category_id \tSMALLINT(5) UNSIGNED NOT NULL,\n  \t\tdescription \t\tTEXT NOT NULL,\n  \t\texample \t\t\tTEXT NOT NULL,\n  \t\turl \t\t\t\tTEXT NOT NULL,\n  \t\tPRIMARY KEY (help_topic_id) clustered,\n  \t\tUNIQUE KEY name (name)\n\t\t) ENGINE=InnoDB DEFAULT CHARSET=utf8 STATS_PERSISTENT=0 COMMENT='help topics';"] [user=]
[2024/05/15 17:19:31.323 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:21, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:20, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:31.323 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:19:31.323 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:21, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:20, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:31.323 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.help_topic (\n  \t\thelp_topic_id \t\tINT(10) UNSIGNED NOT NULL,\n  \t\tname \t\t\t\tCHAR(64) NOT NULL,\n  \t\thelp_category_id \tSMALLINT(5) UNSIGNED NOT NULL,\n  \t\tdescription \t\tTEXT NOT NULL,\n  \t\texample \t\t\tTEXT NOT NULL,\n  \t\turl \t\t\t\tTEXT NOT NULL,\n  \t\tPRIMARY KEY (help_topic_id) clustered,\n  \t\tUNIQUE KEY name (name)\n\t\t) ENGINE=InnoDB DEFAULT CHARSET=utf8 STATS_PERSISTENT=0 COMMENT='help topics';"]
[2024/05/15 17:19:31.326 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=21] [category=ddl] [job="ID:21, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:20, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:31.323 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:31.328 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=9] [neededSchemaVersion=10] ["start time"=205.041s] [gotSchemaVersion=10] [phyTblIDs="[20]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:19:31.329 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:19:31.329 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=21] [version=10]
[2024/05/15 17:19:31.330 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=10] ["take time"=2.004167ms] [job="ID:21, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:20, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:31.323 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:31.333 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=21] [job="ID:21, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:20, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:31.323 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:31.334 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=21]
[2024/05/15 17:19:31.334 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:19:31.334 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=10] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_meta (\n\t\tversion \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\ttable_id \t\tBIGINT(64) NOT NULL,\n\t\tmodify_count\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcount \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tsnapshot        BIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tINDEX idx_ver(version),\n\t\tUNIQUE INDEX tbl(table_id)\n\t);"] [user=]
[2024/05/15 17:19:31.336 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:23, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:22, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:31.335 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:19:31.336 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:23, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:22, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:31.335 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_meta (\n\t\tversion \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\ttable_id \t\tBIGINT(64) NOT NULL,\n\t\tmodify_count\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcount \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tsnapshot        BIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tINDEX idx_ver(version),\n\t\tUNIQUE INDEX tbl(table_id)\n\t);"]
[2024/05/15 17:19:31.339 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=23] [category=ddl] [job="ID:23, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:22, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:31.335 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:31.340 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=10] [neededSchemaVersion=11] ["start time"=226.042s] [gotSchemaVersion=11] [phyTblIDs="[22]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:19:31.341 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:19:31.341 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=23] [version=11]
[2024/05/15 17:19:31.342 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=11] ["take time"=2.632209ms] [job="ID:23, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:22, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:31.335 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:31.346 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=23] [job="ID:23, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:22, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:31.335 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:31.348 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=23]
[2024/05/15 17:19:31.348 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:19:31.348 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=11] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_histograms (\n\t\ttable_id \t\t\tBIGINT(64) NOT NULL,\n\t\tis_index \t\t\tTINYINT(2) NOT NULL,\n\t\thist_id \t\t\tBIGINT(64) NOT NULL,\n\t\tdistinct_count \t\tBIGINT(64) NOT NULL,\n\t\tnull_count \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\ttot_col_size \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tmodify_count \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tversion \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tcm_sketch \t\t\tBLOB(6291456),\n\t\tstats_ver \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tflag \t\t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcorrelation \t\tDOUBLE NOT NULL DEFAULT 0,\n\t\tlast_analyze_pos \tLONGBLOB DEFAULT NULL,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id)\n\t);"] [user=]
[2024/05/15 17:19:31.348 +08:00] [INFO] [ddl_api.go:1139] ["Automatically convert BLOB(6291456) to MEDIUMBLOB"] [category=ddl]
[2024/05/15 17:19:31.350 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:25, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:24, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:31.349 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:19:31.350 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:25, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:24, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:31.349 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_histograms (\n\t\ttable_id \t\t\tBIGINT(64) NOT NULL,\n\t\tis_index \t\t\tTINYINT(2) NOT NULL,\n\t\thist_id \t\t\tBIGINT(64) NOT NULL,\n\t\tdistinct_count \t\tBIGINT(64) NOT NULL,\n\t\tnull_count \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\ttot_col_size \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tmodify_count \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tversion \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tcm_sketch \t\t\tBLOB(6291456),\n\t\tstats_ver \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tflag \t\t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcorrelation \t\tDOUBLE NOT NULL DEFAULT 0,\n\t\tlast_analyze_pos \tLONGBLOB DEFAULT NULL,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id)\n\t);"]
[2024/05/15 17:19:31.353 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=25] [category=ddl] [job="ID:25, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:24, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:31.349 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:31.355 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=11] [neededSchemaVersion=12] ["start time"=347.917s] [gotSchemaVersion=12] [phyTblIDs="[24]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:19:31.356 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:19:31.356 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=25] [version=12]
[2024/05/15 17:19:31.357 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=12] ["take time"=2.035208ms] [job="ID:25, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:24, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:31.349 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:31.361 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=25] [job="ID:25, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:24, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:31.349 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:31.363 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=25]
[2024/05/15 17:19:31.363 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:19:31.363 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=12] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_buckets (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tbucket_id \tBIGINT(64) NOT NULL,\n\t\tcount \t\tBIGINT(64) NOT NULL,\n\t\trepeats \tBIGINT(64) NOT NULL,\n\t\tupper_bound LONGBLOB NOT NULL,\n\t\tlower_bound LONGBLOB ,\n\t\tndv         BIGINT NOT NULL DEFAULT 0,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id, bucket_id)\n\t);"] [user=]
[2024/05/15 17:19:31.365 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:27, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:26, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:31.364 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:19:31.365 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:27, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:26, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:31.364 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_buckets (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tbucket_id \tBIGINT(64) NOT NULL,\n\t\tcount \t\tBIGINT(64) NOT NULL,\n\t\trepeats \tBIGINT(64) NOT NULL,\n\t\tupper_bound LONGBLOB NOT NULL,\n\t\tlower_bound LONGBLOB ,\n\t\tndv         BIGINT NOT NULL DEFAULT 0,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id, bucket_id)\n\t);"]
[2024/05/15 17:19:31.368 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=27] [category=ddl] [job="ID:27, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:26, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:31.364 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:31.370 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=12] [neededSchemaVersion=13] ["start time"=282.375s] [gotSchemaVersion=13] [phyTblIDs="[26]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:19:31.371 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:19:31.371 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=27] [version=13]
[2024/05/15 17:19:31.372 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=13] ["take time"=2.057833ms] [job="ID:27, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:26, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:31.364 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:31.376 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=27] [job="ID:27, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:26, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:31.364 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:31.377 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=27]
[2024/05/15 17:19:31.378 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:19:31.378 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=13] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_index (job_id, element_id)\n\t);"] [user=]
[2024/05/15 17:19:31.379 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:29, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:28, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:31.378 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:19:31.379 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:29, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:28, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:31.378 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_index (job_id, element_id)\n\t);"]
[2024/05/15 17:19:31.383 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=29] [category=ddl] [job="ID:29, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:28, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:31.378 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:31.384 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=13] [neededSchemaVersion=14] ["start time"=269.75s] [gotSchemaVersion=14] [phyTblIDs="[28]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:19:31.385 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:19:31.385 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=29] [version=14]
[2024/05/15 17:19:31.386 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=14] ["take time"=2.003875ms] [job="ID:29, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:28, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:31.378 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:31.389 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=29] [job="ID:29, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:28, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:31.378 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:31.391 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=29]
[2024/05/15 17:19:31.391 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:19:31.391 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=14] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range_done (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_done_index (job_id, element_id)\n\t);"] [user=]
[2024/05/15 17:19:31.393 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:31, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:30, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:31.392 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:19:31.393 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:31, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:30, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:31.392 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range_done (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_done_index (job_id, element_id)\n\t);"]
[2024/05/15 17:19:31.396 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=31] [category=ddl] [job="ID:31, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:30, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:31.392 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:31.398 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=14] [neededSchemaVersion=15] ["start time"=209.833s] [gotSchemaVersion=15] [phyTblIDs="[30]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:19:31.398 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:19:31.398 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=31] [version=15]
[2024/05/15 17:19:31.401 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=15] ["take time"=3.396375ms] [job="ID:31, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:30, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:31.392 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:31.409 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=31] [job="ID:31, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:30, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:31.392 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:31.413 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=31]
[2024/05/15 17:19:31.413 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:19:31.413 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=15] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_feedback (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tfeedback \tBLOB NOT NULL,\n\t\tINDEX hist(table_id, is_index, hist_id)\n\t);"] [user=]
[2024/05/15 17:19:31.416 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:33, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:32, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:31.414 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:19:31.416 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:33, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:32, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:31.414 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_feedback (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tfeedback \tBLOB NOT NULL,\n\t\tINDEX hist(table_id, is_index, hist_id)\n\t);"]
[2024/05/15 17:19:31.422 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=33] [category=ddl] [job="ID:33, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:32, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:31.414 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:31.424 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=15] [neededSchemaVersion=16] ["start time"=286.5s] [gotSchemaVersion=16] [phyTblIDs="[32]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:19:31.427 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:19:31.427 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=33] [version=16]
[2024/05/15 17:19:31.428 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=16] ["take time"=4.400083ms] [job="ID:33, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:32, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:31.414 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:31.434 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=33] [job="ID:33, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:32, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:31.414 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:31.435 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=33]
[2024/05/15 17:19:31.435 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:19:31.436 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=16] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.role_edges (\n\t\tFROM_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tFROM_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tWITH_ADMIN_OPTION \tENUM('N','Y') CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (FROM_HOST,FROM_USER,TO_HOST,TO_USER)\n\t);"] [user=]
[2024/05/15 17:19:31.437 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:35, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:34, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:31.437 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:19:31.437 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:35, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:34, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:31.437 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.role_edges (\n\t\tFROM_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tFROM_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tWITH_ADMIN_OPTION \tENUM('N','Y') CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (FROM_HOST,FROM_USER,TO_HOST,TO_USER)\n\t);"]
[2024/05/15 17:19:31.441 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=35] [category=ddl] [job="ID:35, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:34, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:31.437 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:31.443 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=16] [neededSchemaVersion=17] ["start time"=233.917s] [gotSchemaVersion=17] [phyTblIDs="[34]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:19:31.443 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:19:31.443 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=35] [version=17]
[2024/05/15 17:19:31.444 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=17] ["take time"=2.014916ms] [job="ID:35, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:34, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:31.437 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:31.448 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=35] [job="ID:35, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:34, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:31.437 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:31.449 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=35]
[2024/05/15 17:19:31.449 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:19:31.450 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=17] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.default_roles (\n\t\tHOST \t\t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tUSER \t\t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tDEFAULT_ROLE_HOST \tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '%',\n\t\tDEFAULT_ROLE_USER \tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tPRIMARY KEY (HOST,USER,DEFAULT_ROLE_HOST,DEFAULT_ROLE_USER)\n\t)"] [user=]
[2024/05/15 17:19:31.451 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:37, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:36, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:31.45 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:19:31.451 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:37, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:36, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:31.45 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.default_roles (\n\t\tHOST \t\t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tUSER \t\t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tDEFAULT_ROLE_HOST \tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '%',\n\t\tDEFAULT_ROLE_USER \tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tPRIMARY KEY (HOST,USER,DEFAULT_ROLE_HOST,DEFAULT_ROLE_USER)\n\t)"]
[2024/05/15 17:19:31.454 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=37] [category=ddl] [job="ID:37, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:36, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:31.45 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:31.456 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=17] [neededSchemaVersion=18] ["start time"=210.375s] [gotSchemaVersion=18] [phyTblIDs="[36]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:19:31.457 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:19:31.457 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=37] [version=18]
[2024/05/15 17:19:31.458 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=18] ["take time"=2.031625ms] [job="ID:37, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:36, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:31.45 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:31.462 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=37] [job="ID:37, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:36, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:31.45 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:31.463 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=37]
[2024/05/15 17:19:31.463 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:19:31.463 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=18] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.bind_info (\n\t\toriginal_sql TEXT NOT NULL,\n\t\tbind_sql TEXT NOT NULL,\n\t\tdefault_db TEXT NOT NULL,\n\t\tstatus TEXT NOT NULL,\n\t\tcreate_time TIMESTAMP(3) NOT NULL,\n\t\tupdate_time TIMESTAMP(3) NOT NULL,\n\t\tcharset TEXT NOT NULL,\n\t\tcollation TEXT NOT NULL,\n\t\tsource VARCHAR(10) NOT NULL DEFAULT 'unknown',\n\t\tsql_digest varchar(64),\n\t\tplan_digest varchar(64),\n\t\tINDEX sql_index(original_sql(700),default_db(68)) COMMENT \"accelerate the speed when add global binding query\",\n\t\tINDEX time_index(update_time) COMMENT \"accelerate the speed when querying with last update time\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"] [user=]
[2024/05/15 17:19:31.465 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:39, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:38, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:31.464 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:19:31.465 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:39, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:38, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:31.464 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.bind_info (\n\t\toriginal_sql TEXT NOT NULL,\n\t\tbind_sql TEXT NOT NULL,\n\t\tdefault_db TEXT NOT NULL,\n\t\tstatus TEXT NOT NULL,\n\t\tcreate_time TIMESTAMP(3) NOT NULL,\n\t\tupdate_time TIMESTAMP(3) NOT NULL,\n\t\tcharset TEXT NOT NULL,\n\t\tcollation TEXT NOT NULL,\n\t\tsource VARCHAR(10) NOT NULL DEFAULT 'unknown',\n\t\tsql_digest varchar(64),\n\t\tplan_digest varchar(64),\n\t\tINDEX sql_index(original_sql(700),default_db(68)) COMMENT \"accelerate the speed when add global binding query\",\n\t\tINDEX time_index(update_time) COMMENT \"accelerate the speed when querying with last update time\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"]
[2024/05/15 17:19:31.469 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=39] [category=ddl] [job="ID:39, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:38, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:31.464 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:31.471 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=18] [neededSchemaVersion=19] ["start time"=325.375s] [gotSchemaVersion=19] [phyTblIDs="[38]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:19:31.471 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:19:31.471 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=39] [version=19]
[2024/05/15 17:19:31.472 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=19] ["take time"=2.015ms] [job="ID:39, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:38, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:31.464 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:31.477 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=39] [job="ID:39, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:38, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:31.464 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:31.479 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=39]
[2024/05/15 17:19:31.479 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:19:31.479 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=0] ["to ID"=1] ["table ID"=38] ["database ID"=1]
[2024/05/15 17:19:31.479 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=19] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_top_n (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tvalue \t\tLONGBLOB,\n\t\tcount \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\tINDEX tbl(table_id, is_index, hist_id)\n\t);"] [user=]
[2024/05/15 17:19:31.481 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:41, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:40, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:31.48 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:19:31.481 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:41, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:40, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:31.48 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_top_n (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tvalue \t\tLONGBLOB,\n\t\tcount \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\tINDEX tbl(table_id, is_index, hist_id)\n\t);"]
[2024/05/15 17:19:31.485 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=41] [category=ddl] [job="ID:41, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:40, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:31.48 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:31.486 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=19] [neededSchemaVersion=20] ["start time"=215.917s] [gotSchemaVersion=20] [phyTblIDs="[40]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:19:31.487 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:19:31.487 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=41] [version=20]
[2024/05/15 17:19:31.488 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=20] ["take time"=2.137125ms] [job="ID:41, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:40, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:31.48 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:31.492 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=41] [job="ID:41, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:40, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:31.48 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:31.494 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=41]
[2024/05/15 17:19:31.494 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:19:31.494 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=20] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.expr_pushdown_blacklist (\n\t\tname \t\tCHAR(100) NOT NULL,\n\t\tstore_type \tCHAR(100) NOT NULL DEFAULT 'tikv,tiflash,tidb',\n\t\treason \t\tVARCHAR(200)\n\t);"] [user=]
[2024/05/15 17:19:31.495 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:43, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:42, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:31.495 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:19:31.495 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:43, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:42, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:31.495 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.expr_pushdown_blacklist (\n\t\tname \t\tCHAR(100) NOT NULL,\n\t\tstore_type \tCHAR(100) NOT NULL DEFAULT 'tikv,tiflash,tidb',\n\t\treason \t\tVARCHAR(200)\n\t);"]
[2024/05/15 17:19:31.499 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=43] [category=ddl] [job="ID:43, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:42, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:31.495 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:31.501 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=20] [neededSchemaVersion=21] ["start time"=156.958s] [gotSchemaVersion=21] [phyTblIDs="[42]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:19:31.502 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:19:31.502 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=43] [version=21]
[2024/05/15 17:19:31.503 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=21] ["take time"=2.451ms] [job="ID:43, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:42, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:31.495 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:31.508 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=43] [job="ID:43, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:42, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:31.495 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:31.510 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=43]
[2024/05/15 17:19:31.510 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:19:31.510 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=21] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.opt_rule_blacklist (\n\t\tname \tCHAR(100) NOT NULL\n\t);"] [user=]
[2024/05/15 17:19:31.511 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:45, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:44, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:31.511 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:19:31.511 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:45, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:44, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:31.511 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.opt_rule_blacklist (\n\t\tname \tCHAR(100) NOT NULL\n\t);"]
[2024/05/15 17:19:31.515 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=45] [category=ddl] [job="ID:45, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:44, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:31.511 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:31.516 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=21] [neededSchemaVersion=22] ["start time"=106.583s] [gotSchemaVersion=22] [phyTblIDs="[44]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:19:31.517 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:19:31.517 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=45] [version=22]
[2024/05/15 17:19:31.518 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=22] ["take time"=2.003917ms] [job="ID:45, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:44, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:31.511 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:31.522 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=45] [job="ID:45, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:44, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:31.511 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:31.524 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=45]
[2024/05/15 17:19:31.524 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:19:31.524 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=22] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_extended (\n\t\tname varchar(32) NOT NULL,\n\t\ttype tinyint(4) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tcolumn_ids varchar(32) NOT NULL,\n\t\tstats blob DEFAULT NULL,\n\t\tversion bigint(64) unsigned NOT NULL,\n\t\tstatus tinyint(4) NOT NULL,\n\t\tPRIMARY KEY(name, table_id),\n\t\tKEY idx_1 (table_id, status, version),\n\t\tKEY idx_2 (status, version)\n\t);"] [user=]
[2024/05/15 17:19:31.525 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:47, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:46, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:31.524 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:19:31.525 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:47, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:46, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:31.524 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_extended (\n\t\tname varchar(32) NOT NULL,\n\t\ttype tinyint(4) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tcolumn_ids varchar(32) NOT NULL,\n\t\tstats blob DEFAULT NULL,\n\t\tversion bigint(64) unsigned NOT NULL,\n\t\tstatus tinyint(4) NOT NULL,\n\t\tPRIMARY KEY(name, table_id),\n\t\tKEY idx_1 (table_id, status, version),\n\t\tKEY idx_2 (status, version)\n\t);"]
[2024/05/15 17:19:31.528 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=47] [category=ddl] [job="ID:47, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:46, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:31.524 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:31.530 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=22] [neededSchemaVersion=23] ["start time"=284.875s] [gotSchemaVersion=23] [phyTblIDs="[46]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:19:31.531 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:19:31.531 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=47] [version=23]
[2024/05/15 17:19:31.532 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=23] ["take time"=2.223708ms] [job="ID:47, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:46, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:31.524 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:31.536 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=47] [job="ID:47, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:46, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:31.524 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:31.538 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=47]
[2024/05/15 17:19:31.538 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:19:31.538 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=23] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_fm_sketch (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tvalue \t\tLONGBLOB,\n\t\tINDEX tbl(table_id, is_index, hist_id)\n\t);"] [user=]
[2024/05/15 17:19:31.540 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:49, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:48, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:31.539 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:19:31.540 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:49, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:48, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:31.539 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_fm_sketch (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tvalue \t\tLONGBLOB,\n\t\tINDEX tbl(table_id, is_index, hist_id)\n\t);"]
[2024/05/15 17:19:31.543 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=49] [category=ddl] [job="ID:49, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:48, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:31.539 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:31.544 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=23] [neededSchemaVersion=24] ["start time"=204.042s] [gotSchemaVersion=24] [phyTblIDs="[48]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:19:31.545 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:19:31.545 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=49] [version=24]
[2024/05/15 17:19:31.546 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=24] ["take time"=2.0045ms] [job="ID:49, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:48, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:31.539 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:31.550 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=49] [job="ID:49, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:48, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:31.539 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:31.551 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=49]
[2024/05/15 17:19:31.552 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:19:31.552 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=24] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.global_grants (\n\t\tUSER char(32) NOT NULL DEFAULT '',\n\t\tHOST char(255) NOT NULL DEFAULT '',\n\t\tPRIV char(32) NOT NULL DEFAULT '',\n\t\tWITH_GRANT_OPTION enum('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (USER,HOST,PRIV)\n\t);"] [user=]
[2024/05/15 17:19:31.553 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:51, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:50, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:31.552 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:19:31.553 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:51, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:50, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:31.552 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.global_grants (\n\t\tUSER char(32) NOT NULL DEFAULT '',\n\t\tHOST char(255) NOT NULL DEFAULT '',\n\t\tPRIV char(32) NOT NULL DEFAULT '',\n\t\tWITH_GRANT_OPTION enum('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (USER,HOST,PRIV)\n\t);"]
[2024/05/15 17:19:31.557 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=51] [category=ddl] [job="ID:51, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:50, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:31.552 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:31.559 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=24] [neededSchemaVersion=25] ["start time"=202.583s] [gotSchemaVersion=25] [phyTblIDs="[50]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:19:31.560 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:19:31.560 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=51] [version=25]
[2024/05/15 17:19:31.561 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=25] ["take time"=2.442958ms] [job="ID:51, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:50, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:31.552 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:31.566 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=51] [job="ID:51, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:50, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:31.552 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:31.568 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=51]
[2024/05/15 17:19:31.568 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:19:31.568 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=25] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.capture_plan_baselines_blacklist (\n\t\tid bigint(64) auto_increment,\n\t\tfilter_type varchar(32) NOT NULL COMMENT \"type of the filter, only db, table and frequency supported now\",\n\t\tfilter_value varchar(32) NOT NULL,\n\t\tkey idx(filter_type),\n\t\tprimary key(id)\n\t);"] [user=]
[2024/05/15 17:19:31.569 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:53, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:52, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:31.568 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:19:31.569 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:53, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:52, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:31.568 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.capture_plan_baselines_blacklist (\n\t\tid bigint(64) auto_increment,\n\t\tfilter_type varchar(32) NOT NULL COMMENT \"type of the filter, only db, table and frequency supported now\",\n\t\tfilter_value varchar(32) NOT NULL,\n\t\tkey idx(filter_type),\n\t\tprimary key(id)\n\t);"]
[2024/05/15 17:19:31.572 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=53] [category=ddl] [job="ID:53, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:52, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:31.568 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:31.573 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=25] [neededSchemaVersion=26] ["start time"=158.458s] [gotSchemaVersion=26] [phyTblIDs="[52]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:19:31.574 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:19:31.574 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=53] [version=26]
[2024/05/15 17:19:31.575 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=26] ["take time"=2.007416ms] [job="ID:53, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:52, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:31.568 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:31.578 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=53] [job="ID:53, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:52, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:31.568 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:31.580 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=53]
[2024/05/15 17:19:31.580 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:19:31.580 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=26] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.column_stats_usage (\n\t\ttable_id BIGINT(64) NOT NULL,\n\t\tcolumn_id BIGINT(64) NOT NULL,\n\t\tlast_used_at TIMESTAMP,\n\t\tlast_analyzed_at TIMESTAMP,\n\t\tPRIMARY KEY (table_id, column_id) CLUSTERED\n\t);"] [user=]
[2024/05/15 17:19:31.581 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:55, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:54, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:31.581 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:19:31.581 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:55, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:54, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:31.581 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.column_stats_usage (\n\t\ttable_id BIGINT(64) NOT NULL,\n\t\tcolumn_id BIGINT(64) NOT NULL,\n\t\tlast_used_at TIMESTAMP,\n\t\tlast_analyzed_at TIMESTAMP,\n\t\tPRIMARY KEY (table_id, column_id) CLUSTERED\n\t);"]
[2024/05/15 17:19:31.585 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=55] [category=ddl] [job="ID:55, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:54, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:31.581 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:31.587 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=26] [neededSchemaVersion=27] ["start time"=186.75s] [gotSchemaVersion=27] [phyTblIDs="[54]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:19:31.588 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:19:31.588 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=55] [version=27]
[2024/05/15 17:19:31.589 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=27] ["take time"=2.239084ms] [job="ID:55, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:54, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:31.581 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:31.593 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=55] [job="ID:55, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:54, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:31.581 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:31.595 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=55]
[2024/05/15 17:19:31.595 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:19:31.595 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=27] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.table_cache_meta (\n\t\ttid bigint(11) NOT NULL DEFAULT 0,\n\t\tlock_type enum('NONE','READ', 'INTEND', 'WRITE') NOT NULL DEFAULT 'NONE',\n\t\tlease bigint(20) NOT NULL DEFAULT 0,\n\t\toldReadLease bigint(20) NOT NULL DEFAULT 0,\n\t\tPRIMARY KEY (tid)\n\t);"] [user=]
[2024/05/15 17:19:31.596 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:57, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:56, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:31.596 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:19:31.596 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:57, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:56, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:31.596 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.table_cache_meta (\n\t\ttid bigint(11) NOT NULL DEFAULT 0,\n\t\tlock_type enum('NONE','READ', 'INTEND', 'WRITE') NOT NULL DEFAULT 'NONE',\n\t\tlease bigint(20) NOT NULL DEFAULT 0,\n\t\toldReadLease bigint(20) NOT NULL DEFAULT 0,\n\t\tPRIMARY KEY (tid)\n\t);"]
[2024/05/15 17:19:31.600 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=57] [category=ddl] [job="ID:57, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:56, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:31.596 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:31.602 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=27] [neededSchemaVersion=28] ["start time"=185.834s] [gotSchemaVersion=28] [phyTblIDs="[56]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:19:31.603 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:19:31.603 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=57] [version=28]
[2024/05/15 17:19:31.604 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=28] ["take time"=2.289083ms] [job="ID:57, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:56, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:31.596 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:31.609 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=57] [job="ID:57, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:56, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:31.596 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:31.611 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=57]
[2024/05/15 17:19:31.611 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:19:31.611 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=28] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.analyze_options (\n\t\ttable_id BIGINT(64) NOT NULL,\n\t\tsample_num BIGINT(64) NOT NULL DEFAULT 0,\n\t\tsample_rate DOUBLE NOT NULL DEFAULT -1,\n\t\tbuckets BIGINT(64) NOT NULL DEFAULT 0,\n\t\ttopn BIGINT(64) NOT NULL DEFAULT -1,\n\t\tcolumn_choice enum('DEFAULT','ALL','PREDICATE','LIST') NOT NULL DEFAULT 'DEFAULT',\n\t\tcolumn_ids TEXT(19372),\n\t\tPRIMARY KEY (table_id) CLUSTERED\n\t);"] [user=]
[2024/05/15 17:19:31.611 +08:00] [INFO] [ddl_api.go:1139] ["Automatically convert BLOB(19372) to MEDIUMBLOB"] [category=ddl]
[2024/05/15 17:19:31.613 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:59, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:58, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:31.612 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:19:31.613 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:59, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:58, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:31.612 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.analyze_options (\n\t\ttable_id BIGINT(64) NOT NULL,\n\t\tsample_num BIGINT(64) NOT NULL DEFAULT 0,\n\t\tsample_rate DOUBLE NOT NULL DEFAULT -1,\n\t\tbuckets BIGINT(64) NOT NULL DEFAULT 0,\n\t\ttopn BIGINT(64) NOT NULL DEFAULT -1,\n\t\tcolumn_choice enum('DEFAULT','ALL','PREDICATE','LIST') NOT NULL DEFAULT 'DEFAULT',\n\t\tcolumn_ids TEXT(19372),\n\t\tPRIMARY KEY (table_id) CLUSTERED\n\t);"]
[2024/05/15 17:19:31.616 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=59] [category=ddl] [job="ID:59, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:58, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:31.612 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:31.618 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=28] [neededSchemaVersion=29] ["start time"=215.583s] [gotSchemaVersion=29] [phyTblIDs="[58]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:19:31.618 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:19:31.618 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=59] [version=29]
[2024/05/15 17:19:31.619 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=29] ["take time"=2.011334ms] [job="ID:59, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:58, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:31.612 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:31.624 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=59] [job="ID:59, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:58, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:31.612 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:31.628 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=59]
[2024/05/15 17:19:31.628 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:19:31.628 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=29] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_history (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tstats_data longblob NOT NULL,\n\t\tseq_no bigint(64) NOT NULL comment 'sequence number of the gzipped data slice',\n\t\tversion bigint(64) NOT NULL comment 'stats version which corresponding to stats:version in EXPLAIN',\n\t\tcreate_time datetime(6) NOT NULL,\n\t\tUNIQUE KEY table_version_seq (table_id, version, seq_no),\n\t\tKEY table_create_time (table_id, create_time, seq_no),\n    \tKEY idx_create_time (create_time)\n\t);"] [user=]
[2024/05/15 17:19:31.631 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:61, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:60, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:31.63 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:19:31.631 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:61, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:60, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:31.63 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_history (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tstats_data longblob NOT NULL,\n\t\tseq_no bigint(64) NOT NULL comment 'sequence number of the gzipped data slice',\n\t\tversion bigint(64) NOT NULL comment 'stats version which corresponding to stats:version in EXPLAIN',\n\t\tcreate_time datetime(6) NOT NULL,\n\t\tUNIQUE KEY table_version_seq (table_id, version, seq_no),\n\t\tKEY table_create_time (table_id, create_time, seq_no),\n    \tKEY idx_create_time (create_time)\n\t);"]
[2024/05/15 17:19:31.637 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=61] [category=ddl] [job="ID:61, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:60, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:31.63 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:31.640 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=29] [neededSchemaVersion=30] ["start time"=361.417s] [gotSchemaVersion=30] [phyTblIDs="[60]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:19:31.642 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:19:31.642 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=61] [version=30]
[2024/05/15 17:19:31.642 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=30] ["take time"=2.887542ms] [job="ID:61, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:60, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:31.63 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:31.648 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=61] [job="ID:61, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:60, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:31.63 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:31.656 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=61]
[2024/05/15 17:19:31.656 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:19:31.656 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=30] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_meta_history (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tmodify_count bigint(64) NOT NULL,\n\t\tcount bigint(64) NOT NULL,\n\t\tversion bigint(64) NOT NULL comment 'stats version which corresponding to stats:version in EXPLAIN',\n    \tsource varchar(40) NOT NULL,\n\t\tcreate_time datetime(6) NOT NULL,\n\t\tUNIQUE KEY table_version (table_id, version),\n\t\tKEY table_create_time (table_id, create_time),\n    \tKEY idx_create_time (create_time)\n\t);"] [user=]
[2024/05/15 17:19:31.659 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:63, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:62, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:31.657 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:19:31.659 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:63, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:62, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:31.657 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_meta_history (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tmodify_count bigint(64) NOT NULL,\n\t\tcount bigint(64) NOT NULL,\n\t\tversion bigint(64) NOT NULL comment 'stats version which corresponding to stats:version in EXPLAIN',\n    \tsource varchar(40) NOT NULL,\n\t\tcreate_time datetime(6) NOT NULL,\n\t\tUNIQUE KEY table_version (table_id, version),\n\t\tKEY table_create_time (table_id, create_time),\n    \tKEY idx_create_time (create_time)\n\t);"]
[2024/05/15 17:19:31.664 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=63] [category=ddl] [job="ID:63, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:62, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:31.657 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:31.666 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=30] [neededSchemaVersion=31] ["start time"=255.708s] [gotSchemaVersion=31] [phyTblIDs="[62]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:19:31.666 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:19:31.666 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=63] [version=31]
[2024/05/15 17:19:31.668 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=31] ["take time"=2.17475ms] [job="ID:63, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:62, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:31.657 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:31.672 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=63] [job="ID:63, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:62, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:31.657 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:31.674 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=63]
[2024/05/15 17:19:31.674 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:19:31.674 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=31] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.analyze_jobs (\n\t\tid BIGINT(64) UNSIGNED NOT NULL AUTO_INCREMENT,\n\t\tupdate_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\ttable_schema CHAR(64) NOT NULL DEFAULT '',\n\t\ttable_name CHAR(64) NOT NULL DEFAULT '',\n\t\tpartition_name CHAR(64) NOT NULL DEFAULT '',\n\t\tjob_info TEXT NOT NULL,\n\t\tprocessed_rows BIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tstart_time TIMESTAMP,\n\t\tend_time TIMESTAMP,\n\t\tstate ENUM('pending', 'running', 'finished', 'failed') NOT NULL,\n\t\tfail_reason TEXT,\n\t\tinstance VARCHAR(512) NOT NULL comment 'address of the TiDB instance executing the analyze job',\n\t\tprocess_id BIGINT(64) UNSIGNED comment 'ID of the process executing the analyze job',\n\t\tPRIMARY KEY (id),\n\t\tKEY (update_time)\n\t);"] [user=]
[2024/05/15 17:19:31.676 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:65, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:64, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:31.675 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:19:31.676 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:65, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:64, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:31.675 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.analyze_jobs (\n\t\tid BIGINT(64) UNSIGNED NOT NULL AUTO_INCREMENT,\n\t\tupdate_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\ttable_schema CHAR(64) NOT NULL DEFAULT '',\n\t\ttable_name CHAR(64) NOT NULL DEFAULT '',\n\t\tpartition_name CHAR(64) NOT NULL DEFAULT '',\n\t\tjob_info TEXT NOT NULL,\n\t\tprocessed_rows BIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tstart_time TIMESTAMP,\n\t\tend_time TIMESTAMP,\n\t\tstate ENUM('pending', 'running', 'finished', 'failed') NOT NULL,\n\t\tfail_reason TEXT,\n\t\tinstance VARCHAR(512) NOT NULL comment 'address of the TiDB instance executing the analyze job',\n\t\tprocess_id BIGINT(64) UNSIGNED comment 'ID of the process executing the analyze job',\n\t\tPRIMARY KEY (id),\n\t\tKEY (update_time)\n\t);"]
[2024/05/15 17:19:31.679 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=65] [category=ddl] [job="ID:65, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:64, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:31.675 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:31.681 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=31] [neededSchemaVersion=32] ["start time"=350.042s] [gotSchemaVersion=32] [phyTblIDs="[64]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:19:31.682 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:19:31.682 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=65] [version=32]
[2024/05/15 17:19:31.683 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=32] ["take time"=2.03575ms] [job="ID:65, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:64, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:31.675 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:31.687 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=65] [job="ID:65, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:64, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:31.675 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:31.689 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=65]
[2024/05/15 17:19:31.689 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:19:31.689 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=32] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.advisory_locks (\n\t\tlock_name VARCHAR(64) NOT NULL PRIMARY KEY\n\t);"] [user=]
[2024/05/15 17:19:31.691 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:67, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:66, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:31.69 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:19:31.691 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:67, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:66, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:31.69 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.advisory_locks (\n\t\tlock_name VARCHAR(64) NOT NULL PRIMARY KEY\n\t);"]
[2024/05/15 17:19:31.694 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=67] [category=ddl] [job="ID:67, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:66, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:31.69 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:31.695 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=32] [neededSchemaVersion=33] ["start time"=126.333s] [gotSchemaVersion=33] [phyTblIDs="[66]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:19:31.696 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:19:31.696 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=67] [version=33]
[2024/05/15 17:19:31.697 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=33] ["take time"=2.007625ms] [job="ID:67, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:66, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:31.69 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:31.701 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=67] [job="ID:67, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:66, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:31.69 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:31.703 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=67]
[2024/05/15 17:19:31.703 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:19:31.705 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:69, Type:create view, State:queueing, SchemaState:none, SchemaID:1, TableID:68, RowCount:0, ArgLen:3, start time: 2024-05-15 17:19:31.704 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:19:31.705 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:69, Type:create view, State:queueing, SchemaState:none, SchemaID:1, TableID:68, RowCount:0, ArgLen:3, start time: 2024-05-15 17:19:31.704 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE OR REPLACE VIEW mysql.tidb_mdl_view as (\n\t\tSELECT tidb_mdl_info.job_id,\n\t\t\tJSON_UNQUOTE(JSON_EXTRACT(cast(cast(job_meta as char) as json), \"$.schema_name\")) as db_name,\n\t\t\tJSON_UNQUOTE(JSON_EXTRACT(cast(cast(job_meta as char) as json), \"$.table_name\")) as table_name,\n\t\t\tJSON_UNQUOTE(JSON_EXTRACT(cast(cast(job_meta as char) as json), \"$.query\")) as query,\n\t\t\tsession_id,\n\t\t\tcluster_tidb_trx.start_time,\n\t\t\ttidb_decode_sql_digests(all_sql_digests, 4096) AS SQL_DIGESTS\n\t\tFROM mysql.tidb_ddl_job,\n\t\t\tmysql.tidb_mdl_info,\n\t\t\tinformation_schema.cluster_tidb_trx\n\t\tWHERE tidb_ddl_job.job_id=tidb_mdl_info.job_id\n\t\t\tAND CONCAT(',', tidb_mdl_info.table_ids, ',') REGEXP CONCAT(',(', REPLACE(cluster_tidb_trx.related_table_ids, ',', '|'), '),') != 0\n\t);"]
[2024/05/15 17:19:31.709 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=69] [category=ddl] [job="ID:69, Type:create view, State:queueing, SchemaState:none, SchemaID:1, TableID:68, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:31.704 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:31.711 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=33] [neededSchemaVersion=34] ["start time"=233.125s] [gotSchemaVersion=34] [phyTblIDs="[68]"] [actionTypes="[21]"] [diffTypes="[\"create view\"]"]
[2024/05/15 17:19:31.711 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:19:31.711 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=69] [version=34]
[2024/05/15 17:19:31.713 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=34] ["take time"=2.04275ms] [job="ID:69, Type:create view, State:done, SchemaState:public, SchemaID:1, TableID:68, RowCount:0, ArgLen:3, start time: 2024-05-15 17:19:31.704 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:31.717 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=69] [job="ID:69, Type:create view, State:synced, SchemaState:public, SchemaID:1, TableID:68, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:31.704 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:31.718 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=69]
[2024/05/15 17:19:31.718 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:19:31.719 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=34] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.plan_replayer_status (\n\t\tsql_digest VARCHAR(128),\n\t\tplan_digest VARCHAR(128),\n\t\torigin_sql TEXT,\n\t\ttoken VARCHAR(128),\n\t\tupdate_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\tfail_reason TEXT,\n\t\tinstance VARCHAR(512) NOT NULL comment 'address of the TiDB instance executing the plan replayer job');"] [user=]
[2024/05/15 17:19:31.720 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:71, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:70, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:31.719 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:19:31.720 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:71, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:70, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:31.719 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.plan_replayer_status (\n\t\tsql_digest VARCHAR(128),\n\t\tplan_digest VARCHAR(128),\n\t\torigin_sql TEXT,\n\t\ttoken VARCHAR(128),\n\t\tupdate_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\tfail_reason TEXT,\n\t\tinstance VARCHAR(512) NOT NULL comment 'address of the TiDB instance executing the plan replayer job');"]
[2024/05/15 17:19:31.723 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=71] [category=ddl] [job="ID:71, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:70, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:31.719 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:31.724 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=34] [neededSchemaVersion=35] ["start time"=220.917s] [gotSchemaVersion=35] [phyTblIDs="[70]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:19:31.725 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:19:31.725 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=71] [version=35]
[2024/05/15 17:19:31.726 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=35] ["take time"=2.293542ms] [job="ID:71, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:70, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:31.719 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:31.730 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=71] [job="ID:71, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:70, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:31.719 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:31.732 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=71]
[2024/05/15 17:19:31.732 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:19:31.732 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=35] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.plan_replayer_task (\n\t\tsql_digest VARCHAR(128) NOT NULL,\n\t\tplan_digest VARCHAR(128) NOT NULL,\n\t\tupdate_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\tPRIMARY KEY (sql_digest,plan_digest));"] [user=]
[2024/05/15 17:19:31.733 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:73, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:72, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:31.733 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:19:31.733 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:73, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:72, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:31.733 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.plan_replayer_task (\n\t\tsql_digest VARCHAR(128) NOT NULL,\n\t\tplan_digest VARCHAR(128) NOT NULL,\n\t\tupdate_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\tPRIMARY KEY (sql_digest,plan_digest));"]
[2024/05/15 17:19:31.737 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=73] [category=ddl] [job="ID:73, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:72, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:31.733 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:31.739 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=35] [neededSchemaVersion=36] ["start time"=184.25s] [gotSchemaVersion=36] [phyTblIDs="[72]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:19:31.739 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:19:31.739 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=73] [version=36]
[2024/05/15 17:19:31.741 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=36] ["take time"=2.037125ms] [job="ID:73, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:72, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:31.733 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:31.745 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=73] [job="ID:73, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:72, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:31.733 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:31.746 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=73]
[2024/05/15 17:19:31.747 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:19:31.747 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=36] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_table_locked(\n\t\ttable_id bigint(64) NOT NULL,\n\t\tmodify_count bigint(64) NOT NULL DEFAULT 0,\n\t\tcount bigint(64) NOT NULL DEFAULT 0,\n\t\tversion bigint(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tPRIMARY KEY (table_id));"] [user=]
[2024/05/15 17:19:31.749 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:75, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:74, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:31.748 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:19:31.749 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:75, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:74, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:31.748 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_table_locked(\n\t\ttable_id bigint(64) NOT NULL,\n\t\tmodify_count bigint(64) NOT NULL DEFAULT 0,\n\t\tcount bigint(64) NOT NULL DEFAULT 0,\n\t\tversion bigint(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tPRIMARY KEY (table_id));"]
[2024/05/15 17:19:31.752 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=75] [category=ddl] [job="ID:75, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:74, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:31.748 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:31.755 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=36] [neededSchemaVersion=37] ["start time"=176.375s] [gotSchemaVersion=37] [phyTblIDs="[74]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:19:31.755 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:19:31.756 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=75] [version=37]
[2024/05/15 17:19:31.757 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=37] ["take time"=2.469708ms] [job="ID:75, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:74, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:31.748 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:31.762 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=75] [job="ID:75, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:74, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:31.748 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:31.763 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=75]
[2024/05/15 17:19:31.763 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:19:31.764 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=37] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_ttl_table_status (\n\t\ttable_id bigint(64) PRIMARY KEY,\n        parent_table_id bigint(64),\n        table_statistics text DEFAULT NULL,\n\t\tlast_job_id varchar(64) DEFAULT NULL,\n\t\tlast_job_start_time timestamp NULL DEFAULT NULL,\n\t\tlast_job_finish_time timestamp NULL DEFAULT NULL,\n\t\tlast_job_ttl_expire timestamp NULL DEFAULT NULL,\n        last_job_summary text DEFAULT NULL,\n\t\tcurrent_job_id varchar(64) DEFAULT NULL,\n\t\tcurrent_job_owner_id varchar(64) DEFAULT NULL,\n\t\tcurrent_job_owner_addr varchar(256) DEFAULT NULL,\n\t\tcurrent_job_owner_hb_time timestamp,\n\t\tcurrent_job_start_time timestamp NULL DEFAULT NULL,\n\t\tcurrent_job_ttl_expire timestamp NULL DEFAULT NULL,\n\t\tcurrent_job_state text DEFAULT NULL,\n\t\tcurrent_job_status varchar(64) DEFAULT NULL,\n  \t\tcurrent_job_status_update_time timestamp NULL DEFAULT NULL);"] [user=]
[2024/05/15 17:19:31.766 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:77, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:76, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:31.764 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:19:31.766 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:77, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:76, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:31.764 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_ttl_table_status (\n\t\ttable_id bigint(64) PRIMARY KEY,\n        parent_table_id bigint(64),\n        table_statistics text DEFAULT NULL,\n\t\tlast_job_id varchar(64) DEFAULT NULL,\n\t\tlast_job_start_time timestamp NULL DEFAULT NULL,\n\t\tlast_job_finish_time timestamp NULL DEFAULT NULL,\n\t\tlast_job_ttl_expire timestamp NULL DEFAULT NULL,\n        last_job_summary text DEFAULT NULL,\n\t\tcurrent_job_id varchar(64) DEFAULT NULL,\n\t\tcurrent_job_owner_id varchar(64) DEFAULT NULL,\n\t\tcurrent_job_owner_addr varchar(256) DEFAULT NULL,\n\t\tcurrent_job_owner_hb_time timestamp,\n\t\tcurrent_job_start_time timestamp NULL DEFAULT NULL,\n\t\tcurrent_job_ttl_expire timestamp NULL DEFAULT NULL,\n\t\tcurrent_job_state text DEFAULT NULL,\n\t\tcurrent_job_status varchar(64) DEFAULT NULL,\n  \t\tcurrent_job_status_update_time timestamp NULL DEFAULT NULL);"]
[2024/05/15 17:19:31.770 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=77] [category=ddl] [job="ID:77, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:76, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:31.764 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:31.773 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=37] [neededSchemaVersion=38] ["start time"=394.125s] [gotSchemaVersion=38] [phyTblIDs="[76]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:19:31.774 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:19:31.774 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=77] [version=38]
[2024/05/15 17:19:31.775 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=38] ["take time"=2.403667ms] [job="ID:77, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:76, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:31.764 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:31.780 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=77] [job="ID:77, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:76, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:31.764 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:31.782 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=77]
[2024/05/15 17:19:31.782 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:19:31.782 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=38] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_ttl_task (\n\t\tjob_id varchar(64) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tscan_id int NOT NULL,\n\t\tscan_range_start BLOB,\n\t\tscan_range_end BLOB,\n\t\texpire_time timestamp NOT NULL,\n\t\towner_id varchar(64) DEFAULT NULL,\n\t\towner_addr varchar(64) DEFAULT NULL,\n\t\towner_hb_time timestamp DEFAULT NULL,\n\t\tstatus varchar(64) DEFAULT 'waiting',\n\t\tstatus_update_time timestamp NULL DEFAULT NULL,\n\t\tstate text,\n\t\tcreated_time timestamp NOT NULL,\n\t\tprimary key(job_id, scan_id),\n\t\tkey(created_time));"] [user=]
[2024/05/15 17:19:31.783 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:79, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:78, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:31.783 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:19:31.783 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:79, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:78, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:31.783 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_ttl_task (\n\t\tjob_id varchar(64) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tscan_id int NOT NULL,\n\t\tscan_range_start BLOB,\n\t\tscan_range_end BLOB,\n\t\texpire_time timestamp NOT NULL,\n\t\towner_id varchar(64) DEFAULT NULL,\n\t\towner_addr varchar(64) DEFAULT NULL,\n\t\towner_hb_time timestamp DEFAULT NULL,\n\t\tstatus varchar(64) DEFAULT 'waiting',\n\t\tstatus_update_time timestamp NULL DEFAULT NULL,\n\t\tstate text,\n\t\tcreated_time timestamp NOT NULL,\n\t\tprimary key(job_id, scan_id),\n\t\tkey(created_time));"]
[2024/05/15 17:19:31.787 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=79] [category=ddl] [job="ID:79, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:78, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:31.783 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:31.789 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=38] [neededSchemaVersion=39] ["start time"=371.667s] [gotSchemaVersion=39] [phyTblIDs="[78]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:19:31.790 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:19:31.790 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=79] [version=39]
[2024/05/15 17:19:31.791 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=39] ["take time"=2.136709ms] [job="ID:79, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:78, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:31.783 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:31.795 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=79] [job="ID:79, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:78, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:31.783 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:31.797 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=79]
[2024/05/15 17:19:31.797 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:19:31.798 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=39] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_ttl_job_history (\n\t\tjob_id varchar(64) PRIMARY KEY,\n\t\ttable_id bigint(64) NOT NULL,\n        parent_table_id bigint(64) NOT NULL,\n    \ttable_schema varchar(64) NOT NULL,\n\t\ttable_name varchar(64) NOT NULL,\n    \tpartition_name varchar(64) DEFAULT NULL,\n\t\tcreate_time timestamp NOT NULL,\n\t\tfinish_time timestamp NOT NULL,\n\t\tttl_expire timestamp NOT NULL,\n        summary_text text,\n\t\texpired_rows bigint(64) DEFAULT NULL,\n    \tdeleted_rows bigint(64) DEFAULT NULL,\n    \terror_delete_rows bigint(64) DEFAULT NULL,\n    \tstatus varchar(64) NOT NULL,\n    \tkey(table_schema, table_name, create_time),\n    \tkey(parent_table_id, create_time),\n    \tkey(create_time)\n\t);"] [user=]
[2024/05/15 17:19:31.799 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:81, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:80, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:31.798 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:19:31.799 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:81, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:80, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:31.798 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_ttl_job_history (\n\t\tjob_id varchar(64) PRIMARY KEY,\n\t\ttable_id bigint(64) NOT NULL,\n        parent_table_id bigint(64) NOT NULL,\n    \ttable_schema varchar(64) NOT NULL,\n\t\ttable_name varchar(64) NOT NULL,\n    \tpartition_name varchar(64) DEFAULT NULL,\n\t\tcreate_time timestamp NOT NULL,\n\t\tfinish_time timestamp NOT NULL,\n\t\tttl_expire timestamp NOT NULL,\n        summary_text text,\n\t\texpired_rows bigint(64) DEFAULT NULL,\n    \tdeleted_rows bigint(64) DEFAULT NULL,\n    \terror_delete_rows bigint(64) DEFAULT NULL,\n    \tstatus varchar(64) NOT NULL,\n    \tkey(table_schema, table_name, create_time),\n    \tkey(parent_table_id, create_time),\n    \tkey(create_time)\n\t);"]
[2024/05/15 17:19:31.803 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=81] [category=ddl] [job="ID:81, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:80, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:31.798 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:31.805 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=39] [neededSchemaVersion=40] ["start time"=449.417s] [gotSchemaVersion=40] [phyTblIDs="[80]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:19:31.806 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:19:31.806 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=81] [version=40]
[2024/05/15 17:19:31.807 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=40] ["take time"=2.323375ms] [job="ID:81, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:80, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:31.798 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:31.811 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=81] [job="ID:81, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:80, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:31.798 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:31.814 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=81]
[2024/05/15 17:19:31.814 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:19:31.814 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=40] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_global_task (\n\t\tid BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n    \ttask_key VARCHAR(256) NOT NULL,\n\t\ttype VARCHAR(256) NOT NULL,\n\t\tdispatcher_id VARCHAR(261),\n\t\tstate VARCHAR(64) NOT NULL,\n\t\tpriority INT DEFAULT 1,\n\t\tcreate_time TIMESTAMP,\n\t\tstart_time TIMESTAMP,\n\t\tstate_update_time TIMESTAMP,\n\t\tend_time TIMESTAMP,\n\t\tmeta LONGBLOB,\n\t\tconcurrency INT(11),\n\t\tstep INT(11),\n\t\ttarget_scope VARCHAR(256) DEFAULT \"\",\n\t\terror BLOB,\n\t\tkey(state),\n      \tUNIQUE KEY task_key(task_key)\n\t);"] [user=]
[2024/05/15 17:19:31.815 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:83, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:82, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:31.815 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:19:31.816 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:83, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:82, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:31.815 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_global_task (\n\t\tid BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n    \ttask_key VARCHAR(256) NOT NULL,\n\t\ttype VARCHAR(256) NOT NULL,\n\t\tdispatcher_id VARCHAR(261),\n\t\tstate VARCHAR(64) NOT NULL,\n\t\tpriority INT DEFAULT 1,\n\t\tcreate_time TIMESTAMP,\n\t\tstart_time TIMESTAMP,\n\t\tstate_update_time TIMESTAMP,\n\t\tend_time TIMESTAMP,\n\t\tmeta LONGBLOB,\n\t\tconcurrency INT(11),\n\t\tstep INT(11),\n\t\ttarget_scope VARCHAR(256) DEFAULT \"\",\n\t\terror BLOB,\n\t\tkey(state),\n      \tUNIQUE KEY task_key(task_key)\n\t);"]
[2024/05/15 17:19:31.819 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=83] [category=ddl] [job="ID:83, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:82, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:31.815 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:31.821 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=40] [neededSchemaVersion=41] ["start time"=430.125s] [gotSchemaVersion=41] [phyTblIDs="[82]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:19:31.822 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:19:31.822 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=83] [version=41]
[2024/05/15 17:19:31.823 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=41] ["take time"=2.326125ms] [job="ID:83, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:82, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:31.815 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:31.827 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=83] [job="ID:83, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:82, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:31.815 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:31.829 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=83]
[2024/05/15 17:19:31.829 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:19:31.830 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=41] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_global_task_history (\n\t\tid BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n    \ttask_key VARCHAR(256) NOT NULL,\n\t\ttype VARCHAR(256) NOT NULL,\n\t\tdispatcher_id VARCHAR(261),\n\t\tstate VARCHAR(64) NOT NULL,\n\t\tpriority INT DEFAULT 1,\n\t\tcreate_time TIMESTAMP,\n\t\tstart_time TIMESTAMP,\n\t\tstate_update_time TIMESTAMP,\n\t\tend_time TIMESTAMP,\n\t\tmeta LONGBLOB,\n\t\tconcurrency INT(11),\n\t\tstep INT(11),\n\t\ttarget_scope VARCHAR(256) DEFAULT \"\",\n\t\terror BLOB,\n\t\tkey(state),\n      \tUNIQUE KEY task_key(task_key)\n\t);"] [user=]
[2024/05/15 17:19:31.831 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:85, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:84, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:31.83 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:19:31.831 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:85, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:84, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:31.83 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_global_task_history (\n\t\tid BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n    \ttask_key VARCHAR(256) NOT NULL,\n\t\ttype VARCHAR(256) NOT NULL,\n\t\tdispatcher_id VARCHAR(261),\n\t\tstate VARCHAR(64) NOT NULL,\n\t\tpriority INT DEFAULT 1,\n\t\tcreate_time TIMESTAMP,\n\t\tstart_time TIMESTAMP,\n\t\tstate_update_time TIMESTAMP,\n\t\tend_time TIMESTAMP,\n\t\tmeta LONGBLOB,\n\t\tconcurrency INT(11),\n\t\tstep INT(11),\n\t\ttarget_scope VARCHAR(256) DEFAULT \"\",\n\t\terror BLOB,\n\t\tkey(state),\n      \tUNIQUE KEY task_key(task_key)\n\t);"]
[2024/05/15 17:19:31.835 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=85] [category=ddl] [job="ID:85, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:84, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:31.83 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:31.838 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=41] [neededSchemaVersion=42] ["start time"=373.542s] [gotSchemaVersion=42] [phyTblIDs="[84]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:19:31.838 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:19:31.838 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=85] [version=42]
[2024/05/15 17:19:31.839 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=42] ["take time"=2.297833ms] [job="ID:85, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:84, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:31.83 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:31.844 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=85] [job="ID:85, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:84, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:31.83 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:31.846 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=85]
[2024/05/15 17:19:31.846 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:19:31.847 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=42] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_import_jobs (\n\t\tid bigint(64) NOT NULL AUTO_INCREMENT,\n\t\tcreate_time TIMESTAMP(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6),\n\t\tstart_time TIMESTAMP(6) NULL DEFAULT NULL,\n\t\tupdate_time TIMESTAMP(6) NULL DEFAULT NULL,\n\t\tend_time TIMESTAMP(6) NULL DEFAULT NULL,\n\t\ttable_schema VARCHAR(64) NOT NULL,\n\t\ttable_name VARCHAR(64) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tcreated_by VARCHAR(300) NOT NULL,\n\t\tparameters text NOT NULL,\n\t\tsource_file_size bigint(64) NOT NULL,\n\t\tstatus VARCHAR(64) NOT NULL,\n\t\tstep VARCHAR(64) NOT NULL,\n\t\tsummary text DEFAULT NULL,\n\t\terror_message TEXT DEFAULT NULL,\n\t\tPRIMARY KEY (id),\n\t\tKEY (created_by),\n\t\tKEY (status));"] [user=]
[2024/05/15 17:19:31.848 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:87, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:86, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:31.848 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:19:31.848 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:87, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:86, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:31.848 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_import_jobs (\n\t\tid bigint(64) NOT NULL AUTO_INCREMENT,\n\t\tcreate_time TIMESTAMP(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6),\n\t\tstart_time TIMESTAMP(6) NULL DEFAULT NULL,\n\t\tupdate_time TIMESTAMP(6) NULL DEFAULT NULL,\n\t\tend_time TIMESTAMP(6) NULL DEFAULT NULL,\n\t\ttable_schema VARCHAR(64) NOT NULL,\n\t\ttable_name VARCHAR(64) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tcreated_by VARCHAR(300) NOT NULL,\n\t\tparameters text NOT NULL,\n\t\tsource_file_size bigint(64) NOT NULL,\n\t\tstatus VARCHAR(64) NOT NULL,\n\t\tstep VARCHAR(64) NOT NULL,\n\t\tsummary text DEFAULT NULL,\n\t\terror_message TEXT DEFAULT NULL,\n\t\tPRIMARY KEY (id),\n\t\tKEY (created_by),\n\t\tKEY (status));"]
[2024/05/15 17:19:31.852 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=87] [category=ddl] [job="ID:87, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:86, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:31.848 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:31.855 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=42] [neededSchemaVersion=43] ["start time"=393.75s] [gotSchemaVersion=43] [phyTblIDs="[86]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:19:31.855 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:19:31.855 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=87] [version=43]
[2024/05/15 17:19:31.858 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=43] ["take time"=3.779292ms] [job="ID:87, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:86, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:31.848 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:31.867 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=87] [job="ID:87, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:86, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:31.848 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:31.870 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=87]
[2024/05/15 17:19:31.870 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:19:31.871 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=43] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_runaway_watch (\n\t\tid BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n\t\tresource_group_name varchar(32) not null,\n\t\tstart_time datetime(6) NOT NULL,\n\t\tend_time datetime(6),\n\t\twatch bigint(10) NOT NULL,\n\t\twatch_text TEXT NOT NULL,\n\t\tsource varchar(512) NOT NULL,\n\t\taction bigint(10),\n\t\tINDEX sql_index(resource_group_name,watch_text(700)) COMMENT \"accelerate the speed when select quarantined query\",\n\t\tINDEX time_index(end_time) COMMENT \"accelerate the speed when querying with active watch\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"] [user=]
[2024/05/15 17:19:31.874 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:89, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:88, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:31.872 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:19:31.874 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:89, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:88, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:31.872 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_runaway_watch (\n\t\tid BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n\t\tresource_group_name varchar(32) not null,\n\t\tstart_time datetime(6) NOT NULL,\n\t\tend_time datetime(6),\n\t\twatch bigint(10) NOT NULL,\n\t\twatch_text TEXT NOT NULL,\n\t\tsource varchar(512) NOT NULL,\n\t\taction bigint(10),\n\t\tINDEX sql_index(resource_group_name,watch_text(700)) COMMENT \"accelerate the speed when select quarantined query\",\n\t\tINDEX time_index(end_time) COMMENT \"accelerate the speed when querying with active watch\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"]
[2024/05/15 17:19:31.881 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=89] [category=ddl] [job="ID:89, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:88, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:31.872 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:31.883 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=43] [neededSchemaVersion=44] ["start time"=402.708s] [gotSchemaVersion=44] [phyTblIDs="[88]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:19:31.886 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:19:31.886 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=89] [version=44]
[2024/05/15 17:19:31.888 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=44] ["take time"=5.415584ms] [job="ID:89, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:88, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:31.872 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:31.895 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=89] [job="ID:89, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:88, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:31.872 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:31.898 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=89]
[2024/05/15 17:19:31.898 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:19:31.898 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=44] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_runaway_queries (\n\t\tresource_group_name varchar(32) not null,\n\t\ttime TIMESTAMP NOT NULL,\n\t\tmatch_type varchar(12) NOT NULL,\n\t\taction varchar(12) NOT NULL,\n\t\toriginal_sql TEXT NOT NULL,\n\t\tplan_digest TEXT NOT NULL,\n\t\ttidb_server varchar(512),\n\t\tINDEX plan_index(plan_digest(64)) COMMENT \"accelerate the speed when select runaway query\",\n\t\tINDEX time_index(time) COMMENT \"accelerate the speed when querying with active watch\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"] [user=]
[2024/05/15 17:19:31.900 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:91, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:90, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:31.899 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:19:31.900 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:91, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:90, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:31.899 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_runaway_queries (\n\t\tresource_group_name varchar(32) not null,\n\t\ttime TIMESTAMP NOT NULL,\n\t\tmatch_type varchar(12) NOT NULL,\n\t\taction varchar(12) NOT NULL,\n\t\toriginal_sql TEXT NOT NULL,\n\t\tplan_digest TEXT NOT NULL,\n\t\ttidb_server varchar(512),\n\t\tINDEX plan_index(plan_digest(64)) COMMENT \"accelerate the speed when select runaway query\",\n\t\tINDEX time_index(time) COMMENT \"accelerate the speed when querying with active watch\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"]
[2024/05/15 17:19:31.903 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=91] [category=ddl] [job="ID:91, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:90, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:31.899 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:31.905 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=44] [neededSchemaVersion=45] ["start time"=287.708s] [gotSchemaVersion=45] [phyTblIDs="[90]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:19:31.906 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:19:31.906 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=91] [version=45]
[2024/05/15 17:19:31.907 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=45] ["take time"=2.1675ms] [job="ID:91, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:90, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:31.899 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:31.913 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=91] [job="ID:91, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:90, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:31.899 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:31.915 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=91]
[2024/05/15 17:19:31.915 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:19:31.915 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=45] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS `mysql`.`tidb_timers` (\n\t\tID BIGINT(64) UNSIGNED NOT NULL AUTO_INCREMENT,\n\t\tNAMESPACE VARCHAR(256) NOT NULL,\n\t\tTIMER_KEY VARCHAR(256) NOT NULL,\n\t\tTIMER_DATA BLOB,\n\t\tTIMEZONE VARCHAR(64) NOT NULL,\n\t\tSCHED_POLICY_TYPE VARCHAR(32) NOT NULL,\n\t\tSCHED_POLICY_EXPR VARCHAR(256) NOT NULL,\n\t\tHOOK_CLASS VARCHAR(64) NOT NULL,\n\t\tWATERMARK TIMESTAMP DEFAULT NULL,\n\t\tENABLE TINYINT(2) NOT NULL,\n\t\tTIMER_EXT JSON NOT NULL,\n\t\tEVENT_STATUS VARCHAR(32) NOT NULL,\n\t\tEVENT_ID VARCHAR(64) NOT NULL,\n\t\tEVENT_DATA BLOB,\n\t\tEVENT_START TIMESTAMP DEFAULT NULL,\n\t\tSUMMARY_DATA BLOB,\n\t\tCREATE_TIME TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,\n\t\tUPDATE_TIME TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\tVERSION BIGINT(64) UNSIGNED NOT NULL,\n\t\tPRIMARY KEY (ID),\n\t\tUNIQUE KEY timer_key(NAMESPACE, TIMER_KEY),\n\t\tKEY hook_class(HOOK_CLASS)\n\t)"] [user=]
[2024/05/15 17:19:31.918 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:93, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:92, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:31.917 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:19:31.918 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:93, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:92, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:31.917 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS `mysql`.`tidb_timers` (\n\t\tID BIGINT(64) UNSIGNED NOT NULL AUTO_INCREMENT,\n\t\tNAMESPACE VARCHAR(256) NOT NULL,\n\t\tTIMER_KEY VARCHAR(256) NOT NULL,\n\t\tTIMER_DATA BLOB,\n\t\tTIMEZONE VARCHAR(64) NOT NULL,\n\t\tSCHED_POLICY_TYPE VARCHAR(32) NOT NULL,\n\t\tSCHED_POLICY_EXPR VARCHAR(256) NOT NULL,\n\t\tHOOK_CLASS VARCHAR(64) NOT NULL,\n\t\tWATERMARK TIMESTAMP DEFAULT NULL,\n\t\tENABLE TINYINT(2) NOT NULL,\n\t\tTIMER_EXT JSON NOT NULL,\n\t\tEVENT_STATUS VARCHAR(32) NOT NULL,\n\t\tEVENT_ID VARCHAR(64) NOT NULL,\n\t\tEVENT_DATA BLOB,\n\t\tEVENT_START TIMESTAMP DEFAULT NULL,\n\t\tSUMMARY_DATA BLOB,\n\t\tCREATE_TIME TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,\n\t\tUPDATE_TIME TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\tVERSION BIGINT(64) UNSIGNED NOT NULL,\n\t\tPRIMARY KEY (ID),\n\t\tUNIQUE KEY timer_key(NAMESPACE, TIMER_KEY),\n\t\tKEY hook_class(HOOK_CLASS)\n\t)"]
[2024/05/15 17:19:31.922 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=93] [category=ddl] [job="ID:93, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:92, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:31.917 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:31.925 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=45] [neededSchemaVersion=46] ["start time"=471.333s] [gotSchemaVersion=46] [phyTblIDs="[92]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:19:31.925 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:19:31.925 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=93] [version=46]
[2024/05/15 17:19:31.926 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=46] ["take time"=2.312708ms] [job="ID:93, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:92, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:31.917 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:31.931 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=93] [job="ID:93, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:92, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:31.917 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:31.933 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=93]
[2024/05/15 17:19:31.933 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:19:31.933 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=46] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_runaway_watch_done (\n\t\tid BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n\t\trecord_id BIGINT(20) not null,\n\t\tresource_group_name varchar(32) not null,\n\t\tstart_time datetime(6) NOT NULL,\n\t\tend_time datetime(6),\n\t\twatch bigint(10) NOT NULL,\n\t\twatch_text TEXT NOT NULL,\n\t\tsource varchar(512) NOT NULL,\n\t\taction bigint(10),\n\t\tdone_time TIMESTAMP(6) NOT NULL\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"] [user=]
[2024/05/15 17:19:31.935 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:95, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:94, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:31.934 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:19:31.935 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:95, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:94, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:31.934 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_runaway_watch_done (\n\t\tid BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n\t\trecord_id BIGINT(20) not null,\n\t\tresource_group_name varchar(32) not null,\n\t\tstart_time datetime(6) NOT NULL,\n\t\tend_time datetime(6),\n\t\twatch bigint(10) NOT NULL,\n\t\twatch_text TEXT NOT NULL,\n\t\tsource varchar(512) NOT NULL,\n\t\taction bigint(10),\n\t\tdone_time TIMESTAMP(6) NOT NULL\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"]
[2024/05/15 17:19:31.939 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=95] [category=ddl] [job="ID:95, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:94, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:31.934 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:31.941 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=46] [neededSchemaVersion=47] ["start time"=271.583s] [gotSchemaVersion=47] [phyTblIDs="[94]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:19:31.942 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:19:31.942 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=95] [version=47]
[2024/05/15 17:19:31.944 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=47] ["take time"=2.439167ms] [job="ID:95, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:94, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:31.934 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:31.947 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=95] [job="ID:95, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:94, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:31.934 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:31.950 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=95]
[2024/05/15 17:19:31.950 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:19:31.950 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=47] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.dist_framework_meta (\n        host VARCHAR(261) NOT NULL PRIMARY KEY,\n        role VARCHAR(64),\n        cpu_count int default 0,\n        keyspace_id bigint(8) NOT NULL DEFAULT -1\n    );"] [user=]
[2024/05/15 17:19:31.951 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:97, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:96, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:31.951 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:19:31.951 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:97, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:96, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:31.951 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.dist_framework_meta (\n        host VARCHAR(261) NOT NULL PRIMARY KEY,\n        role VARCHAR(64),\n        cpu_count int default 0,\n        keyspace_id bigint(8) NOT NULL DEFAULT -1\n    );"]
[2024/05/15 17:19:31.955 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=97] [category=ddl] [job="ID:97, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:96, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:31.951 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:31.956 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=47] [neededSchemaVersion=48] ["start time"=192.042s] [gotSchemaVersion=48] [phyTblIDs="[96]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:19:31.957 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:19:31.957 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=97] [version=48]
[2024/05/15 17:19:31.958 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=48] ["take time"=2.026917ms] [job="ID:97, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:96, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:31.951 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:31.963 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=97] [job="ID:97, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:96, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:31.951 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:31.964 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=97]
[2024/05/15 17:19:31.964 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:19:31.965 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=48] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.request_unit_by_group (\n\t\tstart_time TIMESTAMP(6) NOT NULL,\n\t\tend_time TIMESTAMP(6) NOT NULL,\n\t\tresource_group VARCHAR(32) NOT null,\n\t\ttotal_ru bigint(64) UNSIGNED NOT NULL,\n\t\tPRIMARY KEY (start_time, end_time, resource_group),\n\t\tKEY (resource_group)\n\t);"] [user=]
[2024/05/15 17:19:31.966 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:99, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:98, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:31.965 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:19:31.966 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:99, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:98, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:31.965 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.request_unit_by_group (\n\t\tstart_time TIMESTAMP(6) NOT NULL,\n\t\tend_time TIMESTAMP(6) NOT NULL,\n\t\tresource_group VARCHAR(32) NOT null,\n\t\ttotal_ru bigint(64) UNSIGNED NOT NULL,\n\t\tPRIMARY KEY (start_time, end_time, resource_group),\n\t\tKEY (resource_group)\n\t);"]
[2024/05/15 17:19:31.970 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=99] [category=ddl] [job="ID:99, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:98, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:31.965 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:31.971 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=48] [neededSchemaVersion=49] ["start time"=226s] [gotSchemaVersion=49] [phyTblIDs="[98]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:19:31.972 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:19:31.972 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=99] [version=49]
[2024/05/15 17:19:31.974 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=49] ["take time"=3.03125ms] [job="ID:99, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:98, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:31.965 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:31.976 +08:00] [INFO] [runaway.go:158] ["preparations for the runaway manager are finished and start runaway manager loop"]
[2024/05/15 17:19:31.976 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=runawayRecordFlushLoop]
[2024/05/15 17:19:31.976 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=runawayWatchSyncLoop]
[2024/05/15 17:19:31.976 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=runawayStartLoop]
[2024/05/15 17:19:31.979 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=99] [job="ID:99, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:98, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:31.965 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:31.981 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=99]
[2024/05/15 17:19:31.981 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:19:31.981 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=49] [cur_db=mysql] [sql="CREATE DATABASE IF NOT EXISTS sys;"] [user=]
[2024/05/15 17:19:31.982 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:101, Type:create schema, State:queueing, SchemaState:none, SchemaID:100, TableID:0, RowCount:0, ArgLen:1, start time: 2024-05-15 17:19:31.982 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:19:31.982 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:101, Type:create schema, State:queueing, SchemaState:none, SchemaID:100, TableID:0, RowCount:0, ArgLen:1, start time: 2024-05-15 17:19:31.982 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE DATABASE IF NOT EXISTS sys;"]
[2024/05/15 17:19:31.985 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=101] [category=ddl] [job="ID:101, Type:create schema, State:queueing, SchemaState:none, SchemaID:100, TableID:0, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:31.982 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:31.987 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=49] [neededSchemaVersion=50] ["start time"=35.709s] [gotSchemaVersion=50] [phyTblIDs="[]"] [actionTypes="[]"] [diffTypes="[\"create schema\"]"]
[2024/05/15 17:19:31.987 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:19:31.987 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=101] [version=50]
[2024/05/15 17:19:31.988 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=50] ["take time"=2.004208ms] [job="ID:101, Type:create schema, State:done, SchemaState:public, SchemaID:100, TableID:0, RowCount:0, ArgLen:1, start time: 2024-05-15 17:19:31.982 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:31.992 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=101] [job="ID:101, Type:create schema, State:synced, SchemaState:public, SchemaID:100, TableID:0, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:31.982 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:31.994 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=101]
[2024/05/15 17:19:31.994 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:19:31.996 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:103, Type:create view, State:queueing, SchemaState:none, SchemaID:100, TableID:102, RowCount:0, ArgLen:3, start time: 2024-05-15 17:19:31.995 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:19:31.996 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:103, Type:create view, State:queueing, SchemaState:none, SchemaID:100, TableID:102, RowCount:0, ArgLen:3, start time: 2024-05-15 17:19:31.995 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE OR REPLACE VIEW sys.schema_unused_indexes AS\n\t\tSELECT\n\t\t\ttable_schema as object_schema,\n\t\t\ttable_name as object_name,\n\t\t\tindex_name\n\t\tFROM information_schema.cluster_tidb_index_usage\n\t\tWHERE\n\t\t\ttable_schema not in ('sys', 'mysql', 'INFORMATION_SCHEMA', 'PERFORMANCE_SCHEMA') and\n\t\t\tindex_name != 'PRIMARY'\n\t\tGROUP BY table_schema, table_name, index_name\n\t\tHAVING\n\t\t\tsum(last_access_time) is null;"]
[2024/05/15 17:19:31.999 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=103] [category=ddl] [job="ID:103, Type:create view, State:queueing, SchemaState:none, SchemaID:100, TableID:102, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:31.995 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:32.001 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=50] [neededSchemaVersion=51] ["start time"=161.583s] [gotSchemaVersion=51] [phyTblIDs="[102]"] [actionTypes="[21]"] [diffTypes="[\"create view\"]"]
[2024/05/15 17:19:32.001 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:19:32.001 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=103] [version=51]
[2024/05/15 17:19:32.002 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=51] ["take time"=2.076333ms] [job="ID:103, Type:create view, State:done, SchemaState:public, SchemaID:100, TableID:102, RowCount:0, ArgLen:3, start time: 2024-05-15 17:19:31.995 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:32.007 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=103] [job="ID:103, Type:create view, State:synced, SchemaState:public, SchemaID:100, TableID:102, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:31.995 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:32.009 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=103]
[2024/05/15 17:19:32.009 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:19:32.010 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=0] ["to ID"=1] ["table ID"=4] ["database ID"=1]
[2024/05/15 17:19:32.013 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=0] ["to ID"=655] ["table ID"=16] ["database ID"=1]
[2024/05/15 17:19:32.018 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=0] ["to ID"=1] ["table ID"=18] ["database ID"=1]
[2024/05/15 17:19:32.018 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1] ["to ID"=2] ["table ID"=18] ["database ID"=1]
[2024/05/15 17:19:32.018 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2] ["to ID"=3] ["table ID"=18] ["database ID"=1]
[2024/05/15 17:19:32.018 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3] ["to ID"=4] ["table ID"=18] ["database ID"=1]
[2024/05/15 17:19:32.020 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=4] ["to ID"=5] ["table ID"=18] ["database ID"=1]
[2024/05/15 17:19:32.022 +08:00] [INFO] [bootstrap.go:745] ["bootstrap successful"] ["take time"=1.049548375s]
[2024/05/15 17:19:32.024 +08:00] [INFO] [mock.go:106] ["owner manager is canceled"] [category=ddl] [ID=f567d89c-9963-4389-8517-c9655fba1f1c] [ownerKey=/tidb/ddl/fg/owner]
[2024/05/15 17:19:32.024 +08:00] [INFO] [ddl_workerpool.go:82] ["closing workerPool"] [category=ddl]
[2024/05/15 17:19:32.024 +08:00] [INFO] [ddl_worker.go:186] ["DDL worker closed"] [worker="worker 2, tp add index"] [category=ddl] ["take time"=834ns]
[2024/05/15 17:19:32.024 +08:00] [INFO] [ddl_workerpool.go:82] ["closing workerPool"] [category=ddl]
[2024/05/15 17:19:32.024 +08:00] [INFO] [ddl_worker.go:186] ["DDL worker closed"] [worker="worker 1, tp general"] [category=ddl] ["take time"=291ns]
[2024/05/15 17:19:32.024 +08:00] [INFO] [ddl_workerpool.go:82] ["closing workerPool"] [category=ddl]
[2024/05/15 17:19:32.024 +08:00] [INFO] [delete_range.go:162] ["closing delRange"] [category=ddl]
[2024/05/15 17:19:32.024 +08:00] [INFO] [session_pool.go:99] ["closing session pool"] [category=ddl]
[2024/05/15 17:19:32.024 +08:00] [INFO] [ddl.go:951] ["DDL closed"] [category=ddl] [ID=f567d89c-9963-4389-8517-c9655fba1f1c] ["take time"=2.160541ms]
[2024/05/15 17:19:32.024 +08:00] [INFO] [ddl.go:769] ["stop DDL"] [category=ddl] [ID=f567d89c-9963-4389-8517-c9655fba1f1c]
[2024/05/15 17:19:32.024 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=mdlCheckLoop]
[2024/05/15 17:19:32.024 +08:00] [INFO] [domain.go:915] ["loadSchemaInLoop exited."]
[2024/05/15 17:19:32.024 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=loadSchemaInLoop]
[2024/05/15 17:19:32.024 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=runawayRecordFlushLoop]
[2024/05/15 17:19:32.024 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=runawayWatchSyncLoop]
[2024/05/15 17:19:32.024 +08:00] [INFO] [domain.go:769] ["topologySyncerKeeper exited."]
[2024/05/15 17:19:32.024 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=topologySyncerKeeper]
[2024/05/15 17:19:32.024 +08:00] [INFO] [domain.go:745] ["globalConfigSyncerKeeper exited."]
[2024/05/15 17:19:32.024 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=globalConfigSyncerKeeper]
[2024/05/15 17:19:32.024 +08:00] [INFO] [domain.go:719] ["infoSyncerKeeper exited."]
[2024/05/15 17:19:32.024 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=infoSyncerKeeper]
[2024/05/15 17:19:32.024 +08:00] [INFO] [domain.go:691] ["topNSlowQueryLoop exited."]
[2024/05/15 17:19:32.024 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=topNSlowQueryLoop]
[2024/05/15 17:19:32.024 +08:00] [INFO] [domain.go:1369] ["closestReplicaReadCheckLoop exited."]
[2024/05/15 17:19:32.024 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=closestReplicaReadCheckLoop]
[2024/05/15 17:19:32.024 +08:00] [INFO] [domain.go:1082] ["domain closed"] ["take time"=2.273166ms]
[2024/05/15 17:19:32.024 +08:00] [INFO] [tidb.go:80] ["new domain"] [store=7f919476-a7b2-4575-838c-df425fd04b22] ["ddl lease"=500ms] ["stats lease"=-1ns]
[2024/05/15 17:19:32.027 +08:00] [WARN] [controller.go:198] ["[resource group controller] server does not save config, load config failed"]
[2024/05/15 17:19:32.027 +08:00] [INFO] [controller.go:185] ["load resource controller config"] [config="{\"degraded-mode-wait-duration\":\"0s\",\"ltb-max-wait-duration\":\"30s\",\"wait-retry-interval\":\"50ms\",\"wait-retry-times\":10,\"request-unit\":{\"read-base-cost\":0.125,\"read-per-batch-base-cost\":0.5,\"read-cost-per-byte\":0.0000152587890625,\"write-base-cost\":1,\"write-per-batch-base-cost\":1,\"write-cost-per-byte\":0.0009765625,\"read-cpu-ms-cost\":0.3333333333333333},\"enable-controller-trace-log\":\"false\"}"] [ru-config="{\"ReadBaseCost\":0.125,\"ReadPerBatchBaseCost\":0.5,\"ReadBytesCost\":0.0000152587890625,\"WriteBaseCost\":1,\"WritePerBatchBaseCost\":1,\"WriteBytesCost\":0.0009765625,\"CPUMsCost\":0.3333333333333333,\"LTBMaxWaitDuration\":30000000000,\"WaitRetryInterval\":50000000,\"WaitRetryTimes\":10,\"DegradedModeWaitDuration\":0}"]
[2024/05/15 17:19:32.041 +08:00] [INFO] [domain.go:323] ["full load InfoSchema success"] [currentSchemaVersion=0] [neededSchemaVersion=51] ["start time"=14.075958ms]
[2024/05/15 17:19:32.047 +08:00] [INFO] [domain.go:643] ["full load and reset schema validator"]
[2024/05/15 17:19:32.047 +08:00] [INFO] [ddl.go:818] ["start DDL"] [category=ddl] [ID=c9117603-7ceb-489f-8dcd-61c3d19efb05] [runWorker=true]
[2024/05/15 17:19:32.047 +08:00] [INFO] [ddl.go:777] ["start delRangeManager OK"] [category=ddl] ["is a emulator"=true]
[2024/05/15 17:19:32.047 +08:00] [WARN] [env.go:51] ["initialize environment failed"] [category=ddl-ingest] ["storage limitation"="only support TiKV storage"] ["current storage"=unistore] ["lightning is initialized"=false]
[2024/05/15 17:19:32.047 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=loadSchemaInLoop]
[2024/05/15 17:19:32.047 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=mdlCheckLoop]
[2024/05/15 17:19:32.047 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=topNSlowQueryLoop]
[2024/05/15 17:19:32.047 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=infoSyncerKeeper]
[2024/05/15 17:19:32.047 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=globalConfigSyncerKeeper]
[2024/05/15 17:19:32.047 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=runawayStartLoop]
[2024/05/15 17:19:32.047 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=requestUnitsWriterLoop]
[2024/05/15 17:19:32.047 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=topologySyncerKeeper]
[2024/05/15 17:19:32.047 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=closestReplicaReadCheckLoop]
[2024/05/15 17:19:32.047 +08:00] [WARN] [domain.go:1334] ["pd / etcd client not provided, won't begin Advancer."]
[2024/05/15 17:19:32.067 +08:00] [INFO] [delete_range.go:172] ["start delRange emulator"] [category=ddl]
[2024/05/15 17:19:32.067 +08:00] [INFO] [job_table.go:334] ["get global state and global state change"] [category=ddl] [oldState=false] [currState=false]
[2024/05/15 17:19:32.067 +08:00] [INFO] [runaway.go:149] ["try to start runaway manager loop"]
[2024/05/15 17:19:32.067 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=requestUnitsWriterLoop]
[2024/05/15 17:19:32.074 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=globalBindHandleWorkerLoop]
[2024/05/15 17:19:32.075 +08:00] [WARN] [sysvar_cache.go:49] ["sysvar cache is empty, triggering rebuild"]
[2024/05/15 17:19:32.076 +08:00] [INFO] [sysvar.go:2748] ["set resource control"] [enable=true]
[2024/05/15 17:19:32.076 +08:00] [INFO] [controller.go:447] ["[resource group controller] create resource group cost controller"] [name=default]
[2024/05/15 17:19:32.081 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=loadPrivilegeInLoop]
[2024/05/15 17:19:32.082 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=LoadSysVarCacheLoop]
[2024/05/15 17:19:32.083 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=dumpFileGcChecker]
[2024/05/15 17:19:32.083 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=indexUsageWorker]
[2024/05/15 17:19:32.083 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=quitStatsOwner]
[2024/05/15 17:19:32.083 +08:00] [INFO] [domain.go:2278] ["start load stats sub workers"] ["worker count"=5]
[2024/05/15 17:19:32.083 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=loadSigningCertLoop]
[2024/05/15 17:19:32.083 +08:00] [INFO] [manager.go:113] ["build task executor manager"] [server-id=:4000] [total-cpu=1] [total-mem=32GiB]
[2024/05/15 17:19:32.084 +08:00] [INFO] [domain.go:2078] ["dumpFileGcChecker started"]
[2024/05/15 17:19:32.084 +08:00] [INFO] [task_manager.go:217] ["scale ttl worker"] [ttl-worker=job-manager] [ttl-worker=task-manager] [originalCount=0] [newCount=4]
[2024/05/15 17:19:32.084 +08:00] [INFO] [task_manager.go:217] ["scale ttl worker"] [ttl-worker=job-manager] [ttl-worker=task-manager] [originalCount=0] [newCount=4]
[2024/05/15 17:19:32.088 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=0] ["to ID"=1] ["table ID"=96] ["database ID"=1]
[2024/05/15 17:19:32.088 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=distTaskFrameworkLoop]
[2024/05/15 17:19:32.089 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=5000] ["to ID"=5001] ["table ID"=16] ["database ID"=1]
[2024/05/15 17:19:32.089 +08:00] [INFO] [manager.go:146] ["task executor manager start"] [server-id=:4000]
[2024/05/15 17:19:32.089 +08:00] [INFO] [domain.go:1533] ["dist task executor manager started"]
[2024/05/15 17:19:32.091 +08:00] [INFO] [set.go:170] ["set global var"] [conn=1] [name=tidb_schema_cache_size] [val=1024]
[2024/05/15 17:19:32.092 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=1] [schemaVersion=51] [cur_db=] [sql="drop database if exists test;"] [user=]
[2024/05/15 17:19:32.095 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:104, Type:drop schema, State:queueing, SchemaState:public, SchemaID:2, TableID:0, RowCount:0, ArgLen:1, start time: 2024-05-15 17:19:32.094 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:19:32.095 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:104, Type:drop schema, State:queueing, SchemaState:public, SchemaID:2, TableID:0, RowCount:0, ArgLen:1, start time: 2024-05-15 17:19:32.094 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="drop database if exists test;"]
[2024/05/15 17:19:32.126 +08:00] [INFO] [job_table.go:334] ["get global state and global state change"] [category=ddl] [oldState=false] [currState=false]
[2024/05/15 17:19:32.126 +08:00] [INFO] [job_table.go:349] ["the owner sets owner operator value"] [category=ddl] [ownerOp=none]
[2024/05/15 17:19:32.130 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=104] [conn=1] [category=ddl] [job="ID:104, Type:drop schema, State:queueing, SchemaState:public, SchemaID:2, TableID:0, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:32.094 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:32.131 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=51] [neededSchemaVersion=52] ["start time"=45.041s] [gotSchemaVersion=52] [phyTblIDs="[]"] [actionTypes="[]"] [diffTypes="[\"drop schema\"]"]
[2024/05/15 17:19:32.132 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=104] [version=52]
[2024/05/15 17:19:32.133 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=52] ["take time"=2.457709ms] [job="ID:104, Type:drop schema, State:running, SchemaState:write only, SchemaID:2, TableID:0, RowCount:0, ArgLen:1, start time: 2024-05-15 17:19:32.094 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:32.138 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=104] [conn=1] [category=ddl] [job="ID:104, Type:drop schema, State:running, SchemaState:write only, SchemaID:2, TableID:0, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:32.094 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:32.139 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=52] [neededSchemaVersion=53] ["start time"=16.458s] [gotSchemaVersion=53] [phyTblIDs="[]"] [actionTypes="[]"] [diffTypes="[\"drop schema\"]"]
[2024/05/15 17:19:32.140 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=104] [version=53]
[2024/05/15 17:19:32.141 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=53] ["take time"=2.025042ms] [job="ID:104, Type:drop schema, State:running, SchemaState:delete only, SchemaID:2, TableID:0, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:32.094 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:32.144 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=104] [conn=1] [category=ddl] [job="ID:104, Type:drop schema, State:running, SchemaState:delete only, SchemaID:2, TableID:0, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:32.094 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:32.144 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=53] [neededSchemaVersion=54] ["start time"=16.167s] [gotSchemaVersion=54] [phyTblIDs="[]"] [actionTypes="[]"] [diffTypes="[\"drop schema\"]"]
[2024/05/15 17:19:32.145 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=104] [version=54]
[2024/05/15 17:19:32.146 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=54] ["take time"=2.004625ms] [job="ID:104, Type:drop schema, State:done, SchemaState:none, SchemaID:2, TableID:0, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:32.094 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:32.149 +08:00] [INFO] [delete_range.go:112] ["add job into delete-range table"] [category=ddl] [jobID=104] [jobType="drop schema"]
[2024/05/15 17:19:32.149 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=104] [conn=1] [job="ID:104, Type:drop schema, State:synced, SchemaState:none, SchemaID:2, TableID:0, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:32.094 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:32.152 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=104]
[2024/05/15 17:19:32.152 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:19:32.152 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=1] [schemaVersion=54] [cur_db=] [sql="create database test;"] [user=]
[2024/05/15 17:19:32.153 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:106, Type:create schema, State:queueing, SchemaState:none, SchemaID:105, TableID:0, RowCount:0, ArgLen:1, start time: 2024-05-15 17:19:32.153 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:19:32.153 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:106, Type:create schema, State:queueing, SchemaState:none, SchemaID:105, TableID:0, RowCount:0, ArgLen:1, start time: 2024-05-15 17:19:32.153 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="create database test;"]
[2024/05/15 17:19:32.157 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=106] [conn=1] [category=ddl] [job="ID:106, Type:create schema, State:queueing, SchemaState:none, SchemaID:105, TableID:0, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:32.153 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:32.157 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=54] [neededSchemaVersion=55] ["start time"=32.125s] [gotSchemaVersion=55] [phyTblIDs="[]"] [actionTypes="[]"] [diffTypes="[\"create schema\"]"]
[2024/05/15 17:19:32.158 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=106] [version=55]
[2024/05/15 17:19:32.159 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=55] ["take time"=2.004375ms] [job="ID:106, Type:create schema, State:done, SchemaState:public, SchemaID:105, TableID:0, RowCount:0, ArgLen:1, start time: 2024-05-15 17:19:32.153 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:32.163 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=106] [conn=1] [job="ID:106, Type:create schema, State:synced, SchemaState:public, SchemaID:105, TableID:0, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:32.153 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:32.165 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=106]
[2024/05/15 17:19:32.165 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:19:32.165 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=5000] ["to ID"=5001] ["table ID"=18] ["database ID"=1]
[2024/05/15 17:19:32.167 +08:00] [INFO] [set.go:170] ["set global var"] [conn=1] [name=tidb_schema_cache_size] [val=1024]
[2024/05/15 17:19:32.167 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=1] [schemaVersion=55] [cur_db=test] [sql="create table t (a int);"] [user=]
[2024/05/15 17:19:32.168 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:108, Type:create table, State:queueing, SchemaState:none, SchemaID:105, TableID:107, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:32.168 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:19:32.168 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:108, Type:create table, State:queueing, SchemaState:none, SchemaID:105, TableID:107, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:32.168 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="create table t (a int);"]
[2024/05/15 17:19:32.172 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=108] [conn=1] [category=ddl] [job="ID:108, Type:create table, State:queueing, SchemaState:none, SchemaID:105, TableID:107, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:32.168 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:32.173 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=55] [neededSchemaVersion=56] ["start time"=98.167s] [gotSchemaVersion=56] [phyTblIDs="[107]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:19:32.174 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=108] [version=56]
[2024/05/15 17:19:32.176 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=56] ["take time"=2.680833ms] [job="ID:108, Type:create table, State:done, SchemaState:public, SchemaID:105, TableID:107, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:32.168 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:32.180 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=108] [conn=1] [job="ID:108, Type:create table, State:synced, SchemaState:public, SchemaID:105, TableID:107, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:32.168 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:32.182 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=108]
[2024/05/15 17:19:32.182 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:19:32.182 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=1] [schemaVersion=56] [cur_db=test] [sql="drop table t;"] [user=]
[2024/05/15 17:19:32.184 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:109, Type:drop table, State:queueing, SchemaState:public, SchemaID:105, TableID:107, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:32.183 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:19:32.184 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:109, Type:drop table, State:queueing, SchemaState:public, SchemaID:105, TableID:107, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:32.183 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="drop table t;"]
[2024/05/15 17:19:32.187 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=109] [conn=1] [category=ddl] [job="ID:109, Type:drop table, State:queueing, SchemaState:public, SchemaID:105, TableID:107, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:32.183 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:32.188 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=56] [neededSchemaVersion=57] ["start time"=40.25s] [gotSchemaVersion=57] [phyTblIDs="[107]"] [actionTypes="[4]"] [diffTypes="[\"drop table\"]"]
[2024/05/15 17:19:32.189 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=109] [version=57]
[2024/05/15 17:19:32.190 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=57] ["take time"=2.061333ms] [job="ID:109, Type:drop table, State:running, SchemaState:write only, SchemaID:105, TableID:107, RowCount:0, ArgLen:2, start time: 2024-05-15 17:19:32.183 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:32.195 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=109] [conn=1] [category=ddl] [job="ID:109, Type:drop table, State:running, SchemaState:write only, SchemaID:105, TableID:107, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:32.183 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:32.197 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=57] [neededSchemaVersion=58] ["start time"=25.084s] [gotSchemaVersion=58] [phyTblIDs="[]"] [actionTypes="[]"] [diffTypes="[\"drop table\"]"]
[2024/05/15 17:19:32.197 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=109] [version=58]
[2024/05/15 17:19:32.199 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=58] ["take time"=2.058459ms] [job="ID:109, Type:drop table, State:running, SchemaState:delete only, SchemaID:105, TableID:107, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:32.183 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:32.204 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=109] [conn=1] [category=ddl] [job="ID:109, Type:drop table, State:running, SchemaState:delete only, SchemaID:105, TableID:107, RowCount:0, ArgLen:0, start time: 2024-05-15 17:19:32.183 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:32.205 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=58] [neededSchemaVersion=59] ["start time"=23.583s] [gotSchemaVersion=59] [phyTblIDs="[]"] [actionTypes="[]"] [diffTypes="[\"drop table\"]"]
[2024/05/15 17:19:32.206 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=109] [version=59]
[2024/05/15 17:19:32.207 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=59] ["take time"=2.049708ms] [job="ID:109, Type:drop table, State:done, SchemaState:none, SchemaID:105, TableID:107, RowCount:0, ArgLen:3, start time: 2024-05-15 17:19:32.183 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:32.211 +08:00] [INFO] [delete_range.go:447] ["insert into delete-range table"] [category=ddl] [jobID=109] [tableIDs="[107]"] [comment="drop table: table ID"]
[2024/05/15 17:19:32.211 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=0] ["to ID"=1] ["table ID"=28] ["database ID"=1]
[2024/05/15 17:19:32.212 +08:00] [INFO] [delete_range.go:112] ["add job into delete-range table"] [category=ddl] [jobID=109] [jobType="drop table"]
[2024/05/15 17:19:32.212 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=109] [conn=1] [job="ID:109, Type:drop table, State:synced, SchemaState:none, SchemaID:105, TableID:107, RowCount:0, ArgLen:3, start time: 2024-05-15 17:19:32.183 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:19:32.216 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=0] ["to ID"=1] ["table ID"=30] ["database ID"=1]
[2024/05/15 17:19:32.216 +08:00] [INFO] [delete_range.go:259] ["delRange emulator complete task"] [category=ddl] [category=ddl] [jobID=109] [elementID=1] [startKey=74800000000000006b] [endKey=74800000000000006c]
[2024/05/15 17:19:32.217 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=109]
[2024/05/15 17:19:32.217 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:19:32.220 +08:00] [INFO] [set.go:334] ["load snapshot info schema"] [conn=1] [SnapshotTS=449777440438878208]
[2024/05/15 17:19:32.220 +08:00] [INFO] [session.go:4124] ["use snapshot schema"] [conn=1] [schemaVersion=56]
[2024/05/15 17:19:32.220 +08:00] [INFO] [session.go:4124] ["use snapshot schema"] [conn=1] [schemaVersion=56]
[2024/05/15 17:19:32.221 +08:00] [INFO] [session.go:4124] ["use snapshot schema"] [conn=1] [schemaVersion=56]
[2024/05/15 17:19:32.221 +08:00] [INFO] [mock.go:106] ["owner manager is canceled"] [category=ddl] [ID=c9117603-7ceb-489f-8dcd-61c3d19efb05] [ownerKey=/tidb/ddl/fg/owner]
[2024/05/15 17:19:32.221 +08:00] [INFO] [ddl_workerpool.go:82] ["closing workerPool"] [category=ddl]
[2024/05/15 17:19:32.221 +08:00] [INFO] [ddl_worker.go:186] ["DDL worker closed"] [worker="worker 4, tp add index"] [category=ddl] ["take time"=1.042s]
[2024/05/15 17:19:32.221 +08:00] [INFO] [ddl_workerpool.go:82] ["closing workerPool"] [category=ddl]
[2024/05/15 17:19:32.221 +08:00] [INFO] [ddl_worker.go:186] ["DDL worker closed"] [worker="worker 3, tp general"] [category=ddl] ["take time"=542ns]
[2024/05/15 17:19:32.221 +08:00] [INFO] [ddl_workerpool.go:82] ["closing workerPool"] [category=ddl]
[2024/05/15 17:19:32.221 +08:00] [INFO] [delete_range.go:162] ["closing delRange"] [category=ddl]
[2024/05/15 17:19:32.221 +08:00] [INFO] [session_pool.go:99] ["closing session pool"] [category=ddl]
[2024/05/15 17:19:32.222 +08:00] [INFO] [ddl.go:951] ["DDL closed"] [category=ddl] [ID=c9117603-7ceb-489f-8dcd-61c3d19efb05] ["take time"=218.25s]
[2024/05/15 17:19:32.222 +08:00] [INFO] [ddl.go:769] ["stop DDL"] [category=ddl] [ID=c9117603-7ceb-489f-8dcd-61c3d19efb05]
[2024/05/15 17:19:32.222 +08:00] [INFO] [domain.go:1034] ["stopping ttlJobManager"]
[2024/05/15 17:19:32.222 +08:00] [INFO] [task_manager.go:194] ["shrink ttl worker"] [ttl-worker=job-manager] [ttl-worker=task-manager] [originalCount=4] [newCount=0]
[2024/05/15 17:19:32.222 +08:00] [INFO] [scan.go:309] ["ttlScanWorker loop exited."]
[2024/05/15 17:19:32.222 +08:00] [INFO] [scan.go:309] ["ttlScanWorker loop exited."]
[2024/05/15 17:19:32.222 +08:00] [INFO] [scan.go:309] ["ttlScanWorker loop exited."]
[2024/05/15 17:19:32.222 +08:00] [INFO] [scan.go:309] ["ttlScanWorker loop exited."]
[2024/05/15 17:19:32.222 +08:00] [INFO] [task_manager.go:194] ["shrink ttl worker"] [ttl-worker=job-manager] [ttl-worker=task-manager] [originalCount=4] [newCount=0]
[2024/05/15 17:19:32.222 +08:00] [INFO] [del.go:261] ["ttlDeleteWorker loop exited."]
[2024/05/15 17:19:32.222 +08:00] [INFO] [del.go:261] ["ttlDeleteWorker loop exited."]
[2024/05/15 17:19:32.222 +08:00] [INFO] [del.go:261] ["ttlDeleteWorker loop exited."]
[2024/05/15 17:19:32.222 +08:00] [INFO] [del.go:261] ["ttlDeleteWorker loop exited."]
[2024/05/15 17:19:32.222 +08:00] [INFO] [job_manager.go:174] ["ttlJobManager loop exited."] [ttl-worker=job-manager]
[2024/05/15 17:19:32.222 +08:00] [INFO] [domain.go:1045] ["ttlJobManager exited."]
[2024/05/15 17:19:32.222 +08:00] [INFO] [manager.go:280] ["recoverMetaLoop done"] [server-id=:4000]
[2024/05/15 17:19:32.222 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=mdlCheckLoop]
[2024/05/15 17:19:32.222 +08:00] [INFO] [domain.go:915] ["loadSchemaInLoop exited."]
[2024/05/15 17:19:32.222 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=loadSchemaInLoop]
[2024/05/15 17:19:32.222 +08:00] [INFO] [domain.go:1535] ["stopping dist task executor manager"]
[2024/05/15 17:19:32.222 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=loadSigningCertLoop]
[2024/05/15 17:19:32.222 +08:00] [INFO] [stats_syncload.go:216] ["SubLoadWorker exited."]
[2024/05/15 17:19:32.222 +08:00] [INFO] [stats_syncload.go:216] ["SubLoadWorker exited."]
[2024/05/15 17:19:32.222 +08:00] [INFO] [stats_syncload.go:216] ["SubLoadWorker exited."]
[2024/05/15 17:19:32.222 +08:00] [INFO] [stats_syncload.go:216] ["SubLoadWorker exited."]
[2024/05/15 17:19:32.222 +08:00] [INFO] [stats_syncload.go:216] ["SubLoadWorker exited."]
[2024/05/15 17:19:32.222 +08:00] [INFO] [mock.go:106] ["owner manager is canceled"] [category=ddl] [ID=c9117603-7ceb-489f-8dcd-61c3d19efb05] [ownerKey=/tidb/stats/owner]
[2024/05/15 17:19:32.222 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=quitStatsOwner]
[2024/05/15 17:19:32.222 +08:00] [INFO] [domain.go:2361] ["indexUsageWorker exited."]
[2024/05/15 17:19:32.222 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=indexUsageWorker]
[2024/05/15 17:19:32.222 +08:00] [INFO] [domain.go:2082] ["dumpFileGcChecker exited."]
[2024/05/15 17:19:32.222 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=dumpFileGcChecker]
[2024/05/15 17:19:32.222 +08:00] [INFO] [domain.go:1758] ["LoadSysVarCacheLoop exited."]
[2024/05/15 17:19:32.222 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=LoadSysVarCacheLoop]
[2024/05/15 17:19:32.222 +08:00] [INFO] [domain.go:1708] ["loadPrivilegeInLoop exited."]
[2024/05/15 17:19:32.222 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=loadPrivilegeInLoop]
[2024/05/15 17:19:32.222 +08:00] [INFO] [mock.go:106] ["owner manager is canceled"] [category=ddl] [ID=c9117603-7ceb-489f-8dcd-61c3d19efb05] [ownerKey=/tidb/bindinfo/owner]
[2024/05/15 17:19:32.222 +08:00] [INFO] [domain.go:1897] ["globalBindHandleWorkerLoop exited."]
[2024/05/15 17:19:32.222 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=globalBindHandleWorkerLoop]
[2024/05/15 17:19:32.222 +08:00] [INFO] [domain.go:769] ["topologySyncerKeeper exited."]
[2024/05/15 17:19:32.222 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=topologySyncerKeeper]
[2024/05/15 17:19:32.223 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=runawayStartLoop]
[2024/05/15 17:19:32.223 +08:00] [INFO] [domain.go:745] ["globalConfigSyncerKeeper exited."]
[2024/05/15 17:19:32.223 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=globalConfigSyncerKeeper]
[2024/05/15 17:19:32.223 +08:00] [INFO] [domain.go:719] ["infoSyncerKeeper exited."]
[2024/05/15 17:19:32.223 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=infoSyncerKeeper]
[2024/05/15 17:19:32.223 +08:00] [INFO] [domain.go:691] ["topNSlowQueryLoop exited."]
[2024/05/15 17:19:32.223 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=topNSlowQueryLoop]
[2024/05/15 17:19:32.223 +08:00] [INFO] [domain.go:1369] ["closestReplicaReadCheckLoop exited."]
[2024/05/15 17:19:32.223 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=closestReplicaReadCheckLoop]
[2024/05/15 17:19:32.223 +08:00] [INFO] [manager.go:179] ["handle tasks loop done"] [server-id=:4000]
[2024/05/15 17:19:32.223 +08:00] [INFO] [domain.go:1537] ["dist task executor manager stopped"]
[2024/05/15 17:19:32.223 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=distTaskFrameworkLoop]
[2024/05/15 17:19:32.223 +08:00] [INFO] [domain.go:1082] ["domain closed"] ["take time"=1.369084ms]
[2024/05/15 17:19:32.229 +08:00] [INFO] [db.go:567] ["Closing database"]
[2024/05/15 17:19:32.229 +08:00] [INFO] [db.go:592] ["Memtable flushed"]
[2024/05/15 17:19:32.229 +08:00] [INFO] [db.go:596] ["Compaction finished"]
[2024/05/15 17:19:32.229 +08:00] [INFO] [db.go:615] ["BlobManager finished"]
[2024/05/15 17:19:32.229 +08:00] [INFO] [db.go:619] ["ResourceManager finished"]
[2024/05/15 17:19:32.229 +08:00] [INFO] [db.go:625] ["Waiting for closer"]
--- FAIL: TestShowStatusSnapshot (1.31s)
    testkit.go:273: 
        	Error Trace:	/Users/bba/pc/tidb/pkg/testkit/testkit.go:273
        	            				/Users/bba/pc/tidb/pkg/testkit/testkit.go:198
        	            				/Users/bba/pc/tidb/pkg/testkit/testkit.go:173
        	            				/Users/bba/pc/tidb/pkg/executor/show_stats_test.go:302
        	Error:      	Received unexpected error:
        	            	t not found in tbl2
        	            	github.com/pingcap/tidb/pkg/util.GetRecoverError
        	            		/Users/bba/pc/tidb/pkg/util/util.go:306
        	            	github.com/pingcap/tidb/pkg/executor/internal/exec.Next.func1
        	            		/Users/bba/pc/tidb/pkg/executor/internal/exec/executor.go:394
        	            	runtime.gopanic
        	            		/Users/bba/.gvm/gos/go1.21.0/src/runtime/panic.go:914
        	            	github.com/pingcap/tidb/pkg/infoschema.(*infoschemaV3).SchemaTablesWithTs
        	            		/Users/bba/pc/tidb/pkg/infoschema/infoschema_v3.go:261
        	            	github.com/pingcap/tidb/pkg/infoschema.(*WithTS).SchemaTables
        	            		/Users/bba/pc/tidb/pkg/infoschema/cache.go:289
        	            	github.com/pingcap/tidb/pkg/executor.(*memtableRetriever).setDataFromTables
        	            		/Users/bba/pc/tidb/pkg/executor/infoschema_reader.go:564
        	            	github.com/pingcap/tidb/pkg/executor.(*memtableRetriever).retrieve
        	            		/Users/bba/pc/tidb/pkg/executor/infoschema_reader.go:126
        	            	github.com/pingcap/tidb/pkg/executor.(*MemTableReaderExec).Next
        	            		/Users/bba/pc/tidb/pkg/executor/memtable_reader.go:120
        	            	github.com/pingcap/tidb/pkg/executor/internal/exec.Next
        	            		/Users/bba/pc/tidb/pkg/executor/internal/exec/executor.go:410
        	            	github.com/pingcap/tidb/pkg/executor.(*projectionInputFetcher).run
        	            		/Users/bba/pc/tidb/pkg/executor/projection.go:390
        	            	runtime.goexit
        	            		/Users/bba/.gvm/gos/go1.21.0/src/runtime/asm_arm64.s:1197
        	Test:       	TestShowStatusSnapshot
        	Messages:   	sql:show table status;, args:[]
FAIL
[FAIL]  pkg/ddl TestRepairTableWithPartition
err=exit status 1
[2024/05/15 17:20:50.959 +08:00] [INFO] [store_cache.go:510] ["change store resolve state"] [store=1] [addr=store1] [from=unresolved] [to=resolved] [liveness-state=reachable]
[2024/05/15 17:20:50.964 +08:00] [INFO] [ddl_api.go:1139] ["Automatically convert BLOB(65535) to MEDIUMBLOB"] [category=ddl]
[2024/05/15 17:20:50.964 +08:00] [INFO] [ddl_api.go:1139] ["Automatically convert BLOB(65535) to MEDIUMBLOB"] [category=ddl]
[2024/05/15 17:20:50.965 +08:00] [INFO] [ddl_api.go:1139] ["Automatically convert BLOB(65535) to MEDIUMBLOB"] [category=ddl]
[2024/05/15 17:20:50.965 +08:00] [INFO] [ddl_api.go:1139] ["Automatically convert BLOB(65535) to MEDIUMBLOB"] [category=ddl]
[2024/05/15 17:20:50.966 +08:00] [INFO] [ddl_api.go:1139] ["Automatically convert BLOB(65535) to MEDIUMBLOB"] [category=ddl]
[2024/05/15 17:20:50.967 +08:00] [INFO] [tidb.go:80] ["new domain"] [store=f2791145-c314-457c-9bc8-cb6fcb04352e] ["ddl lease"=600ms] ["stats lease"=-1ns]
[2024/05/15 17:20:50.972 +08:00] [WARN] [controller.go:198] ["[resource group controller] server does not save config, load config failed"]
[2024/05/15 17:20:50.972 +08:00] [INFO] [controller.go:185] ["load resource controller config"] [config="{\"degraded-mode-wait-duration\":\"0s\",\"ltb-max-wait-duration\":\"30s\",\"wait-retry-interval\":\"50ms\",\"wait-retry-times\":10,\"request-unit\":{\"read-base-cost\":0.125,\"read-per-batch-base-cost\":0.5,\"read-cost-per-byte\":0.0000152587890625,\"write-base-cost\":1,\"write-per-batch-base-cost\":1,\"write-cost-per-byte\":0.0009765625,\"read-cpu-ms-cost\":0.3333333333333333},\"enable-controller-trace-log\":\"false\"}"] [ru-config="{\"ReadBaseCost\":0.125,\"ReadPerBatchBaseCost\":0.5,\"ReadBytesCost\":0.0000152587890625,\"WriteBaseCost\":1,\"WritePerBatchBaseCost\":1,\"WriteBytesCost\":0.0009765625,\"CPUMsCost\":0.3333333333333333,\"LTBMaxWaitDuration\":30000000000,\"WaitRetryInterval\":50000000,\"WaitRetryTimes\":10,\"DegradedModeWaitDuration\":0}"]
[2024/05/15 17:20:50.972 +08:00] [WARN] [domain.go:244] ["failed to get schema version"] [error="There is no Write MVCC info for the schema version"] [errorVerbose="There is no Write MVCC info for the schema version\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).getTimestampForSchemaVersionWithNonEmptyDiff\n\t/Users/bba/pc/tidb/pkg/domain/domain.go:343\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).loadInfoSchema\n\t/Users/bba/pc/tidb/pkg/domain/domain.go:242\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).Reload\n\t/Users/bba/pc/tidb/pkg/domain/domain.go:614\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).Init\n\t/Users/bba/pc/tidb/pkg/domain/domain.go:1268\ngithub.com/pingcap/tidb/pkg/session.(*domainMap).Get.func1\n\t/Users/bba/pc/tidb/pkg/session/tidb.go:92\ngithub.com/pingcap/tidb/pkg/util.RunWithRetry\n\t/Users/bba/pc/tidb/pkg/util/misc.go:70\ngithub.com/pingcap/tidb/pkg/session.(*domainMap).Get\n\t/Users/bba/pc/tidb/pkg/session/tidb.go:79\ngithub.com/pingcap/tidb/pkg/session.createSessionWithOpt\n\t/Users/bba/pc/tidb/pkg/session/session.go:3633\ngithub.com/pingcap/tidb/pkg/session.createSession\n\t/Users/bba/pc/tidb/pkg/session/session.go:3625\ngithub.com/pingcap/tidb/pkg/session.runInBootstrapSession\n\t/Users/bba/pc/tidb/pkg/session/session.go:3575\ngithub.com/pingcap/tidb/pkg/session.bootstrapSessionImpl\n\t/Users/bba/pc/tidb/pkg/session/session.go:3351\ngithub.com/pingcap/tidb/pkg/session.BootstrapSession\n\t/Users/bba/pc/tidb/pkg/session/session.go:3317\ngithub.com/pingcap/tidb/pkg/testkit.bootstrap\n\t/Users/bba/pc/tidb/pkg/testkit/mockstore.go:294\ngithub.com/pingcap/tidb/pkg/testkit.CreateMockStoreAndDomainWithSchemaLease\n\t/Users/bba/pc/tidb/pkg/testkit/mockstore.go:319\ngithub.com/pingcap/tidb/pkg/testkit.CreateMockStoreWithSchemaLease\n\t/Users/bba/pc/tidb/pkg/testkit/mockstore.go:311\ngithub.com/pingcap/tidb/pkg/ddl_test.TestRepairTableWithPartition\n\t/Users/bba/pc/tidb/pkg/ddl/repair_table_test.go:171\ntesting.tRunner\n\t/Users/bba/.gvm/gos/go1.21.0/src/testing/testing.go:1595\nruntime.goexit\n\t/Users/bba/.gvm/gos/go1.21.0/src/runtime/asm_arm64.s:1197"] [version=0]
[2024/05/15 17:20:50.980 +08:00] [INFO] [domain.go:323] ["full load InfoSchema success"] [currentSchemaVersion=0] [neededSchemaVersion=0] ["start time"=7.759459ms]
[2024/05/15 17:20:50.981 +08:00] [INFO] [domain.go:643] ["full load and reset schema validator"]
[2024/05/15 17:20:50.981 +08:00] [INFO] [ddl.go:818] ["start DDL"] [category=ddl] [ID=3a3a61c8-9d27-419d-9365-24f661b83692] [runWorker=true]
[2024/05/15 17:20:50.981 +08:00] [INFO] [ddl.go:777] ["start delRangeManager OK"] [category=ddl] ["is a emulator"=true]
[2024/05/15 17:20:50.981 +08:00] [WARN] [env.go:51] ["initialize environment failed"] [category=ddl-ingest] ["storage limitation"="only support TiKV storage"] ["current storage"=unistore] ["lightning is initialized"=false]
[2024/05/15 17:20:50.981 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=loadSchemaInLoop]
[2024/05/15 17:20:50.981 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=mdlCheckLoop]
[2024/05/15 17:20:50.981 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=topNSlowQueryLoop]
[2024/05/15 17:20:50.981 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=infoSyncerKeeper]
[2024/05/15 17:20:50.981 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=globalConfigSyncerKeeper]
[2024/05/15 17:20:50.981 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=runawayStartLoop]
[2024/05/15 17:20:50.981 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=requestUnitsWriterLoop]
[2024/05/15 17:20:50.981 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=topologySyncerKeeper]
[2024/05/15 17:20:50.981 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=closestReplicaReadCheckLoop]
[2024/05/15 17:20:50.981 +08:00] [WARN] [domain.go:1334] ["pd / etcd client not provided, won't begin Advancer."]
[2024/05/15 17:20:50.984 +08:00] [INFO] [delete_range.go:172] ["start delRange emulator"] [category=ddl]
[2024/05/15 17:20:50.984 +08:00] [INFO] [job_table.go:334] ["get global state and global state change"] [category=ddl] [oldState=false] [currState=false]
[2024/05/15 17:20:50.984 +08:00] [INFO] [runaway.go:149] ["try to start runaway manager loop"]
[2024/05/15 17:20:50.984 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=requestUnitsWriterLoop]
[2024/05/15 17:20:51.034 +08:00] [INFO] [job_table.go:334] ["get global state and global state change"] [category=ddl] [oldState=false] [currState=false]
[2024/05/15 17:20:51.034 +08:00] [INFO] [job_table.go:349] ["the owner sets owner operator value"] [category=ddl] [ownerOp=none]
[2024/05/15 17:20:51.185 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=0] [cur_db=mysql] [sql="CREATE DATABASE IF NOT EXISTS test"] [user=]
[2024/05/15 17:20:51.187 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:3, Type:create schema, State:queueing, SchemaState:none, SchemaID:2, TableID:0, RowCount:0, ArgLen:1, start time: 2024-05-15 17:20:51.186 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:20:51.187 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:3, Type:create schema, State:queueing, SchemaState:none, SchemaID:2, TableID:0, RowCount:0, ArgLen:1, start time: 2024-05-15 17:20:51.186 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE DATABASE IF NOT EXISTS test"]
[2024/05/15 17:20:51.196 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=3] [category=ddl] [job="ID:3, Type:create schema, State:queueing, SchemaState:none, SchemaID:2, TableID:0, RowCount:0, ArgLen:0, start time: 2024-05-15 17:20:51.186 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:20:51.206 +08:00] [INFO] [domain.go:323] ["full load InfoSchema success"] [currentSchemaVersion=0] [neededSchemaVersion=1] ["start time"=8.769208ms]
[2024/05/15 17:20:51.207 +08:00] [INFO] [domain.go:643] ["full load and reset schema validator"]
[2024/05/15 17:20:51.208 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:20:51.208 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=3] [version=1]
[2024/05/15 17:20:51.208 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=1] ["take time"=10.5165ms] [job="ID:3, Type:create schema, State:done, SchemaState:public, SchemaID:2, TableID:0, RowCount:0, ArgLen:1, start time: 2024-05-15 17:20:51.186 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:20:51.211 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=3] [job="ID:3, Type:create schema, State:synced, SchemaState:public, SchemaID:2, TableID:0, RowCount:0, ArgLen:0, start time: 2024-05-15 17:20:51.186 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:20:51.212 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=3]
[2024/05/15 17:20:51.212 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:20:51.212 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=1] [cur_db=mysql] [sql="CREATE DATABASE IF NOT EXISTS `mysql`"] [user=]
[2024/05/15 17:20:51.213 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=1] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.user (\n\t\tHost\t\t\t\t\tCHAR(255),\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tauthentication_string\tTEXT,\n\t\tplugin\t\t\t\t\tCHAR(64),\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tProcess_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_db_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tSuper_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_user_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_slave_priv\t    \tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_client_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_role_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_role_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAccount_locked\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShutdown_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReload_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tFILE_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tConfig_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_Tablespace_Priv  ENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPassword_reuse_history  smallint unsigned DEFAULT NULL,\n\t\tPassword_reuse_time     smallint unsigned DEFAULT NULL,\n\t\tUser_attributes\t\t\tjson,\n\t\tToken_issuer\t\t\tVARCHAR(255),\n\t\tPassword_expired\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPassword_last_changed\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP(),\n\t\tPassword_lifetime\t\tSMALLINT UNSIGNED DEFAULT NULL,\n\t\tPRIMARY KEY (Host, User));"] [user=]
[2024/05/15 17:20:51.215 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:5, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:4, RowCount:0, ArgLen:2, start time: 2024-05-15 17:20:51.214 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:20:51.215 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:5, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:4, RowCount:0, ArgLen:2, start time: 2024-05-15 17:20:51.214 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.user (\n\t\tHost\t\t\t\t\tCHAR(255),\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tauthentication_string\tTEXT,\n\t\tplugin\t\t\t\t\tCHAR(64),\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tProcess_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_db_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tSuper_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_user_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_slave_priv\t    \tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_client_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_role_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_role_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAccount_locked\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShutdown_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReload_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tFILE_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tConfig_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_Tablespace_Priv  ENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPassword_reuse_history  smallint unsigned DEFAULT NULL,\n\t\tPassword_reuse_time     smallint unsigned DEFAULT NULL,\n\t\tUser_attributes\t\t\tjson,\n\t\tToken_issuer\t\t\tVARCHAR(255),\n\t\tPassword_expired\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPassword_last_changed\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP(),\n\t\tPassword_lifetime\t\tSMALLINT UNSIGNED DEFAULT NULL,\n\t\tPRIMARY KEY (Host, User));"]
[2024/05/15 17:20:51.220 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=5] [category=ddl] [job="ID:5, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:4, RowCount:0, ArgLen:0, start time: 2024-05-15 17:20:51.214 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:20:51.224 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=1] [neededSchemaVersion=2] ["start time"=871.292s] [gotSchemaVersion=2] [phyTblIDs="[4]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:20:51.225 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:20:51.225 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=5] [version=2]
[2024/05/15 17:20:51.226 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=2] ["take time"=3.037792ms] [job="ID:5, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:4, RowCount:0, ArgLen:2, start time: 2024-05-15 17:20:51.214 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:20:51.231 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=5] [job="ID:5, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:4, RowCount:0, ArgLen:0, start time: 2024-05-15 17:20:51.214 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:20:51.234 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=5]
[2024/05/15 17:20:51.234 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:20:51.235 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=2] [cur_db=mysql] [sql="CREATE TABLE  IF NOT EXISTS mysql.password_history (\n         Host char(255)  NOT NULL DEFAULT '',\n         User char(32)  NOT NULL DEFAULT '',\n         Password_timestamp timestamp(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6),\n         Password text,\n         PRIMARY KEY (Host,User,Password_timestamp )\n        ) COMMENT='Password history for user accounts' "] [user=]
[2024/05/15 17:20:51.236 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:7, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:6, RowCount:0, ArgLen:2, start time: 2024-05-15 17:20:51.236 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:20:51.236 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:7, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:6, RowCount:0, ArgLen:2, start time: 2024-05-15 17:20:51.236 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE  IF NOT EXISTS mysql.password_history (\n         Host char(255)  NOT NULL DEFAULT '',\n         User char(32)  NOT NULL DEFAULT '',\n         Password_timestamp timestamp(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6),\n         Password text,\n         PRIMARY KEY (Host,User,Password_timestamp )\n        ) COMMENT='Password history for user accounts' "]
[2024/05/15 17:20:51.244 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=7] [category=ddl] [job="ID:7, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:6, RowCount:0, ArgLen:0, start time: 2024-05-15 17:20:51.236 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:20:51.247 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=2] [neededSchemaVersion=3] ["start time"=280.958s] [gotSchemaVersion=3] [phyTblIDs="[6]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:20:51.248 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:20:51.248 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=7] [version=3]
[2024/05/15 17:20:51.252 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=3] ["take time"=5.246125ms] [job="ID:7, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:6, RowCount:0, ArgLen:2, start time: 2024-05-15 17:20:51.236 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:20:51.260 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=7] [job="ID:7, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:6, RowCount:0, ArgLen:0, start time: 2024-05-15 17:20:51.236 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:20:51.262 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=7]
[2024/05/15 17:20:51.262 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:20:51.262 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=3] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.global_priv (Host CHAR(255) NOT NULL DEFAULT '',User CHAR(80) NOT NULL DEFAULT '',Priv LONGTEXT NOT NULL DEFAULT '',PRIMARY KEY (Host, User))"] [user=]
[2024/05/15 17:20:51.263 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:9, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:8, RowCount:0, ArgLen:2, start time: 2024-05-15 17:20:51.263 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:20:51.263 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:9, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:8, RowCount:0, ArgLen:2, start time: 2024-05-15 17:20:51.263 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.global_priv (Host CHAR(255) NOT NULL DEFAULT '',User CHAR(80) NOT NULL DEFAULT '',Priv LONGTEXT NOT NULL DEFAULT '',PRIMARY KEY (Host, User))"]
[2024/05/15 17:20:51.268 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=9] [category=ddl] [job="ID:9, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:8, RowCount:0, ArgLen:0, start time: 2024-05-15 17:20:51.263 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:20:51.269 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=3] [neededSchemaVersion=4] ["start time"=205.292s] [gotSchemaVersion=4] [phyTblIDs="[8]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:20:51.270 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:20:51.270 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=9] [version=4]
[2024/05/15 17:20:51.271 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=4] ["take time"=2.295958ms] [job="ID:9, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:8, RowCount:0, ArgLen:2, start time: 2024-05-15 17:20:51.263 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:20:51.276 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=9] [job="ID:9, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:8, RowCount:0, ArgLen:0, start time: 2024-05-15 17:20:51.263 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:20:51.277 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=9]
[2024/05/15 17:20:51.277 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:20:51.278 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=4] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.db (\n\t\tHost\t\t\t\t\tCHAR(255),\n\t\tDB\t\t\t\t\t\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv \t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (Host, DB, User));"] [user=]
[2024/05/15 17:20:51.279 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:11, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:10, RowCount:0, ArgLen:2, start time: 2024-05-15 17:20:51.278 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:20:51.279 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:11, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:10, RowCount:0, ArgLen:2, start time: 2024-05-15 17:20:51.278 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.db (\n\t\tHost\t\t\t\t\tCHAR(255),\n\t\tDB\t\t\t\t\t\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv \t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (Host, DB, User));"]
[2024/05/15 17:20:51.283 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=11] [category=ddl] [job="ID:11, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:10, RowCount:0, ArgLen:0, start time: 2024-05-15 17:20:51.278 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:20:51.286 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=4] [neededSchemaVersion=5] ["start time"=503.625s] [gotSchemaVersion=5] [phyTblIDs="[10]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:20:51.287 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:20:51.287 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=11] [version=5]
[2024/05/15 17:20:51.288 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=5] ["take time"=2.854209ms] [job="ID:11, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:10, RowCount:0, ArgLen:2, start time: 2024-05-15 17:20:51.278 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:20:51.293 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=11] [job="ID:11, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:10, RowCount:0, ArgLen:0, start time: 2024-05-15 17:20:51.278 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:20:51.295 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=11]
[2024/05/15 17:20:51.295 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:20:51.295 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=5] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tables_priv (\n\t\tHost\t\tCHAR(255),\n\t\tDB\t\t\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tGrantor\t\tCHAR(77),\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tTable_priv\tSET('Select','Insert','Update','Delete','Create','Drop','Grant','Index','Alter','Create View','Show View','Trigger','References'),\n\t\tColumn_priv\tSET('Select','Insert','Update','References'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name));"] [user=]
[2024/05/15 17:20:51.296 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:13, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:12, RowCount:0, ArgLen:2, start time: 2024-05-15 17:20:51.296 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:20:51.296 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:13, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:12, RowCount:0, ArgLen:2, start time: 2024-05-15 17:20:51.296 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tables_priv (\n\t\tHost\t\tCHAR(255),\n\t\tDB\t\t\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tGrantor\t\tCHAR(77),\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tTable_priv\tSET('Select','Insert','Update','Delete','Create','Drop','Grant','Index','Alter','Create View','Show View','Trigger','References'),\n\t\tColumn_priv\tSET('Select','Insert','Update','References'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name));"]
[2024/05/15 17:20:51.300 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=13] [category=ddl] [job="ID:13, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:12, RowCount:0, ArgLen:0, start time: 2024-05-15 17:20:51.296 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:20:51.302 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=5] [neededSchemaVersion=6] ["start time"=279.833s] [gotSchemaVersion=6] [phyTblIDs="[12]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:20:51.303 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:20:51.303 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=13] [version=6]
[2024/05/15 17:20:51.304 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=6] ["take time"=2.235667ms] [job="ID:13, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:12, RowCount:0, ArgLen:2, start time: 2024-05-15 17:20:51.296 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:20:51.309 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=13] [job="ID:13, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:12, RowCount:0, ArgLen:0, start time: 2024-05-15 17:20:51.296 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:20:51.311 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=13]
[2024/05/15 17:20:51.311 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:20:51.311 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=6] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.columns_priv(\n\t\tHost\t\tCHAR(255),\n\t\tDB\t\t\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tColumn_name\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tColumn_priv\tSET('Select','Insert','Update','References'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name, Column_name));"] [user=]
[2024/05/15 17:20:51.312 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:15, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:14, RowCount:0, ArgLen:2, start time: 2024-05-15 17:20:51.312 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:20:51.312 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:15, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:14, RowCount:0, ArgLen:2, start time: 2024-05-15 17:20:51.312 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.columns_priv(\n\t\tHost\t\tCHAR(255),\n\t\tDB\t\t\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tColumn_name\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tColumn_priv\tSET('Select','Insert','Update','References'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name, Column_name));"]
[2024/05/15 17:20:51.317 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=15] [category=ddl] [job="ID:15, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:14, RowCount:0, ArgLen:0, start time: 2024-05-15 17:20:51.312 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:20:51.319 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=6] [neededSchemaVersion=7] ["start time"=263.542s] [gotSchemaVersion=7] [phyTblIDs="[14]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:20:51.319 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:20:51.319 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=15] [version=7]
[2024/05/15 17:20:51.320 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=7] ["take time"=2.089666ms] [job="ID:15, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:14, RowCount:0, ArgLen:2, start time: 2024-05-15 17:20:51.312 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:20:51.325 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=15] [job="ID:15, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:14, RowCount:0, ArgLen:0, start time: 2024-05-15 17:20:51.312 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:20:51.327 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=15]
[2024/05/15 17:20:51.327 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:20:51.327 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=7] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.GLOBAL_VARIABLES(\n\t\tVARIABLE_NAME  VARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE VARCHAR(16383) DEFAULT NULL);"] [user=]
[2024/05/15 17:20:51.328 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:17, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:16, RowCount:0, ArgLen:2, start time: 2024-05-15 17:20:51.328 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:20:51.328 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:17, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:16, RowCount:0, ArgLen:2, start time: 2024-05-15 17:20:51.328 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.GLOBAL_VARIABLES(\n\t\tVARIABLE_NAME  VARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE VARCHAR(16383) DEFAULT NULL);"]
[2024/05/15 17:20:51.333 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=17] [category=ddl] [job="ID:17, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:16, RowCount:0, ArgLen:0, start time: 2024-05-15 17:20:51.328 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:20:51.334 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=7] [neededSchemaVersion=8] ["start time"=162.167s] [gotSchemaVersion=8] [phyTblIDs="[16]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:20:51.335 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:20:51.335 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=17] [version=8]
[2024/05/15 17:20:51.336 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=8] ["take time"=2.073833ms] [job="ID:17, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:16, RowCount:0, ArgLen:2, start time: 2024-05-15 17:20:51.328 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:20:51.340 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=17] [job="ID:17, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:16, RowCount:0, ArgLen:0, start time: 2024-05-15 17:20:51.328 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:20:51.342 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=17]
[2024/05/15 17:20:51.342 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:20:51.342 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=8] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb(\n\t\tVARIABLE_NAME  \tVARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE \tVARCHAR(1024) DEFAULT NULL,\n\t\tCOMMENT \t\tVARCHAR(1024));"] [user=]
[2024/05/15 17:20:51.344 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:19, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:18, RowCount:0, ArgLen:2, start time: 2024-05-15 17:20:51.343 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:20:51.344 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:19, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:18, RowCount:0, ArgLen:2, start time: 2024-05-15 17:20:51.343 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb(\n\t\tVARIABLE_NAME  \tVARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE \tVARCHAR(1024) DEFAULT NULL,\n\t\tCOMMENT \t\tVARCHAR(1024));"]
[2024/05/15 17:20:51.348 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=19] [category=ddl] [job="ID:19, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:18, RowCount:0, ArgLen:0, start time: 2024-05-15 17:20:51.343 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:20:51.350 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=8] [neededSchemaVersion=9] ["start time"=182.167s] [gotSchemaVersion=9] [phyTblIDs="[18]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:20:51.351 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:20:51.351 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=19] [version=9]
[2024/05/15 17:20:51.352 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=9] ["take time"=2.105583ms] [job="ID:19, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:18, RowCount:0, ArgLen:2, start time: 2024-05-15 17:20:51.343 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:20:51.356 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=19] [job="ID:19, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:18, RowCount:0, ArgLen:0, start time: 2024-05-15 17:20:51.343 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:20:51.358 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=19]
[2024/05/15 17:20:51.358 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:20:51.359 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=9] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.help_topic (\n  \t\thelp_topic_id \t\tINT(10) UNSIGNED NOT NULL,\n  \t\tname \t\t\t\tCHAR(64) NOT NULL,\n  \t\thelp_category_id \tSMALLINT(5) UNSIGNED NOT NULL,\n  \t\tdescription \t\tTEXT NOT NULL,\n  \t\texample \t\t\tTEXT NOT NULL,\n  \t\turl \t\t\t\tTEXT NOT NULL,\n  \t\tPRIMARY KEY (help_topic_id) clustered,\n  \t\tUNIQUE KEY name (name)\n\t\t) ENGINE=InnoDB DEFAULT CHARSET=utf8 STATS_PERSISTENT=0 COMMENT='help topics';"] [user=]
[2024/05/15 17:20:51.361 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:21, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:20, RowCount:0, ArgLen:2, start time: 2024-05-15 17:20:51.36 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:20:51.361 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:21, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:20, RowCount:0, ArgLen:2, start time: 2024-05-15 17:20:51.36 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.help_topic (\n  \t\thelp_topic_id \t\tINT(10) UNSIGNED NOT NULL,\n  \t\tname \t\t\t\tCHAR(64) NOT NULL,\n  \t\thelp_category_id \tSMALLINT(5) UNSIGNED NOT NULL,\n  \t\tdescription \t\tTEXT NOT NULL,\n  \t\texample \t\t\tTEXT NOT NULL,\n  \t\turl \t\t\t\tTEXT NOT NULL,\n  \t\tPRIMARY KEY (help_topic_id) clustered,\n  \t\tUNIQUE KEY name (name)\n\t\t) ENGINE=InnoDB DEFAULT CHARSET=utf8 STATS_PERSISTENT=0 COMMENT='help topics';"]
[2024/05/15 17:20:51.365 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=21] [category=ddl] [job="ID:21, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:20, RowCount:0, ArgLen:0, start time: 2024-05-15 17:20:51.36 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:20:51.367 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=9] [neededSchemaVersion=10] ["start time"=216.167s] [gotSchemaVersion=10] [phyTblIDs="[20]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:20:51.367 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:20:51.367 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=21] [version=10]
[2024/05/15 17:20:51.369 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=10] ["take time"=2.002583ms] [job="ID:21, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:20, RowCount:0, ArgLen:2, start time: 2024-05-15 17:20:51.36 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:20:51.372 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=21] [job="ID:21, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:20, RowCount:0, ArgLen:0, start time: 2024-05-15 17:20:51.36 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:20:51.374 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=21]
[2024/05/15 17:20:51.374 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:20:51.375 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=10] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_meta (\n\t\tversion \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\ttable_id \t\tBIGINT(64) NOT NULL,\n\t\tmodify_count\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcount \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tsnapshot        BIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tINDEX idx_ver(version),\n\t\tUNIQUE INDEX tbl(table_id)\n\t);"] [user=]
[2024/05/15 17:20:51.376 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:23, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:22, RowCount:0, ArgLen:2, start time: 2024-05-15 17:20:51.375 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:20:51.376 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:23, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:22, RowCount:0, ArgLen:2, start time: 2024-05-15 17:20:51.375 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_meta (\n\t\tversion \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\ttable_id \t\tBIGINT(64) NOT NULL,\n\t\tmodify_count\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcount \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tsnapshot        BIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tINDEX idx_ver(version),\n\t\tUNIQUE INDEX tbl(table_id)\n\t);"]
[2024/05/15 17:20:51.380 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=23] [category=ddl] [job="ID:23, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:22, RowCount:0, ArgLen:0, start time: 2024-05-15 17:20:51.375 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:20:51.382 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=10] [neededSchemaVersion=11] ["start time"=229.709s] [gotSchemaVersion=11] [phyTblIDs="[22]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:20:51.383 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:20:51.383 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=23] [version=11]
[2024/05/15 17:20:51.384 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=11] ["take time"=2.163875ms] [job="ID:23, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:22, RowCount:0, ArgLen:2, start time: 2024-05-15 17:20:51.375 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:20:51.388 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=23] [job="ID:23, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:22, RowCount:0, ArgLen:0, start time: 2024-05-15 17:20:51.375 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:20:51.390 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=23]
[2024/05/15 17:20:51.390 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:20:51.390 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=11] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_histograms (\n\t\ttable_id \t\t\tBIGINT(64) NOT NULL,\n\t\tis_index \t\t\tTINYINT(2) NOT NULL,\n\t\thist_id \t\t\tBIGINT(64) NOT NULL,\n\t\tdistinct_count \t\tBIGINT(64) NOT NULL,\n\t\tnull_count \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\ttot_col_size \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tmodify_count \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tversion \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tcm_sketch \t\t\tBLOB(6291456),\n\t\tstats_ver \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tflag \t\t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcorrelation \t\tDOUBLE NOT NULL DEFAULT 0,\n\t\tlast_analyze_pos \tLONGBLOB DEFAULT NULL,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id)\n\t);"] [user=]
[2024/05/15 17:20:51.390 +08:00] [INFO] [ddl_api.go:1139] ["Automatically convert BLOB(6291456) to MEDIUMBLOB"] [category=ddl]
[2024/05/15 17:20:51.392 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:25, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:24, RowCount:0, ArgLen:2, start time: 2024-05-15 17:20:51.391 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:20:51.392 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:25, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:24, RowCount:0, ArgLen:2, start time: 2024-05-15 17:20:51.391 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_histograms (\n\t\ttable_id \t\t\tBIGINT(64) NOT NULL,\n\t\tis_index \t\t\tTINYINT(2) NOT NULL,\n\t\thist_id \t\t\tBIGINT(64) NOT NULL,\n\t\tdistinct_count \t\tBIGINT(64) NOT NULL,\n\t\tnull_count \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\ttot_col_size \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tmodify_count \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tversion \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tcm_sketch \t\t\tBLOB(6291456),\n\t\tstats_ver \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tflag \t\t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcorrelation \t\tDOUBLE NOT NULL DEFAULT 0,\n\t\tlast_analyze_pos \tLONGBLOB DEFAULT NULL,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id)\n\t);"]
[2024/05/15 17:20:51.396 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=25] [category=ddl] [job="ID:25, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:24, RowCount:0, ArgLen:0, start time: 2024-05-15 17:20:51.391 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:20:51.398 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=11] [neededSchemaVersion=12] ["start time"=356.083s] [gotSchemaVersion=12] [phyTblIDs="[24]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:20:51.399 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:20:51.399 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=25] [version=12]
[2024/05/15 17:20:51.400 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=12] ["take time"=2.096875ms] [job="ID:25, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:24, RowCount:0, ArgLen:2, start time: 2024-05-15 17:20:51.391 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:20:51.404 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=25] [job="ID:25, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:24, RowCount:0, ArgLen:0, start time: 2024-05-15 17:20:51.391 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:20:51.406 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=25]
[2024/05/15 17:20:51.406 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:20:51.406 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=12] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_buckets (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tbucket_id \tBIGINT(64) NOT NULL,\n\t\tcount \t\tBIGINT(64) NOT NULL,\n\t\trepeats \tBIGINT(64) NOT NULL,\n\t\tupper_bound LONGBLOB NOT NULL,\n\t\tlower_bound LONGBLOB ,\n\t\tndv         BIGINT NOT NULL DEFAULT 0,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id, bucket_id)\n\t);"] [user=]
[2024/05/15 17:20:51.408 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:27, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:26, RowCount:0, ArgLen:2, start time: 2024-05-15 17:20:51.407 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:20:51.408 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:27, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:26, RowCount:0, ArgLen:2, start time: 2024-05-15 17:20:51.407 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_buckets (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tbucket_id \tBIGINT(64) NOT NULL,\n\t\tcount \t\tBIGINT(64) NOT NULL,\n\t\trepeats \tBIGINT(64) NOT NULL,\n\t\tupper_bound LONGBLOB NOT NULL,\n\t\tlower_bound LONGBLOB ,\n\t\tndv         BIGINT NOT NULL DEFAULT 0,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id, bucket_id)\n\t);"]
[2024/05/15 17:20:51.413 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=27] [category=ddl] [job="ID:27, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:26, RowCount:0, ArgLen:0, start time: 2024-05-15 17:20:51.407 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:20:51.415 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=12] [neededSchemaVersion=13] ["start time"=282.333s] [gotSchemaVersion=13] [phyTblIDs="[26]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:20:51.416 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:20:51.416 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=27] [version=13]
[2024/05/15 17:20:51.417 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=13] ["take time"=2.248209ms] [job="ID:27, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:26, RowCount:0, ArgLen:2, start time: 2024-05-15 17:20:51.407 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:20:51.421 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=27] [job="ID:27, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:26, RowCount:0, ArgLen:0, start time: 2024-05-15 17:20:51.407 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:20:51.423 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=27]
[2024/05/15 17:20:51.423 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:20:51.424 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=13] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_index (job_id, element_id)\n\t);"] [user=]
[2024/05/15 17:20:51.425 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:29, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:28, RowCount:0, ArgLen:2, start time: 2024-05-15 17:20:51.425 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:20:51.425 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:29, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:28, RowCount:0, ArgLen:2, start time: 2024-05-15 17:20:51.425 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_index (job_id, element_id)\n\t);"]
[2024/05/15 17:20:51.429 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=29] [category=ddl] [job="ID:29, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:28, RowCount:0, ArgLen:0, start time: 2024-05-15 17:20:51.425 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:20:51.430 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=13] [neededSchemaVersion=14] ["start time"=209.375s] [gotSchemaVersion=14] [phyTblIDs="[28]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:20:51.431 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:20:51.431 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=29] [version=14]
[2024/05/15 17:20:51.432 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=14] ["take time"=2.055958ms] [job="ID:29, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:28, RowCount:0, ArgLen:2, start time: 2024-05-15 17:20:51.425 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:20:51.436 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=29] [job="ID:29, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:28, RowCount:0, ArgLen:0, start time: 2024-05-15 17:20:51.425 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:20:51.438 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=29]
[2024/05/15 17:20:51.438 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:20:51.438 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=14] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range_done (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_done_index (job_id, element_id)\n\t);"] [user=]
[2024/05/15 17:20:51.439 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:31, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:30, RowCount:0, ArgLen:2, start time: 2024-05-15 17:20:51.439 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:20:51.439 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:31, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:30, RowCount:0, ArgLen:2, start time: 2024-05-15 17:20:51.439 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range_done (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_done_index (job_id, element_id)\n\t);"]
[2024/05/15 17:20:51.444 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=31] [category=ddl] [job="ID:31, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:30, RowCount:0, ArgLen:0, start time: 2024-05-15 17:20:51.439 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:20:51.446 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=14] [neededSchemaVersion=15] ["start time"=237.667s] [gotSchemaVersion=15] [phyTblIDs="[30]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:20:51.447 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:20:51.447 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=31] [version=15]
[2024/05/15 17:20:51.449 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=15] ["take time"=3.296041ms] [job="ID:31, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:30, RowCount:0, ArgLen:2, start time: 2024-05-15 17:20:51.439 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:20:51.457 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=31] [job="ID:31, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:30, RowCount:0, ArgLen:0, start time: 2024-05-15 17:20:51.439 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:20:51.460 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=31]
[2024/05/15 17:20:51.460 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:20:51.460 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=15] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_feedback (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tfeedback \tBLOB NOT NULL,\n\t\tINDEX hist(table_id, is_index, hist_id)\n\t);"] [user=]
[2024/05/15 17:20:51.463 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:33, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:32, RowCount:0, ArgLen:2, start time: 2024-05-15 17:20:51.462 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:20:51.463 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:33, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:32, RowCount:0, ArgLen:2, start time: 2024-05-15 17:20:51.462 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_feedback (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tfeedback \tBLOB NOT NULL,\n\t\tINDEX hist(table_id, is_index, hist_id)\n\t);"]
[2024/05/15 17:20:51.473 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=33] [category=ddl] [job="ID:33, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:32, RowCount:0, ArgLen:0, start time: 2024-05-15 17:20:51.462 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:20:51.475 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=15] [neededSchemaVersion=16] ["start time"=285.209s] [gotSchemaVersion=16] [phyTblIDs="[32]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:20:51.476 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:20:51.476 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=33] [version=16]
[2024/05/15 17:20:51.477 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=16] ["take time"=2.546375ms] [job="ID:33, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:32, RowCount:0, ArgLen:2, start time: 2024-05-15 17:20:51.462 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:20:51.486 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=33] [job="ID:33, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:32, RowCount:0, ArgLen:0, start time: 2024-05-15 17:20:51.462 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:20:51.488 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=33]
[2024/05/15 17:20:51.488 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:20:51.488 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=16] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.role_edges (\n\t\tFROM_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tFROM_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tWITH_ADMIN_OPTION \tENUM('N','Y') CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (FROM_HOST,FROM_USER,TO_HOST,TO_USER)\n\t);"] [user=]
[2024/05/15 17:20:51.490 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:35, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:34, RowCount:0, ArgLen:2, start time: 2024-05-15 17:20:51.489 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:20:51.490 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:35, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:34, RowCount:0, ArgLen:2, start time: 2024-05-15 17:20:51.489 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.role_edges (\n\t\tFROM_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tFROM_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tWITH_ADMIN_OPTION \tENUM('N','Y') CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (FROM_HOST,FROM_USER,TO_HOST,TO_USER)\n\t);"]
[2024/05/15 17:20:51.493 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=35] [category=ddl] [job="ID:35, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:34, RowCount:0, ArgLen:0, start time: 2024-05-15 17:20:51.489 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:20:51.495 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=16] [neededSchemaVersion=17] ["start time"=316.792s] [gotSchemaVersion=17] [phyTblIDs="[34]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:20:51.496 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:20:51.496 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=35] [version=17]
[2024/05/15 17:20:51.497 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=17] ["take time"=2.384459ms] [job="ID:35, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:34, RowCount:0, ArgLen:2, start time: 2024-05-15 17:20:51.489 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:20:51.501 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=35] [job="ID:35, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:34, RowCount:0, ArgLen:0, start time: 2024-05-15 17:20:51.489 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:20:51.503 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=35]
[2024/05/15 17:20:51.503 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:20:51.503 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=17] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.default_roles (\n\t\tHOST \t\t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tUSER \t\t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tDEFAULT_ROLE_HOST \tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '%',\n\t\tDEFAULT_ROLE_USER \tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tPRIMARY KEY (HOST,USER,DEFAULT_ROLE_HOST,DEFAULT_ROLE_USER)\n\t)"] [user=]
[2024/05/15 17:20:51.504 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:37, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:36, RowCount:0, ArgLen:2, start time: 2024-05-15 17:20:51.504 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:20:51.504 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:37, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:36, RowCount:0, ArgLen:2, start time: 2024-05-15 17:20:51.504 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.default_roles (\n\t\tHOST \t\t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tUSER \t\t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tDEFAULT_ROLE_HOST \tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '%',\n\t\tDEFAULT_ROLE_USER \tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tPRIMARY KEY (HOST,USER,DEFAULT_ROLE_HOST,DEFAULT_ROLE_USER)\n\t)"]
[2024/05/15 17:20:51.508 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=37] [category=ddl] [job="ID:37, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:36, RowCount:0, ArgLen:0, start time: 2024-05-15 17:20:51.504 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:20:51.509 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=17] [neededSchemaVersion=18] ["start time"=228s] [gotSchemaVersion=18] [phyTblIDs="[36]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:20:51.510 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:20:51.510 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=37] [version=18]
[2024/05/15 17:20:51.511 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=18] ["take time"=2.122916ms] [job="ID:37, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:36, RowCount:0, ArgLen:2, start time: 2024-05-15 17:20:51.504 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:20:51.515 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=37] [job="ID:37, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:36, RowCount:0, ArgLen:0, start time: 2024-05-15 17:20:51.504 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:20:51.517 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=37]
[2024/05/15 17:20:51.517 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:20:51.518 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=18] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.bind_info (\n\t\toriginal_sql TEXT NOT NULL,\n\t\tbind_sql TEXT NOT NULL,\n\t\tdefault_db TEXT NOT NULL,\n\t\tstatus TEXT NOT NULL,\n\t\tcreate_time TIMESTAMP(3) NOT NULL,\n\t\tupdate_time TIMESTAMP(3) NOT NULL,\n\t\tcharset TEXT NOT NULL,\n\t\tcollation TEXT NOT NULL,\n\t\tsource VARCHAR(10) NOT NULL DEFAULT 'unknown',\n\t\tsql_digest varchar(64),\n\t\tplan_digest varchar(64),\n\t\tINDEX sql_index(original_sql(700),default_db(68)) COMMENT \"accelerate the speed when add global binding query\",\n\t\tINDEX time_index(update_time) COMMENT \"accelerate the speed when querying with last update time\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"] [user=]
[2024/05/15 17:20:51.520 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:39, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:38, RowCount:0, ArgLen:2, start time: 2024-05-15 17:20:51.519 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:20:51.520 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:39, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:38, RowCount:0, ArgLen:2, start time: 2024-05-15 17:20:51.519 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.bind_info (\n\t\toriginal_sql TEXT NOT NULL,\n\t\tbind_sql TEXT NOT NULL,\n\t\tdefault_db TEXT NOT NULL,\n\t\tstatus TEXT NOT NULL,\n\t\tcreate_time TIMESTAMP(3) NOT NULL,\n\t\tupdate_time TIMESTAMP(3) NOT NULL,\n\t\tcharset TEXT NOT NULL,\n\t\tcollation TEXT NOT NULL,\n\t\tsource VARCHAR(10) NOT NULL DEFAULT 'unknown',\n\t\tsql_digest varchar(64),\n\t\tplan_digest varchar(64),\n\t\tINDEX sql_index(original_sql(700),default_db(68)) COMMENT \"accelerate the speed when add global binding query\",\n\t\tINDEX time_index(update_time) COMMENT \"accelerate the speed when querying with last update time\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"]
[2024/05/15 17:20:51.523 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=39] [category=ddl] [job="ID:39, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:38, RowCount:0, ArgLen:0, start time: 2024-05-15 17:20:51.519 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:20:51.526 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=18] [neededSchemaVersion=19] ["start time"=328.875s] [gotSchemaVersion=19] [phyTblIDs="[38]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:20:51.526 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:20:51.526 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=39] [version=19]
[2024/05/15 17:20:51.527 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=19] ["take time"=2.040666ms] [job="ID:39, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:38, RowCount:0, ArgLen:2, start time: 2024-05-15 17:20:51.519 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:20:51.532 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=39] [job="ID:39, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:38, RowCount:0, ArgLen:0, start time: 2024-05-15 17:20:51.519 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:20:51.534 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=39]
[2024/05/15 17:20:51.534 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:20:51.535 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=0] ["to ID"=1] ["table ID"=38] ["database ID"=1]
[2024/05/15 17:20:51.535 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=19] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_top_n (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tvalue \t\tLONGBLOB,\n\t\tcount \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\tINDEX tbl(table_id, is_index, hist_id)\n\t);"] [user=]
[2024/05/15 17:20:51.536 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:41, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:40, RowCount:0, ArgLen:2, start time: 2024-05-15 17:20:51.536 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:20:51.536 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:41, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:40, RowCount:0, ArgLen:2, start time: 2024-05-15 17:20:51.536 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_top_n (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tvalue \t\tLONGBLOB,\n\t\tcount \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\tINDEX tbl(table_id, is_index, hist_id)\n\t);"]
[2024/05/15 17:20:51.540 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=41] [category=ddl] [job="ID:41, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:40, RowCount:0, ArgLen:0, start time: 2024-05-15 17:20:51.536 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:20:51.541 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=19] [neededSchemaVersion=20] ["start time"=224.75s] [gotSchemaVersion=20] [phyTblIDs="[40]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:20:51.542 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:20:51.542 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=41] [version=20]
[2024/05/15 17:20:51.543 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=20] ["take time"=2.004709ms] [job="ID:41, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:40, RowCount:0, ArgLen:2, start time: 2024-05-15 17:20:51.536 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:20:51.548 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=41] [job="ID:41, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:40, RowCount:0, ArgLen:0, start time: 2024-05-15 17:20:51.536 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:20:51.550 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=41]
[2024/05/15 17:20:51.550 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:20:51.550 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=20] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.expr_pushdown_blacklist (\n\t\tname \t\tCHAR(100) NOT NULL,\n\t\tstore_type \tCHAR(100) NOT NULL DEFAULT 'tikv,tiflash,tidb',\n\t\treason \t\tVARCHAR(200)\n\t);"] [user=]
[2024/05/15 17:20:51.551 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:43, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:42, RowCount:0, ArgLen:2, start time: 2024-05-15 17:20:51.551 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:20:51.551 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:43, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:42, RowCount:0, ArgLen:2, start time: 2024-05-15 17:20:51.551 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.expr_pushdown_blacklist (\n\t\tname \t\tCHAR(100) NOT NULL,\n\t\tstore_type \tCHAR(100) NOT NULL DEFAULT 'tikv,tiflash,tidb',\n\t\treason \t\tVARCHAR(200)\n\t);"]
[2024/05/15 17:20:51.555 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=43] [category=ddl] [job="ID:43, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:42, RowCount:0, ArgLen:0, start time: 2024-05-15 17:20:51.551 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:20:51.557 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=20] [neededSchemaVersion=21] ["start time"=167.042s] [gotSchemaVersion=21] [phyTblIDs="[42]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:20:51.557 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:20:51.557 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=43] [version=21]
[2024/05/15 17:20:51.558 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=21] ["take time"=2.033792ms] [job="ID:43, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:42, RowCount:0, ArgLen:2, start time: 2024-05-15 17:20:51.551 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:20:51.563 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=43] [job="ID:43, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:42, RowCount:0, ArgLen:0, start time: 2024-05-15 17:20:51.551 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:20:51.565 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=43]
[2024/05/15 17:20:51.565 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:20:51.565 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=21] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.opt_rule_blacklist (\n\t\tname \tCHAR(100) NOT NULL\n\t);"] [user=]
[2024/05/15 17:20:51.567 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:45, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:44, RowCount:0, ArgLen:2, start time: 2024-05-15 17:20:51.566 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:20:51.567 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:45, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:44, RowCount:0, ArgLen:2, start time: 2024-05-15 17:20:51.566 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.opt_rule_blacklist (\n\t\tname \tCHAR(100) NOT NULL\n\t);"]
[2024/05/15 17:20:51.570 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=45] [category=ddl] [job="ID:45, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:44, RowCount:0, ArgLen:0, start time: 2024-05-15 17:20:51.566 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:20:51.572 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=21] [neededSchemaVersion=22] ["start time"=137.917s] [gotSchemaVersion=22] [phyTblIDs="[44]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:20:51.573 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:20:51.573 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=45] [version=22]
[2024/05/15 17:20:51.574 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=22] ["take time"=2.222042ms] [job="ID:45, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:44, RowCount:0, ArgLen:2, start time: 2024-05-15 17:20:51.566 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:20:51.579 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=45] [job="ID:45, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:44, RowCount:0, ArgLen:0, start time: 2024-05-15 17:20:51.566 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:20:51.580 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=45]
[2024/05/15 17:20:51.580 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:20:51.581 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=22] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_extended (\n\t\tname varchar(32) NOT NULL,\n\t\ttype tinyint(4) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tcolumn_ids varchar(32) NOT NULL,\n\t\tstats blob DEFAULT NULL,\n\t\tversion bigint(64) unsigned NOT NULL,\n\t\tstatus tinyint(4) NOT NULL,\n\t\tPRIMARY KEY(name, table_id),\n\t\tKEY idx_1 (table_id, status, version),\n\t\tKEY idx_2 (status, version)\n\t);"] [user=]
[2024/05/15 17:20:51.582 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:47, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:46, RowCount:0, ArgLen:2, start time: 2024-05-15 17:20:51.581 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:20:51.582 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:47, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:46, RowCount:0, ArgLen:2, start time: 2024-05-15 17:20:51.581 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_extended (\n\t\tname varchar(32) NOT NULL,\n\t\ttype tinyint(4) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tcolumn_ids varchar(32) NOT NULL,\n\t\tstats blob DEFAULT NULL,\n\t\tversion bigint(64) unsigned NOT NULL,\n\t\tstatus tinyint(4) NOT NULL,\n\t\tPRIMARY KEY(name, table_id),\n\t\tKEY idx_1 (table_id, status, version),\n\t\tKEY idx_2 (status, version)\n\t);"]
[2024/05/15 17:20:51.587 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=47] [category=ddl] [job="ID:47, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:46, RowCount:0, ArgLen:0, start time: 2024-05-15 17:20:51.581 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:20:51.589 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=22] [neededSchemaVersion=23] ["start time"=273s] [gotSchemaVersion=23] [phyTblIDs="[46]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:20:51.590 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:20:51.590 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=47] [version=23]
[2024/05/15 17:20:51.591 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=23] ["take time"=2.0895ms] [job="ID:47, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:46, RowCount:0, ArgLen:2, start time: 2024-05-15 17:20:51.581 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:20:51.596 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=47] [job="ID:47, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:46, RowCount:0, ArgLen:0, start time: 2024-05-15 17:20:51.581 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:20:51.598 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=47]
[2024/05/15 17:20:51.598 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:20:51.598 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=23] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_fm_sketch (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tvalue \t\tLONGBLOB,\n\t\tINDEX tbl(table_id, is_index, hist_id)\n\t);"] [user=]
[2024/05/15 17:20:51.599 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:49, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:48, RowCount:0, ArgLen:2, start time: 2024-05-15 17:20:51.599 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:20:51.599 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:49, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:48, RowCount:0, ArgLen:2, start time: 2024-05-15 17:20:51.599 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_fm_sketch (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tvalue \t\tLONGBLOB,\n\t\tINDEX tbl(table_id, is_index, hist_id)\n\t);"]
[2024/05/15 17:20:51.603 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=49] [category=ddl] [job="ID:49, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:48, RowCount:0, ArgLen:0, start time: 2024-05-15 17:20:51.599 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:20:51.605 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=23] [neededSchemaVersion=24] ["start time"=199.625s] [gotSchemaVersion=24] [phyTblIDs="[48]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:20:51.606 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:20:51.606 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=49] [version=24]
[2024/05/15 17:20:51.607 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=24] ["take time"=2.065625ms] [job="ID:49, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:48, RowCount:0, ArgLen:2, start time: 2024-05-15 17:20:51.599 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:20:51.611 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=49] [job="ID:49, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:48, RowCount:0, ArgLen:0, start time: 2024-05-15 17:20:51.599 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:20:51.613 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=49]
[2024/05/15 17:20:51.613 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:20:51.613 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=24] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.global_grants (\n\t\tUSER char(32) NOT NULL DEFAULT '',\n\t\tHOST char(255) NOT NULL DEFAULT '',\n\t\tPRIV char(32) NOT NULL DEFAULT '',\n\t\tWITH_GRANT_OPTION enum('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (USER,HOST,PRIV)\n\t);"] [user=]
[2024/05/15 17:20:51.615 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:51, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:50, RowCount:0, ArgLen:2, start time: 2024-05-15 17:20:51.614 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:20:51.615 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:51, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:50, RowCount:0, ArgLen:2, start time: 2024-05-15 17:20:51.614 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.global_grants (\n\t\tUSER char(32) NOT NULL DEFAULT '',\n\t\tHOST char(255) NOT NULL DEFAULT '',\n\t\tPRIV char(32) NOT NULL DEFAULT '',\n\t\tWITH_GRANT_OPTION enum('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (USER,HOST,PRIV)\n\t);"]
[2024/05/15 17:20:51.619 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=51] [category=ddl] [job="ID:51, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:50, RowCount:0, ArgLen:0, start time: 2024-05-15 17:20:51.614 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:20:51.621 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=24] [neededSchemaVersion=25] ["start time"=193.75s] [gotSchemaVersion=25] [phyTblIDs="[50]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:20:51.621 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:20:51.621 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=51] [version=25]
[2024/05/15 17:20:51.623 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=25] ["take time"=2.249875ms] [job="ID:51, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:50, RowCount:0, ArgLen:2, start time: 2024-05-15 17:20:51.614 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:20:51.627 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=51] [job="ID:51, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:50, RowCount:0, ArgLen:0, start time: 2024-05-15 17:20:51.614 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:20:51.630 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=51]
[2024/05/15 17:20:51.630 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:20:51.630 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=25] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.capture_plan_baselines_blacklist (\n\t\tid bigint(64) auto_increment,\n\t\tfilter_type varchar(32) NOT NULL COMMENT \"type of the filter, only db, table and frequency supported now\",\n\t\tfilter_value varchar(32) NOT NULL,\n\t\tkey idx(filter_type),\n\t\tprimary key(id)\n\t);"] [user=]
[2024/05/15 17:20:51.631 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:53, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:52, RowCount:0, ArgLen:2, start time: 2024-05-15 17:20:51.631 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:20:51.631 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:53, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:52, RowCount:0, ArgLen:2, start time: 2024-05-15 17:20:51.631 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.capture_plan_baselines_blacklist (\n\t\tid bigint(64) auto_increment,\n\t\tfilter_type varchar(32) NOT NULL COMMENT \"type of the filter, only db, table and frequency supported now\",\n\t\tfilter_value varchar(32) NOT NULL,\n\t\tkey idx(filter_type),\n\t\tprimary key(id)\n\t);"]
[2024/05/15 17:20:51.636 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=53] [category=ddl] [job="ID:53, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:52, RowCount:0, ArgLen:0, start time: 2024-05-15 17:20:51.631 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:20:51.638 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=25] [neededSchemaVersion=26] ["start time"=181.208s] [gotSchemaVersion=26] [phyTblIDs="[52]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:20:51.639 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:20:51.639 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=53] [version=26]
[2024/05/15 17:20:51.640 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=26] ["take time"=3.042333ms] [job="ID:53, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:52, RowCount:0, ArgLen:2, start time: 2024-05-15 17:20:51.631 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:20:51.644 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=53] [job="ID:53, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:52, RowCount:0, ArgLen:0, start time: 2024-05-15 17:20:51.631 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:20:51.647 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=53]
[2024/05/15 17:20:51.647 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:20:51.647 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=26] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.column_stats_usage (\n\t\ttable_id BIGINT(64) NOT NULL,\n\t\tcolumn_id BIGINT(64) NOT NULL,\n\t\tlast_used_at TIMESTAMP,\n\t\tlast_analyzed_at TIMESTAMP,\n\t\tPRIMARY KEY (table_id, column_id) CLUSTERED\n\t);"] [user=]
[2024/05/15 17:20:51.648 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:55, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:54, RowCount:0, ArgLen:2, start time: 2024-05-15 17:20:51.648 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:20:51.648 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:55, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:54, RowCount:0, ArgLen:2, start time: 2024-05-15 17:20:51.648 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.column_stats_usage (\n\t\ttable_id BIGINT(64) NOT NULL,\n\t\tcolumn_id BIGINT(64) NOT NULL,\n\t\tlast_used_at TIMESTAMP,\n\t\tlast_analyzed_at TIMESTAMP,\n\t\tPRIMARY KEY (table_id, column_id) CLUSTERED\n\t);"]
[2024/05/15 17:20:51.653 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=55] [category=ddl] [job="ID:55, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:54, RowCount:0, ArgLen:0, start time: 2024-05-15 17:20:51.648 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:20:51.655 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=26] [neededSchemaVersion=27] ["start time"=191.542s] [gotSchemaVersion=27] [phyTblIDs="[54]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:20:51.656 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:20:51.656 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=55] [version=27]
[2024/05/15 17:20:51.657 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=27] ["take time"=2.019583ms] [job="ID:55, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:54, RowCount:0, ArgLen:2, start time: 2024-05-15 17:20:51.648 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:20:51.662 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=55] [job="ID:55, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:54, RowCount:0, ArgLen:0, start time: 2024-05-15 17:20:51.648 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:20:51.664 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=55]
[2024/05/15 17:20:51.664 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:20:51.664 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=27] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.table_cache_meta (\n\t\ttid bigint(11) NOT NULL DEFAULT 0,\n\t\tlock_type enum('NONE','READ', 'INTEND', 'WRITE') NOT NULL DEFAULT 'NONE',\n\t\tlease bigint(20) NOT NULL DEFAULT 0,\n\t\toldReadLease bigint(20) NOT NULL DEFAULT 0,\n\t\tPRIMARY KEY (tid)\n\t);"] [user=]
[2024/05/15 17:20:51.666 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:57, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:56, RowCount:0, ArgLen:2, start time: 2024-05-15 17:20:51.665 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:20:51.666 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:57, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:56, RowCount:0, ArgLen:2, start time: 2024-05-15 17:20:51.665 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.table_cache_meta (\n\t\ttid bigint(11) NOT NULL DEFAULT 0,\n\t\tlock_type enum('NONE','READ', 'INTEND', 'WRITE') NOT NULL DEFAULT 'NONE',\n\t\tlease bigint(20) NOT NULL DEFAULT 0,\n\t\toldReadLease bigint(20) NOT NULL DEFAULT 0,\n\t\tPRIMARY KEY (tid)\n\t);"]
[2024/05/15 17:20:51.671 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=57] [category=ddl] [job="ID:57, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:56, RowCount:0, ArgLen:0, start time: 2024-05-15 17:20:51.665 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:20:51.673 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=27] [neededSchemaVersion=28] ["start time"=635.917s] [gotSchemaVersion=28] [phyTblIDs="[56]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:20:51.674 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:20:51.674 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=57] [version=28]
[2024/05/15 17:20:51.675 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=28] ["take time"=2.590334ms] [job="ID:57, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:56, RowCount:0, ArgLen:2, start time: 2024-05-15 17:20:51.665 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:20:51.681 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=57] [job="ID:57, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:56, RowCount:0, ArgLen:0, start time: 2024-05-15 17:20:51.665 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:20:51.683 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=57]
[2024/05/15 17:20:51.683 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:20:51.683 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=28] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.analyze_options (\n\t\ttable_id BIGINT(64) NOT NULL,\n\t\tsample_num BIGINT(64) NOT NULL DEFAULT 0,\n\t\tsample_rate DOUBLE NOT NULL DEFAULT -1,\n\t\tbuckets BIGINT(64) NOT NULL DEFAULT 0,\n\t\ttopn BIGINT(64) NOT NULL DEFAULT -1,\n\t\tcolumn_choice enum('DEFAULT','ALL','PREDICATE','LIST') NOT NULL DEFAULT 'DEFAULT',\n\t\tcolumn_ids TEXT(19372),\n\t\tPRIMARY KEY (table_id) CLUSTERED\n\t);"] [user=]
[2024/05/15 17:20:51.683 +08:00] [INFO] [ddl_api.go:1139] ["Automatically convert BLOB(19372) to MEDIUMBLOB"] [category=ddl]
[2024/05/15 17:20:51.685 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:59, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:58, RowCount:0, ArgLen:2, start time: 2024-05-15 17:20:51.684 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:20:51.685 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:59, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:58, RowCount:0, ArgLen:2, start time: 2024-05-15 17:20:51.684 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.analyze_options (\n\t\ttable_id BIGINT(64) NOT NULL,\n\t\tsample_num BIGINT(64) NOT NULL DEFAULT 0,\n\t\tsample_rate DOUBLE NOT NULL DEFAULT -1,\n\t\tbuckets BIGINT(64) NOT NULL DEFAULT 0,\n\t\ttopn BIGINT(64) NOT NULL DEFAULT -1,\n\t\tcolumn_choice enum('DEFAULT','ALL','PREDICATE','LIST') NOT NULL DEFAULT 'DEFAULT',\n\t\tcolumn_ids TEXT(19372),\n\t\tPRIMARY KEY (table_id) CLUSTERED\n\t);"]
[2024/05/15 17:20:51.689 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=59] [category=ddl] [job="ID:59, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:58, RowCount:0, ArgLen:0, start time: 2024-05-15 17:20:51.684 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:20:51.692 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=28] [neededSchemaVersion=29] ["start time"=240.292s] [gotSchemaVersion=29] [phyTblIDs="[58]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:20:51.693 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:20:51.693 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=59] [version=29]
[2024/05/15 17:20:51.694 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=29] ["take time"=2.456875ms] [job="ID:59, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:58, RowCount:0, ArgLen:2, start time: 2024-05-15 17:20:51.684 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:20:51.704 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=59] [job="ID:59, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:58, RowCount:0, ArgLen:0, start time: 2024-05-15 17:20:51.684 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:20:51.708 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=59]
[2024/05/15 17:20:51.708 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:20:51.708 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=29] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_history (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tstats_data longblob NOT NULL,\n\t\tseq_no bigint(64) NOT NULL comment 'sequence number of the gzipped data slice',\n\t\tversion bigint(64) NOT NULL comment 'stats version which corresponding to stats:version in EXPLAIN',\n\t\tcreate_time datetime(6) NOT NULL,\n\t\tUNIQUE KEY table_version_seq (table_id, version, seq_no),\n\t\tKEY table_create_time (table_id, create_time, seq_no),\n    \tKEY idx_create_time (create_time)\n\t);"] [user=]
[2024/05/15 17:20:51.711 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:61, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:60, RowCount:0, ArgLen:2, start time: 2024-05-15 17:20:51.71 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:20:51.711 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:61, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:60, RowCount:0, ArgLen:2, start time: 2024-05-15 17:20:51.71 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_history (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tstats_data longblob NOT NULL,\n\t\tseq_no bigint(64) NOT NULL comment 'sequence number of the gzipped data slice',\n\t\tversion bigint(64) NOT NULL comment 'stats version which corresponding to stats:version in EXPLAIN',\n\t\tcreate_time datetime(6) NOT NULL,\n\t\tUNIQUE KEY table_version_seq (table_id, version, seq_no),\n\t\tKEY table_create_time (table_id, create_time, seq_no),\n    \tKEY idx_create_time (create_time)\n\t);"]
[2024/05/15 17:20:51.720 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=61] [category=ddl] [job="ID:61, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:60, RowCount:0, ArgLen:0, start time: 2024-05-15 17:20:51.71 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:20:51.722 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=29] [neededSchemaVersion=30] ["start time"=355.75s] [gotSchemaVersion=30] [phyTblIDs="[60]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:20:51.723 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:20:51.723 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=61] [version=30]
[2024/05/15 17:20:51.727 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=30] ["take time"=5.25525ms] [job="ID:61, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:60, RowCount:0, ArgLen:2, start time: 2024-05-15 17:20:51.71 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:20:51.735 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=61] [job="ID:61, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:60, RowCount:0, ArgLen:0, start time: 2024-05-15 17:20:51.71 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:20:51.737 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=61]
[2024/05/15 17:20:51.737 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:20:51.737 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=30] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_meta_history (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tmodify_count bigint(64) NOT NULL,\n\t\tcount bigint(64) NOT NULL,\n\t\tversion bigint(64) NOT NULL comment 'stats version which corresponding to stats:version in EXPLAIN',\n    \tsource varchar(40) NOT NULL,\n\t\tcreate_time datetime(6) NOT NULL,\n\t\tUNIQUE KEY table_version (table_id, version),\n\t\tKEY table_create_time (table_id, create_time),\n    \tKEY idx_create_time (create_time)\n\t);"] [user=]
[2024/05/15 17:20:51.739 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:63, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:62, RowCount:0, ArgLen:2, start time: 2024-05-15 17:20:51.738 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:20:51.739 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:63, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:62, RowCount:0, ArgLen:2, start time: 2024-05-15 17:20:51.738 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_meta_history (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tmodify_count bigint(64) NOT NULL,\n\t\tcount bigint(64) NOT NULL,\n\t\tversion bigint(64) NOT NULL comment 'stats version which corresponding to stats:version in EXPLAIN',\n    \tsource varchar(40) NOT NULL,\n\t\tcreate_time datetime(6) NOT NULL,\n\t\tUNIQUE KEY table_version (table_id, version),\n\t\tKEY table_create_time (table_id, create_time),\n    \tKEY idx_create_time (create_time)\n\t);"]
[2024/05/15 17:20:51.743 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=63] [category=ddl] [job="ID:63, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:62, RowCount:0, ArgLen:0, start time: 2024-05-15 17:20:51.738 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:20:51.746 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=30] [neededSchemaVersion=31] ["start time"=462.5s] [gotSchemaVersion=31] [phyTblIDs="[62]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:20:51.747 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:20:51.747 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=63] [version=31]
[2024/05/15 17:20:51.747 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=31] ["take time"=2.020042ms] [job="ID:63, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:62, RowCount:0, ArgLen:2, start time: 2024-05-15 17:20:51.738 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:20:51.751 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=63] [job="ID:63, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:62, RowCount:0, ArgLen:0, start time: 2024-05-15 17:20:51.738 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:20:51.753 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=63]
[2024/05/15 17:20:51.753 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:20:51.753 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=31] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.analyze_jobs (\n\t\tid BIGINT(64) UNSIGNED NOT NULL AUTO_INCREMENT,\n\t\tupdate_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\ttable_schema CHAR(64) NOT NULL DEFAULT '',\n\t\ttable_name CHAR(64) NOT NULL DEFAULT '',\n\t\tpartition_name CHAR(64) NOT NULL DEFAULT '',\n\t\tjob_info TEXT NOT NULL,\n\t\tprocessed_rows BIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tstart_time TIMESTAMP,\n\t\tend_time TIMESTAMP,\n\t\tstate ENUM('pending', 'running', 'finished', 'failed') NOT NULL,\n\t\tfail_reason TEXT,\n\t\tinstance VARCHAR(512) NOT NULL comment 'address of the TiDB instance executing the analyze job',\n\t\tprocess_id BIGINT(64) UNSIGNED comment 'ID of the process executing the analyze job',\n\t\tPRIMARY KEY (id),\n\t\tKEY (update_time)\n\t);"] [user=]
[2024/05/15 17:20:51.755 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:65, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:64, RowCount:0, ArgLen:2, start time: 2024-05-15 17:20:51.754 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:20:51.755 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:65, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:64, RowCount:0, ArgLen:2, start time: 2024-05-15 17:20:51.754 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.analyze_jobs (\n\t\tid BIGINT(64) UNSIGNED NOT NULL AUTO_INCREMENT,\n\t\tupdate_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\ttable_schema CHAR(64) NOT NULL DEFAULT '',\n\t\ttable_name CHAR(64) NOT NULL DEFAULT '',\n\t\tpartition_name CHAR(64) NOT NULL DEFAULT '',\n\t\tjob_info TEXT NOT NULL,\n\t\tprocessed_rows BIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tstart_time TIMESTAMP,\n\t\tend_time TIMESTAMP,\n\t\tstate ENUM('pending', 'running', 'finished', 'failed') NOT NULL,\n\t\tfail_reason TEXT,\n\t\tinstance VARCHAR(512) NOT NULL comment 'address of the TiDB instance executing the analyze job',\n\t\tprocess_id BIGINT(64) UNSIGNED comment 'ID of the process executing the analyze job',\n\t\tPRIMARY KEY (id),\n\t\tKEY (update_time)\n\t);"]
[2024/05/15 17:20:51.760 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=65] [category=ddl] [job="ID:65, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:64, RowCount:0, ArgLen:0, start time: 2024-05-15 17:20:51.754 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:20:51.763 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=31] [neededSchemaVersion=32] ["start time"=501.5s] [gotSchemaVersion=32] [phyTblIDs="[64]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:20:51.764 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:20:51.764 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=65] [version=32]
[2024/05/15 17:20:51.765 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=32] ["take time"=2.508958ms] [job="ID:65, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:64, RowCount:0, ArgLen:2, start time: 2024-05-15 17:20:51.754 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:20:51.770 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=65] [job="ID:65, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:64, RowCount:0, ArgLen:0, start time: 2024-05-15 17:20:51.754 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:20:51.773 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=65]
[2024/05/15 17:20:51.773 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:20:51.773 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=32] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.advisory_locks (\n\t\tlock_name VARCHAR(64) NOT NULL PRIMARY KEY\n\t);"] [user=]
[2024/05/15 17:20:51.775 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:67, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:66, RowCount:0, ArgLen:2, start time: 2024-05-15 17:20:51.774 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:20:51.775 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:67, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:66, RowCount:0, ArgLen:2, start time: 2024-05-15 17:20:51.774 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.advisory_locks (\n\t\tlock_name VARCHAR(64) NOT NULL PRIMARY KEY\n\t);"]
[2024/05/15 17:20:51.779 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=67] [category=ddl] [job="ID:67, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:66, RowCount:0, ArgLen:0, start time: 2024-05-15 17:20:51.774 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:20:51.781 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=32] [neededSchemaVersion=33] ["start time"=322.667s] [gotSchemaVersion=33] [phyTblIDs="[66]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:20:51.782 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:20:51.782 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=67] [version=33]
[2024/05/15 17:20:51.783 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=33] ["take time"=2.179916ms] [job="ID:67, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:66, RowCount:0, ArgLen:2, start time: 2024-05-15 17:20:51.774 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:20:51.788 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=67] [job="ID:67, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:66, RowCount:0, ArgLen:0, start time: 2024-05-15 17:20:51.774 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:20:51.789 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=67]
[2024/05/15 17:20:51.789 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:20:51.793 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:69, Type:create view, State:queueing, SchemaState:none, SchemaID:1, TableID:68, RowCount:0, ArgLen:3, start time: 2024-05-15 17:20:51.792 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:20:51.793 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:69, Type:create view, State:queueing, SchemaState:none, SchemaID:1, TableID:68, RowCount:0, ArgLen:3, start time: 2024-05-15 17:20:51.792 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE OR REPLACE VIEW mysql.tidb_mdl_view as (\n\t\tSELECT tidb_mdl_info.job_id,\n\t\t\tJSON_UNQUOTE(JSON_EXTRACT(cast(cast(job_meta as char) as json), \"$.schema_name\")) as db_name,\n\t\t\tJSON_UNQUOTE(JSON_EXTRACT(cast(cast(job_meta as char) as json), \"$.table_name\")) as table_name,\n\t\t\tJSON_UNQUOTE(JSON_EXTRACT(cast(cast(job_meta as char) as json), \"$.query\")) as query,\n\t\t\tsession_id,\n\t\t\tcluster_tidb_trx.start_time,\n\t\t\ttidb_decode_sql_digests(all_sql_digests, 4096) AS SQL_DIGESTS\n\t\tFROM mysql.tidb_ddl_job,\n\t\t\tmysql.tidb_mdl_info,\n\t\t\tinformation_schema.cluster_tidb_trx\n\t\tWHERE tidb_ddl_job.job_id=tidb_mdl_info.job_id\n\t\t\tAND CONCAT(',', tidb_mdl_info.table_ids, ',') REGEXP CONCAT(',(', REPLACE(cluster_tidb_trx.related_table_ids, ',', '|'), '),') != 0\n\t);"]
[2024/05/15 17:20:51.796 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=69] [category=ddl] [job="ID:69, Type:create view, State:queueing, SchemaState:none, SchemaID:1, TableID:68, RowCount:0, ArgLen:0, start time: 2024-05-15 17:20:51.792 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:20:51.799 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=33] [neededSchemaVersion=34] ["start time"=352.542s] [gotSchemaVersion=34] [phyTblIDs="[68]"] [actionTypes="[21]"] [diffTypes="[\"create view\"]"]
[2024/05/15 17:20:51.800 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:20:51.800 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=69] [version=34]
[2024/05/15 17:20:51.801 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=34] ["take time"=2.556125ms] [job="ID:69, Type:create view, State:done, SchemaState:public, SchemaID:1, TableID:68, RowCount:0, ArgLen:3, start time: 2024-05-15 17:20:51.792 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:20:51.806 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=69] [job="ID:69, Type:create view, State:synced, SchemaState:public, SchemaID:1, TableID:68, RowCount:0, ArgLen:0, start time: 2024-05-15 17:20:51.792 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:20:51.808 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=69]
[2024/05/15 17:20:51.808 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:20:51.808 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=34] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.plan_replayer_status (\n\t\tsql_digest VARCHAR(128),\n\t\tplan_digest VARCHAR(128),\n\t\torigin_sql TEXT,\n\t\ttoken VARCHAR(128),\n\t\tupdate_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\tfail_reason TEXT,\n\t\tinstance VARCHAR(512) NOT NULL comment 'address of the TiDB instance executing the plan replayer job');"] [user=]
[2024/05/15 17:20:51.809 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:71, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:70, RowCount:0, ArgLen:2, start time: 2024-05-15 17:20:51.808 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:20:51.809 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:71, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:70, RowCount:0, ArgLen:2, start time: 2024-05-15 17:20:51.808 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.plan_replayer_status (\n\t\tsql_digest VARCHAR(128),\n\t\tplan_digest VARCHAR(128),\n\t\torigin_sql TEXT,\n\t\ttoken VARCHAR(128),\n\t\tupdate_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\tfail_reason TEXT,\n\t\tinstance VARCHAR(512) NOT NULL comment 'address of the TiDB instance executing the plan replayer job');"]
[2024/05/15 17:20:51.813 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=71] [category=ddl] [job="ID:71, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:70, RowCount:0, ArgLen:0, start time: 2024-05-15 17:20:51.808 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:20:51.815 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=34] [neededSchemaVersion=35] ["start time"=222.959s] [gotSchemaVersion=35] [phyTblIDs="[70]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:20:51.815 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:20:51.815 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=71] [version=35]
[2024/05/15 17:20:51.816 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=35] ["take time"=2.015ms] [job="ID:71, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:70, RowCount:0, ArgLen:2, start time: 2024-05-15 17:20:51.808 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:20:51.821 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=71] [job="ID:71, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:70, RowCount:0, ArgLen:0, start time: 2024-05-15 17:20:51.808 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:20:51.823 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=71]
[2024/05/15 17:20:51.823 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:20:51.823 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=35] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.plan_replayer_task (\n\t\tsql_digest VARCHAR(128) NOT NULL,\n\t\tplan_digest VARCHAR(128) NOT NULL,\n\t\tupdate_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\tPRIMARY KEY (sql_digest,plan_digest));"] [user=]
[2024/05/15 17:20:51.824 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:73, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:72, RowCount:0, ArgLen:2, start time: 2024-05-15 17:20:51.824 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:20:51.824 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:73, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:72, RowCount:0, ArgLen:2, start time: 2024-05-15 17:20:51.824 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.plan_replayer_task (\n\t\tsql_digest VARCHAR(128) NOT NULL,\n\t\tplan_digest VARCHAR(128) NOT NULL,\n\t\tupdate_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\tPRIMARY KEY (sql_digest,plan_digest));"]
[2024/05/15 17:20:51.828 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=73] [category=ddl] [job="ID:73, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:72, RowCount:0, ArgLen:0, start time: 2024-05-15 17:20:51.824 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:20:51.829 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=35] [neededSchemaVersion=36] ["start time"=191.334s] [gotSchemaVersion=36] [phyTblIDs="[72]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:20:51.830 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:20:51.830 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=73] [version=36]
[2024/05/15 17:20:51.831 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=36] ["take time"=2.116834ms] [job="ID:73, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:72, RowCount:0, ArgLen:2, start time: 2024-05-15 17:20:51.824 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:20:51.836 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=73] [job="ID:73, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:72, RowCount:0, ArgLen:0, start time: 2024-05-15 17:20:51.824 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:20:51.837 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=73]
[2024/05/15 17:20:51.837 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:20:51.837 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=36] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_table_locked(\n\t\ttable_id bigint(64) NOT NULL,\n\t\tmodify_count bigint(64) NOT NULL DEFAULT 0,\n\t\tcount bigint(64) NOT NULL DEFAULT 0,\n\t\tversion bigint(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tPRIMARY KEY (table_id));"] [user=]
[2024/05/15 17:20:51.839 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:75, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:74, RowCount:0, ArgLen:2, start time: 2024-05-15 17:20:51.838 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:20:51.839 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:75, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:74, RowCount:0, ArgLen:2, start time: 2024-05-15 17:20:51.838 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_table_locked(\n\t\ttable_id bigint(64) NOT NULL,\n\t\tmodify_count bigint(64) NOT NULL DEFAULT 0,\n\t\tcount bigint(64) NOT NULL DEFAULT 0,\n\t\tversion bigint(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tPRIMARY KEY (table_id));"]
[2024/05/15 17:20:51.844 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=75] [category=ddl] [job="ID:75, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:74, RowCount:0, ArgLen:0, start time: 2024-05-15 17:20:51.838 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:20:51.846 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=36] [neededSchemaVersion=37] ["start time"=493.833s] [gotSchemaVersion=37] [phyTblIDs="[74]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:20:51.847 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:20:51.847 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=75] [version=37]
[2024/05/15 17:20:51.849 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=37] ["take time"=3.550334ms] [job="ID:75, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:74, RowCount:0, ArgLen:2, start time: 2024-05-15 17:20:51.838 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:20:51.853 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=75] [job="ID:75, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:74, RowCount:0, ArgLen:0, start time: 2024-05-15 17:20:51.838 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:20:51.855 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=75]
[2024/05/15 17:20:51.855 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:20:51.855 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=37] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_ttl_table_status (\n\t\ttable_id bigint(64) PRIMARY KEY,\n        parent_table_id bigint(64),\n        table_statistics text DEFAULT NULL,\n\t\tlast_job_id varchar(64) DEFAULT NULL,\n\t\tlast_job_start_time timestamp NULL DEFAULT NULL,\n\t\tlast_job_finish_time timestamp NULL DEFAULT NULL,\n\t\tlast_job_ttl_expire timestamp NULL DEFAULT NULL,\n        last_job_summary text DEFAULT NULL,\n\t\tcurrent_job_id varchar(64) DEFAULT NULL,\n\t\tcurrent_job_owner_id varchar(64) DEFAULT NULL,\n\t\tcurrent_job_owner_addr varchar(256) DEFAULT NULL,\n\t\tcurrent_job_owner_hb_time timestamp,\n\t\tcurrent_job_start_time timestamp NULL DEFAULT NULL,\n\t\tcurrent_job_ttl_expire timestamp NULL DEFAULT NULL,\n\t\tcurrent_job_state text DEFAULT NULL,\n\t\tcurrent_job_status varchar(64) DEFAULT NULL,\n  \t\tcurrent_job_status_update_time timestamp NULL DEFAULT NULL);"] [user=]
[2024/05/15 17:20:51.857 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:77, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:76, RowCount:0, ArgLen:2, start time: 2024-05-15 17:20:51.856 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:20:51.857 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:77, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:76, RowCount:0, ArgLen:2, start time: 2024-05-15 17:20:51.856 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_ttl_table_status (\n\t\ttable_id bigint(64) PRIMARY KEY,\n        parent_table_id bigint(64),\n        table_statistics text DEFAULT NULL,\n\t\tlast_job_id varchar(64) DEFAULT NULL,\n\t\tlast_job_start_time timestamp NULL DEFAULT NULL,\n\t\tlast_job_finish_time timestamp NULL DEFAULT NULL,\n\t\tlast_job_ttl_expire timestamp NULL DEFAULT NULL,\n        last_job_summary text DEFAULT NULL,\n\t\tcurrent_job_id varchar(64) DEFAULT NULL,\n\t\tcurrent_job_owner_id varchar(64) DEFAULT NULL,\n\t\tcurrent_job_owner_addr varchar(256) DEFAULT NULL,\n\t\tcurrent_job_owner_hb_time timestamp,\n\t\tcurrent_job_start_time timestamp NULL DEFAULT NULL,\n\t\tcurrent_job_ttl_expire timestamp NULL DEFAULT NULL,\n\t\tcurrent_job_state text DEFAULT NULL,\n\t\tcurrent_job_status varchar(64) DEFAULT NULL,\n  \t\tcurrent_job_status_update_time timestamp NULL DEFAULT NULL);"]
[2024/05/15 17:20:51.861 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=77] [category=ddl] [job="ID:77, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:76, RowCount:0, ArgLen:0, start time: 2024-05-15 17:20:51.856 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:20:51.863 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=37] [neededSchemaVersion=38] ["start time"=405s] [gotSchemaVersion=38] [phyTblIDs="[76]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:20:51.864 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:20:51.864 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=77] [version=38]
[2024/05/15 17:20:51.865 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=38] ["take time"=2.264541ms] [job="ID:77, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:76, RowCount:0, ArgLen:2, start time: 2024-05-15 17:20:51.856 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:20:51.870 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=77] [job="ID:77, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:76, RowCount:0, ArgLen:0, start time: 2024-05-15 17:20:51.856 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:20:51.873 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=77]
[2024/05/15 17:20:51.873 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:20:51.873 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=38] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_ttl_task (\n\t\tjob_id varchar(64) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tscan_id int NOT NULL,\n\t\tscan_range_start BLOB,\n\t\tscan_range_end BLOB,\n\t\texpire_time timestamp NOT NULL,\n\t\towner_id varchar(64) DEFAULT NULL,\n\t\towner_addr varchar(64) DEFAULT NULL,\n\t\towner_hb_time timestamp DEFAULT NULL,\n\t\tstatus varchar(64) DEFAULT 'waiting',\n\t\tstatus_update_time timestamp NULL DEFAULT NULL,\n\t\tstate text,\n\t\tcreated_time timestamp NOT NULL,\n\t\tprimary key(job_id, scan_id),\n\t\tkey(created_time));"] [user=]
[2024/05/15 17:20:51.878 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:79, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:78, RowCount:0, ArgLen:2, start time: 2024-05-15 17:20:51.874 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:20:51.878 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:79, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:78, RowCount:0, ArgLen:2, start time: 2024-05-15 17:20:51.874 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_ttl_task (\n\t\tjob_id varchar(64) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tscan_id int NOT NULL,\n\t\tscan_range_start BLOB,\n\t\tscan_range_end BLOB,\n\t\texpire_time timestamp NOT NULL,\n\t\towner_id varchar(64) DEFAULT NULL,\n\t\towner_addr varchar(64) DEFAULT NULL,\n\t\towner_hb_time timestamp DEFAULT NULL,\n\t\tstatus varchar(64) DEFAULT 'waiting',\n\t\tstatus_update_time timestamp NULL DEFAULT NULL,\n\t\tstate text,\n\t\tcreated_time timestamp NOT NULL,\n\t\tprimary key(job_id, scan_id),\n\t\tkey(created_time));"]
[2024/05/15 17:20:51.882 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=79] [category=ddl] [job="ID:79, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:78, RowCount:0, ArgLen:0, start time: 2024-05-15 17:20:51.874 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:20:51.884 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=38] [neededSchemaVersion=39] ["start time"=357.458s] [gotSchemaVersion=39] [phyTblIDs="[78]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:20:51.885 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:20:51.885 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=79] [version=39]
[2024/05/15 17:20:51.887 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=39] ["take time"=2.83225ms] [job="ID:79, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:78, RowCount:0, ArgLen:2, start time: 2024-05-15 17:20:51.874 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:20:51.891 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=79] [job="ID:79, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:78, RowCount:0, ArgLen:0, start time: 2024-05-15 17:20:51.874 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:20:51.895 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=79]
[2024/05/15 17:20:51.895 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:20:51.895 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=39] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_ttl_job_history (\n\t\tjob_id varchar(64) PRIMARY KEY,\n\t\ttable_id bigint(64) NOT NULL,\n        parent_table_id bigint(64) NOT NULL,\n    \ttable_schema varchar(64) NOT NULL,\n\t\ttable_name varchar(64) NOT NULL,\n    \tpartition_name varchar(64) DEFAULT NULL,\n\t\tcreate_time timestamp NOT NULL,\n\t\tfinish_time timestamp NOT NULL,\n\t\tttl_expire timestamp NOT NULL,\n        summary_text text,\n\t\texpired_rows bigint(64) DEFAULT NULL,\n    \tdeleted_rows bigint(64) DEFAULT NULL,\n    \terror_delete_rows bigint(64) DEFAULT NULL,\n    \tstatus varchar(64) NOT NULL,\n    \tkey(table_schema, table_name, create_time),\n    \tkey(parent_table_id, create_time),\n    \tkey(create_time)\n\t);"] [user=]
[2024/05/15 17:20:51.898 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:81, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:80, RowCount:0, ArgLen:2, start time: 2024-05-15 17:20:51.896 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:20:51.898 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:81, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:80, RowCount:0, ArgLen:2, start time: 2024-05-15 17:20:51.896 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_ttl_job_history (\n\t\tjob_id varchar(64) PRIMARY KEY,\n\t\ttable_id bigint(64) NOT NULL,\n        parent_table_id bigint(64) NOT NULL,\n    \ttable_schema varchar(64) NOT NULL,\n\t\ttable_name varchar(64) NOT NULL,\n    \tpartition_name varchar(64) DEFAULT NULL,\n\t\tcreate_time timestamp NOT NULL,\n\t\tfinish_time timestamp NOT NULL,\n\t\tttl_expire timestamp NOT NULL,\n        summary_text text,\n\t\texpired_rows bigint(64) DEFAULT NULL,\n    \tdeleted_rows bigint(64) DEFAULT NULL,\n    \terror_delete_rows bigint(64) DEFAULT NULL,\n    \tstatus varchar(64) NOT NULL,\n    \tkey(table_schema, table_name, create_time),\n    \tkey(parent_table_id, create_time),\n    \tkey(create_time)\n\t);"]
[2024/05/15 17:20:51.902 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=81] [category=ddl] [job="ID:81, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:80, RowCount:0, ArgLen:0, start time: 2024-05-15 17:20:51.896 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:20:51.906 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=39] [neededSchemaVersion=40] ["start time"=799.917s] [gotSchemaVersion=40] [phyTblIDs="[80]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:20:51.907 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:20:51.907 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=81] [version=40]
[2024/05/15 17:20:51.907 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=40] ["take time"=2.163625ms] [job="ID:81, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:80, RowCount:0, ArgLen:2, start time: 2024-05-15 17:20:51.896 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:20:51.911 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=81] [job="ID:81, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:80, RowCount:0, ArgLen:0, start time: 2024-05-15 17:20:51.896 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:20:51.914 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=81]
[2024/05/15 17:20:51.914 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:20:51.914 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=40] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_global_task (\n\t\tid BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n    \ttask_key VARCHAR(256) NOT NULL,\n\t\ttype VARCHAR(256) NOT NULL,\n\t\tdispatcher_id VARCHAR(261),\n\t\tstate VARCHAR(64) NOT NULL,\n\t\tpriority INT DEFAULT 1,\n\t\tcreate_time TIMESTAMP,\n\t\tstart_time TIMESTAMP,\n\t\tstate_update_time TIMESTAMP,\n\t\tend_time TIMESTAMP,\n\t\tmeta LONGBLOB,\n\t\tconcurrency INT(11),\n\t\tstep INT(11),\n\t\ttarget_scope VARCHAR(256) DEFAULT \"\",\n\t\terror BLOB,\n\t\tkey(state),\n      \tUNIQUE KEY task_key(task_key)\n\t);"] [user=]
[2024/05/15 17:20:51.916 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:83, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:82, RowCount:0, ArgLen:2, start time: 2024-05-15 17:20:51.915 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:20:51.916 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:83, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:82, RowCount:0, ArgLen:2, start time: 2024-05-15 17:20:51.915 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_global_task (\n\t\tid BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n    \ttask_key VARCHAR(256) NOT NULL,\n\t\ttype VARCHAR(256) NOT NULL,\n\t\tdispatcher_id VARCHAR(261),\n\t\tstate VARCHAR(64) NOT NULL,\n\t\tpriority INT DEFAULT 1,\n\t\tcreate_time TIMESTAMP,\n\t\tstart_time TIMESTAMP,\n\t\tstate_update_time TIMESTAMP,\n\t\tend_time TIMESTAMP,\n\t\tmeta LONGBLOB,\n\t\tconcurrency INT(11),\n\t\tstep INT(11),\n\t\ttarget_scope VARCHAR(256) DEFAULT \"\",\n\t\terror BLOB,\n\t\tkey(state),\n      \tUNIQUE KEY task_key(task_key)\n\t);"]
[2024/05/15 17:20:51.920 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=83] [category=ddl] [job="ID:83, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:82, RowCount:0, ArgLen:0, start time: 2024-05-15 17:20:51.915 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:20:51.923 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=40] [neededSchemaVersion=41] ["start time"=389.541s] [gotSchemaVersion=41] [phyTblIDs="[82]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:20:51.924 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:20:51.924 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=83] [version=41]
[2024/05/15 17:20:51.925 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=41] ["take time"=2.251458ms] [job="ID:83, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:82, RowCount:0, ArgLen:2, start time: 2024-05-15 17:20:51.915 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:20:51.930 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=83] [job="ID:83, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:82, RowCount:0, ArgLen:0, start time: 2024-05-15 17:20:51.915 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:20:51.932 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=83]
[2024/05/15 17:20:51.932 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:20:51.932 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=41] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_global_task_history (\n\t\tid BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n    \ttask_key VARCHAR(256) NOT NULL,\n\t\ttype VARCHAR(256) NOT NULL,\n\t\tdispatcher_id VARCHAR(261),\n\t\tstate VARCHAR(64) NOT NULL,\n\t\tpriority INT DEFAULT 1,\n\t\tcreate_time TIMESTAMP,\n\t\tstart_time TIMESTAMP,\n\t\tstate_update_time TIMESTAMP,\n\t\tend_time TIMESTAMP,\n\t\tmeta LONGBLOB,\n\t\tconcurrency INT(11),\n\t\tstep INT(11),\n\t\ttarget_scope VARCHAR(256) DEFAULT \"\",\n\t\terror BLOB,\n\t\tkey(state),\n      \tUNIQUE KEY task_key(task_key)\n\t);"] [user=]
[2024/05/15 17:20:51.936 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:85, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:84, RowCount:0, ArgLen:2, start time: 2024-05-15 17:20:51.933 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:20:51.936 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:85, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:84, RowCount:0, ArgLen:2, start time: 2024-05-15 17:20:51.933 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_global_task_history (\n\t\tid BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n    \ttask_key VARCHAR(256) NOT NULL,\n\t\ttype VARCHAR(256) NOT NULL,\n\t\tdispatcher_id VARCHAR(261),\n\t\tstate VARCHAR(64) NOT NULL,\n\t\tpriority INT DEFAULT 1,\n\t\tcreate_time TIMESTAMP,\n\t\tstart_time TIMESTAMP,\n\t\tstate_update_time TIMESTAMP,\n\t\tend_time TIMESTAMP,\n\t\tmeta LONGBLOB,\n\t\tconcurrency INT(11),\n\t\tstep INT(11),\n\t\ttarget_scope VARCHAR(256) DEFAULT \"\",\n\t\terror BLOB,\n\t\tkey(state),\n      \tUNIQUE KEY task_key(task_key)\n\t);"]
[2024/05/15 17:20:51.940 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=85] [category=ddl] [job="ID:85, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:84, RowCount:0, ArgLen:0, start time: 2024-05-15 17:20:51.933 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:20:51.944 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=41] [neededSchemaVersion=42] ["start time"=425.625s] [gotSchemaVersion=42] [phyTblIDs="[84]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:20:51.945 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:20:51.945 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=85] [version=42]
[2024/05/15 17:20:51.947 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=42] ["take time"=2.748625ms] [job="ID:85, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:84, RowCount:0, ArgLen:2, start time: 2024-05-15 17:20:51.933 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:20:51.952 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=85] [job="ID:85, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:84, RowCount:0, ArgLen:0, start time: 2024-05-15 17:20:51.933 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:20:51.954 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=85]
[2024/05/15 17:20:51.954 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:20:51.955 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=42] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_import_jobs (\n\t\tid bigint(64) NOT NULL AUTO_INCREMENT,\n\t\tcreate_time TIMESTAMP(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6),\n\t\tstart_time TIMESTAMP(6) NULL DEFAULT NULL,\n\t\tupdate_time TIMESTAMP(6) NULL DEFAULT NULL,\n\t\tend_time TIMESTAMP(6) NULL DEFAULT NULL,\n\t\ttable_schema VARCHAR(64) NOT NULL,\n\t\ttable_name VARCHAR(64) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tcreated_by VARCHAR(300) NOT NULL,\n\t\tparameters text NOT NULL,\n\t\tsource_file_size bigint(64) NOT NULL,\n\t\tstatus VARCHAR(64) NOT NULL,\n\t\tstep VARCHAR(64) NOT NULL,\n\t\tsummary text DEFAULT NULL,\n\t\terror_message TEXT DEFAULT NULL,\n\t\tPRIMARY KEY (id),\n\t\tKEY (created_by),\n\t\tKEY (status));"] [user=]
[2024/05/15 17:20:51.958 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:87, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:86, RowCount:0, ArgLen:2, start time: 2024-05-15 17:20:51.957 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:20:51.958 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:87, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:86, RowCount:0, ArgLen:2, start time: 2024-05-15 17:20:51.957 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_import_jobs (\n\t\tid bigint(64) NOT NULL AUTO_INCREMENT,\n\t\tcreate_time TIMESTAMP(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6),\n\t\tstart_time TIMESTAMP(6) NULL DEFAULT NULL,\n\t\tupdate_time TIMESTAMP(6) NULL DEFAULT NULL,\n\t\tend_time TIMESTAMP(6) NULL DEFAULT NULL,\n\t\ttable_schema VARCHAR(64) NOT NULL,\n\t\ttable_name VARCHAR(64) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tcreated_by VARCHAR(300) NOT NULL,\n\t\tparameters text NOT NULL,\n\t\tsource_file_size bigint(64) NOT NULL,\n\t\tstatus VARCHAR(64) NOT NULL,\n\t\tstep VARCHAR(64) NOT NULL,\n\t\tsummary text DEFAULT NULL,\n\t\terror_message TEXT DEFAULT NULL,\n\t\tPRIMARY KEY (id),\n\t\tKEY (created_by),\n\t\tKEY (status));"]
[2024/05/15 17:20:51.962 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=87] [category=ddl] [job="ID:87, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:86, RowCount:0, ArgLen:0, start time: 2024-05-15 17:20:51.957 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:20:51.969 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=42] [neededSchemaVersion=43] ["start time"=787.667s] [gotSchemaVersion=43] [phyTblIDs="[86]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:20:51.973 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:20:51.973 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=87] [version=43]
[2024/05/15 17:20:51.976 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=43] ["take time"=7.688917ms] [job="ID:87, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:86, RowCount:0, ArgLen:2, start time: 2024-05-15 17:20:51.957 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:20:51.984 +08:00] [WARN] [runaway.go:166] ["failed to start runaway manager loop, please check whether the bootstrap or update is finished"] [error="[schema:1146]Table 'mysql.tidb_runaway_watch' doesn't exist"] [errorVerbose="[schema:1146]Table 'mysql.tidb_runaway_watch' doesn't exist\ngithub.com/pingcap/errors.AddStack\n\t/Users/bba/.gvm/pkgsets/go1.21.0/global/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20240318064555-6bd07397691f/errors.go:178\ngithub.com/pingcap/errors.Trace\n\t/Users/bba/.gvm/pkgsets/go1.21.0/global/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20240318064555-6bd07397691f/juju_adaptor.go:15\ngithub.com/pingcap/tidb/pkg/planner/core.Preprocess\n\t/Users/bba/pc/tidb/pkg/planner/core/preprocess.go:141\ngithub.com/pingcap/tidb/pkg/executor.(*Compiler).Compile\n\t/Users/bba/pc/tidb/pkg/executor/compiler.go:67\ngithub.com/pingcap/tidb/pkg/session.(*session).ExecuteStmt\n\t/Users/bba/pc/tidb/pkg/session/session.go:2094\ngithub.com/pingcap/tidb/pkg/session.(*session).ExecuteInternalStmt\n\t/Users/bba/pc/tidb/pkg/session/session.go:1998\ngithub.com/pingcap/tidb/pkg/session.(*session).ExecRestrictedSQL.func1\n\t/Users/bba/pc/tidb/pkg/session/session.go:1963\ngithub.com/pingcap/tidb/pkg/session.(*session).withRestrictedSQLExecutor\n\t/Users/bba/pc/tidb/pkg/session/session.go:1949\ngithub.com/pingcap/tidb/pkg/session.(*session).ExecRestrictedSQL\n\t/Users/bba/pc/tidb/pkg/session/session.go:1953\ngithub.com/pingcap/tidb/pkg/domain.(*SystemTableReader).Read\n\t/Users/bba/pc/tidb/pkg/domain/runaway.go:655\ngithub.com/pingcap/tidb/pkg/domain.getRunawayWatchRecord\n\t/Users/bba/pc/tidb/pkg/domain/runaway.go:543\ngithub.com/pingcap/tidb/pkg/domain.(*runawaySyncer).getWatchRecord\n\t/Users/bba/pc/tidb/pkg/domain/runaway.go:526\ngithub.com/pingcap/tidb/pkg/domain.(*runawaySyncer).getNewWatchRecords\n\t/Users/bba/pc/tidb/pkg/domain/runaway.go:509\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).updateNewAndDoneWatch\n\t/Users/bba/pc/tidb/pkg/domain/runaway.go:177\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).runawayStartLoop\n\t/Users/bba/pc/tidb/pkg/domain/runaway.go:156\ngithub.com/pingcap/tidb/pkg/util.(*WaitGroupEnhancedWrapper).Run.func1\n\t/Users/bba/pc/tidb/pkg/util/wait_group_wrapper.go:99\nruntime.goexit\n\t/Users/bba/.gvm/gos/go1.21.0/src/runtime/asm_arm64.s:1197"]
[2024/05/15 17:20:51.987 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=87] [job="ID:87, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:86, RowCount:0, ArgLen:0, start time: 2024-05-15 17:20:51.957 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:20:51.989 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=87]
[2024/05/15 17:20:51.989 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:20:51.990 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=43] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_runaway_watch (\n\t\tid BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n\t\tresource_group_name varchar(32) not null,\n\t\tstart_time datetime(6) NOT NULL,\n\t\tend_time datetime(6),\n\t\twatch bigint(10) NOT NULL,\n\t\twatch_text TEXT NOT NULL,\n\t\tsource varchar(512) NOT NULL,\n\t\taction bigint(10),\n\t\tINDEX sql_index(resource_group_name,watch_text(700)) COMMENT \"accelerate the speed when select quarantined query\",\n\t\tINDEX time_index(end_time) COMMENT \"accelerate the speed when querying with active watch\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"] [user=]
[2024/05/15 17:20:51.995 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:89, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:88, RowCount:0, ArgLen:2, start time: 2024-05-15 17:20:51.991 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:20:51.995 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:89, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:88, RowCount:0, ArgLen:2, start time: 2024-05-15 17:20:51.991 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_runaway_watch (\n\t\tid BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n\t\tresource_group_name varchar(32) not null,\n\t\tstart_time datetime(6) NOT NULL,\n\t\tend_time datetime(6),\n\t\twatch bigint(10) NOT NULL,\n\t\twatch_text TEXT NOT NULL,\n\t\tsource varchar(512) NOT NULL,\n\t\taction bigint(10),\n\t\tINDEX sql_index(resource_group_name,watch_text(700)) COMMENT \"accelerate the speed when select quarantined query\",\n\t\tINDEX time_index(end_time) COMMENT \"accelerate the speed when querying with active watch\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"]
[2024/05/15 17:20:52.004 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=89] [category=ddl] [job="ID:89, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:88, RowCount:0, ArgLen:0, start time: 2024-05-15 17:20:51.991 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:20:52.008 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=43] [neededSchemaVersion=44] ["start time"=419.083s] [gotSchemaVersion=44] [phyTblIDs="[88]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:20:52.009 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:20:52.009 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=89] [version=44]
[2024/05/15 17:20:52.012 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=44] ["take time"=4.745417ms] [job="ID:89, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:88, RowCount:0, ArgLen:2, start time: 2024-05-15 17:20:51.991 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:20:52.018 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=89] [job="ID:89, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:88, RowCount:0, ArgLen:0, start time: 2024-05-15 17:20:51.991 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:20:52.021 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=89]
[2024/05/15 17:20:52.021 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:20:52.021 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=44] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_runaway_queries (\n\t\tresource_group_name varchar(32) not null,\n\t\ttime TIMESTAMP NOT NULL,\n\t\tmatch_type varchar(12) NOT NULL,\n\t\taction varchar(12) NOT NULL,\n\t\toriginal_sql TEXT NOT NULL,\n\t\tplan_digest TEXT NOT NULL,\n\t\ttidb_server varchar(512),\n\t\tINDEX plan_index(plan_digest(64)) COMMENT \"accelerate the speed when select runaway query\",\n\t\tINDEX time_index(time) COMMENT \"accelerate the speed when querying with active watch\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"] [user=]
[2024/05/15 17:20:52.023 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:91, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:90, RowCount:0, ArgLen:2, start time: 2024-05-15 17:20:52.022 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:20:52.023 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:91, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:90, RowCount:0, ArgLen:2, start time: 2024-05-15 17:20:52.022 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_runaway_queries (\n\t\tresource_group_name varchar(32) not null,\n\t\ttime TIMESTAMP NOT NULL,\n\t\tmatch_type varchar(12) NOT NULL,\n\t\taction varchar(12) NOT NULL,\n\t\toriginal_sql TEXT NOT NULL,\n\t\tplan_digest TEXT NOT NULL,\n\t\ttidb_server varchar(512),\n\t\tINDEX plan_index(plan_digest(64)) COMMENT \"accelerate the speed when select runaway query\",\n\t\tINDEX time_index(time) COMMENT \"accelerate the speed when querying with active watch\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"]
[2024/05/15 17:20:52.028 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=91] [category=ddl] [job="ID:91, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:90, RowCount:0, ArgLen:0, start time: 2024-05-15 17:20:52.022 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:20:52.031 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=44] [neededSchemaVersion=45] ["start time"=287.25s] [gotSchemaVersion=45] [phyTblIDs="[90]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:20:52.032 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:20:52.032 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=91] [version=45]
[2024/05/15 17:20:52.033 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=45] ["take time"=2.257375ms] [job="ID:91, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:90, RowCount:0, ArgLen:2, start time: 2024-05-15 17:20:52.022 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:20:52.040 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=91] [job="ID:91, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:90, RowCount:0, ArgLen:0, start time: 2024-05-15 17:20:52.022 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:20:52.043 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=91]
[2024/05/15 17:20:52.043 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:20:52.043 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=45] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS `mysql`.`tidb_timers` (\n\t\tID BIGINT(64) UNSIGNED NOT NULL AUTO_INCREMENT,\n\t\tNAMESPACE VARCHAR(256) NOT NULL,\n\t\tTIMER_KEY VARCHAR(256) NOT NULL,\n\t\tTIMER_DATA BLOB,\n\t\tTIMEZONE VARCHAR(64) NOT NULL,\n\t\tSCHED_POLICY_TYPE VARCHAR(32) NOT NULL,\n\t\tSCHED_POLICY_EXPR VARCHAR(256) NOT NULL,\n\t\tHOOK_CLASS VARCHAR(64) NOT NULL,\n\t\tWATERMARK TIMESTAMP DEFAULT NULL,\n\t\tENABLE TINYINT(2) NOT NULL,\n\t\tTIMER_EXT JSON NOT NULL,\n\t\tEVENT_STATUS VARCHAR(32) NOT NULL,\n\t\tEVENT_ID VARCHAR(64) NOT NULL,\n\t\tEVENT_DATA BLOB,\n\t\tEVENT_START TIMESTAMP DEFAULT NULL,\n\t\tSUMMARY_DATA BLOB,\n\t\tCREATE_TIME TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,\n\t\tUPDATE_TIME TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\tVERSION BIGINT(64) UNSIGNED NOT NULL,\n\t\tPRIMARY KEY (ID),\n\t\tUNIQUE KEY timer_key(NAMESPACE, TIMER_KEY),\n\t\tKEY hook_class(HOOK_CLASS)\n\t)"] [user=]
[2024/05/15 17:20:52.045 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:93, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:92, RowCount:0, ArgLen:2, start time: 2024-05-15 17:20:52.044 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:20:52.045 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:93, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:92, RowCount:0, ArgLen:2, start time: 2024-05-15 17:20:52.044 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS `mysql`.`tidb_timers` (\n\t\tID BIGINT(64) UNSIGNED NOT NULL AUTO_INCREMENT,\n\t\tNAMESPACE VARCHAR(256) NOT NULL,\n\t\tTIMER_KEY VARCHAR(256) NOT NULL,\n\t\tTIMER_DATA BLOB,\n\t\tTIMEZONE VARCHAR(64) NOT NULL,\n\t\tSCHED_POLICY_TYPE VARCHAR(32) NOT NULL,\n\t\tSCHED_POLICY_EXPR VARCHAR(256) NOT NULL,\n\t\tHOOK_CLASS VARCHAR(64) NOT NULL,\n\t\tWATERMARK TIMESTAMP DEFAULT NULL,\n\t\tENABLE TINYINT(2) NOT NULL,\n\t\tTIMER_EXT JSON NOT NULL,\n\t\tEVENT_STATUS VARCHAR(32) NOT NULL,\n\t\tEVENT_ID VARCHAR(64) NOT NULL,\n\t\tEVENT_DATA BLOB,\n\t\tEVENT_START TIMESTAMP DEFAULT NULL,\n\t\tSUMMARY_DATA BLOB,\n\t\tCREATE_TIME TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,\n\t\tUPDATE_TIME TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\tVERSION BIGINT(64) UNSIGNED NOT NULL,\n\t\tPRIMARY KEY (ID),\n\t\tUNIQUE KEY timer_key(NAMESPACE, TIMER_KEY),\n\t\tKEY hook_class(HOOK_CLASS)\n\t)"]
[2024/05/15 17:20:52.050 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=93] [category=ddl] [job="ID:93, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:92, RowCount:0, ArgLen:0, start time: 2024-05-15 17:20:52.044 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:20:52.053 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=45] [neededSchemaVersion=46] ["start time"=572.083s] [gotSchemaVersion=46] [phyTblIDs="[92]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:20:52.054 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:20:52.054 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=93] [version=46]
[2024/05/15 17:20:52.055 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=46] ["take time"=2.62175ms] [job="ID:93, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:92, RowCount:0, ArgLen:2, start time: 2024-05-15 17:20:52.044 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:20:52.060 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=93] [job="ID:93, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:92, RowCount:0, ArgLen:0, start time: 2024-05-15 17:20:52.044 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:20:52.063 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=93]
[2024/05/15 17:20:52.063 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:20:52.063 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=46] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_runaway_watch_done (\n\t\tid BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n\t\trecord_id BIGINT(20) not null,\n\t\tresource_group_name varchar(32) not null,\n\t\tstart_time datetime(6) NOT NULL,\n\t\tend_time datetime(6),\n\t\twatch bigint(10) NOT NULL,\n\t\twatch_text TEXT NOT NULL,\n\t\tsource varchar(512) NOT NULL,\n\t\taction bigint(10),\n\t\tdone_time TIMESTAMP(6) NOT NULL\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"] [user=]
[2024/05/15 17:20:52.065 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:95, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:94, RowCount:0, ArgLen:2, start time: 2024-05-15 17:20:52.064 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:20:52.065 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:95, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:94, RowCount:0, ArgLen:2, start time: 2024-05-15 17:20:52.064 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_runaway_watch_done (\n\t\tid BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n\t\trecord_id BIGINT(20) not null,\n\t\tresource_group_name varchar(32) not null,\n\t\tstart_time datetime(6) NOT NULL,\n\t\tend_time datetime(6),\n\t\twatch bigint(10) NOT NULL,\n\t\twatch_text TEXT NOT NULL,\n\t\tsource varchar(512) NOT NULL,\n\t\taction bigint(10),\n\t\tdone_time TIMESTAMP(6) NOT NULL\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"]
[2024/05/15 17:20:52.070 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=95] [category=ddl] [job="ID:95, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:94, RowCount:0, ArgLen:0, start time: 2024-05-15 17:20:52.064 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:20:52.073 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=46] [neededSchemaVersion=47] ["start time"=320.125s] [gotSchemaVersion=47] [phyTblIDs="[94]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:20:52.074 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:20:52.074 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=95] [version=47]
[2024/05/15 17:20:52.075 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=47] ["take time"=2.557917ms] [job="ID:95, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:94, RowCount:0, ArgLen:2, start time: 2024-05-15 17:20:52.064 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:20:52.081 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=95] [job="ID:95, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:94, RowCount:0, ArgLen:0, start time: 2024-05-15 17:20:52.064 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:20:52.084 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=95]
[2024/05/15 17:20:52.084 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:20:52.084 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=47] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.dist_framework_meta (\n        host VARCHAR(261) NOT NULL PRIMARY KEY,\n        role VARCHAR(64),\n        cpu_count int default 0,\n        keyspace_id bigint(8) NOT NULL DEFAULT -1\n    );"] [user=]
[2024/05/15 17:20:52.086 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:97, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:96, RowCount:0, ArgLen:2, start time: 2024-05-15 17:20:52.085 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:20:52.086 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:97, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:96, RowCount:0, ArgLen:2, start time: 2024-05-15 17:20:52.085 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.dist_framework_meta (\n        host VARCHAR(261) NOT NULL PRIMARY KEY,\n        role VARCHAR(64),\n        cpu_count int default 0,\n        keyspace_id bigint(8) NOT NULL DEFAULT -1\n    );"]
[2024/05/15 17:20:52.091 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=97] [category=ddl] [job="ID:97, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:96, RowCount:0, ArgLen:0, start time: 2024-05-15 17:20:52.085 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:20:52.094 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=47] [neededSchemaVersion=48] ["start time"=332.292s] [gotSchemaVersion=48] [phyTblIDs="[96]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:20:52.095 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:20:52.095 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=97] [version=48]
[2024/05/15 17:20:52.097 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=48] ["take time"=3.372458ms] [job="ID:97, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:96, RowCount:0, ArgLen:2, start time: 2024-05-15 17:20:52.085 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:20:52.104 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=97] [job="ID:97, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:96, RowCount:0, ArgLen:0, start time: 2024-05-15 17:20:52.085 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:20:52.106 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=97]
[2024/05/15 17:20:52.106 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:20:52.106 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=48] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.request_unit_by_group (\n\t\tstart_time TIMESTAMP(6) NOT NULL,\n\t\tend_time TIMESTAMP(6) NOT NULL,\n\t\tresource_group VARCHAR(32) NOT null,\n\t\ttotal_ru bigint(64) UNSIGNED NOT NULL,\n\t\tPRIMARY KEY (start_time, end_time, resource_group),\n\t\tKEY (resource_group)\n\t);"] [user=]
[2024/05/15 17:20:52.108 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:99, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:98, RowCount:0, ArgLen:2, start time: 2024-05-15 17:20:52.107 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:20:52.108 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:99, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:98, RowCount:0, ArgLen:2, start time: 2024-05-15 17:20:52.107 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.request_unit_by_group (\n\t\tstart_time TIMESTAMP(6) NOT NULL,\n\t\tend_time TIMESTAMP(6) NOT NULL,\n\t\tresource_group VARCHAR(32) NOT null,\n\t\ttotal_ru bigint(64) UNSIGNED NOT NULL,\n\t\tPRIMARY KEY (start_time, end_time, resource_group),\n\t\tKEY (resource_group)\n\t);"]
[2024/05/15 17:20:52.112 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=99] [category=ddl] [job="ID:99, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:98, RowCount:0, ArgLen:0, start time: 2024-05-15 17:20:52.107 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:20:52.114 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=48] [neededSchemaVersion=49] ["start time"=217s] [gotSchemaVersion=49] [phyTblIDs="[98]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:20:52.115 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:20:52.115 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=99] [version=49]
[2024/05/15 17:20:52.116 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=49] ["take time"=2.007958ms] [job="ID:99, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:98, RowCount:0, ArgLen:2, start time: 2024-05-15 17:20:52.107 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:20:52.120 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=99] [job="ID:99, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:98, RowCount:0, ArgLen:0, start time: 2024-05-15 17:20:52.107 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:20:52.123 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=99]
[2024/05/15 17:20:52.123 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:20:52.123 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=49] [cur_db=mysql] [sql="CREATE DATABASE IF NOT EXISTS sys;"] [user=]
[2024/05/15 17:20:52.128 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:101, Type:create schema, State:queueing, SchemaState:none, SchemaID:100, TableID:0, RowCount:0, ArgLen:1, start time: 2024-05-15 17:20:52.125 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:20:52.128 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:101, Type:create schema, State:queueing, SchemaState:none, SchemaID:100, TableID:0, RowCount:0, ArgLen:1, start time: 2024-05-15 17:20:52.125 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE DATABASE IF NOT EXISTS sys;"]
[2024/05/15 17:20:52.132 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=101] [category=ddl] [job="ID:101, Type:create schema, State:queueing, SchemaState:none, SchemaID:100, TableID:0, RowCount:0, ArgLen:0, start time: 2024-05-15 17:20:52.125 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:20:52.133 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=49] [neededSchemaVersion=50] ["start time"=54.875s] [gotSchemaVersion=50] [phyTblIDs="[]"] [actionTypes="[]"] [diffTypes="[\"create schema\"]"]
[2024/05/15 17:20:52.135 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:20:52.135 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=101] [version=50]
[2024/05/15 17:20:52.135 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=50] ["take time"=2.030292ms] [job="ID:101, Type:create schema, State:done, SchemaState:public, SchemaID:100, TableID:0, RowCount:0, ArgLen:1, start time: 2024-05-15 17:20:52.125 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:20:52.139 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=101] [job="ID:101, Type:create schema, State:synced, SchemaState:public, SchemaID:100, TableID:0, RowCount:0, ArgLen:0, start time: 2024-05-15 17:20:52.125 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:20:52.141 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=101]
[2024/05/15 17:20:52.141 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:20:52.144 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:103, Type:create view, State:queueing, SchemaState:none, SchemaID:100, TableID:102, RowCount:0, ArgLen:3, start time: 2024-05-15 17:20:52.142 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:20:52.144 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:103, Type:create view, State:queueing, SchemaState:none, SchemaID:100, TableID:102, RowCount:0, ArgLen:3, start time: 2024-05-15 17:20:52.142 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE OR REPLACE VIEW sys.schema_unused_indexes AS\n\t\tSELECT\n\t\t\ttable_schema as object_schema,\n\t\t\ttable_name as object_name,\n\t\t\tindex_name\n\t\tFROM information_schema.cluster_tidb_index_usage\n\t\tWHERE\n\t\t\ttable_schema not in ('sys', 'mysql', 'INFORMATION_SCHEMA', 'PERFORMANCE_SCHEMA') and\n\t\t\tindex_name != 'PRIMARY'\n\t\tGROUP BY table_schema, table_name, index_name\n\t\tHAVING\n\t\t\tsum(last_access_time) is null;"]
[2024/05/15 17:20:52.147 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=103] [category=ddl] [job="ID:103, Type:create view, State:queueing, SchemaState:none, SchemaID:100, TableID:102, RowCount:0, ArgLen:0, start time: 2024-05-15 17:20:52.142 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:20:52.149 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=50] [neededSchemaVersion=51] ["start time"=176.166s] [gotSchemaVersion=51] [phyTblIDs="[102]"] [actionTypes="[21]"] [diffTypes="[\"create view\"]"]
[2024/05/15 17:20:52.150 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:20:52.150 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=103] [version=51]
[2024/05/15 17:20:52.151 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=51] ["take time"=2.062084ms] [job="ID:103, Type:create view, State:done, SchemaState:public, SchemaID:100, TableID:102, RowCount:0, ArgLen:3, start time: 2024-05-15 17:20:52.142 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:20:52.156 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=103] [job="ID:103, Type:create view, State:synced, SchemaState:public, SchemaID:100, TableID:102, RowCount:0, ArgLen:0, start time: 2024-05-15 17:20:52.142 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:20:52.158 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=103]
[2024/05/15 17:20:52.158 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:20:52.159 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=0] ["to ID"=1] ["table ID"=4] ["database ID"=1]
[2024/05/15 17:20:52.163 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=0] ["to ID"=655] ["table ID"=16] ["database ID"=1]
[2024/05/15 17:20:52.166 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=0] ["to ID"=1] ["table ID"=18] ["database ID"=1]
[2024/05/15 17:20:52.166 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1] ["to ID"=2] ["table ID"=18] ["database ID"=1]
[2024/05/15 17:20:52.167 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2] ["to ID"=3] ["table ID"=18] ["database ID"=1]
[2024/05/15 17:20:52.167 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3] ["to ID"=4] ["table ID"=18] ["database ID"=1]
[2024/05/15 17:20:52.168 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=4] ["to ID"=5] ["table ID"=18] ["database ID"=1]
[2024/05/15 17:20:52.170 +08:00] [INFO] [bootstrap.go:745] ["bootstrap successful"] ["take time"=1.189340125s]
[2024/05/15 17:20:52.172 +08:00] [INFO] [mock.go:106] ["owner manager is canceled"] [category=ddl] [ID=3a3a61c8-9d27-419d-9365-24f661b83692] [ownerKey=/tidb/ddl/fg/owner]
[2024/05/15 17:20:52.172 +08:00] [INFO] [ddl_workerpool.go:82] ["closing workerPool"] [category=ddl]
[2024/05/15 17:20:52.172 +08:00] [INFO] [ddl_worker.go:186] ["DDL worker closed"] [worker="worker 2, tp add index"] [category=ddl] ["take time"=875ns]
[2024/05/15 17:20:52.172 +08:00] [INFO] [ddl_workerpool.go:82] ["closing workerPool"] [category=ddl]
[2024/05/15 17:20:52.172 +08:00] [INFO] [ddl_worker.go:186] ["DDL worker closed"] [worker="worker 1, tp general"] [category=ddl] ["take time"=291ns]
[2024/05/15 17:20:52.172 +08:00] [INFO] [ddl_workerpool.go:82] ["closing workerPool"] [category=ddl]
[2024/05/15 17:20:52.172 +08:00] [INFO] [delete_range.go:162] ["closing delRange"] [category=ddl]
[2024/05/15 17:20:52.172 +08:00] [INFO] [session_pool.go:99] ["closing session pool"] [category=ddl]
[2024/05/15 17:20:52.173 +08:00] [INFO] [ddl.go:951] ["DDL closed"] [category=ddl] [ID=3a3a61c8-9d27-419d-9365-24f661b83692] ["take time"=1.92975ms]
[2024/05/15 17:20:52.173 +08:00] [INFO] [ddl.go:769] ["stop DDL"] [category=ddl] [ID=3a3a61c8-9d27-419d-9365-24f661b83692]
[2024/05/15 17:20:52.173 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=mdlCheckLoop]
[2024/05/15 17:20:52.173 +08:00] [INFO] [domain.go:915] ["loadSchemaInLoop exited."]
[2024/05/15 17:20:52.173 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=loadSchemaInLoop]
[2024/05/15 17:20:52.173 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=runawayStartLoop]
[2024/05/15 17:20:52.173 +08:00] [INFO] [domain.go:769] ["topologySyncerKeeper exited."]
[2024/05/15 17:20:52.173 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=topologySyncerKeeper]
[2024/05/15 17:20:52.173 +08:00] [INFO] [domain.go:745] ["globalConfigSyncerKeeper exited."]
[2024/05/15 17:20:52.173 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=globalConfigSyncerKeeper]
[2024/05/15 17:20:52.173 +08:00] [INFO] [domain.go:719] ["infoSyncerKeeper exited."]
[2024/05/15 17:20:52.173 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=infoSyncerKeeper]
[2024/05/15 17:20:52.173 +08:00] [INFO] [domain.go:691] ["topNSlowQueryLoop exited."]
[2024/05/15 17:20:52.173 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=topNSlowQueryLoop]
[2024/05/15 17:20:52.173 +08:00] [INFO] [domain.go:1369] ["closestReplicaReadCheckLoop exited."]
[2024/05/15 17:20:52.173 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=closestReplicaReadCheckLoop]
[2024/05/15 17:20:52.173 +08:00] [INFO] [domain.go:1082] ["domain closed"] ["take time"=2.019791ms]
[2024/05/15 17:20:52.173 +08:00] [INFO] [tidb.go:80] ["new domain"] [store=f2791145-c314-457c-9bc8-cb6fcb04352e] ["ddl lease"=600ms] ["stats lease"=-1ns]
[2024/05/15 17:20:52.175 +08:00] [WARN] [controller.go:198] ["[resource group controller] server does not save config, load config failed"]
[2024/05/15 17:20:52.175 +08:00] [INFO] [controller.go:185] ["load resource controller config"] [config="{\"degraded-mode-wait-duration\":\"0s\",\"ltb-max-wait-duration\":\"30s\",\"wait-retry-interval\":\"50ms\",\"wait-retry-times\":10,\"request-unit\":{\"read-base-cost\":0.125,\"read-per-batch-base-cost\":0.5,\"read-cost-per-byte\":0.0000152587890625,\"write-base-cost\":1,\"write-per-batch-base-cost\":1,\"write-cost-per-byte\":0.0009765625,\"read-cpu-ms-cost\":0.3333333333333333},\"enable-controller-trace-log\":\"false\"}"] [ru-config="{\"ReadBaseCost\":0.125,\"ReadPerBatchBaseCost\":0.5,\"ReadBytesCost\":0.0000152587890625,\"WriteBaseCost\":1,\"WritePerBatchBaseCost\":1,\"WriteBytesCost\":0.0009765625,\"CPUMsCost\":0.3333333333333333,\"LTBMaxWaitDuration\":30000000000,\"WaitRetryInterval\":50000000,\"WaitRetryTimes\":10,\"DegradedModeWaitDuration\":0}"]
[2024/05/15 17:20:52.193 +08:00] [INFO] [domain.go:323] ["full load InfoSchema success"] [currentSchemaVersion=0] [neededSchemaVersion=51] ["start time"=17.22075ms]
[2024/05/15 17:20:52.196 +08:00] [INFO] [domain.go:643] ["full load and reset schema validator"]
[2024/05/15 17:20:52.196 +08:00] [INFO] [ddl.go:818] ["start DDL"] [category=ddl] [ID=78416708-6c92-4a0e-b1bc-f7c6d29092c2] [runWorker=true]
[2024/05/15 17:20:52.196 +08:00] [INFO] [ddl.go:777] ["start delRangeManager OK"] [category=ddl] ["is a emulator"=true]
[2024/05/15 17:20:52.196 +08:00] [WARN] [env.go:51] ["initialize environment failed"] [category=ddl-ingest] ["storage limitation"="only support TiKV storage"] ["current storage"=unistore] ["lightning is initialized"=false]
[2024/05/15 17:20:52.196 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=loadSchemaInLoop]
[2024/05/15 17:20:52.196 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=mdlCheckLoop]
[2024/05/15 17:20:52.196 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=topNSlowQueryLoop]
[2024/05/15 17:20:52.196 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=infoSyncerKeeper]
[2024/05/15 17:20:52.196 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=globalConfigSyncerKeeper]
[2024/05/15 17:20:52.196 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=runawayStartLoop]
[2024/05/15 17:20:52.196 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=requestUnitsWriterLoop]
[2024/05/15 17:20:52.196 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=topologySyncerKeeper]
[2024/05/15 17:20:52.196 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=closestReplicaReadCheckLoop]
[2024/05/15 17:20:52.196 +08:00] [WARN] [domain.go:1334] ["pd / etcd client not provided, won't begin Advancer."]
[2024/05/15 17:20:52.214 +08:00] [INFO] [delete_range.go:172] ["start delRange emulator"] [category=ddl]
[2024/05/15 17:20:52.214 +08:00] [INFO] [job_table.go:334] ["get global state and global state change"] [category=ddl] [oldState=false] [currState=false]
[2024/05/15 17:20:52.215 +08:00] [INFO] [runaway.go:149] ["try to start runaway manager loop"]
[2024/05/15 17:20:52.215 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=requestUnitsWriterLoop]
[2024/05/15 17:20:52.223 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=globalBindHandleWorkerLoop]
[2024/05/15 17:20:52.223 +08:00] [WARN] [sysvar_cache.go:49] ["sysvar cache is empty, triggering rebuild"]
[2024/05/15 17:20:52.224 +08:00] [INFO] [sysvar.go:2748] ["set resource control"] [enable=true]
[2024/05/15 17:20:52.225 +08:00] [INFO] [controller.go:447] ["[resource group controller] create resource group cost controller"] [name=default]
[2024/05/15 17:20:52.229 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=loadPrivilegeInLoop]
[2024/05/15 17:20:52.231 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=LoadSysVarCacheLoop]
[2024/05/15 17:20:52.231 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=dumpFileGcChecker]
[2024/05/15 17:20:52.231 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=indexUsageWorker]
[2024/05/15 17:20:52.231 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=quitStatsOwner]
[2024/05/15 17:20:52.232 +08:00] [INFO] [domain.go:2278] ["start load stats sub workers"] ["worker count"=5]
[2024/05/15 17:20:52.232 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=loadSigningCertLoop]
[2024/05/15 17:20:52.232 +08:00] [INFO] [manager.go:113] ["build task executor manager"] [server-id=:4000] [total-cpu=1] [total-mem=32GiB]
[2024/05/15 17:20:52.232 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=0] ["to ID"=1] ["table ID"=96] ["database ID"=1]
[2024/05/15 17:20:52.232 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=distTaskFrameworkLoop]
[2024/05/15 17:20:52.233 +08:00] [INFO] [domain.go:2078] ["dumpFileGcChecker started"]
[2024/05/15 17:20:52.234 +08:00] [INFO] [task_manager.go:217] ["scale ttl worker"] [ttl-worker=job-manager] [ttl-worker=task-manager] [originalCount=0] [newCount=4]
[2024/05/15 17:20:52.234 +08:00] [INFO] [task_manager.go:217] ["scale ttl worker"] [ttl-worker=job-manager] [ttl-worker=task-manager] [originalCount=0] [newCount=4]
[2024/05/15 17:20:52.237 +08:00] [INFO] [manager.go:146] ["task executor manager start"] [server-id=:4000]
[2024/05/15 17:20:52.237 +08:00] [INFO] [domain.go:1533] ["dist task executor manager started"]
[2024/05/15 17:20:52.237 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=5000] ["to ID"=5001] ["table ID"=16] ["database ID"=1]
[2024/05/15 17:20:52.243 +08:00] [INFO] [set.go:170] ["set global var"] [conn=1] [name=tidb_schema_cache_size] [val=1024]
[2024/05/15 17:20:52.248 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=1] [schemaVersion=51] [cur_db=test] [sql="drop table if exists origin"] [user=]
[2024/05/15 17:20:52.249 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=1] [schemaVersion=51] [cur_db=test] [sql="create table origin (a int not null) partition by RANGE(a) (partition p10 values less than (10),partition p30 values less than (30),partition p50 values less than (50),partition p70 values less than (70),partition p90 values less than (90));"] [user=]
[2024/05/15 17:20:52.255 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:110, Type:create table, State:queueing, SchemaState:none, SchemaID:2, TableID:104, RowCount:0, ArgLen:2, start time: 2024-05-15 17:20:52.255 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:20:52.255 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:110, Type:create table, State:queueing, SchemaState:none, SchemaID:2, TableID:104, RowCount:0, ArgLen:2, start time: 2024-05-15 17:20:52.255 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="create table origin (a int not null) partition by RANGE(a) (partition p10 values less than (10),partition p30 values less than (30),partition p50 values less than (50),partition p70 values less than (70),partition p90 values less than (90));"]
[2024/05/15 17:20:52.276 +08:00] [INFO] [job_table.go:334] ["get global state and global state change"] [category=ddl] [oldState=false] [currState=false]
[2024/05/15 17:20:52.276 +08:00] [INFO] [job_table.go:349] ["the owner sets owner operator value"] [category=ddl] [ownerOp=none]
[2024/05/15 17:20:52.292 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=110] [conn=1] [category=ddl] [job="ID:110, Type:create table, State:queueing, SchemaState:none, SchemaID:2, TableID:104, RowCount:0, ArgLen:0, start time: 2024-05-15 17:20:52.255 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:20:52.299 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=51] [neededSchemaVersion=52] ["start time"=3.586541ms] [gotSchemaVersion=52] [phyTblIDs="[]"] [actionTypes="[]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:20:52.300 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=110] [version=52]
[2024/05/15 17:20:52.302 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=52] ["take time"=6.005583ms] [job="ID:110, Type:create table, State:done, SchemaState:public, SchemaID:2, TableID:104, RowCount:0, ArgLen:2, start time: 2024-05-15 17:20:52.255 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:20:52.308 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=110] [conn=1] [job="ID:110, Type:create table, State:synced, SchemaState:public, SchemaID:2, TableID:104, RowCount:0, ArgLen:0, start time: 2024-05-15 17:20:52.255 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:20:52.311 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=110]
[2024/05/15 17:20:52.311 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:20:52.311 +08:00] [INFO] [tidb.go:269] ["rollbackTxn called due to ddl/autocommit failure"]
[2024/05/15 17:20:52.311 +08:00] [WARN] [session.go:2158] ["run statement failed"] [schemaVersion=52] [error="[ddl:8215]Failed to repair table: Partition p100 has lost"] [errorVerbose="[ddl:8215]Failed to repair table: Partition p100 has lost\ngithub.com/pingcap/errors.AddStack\n\t/Users/bba/.gvm/pkgsets/go1.21.0/global/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20240318064555-6bd07397691f/errors.go:178\ngithub.com/pingcap/errors.(*Error).GenWithStackByArgs\n\t/Users/bba/.gvm/pkgsets/go1.21.0/global/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20240318064555-6bd07397691f/normalize.go:175\ngithub.com/pingcap/tidb/pkg/ddl.checkAndOverridePartitionID\n\t/Users/bba/pc/tidb/pkg/ddl/partition.go:1598\ngithub.com/pingcap/tidb/pkg/ddl.(*ddl).RepairTable\n\t/Users/bba/pc/tidb/pkg/ddl/ddl_api.go:8496\ngithub.com/pingcap/tidb/pkg/executor.(*DDLExec).executeRepairTable\n\t/Users/bba/pc/tidb/pkg/executor/ddl.go:734\ngithub.com/pingcap/tidb/pkg/executor.(*DDLExec).Next\n\t/Users/bba/pc/tidb/pkg/executor/ddl.go:199\ngithub.com/pingcap/tidb/pkg/executor/internal/exec.Next\n\t/Users/bba/pc/tidb/pkg/executor/internal/exec/executor.go:410\ngithub.com/pingcap/tidb/pkg/executor.(*ExecStmt).next\n\t/Users/bba/pc/tidb/pkg/executor/adapter.go:1211\ngithub.com/pingcap/tidb/pkg/executor.(*ExecStmt).handleNoDelayExecutor\n\t/Users/bba/pc/tidb/pkg/executor/adapter.go:960\ngithub.com/pingcap/tidb/pkg/executor.(*ExecStmt).handleNoDelay\n\t/Users/bba/pc/tidb/pkg/executor/adapter.go:794\ngithub.com/pingcap/tidb/pkg/executor.(*ExecStmt).Exec\n\t/Users/bba/pc/tidb/pkg/executor/adapter.go:559\ngithub.com/pingcap/tidb/pkg/session.runStmt\n\t/Users/bba/pc/tidb/pkg/session/session.go:2285\ngithub.com/pingcap/tidb/pkg/session.(*session).ExecuteStmt\n\t/Users/bba/pc/tidb/pkg/session/session.go:2146\ngithub.com/pingcap/tidb/pkg/testkit.(*TestKit).ExecWithContext\n\t/Users/bba/pc/tidb/pkg/testkit/testkit.go:384\ngithub.com/pingcap/tidb/pkg/testkit.(*TestKit).Exec\n\t/Users/bba/pc/tidb/pkg/testkit/testkit.go:357\ngithub.com/pingcap/tidb/pkg/testkit.(*TestKit).ExecToErr\n\t/Users/bba/pc/tidb/pkg/testkit/testkit.go:430\ngithub.com/pingcap/tidb/pkg/testkit.(*TestKit).MustGetErrMsg\n\t/Users/bba/pc/tidb/pkg/testkit/testkit.go:474\ngithub.com/pingcap/tidb/pkg/ddl_test.TestRepairTableWithPartition\n\t/Users/bba/pc/tidb/pkg/ddl/repair_table_test.go:186\ntesting.tRunner\n\t/Users/bba/.gvm/gos/go1.21.0/src/testing/testing.go:1595\nruntime.goexit\n\t/Users/bba/.gvm/gos/go1.21.0/src/runtime/asm_arm64.s:1197"] [session="{\n  \"currDBName\": \"test\",\n  \"id\": 1,\n  \"status\": 2,\n  \"strictMode\": true,\n  \"user\": null\n}"]
[2024/05/15 17:20:52.312 +08:00] [INFO] [tidb.go:269] ["rollbackTxn called due to ddl/autocommit failure"]
[2024/05/15 17:20:52.312 +08:00] [WARN] [session.go:2158] ["run statement failed"] [schemaVersion=52] [error="[ddl:8215]Failed to repair table: Partition p20 has lost"] [errorVerbose="[ddl:8215]Failed to repair table: Partition p20 has lost\ngithub.com/pingcap/errors.AddStack\n\t/Users/bba/.gvm/pkgsets/go1.21.0/global/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20240318064555-6bd07397691f/errors.go:178\ngithub.com/pingcap/errors.(*Error).GenWithStackByArgs\n\t/Users/bba/.gvm/pkgsets/go1.21.0/global/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20240318064555-6bd07397691f/normalize.go:175\ngithub.com/pingcap/tidb/pkg/ddl.checkAndOverridePartitionID\n\t/Users/bba/pc/tidb/pkg/ddl/partition.go:1598\ngithub.com/pingcap/tidb/pkg/ddl.(*ddl).RepairTable\n\t/Users/bba/pc/tidb/pkg/ddl/ddl_api.go:8496\ngithub.com/pingcap/tidb/pkg/executor.(*DDLExec).executeRepairTable\n\t/Users/bba/pc/tidb/pkg/executor/ddl.go:734\ngithub.com/pingcap/tidb/pkg/executor.(*DDLExec).Next\n\t/Users/bba/pc/tidb/pkg/executor/ddl.go:199\ngithub.com/pingcap/tidb/pkg/executor/internal/exec.Next\n\t/Users/bba/pc/tidb/pkg/executor/internal/exec/executor.go:410\ngithub.com/pingcap/tidb/pkg/executor.(*ExecStmt).next\n\t/Users/bba/pc/tidb/pkg/executor/adapter.go:1211\ngithub.com/pingcap/tidb/pkg/executor.(*ExecStmt).handleNoDelayExecutor\n\t/Users/bba/pc/tidb/pkg/executor/adapter.go:960\ngithub.com/pingcap/tidb/pkg/executor.(*ExecStmt).handleNoDelay\n\t/Users/bba/pc/tidb/pkg/executor/adapter.go:794\ngithub.com/pingcap/tidb/pkg/executor.(*ExecStmt).Exec\n\t/Users/bba/pc/tidb/pkg/executor/adapter.go:559\ngithub.com/pingcap/tidb/pkg/session.runStmt\n\t/Users/bba/pc/tidb/pkg/session/session.go:2285\ngithub.com/pingcap/tidb/pkg/session.(*session).ExecuteStmt\n\t/Users/bba/pc/tidb/pkg/session/session.go:2146\ngithub.com/pingcap/tidb/pkg/testkit.(*TestKit).ExecWithContext\n\t/Users/bba/pc/tidb/pkg/testkit/testkit.go:384\ngithub.com/pingcap/tidb/pkg/testkit.(*TestKit).Exec\n\t/Users/bba/pc/tidb/pkg/testkit/testkit.go:357\ngithub.com/pingcap/tidb/pkg/testkit.(*TestKit).ExecToErr\n\t/Users/bba/pc/tidb/pkg/testkit/testkit.go:430\ngithub.com/pingcap/tidb/pkg/testkit.(*TestKit).MustGetErrMsg\n\t/Users/bba/pc/tidb/pkg/testkit/testkit.go:474\ngithub.com/pingcap/tidb/pkg/ddl_test.TestRepairTableWithPartition\n\t/Users/bba/pc/tidb/pkg/ddl/repair_table_test.go:194\ntesting.tRunner\n\t/Users/bba/.gvm/gos/go1.21.0/src/testing/testing.go:1595\nruntime.goexit\n\t/Users/bba/.gvm/gos/go1.21.0/src/runtime/asm_arm64.s:1197"] [session="{\n  \"currDBName\": \"test\",\n  \"id\": 1,\n  \"status\": 2,\n  \"strictMode\": true,\n  \"user\": null\n}"]
[2024/05/15 17:20:52.312 +08:00] [INFO] [tidb.go:269] ["rollbackTxn called due to ddl/autocommit failure"]
[2024/05/15 17:20:52.312 +08:00] [WARN] [session.go:2158] ["run statement failed"] [schemaVersion=52] [error="[ddl:8215]Failed to repair table: Partition pnew has lost"] [errorVerbose="[ddl:8215]Failed to repair table: Partition pnew has lost\ngithub.com/pingcap/errors.AddStack\n\t/Users/bba/.gvm/pkgsets/go1.21.0/global/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20240318064555-6bd07397691f/errors.go:178\ngithub.com/pingcap/errors.(*Error).GenWithStackByArgs\n\t/Users/bba/.gvm/pkgsets/go1.21.0/global/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20240318064555-6bd07397691f/normalize.go:175\ngithub.com/pingcap/tidb/pkg/ddl.checkAndOverridePartitionID\n\t/Users/bba/pc/tidb/pkg/ddl/partition.go:1598\ngithub.com/pingcap/tidb/pkg/ddl.(*ddl).RepairTable\n\t/Users/bba/pc/tidb/pkg/ddl/ddl_api.go:8496\ngithub.com/pingcap/tidb/pkg/executor.(*DDLExec).executeRepairTable\n\t/Users/bba/pc/tidb/pkg/executor/ddl.go:734\ngithub.com/pingcap/tidb/pkg/executor.(*DDLExec).Next\n\t/Users/bba/pc/tidb/pkg/executor/ddl.go:199\ngithub.com/pingcap/tidb/pkg/executor/internal/exec.Next\n\t/Users/bba/pc/tidb/pkg/executor/internal/exec/executor.go:410\ngithub.com/pingcap/tidb/pkg/executor.(*ExecStmt).next\n\t/Users/bba/pc/tidb/pkg/executor/adapter.go:1211\ngithub.com/pingcap/tidb/pkg/executor.(*ExecStmt).handleNoDelayExecutor\n\t/Users/bba/pc/tidb/pkg/executor/adapter.go:960\ngithub.com/pingcap/tidb/pkg/executor.(*ExecStmt).handleNoDelay\n\t/Users/bba/pc/tidb/pkg/executor/adapter.go:794\ngithub.com/pingcap/tidb/pkg/executor.(*ExecStmt).Exec\n\t/Users/bba/pc/tidb/pkg/executor/adapter.go:559\ngithub.com/pingcap/tidb/pkg/session.runStmt\n\t/Users/bba/pc/tidb/pkg/session/session.go:2285\ngithub.com/pingcap/tidb/pkg/session.(*session).ExecuteStmt\n\t/Users/bba/pc/tidb/pkg/session/session.go:2146\ngithub.com/pingcap/tidb/pkg/testkit.(*TestKit).ExecWithContext\n\t/Users/bba/pc/tidb/pkg/testkit/testkit.go:384\ngithub.com/pingcap/tidb/pkg/testkit.(*TestKit).Exec\n\t/Users/bba/pc/tidb/pkg/testkit/testkit.go:357\ngithub.com/pingcap/tidb/pkg/testkit.(*TestKit).ExecToErr\n\t/Users/bba/pc/tidb/pkg/testkit/testkit.go:430\ngithub.com/pingcap/tidb/pkg/testkit.(*TestKit).MustGetErrMsg\n\t/Users/bba/pc/tidb/pkg/testkit/testkit.go:474\ngithub.com/pingcap/tidb/pkg/ddl_test.TestRepairTableWithPartition\n\t/Users/bba/pc/tidb/pkg/ddl/repair_table_test.go:201\ntesting.tRunner\n\t/Users/bba/.gvm/gos/go1.21.0/src/testing/testing.go:1595\nruntime.goexit\n\t/Users/bba/.gvm/gos/go1.21.0/src/runtime/asm_arm64.s:1197"] [session="{\n  \"currDBName\": \"test\",\n  \"id\": 1,\n  \"status\": 2,\n  \"strictMode\": true,\n  \"user\": null\n}"]
[2024/05/15 17:20:52.314 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:111, Type:repair table, State:queueing, SchemaState:none, SchemaID:2, TableID:104, RowCount:0, ArgLen:1, start time: 2024-05-15 17:20:52.313 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:20:52.314 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:111, Type:repair table, State:queueing, SchemaState:none, SchemaID:2, TableID:104, RowCount:0, ArgLen:1, start time: 2024-05-15 17:20:52.313 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="admin repair table origin create table origin_rename (a int not null) partition by RANGE(a) (partition p10 values less than (10),partition p30 values less than (30),partition p50 values less than (50),partition p90 values less than (90));"]
[2024/05/15 17:20:52.319 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=111] [conn=1] [category=ddl] [job="ID:111, Type:repair table, State:queueing, SchemaState:none, SchemaID:2, TableID:104, RowCount:0, ArgLen:0, start time: 2024-05-15 17:20:52.313 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:20:52.326 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=52] [neededSchemaVersion=53] ["start time"=3.947ms] [gotSchemaVersion=53] [phyTblIDs="[104,105,106,107,109]"] [actionTypes="[29,29,29,29,29]"] [diffTypes="[\"repair table\"]"]
[2024/05/15 17:20:52.327 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=111] [version=53]
[2024/05/15 17:20:52.328 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=53] ["take time"=6.321958ms] [job="ID:111, Type:repair table, State:done, SchemaState:public, SchemaID:2, TableID:104, RowCount:0, ArgLen:1, start time: 2024-05-15 17:20:52.313 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:20:52.336 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=111] [conn=1] [job="ID:111, Type:repair table, State:synced, SchemaState:public, SchemaID:2, TableID:104, RowCount:0, ArgLen:0, start time: 2024-05-15 17:20:52.313 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:20:52.339 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=111]
[2024/05/15 17:20:52.339 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:20:52.339 +08:00] [WARN] [session.go:2116] ["compile SQL failed"] [error="[ddl:1103]Incorrect table name 'origin'%!(EXTRA string=this table is in repair)"] [errorVerbose="[ddl:1103]Incorrect table name 'origin'%!(EXTRA string=this table is in repair)\ngithub.com/pingcap/errors.AddStack\n\t/Users/bba/.gvm/pkgsets/go1.21.0/global/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20240318064555-6bd07397691f/errors.go:178\ngithub.com/pingcap/errors.(*Error).GenWithStackByArgs\n\t/Users/bba/.gvm/pkgsets/go1.21.0/global/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20240318064555-6bd07397691f/normalize.go:175\ngithub.com/pingcap/tidb/pkg/planner/core.(*preprocessor).checkNotInRepair\n\t/Users/bba/pc/tidb/pkg/planner/core/preprocess.go:1607\ngithub.com/pingcap/tidb/pkg/planner/core.(*preprocessor).handleTableName\n\t/Users/bba/pc/tidb/pkg/planner/core/preprocess.go:1554\ngithub.com/pingcap/tidb/pkg/planner/core.(*preprocessor).Leave\n\t/Users/bba/pc/tidb/pkg/planner/core/preprocess.go:596\ngithub.com/pingcap/tidb/pkg/parser/ast.(*TableName).Accept\n\t/Users/bba/pc/tidb/pkg/parser/ast/dml.go:452\ngithub.com/pingcap/tidb/pkg/parser/ast.(*DropTableStmt).Accept\n\t/Users/bba/pc/tidb/pkg/parser/ast/ddl.go:1268\ngithub.com/pingcap/tidb/pkg/planner/core.Preprocess\n\t/Users/bba/pc/tidb/pkg/planner/core/preprocess.go:138\ngithub.com/pingcap/tidb/pkg/executor.(*Compiler).Compile\n\t/Users/bba/pc/tidb/pkg/executor/compiler.go:67\ngithub.com/pingcap/tidb/pkg/session.(*session).ExecuteStmt\n\t/Users/bba/pc/tidb/pkg/session/session.go:2094\ngithub.com/pingcap/tidb/pkg/testkit.(*TestKit).ExecWithContext\n\t/Users/bba/pc/tidb/pkg/testkit/testkit.go:384\ngithub.com/pingcap/tidb/pkg/testkit.(*TestKit).MustExecWithContext\n\t/Users/bba/pc/tidb/pkg/testkit/testkit.go:156\ngithub.com/pingcap/tidb/pkg/testkit.(*TestKit).MustExec\n\t/Users/bba/pc/tidb/pkg/testkit/testkit.go:151\ngithub.com/pingcap/tidb/pkg/ddl_test.TestRepairTableWithPartition\n\t/Users/bba/pc/tidb/pkg/ddl/repair_table_test.go:224\ntesting.tRunner\n\t/Users/bba/.gvm/gos/go1.21.0/src/testing/testing.go:1595\nruntime.goexit\n\t/Users/bba/.gvm/gos/go1.21.0/src/runtime/asm_arm64.s:1197"] [SQL="drop table if exists origin"]
[2024/05/15 17:20:52.341 +08:00] [INFO] [mock.go:106] ["owner manager is canceled"] [category=ddl] [ID=78416708-6c92-4a0e-b1bc-f7c6d29092c2] [ownerKey=/tidb/ddl/fg/owner]
[2024/05/15 17:20:52.341 +08:00] [INFO] [ddl_workerpool.go:82] ["closing workerPool"] [category=ddl]
[2024/05/15 17:20:52.341 +08:00] [INFO] [ddl_worker.go:186] ["DDL worker closed"] [worker="worker 4, tp add index"] [category=ddl] ["take time"=1s]
[2024/05/15 17:20:52.341 +08:00] [INFO] [ddl_workerpool.go:82] ["closing workerPool"] [category=ddl]
[2024/05/15 17:20:52.341 +08:00] [INFO] [ddl_worker.go:186] ["DDL worker closed"] [worker="worker 3, tp general"] [category=ddl] ["take time"=375ns]
[2024/05/15 17:20:52.341 +08:00] [INFO] [ddl_workerpool.go:82] ["closing workerPool"] [category=ddl]
[2024/05/15 17:20:52.341 +08:00] [INFO] [delete_range.go:162] ["closing delRange"] [category=ddl]
[2024/05/15 17:20:52.341 +08:00] [INFO] [session_pool.go:99] ["closing session pool"] [category=ddl]
[2024/05/15 17:20:52.341 +08:00] [INFO] [ddl.go:951] ["DDL closed"] [category=ddl] [ID=78416708-6c92-4a0e-b1bc-f7c6d29092c2] ["take time"=343.167s]
[2024/05/15 17:20:52.341 +08:00] [INFO] [ddl.go:769] ["stop DDL"] [category=ddl] [ID=78416708-6c92-4a0e-b1bc-f7c6d29092c2]
[2024/05/15 17:20:52.341 +08:00] [INFO] [domain.go:1034] ["stopping ttlJobManager"]
[2024/05/15 17:20:52.341 +08:00] [INFO] [task_manager.go:194] ["shrink ttl worker"] [ttl-worker=job-manager] [ttl-worker=task-manager] [originalCount=4] [newCount=0]
[2024/05/15 17:20:52.341 +08:00] [INFO] [scan.go:309] ["ttlScanWorker loop exited."]
[2024/05/15 17:20:52.341 +08:00] [INFO] [scan.go:309] ["ttlScanWorker loop exited."]
[2024/05/15 17:20:52.341 +08:00] [INFO] [scan.go:309] ["ttlScanWorker loop exited."]
[2024/05/15 17:20:52.341 +08:00] [INFO] [scan.go:309] ["ttlScanWorker loop exited."]
[2024/05/15 17:20:52.341 +08:00] [INFO] [task_manager.go:194] ["shrink ttl worker"] [ttl-worker=job-manager] [ttl-worker=task-manager] [originalCount=4] [newCount=0]
[2024/05/15 17:20:52.341 +08:00] [INFO] [del.go:261] ["ttlDeleteWorker loop exited."]
[2024/05/15 17:20:52.341 +08:00] [INFO] [del.go:261] ["ttlDeleteWorker loop exited."]
[2024/05/15 17:20:52.341 +08:00] [INFO] [del.go:261] ["ttlDeleteWorker loop exited."]
[2024/05/15 17:20:52.341 +08:00] [INFO] [del.go:261] ["ttlDeleteWorker loop exited."]
[2024/05/15 17:20:52.341 +08:00] [INFO] [job_manager.go:174] ["ttlJobManager loop exited."] [ttl-worker=job-manager]
[2024/05/15 17:20:52.341 +08:00] [INFO] [domain.go:1045] ["ttlJobManager exited."]
[2024/05/15 17:20:52.341 +08:00] [INFO] [manager.go:280] ["recoverMetaLoop done"] [server-id=:4000]
[2024/05/15 17:20:52.341 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=mdlCheckLoop]
[2024/05/15 17:20:52.342 +08:00] [INFO] [domain.go:915] ["loadSchemaInLoop exited."]
[2024/05/15 17:20:52.342 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=loadSchemaInLoop]
[2024/05/15 17:20:52.342 +08:00] [INFO] [domain.go:1535] ["stopping dist task executor manager"]
[2024/05/15 17:20:52.342 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=loadSigningCertLoop]
[2024/05/15 17:20:52.342 +08:00] [INFO] [stats_syncload.go:216] ["SubLoadWorker exited."]
[2024/05/15 17:20:52.342 +08:00] [INFO] [stats_syncload.go:216] ["SubLoadWorker exited."]
[2024/05/15 17:20:52.342 +08:00] [INFO] [stats_syncload.go:216] ["SubLoadWorker exited."]
[2024/05/15 17:20:52.342 +08:00] [INFO] [stats_syncload.go:216] ["SubLoadWorker exited."]
[2024/05/15 17:20:52.342 +08:00] [INFO] [stats_syncload.go:216] ["SubLoadWorker exited."]
[2024/05/15 17:20:52.342 +08:00] [INFO] [mock.go:106] ["owner manager is canceled"] [category=ddl] [ID=78416708-6c92-4a0e-b1bc-f7c6d29092c2] [ownerKey=/tidb/stats/owner]
[2024/05/15 17:20:52.342 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=quitStatsOwner]
[2024/05/15 17:20:52.342 +08:00] [INFO] [domain.go:2361] ["indexUsageWorker exited."]
[2024/05/15 17:20:52.342 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=indexUsageWorker]
[2024/05/15 17:20:52.342 +08:00] [INFO] [domain.go:2082] ["dumpFileGcChecker exited."]
[2024/05/15 17:20:52.342 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=dumpFileGcChecker]
[2024/05/15 17:20:52.342 +08:00] [INFO] [domain.go:1758] ["LoadSysVarCacheLoop exited."]
[2024/05/15 17:20:52.342 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=LoadSysVarCacheLoop]
[2024/05/15 17:20:52.342 +08:00] [INFO] [domain.go:1708] ["loadPrivilegeInLoop exited."]
[2024/05/15 17:20:52.342 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=loadPrivilegeInLoop]
[2024/05/15 17:20:52.342 +08:00] [INFO] [mock.go:106] ["owner manager is canceled"] [category=ddl] [ID=78416708-6c92-4a0e-b1bc-f7c6d29092c2] [ownerKey=/tidb/bindinfo/owner]
[2024/05/15 17:20:52.342 +08:00] [INFO] [domain.go:1897] ["globalBindHandleWorkerLoop exited."]
[2024/05/15 17:20:52.342 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=globalBindHandleWorkerLoop]
[2024/05/15 17:20:52.342 +08:00] [INFO] [domain.go:769] ["topologySyncerKeeper exited."]
[2024/05/15 17:20:52.342 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=topologySyncerKeeper]
[2024/05/15 17:20:52.342 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=runawayStartLoop]
[2024/05/15 17:20:52.342 +08:00] [INFO] [domain.go:745] ["globalConfigSyncerKeeper exited."]
[2024/05/15 17:20:52.342 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=globalConfigSyncerKeeper]
[2024/05/15 17:20:52.342 +08:00] [INFO] [domain.go:719] ["infoSyncerKeeper exited."]
[2024/05/15 17:20:52.342 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=infoSyncerKeeper]
[2024/05/15 17:20:52.342 +08:00] [INFO] [domain.go:691] ["topNSlowQueryLoop exited."]
[2024/05/15 17:20:52.342 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=topNSlowQueryLoop]
[2024/05/15 17:20:52.342 +08:00] [INFO] [domain.go:1369] ["closestReplicaReadCheckLoop exited."]
[2024/05/15 17:20:52.342 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=closestReplicaReadCheckLoop]
[2024/05/15 17:20:52.342 +08:00] [INFO] [manager.go:179] ["handle tasks loop done"] [server-id=:4000]
[2024/05/15 17:20:52.342 +08:00] [INFO] [domain.go:1537] ["dist task executor manager stopped"]
[2024/05/15 17:20:52.342 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=distTaskFrameworkLoop]
[2024/05/15 17:20:52.342 +08:00] [INFO] [domain.go:1082] ["domain closed"] ["take time"=1.98575ms]
[2024/05/15 17:20:52.361 +08:00] [INFO] [db.go:567] ["Closing database"]
[2024/05/15 17:20:52.361 +08:00] [INFO] [db.go:592] ["Memtable flushed"]
[2024/05/15 17:20:52.361 +08:00] [INFO] [db.go:596] ["Compaction finished"]
[2024/05/15 17:20:52.361 +08:00] [INFO] [db.go:615] ["BlobManager finished"]
[2024/05/15 17:20:52.361 +08:00] [INFO] [db.go:619] ["ResourceManager finished"]
[2024/05/15 17:20:52.361 +08:00] [INFO] [db.go:625] ["Waiting for closer"]
--- FAIL: TestRepairTableWithPartition (1.47s)
    testkit.go:158: 
        	Error Trace:	/Users/bba/pc/tidb/pkg/testkit/testkit.go:158
        	            				/Users/bba/pc/tidb/pkg/testkit/testkit.go:151
        	            				/Users/bba/pc/tidb/pkg/ddl/repair_table_test.go:224
        	Error:      	Received unexpected error:
        	            	[ddl:1103]Incorrect table name 'origin'%!(EXTRA string=this table is in repair)
        	            	github.com/pingcap/errors.AddStack
        	            		/Users/bba/.gvm/pkgsets/go1.21.0/global/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20240318064555-6bd07397691f/errors.go:178
        	            	github.com/pingcap/errors.(*Error).GenWithStackByArgs
        	            		/Users/bba/.gvm/pkgsets/go1.21.0/global/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20240318064555-6bd07397691f/normalize.go:175
        	            	github.com/pingcap/tidb/pkg/planner/core.(*preprocessor).checkNotInRepair
        	            		/Users/bba/pc/tidb/pkg/planner/core/preprocess.go:1607
        	            	github.com/pingcap/tidb/pkg/planner/core.(*preprocessor).handleTableName
        	            		/Users/bba/pc/tidb/pkg/planner/core/preprocess.go:1554
        	            	github.com/pingcap/tidb/pkg/planner/core.(*preprocessor).Leave
        	            		/Users/bba/pc/tidb/pkg/planner/core/preprocess.go:596
        	            	github.com/pingcap/tidb/pkg/parser/ast.(*TableName).Accept
        	            		/Users/bba/pc/tidb/pkg/parser/ast/dml.go:452
        	            	github.com/pingcap/tidb/pkg/parser/ast.(*DropTableStmt).Accept
        	            		/Users/bba/pc/tidb/pkg/parser/ast/ddl.go:1268
        	            	github.com/pingcap/tidb/pkg/planner/core.Preprocess
        	            		/Users/bba/pc/tidb/pkg/planner/core/preprocess.go:138
        	            	github.com/pingcap/tidb/pkg/executor.(*Compiler).Compile
        	            		/Users/bba/pc/tidb/pkg/executor/compiler.go:67
        	            	github.com/pingcap/tidb/pkg/session.(*session).ExecuteStmt
        	            		/Users/bba/pc/tidb/pkg/session/session.go:2094
        	            	github.com/pingcap/tidb/pkg/testkit.(*TestKit).ExecWithContext
        	            		/Users/bba/pc/tidb/pkg/testkit/testkit.go:384
        	            	github.com/pingcap/tidb/pkg/testkit.(*TestKit).MustExecWithContext
        	            		/Users/bba/pc/tidb/pkg/testkit/testkit.go:156
        	            	github.com/pingcap/tidb/pkg/testkit.(*TestKit).MustExec
        	            		/Users/bba/pc/tidb/pkg/testkit/testkit.go:151
        	            	github.com/pingcap/tidb/pkg/ddl_test.TestRepairTableWithPartition
        	            		/Users/bba/pc/tidb/pkg/ddl/repair_table_test.go:224
        	            	testing.tRunner
        	            		/Users/bba/.gvm/gos/go1.21.0/src/testing/testing.go:1595
        	            	runtime.goexit
        	            		/Users/bba/.gvm/gos/go1.21.0/src/runtime/asm_arm64.s:1197
        	Test:       	TestRepairTableWithPartition
        	Messages:   	sql:drop table if exists origin, [], error stack [ddl:1103]Incorrect table name 'origin'%!(EXTRA string=this table is in repair)
        	            	github.com/pingcap/errors.AddStack
        	            		/Users/bba/.gvm/pkgsets/go1.21.0/global/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20240318064555-6bd07397691f/errors.go:178
        	            	github.com/pingcap/errors.(*Error).GenWithStackByArgs
        	            		/Users/bba/.gvm/pkgsets/go1.21.0/global/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20240318064555-6bd07397691f/normalize.go:175
        	            	github.com/pingcap/tidb/pkg/planner/core.(*preprocessor).checkNotInRepair
        	            		/Users/bba/pc/tidb/pkg/planner/core/preprocess.go:1607
        	            	github.com/pingcap/tidb/pkg/planner/core.(*preprocessor).handleTableName
        	            		/Users/bba/pc/tidb/pkg/planner/core/preprocess.go:1554
        	            	github.com/pingcap/tidb/pkg/planner/core.(*preprocessor).Leave
        	            		/Users/bba/pc/tidb/pkg/planner/core/preprocess.go:596
        	            	github.com/pingcap/tidb/pkg/parser/ast.(*TableName).Accept
        	            		/Users/bba/pc/tidb/pkg/parser/ast/dml.go:452
        	            	github.com/pingcap/tidb/pkg/parser/ast.(*DropTableStmt).Accept
        	            		/Users/bba/pc/tidb/pkg/parser/ast/ddl.go:1268
        	            	github.com/pingcap/tidb/pkg/planner/core.Preprocess
        	            		/Users/bba/pc/tidb/pkg/planner/core/preprocess.go:138
        	            	github.com/pingcap/tidb/pkg/executor.(*Compiler).Compile
        	            		/Users/bba/pc/tidb/pkg/executor/compiler.go:67
        	            	github.com/pingcap/tidb/pkg/session.(*session).ExecuteStmt
        	            		/Users/bba/pc/tidb/pkg/session/session.go:2094
        	            	github.com/pingcap/tidb/pkg/testkit.(*TestKit).ExecWithContext
        	            		/Users/bba/pc/tidb/pkg/testkit/testkit.go:384
        	            	github.com/pingcap/tidb/pkg/testkit.(*TestKit).MustExecWithContext
        	            		/Users/bba/pc/tidb/pkg/testkit/testkit.go:156
        	            	github.com/pingcap/tidb/pkg/testkit.(*TestKit).MustExec
        	            		/Users/bba/pc/tidb/pkg/testkit/testkit.go:151
        	            	github.com/pingcap/tidb/pkg/ddl_test.TestRepairTableWithPartition
        	            		/Users/bba/pc/tidb/pkg/ddl/repair_table_test.go:224
        	            	testing.tRunner
        	            		/Users/bba/.gvm/gos/go1.21.0/src/testing/testing.go:1595
        	            	runtime.goexit
        	            		/Users/bba/.gvm/gos/go1.21.0/src/runtime/asm_arm64.s:1197
FAIL
[FAIL]  pkg/ddl/tests/serial TestRecoverTableByJobID
err=exit status 1
[2024/05/15 17:21:37.734 +08:00] [INFO] [store_cache.go:510] ["change store resolve state"] [store=1] [addr=store1] [from=unresolved] [to=resolved] [liveness-state=reachable]
[2024/05/15 17:21:37.735 +08:00] [INFO] [ddl_api.go:1139] ["Automatically convert BLOB(65535) to MEDIUMBLOB"] [category=ddl]
[2024/05/15 17:21:37.735 +08:00] [INFO] [ddl_api.go:1139] ["Automatically convert BLOB(65535) to MEDIUMBLOB"] [category=ddl]
[2024/05/15 17:21:37.735 +08:00] [INFO] [ddl_api.go:1139] ["Automatically convert BLOB(65535) to MEDIUMBLOB"] [category=ddl]
[2024/05/15 17:21:37.736 +08:00] [INFO] [ddl_api.go:1139] ["Automatically convert BLOB(65535) to MEDIUMBLOB"] [category=ddl]
[2024/05/15 17:21:37.736 +08:00] [INFO] [ddl_api.go:1139] ["Automatically convert BLOB(65535) to MEDIUMBLOB"] [category=ddl]
[2024/05/15 17:21:37.736 +08:00] [INFO] [tidb.go:80] ["new domain"] [store=04390e20-8124-436d-9019-16dd7d00beea] ["ddl lease"=200ms] ["stats lease"=-1ns]
[2024/05/15 17:21:37.740 +08:00] [WARN] [controller.go:198] ["[resource group controller] server does not save config, load config failed"]
[2024/05/15 17:21:37.740 +08:00] [INFO] [controller.go:185] ["load resource controller config"] [config="{\"degraded-mode-wait-duration\":\"0s\",\"ltb-max-wait-duration\":\"30s\",\"wait-retry-interval\":\"50ms\",\"wait-retry-times\":10,\"request-unit\":{\"read-base-cost\":0.125,\"read-per-batch-base-cost\":0.5,\"read-cost-per-byte\":0.0000152587890625,\"write-base-cost\":1,\"write-per-batch-base-cost\":1,\"write-cost-per-byte\":0.0009765625,\"read-cpu-ms-cost\":0.3333333333333333},\"enable-controller-trace-log\":\"false\"}"] [ru-config="{\"ReadBaseCost\":0.125,\"ReadPerBatchBaseCost\":0.5,\"ReadBytesCost\":0.0000152587890625,\"WriteBaseCost\":1,\"WritePerBatchBaseCost\":1,\"WriteBytesCost\":0.0009765625,\"CPUMsCost\":0.3333333333333333,\"LTBMaxWaitDuration\":30000000000,\"WaitRetryInterval\":50000000,\"WaitRetryTimes\":10,\"DegradedModeWaitDuration\":0}"]
[2024/05/15 17:21:37.740 +08:00] [WARN] [domain.go:244] ["failed to get schema version"] [error="There is no Write MVCC info for the schema version"] [errorVerbose="There is no Write MVCC info for the schema version\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).getTimestampForSchemaVersionWithNonEmptyDiff\n\t/Users/bba/pc/tidb/pkg/domain/domain.go:343\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).loadInfoSchema\n\t/Users/bba/pc/tidb/pkg/domain/domain.go:242\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).Reload\n\t/Users/bba/pc/tidb/pkg/domain/domain.go:614\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).Init\n\t/Users/bba/pc/tidb/pkg/domain/domain.go:1268\ngithub.com/pingcap/tidb/pkg/session.(*domainMap).Get.func1\n\t/Users/bba/pc/tidb/pkg/session/tidb.go:92\ngithub.com/pingcap/tidb/pkg/util.RunWithRetry\n\t/Users/bba/pc/tidb/pkg/util/misc.go:70\ngithub.com/pingcap/tidb/pkg/session.(*domainMap).Get\n\t/Users/bba/pc/tidb/pkg/session/tidb.go:79\ngithub.com/pingcap/tidb/pkg/session.createSessionWithOpt\n\t/Users/bba/pc/tidb/pkg/session/session.go:3633\ngithub.com/pingcap/tidb/pkg/session.createSession\n\t/Users/bba/pc/tidb/pkg/session/session.go:3625\ngithub.com/pingcap/tidb/pkg/session.runInBootstrapSession\n\t/Users/bba/pc/tidb/pkg/session/session.go:3575\ngithub.com/pingcap/tidb/pkg/session.bootstrapSessionImpl\n\t/Users/bba/pc/tidb/pkg/session/session.go:3351\ngithub.com/pingcap/tidb/pkg/session.BootstrapSession\n\t/Users/bba/pc/tidb/pkg/session/session.go:3317\ngithub.com/pingcap/tidb/pkg/ddl/tests/serial.createMockStoreAndDomain\n\t/Users/bba/pc/tidb/pkg/ddl/tests/serial/serial_test.go:421\ngithub.com/pingcap/tidb/pkg/ddl/tests/serial.TestRecoverTableByJobID\n\t/Users/bba/pc/tidb/pkg/ddl/tests/serial/serial_test.go:533\ntesting.tRunner\n\t/Users/bba/.gvm/gos/go1.21.0/src/testing/testing.go:1595\nruntime.goexit\n\t/Users/bba/.gvm/gos/go1.21.0/src/runtime/asm_arm64.s:1197"] [version=0]
[2024/05/15 17:21:37.748 +08:00] [INFO] [domain.go:323] ["full load InfoSchema success"] [currentSchemaVersion=0] [neededSchemaVersion=0] ["start time"=7.502625ms]
[2024/05/15 17:21:37.748 +08:00] [INFO] [domain.go:643] ["full load and reset schema validator"]
[2024/05/15 17:21:37.748 +08:00] [INFO] [ddl.go:818] ["start DDL"] [category=ddl] [ID=8d397871-70ca-413d-bbfe-fc9f6c87b408] [runWorker=true]
[2024/05/15 17:21:37.748 +08:00] [INFO] [ddl.go:777] ["start delRangeManager OK"] [category=ddl] ["is a emulator"=true]
[2024/05/15 17:21:37.748 +08:00] [WARN] [env.go:51] ["initialize environment failed"] [category=ddl-ingest] ["storage limitation"="only support TiKV storage"] ["current storage"=unistore] ["lightning is initialized"=false]
[2024/05/15 17:21:37.748 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=loadSchemaInLoop]
[2024/05/15 17:21:37.748 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=mdlCheckLoop]
[2024/05/15 17:21:37.748 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=topNSlowQueryLoop]
[2024/05/15 17:21:37.748 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=infoSyncerKeeper]
[2024/05/15 17:21:37.748 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=globalConfigSyncerKeeper]
[2024/05/15 17:21:37.748 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=runawayStartLoop]
[2024/05/15 17:21:37.748 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=requestUnitsWriterLoop]
[2024/05/15 17:21:37.748 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=topologySyncerKeeper]
[2024/05/15 17:21:37.748 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=closestReplicaReadCheckLoop]
[2024/05/15 17:21:37.748 +08:00] [WARN] [domain.go:1334] ["pd / etcd client not provided, won't begin Advancer."]
[2024/05/15 17:21:37.749 +08:00] [INFO] [delete_range.go:172] ["start delRange emulator"] [category=ddl]
[2024/05/15 17:21:37.749 +08:00] [INFO] [job_table.go:334] ["get global state and global state change"] [category=ddl] [oldState=false] [currState=false]
[2024/05/15 17:21:37.749 +08:00] [INFO] [runaway.go:149] ["try to start runaway manager loop"]
[2024/05/15 17:21:37.749 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=requestUnitsWriterLoop]
[2024/05/15 17:21:37.799 +08:00] [INFO] [job_table.go:334] ["get global state and global state change"] [category=ddl] [oldState=false] [currState=false]
[2024/05/15 17:21:37.799 +08:00] [INFO] [job_table.go:349] ["the owner sets owner operator value"] [category=ddl] [ownerOp=none]
[2024/05/15 17:21:37.850 +08:00] [WARN] [domain.go:244] ["failed to get schema version"] [error="There is no Write MVCC info for the schema version"] [errorVerbose="There is no Write MVCC info for the schema version\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).getTimestampForSchemaVersionWithNonEmptyDiff\n\t/Users/bba/pc/tidb/pkg/domain/domain.go:343\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).loadInfoSchema\n\t/Users/bba/pc/tidb/pkg/domain/domain.go:242\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).Reload\n\t/Users/bba/pc/tidb/pkg/domain/domain.go:614\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).loadSchemaInLoop\n\t/Users/bba/pc/tidb/pkg/domain/domain.go:922\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).Init.func2\n\t/Users/bba/pc/tidb/pkg/domain/domain.go:1295\ngithub.com/pingcap/tidb/pkg/util.(*WaitGroupEnhancedWrapper).Run.func1\n\t/Users/bba/pc/tidb/pkg/util/wait_group_wrapper.go:99\nruntime.goexit\n\t/Users/bba/.gvm/gos/go1.21.0/src/runtime/asm_arm64.s:1197"] [version=0]
[2024/05/15 17:21:37.950 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=0] [cur_db=mysql] [sql="CREATE DATABASE IF NOT EXISTS test"] [user=]
[2024/05/15 17:21:37.951 +08:00] [WARN] [domain.go:244] ["failed to get schema version"] [error="There is no Write MVCC info for the schema version"] [errorVerbose="There is no Write MVCC info for the schema version\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).getTimestampForSchemaVersionWithNonEmptyDiff\n\t/Users/bba/pc/tidb/pkg/domain/domain.go:343\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).loadInfoSchema\n\t/Users/bba/pc/tidb/pkg/domain/domain.go:242\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).Reload\n\t/Users/bba/pc/tidb/pkg/domain/domain.go:614\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).loadSchemaInLoop\n\t/Users/bba/pc/tidb/pkg/domain/domain.go:922\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).Init.func2\n\t/Users/bba/pc/tidb/pkg/domain/domain.go:1295\ngithub.com/pingcap/tidb/pkg/util.(*WaitGroupEnhancedWrapper).Run.func1\n\t/Users/bba/pc/tidb/pkg/util/wait_group_wrapper.go:99\nruntime.goexit\n\t/Users/bba/.gvm/gos/go1.21.0/src/runtime/asm_arm64.s:1197"] [version=0]
[2024/05/15 17:21:37.953 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:3, Type:create schema, State:queueing, SchemaState:none, SchemaID:2, TableID:0, RowCount:0, ArgLen:1, start time: 2024-05-15 17:21:37.952 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:21:37.953 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:3, Type:create schema, State:queueing, SchemaState:none, SchemaID:2, TableID:0, RowCount:0, ArgLen:1, start time: 2024-05-15 17:21:37.952 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE DATABASE IF NOT EXISTS test"]
[2024/05/15 17:21:37.958 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=3] [category=ddl] [job="ID:3, Type:create schema, State:queueing, SchemaState:none, SchemaID:2, TableID:0, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:37.952 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:37.967 +08:00] [INFO] [domain.go:323] ["full load InfoSchema success"] [currentSchemaVersion=0] [neededSchemaVersion=1] ["start time"=8.275042ms]
[2024/05/15 17:21:37.968 +08:00] [INFO] [domain.go:643] ["full load and reset schema validator"]
[2024/05/15 17:21:37.969 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:21:37.969 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=3] [version=1]
[2024/05/15 17:21:37.969 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=1] ["take time"=9.805541ms] [job="ID:3, Type:create schema, State:done, SchemaState:public, SchemaID:2, TableID:0, RowCount:0, ArgLen:1, start time: 2024-05-15 17:21:37.952 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:37.972 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=3] [job="ID:3, Type:create schema, State:synced, SchemaState:public, SchemaID:2, TableID:0, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:37.952 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:37.973 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=3]
[2024/05/15 17:21:37.973 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:21:37.973 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=1] [cur_db=mysql] [sql="CREATE DATABASE IF NOT EXISTS `mysql`"] [user=]
[2024/05/15 17:21:37.973 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=1] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.user (\n\t\tHost\t\t\t\t\tCHAR(255),\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tauthentication_string\tTEXT,\n\t\tplugin\t\t\t\t\tCHAR(64),\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tProcess_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_db_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tSuper_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_user_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_slave_priv\t    \tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_client_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_role_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_role_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAccount_locked\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShutdown_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReload_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tFILE_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tConfig_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_Tablespace_Priv  ENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPassword_reuse_history  smallint unsigned DEFAULT NULL,\n\t\tPassword_reuse_time     smallint unsigned DEFAULT NULL,\n\t\tUser_attributes\t\t\tjson,\n\t\tToken_issuer\t\t\tVARCHAR(255),\n\t\tPassword_expired\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPassword_last_changed\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP(),\n\t\tPassword_lifetime\t\tSMALLINT UNSIGNED DEFAULT NULL,\n\t\tPRIMARY KEY (Host, User));"] [user=]
[2024/05/15 17:21:37.976 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:5, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:4, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:37.974 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:21:37.976 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:5, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:4, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:37.974 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.user (\n\t\tHost\t\t\t\t\tCHAR(255),\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tauthentication_string\tTEXT,\n\t\tplugin\t\t\t\t\tCHAR(64),\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tProcess_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_db_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tSuper_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_user_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_slave_priv\t    \tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_client_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_role_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_role_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAccount_locked\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShutdown_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReload_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tFILE_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tConfig_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_Tablespace_Priv  ENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPassword_reuse_history  smallint unsigned DEFAULT NULL,\n\t\tPassword_reuse_time     smallint unsigned DEFAULT NULL,\n\t\tUser_attributes\t\t\tjson,\n\t\tToken_issuer\t\t\tVARCHAR(255),\n\t\tPassword_expired\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPassword_last_changed\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP(),\n\t\tPassword_lifetime\t\tSMALLINT UNSIGNED DEFAULT NULL,\n\t\tPRIMARY KEY (Host, User));"]
[2024/05/15 17:21:37.980 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=5] [category=ddl] [job="ID:5, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:4, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:37.974 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:37.986 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=1] [neededSchemaVersion=2] ["start time"=1.21925ms] [gotSchemaVersion=2] [phyTblIDs="[4]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:21:37.987 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:21:37.987 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=5] [version=2]
[2024/05/15 17:21:37.990 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=2] ["take time"=5.550375ms] [job="ID:5, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:4, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:37.974 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:37.998 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=5] [job="ID:5, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:4, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:37.974 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:38.003 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=5]
[2024/05/15 17:21:38.003 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:21:38.004 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=2] [cur_db=mysql] [sql="CREATE TABLE  IF NOT EXISTS mysql.password_history (\n         Host char(255)  NOT NULL DEFAULT '',\n         User char(32)  NOT NULL DEFAULT '',\n         Password_timestamp timestamp(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6),\n         Password text,\n         PRIMARY KEY (Host,User,Password_timestamp )\n        ) COMMENT='Password history for user accounts' "] [user=]
[2024/05/15 17:21:38.005 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:7, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:6, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:38.005 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:21:38.005 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:7, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:6, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:38.005 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE  IF NOT EXISTS mysql.password_history (\n         Host char(255)  NOT NULL DEFAULT '',\n         User char(32)  NOT NULL DEFAULT '',\n         Password_timestamp timestamp(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6),\n         Password text,\n         PRIMARY KEY (Host,User,Password_timestamp )\n        ) COMMENT='Password history for user accounts' "]
[2024/05/15 17:21:38.010 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=7] [category=ddl] [job="ID:7, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:6, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:38.005 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:38.012 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=2] [neededSchemaVersion=3] ["start time"=219.792s] [gotSchemaVersion=3] [phyTblIDs="[6]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:21:38.012 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:21:38.012 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=7] [version=3]
[2024/05/15 17:21:38.013 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=3] ["take time"=2.0095ms] [job="ID:7, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:6, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:38.005 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:38.017 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=7] [job="ID:7, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:6, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:38.005 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:38.019 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=7]
[2024/05/15 17:21:38.019 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:21:38.019 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=3] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.global_priv (Host CHAR(255) NOT NULL DEFAULT '',User CHAR(80) NOT NULL DEFAULT '',Priv LONGTEXT NOT NULL DEFAULT '',PRIMARY KEY (Host, User))"] [user=]
[2024/05/15 17:21:38.021 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:9, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:8, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:38.02 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:21:38.021 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:9, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:8, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:38.02 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.global_priv (Host CHAR(255) NOT NULL DEFAULT '',User CHAR(80) NOT NULL DEFAULT '',Priv LONGTEXT NOT NULL DEFAULT '',PRIMARY KEY (Host, User))"]
[2024/05/15 17:21:38.024 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=9] [category=ddl] [job="ID:9, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:8, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:38.02 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:38.026 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=3] [neededSchemaVersion=4] ["start time"=182.459s] [gotSchemaVersion=4] [phyTblIDs="[8]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:21:38.026 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:21:38.026 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=9] [version=4]
[2024/05/15 17:21:38.028 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=4] ["take time"=2.577458ms] [job="ID:9, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:8, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:38.02 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:38.031 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=9] [job="ID:9, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:8, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:38.02 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:38.033 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=9]
[2024/05/15 17:21:38.033 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:21:38.033 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=4] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.db (\n\t\tHost\t\t\t\t\tCHAR(255),\n\t\tDB\t\t\t\t\t\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv \t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (Host, DB, User));"] [user=]
[2024/05/15 17:21:38.034 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:11, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:10, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:38.033 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:21:38.034 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:11, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:10, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:38.033 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.db (\n\t\tHost\t\t\t\t\tCHAR(255),\n\t\tDB\t\t\t\t\t\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv \t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (Host, DB, User));"]
[2024/05/15 17:21:38.038 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=11] [category=ddl] [job="ID:11, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:10, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:38.033 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:38.041 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=4] [neededSchemaVersion=5] ["start time"=515.167s] [gotSchemaVersion=5] [phyTblIDs="[10]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:21:38.042 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:21:38.042 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=11] [version=5]
[2024/05/15 17:21:38.043 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=5] ["take time"=2.195292ms] [job="ID:11, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:10, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:38.033 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:38.047 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=11] [job="ID:11, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:10, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:38.033 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:38.049 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=11]
[2024/05/15 17:21:38.049 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:21:38.049 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=5] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tables_priv (\n\t\tHost\t\tCHAR(255),\n\t\tDB\t\t\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tGrantor\t\tCHAR(77),\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tTable_priv\tSET('Select','Insert','Update','Delete','Create','Drop','Grant','Index','Alter','Create View','Show View','Trigger','References'),\n\t\tColumn_priv\tSET('Select','Insert','Update','References'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name));"] [user=]
[2024/05/15 17:21:38.051 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:13, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:12, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:38.05 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:21:38.051 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:13, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:12, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:38.05 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tables_priv (\n\t\tHost\t\tCHAR(255),\n\t\tDB\t\t\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tGrantor\t\tCHAR(77),\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tTable_priv\tSET('Select','Insert','Update','Delete','Create','Drop','Grant','Index','Alter','Create View','Show View','Trigger','References'),\n\t\tColumn_priv\tSET('Select','Insert','Update','References'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name));"]
[2024/05/15 17:21:38.053 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=13] [category=ddl] [job="ID:13, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:12, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:38.05 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:38.055 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=5] [neededSchemaVersion=6] ["start time"=265.25s] [gotSchemaVersion=6] [phyTblIDs="[12]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:21:38.056 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:21:38.056 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=13] [version=6]
[2024/05/15 17:21:38.057 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=6] ["take time"=2.07825ms] [job="ID:13, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:12, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:38.05 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:38.061 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=13] [job="ID:13, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:12, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:38.05 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:38.063 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=13]
[2024/05/15 17:21:38.063 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:21:38.063 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=6] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.columns_priv(\n\t\tHost\t\tCHAR(255),\n\t\tDB\t\t\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tColumn_name\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tColumn_priv\tSET('Select','Insert','Update','References'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name, Column_name));"] [user=]
[2024/05/15 17:21:38.064 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:15, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:14, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:38.064 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:21:38.064 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:15, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:14, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:38.064 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.columns_priv(\n\t\tHost\t\tCHAR(255),\n\t\tDB\t\t\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tColumn_name\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tColumn_priv\tSET('Select','Insert','Update','References'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name, Column_name));"]
[2024/05/15 17:21:38.067 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=15] [category=ddl] [job="ID:15, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:14, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:38.064 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:38.069 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=6] [neededSchemaVersion=7] ["start time"=257.708s] [gotSchemaVersion=7] [phyTblIDs="[14]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:21:38.069 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:21:38.069 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=15] [version=7]
[2024/05/15 17:21:38.070 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=7] ["take time"=2.013625ms] [job="ID:15, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:14, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:38.064 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:38.074 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=15] [job="ID:15, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:14, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:38.064 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:38.076 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=15]
[2024/05/15 17:21:38.076 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:21:38.076 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=7] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.GLOBAL_VARIABLES(\n\t\tVARIABLE_NAME  VARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE VARCHAR(16383) DEFAULT NULL);"] [user=]
[2024/05/15 17:21:38.077 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:17, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:16, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:38.076 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:21:38.077 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:17, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:16, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:38.076 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.GLOBAL_VARIABLES(\n\t\tVARIABLE_NAME  VARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE VARCHAR(16383) DEFAULT NULL);"]
[2024/05/15 17:21:38.080 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=17] [category=ddl] [job="ID:17, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:16, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:38.076 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:38.081 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=7] [neededSchemaVersion=8] ["start time"=134.25s] [gotSchemaVersion=8] [phyTblIDs="[16]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:21:38.081 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:21:38.081 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=17] [version=8]
[2024/05/15 17:21:38.083 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=8] ["take time"=2.003292ms] [job="ID:17, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:16, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:38.076 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:38.086 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=17] [job="ID:17, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:16, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:38.076 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:38.088 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=17]
[2024/05/15 17:21:38.088 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:21:38.088 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=8] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb(\n\t\tVARIABLE_NAME  \tVARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE \tVARCHAR(1024) DEFAULT NULL,\n\t\tCOMMENT \t\tVARCHAR(1024));"] [user=]
[2024/05/15 17:21:38.089 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:19, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:18, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:38.089 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:21:38.089 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:19, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:18, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:38.089 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb(\n\t\tVARIABLE_NAME  \tVARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE \tVARCHAR(1024) DEFAULT NULL,\n\t\tCOMMENT \t\tVARCHAR(1024));"]
[2024/05/15 17:21:38.092 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=19] [category=ddl] [job="ID:19, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:18, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:38.089 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:38.093 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=8] [neededSchemaVersion=9] ["start time"=167.125s] [gotSchemaVersion=9] [phyTblIDs="[18]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:21:38.094 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:21:38.094 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=19] [version=9]
[2024/05/15 17:21:38.095 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=9] ["take time"=2.014083ms] [job="ID:19, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:18, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:38.089 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:38.098 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=19] [job="ID:19, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:18, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:38.089 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:38.100 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=19]
[2024/05/15 17:21:38.100 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:21:38.100 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=9] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.help_topic (\n  \t\thelp_topic_id \t\tINT(10) UNSIGNED NOT NULL,\n  \t\tname \t\t\t\tCHAR(64) NOT NULL,\n  \t\thelp_category_id \tSMALLINT(5) UNSIGNED NOT NULL,\n  \t\tdescription \t\tTEXT NOT NULL,\n  \t\texample \t\t\tTEXT NOT NULL,\n  \t\turl \t\t\t\tTEXT NOT NULL,\n  \t\tPRIMARY KEY (help_topic_id) clustered,\n  \t\tUNIQUE KEY name (name)\n\t\t) ENGINE=InnoDB DEFAULT CHARSET=utf8 STATS_PERSISTENT=0 COMMENT='help topics';"] [user=]
[2024/05/15 17:21:38.101 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:21, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:20, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:38.101 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:21:38.101 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:21, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:20, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:38.101 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.help_topic (\n  \t\thelp_topic_id \t\tINT(10) UNSIGNED NOT NULL,\n  \t\tname \t\t\t\tCHAR(64) NOT NULL,\n  \t\thelp_category_id \tSMALLINT(5) UNSIGNED NOT NULL,\n  \t\tdescription \t\tTEXT NOT NULL,\n  \t\texample \t\t\tTEXT NOT NULL,\n  \t\turl \t\t\t\tTEXT NOT NULL,\n  \t\tPRIMARY KEY (help_topic_id) clustered,\n  \t\tUNIQUE KEY name (name)\n\t\t) ENGINE=InnoDB DEFAULT CHARSET=utf8 STATS_PERSISTENT=0 COMMENT='help topics';"]
[2024/05/15 17:21:38.105 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=21] [category=ddl] [job="ID:21, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:20, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:38.101 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:38.106 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=9] [neededSchemaVersion=10] ["start time"=217.541s] [gotSchemaVersion=10] [phyTblIDs="[20]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:21:38.107 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:21:38.107 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=21] [version=10]
[2024/05/15 17:21:38.108 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=10] ["take time"=2.017708ms] [job="ID:21, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:20, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:38.101 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:38.112 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=21] [job="ID:21, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:20, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:38.101 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:38.114 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=21]
[2024/05/15 17:21:38.114 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:21:38.114 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=10] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_meta (\n\t\tversion \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\ttable_id \t\tBIGINT(64) NOT NULL,\n\t\tmodify_count\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcount \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tsnapshot        BIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tINDEX idx_ver(version),\n\t\tUNIQUE INDEX tbl(table_id)\n\t);"] [user=]
[2024/05/15 17:21:38.115 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:23, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:22, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:38.115 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:21:38.115 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:23, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:22, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:38.115 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_meta (\n\t\tversion \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\ttable_id \t\tBIGINT(64) NOT NULL,\n\t\tmodify_count\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcount \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tsnapshot        BIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tINDEX idx_ver(version),\n\t\tUNIQUE INDEX tbl(table_id)\n\t);"]
[2024/05/15 17:21:38.118 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=23] [category=ddl] [job="ID:23, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:22, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:38.115 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:38.120 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=10] [neededSchemaVersion=11] ["start time"=214.083s] [gotSchemaVersion=11] [phyTblIDs="[22]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:21:38.120 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:21:38.120 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=23] [version=11]
[2024/05/15 17:21:38.122 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=11] ["take time"=2.002666ms] [job="ID:23, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:22, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:38.115 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:38.125 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=23] [job="ID:23, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:22, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:38.115 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:38.126 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=23]
[2024/05/15 17:21:38.126 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:21:38.126 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=11] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_histograms (\n\t\ttable_id \t\t\tBIGINT(64) NOT NULL,\n\t\tis_index \t\t\tTINYINT(2) NOT NULL,\n\t\thist_id \t\t\tBIGINT(64) NOT NULL,\n\t\tdistinct_count \t\tBIGINT(64) NOT NULL,\n\t\tnull_count \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\ttot_col_size \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tmodify_count \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tversion \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tcm_sketch \t\t\tBLOB(6291456),\n\t\tstats_ver \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tflag \t\t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcorrelation \t\tDOUBLE NOT NULL DEFAULT 0,\n\t\tlast_analyze_pos \tLONGBLOB DEFAULT NULL,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id)\n\t);"] [user=]
[2024/05/15 17:21:38.127 +08:00] [INFO] [ddl_api.go:1139] ["Automatically convert BLOB(6291456) to MEDIUMBLOB"] [category=ddl]
[2024/05/15 17:21:38.128 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:25, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:24, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:38.127 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:21:38.128 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:25, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:24, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:38.127 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_histograms (\n\t\ttable_id \t\t\tBIGINT(64) NOT NULL,\n\t\tis_index \t\t\tTINYINT(2) NOT NULL,\n\t\thist_id \t\t\tBIGINT(64) NOT NULL,\n\t\tdistinct_count \t\tBIGINT(64) NOT NULL,\n\t\tnull_count \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\ttot_col_size \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tmodify_count \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tversion \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tcm_sketch \t\t\tBLOB(6291456),\n\t\tstats_ver \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tflag \t\t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcorrelation \t\tDOUBLE NOT NULL DEFAULT 0,\n\t\tlast_analyze_pos \tLONGBLOB DEFAULT NULL,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id)\n\t);"]
[2024/05/15 17:21:38.131 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=25] [category=ddl] [job="ID:25, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:24, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:38.127 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:38.134 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=11] [neededSchemaVersion=12] ["start time"=502.583s] [gotSchemaVersion=12] [phyTblIDs="[24]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:21:38.135 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:21:38.135 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=25] [version=12]
[2024/05/15 17:21:38.138 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=12] ["take time"=4.150125ms] [job="ID:25, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:24, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:38.127 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:38.144 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=25] [job="ID:25, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:24, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:38.127 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:38.148 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=25]
[2024/05/15 17:21:38.148 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:21:38.148 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=12] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_buckets (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tbucket_id \tBIGINT(64) NOT NULL,\n\t\tcount \t\tBIGINT(64) NOT NULL,\n\t\trepeats \tBIGINT(64) NOT NULL,\n\t\tupper_bound LONGBLOB NOT NULL,\n\t\tlower_bound LONGBLOB ,\n\t\tndv         BIGINT NOT NULL DEFAULT 0,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id, bucket_id)\n\t);"] [user=]
[2024/05/15 17:21:38.151 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:27, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:26, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:38.149 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:21:38.151 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:27, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:26, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:38.149 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_buckets (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tbucket_id \tBIGINT(64) NOT NULL,\n\t\tcount \t\tBIGINT(64) NOT NULL,\n\t\trepeats \tBIGINT(64) NOT NULL,\n\t\tupper_bound LONGBLOB NOT NULL,\n\t\tlower_bound LONGBLOB ,\n\t\tndv         BIGINT NOT NULL DEFAULT 0,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id, bucket_id)\n\t);"]
[2024/05/15 17:21:38.158 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=27] [category=ddl] [job="ID:27, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:26, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:38.149 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:38.161 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=12] [neededSchemaVersion=13] ["start time"=419.125s] [gotSchemaVersion=13] [phyTblIDs="[26]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:21:38.162 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:21:38.162 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=27] [version=13]
[2024/05/15 17:21:38.164 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=13] ["take time"=3.8495ms] [job="ID:27, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:26, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:38.149 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:38.168 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=27] [job="ID:27, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:26, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:38.149 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:38.170 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=27]
[2024/05/15 17:21:38.170 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:21:38.170 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=13] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_index (job_id, element_id)\n\t);"] [user=]
[2024/05/15 17:21:38.171 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:29, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:28, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:38.171 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:21:38.171 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:29, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:28, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:38.171 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_index (job_id, element_id)\n\t);"]
[2024/05/15 17:21:38.175 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=29] [category=ddl] [job="ID:29, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:28, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:38.171 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:38.177 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=13] [neededSchemaVersion=14] ["start time"=227.042s] [gotSchemaVersion=14] [phyTblIDs="[28]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:21:38.178 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:21:38.178 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=29] [version=14]
[2024/05/15 17:21:38.179 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=14] ["take time"=2.203917ms] [job="ID:29, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:28, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:38.171 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:38.183 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=29] [job="ID:29, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:28, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:38.171 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:38.184 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=29]
[2024/05/15 17:21:38.184 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:21:38.185 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=14] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range_done (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_done_index (job_id, element_id)\n\t);"] [user=]
[2024/05/15 17:21:38.186 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:31, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:30, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:38.185 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:21:38.186 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:31, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:30, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:38.185 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range_done (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_done_index (job_id, element_id)\n\t);"]
[2024/05/15 17:21:38.189 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=31] [category=ddl] [job="ID:31, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:30, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:38.185 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:38.191 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=14] [neededSchemaVersion=15] ["start time"=209.208s] [gotSchemaVersion=15] [phyTblIDs="[30]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:21:38.192 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:21:38.192 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=31] [version=15]
[2024/05/15 17:21:38.193 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=15] ["take time"=2.055125ms] [job="ID:31, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:30, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:38.185 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:38.197 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=31] [job="ID:31, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:30, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:38.185 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:38.199 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=31]
[2024/05/15 17:21:38.199 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:21:38.199 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=15] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_feedback (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tfeedback \tBLOB NOT NULL,\n\t\tINDEX hist(table_id, is_index, hist_id)\n\t);"] [user=]
[2024/05/15 17:21:38.201 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:33, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:32, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:38.2 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:21:38.201 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:33, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:32, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:38.2 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_feedback (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tfeedback \tBLOB NOT NULL,\n\t\tINDEX hist(table_id, is_index, hist_id)\n\t);"]
[2024/05/15 17:21:38.204 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=33] [category=ddl] [job="ID:33, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:32, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:38.2 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:38.206 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=15] [neededSchemaVersion=16] ["start time"=213.166s] [gotSchemaVersion=16] [phyTblIDs="[32]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:21:38.207 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:21:38.207 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=33] [version=16]
[2024/05/15 17:21:38.208 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=16] ["take time"=2.004708ms] [job="ID:33, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:32, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:38.2 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:38.212 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=33] [job="ID:33, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:32, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:38.2 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:38.214 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=33]
[2024/05/15 17:21:38.214 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:21:38.214 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=16] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.role_edges (\n\t\tFROM_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tFROM_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tWITH_ADMIN_OPTION \tENUM('N','Y') CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (FROM_HOST,FROM_USER,TO_HOST,TO_USER)\n\t);"] [user=]
[2024/05/15 17:21:38.216 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:35, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:34, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:38.215 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:21:38.216 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:35, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:34, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:38.215 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.role_edges (\n\t\tFROM_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tFROM_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tWITH_ADMIN_OPTION \tENUM('N','Y') CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (FROM_HOST,FROM_USER,TO_HOST,TO_USER)\n\t);"]
[2024/05/15 17:21:38.220 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=35] [category=ddl] [job="ID:35, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:34, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:38.215 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:38.222 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=16] [neededSchemaVersion=17] ["start time"=221.5s] [gotSchemaVersion=17] [phyTblIDs="[34]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:21:38.223 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:21:38.223 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=35] [version=17]
[2024/05/15 17:21:38.224 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=17] ["take time"=2.04575ms] [job="ID:35, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:34, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:38.215 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:38.228 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=35] [job="ID:35, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:34, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:38.215 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:38.230 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=35]
[2024/05/15 17:21:38.230 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:21:38.230 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=17] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.default_roles (\n\t\tHOST \t\t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tUSER \t\t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tDEFAULT_ROLE_HOST \tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '%',\n\t\tDEFAULT_ROLE_USER \tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tPRIMARY KEY (HOST,USER,DEFAULT_ROLE_HOST,DEFAULT_ROLE_USER)\n\t)"] [user=]
[2024/05/15 17:21:38.231 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:37, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:36, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:38.23 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:21:38.231 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:37, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:36, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:38.23 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.default_roles (\n\t\tHOST \t\t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tUSER \t\t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tDEFAULT_ROLE_HOST \tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '%',\n\t\tDEFAULT_ROLE_USER \tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tPRIMARY KEY (HOST,USER,DEFAULT_ROLE_HOST,DEFAULT_ROLE_USER)\n\t)"]
[2024/05/15 17:21:38.235 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=37] [category=ddl] [job="ID:37, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:36, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:38.23 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:38.236 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=17] [neededSchemaVersion=18] ["start time"=196.25s] [gotSchemaVersion=18] [phyTblIDs="[36]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:21:38.237 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:21:38.237 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=37] [version=18]
[2024/05/15 17:21:38.238 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=18] ["take time"=2.005084ms] [job="ID:37, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:36, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:38.23 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:38.242 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=37] [job="ID:37, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:36, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:38.23 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:38.244 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=37]
[2024/05/15 17:21:38.244 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:21:38.244 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=18] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.bind_info (\n\t\toriginal_sql TEXT NOT NULL,\n\t\tbind_sql TEXT NOT NULL,\n\t\tdefault_db TEXT NOT NULL,\n\t\tstatus TEXT NOT NULL,\n\t\tcreate_time TIMESTAMP(3) NOT NULL,\n\t\tupdate_time TIMESTAMP(3) NOT NULL,\n\t\tcharset TEXT NOT NULL,\n\t\tcollation TEXT NOT NULL,\n\t\tsource VARCHAR(10) NOT NULL DEFAULT 'unknown',\n\t\tsql_digest varchar(64),\n\t\tplan_digest varchar(64),\n\t\tINDEX sql_index(original_sql(700),default_db(68)) COMMENT \"accelerate the speed when add global binding query\",\n\t\tINDEX time_index(update_time) COMMENT \"accelerate the speed when querying with last update time\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"] [user=]
[2024/05/15 17:21:38.246 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:39, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:38, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:38.245 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:21:38.246 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:39, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:38, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:38.245 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.bind_info (\n\t\toriginal_sql TEXT NOT NULL,\n\t\tbind_sql TEXT NOT NULL,\n\t\tdefault_db TEXT NOT NULL,\n\t\tstatus TEXT NOT NULL,\n\t\tcreate_time TIMESTAMP(3) NOT NULL,\n\t\tupdate_time TIMESTAMP(3) NOT NULL,\n\t\tcharset TEXT NOT NULL,\n\t\tcollation TEXT NOT NULL,\n\t\tsource VARCHAR(10) NOT NULL DEFAULT 'unknown',\n\t\tsql_digest varchar(64),\n\t\tplan_digest varchar(64),\n\t\tINDEX sql_index(original_sql(700),default_db(68)) COMMENT \"accelerate the speed when add global binding query\",\n\t\tINDEX time_index(update_time) COMMENT \"accelerate the speed when querying with last update time\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"]
[2024/05/15 17:21:38.250 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=39] [category=ddl] [job="ID:39, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:38, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:38.245 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:38.252 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=18] [neededSchemaVersion=19] ["start time"=313.542s] [gotSchemaVersion=19] [phyTblIDs="[38]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:21:38.253 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:21:38.253 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=39] [version=19]
[2024/05/15 17:21:38.254 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=19] ["take time"=2.728084ms] [job="ID:39, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:38, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:38.245 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:38.258 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=39] [job="ID:39, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:38, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:38.245 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:38.260 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=39]
[2024/05/15 17:21:38.260 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:21:38.260 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=0] ["to ID"=1] ["table ID"=38] ["database ID"=1]
[2024/05/15 17:21:38.260 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=19] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_top_n (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tvalue \t\tLONGBLOB,\n\t\tcount \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\tINDEX tbl(table_id, is_index, hist_id)\n\t);"] [user=]
[2024/05/15 17:21:38.261 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:41, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:40, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:38.261 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:21:38.261 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:41, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:40, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:38.261 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_top_n (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tvalue \t\tLONGBLOB,\n\t\tcount \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\tINDEX tbl(table_id, is_index, hist_id)\n\t);"]
[2024/05/15 17:21:38.265 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=41] [category=ddl] [job="ID:41, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:40, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:38.261 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:38.267 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=19] [neededSchemaVersion=20] ["start time"=198.458s] [gotSchemaVersion=20] [phyTblIDs="[40]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:21:38.267 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:21:38.267 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=41] [version=20]
[2024/05/15 17:21:38.268 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=20] ["take time"=2.003542ms] [job="ID:41, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:40, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:38.261 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:38.272 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=41] [job="ID:41, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:40, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:38.261 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:38.274 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=41]
[2024/05/15 17:21:38.274 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:21:38.274 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=20] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.expr_pushdown_blacklist (\n\t\tname \t\tCHAR(100) NOT NULL,\n\t\tstore_type \tCHAR(100) NOT NULL DEFAULT 'tikv,tiflash,tidb',\n\t\treason \t\tVARCHAR(200)\n\t);"] [user=]
[2024/05/15 17:21:38.276 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:43, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:42, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:38.275 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:21:38.276 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:43, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:42, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:38.275 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.expr_pushdown_blacklist (\n\t\tname \t\tCHAR(100) NOT NULL,\n\t\tstore_type \tCHAR(100) NOT NULL DEFAULT 'tikv,tiflash,tidb',\n\t\treason \t\tVARCHAR(200)\n\t);"]
[2024/05/15 17:21:38.282 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=43] [category=ddl] [job="ID:43, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:42, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:38.275 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:38.283 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=20] [neededSchemaVersion=21] ["start time"=167.042s] [gotSchemaVersion=21] [phyTblIDs="[42]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:21:38.284 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:21:38.284 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=43] [version=21]
[2024/05/15 17:21:38.285 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=21] ["take time"=2.052458ms] [job="ID:43, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:42, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:38.275 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:38.289 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=43] [job="ID:43, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:42, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:38.275 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:38.290 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=43]
[2024/05/15 17:21:38.290 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:21:38.291 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=21] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.opt_rule_blacklist (\n\t\tname \tCHAR(100) NOT NULL\n\t);"] [user=]
[2024/05/15 17:21:38.292 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:45, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:44, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:38.291 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:21:38.292 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:45, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:44, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:38.291 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.opt_rule_blacklist (\n\t\tname \tCHAR(100) NOT NULL\n\t);"]
[2024/05/15 17:21:38.295 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=45] [category=ddl] [job="ID:45, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:44, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:38.291 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:38.296 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=21] [neededSchemaVersion=22] ["start time"=136.25s] [gotSchemaVersion=22] [phyTblIDs="[44]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:21:38.297 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:21:38.297 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=45] [version=22]
[2024/05/15 17:21:38.298 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=22] ["take time"=2.074291ms] [job="ID:45, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:44, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:38.291 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:38.302 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=45] [job="ID:45, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:44, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:38.291 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:38.304 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=45]
[2024/05/15 17:21:38.304 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:21:38.304 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=22] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_extended (\n\t\tname varchar(32) NOT NULL,\n\t\ttype tinyint(4) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tcolumn_ids varchar(32) NOT NULL,\n\t\tstats blob DEFAULT NULL,\n\t\tversion bigint(64) unsigned NOT NULL,\n\t\tstatus tinyint(4) NOT NULL,\n\t\tPRIMARY KEY(name, table_id),\n\t\tKEY idx_1 (table_id, status, version),\n\t\tKEY idx_2 (status, version)\n\t);"] [user=]
[2024/05/15 17:21:38.305 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:47, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:46, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:38.305 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:21:38.305 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:47, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:46, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:38.305 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_extended (\n\t\tname varchar(32) NOT NULL,\n\t\ttype tinyint(4) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tcolumn_ids varchar(32) NOT NULL,\n\t\tstats blob DEFAULT NULL,\n\t\tversion bigint(64) unsigned NOT NULL,\n\t\tstatus tinyint(4) NOT NULL,\n\t\tPRIMARY KEY(name, table_id),\n\t\tKEY idx_1 (table_id, status, version),\n\t\tKEY idx_2 (status, version)\n\t);"]
[2024/05/15 17:21:38.310 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=47] [category=ddl] [job="ID:47, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:46, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:38.305 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:38.313 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=22] [neededSchemaVersion=23] ["start time"=828.375s] [gotSchemaVersion=23] [phyTblIDs="[46]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:21:38.314 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:21:38.314 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=47] [version=23]
[2024/05/15 17:21:38.317 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=23] ["take time"=4.755791ms] [job="ID:47, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:46, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:38.305 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:38.324 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=47] [job="ID:47, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:46, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:38.305 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:38.328 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=47]
[2024/05/15 17:21:38.328 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:21:38.328 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=23] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_fm_sketch (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tvalue \t\tLONGBLOB,\n\t\tINDEX tbl(table_id, is_index, hist_id)\n\t);"] [user=]
[2024/05/15 17:21:38.332 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:49, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:48, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:38.331 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:21:38.332 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:49, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:48, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:38.331 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_fm_sketch (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tvalue \t\tLONGBLOB,\n\t\tINDEX tbl(table_id, is_index, hist_id)\n\t);"]
[2024/05/15 17:21:38.339 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=49] [category=ddl] [job="ID:49, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:48, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:38.331 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:38.343 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=23] [neededSchemaVersion=24] ["start time"=752.416s] [gotSchemaVersion=24] [phyTblIDs="[48]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:21:38.345 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:21:38.345 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=49] [version=24]
[2024/05/15 17:21:38.346 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=24] ["take time"=4.447583ms] [job="ID:49, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:48, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:38.331 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:38.350 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=49] [job="ID:49, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:48, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:38.331 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:38.354 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=49]
[2024/05/15 17:21:38.354 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:21:38.354 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=24] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.global_grants (\n\t\tUSER char(32) NOT NULL DEFAULT '',\n\t\tHOST char(255) NOT NULL DEFAULT '',\n\t\tPRIV char(32) NOT NULL DEFAULT '',\n\t\tWITH_GRANT_OPTION enum('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (USER,HOST,PRIV)\n\t);"] [user=]
[2024/05/15 17:21:38.356 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:51, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:50, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:38.355 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:21:38.356 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:51, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:50, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:38.355 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.global_grants (\n\t\tUSER char(32) NOT NULL DEFAULT '',\n\t\tHOST char(255) NOT NULL DEFAULT '',\n\t\tPRIV char(32) NOT NULL DEFAULT '',\n\t\tWITH_GRANT_OPTION enum('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (USER,HOST,PRIV)\n\t);"]
[2024/05/15 17:21:38.360 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=51] [category=ddl] [job="ID:51, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:50, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:38.355 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:38.362 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=24] [neededSchemaVersion=25] ["start time"=276.958s] [gotSchemaVersion=25] [phyTblIDs="[50]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:21:38.363 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:21:38.363 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=51] [version=25]
[2024/05/15 17:21:38.364 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=25] ["take time"=2.601042ms] [job="ID:51, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:50, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:38.355 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:38.369 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=51] [job="ID:51, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:50, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:38.355 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:38.371 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=51]
[2024/05/15 17:21:38.371 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:21:38.371 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=25] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.capture_plan_baselines_blacklist (\n\t\tid bigint(64) auto_increment,\n\t\tfilter_type varchar(32) NOT NULL COMMENT \"type of the filter, only db, table and frequency supported now\",\n\t\tfilter_value varchar(32) NOT NULL,\n\t\tkey idx(filter_type),\n\t\tprimary key(id)\n\t);"] [user=]
[2024/05/15 17:21:38.372 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:53, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:52, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:38.372 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:21:38.372 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:53, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:52, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:38.372 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.capture_plan_baselines_blacklist (\n\t\tid bigint(64) auto_increment,\n\t\tfilter_type varchar(32) NOT NULL COMMENT \"type of the filter, only db, table and frequency supported now\",\n\t\tfilter_value varchar(32) NOT NULL,\n\t\tkey idx(filter_type),\n\t\tprimary key(id)\n\t);"]
[2024/05/15 17:21:38.377 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=53] [category=ddl] [job="ID:53, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:52, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:38.372 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:38.379 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=25] [neededSchemaVersion=26] ["start time"=200.959s] [gotSchemaVersion=26] [phyTblIDs="[52]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:21:38.379 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:21:38.379 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=53] [version=26]
[2024/05/15 17:21:38.381 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=26] ["take time"=2.403375ms] [job="ID:53, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:52, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:38.372 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:38.385 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=53] [job="ID:53, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:52, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:38.372 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:38.387 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=53]
[2024/05/15 17:21:38.387 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:21:38.387 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=26] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.column_stats_usage (\n\t\ttable_id BIGINT(64) NOT NULL,\n\t\tcolumn_id BIGINT(64) NOT NULL,\n\t\tlast_used_at TIMESTAMP,\n\t\tlast_analyzed_at TIMESTAMP,\n\t\tPRIMARY KEY (table_id, column_id) CLUSTERED\n\t);"] [user=]
[2024/05/15 17:21:38.389 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:55, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:54, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:38.388 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:21:38.389 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:55, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:54, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:38.388 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.column_stats_usage (\n\t\ttable_id BIGINT(64) NOT NULL,\n\t\tcolumn_id BIGINT(64) NOT NULL,\n\t\tlast_used_at TIMESTAMP,\n\t\tlast_analyzed_at TIMESTAMP,\n\t\tPRIMARY KEY (table_id, column_id) CLUSTERED\n\t);"]
[2024/05/15 17:21:38.393 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=55] [category=ddl] [job="ID:55, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:54, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:38.388 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:38.395 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=26] [neededSchemaVersion=27] ["start time"=177.75s] [gotSchemaVersion=27] [phyTblIDs="[54]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:21:38.395 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:21:38.395 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=55] [version=27]
[2024/05/15 17:21:38.396 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=27] ["take time"=2.003458ms] [job="ID:55, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:54, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:38.388 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:38.400 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=55] [job="ID:55, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:54, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:38.388 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:38.403 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=55]
[2024/05/15 17:21:38.403 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:21:38.403 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=27] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.table_cache_meta (\n\t\ttid bigint(11) NOT NULL DEFAULT 0,\n\t\tlock_type enum('NONE','READ', 'INTEND', 'WRITE') NOT NULL DEFAULT 'NONE',\n\t\tlease bigint(20) NOT NULL DEFAULT 0,\n\t\toldReadLease bigint(20) NOT NULL DEFAULT 0,\n\t\tPRIMARY KEY (tid)\n\t);"] [user=]
[2024/05/15 17:21:38.405 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:57, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:56, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:38.404 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:21:38.405 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:57, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:56, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:38.404 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.table_cache_meta (\n\t\ttid bigint(11) NOT NULL DEFAULT 0,\n\t\tlock_type enum('NONE','READ', 'INTEND', 'WRITE') NOT NULL DEFAULT 'NONE',\n\t\tlease bigint(20) NOT NULL DEFAULT 0,\n\t\toldReadLease bigint(20) NOT NULL DEFAULT 0,\n\t\tPRIMARY KEY (tid)\n\t);"]
[2024/05/15 17:21:38.412 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=57] [category=ddl] [job="ID:57, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:56, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:38.404 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:38.414 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=27] [neededSchemaVersion=28] ["start time"=175.5s] [gotSchemaVersion=28] [phyTblIDs="[56]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:21:38.415 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:21:38.415 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=57] [version=28]
[2024/05/15 17:21:38.416 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=28] ["take time"=2.018458ms] [job="ID:57, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:56, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:38.404 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:38.421 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=57] [job="ID:57, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:56, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:38.404 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:38.422 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=57]
[2024/05/15 17:21:38.422 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:21:38.423 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=28] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.analyze_options (\n\t\ttable_id BIGINT(64) NOT NULL,\n\t\tsample_num BIGINT(64) NOT NULL DEFAULT 0,\n\t\tsample_rate DOUBLE NOT NULL DEFAULT -1,\n\t\tbuckets BIGINT(64) NOT NULL DEFAULT 0,\n\t\ttopn BIGINT(64) NOT NULL DEFAULT -1,\n\t\tcolumn_choice enum('DEFAULT','ALL','PREDICATE','LIST') NOT NULL DEFAULT 'DEFAULT',\n\t\tcolumn_ids TEXT(19372),\n\t\tPRIMARY KEY (table_id) CLUSTERED\n\t);"] [user=]
[2024/05/15 17:21:38.423 +08:00] [INFO] [ddl_api.go:1139] ["Automatically convert BLOB(19372) to MEDIUMBLOB"] [category=ddl]
[2024/05/15 17:21:38.424 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:59, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:58, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:38.423 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:21:38.425 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:59, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:58, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:38.423 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.analyze_options (\n\t\ttable_id BIGINT(64) NOT NULL,\n\t\tsample_num BIGINT(64) NOT NULL DEFAULT 0,\n\t\tsample_rate DOUBLE NOT NULL DEFAULT -1,\n\t\tbuckets BIGINT(64) NOT NULL DEFAULT 0,\n\t\ttopn BIGINT(64) NOT NULL DEFAULT -1,\n\t\tcolumn_choice enum('DEFAULT','ALL','PREDICATE','LIST') NOT NULL DEFAULT 'DEFAULT',\n\t\tcolumn_ids TEXT(19372),\n\t\tPRIMARY KEY (table_id) CLUSTERED\n\t);"]
[2024/05/15 17:21:38.429 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=59] [category=ddl] [job="ID:59, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:58, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:38.423 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:38.431 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=28] [neededSchemaVersion=29] ["start time"=222.042s] [gotSchemaVersion=29] [phyTblIDs="[58]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:21:38.432 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:21:38.432 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=59] [version=29]
[2024/05/15 17:21:38.434 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=29] ["take time"=3.078667ms] [job="ID:59, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:58, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:38.423 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:38.438 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=59] [job="ID:59, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:58, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:38.423 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:38.440 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=59]
[2024/05/15 17:21:38.440 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:21:38.440 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=29] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_history (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tstats_data longblob NOT NULL,\n\t\tseq_no bigint(64) NOT NULL comment 'sequence number of the gzipped data slice',\n\t\tversion bigint(64) NOT NULL comment 'stats version which corresponding to stats:version in EXPLAIN',\n\t\tcreate_time datetime(6) NOT NULL,\n\t\tUNIQUE KEY table_version_seq (table_id, version, seq_no),\n\t\tKEY table_create_time (table_id, create_time, seq_no),\n    \tKEY idx_create_time (create_time)\n\t);"] [user=]
[2024/05/15 17:21:38.442 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:61, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:60, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:38.441 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:21:38.442 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:61, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:60, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:38.441 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_history (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tstats_data longblob NOT NULL,\n\t\tseq_no bigint(64) NOT NULL comment 'sequence number of the gzipped data slice',\n\t\tversion bigint(64) NOT NULL comment 'stats version which corresponding to stats:version in EXPLAIN',\n\t\tcreate_time datetime(6) NOT NULL,\n\t\tUNIQUE KEY table_version_seq (table_id, version, seq_no),\n\t\tKEY table_create_time (table_id, create_time, seq_no),\n    \tKEY idx_create_time (create_time)\n\t);"]
[2024/05/15 17:21:38.448 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=61] [category=ddl] [job="ID:61, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:60, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:38.441 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:38.449 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=29] [neededSchemaVersion=30] ["start time"=258.583s] [gotSchemaVersion=30] [phyTblIDs="[60]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:21:38.451 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:21:38.451 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=61] [version=30]
[2024/05/15 17:21:38.454 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=30] ["take time"=4.600709ms] [job="ID:61, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:60, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:38.441 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:38.459 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=61] [job="ID:61, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:60, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:38.441 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:38.461 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=61]
[2024/05/15 17:21:38.461 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:21:38.461 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=30] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_meta_history (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tmodify_count bigint(64) NOT NULL,\n\t\tcount bigint(64) NOT NULL,\n\t\tversion bigint(64) NOT NULL comment 'stats version which corresponding to stats:version in EXPLAIN',\n    \tsource varchar(40) NOT NULL,\n\t\tcreate_time datetime(6) NOT NULL,\n\t\tUNIQUE KEY table_version (table_id, version),\n\t\tKEY table_create_time (table_id, create_time),\n    \tKEY idx_create_time (create_time)\n\t);"] [user=]
[2024/05/15 17:21:38.463 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:63, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:62, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:38.462 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:21:38.463 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:63, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:62, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:38.462 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_meta_history (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tmodify_count bigint(64) NOT NULL,\n\t\tcount bigint(64) NOT NULL,\n\t\tversion bigint(64) NOT NULL comment 'stats version which corresponding to stats:version in EXPLAIN',\n    \tsource varchar(40) NOT NULL,\n\t\tcreate_time datetime(6) NOT NULL,\n\t\tUNIQUE KEY table_version (table_id, version),\n\t\tKEY table_create_time (table_id, create_time),\n    \tKEY idx_create_time (create_time)\n\t);"]
[2024/05/15 17:21:38.467 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=63] [category=ddl] [job="ID:63, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:62, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:38.462 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:38.469 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=30] [neededSchemaVersion=31] ["start time"=329.792s] [gotSchemaVersion=31] [phyTblIDs="[62]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:21:38.470 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:21:38.470 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=63] [version=31]
[2024/05/15 17:21:38.472 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=31] ["take time"=2.90375ms] [job="ID:63, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:62, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:38.462 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:38.478 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=63] [job="ID:63, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:62, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:38.462 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:38.482 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=63]
[2024/05/15 17:21:38.482 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:21:38.483 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=31] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.analyze_jobs (\n\t\tid BIGINT(64) UNSIGNED NOT NULL AUTO_INCREMENT,\n\t\tupdate_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\ttable_schema CHAR(64) NOT NULL DEFAULT '',\n\t\ttable_name CHAR(64) NOT NULL DEFAULT '',\n\t\tpartition_name CHAR(64) NOT NULL DEFAULT '',\n\t\tjob_info TEXT NOT NULL,\n\t\tprocessed_rows BIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tstart_time TIMESTAMP,\n\t\tend_time TIMESTAMP,\n\t\tstate ENUM('pending', 'running', 'finished', 'failed') NOT NULL,\n\t\tfail_reason TEXT,\n\t\tinstance VARCHAR(512) NOT NULL comment 'address of the TiDB instance executing the analyze job',\n\t\tprocess_id BIGINT(64) UNSIGNED comment 'ID of the process executing the analyze job',\n\t\tPRIMARY KEY (id),\n\t\tKEY (update_time)\n\t);"] [user=]
[2024/05/15 17:21:38.487 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:65, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:64, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:38.485 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:21:38.487 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:65, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:64, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:38.485 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.analyze_jobs (\n\t\tid BIGINT(64) UNSIGNED NOT NULL AUTO_INCREMENT,\n\t\tupdate_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\ttable_schema CHAR(64) NOT NULL DEFAULT '',\n\t\ttable_name CHAR(64) NOT NULL DEFAULT '',\n\t\tpartition_name CHAR(64) NOT NULL DEFAULT '',\n\t\tjob_info TEXT NOT NULL,\n\t\tprocessed_rows BIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tstart_time TIMESTAMP,\n\t\tend_time TIMESTAMP,\n\t\tstate ENUM('pending', 'running', 'finished', 'failed') NOT NULL,\n\t\tfail_reason TEXT,\n\t\tinstance VARCHAR(512) NOT NULL comment 'address of the TiDB instance executing the analyze job',\n\t\tprocess_id BIGINT(64) UNSIGNED comment 'ID of the process executing the analyze job',\n\t\tPRIMARY KEY (id),\n\t\tKEY (update_time)\n\t);"]
[2024/05/15 17:21:38.491 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=65] [category=ddl] [job="ID:65, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:64, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:38.485 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:38.493 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=31] [neededSchemaVersion=32] ["start time"=342.5s] [gotSchemaVersion=32] [phyTblIDs="[64]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:21:38.494 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:21:38.494 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=65] [version=32]
[2024/05/15 17:21:38.495 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=32] ["take time"=2.534458ms] [job="ID:65, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:64, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:38.485 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:38.499 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=65] [job="ID:65, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:64, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:38.485 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:38.502 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=65]
[2024/05/15 17:21:38.502 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:21:38.502 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=32] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.advisory_locks (\n\t\tlock_name VARCHAR(64) NOT NULL PRIMARY KEY\n\t);"] [user=]
[2024/05/15 17:21:38.503 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:67, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:66, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:38.503 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:21:38.504 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:67, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:66, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:38.503 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.advisory_locks (\n\t\tlock_name VARCHAR(64) NOT NULL PRIMARY KEY\n\t);"]
[2024/05/15 17:21:38.508 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=67] [category=ddl] [job="ID:67, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:66, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:38.503 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:38.509 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=32] [neededSchemaVersion=33] ["start time"=207.666s] [gotSchemaVersion=33] [phyTblIDs="[66]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:21:38.511 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:21:38.511 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=67] [version=33]
[2024/05/15 17:21:38.511 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=33] ["take time"=2.014709ms] [job="ID:67, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:66, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:38.503 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:38.515 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=67] [job="ID:67, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:66, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:38.503 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:38.518 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=67]
[2024/05/15 17:21:38.518 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:21:38.522 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:69, Type:create view, State:queueing, SchemaState:none, SchemaID:1, TableID:68, RowCount:0, ArgLen:3, start time: 2024-05-15 17:21:38.521 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:21:38.523 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:69, Type:create view, State:queueing, SchemaState:none, SchemaID:1, TableID:68, RowCount:0, ArgLen:3, start time: 2024-05-15 17:21:38.521 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE OR REPLACE VIEW mysql.tidb_mdl_view as (\n\t\tSELECT tidb_mdl_info.job_id,\n\t\t\tJSON_UNQUOTE(JSON_EXTRACT(cast(cast(job_meta as char) as json), \"$.schema_name\")) as db_name,\n\t\t\tJSON_UNQUOTE(JSON_EXTRACT(cast(cast(job_meta as char) as json), \"$.table_name\")) as table_name,\n\t\t\tJSON_UNQUOTE(JSON_EXTRACT(cast(cast(job_meta as char) as json), \"$.query\")) as query,\n\t\t\tsession_id,\n\t\t\tcluster_tidb_trx.start_time,\n\t\t\ttidb_decode_sql_digests(all_sql_digests, 4096) AS SQL_DIGESTS\n\t\tFROM mysql.tidb_ddl_job,\n\t\t\tmysql.tidb_mdl_info,\n\t\t\tinformation_schema.cluster_tidb_trx\n\t\tWHERE tidb_ddl_job.job_id=tidb_mdl_info.job_id\n\t\t\tAND CONCAT(',', tidb_mdl_info.table_ids, ',') REGEXP CONCAT(',(', REPLACE(cluster_tidb_trx.related_table_ids, ',', '|'), '),') != 0\n\t);"]
[2024/05/15 17:21:38.527 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=69] [category=ddl] [job="ID:69, Type:create view, State:queueing, SchemaState:none, SchemaID:1, TableID:68, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:38.521 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:38.530 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=33] [neededSchemaVersion=34] ["start time"=290.125s] [gotSchemaVersion=34] [phyTblIDs="[68]"] [actionTypes="[21]"] [diffTypes="[\"create view\"]"]
[2024/05/15 17:21:38.531 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:21:38.531 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=69] [version=34]
[2024/05/15 17:21:38.535 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=34] ["take time"=5.348167ms] [job="ID:69, Type:create view, State:done, SchemaState:public, SchemaID:1, TableID:68, RowCount:0, ArgLen:3, start time: 2024-05-15 17:21:38.521 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:38.547 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=69] [job="ID:69, Type:create view, State:synced, SchemaState:public, SchemaID:1, TableID:68, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:38.521 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:38.564 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=69]
[2024/05/15 17:21:38.564 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:21:38.564 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=34] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.plan_replayer_status (\n\t\tsql_digest VARCHAR(128),\n\t\tplan_digest VARCHAR(128),\n\t\torigin_sql TEXT,\n\t\ttoken VARCHAR(128),\n\t\tupdate_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\tfail_reason TEXT,\n\t\tinstance VARCHAR(512) NOT NULL comment 'address of the TiDB instance executing the plan replayer job');"] [user=]
[2024/05/15 17:21:38.585 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:71, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:70, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:38.584 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:21:38.585 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:71, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:70, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:38.584 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.plan_replayer_status (\n\t\tsql_digest VARCHAR(128),\n\t\tplan_digest VARCHAR(128),\n\t\torigin_sql TEXT,\n\t\ttoken VARCHAR(128),\n\t\tupdate_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\tfail_reason TEXT,\n\t\tinstance VARCHAR(512) NOT NULL comment 'address of the TiDB instance executing the plan replayer job');"]
[2024/05/15 17:21:38.591 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=71] [category=ddl] [job="ID:71, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:70, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:38.584 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:38.595 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=34] [neededSchemaVersion=35] ["start time"=329.583s] [gotSchemaVersion=35] [phyTblIDs="[70]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:21:38.597 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:21:38.597 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=71] [version=35]
[2024/05/15 17:21:38.599 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=35] ["take time"=4.346917ms] [job="ID:71, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:70, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:38.584 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:38.603 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=71] [job="ID:71, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:70, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:38.584 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:38.606 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=71]
[2024/05/15 17:21:38.606 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:21:38.606 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=35] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.plan_replayer_task (\n\t\tsql_digest VARCHAR(128) NOT NULL,\n\t\tplan_digest VARCHAR(128) NOT NULL,\n\t\tupdate_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\tPRIMARY KEY (sql_digest,plan_digest));"] [user=]
[2024/05/15 17:21:38.608 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:73, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:72, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:38.607 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:21:38.608 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:73, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:72, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:38.607 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.plan_replayer_task (\n\t\tsql_digest VARCHAR(128) NOT NULL,\n\t\tplan_digest VARCHAR(128) NOT NULL,\n\t\tupdate_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\tPRIMARY KEY (sql_digest,plan_digest));"]
[2024/05/15 17:21:38.612 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=73] [category=ddl] [job="ID:73, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:72, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:38.607 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:38.613 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=35] [neededSchemaVersion=36] ["start time"=230.375s] [gotSchemaVersion=36] [phyTblIDs="[72]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:21:38.614 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:21:38.614 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=73] [version=36]
[2024/05/15 17:21:38.616 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=36] ["take time"=3.204166ms] [job="ID:73, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:72, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:38.607 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:38.623 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=73] [job="ID:73, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:72, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:38.607 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:38.625 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=73]
[2024/05/15 17:21:38.625 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:21:38.625 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=36] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_table_locked(\n\t\ttable_id bigint(64) NOT NULL,\n\t\tmodify_count bigint(64) NOT NULL DEFAULT 0,\n\t\tcount bigint(64) NOT NULL DEFAULT 0,\n\t\tversion bigint(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tPRIMARY KEY (table_id));"] [user=]
[2024/05/15 17:21:38.628 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:75, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:74, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:38.627 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:21:38.628 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:75, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:74, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:38.627 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_table_locked(\n\t\ttable_id bigint(64) NOT NULL,\n\t\tmodify_count bigint(64) NOT NULL DEFAULT 0,\n\t\tcount bigint(64) NOT NULL DEFAULT 0,\n\t\tversion bigint(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tPRIMARY KEY (table_id));"]
[2024/05/15 17:21:38.632 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=75] [category=ddl] [job="ID:75, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:74, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:38.627 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:38.634 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=36] [neededSchemaVersion=37] ["start time"=170.125s] [gotSchemaVersion=37] [phyTblIDs="[74]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:21:38.634 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:21:38.635 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=75] [version=37]
[2024/05/15 17:21:38.636 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=37] ["take time"=2.09075ms] [job="ID:75, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:74, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:38.627 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:38.642 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=75] [job="ID:75, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:74, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:38.627 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:38.644 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=75]
[2024/05/15 17:21:38.644 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:21:38.644 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=37] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_ttl_table_status (\n\t\ttable_id bigint(64) PRIMARY KEY,\n        parent_table_id bigint(64),\n        table_statistics text DEFAULT NULL,\n\t\tlast_job_id varchar(64) DEFAULT NULL,\n\t\tlast_job_start_time timestamp NULL DEFAULT NULL,\n\t\tlast_job_finish_time timestamp NULL DEFAULT NULL,\n\t\tlast_job_ttl_expire timestamp NULL DEFAULT NULL,\n        last_job_summary text DEFAULT NULL,\n\t\tcurrent_job_id varchar(64) DEFAULT NULL,\n\t\tcurrent_job_owner_id varchar(64) DEFAULT NULL,\n\t\tcurrent_job_owner_addr varchar(256) DEFAULT NULL,\n\t\tcurrent_job_owner_hb_time timestamp,\n\t\tcurrent_job_start_time timestamp NULL DEFAULT NULL,\n\t\tcurrent_job_ttl_expire timestamp NULL DEFAULT NULL,\n\t\tcurrent_job_state text DEFAULT NULL,\n\t\tcurrent_job_status varchar(64) DEFAULT NULL,\n  \t\tcurrent_job_status_update_time timestamp NULL DEFAULT NULL);"] [user=]
[2024/05/15 17:21:38.646 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:77, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:76, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:38.645 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:21:38.646 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:77, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:76, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:38.645 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_ttl_table_status (\n\t\ttable_id bigint(64) PRIMARY KEY,\n        parent_table_id bigint(64),\n        table_statistics text DEFAULT NULL,\n\t\tlast_job_id varchar(64) DEFAULT NULL,\n\t\tlast_job_start_time timestamp NULL DEFAULT NULL,\n\t\tlast_job_finish_time timestamp NULL DEFAULT NULL,\n\t\tlast_job_ttl_expire timestamp NULL DEFAULT NULL,\n        last_job_summary text DEFAULT NULL,\n\t\tcurrent_job_id varchar(64) DEFAULT NULL,\n\t\tcurrent_job_owner_id varchar(64) DEFAULT NULL,\n\t\tcurrent_job_owner_addr varchar(256) DEFAULT NULL,\n\t\tcurrent_job_owner_hb_time timestamp,\n\t\tcurrent_job_start_time timestamp NULL DEFAULT NULL,\n\t\tcurrent_job_ttl_expire timestamp NULL DEFAULT NULL,\n\t\tcurrent_job_state text DEFAULT NULL,\n\t\tcurrent_job_status varchar(64) DEFAULT NULL,\n  \t\tcurrent_job_status_update_time timestamp NULL DEFAULT NULL);"]
[2024/05/15 17:21:38.650 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=77] [category=ddl] [job="ID:77, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:76, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:38.645 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:38.655 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=37] [neededSchemaVersion=38] ["start time"=385.542s] [gotSchemaVersion=38] [phyTblIDs="[76]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:21:38.655 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:21:38.655 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=77] [version=38]
[2024/05/15 17:21:38.656 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=38] ["take time"=2.205625ms] [job="ID:77, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:76, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:38.645 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:38.662 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=77] [job="ID:77, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:76, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:38.645 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:38.666 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=77]
[2024/05/15 17:21:38.666 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:21:38.666 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=38] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_ttl_task (\n\t\tjob_id varchar(64) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tscan_id int NOT NULL,\n\t\tscan_range_start BLOB,\n\t\tscan_range_end BLOB,\n\t\texpire_time timestamp NOT NULL,\n\t\towner_id varchar(64) DEFAULT NULL,\n\t\towner_addr varchar(64) DEFAULT NULL,\n\t\towner_hb_time timestamp DEFAULT NULL,\n\t\tstatus varchar(64) DEFAULT 'waiting',\n\t\tstatus_update_time timestamp NULL DEFAULT NULL,\n\t\tstate text,\n\t\tcreated_time timestamp NOT NULL,\n\t\tprimary key(job_id, scan_id),\n\t\tkey(created_time));"] [user=]
[2024/05/15 17:21:38.669 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:79, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:78, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:38.667 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:21:38.669 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:79, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:78, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:38.667 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_ttl_task (\n\t\tjob_id varchar(64) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tscan_id int NOT NULL,\n\t\tscan_range_start BLOB,\n\t\tscan_range_end BLOB,\n\t\texpire_time timestamp NOT NULL,\n\t\towner_id varchar(64) DEFAULT NULL,\n\t\towner_addr varchar(64) DEFAULT NULL,\n\t\towner_hb_time timestamp DEFAULT NULL,\n\t\tstatus varchar(64) DEFAULT 'waiting',\n\t\tstatus_update_time timestamp NULL DEFAULT NULL,\n\t\tstate text,\n\t\tcreated_time timestamp NOT NULL,\n\t\tprimary key(job_id, scan_id),\n\t\tkey(created_time));"]
[2024/05/15 17:21:38.674 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=79] [category=ddl] [job="ID:79, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:78, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:38.667 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:38.678 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=38] [neededSchemaVersion=39] ["start time"=377.958s] [gotSchemaVersion=39] [phyTblIDs="[78]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:21:38.678 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:21:38.678 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=79] [version=39]
[2024/05/15 17:21:38.680 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=39] ["take time"=2.204375ms] [job="ID:79, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:78, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:38.667 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:38.684 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=79] [job="ID:79, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:78, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:38.667 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:38.688 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=79]
[2024/05/15 17:21:38.688 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:21:38.688 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=39] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_ttl_job_history (\n\t\tjob_id varchar(64) PRIMARY KEY,\n\t\ttable_id bigint(64) NOT NULL,\n        parent_table_id bigint(64) NOT NULL,\n    \ttable_schema varchar(64) NOT NULL,\n\t\ttable_name varchar(64) NOT NULL,\n    \tpartition_name varchar(64) DEFAULT NULL,\n\t\tcreate_time timestamp NOT NULL,\n\t\tfinish_time timestamp NOT NULL,\n\t\tttl_expire timestamp NOT NULL,\n        summary_text text,\n\t\texpired_rows bigint(64) DEFAULT NULL,\n    \tdeleted_rows bigint(64) DEFAULT NULL,\n    \terror_delete_rows bigint(64) DEFAULT NULL,\n    \tstatus varchar(64) NOT NULL,\n    \tkey(table_schema, table_name, create_time),\n    \tkey(parent_table_id, create_time),\n    \tkey(create_time)\n\t);"] [user=]
[2024/05/15 17:21:38.692 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:81, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:80, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:38.691 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:21:38.692 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:81, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:80, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:38.691 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_ttl_job_history (\n\t\tjob_id varchar(64) PRIMARY KEY,\n\t\ttable_id bigint(64) NOT NULL,\n        parent_table_id bigint(64) NOT NULL,\n    \ttable_schema varchar(64) NOT NULL,\n\t\ttable_name varchar(64) NOT NULL,\n    \tpartition_name varchar(64) DEFAULT NULL,\n\t\tcreate_time timestamp NOT NULL,\n\t\tfinish_time timestamp NOT NULL,\n\t\tttl_expire timestamp NOT NULL,\n        summary_text text,\n\t\texpired_rows bigint(64) DEFAULT NULL,\n    \tdeleted_rows bigint(64) DEFAULT NULL,\n    \terror_delete_rows bigint(64) DEFAULT NULL,\n    \tstatus varchar(64) NOT NULL,\n    \tkey(table_schema, table_name, create_time),\n    \tkey(parent_table_id, create_time),\n    \tkey(create_time)\n\t);"]
[2024/05/15 17:21:38.696 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=81] [category=ddl] [job="ID:81, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:80, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:38.691 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:38.699 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=39] [neededSchemaVersion=40] ["start time"=413.041s] [gotSchemaVersion=40] [phyTblIDs="[80]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:21:38.699 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:21:38.699 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=81] [version=40]
[2024/05/15 17:21:38.701 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=40] ["take time"=2.343666ms] [job="ID:81, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:80, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:38.691 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:38.705 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=81] [job="ID:81, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:80, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:38.691 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:38.708 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=81]
[2024/05/15 17:21:38.708 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:21:38.708 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=40] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_global_task (\n\t\tid BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n    \ttask_key VARCHAR(256) NOT NULL,\n\t\ttype VARCHAR(256) NOT NULL,\n\t\tdispatcher_id VARCHAR(261),\n\t\tstate VARCHAR(64) NOT NULL,\n\t\tpriority INT DEFAULT 1,\n\t\tcreate_time TIMESTAMP,\n\t\tstart_time TIMESTAMP,\n\t\tstate_update_time TIMESTAMP,\n\t\tend_time TIMESTAMP,\n\t\tmeta LONGBLOB,\n\t\tconcurrency INT(11),\n\t\tstep INT(11),\n\t\ttarget_scope VARCHAR(256) DEFAULT \"\",\n\t\terror BLOB,\n\t\tkey(state),\n      \tUNIQUE KEY task_key(task_key)\n\t);"] [user=]
[2024/05/15 17:21:38.711 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:83, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:82, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:38.71 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:21:38.712 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:83, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:82, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:38.71 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_global_task (\n\t\tid BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n    \ttask_key VARCHAR(256) NOT NULL,\n\t\ttype VARCHAR(256) NOT NULL,\n\t\tdispatcher_id VARCHAR(261),\n\t\tstate VARCHAR(64) NOT NULL,\n\t\tpriority INT DEFAULT 1,\n\t\tcreate_time TIMESTAMP,\n\t\tstart_time TIMESTAMP,\n\t\tstate_update_time TIMESTAMP,\n\t\tend_time TIMESTAMP,\n\t\tmeta LONGBLOB,\n\t\tconcurrency INT(11),\n\t\tstep INT(11),\n\t\ttarget_scope VARCHAR(256) DEFAULT \"\",\n\t\terror BLOB,\n\t\tkey(state),\n      \tUNIQUE KEY task_key(task_key)\n\t);"]
[2024/05/15 17:21:38.716 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=83] [category=ddl] [job="ID:83, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:82, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:38.71 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:38.719 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=40] [neededSchemaVersion=41] ["start time"=395.75s] [gotSchemaVersion=41] [phyTblIDs="[82]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:21:38.720 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:21:38.720 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=83] [version=41]
[2024/05/15 17:21:38.721 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=41] ["take time"=2.088958ms] [job="ID:83, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:82, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:38.71 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:38.724 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=83] [job="ID:83, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:82, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:38.71 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:38.728 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=83]
[2024/05/15 17:21:38.728 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:21:38.728 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=41] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_global_task_history (\n\t\tid BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n    \ttask_key VARCHAR(256) NOT NULL,\n\t\ttype VARCHAR(256) NOT NULL,\n\t\tdispatcher_id VARCHAR(261),\n\t\tstate VARCHAR(64) NOT NULL,\n\t\tpriority INT DEFAULT 1,\n\t\tcreate_time TIMESTAMP,\n\t\tstart_time TIMESTAMP,\n\t\tstate_update_time TIMESTAMP,\n\t\tend_time TIMESTAMP,\n\t\tmeta LONGBLOB,\n\t\tconcurrency INT(11),\n\t\tstep INT(11),\n\t\ttarget_scope VARCHAR(256) DEFAULT \"\",\n\t\terror BLOB,\n\t\tkey(state),\n      \tUNIQUE KEY task_key(task_key)\n\t);"] [user=]
[2024/05/15 17:21:38.730 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:85, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:84, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:38.729 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:21:38.730 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:85, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:84, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:38.729 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_global_task_history (\n\t\tid BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n    \ttask_key VARCHAR(256) NOT NULL,\n\t\ttype VARCHAR(256) NOT NULL,\n\t\tdispatcher_id VARCHAR(261),\n\t\tstate VARCHAR(64) NOT NULL,\n\t\tpriority INT DEFAULT 1,\n\t\tcreate_time TIMESTAMP,\n\t\tstart_time TIMESTAMP,\n\t\tstate_update_time TIMESTAMP,\n\t\tend_time TIMESTAMP,\n\t\tmeta LONGBLOB,\n\t\tconcurrency INT(11),\n\t\tstep INT(11),\n\t\ttarget_scope VARCHAR(256) DEFAULT \"\",\n\t\terror BLOB,\n\t\tkey(state),\n      \tUNIQUE KEY task_key(task_key)\n\t);"]
[2024/05/15 17:21:38.735 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=85] [category=ddl] [job="ID:85, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:84, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:38.729 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:38.738 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=41] [neededSchemaVersion=42] ["start time"=400.792s] [gotSchemaVersion=42] [phyTblIDs="[84]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:21:38.739 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:21:38.739 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=85] [version=42]
[2024/05/15 17:21:38.740 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=42] ["take time"=2.371125ms] [job="ID:85, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:84, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:38.729 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:38.746 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=85] [job="ID:85, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:84, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:38.729 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:38.749 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=85]
[2024/05/15 17:21:38.749 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:21:38.749 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=42] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_import_jobs (\n\t\tid bigint(64) NOT NULL AUTO_INCREMENT,\n\t\tcreate_time TIMESTAMP(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6),\n\t\tstart_time TIMESTAMP(6) NULL DEFAULT NULL,\n\t\tupdate_time TIMESTAMP(6) NULL DEFAULT NULL,\n\t\tend_time TIMESTAMP(6) NULL DEFAULT NULL,\n\t\ttable_schema VARCHAR(64) NOT NULL,\n\t\ttable_name VARCHAR(64) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tcreated_by VARCHAR(300) NOT NULL,\n\t\tparameters text NOT NULL,\n\t\tsource_file_size bigint(64) NOT NULL,\n\t\tstatus VARCHAR(64) NOT NULL,\n\t\tstep VARCHAR(64) NOT NULL,\n\t\tsummary text DEFAULT NULL,\n\t\terror_message TEXT DEFAULT NULL,\n\t\tPRIMARY KEY (id),\n\t\tKEY (created_by),\n\t\tKEY (status));"] [user=]
[2024/05/15 17:21:38.750 +08:00] [WARN] [runaway.go:166] ["failed to start runaway manager loop, please check whether the bootstrap or update is finished"] [error="[schema:1146]Table 'mysql.tidb_runaway_watch' doesn't exist"] [errorVerbose="[schema:1146]Table 'mysql.tidb_runaway_watch' doesn't exist\ngithub.com/pingcap/errors.AddStack\n\t/Users/bba/.gvm/pkgsets/go1.21.0/global/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20240318064555-6bd07397691f/errors.go:178\ngithub.com/pingcap/errors.Trace\n\t/Users/bba/.gvm/pkgsets/go1.21.0/global/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20240318064555-6bd07397691f/juju_adaptor.go:15\ngithub.com/pingcap/tidb/pkg/planner/core.Preprocess\n\t/Users/bba/pc/tidb/pkg/planner/core/preprocess.go:141\ngithub.com/pingcap/tidb/pkg/executor.(*Compiler).Compile\n\t/Users/bba/pc/tidb/pkg/executor/compiler.go:67\ngithub.com/pingcap/tidb/pkg/session.(*session).ExecuteStmt\n\t/Users/bba/pc/tidb/pkg/session/session.go:2094\ngithub.com/pingcap/tidb/pkg/session.(*session).ExecuteInternalStmt\n\t/Users/bba/pc/tidb/pkg/session/session.go:1998\ngithub.com/pingcap/tidb/pkg/session.(*session).ExecRestrictedSQL.func1\n\t/Users/bba/pc/tidb/pkg/session/session.go:1963\ngithub.com/pingcap/tidb/pkg/session.(*session).withRestrictedSQLExecutor\n\t/Users/bba/pc/tidb/pkg/session/session.go:1949\ngithub.com/pingcap/tidb/pkg/session.(*session).ExecRestrictedSQL\n\t/Users/bba/pc/tidb/pkg/session/session.go:1953\ngithub.com/pingcap/tidb/pkg/domain.(*SystemTableReader).Read\n\t/Users/bba/pc/tidb/pkg/domain/runaway.go:655\ngithub.com/pingcap/tidb/pkg/domain.getRunawayWatchRecord\n\t/Users/bba/pc/tidb/pkg/domain/runaway.go:543\ngithub.com/pingcap/tidb/pkg/domain.(*runawaySyncer).getWatchRecord\n\t/Users/bba/pc/tidb/pkg/domain/runaway.go:526\ngithub.com/pingcap/tidb/pkg/domain.(*runawaySyncer).getNewWatchRecords\n\t/Users/bba/pc/tidb/pkg/domain/runaway.go:509\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).updateNewAndDoneWatch\n\t/Users/bba/pc/tidb/pkg/domain/runaway.go:177\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).runawayStartLoop\n\t/Users/bba/pc/tidb/pkg/domain/runaway.go:156\ngithub.com/pingcap/tidb/pkg/util.(*WaitGroupEnhancedWrapper).Run.func1\n\t/Users/bba/pc/tidb/pkg/util/wait_group_wrapper.go:99\nruntime.goexit\n\t/Users/bba/.gvm/gos/go1.21.0/src/runtime/asm_arm64.s:1197"]
[2024/05/15 17:21:38.752 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:87, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:86, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:38.751 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:21:38.752 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:87, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:86, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:38.751 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_import_jobs (\n\t\tid bigint(64) NOT NULL AUTO_INCREMENT,\n\t\tcreate_time TIMESTAMP(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6),\n\t\tstart_time TIMESTAMP(6) NULL DEFAULT NULL,\n\t\tupdate_time TIMESTAMP(6) NULL DEFAULT NULL,\n\t\tend_time TIMESTAMP(6) NULL DEFAULT NULL,\n\t\ttable_schema VARCHAR(64) NOT NULL,\n\t\ttable_name VARCHAR(64) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tcreated_by VARCHAR(300) NOT NULL,\n\t\tparameters text NOT NULL,\n\t\tsource_file_size bigint(64) NOT NULL,\n\t\tstatus VARCHAR(64) NOT NULL,\n\t\tstep VARCHAR(64) NOT NULL,\n\t\tsummary text DEFAULT NULL,\n\t\terror_message TEXT DEFAULT NULL,\n\t\tPRIMARY KEY (id),\n\t\tKEY (created_by),\n\t\tKEY (status));"]
[2024/05/15 17:21:38.757 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=87] [category=ddl] [job="ID:87, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:86, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:38.751 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:38.760 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=42] [neededSchemaVersion=43] ["start time"=421.041s] [gotSchemaVersion=43] [phyTblIDs="[86]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:21:38.761 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:21:38.761 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=87] [version=43]
[2024/05/15 17:21:38.763 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=43] ["take time"=3.107042ms] [job="ID:87, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:86, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:38.751 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:38.768 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=87] [job="ID:87, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:86, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:38.751 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:38.771 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=87]
[2024/05/15 17:21:38.771 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:21:38.771 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=43] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_runaway_watch (\n\t\tid BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n\t\tresource_group_name varchar(32) not null,\n\t\tstart_time datetime(6) NOT NULL,\n\t\tend_time datetime(6),\n\t\twatch bigint(10) NOT NULL,\n\t\twatch_text TEXT NOT NULL,\n\t\tsource varchar(512) NOT NULL,\n\t\taction bigint(10),\n\t\tINDEX sql_index(resource_group_name,watch_text(700)) COMMENT \"accelerate the speed when select quarantined query\",\n\t\tINDEX time_index(end_time) COMMENT \"accelerate the speed when querying with active watch\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"] [user=]
[2024/05/15 17:21:38.773 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:89, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:88, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:38.772 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:21:38.773 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:89, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:88, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:38.772 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_runaway_watch (\n\t\tid BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n\t\tresource_group_name varchar(32) not null,\n\t\tstart_time datetime(6) NOT NULL,\n\t\tend_time datetime(6),\n\t\twatch bigint(10) NOT NULL,\n\t\twatch_text TEXT NOT NULL,\n\t\tsource varchar(512) NOT NULL,\n\t\taction bigint(10),\n\t\tINDEX sql_index(resource_group_name,watch_text(700)) COMMENT \"accelerate the speed when select quarantined query\",\n\t\tINDEX time_index(end_time) COMMENT \"accelerate the speed when querying with active watch\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"]
[2024/05/15 17:21:38.780 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=89] [category=ddl] [job="ID:89, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:88, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:38.772 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:38.783 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=43] [neededSchemaVersion=44] ["start time"=282.208s] [gotSchemaVersion=44] [phyTblIDs="[88]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:21:38.783 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:21:38.783 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=89] [version=44]
[2024/05/15 17:21:38.784 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=44] ["take time"=2.12125ms] [job="ID:89, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:88, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:38.772 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:38.790 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=89] [job="ID:89, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:88, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:38.772 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:38.792 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=89]
[2024/05/15 17:21:38.792 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:21:38.793 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=44] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_runaway_queries (\n\t\tresource_group_name varchar(32) not null,\n\t\ttime TIMESTAMP NOT NULL,\n\t\tmatch_type varchar(12) NOT NULL,\n\t\taction varchar(12) NOT NULL,\n\t\toriginal_sql TEXT NOT NULL,\n\t\tplan_digest TEXT NOT NULL,\n\t\ttidb_server varchar(512),\n\t\tINDEX plan_index(plan_digest(64)) COMMENT \"accelerate the speed when select runaway query\",\n\t\tINDEX time_index(time) COMMENT \"accelerate the speed when querying with active watch\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"] [user=]
[2024/05/15 17:21:38.796 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:91, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:90, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:38.794 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:21:38.796 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:91, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:90, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:38.794 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_runaway_queries (\n\t\tresource_group_name varchar(32) not null,\n\t\ttime TIMESTAMP NOT NULL,\n\t\tmatch_type varchar(12) NOT NULL,\n\t\taction varchar(12) NOT NULL,\n\t\toriginal_sql TEXT NOT NULL,\n\t\tplan_digest TEXT NOT NULL,\n\t\ttidb_server varchar(512),\n\t\tINDEX plan_index(plan_digest(64)) COMMENT \"accelerate the speed when select runaway query\",\n\t\tINDEX time_index(time) COMMENT \"accelerate the speed when querying with active watch\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"]
[2024/05/15 17:21:38.803 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=91] [category=ddl] [job="ID:91, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:90, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:38.794 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:38.808 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=44] [neededSchemaVersion=45] ["start time"=412.875s] [gotSchemaVersion=45] [phyTblIDs="[90]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:21:38.809 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:21:38.809 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=91] [version=45]
[2024/05/15 17:21:38.812 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=45] ["take time"=4.586667ms] [job="ID:91, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:90, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:38.794 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:38.821 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=91] [job="ID:91, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:90, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:38.794 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:38.824 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=91]
[2024/05/15 17:21:38.824 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:21:38.824 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=45] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS `mysql`.`tidb_timers` (\n\t\tID BIGINT(64) UNSIGNED NOT NULL AUTO_INCREMENT,\n\t\tNAMESPACE VARCHAR(256) NOT NULL,\n\t\tTIMER_KEY VARCHAR(256) NOT NULL,\n\t\tTIMER_DATA BLOB,\n\t\tTIMEZONE VARCHAR(64) NOT NULL,\n\t\tSCHED_POLICY_TYPE VARCHAR(32) NOT NULL,\n\t\tSCHED_POLICY_EXPR VARCHAR(256) NOT NULL,\n\t\tHOOK_CLASS VARCHAR(64) NOT NULL,\n\t\tWATERMARK TIMESTAMP DEFAULT NULL,\n\t\tENABLE TINYINT(2) NOT NULL,\n\t\tTIMER_EXT JSON NOT NULL,\n\t\tEVENT_STATUS VARCHAR(32) NOT NULL,\n\t\tEVENT_ID VARCHAR(64) NOT NULL,\n\t\tEVENT_DATA BLOB,\n\t\tEVENT_START TIMESTAMP DEFAULT NULL,\n\t\tSUMMARY_DATA BLOB,\n\t\tCREATE_TIME TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,\n\t\tUPDATE_TIME TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\tVERSION BIGINT(64) UNSIGNED NOT NULL,\n\t\tPRIMARY KEY (ID),\n\t\tUNIQUE KEY timer_key(NAMESPACE, TIMER_KEY),\n\t\tKEY hook_class(HOOK_CLASS)\n\t)"] [user=]
[2024/05/15 17:21:38.831 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:93, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:92, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:38.828 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:21:38.831 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:93, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:92, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:38.828 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS `mysql`.`tidb_timers` (\n\t\tID BIGINT(64) UNSIGNED NOT NULL AUTO_INCREMENT,\n\t\tNAMESPACE VARCHAR(256) NOT NULL,\n\t\tTIMER_KEY VARCHAR(256) NOT NULL,\n\t\tTIMER_DATA BLOB,\n\t\tTIMEZONE VARCHAR(64) NOT NULL,\n\t\tSCHED_POLICY_TYPE VARCHAR(32) NOT NULL,\n\t\tSCHED_POLICY_EXPR VARCHAR(256) NOT NULL,\n\t\tHOOK_CLASS VARCHAR(64) NOT NULL,\n\t\tWATERMARK TIMESTAMP DEFAULT NULL,\n\t\tENABLE TINYINT(2) NOT NULL,\n\t\tTIMER_EXT JSON NOT NULL,\n\t\tEVENT_STATUS VARCHAR(32) NOT NULL,\n\t\tEVENT_ID VARCHAR(64) NOT NULL,\n\t\tEVENT_DATA BLOB,\n\t\tEVENT_START TIMESTAMP DEFAULT NULL,\n\t\tSUMMARY_DATA BLOB,\n\t\tCREATE_TIME TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,\n\t\tUPDATE_TIME TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\tVERSION BIGINT(64) UNSIGNED NOT NULL,\n\t\tPRIMARY KEY (ID),\n\t\tUNIQUE KEY timer_key(NAMESPACE, TIMER_KEY),\n\t\tKEY hook_class(HOOK_CLASS)\n\t)"]
[2024/05/15 17:21:38.839 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=93] [category=ddl] [job="ID:93, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:92, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:38.828 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:38.843 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=45] [neededSchemaVersion=46] ["start time"=482.667s] [gotSchemaVersion=46] [phyTblIDs="[92]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:21:38.844 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:21:38.844 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=93] [version=46]
[2024/05/15 17:21:38.845 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=46] ["take time"=2.430542ms] [job="ID:93, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:92, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:38.828 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:38.850 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=93] [job="ID:93, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:92, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:38.828 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:38.853 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=93]
[2024/05/15 17:21:38.854 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:21:38.854 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=46] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_runaway_watch_done (\n\t\tid BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n\t\trecord_id BIGINT(20) not null,\n\t\tresource_group_name varchar(32) not null,\n\t\tstart_time datetime(6) NOT NULL,\n\t\tend_time datetime(6),\n\t\twatch bigint(10) NOT NULL,\n\t\twatch_text TEXT NOT NULL,\n\t\tsource varchar(512) NOT NULL,\n\t\taction bigint(10),\n\t\tdone_time TIMESTAMP(6) NOT NULL\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"] [user=]
[2024/05/15 17:21:38.856 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:95, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:94, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:38.855 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:21:38.856 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:95, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:94, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:38.855 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_runaway_watch_done (\n\t\tid BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n\t\trecord_id BIGINT(20) not null,\n\t\tresource_group_name varchar(32) not null,\n\t\tstart_time datetime(6) NOT NULL,\n\t\tend_time datetime(6),\n\t\twatch bigint(10) NOT NULL,\n\t\twatch_text TEXT NOT NULL,\n\t\tsource varchar(512) NOT NULL,\n\t\taction bigint(10),\n\t\tdone_time TIMESTAMP(6) NOT NULL\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"]
[2024/05/15 17:21:38.860 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=95] [category=ddl] [job="ID:95, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:94, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:38.855 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:38.862 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=46] [neededSchemaVersion=47] ["start time"=269.291s] [gotSchemaVersion=47] [phyTblIDs="[94]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:21:38.863 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:21:38.863 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=95] [version=47]
[2024/05/15 17:21:38.864 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=47] ["take time"=2.421667ms] [job="ID:95, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:94, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:38.855 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:38.868 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=95] [job="ID:95, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:94, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:38.855 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:38.870 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=95]
[2024/05/15 17:21:38.870 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:21:38.870 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=47] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.dist_framework_meta (\n        host VARCHAR(261) NOT NULL PRIMARY KEY,\n        role VARCHAR(64),\n        cpu_count int default 0,\n        keyspace_id bigint(8) NOT NULL DEFAULT -1\n    );"] [user=]
[2024/05/15 17:21:38.871 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:97, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:96, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:38.871 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:21:38.871 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:97, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:96, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:38.871 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.dist_framework_meta (\n        host VARCHAR(261) NOT NULL PRIMARY KEY,\n        role VARCHAR(64),\n        cpu_count int default 0,\n        keyspace_id bigint(8) NOT NULL DEFAULT -1\n    );"]
[2024/05/15 17:21:38.875 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=97] [category=ddl] [job="ID:97, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:96, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:38.871 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:38.877 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=47] [neededSchemaVersion=48] ["start time"=306.25s] [gotSchemaVersion=48] [phyTblIDs="[96]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:21:38.878 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:21:38.878 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=97] [version=48]
[2024/05/15 17:21:38.880 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=48] ["take time"=2.7125ms] [job="ID:97, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:96, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:38.871 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:38.884 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=97] [job="ID:97, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:96, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:38.871 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:38.886 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=97]
[2024/05/15 17:21:38.886 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:21:38.886 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=48] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.request_unit_by_group (\n\t\tstart_time TIMESTAMP(6) NOT NULL,\n\t\tend_time TIMESTAMP(6) NOT NULL,\n\t\tresource_group VARCHAR(32) NOT null,\n\t\ttotal_ru bigint(64) UNSIGNED NOT NULL,\n\t\tPRIMARY KEY (start_time, end_time, resource_group),\n\t\tKEY (resource_group)\n\t);"] [user=]
[2024/05/15 17:21:38.888 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:99, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:98, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:38.887 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:21:38.888 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:99, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:98, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:38.887 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.request_unit_by_group (\n\t\tstart_time TIMESTAMP(6) NOT NULL,\n\t\tend_time TIMESTAMP(6) NOT NULL,\n\t\tresource_group VARCHAR(32) NOT null,\n\t\ttotal_ru bigint(64) UNSIGNED NOT NULL,\n\t\tPRIMARY KEY (start_time, end_time, resource_group),\n\t\tKEY (resource_group)\n\t);"]
[2024/05/15 17:21:38.891 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=99] [category=ddl] [job="ID:99, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:98, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:38.887 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:38.893 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=48] [neededSchemaVersion=49] ["start time"=208.916s] [gotSchemaVersion=49] [phyTblIDs="[98]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:21:38.893 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:21:38.893 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=99] [version=49]
[2024/05/15 17:21:38.895 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=49] ["take time"=2.027792ms] [job="ID:99, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:98, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:38.887 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:38.899 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=99] [job="ID:99, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:98, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:38.887 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:38.901 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=99]
[2024/05/15 17:21:38.901 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:21:38.901 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=49] [cur_db=mysql] [sql="CREATE DATABASE IF NOT EXISTS sys;"] [user=]
[2024/05/15 17:21:38.902 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:101, Type:create schema, State:queueing, SchemaState:none, SchemaID:100, TableID:0, RowCount:0, ArgLen:1, start time: 2024-05-15 17:21:38.902 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:21:38.902 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:101, Type:create schema, State:queueing, SchemaState:none, SchemaID:100, TableID:0, RowCount:0, ArgLen:1, start time: 2024-05-15 17:21:38.902 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE DATABASE IF NOT EXISTS sys;"]
[2024/05/15 17:21:38.906 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=101] [category=ddl] [job="ID:101, Type:create schema, State:queueing, SchemaState:none, SchemaID:100, TableID:0, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:38.902 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:38.907 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=49] [neededSchemaVersion=50] ["start time"=133.292s] [gotSchemaVersion=50] [phyTblIDs="[]"] [actionTypes="[]"] [diffTypes="[\"create schema\"]"]
[2024/05/15 17:21:38.908 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:21:38.908 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=101] [version=50]
[2024/05/15 17:21:38.910 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=50] ["take time"=2.794333ms] [job="ID:101, Type:create schema, State:done, SchemaState:public, SchemaID:100, TableID:0, RowCount:0, ArgLen:1, start time: 2024-05-15 17:21:38.902 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:38.914 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=101] [job="ID:101, Type:create schema, State:synced, SchemaState:public, SchemaID:100, TableID:0, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:38.902 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:38.915 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=101]
[2024/05/15 17:21:38.915 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:21:38.918 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:103, Type:create view, State:queueing, SchemaState:none, SchemaID:100, TableID:102, RowCount:0, ArgLen:3, start time: 2024-05-15 17:21:38.917 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:21:38.918 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:103, Type:create view, State:queueing, SchemaState:none, SchemaID:100, TableID:102, RowCount:0, ArgLen:3, start time: 2024-05-15 17:21:38.917 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE OR REPLACE VIEW sys.schema_unused_indexes AS\n\t\tSELECT\n\t\t\ttable_schema as object_schema,\n\t\t\ttable_name as object_name,\n\t\t\tindex_name\n\t\tFROM information_schema.cluster_tidb_index_usage\n\t\tWHERE\n\t\t\ttable_schema not in ('sys', 'mysql', 'INFORMATION_SCHEMA', 'PERFORMANCE_SCHEMA') and\n\t\t\tindex_name != 'PRIMARY'\n\t\tGROUP BY table_schema, table_name, index_name\n\t\tHAVING\n\t\t\tsum(last_access_time) is null;"]
[2024/05/15 17:21:38.921 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=103] [category=ddl] [job="ID:103, Type:create view, State:queueing, SchemaState:none, SchemaID:100, TableID:102, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:38.917 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:38.923 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=50] [neededSchemaVersion=51] ["start time"=164.375s] [gotSchemaVersion=51] [phyTblIDs="[102]"] [actionTypes="[21]"] [diffTypes="[\"create view\"]"]
[2024/05/15 17:21:38.924 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:21:38.924 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=103] [version=51]
[2024/05/15 17:21:38.925 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=51] ["take time"=2.417625ms] [job="ID:103, Type:create view, State:done, SchemaState:public, SchemaID:100, TableID:102, RowCount:0, ArgLen:3, start time: 2024-05-15 17:21:38.917 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:38.930 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=103] [job="ID:103, Type:create view, State:synced, SchemaState:public, SchemaID:100, TableID:102, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:38.917 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:38.932 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=103]
[2024/05/15 17:21:38.932 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:21:38.932 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=0] ["to ID"=1] ["table ID"=4] ["database ID"=1]
[2024/05/15 17:21:38.937 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=0] ["to ID"=655] ["table ID"=16] ["database ID"=1]
[2024/05/15 17:21:38.941 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=0] ["to ID"=1] ["table ID"=18] ["database ID"=1]
[2024/05/15 17:21:38.941 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1] ["to ID"=2] ["table ID"=18] ["database ID"=1]
[2024/05/15 17:21:38.941 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2] ["to ID"=3] ["table ID"=18] ["database ID"=1]
[2024/05/15 17:21:38.941 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3] ["to ID"=4] ["table ID"=18] ["database ID"=1]
[2024/05/15 17:21:38.943 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=4] ["to ID"=5] ["table ID"=18] ["database ID"=1]
[2024/05/15 17:21:38.946 +08:00] [INFO] [bootstrap.go:745] ["bootstrap successful"] ["take time"=1.197297542s]
[2024/05/15 17:21:38.948 +08:00] [INFO] [mock.go:106] ["owner manager is canceled"] [category=ddl] [ID=8d397871-70ca-413d-bbfe-fc9f6c87b408] [ownerKey=/tidb/ddl/fg/owner]
[2024/05/15 17:21:38.948 +08:00] [INFO] [ddl_workerpool.go:82] ["closing workerPool"] [category=ddl]
[2024/05/15 17:21:38.948 +08:00] [INFO] [ddl_worker.go:186] ["DDL worker closed"] [worker="worker 2, tp add index"] [category=ddl] ["take time"=708ns]
[2024/05/15 17:21:38.948 +08:00] [INFO] [ddl_workerpool.go:82] ["closing workerPool"] [category=ddl]
[2024/05/15 17:21:38.948 +08:00] [INFO] [ddl_worker.go:186] ["DDL worker closed"] [worker="worker 1, tp general"] [category=ddl] ["take time"=292ns]
[2024/05/15 17:21:38.948 +08:00] [INFO] [ddl_workerpool.go:82] ["closing workerPool"] [category=ddl]
[2024/05/15 17:21:38.948 +08:00] [INFO] [delete_range.go:162] ["closing delRange"] [category=ddl]
[2024/05/15 17:21:38.948 +08:00] [INFO] [session_pool.go:99] ["closing session pool"] [category=ddl]
[2024/05/15 17:21:38.949 +08:00] [INFO] [ddl.go:951] ["DDL closed"] [category=ddl] [ID=8d397871-70ca-413d-bbfe-fc9f6c87b408] ["take time"=2.17575ms]
[2024/05/15 17:21:38.949 +08:00] [INFO] [ddl.go:769] ["stop DDL"] [category=ddl] [ID=8d397871-70ca-413d-bbfe-fc9f6c87b408]
[2024/05/15 17:21:38.949 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=mdlCheckLoop]
[2024/05/15 17:21:38.949 +08:00] [INFO] [domain.go:915] ["loadSchemaInLoop exited."]
[2024/05/15 17:21:38.949 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=loadSchemaInLoop]
[2024/05/15 17:21:38.949 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=runawayStartLoop]
[2024/05/15 17:21:38.949 +08:00] [INFO] [domain.go:769] ["topologySyncerKeeper exited."]
[2024/05/15 17:21:38.949 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=topologySyncerKeeper]
[2024/05/15 17:21:38.949 +08:00] [INFO] [domain.go:745] ["globalConfigSyncerKeeper exited."]
[2024/05/15 17:21:38.949 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=globalConfigSyncerKeeper]
[2024/05/15 17:21:38.949 +08:00] [INFO] [domain.go:719] ["infoSyncerKeeper exited."]
[2024/05/15 17:21:38.949 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=infoSyncerKeeper]
[2024/05/15 17:21:38.949 +08:00] [INFO] [domain.go:691] ["topNSlowQueryLoop exited."]
[2024/05/15 17:21:38.949 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=topNSlowQueryLoop]
[2024/05/15 17:21:38.949 +08:00] [INFO] [domain.go:1369] ["closestReplicaReadCheckLoop exited."]
[2024/05/15 17:21:38.949 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=closestReplicaReadCheckLoop]
[2024/05/15 17:21:38.949 +08:00] [INFO] [domain.go:1082] ["domain closed"] ["take time"=2.280917ms]
[2024/05/15 17:21:38.949 +08:00] [INFO] [tidb.go:80] ["new domain"] [store=04390e20-8124-436d-9019-16dd7d00beea] ["ddl lease"=200ms] ["stats lease"=-1ns]
[2024/05/15 17:21:38.951 +08:00] [WARN] [controller.go:198] ["[resource group controller] server does not save config, load config failed"]
[2024/05/15 17:21:38.951 +08:00] [INFO] [controller.go:185] ["load resource controller config"] [config="{\"degraded-mode-wait-duration\":\"0s\",\"ltb-max-wait-duration\":\"30s\",\"wait-retry-interval\":\"50ms\",\"wait-retry-times\":10,\"request-unit\":{\"read-base-cost\":0.125,\"read-per-batch-base-cost\":0.5,\"read-cost-per-byte\":0.0000152587890625,\"write-base-cost\":1,\"write-per-batch-base-cost\":1,\"write-cost-per-byte\":0.0009765625,\"read-cpu-ms-cost\":0.3333333333333333},\"enable-controller-trace-log\":\"false\"}"] [ru-config="{\"ReadBaseCost\":0.125,\"ReadPerBatchBaseCost\":0.5,\"ReadBytesCost\":0.0000152587890625,\"WriteBaseCost\":1,\"WritePerBatchBaseCost\":1,\"WriteBytesCost\":0.0009765625,\"CPUMsCost\":0.3333333333333333,\"LTBMaxWaitDuration\":30000000000,\"WaitRetryInterval\":50000000,\"WaitRetryTimes\":10,\"DegradedModeWaitDuration\":0}"]
[2024/05/15 17:21:38.965 +08:00] [INFO] [domain.go:323] ["full load InfoSchema success"] [currentSchemaVersion=0] [neededSchemaVersion=51] ["start time"=14.03075ms]
[2024/05/15 17:21:38.970 +08:00] [INFO] [domain.go:643] ["full load and reset schema validator"]
[2024/05/15 17:21:38.970 +08:00] [INFO] [ddl.go:818] ["start DDL"] [category=ddl] [ID=0423201d-9fe9-4076-b4a8-86c03d334b8f] [runWorker=true]
[2024/05/15 17:21:38.970 +08:00] [INFO] [ddl.go:777] ["start delRangeManager OK"] [category=ddl] ["is a emulator"=true]
[2024/05/15 17:21:38.970 +08:00] [WARN] [env.go:51] ["initialize environment failed"] [category=ddl-ingest] ["storage limitation"="only support TiKV storage"] ["current storage"=unistore] ["lightning is initialized"=false]
[2024/05/15 17:21:38.970 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=loadSchemaInLoop]
[2024/05/15 17:21:38.970 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=mdlCheckLoop]
[2024/05/15 17:21:38.970 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=topNSlowQueryLoop]
[2024/05/15 17:21:38.970 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=infoSyncerKeeper]
[2024/05/15 17:21:38.970 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=globalConfigSyncerKeeper]
[2024/05/15 17:21:38.970 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=runawayStartLoop]
[2024/05/15 17:21:38.970 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=requestUnitsWriterLoop]
[2024/05/15 17:21:38.970 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=topologySyncerKeeper]
[2024/05/15 17:21:38.970 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=closestReplicaReadCheckLoop]
[2024/05/15 17:21:38.970 +08:00] [WARN] [domain.go:1334] ["pd / etcd client not provided, won't begin Advancer."]
[2024/05/15 17:21:38.992 +08:00] [INFO] [delete_range.go:172] ["start delRange emulator"] [category=ddl]
[2024/05/15 17:21:38.992 +08:00] [INFO] [job_table.go:334] ["get global state and global state change"] [category=ddl] [oldState=false] [currState=false]
[2024/05/15 17:21:38.993 +08:00] [INFO] [runaway.go:149] ["try to start runaway manager loop"]
[2024/05/15 17:21:38.993 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=requestUnitsWriterLoop]
[2024/05/15 17:21:39.008 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=globalBindHandleWorkerLoop]
[2024/05/15 17:21:39.008 +08:00] [WARN] [sysvar_cache.go:49] ["sysvar cache is empty, triggering rebuild"]
[2024/05/15 17:21:39.010 +08:00] [INFO] [sysvar.go:2748] ["set resource control"] [enable=true]
[2024/05/15 17:21:39.010 +08:00] [INFO] [controller.go:447] ["[resource group controller] create resource group cost controller"] [name=default]
[2024/05/15 17:21:39.015 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=loadPrivilegeInLoop]
[2024/05/15 17:21:39.016 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=LoadSysVarCacheLoop]
[2024/05/15 17:21:39.017 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=PlanReplayerTaskCollectHandle]
[2024/05/15 17:21:39.017 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=PlanReplayerTaskDumpHandle]
[2024/05/15 17:21:39.017 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=dumpFileGcChecker]
[2024/05/15 17:21:39.017 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=HistoricalStatsWorker]
[2024/05/15 17:21:39.017 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=indexUsageWorker]
[2024/05/15 17:21:39.017 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=quitStatsOwner]
[2024/05/15 17:21:39.017 +08:00] [INFO] [domain.go:2278] ["start load stats sub workers"] ["worker count"=5]
[2024/05/15 17:21:39.017 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=loadSigningCertLoop]
[2024/05/15 17:21:39.017 +08:00] [INFO] [manager.go:113] ["build task executor manager"] [server-id=:4000] [total-cpu=1] [total-mem=32GiB]
[2024/05/15 17:21:39.018 +08:00] [INFO] [domain.go:2024] ["PlanReplayerTaskCollectHandle started"]
[2024/05/15 17:21:39.018 +08:00] [INFO] [domain.go:2046] ["PlanReplayerTaskDumpHandle started"]
[2024/05/15 17:21:39.018 +08:00] [INFO] [plan_replayer.go:409] ["planReplayerTaskDumpWorker started."]
[2024/05/15 17:21:39.018 +08:00] [INFO] [domain.go:2078] ["dumpFileGcChecker started"]
[2024/05/15 17:21:39.018 +08:00] [INFO] [domain.go:2111] ["HistoricalStatsWorker started"]
[2024/05/15 17:21:39.019 +08:00] [INFO] [task_manager.go:217] ["scale ttl worker"] [ttl-worker=job-manager] [ttl-worker=task-manager] [originalCount=0] [newCount=4]
[2024/05/15 17:21:39.019 +08:00] [INFO] [task_manager.go:217] ["scale ttl worker"] [ttl-worker=job-manager] [ttl-worker=task-manager] [originalCount=0] [newCount=4]
[2024/05/15 17:21:39.021 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=0] ["to ID"=1] ["table ID"=96] ["database ID"=1]
[2024/05/15 17:21:39.022 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=distTaskFrameworkLoop]
[2024/05/15 17:21:39.024 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=5000] ["to ID"=5001] ["table ID"=16] ["database ID"=1]
[2024/05/15 17:21:39.024 +08:00] [INFO] [manager.go:146] ["task executor manager start"] [server-id=:4000]
[2024/05/15 17:21:39.024 +08:00] [INFO] [domain.go:1533] ["dist task executor manager started"]
[2024/05/15 17:21:39.026 +08:00] [INFO] [set.go:170] ["set global var"] [conn=1] [name=tidb_schema_cache_size] [val=1024]
[2024/05/15 17:21:39.026 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=1] [schemaVersion=51] [cur_db=] [sql="create database if not exists test_recover"] [user=]
[2024/05/15 17:21:39.028 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:105, Type:create schema, State:queueing, SchemaState:none, SchemaID:104, TableID:0, RowCount:0, ArgLen:1, start time: 2024-05-15 17:21:39.027 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:21:39.028 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:105, Type:create schema, State:queueing, SchemaState:none, SchemaID:104, TableID:0, RowCount:0, ArgLen:1, start time: 2024-05-15 17:21:39.027 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="create database if not exists test_recover"]
[2024/05/15 17:21:39.062 +08:00] [INFO] [job_table.go:334] ["get global state and global state change"] [category=ddl] [oldState=false] [currState=false]
[2024/05/15 17:21:39.062 +08:00] [INFO] [job_table.go:349] ["the owner sets owner operator value"] [category=ddl] [ownerOp=none]
[2024/05/15 17:21:39.070 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=105] [conn=1] [category=ddl] [job="ID:105, Type:create schema, State:queueing, SchemaState:none, SchemaID:104, TableID:0, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:39.027 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:39.072 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=51] [neededSchemaVersion=52] ["start time"=36.875s] [gotSchemaVersion=52] [phyTblIDs="[]"] [actionTypes="[]"] [diffTypes="[\"create schema\"]"]
[2024/05/15 17:21:39.073 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:21:39.073 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=105] [version=52]
[2024/05/15 17:21:39.075 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=52] ["take time"=2.431625ms] [job="ID:105, Type:create schema, State:done, SchemaState:public, SchemaID:104, TableID:0, RowCount:0, ArgLen:1, start time: 2024-05-15 17:21:39.027 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:39.081 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=105] [conn=1] [job="ID:105, Type:create schema, State:synced, SchemaState:public, SchemaID:104, TableID:0, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:39.027 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:39.086 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=105]
[2024/05/15 17:21:39.086 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:21:39.086 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=1] [schemaVersion=52] [cur_db=test_recover] [sql="drop table if exists t_recover"] [user=]
[2024/05/15 17:21:39.087 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=1] [schemaVersion=52] [cur_db=test_recover] [sql="create table t_recover (a int)"] [user=]
[2024/05/15 17:21:39.089 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:107, Type:create table, State:queueing, SchemaState:none, SchemaID:104, TableID:106, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:39.089 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:21:39.089 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:107, Type:create table, State:queueing, SchemaState:none, SchemaID:104, TableID:106, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:39.089 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="create table t_recover (a int)"]
[2024/05/15 17:21:39.094 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=107] [conn=1] [category=ddl] [job="ID:107, Type:create table, State:queueing, SchemaState:none, SchemaID:104, TableID:106, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:39.089 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:39.096 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=52] [neededSchemaVersion=53] ["start time"=128.541s] [gotSchemaVersion=53] [phyTblIDs="[106]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:21:39.097 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:21:39.097 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=107] [version=53]
[2024/05/15 17:21:39.098 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=53] ["take time"=2.029584ms] [job="ID:107, Type:create table, State:done, SchemaState:public, SchemaID:104, TableID:106, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:39.089 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:39.103 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=107] [conn=1] [job="ID:107, Type:create table, State:synced, SchemaState:public, SchemaID:104, TableID:106, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:39.089 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:39.105 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=107]
[2024/05/15 17:21:39.105 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:21:39.105 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=0] ["to ID"=3] ["table ID"=106] ["database ID"=104]
[2024/05/15 17:21:39.106 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=1] [schemaVersion=53] [cur_db=test_recover] [sql="drop table t_recover"] [user=]
[2024/05/15 17:21:39.110 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:108, Type:drop table, State:queueing, SchemaState:public, SchemaID:104, TableID:106, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:39.109 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:21:39.110 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:108, Type:drop table, State:queueing, SchemaState:public, SchemaID:104, TableID:106, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:39.109 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="drop table t_recover"]
[2024/05/15 17:21:39.114 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=108] [conn=1] [category=ddl] [job="ID:108, Type:drop table, State:queueing, SchemaState:public, SchemaID:104, TableID:106, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:39.109 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:39.116 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=53] [neededSchemaVersion=54] ["start time"=43.583s] [gotSchemaVersion=54] [phyTblIDs="[106]"] [actionTypes="[4]"] [diffTypes="[\"drop table\"]"]
[2024/05/15 17:21:39.117 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:21:39.117 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=108] [version=54]
[2024/05/15 17:21:39.118 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=54] ["take time"=2.12475ms] [job="ID:108, Type:drop table, State:running, SchemaState:write only, SchemaID:104, TableID:106, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:39.109 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:39.123 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=108] [conn=1] [category=ddl] [job="ID:108, Type:drop table, State:running, SchemaState:write only, SchemaID:104, TableID:106, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:39.109 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:39.129 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=54] [neededSchemaVersion=55] ["start time"=27.959s] [gotSchemaVersion=55] [phyTblIDs="[]"] [actionTypes="[]"] [diffTypes="[\"drop table\"]"]
[2024/05/15 17:21:39.130 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:21:39.130 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=108] [version=55]
[2024/05/15 17:21:39.131 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=55] ["take time"=2.266083ms] [job="ID:108, Type:drop table, State:running, SchemaState:delete only, SchemaID:104, TableID:106, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:39.109 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:39.139 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=108] [conn=1] [category=ddl] [job="ID:108, Type:drop table, State:running, SchemaState:delete only, SchemaID:104, TableID:106, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:39.109 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:39.141 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=55] [neededSchemaVersion=56] ["start time"=101.542s] [gotSchemaVersion=56] [phyTblIDs="[]"] [actionTypes="[]"] [diffTypes="[\"drop table\"]"]
[2024/05/15 17:21:39.142 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:21:39.142 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=108] [version=56]
[2024/05/15 17:21:39.144 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=56] ["take time"=3.218584ms] [job="ID:108, Type:drop table, State:done, SchemaState:none, SchemaID:104, TableID:106, RowCount:0, ArgLen:3, start time: 2024-05-15 17:21:39.109 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:39.148 +08:00] [INFO] [delete_range.go:447] ["insert into delete-range table"] [category=ddl] [jobID=108] [tableIDs="[106]"] [comment="drop table: table ID"]
[2024/05/15 17:21:39.149 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=0] ["to ID"=1] ["table ID"=28] ["database ID"=1]
[2024/05/15 17:21:39.149 +08:00] [INFO] [delete_range.go:112] ["add job into delete-range table"] [category=ddl] [jobID=108] [jobType="drop table"]
[2024/05/15 17:21:39.149 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=108] [conn=1] [job="ID:108, Type:drop table, State:synced, SchemaState:none, SchemaID:104, TableID:106, RowCount:0, ArgLen:3, start time: 2024-05-15 17:21:39.109 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:39.156 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=108]
[2024/05/15 17:21:39.156 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:21:39.160 +08:00] [INFO] [tidb.go:269] ["rollbackTxn called due to ddl/autocommit failure"]
[2024/05/15 17:21:39.161 +08:00] [WARN] [session.go:2158] ["run statement failed"] [schemaVersion=56] [error="can not get 'tikv_gc_safe_point'"] [errorVerbose="can not get 'tikv_gc_safe_point'\ngithub.com/pingcap/tidb/pkg/util/gcutil.GetGCSafePoint\n\t/Users/bba/pc/tidb/pkg/util/gcutil/gcutil.go:81\ngithub.com/pingcap/tidb/pkg/util/gcutil.ValidateSnapshot\n\t/Users/bba/pc/tidb/pkg/util/gcutil/gcutil.go:54\ngithub.com/pingcap/tidb/pkg/executor.(*DDLExec).getRecoverTableByJobID\n\t/Users/bba/pc/tidb/pkg/executor/ddl.go:456\ngithub.com/pingcap/tidb/pkg/executor.(*DDLExec).executeRecoverTable\n\t/Users/bba/pc/tidb/pkg/executor/ddl.go:403\ngithub.com/pingcap/tidb/pkg/executor.(*DDLExec).Next\n\t/Users/bba/pc/tidb/pkg/executor/ddl.go:177\ngithub.com/pingcap/tidb/pkg/executor/internal/exec.Next\n\t/Users/bba/pc/tidb/pkg/executor/internal/exec/executor.go:410\ngithub.com/pingcap/tidb/pkg/executor.(*ExecStmt).next\n\t/Users/bba/pc/tidb/pkg/executor/adapter.go:1211\ngithub.com/pingcap/tidb/pkg/executor.(*ExecStmt).handleNoDelayExecutor\n\t/Users/bba/pc/tidb/pkg/executor/adapter.go:960\ngithub.com/pingcap/tidb/pkg/executor.(*ExecStmt).handleNoDelay\n\t/Users/bba/pc/tidb/pkg/executor/adapter.go:794\ngithub.com/pingcap/tidb/pkg/executor.(*ExecStmt).Exec\n\t/Users/bba/pc/tidb/pkg/executor/adapter.go:559\ngithub.com/pingcap/tidb/pkg/session.runStmt\n\t/Users/bba/pc/tidb/pkg/session/session.go:2285\ngithub.com/pingcap/tidb/pkg/session.(*session).ExecuteStmt\n\t/Users/bba/pc/tidb/pkg/session/session.go:2146\ngithub.com/pingcap/tidb/pkg/testkit.(*TestKit).ExecWithContext\n\t/Users/bba/pc/tidb/pkg/testkit/testkit.go:384\ngithub.com/pingcap/tidb/pkg/testkit.(*TestKit).Exec\n\t/Users/bba/pc/tidb/pkg/testkit/testkit.go:357\ngithub.com/pingcap/tidb/pkg/testkit.(*TestKit).ExecToErr\n\t/Users/bba/pc/tidb/pkg/testkit/testkit.go:430\ngithub.com/pingcap/tidb/pkg/ddl/tests/serial.TestRecoverTableByJobID\n\t/Users/bba/pc/tidb/pkg/ddl/tests/serial/serial_test.go:578\ntesting.tRunner\n\t/Users/bba/.gvm/gos/go1.21.0/src/testing/testing.go:1595\nruntime.goexit\n\t/Users/bba/.gvm/gos/go1.21.0/src/runtime/asm_arm64.s:1197"] [session="{\n  \"currDBName\": \"test_recover\",\n  \"id\": 1,\n  \"status\": 2,\n  \"strictMode\": true,\n  \"user\": null\n}"]
[2024/05/15 17:21:39.162 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=5000] ["to ID"=5001] ["table ID"=18] ["database ID"=1]
[2024/05/15 17:21:39.165 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:109, Type:recover table, State:queueing, SchemaState:none, SchemaID:104, TableID:106, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:39.164 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:21:39.166 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:109, Type:recover table, State:queueing, SchemaState:none, SchemaID:104, TableID:106, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:39.164 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="recover table by job 108"]
[2024/05/15 17:21:39.171 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=109] [conn=1] [category=ddl] [job="ID:109, Type:recover table, State:queueing, SchemaState:none, SchemaID:104, TableID:106, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:39.164 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:39.172 +08:00] [INFO] [ddl_worker.go:1401] ["schema version doesn't change"] [category=ddl] [jobID=109]
[2024/05/15 17:21:39.176 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=109] [conn=1] [category=ddl] [job="ID:109, Type:recover table, State:running, SchemaState:write only, SchemaID:104, TableID:106, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:39.164 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:39.177 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=5001] ["to ID"=5002] ["table ID"=18] ["database ID"=1]
[2024/05/15 17:21:39.178 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=5001] ["to ID"=5002] ["table ID"=16] ["database ID"=1]
[2024/05/15 17:21:39.182 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=56] [neededSchemaVersion=57] ["start time"=109.125s] [gotSchemaVersion=57] [phyTblIDs="[106]"] [actionTypes="[25]"] [diffTypes="[\"recover table\"]"]
[2024/05/15 17:21:39.183 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:21:39.183 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=109] [version=57]
[2024/05/15 17:21:39.184 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=57] ["take time"=2.236666ms] [job="ID:109, Type:recover table, State:done, SchemaState:public, SchemaID:104, TableID:106, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:39.164 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:39.191 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=5002] ["to ID"=5003] ["table ID"=18] ["database ID"=1]
[2024/05/15 17:21:39.192 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=5002] ["to ID"=5003] ["table ID"=16] ["database ID"=1]
[2024/05/15 17:21:39.195 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=109] [conn=1] [job="ID:109, Type:recover table, State:synced, SchemaState:public, SchemaID:104, TableID:106, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:39.164 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:39.197 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=109]
[2024/05/15 17:21:39.197 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:21:39.197 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=1] [schemaVersion=57] [cur_db=test_recover] [sql="DROP TABLE t_recover"] [user=]
[2024/05/15 17:21:39.198 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:110, Type:drop table, State:queueing, SchemaState:public, SchemaID:104, TableID:106, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:39.197 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:21:39.198 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:110, Type:drop table, State:queueing, SchemaState:public, SchemaID:104, TableID:106, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:39.197 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="DROP TABLE t_recover"]
[2024/05/15 17:21:39.202 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=110] [conn=1] [category=ddl] [job="ID:110, Type:drop table, State:queueing, SchemaState:public, SchemaID:104, TableID:106, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:39.197 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:39.206 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=57] [neededSchemaVersion=58] ["start time"=42.291s] [gotSchemaVersion=58] [phyTblIDs="[106]"] [actionTypes="[4]"] [diffTypes="[\"drop table\"]"]
[2024/05/15 17:21:39.207 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:21:39.207 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=110] [version=58]
[2024/05/15 17:21:39.208 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=58] ["take time"=2.851208ms] [job="ID:110, Type:drop table, State:running, SchemaState:write only, SchemaID:104, TableID:106, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:39.197 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:39.214 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=110] [conn=1] [category=ddl] [job="ID:110, Type:drop table, State:running, SchemaState:write only, SchemaID:104, TableID:106, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:39.197 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:39.217 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=58] [neededSchemaVersion=59] ["start time"=48.041s] [gotSchemaVersion=59] [phyTblIDs="[]"] [actionTypes="[]"] [diffTypes="[\"drop table\"]"]
[2024/05/15 17:21:39.218 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:21:39.218 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=110] [version=59]
[2024/05/15 17:21:39.220 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=59] ["take time"=3.938ms] [job="ID:110, Type:drop table, State:running, SchemaState:delete only, SchemaID:104, TableID:106, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:39.197 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:39.225 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=110] [conn=1] [category=ddl] [job="ID:110, Type:drop table, State:running, SchemaState:delete only, SchemaID:104, TableID:106, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:39.197 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:39.226 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=59] [neededSchemaVersion=60] ["start time"=24.209s] [gotSchemaVersion=60] [phyTblIDs="[]"] [actionTypes="[]"] [diffTypes="[\"drop table\"]"]
[2024/05/15 17:21:39.228 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:21:39.228 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=110] [version=60]
[2024/05/15 17:21:39.228 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=60] ["take time"=2.027292ms] [job="ID:110, Type:drop table, State:done, SchemaState:none, SchemaID:104, TableID:106, RowCount:0, ArgLen:3, start time: 2024-05-15 17:21:39.197 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:39.232 +08:00] [INFO] [delete_range.go:447] ["insert into delete-range table"] [category=ddl] [jobID=110] [tableIDs="[106]"] [comment="drop table: table ID"]
[2024/05/15 17:21:39.233 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1] ["to ID"=2] ["table ID"=28] ["database ID"=1]
[2024/05/15 17:21:39.234 +08:00] [INFO] [delete_range.go:112] ["add job into delete-range table"] [category=ddl] [jobID=110] [jobType="drop table"]
[2024/05/15 17:21:39.235 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=110] [conn=1] [job="ID:110, Type:drop table, State:synced, SchemaState:none, SchemaID:104, TableID:106, RowCount:0, ArgLen:3, start time: 2024-05-15 17:21:39.197 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:39.238 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=110]
[2024/05/15 17:21:39.238 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:21:39.242 +08:00] [INFO] [tidb.go:269] ["rollbackTxn called due to ddl/autocommit failure"]
[2024/05/15 17:21:39.242 +08:00] [WARN] [session.go:2158] ["run statement failed"] [schemaVersion=60] [error="[variable:8055]snapshot is older than GC safe point 2024-05-17 17:21:39 +0800 CST"] [errorVerbose="[variable:8055]snapshot is older than GC safe point 2024-05-17 17:21:39 +0800 CST\ngithub.com/pingcap/errors.AddStack\n\t/Users/bba/.gvm/pkgsets/go1.21.0/global/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20240318064555-6bd07397691f/errors.go:178\ngithub.com/pingcap/errors.(*Error).GenWithStackByArgs\n\t/Users/bba/.gvm/pkgsets/go1.21.0/global/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20240318064555-6bd07397691f/normalize.go:175\ngithub.com/pingcap/tidb/pkg/util/gcutil.ValidateSnapshot\n\t/Users/bba/pc/tidb/pkg/util/gcutil/gcutil.go:59\ngithub.com/pingcap/tidb/pkg/executor.(*DDLExec).getRecoverTableByJobID\n\t/Users/bba/pc/tidb/pkg/executor/ddl.go:456\ngithub.com/pingcap/tidb/pkg/executor.(*DDLExec).executeRecoverTable\n\t/Users/bba/pc/tidb/pkg/executor/ddl.go:403\ngithub.com/pingcap/tidb/pkg/executor.(*DDLExec).Next\n\t/Users/bba/pc/tidb/pkg/executor/ddl.go:177\ngithub.com/pingcap/tidb/pkg/executor/internal/exec.Next\n\t/Users/bba/pc/tidb/pkg/executor/internal/exec/executor.go:410\ngithub.com/pingcap/tidb/pkg/executor.(*ExecStmt).next\n\t/Users/bba/pc/tidb/pkg/executor/adapter.go:1211\ngithub.com/pingcap/tidb/pkg/executor.(*ExecStmt).handleNoDelayExecutor\n\t/Users/bba/pc/tidb/pkg/executor/adapter.go:960\ngithub.com/pingcap/tidb/pkg/executor.(*ExecStmt).handleNoDelay\n\t/Users/bba/pc/tidb/pkg/executor/adapter.go:794\ngithub.com/pingcap/tidb/pkg/executor.(*ExecStmt).Exec\n\t/Users/bba/pc/tidb/pkg/executor/adapter.go:559\ngithub.com/pingcap/tidb/pkg/session.runStmt\n\t/Users/bba/pc/tidb/pkg/session/session.go:2285\ngithub.com/pingcap/tidb/pkg/session.(*session).ExecuteStmt\n\t/Users/bba/pc/tidb/pkg/session/session.go:2146\ngithub.com/pingcap/tidb/pkg/testkit.(*TestKit).ExecWithContext\n\t/Users/bba/pc/tidb/pkg/testkit/testkit.go:384\ngithub.com/pingcap/tidb/pkg/testkit.(*TestKit).Exec\n\t/Users/bba/pc/tidb/pkg/testkit/testkit.go:357\ngithub.com/pingcap/tidb/pkg/testkit.(*TestKit).ExecToErr\n\t/Users/bba/pc/tidb/pkg/testkit/testkit.go:430\ngithub.com/pingcap/tidb/pkg/ddl/tests/serial.TestRecoverTableByJobID\n\t/Users/bba/pc/tidb/pkg/ddl/tests/serial/serial_test.go:592\ntesting.tRunner\n\t/Users/bba/.gvm/gos/go1.21.0/src/testing/testing.go:1595\nruntime.goexit\n\t/Users/bba/.gvm/gos/go1.21.0/src/runtime/asm_arm64.s:1197"] [session="{\n  \"currDBName\": \"test_recover\",\n  \"id\": 1,\n  \"status\": 2,\n  \"strictMode\": true,\n  \"user\": null\n}"]
[2024/05/15 17:21:39.243 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=1] [schemaVersion=60] [cur_db=test_recover] [sql="create table t_recover (a int)"] [user=]
[2024/05/15 17:21:39.244 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:112, Type:create table, State:queueing, SchemaState:none, SchemaID:104, TableID:111, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:39.244 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:21:39.244 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:112, Type:create table, State:queueing, SchemaState:none, SchemaID:104, TableID:111, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:39.244 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="create table t_recover (a int)"]
[2024/05/15 17:21:39.248 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=112] [conn=1] [category=ddl] [job="ID:112, Type:create table, State:queueing, SchemaState:none, SchemaID:104, TableID:111, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:39.244 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:39.251 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=60] [neededSchemaVersion=61] ["start time"=236.667s] [gotSchemaVersion=61] [phyTblIDs="[111]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:21:39.252 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:21:39.252 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=112] [version=61]
[2024/05/15 17:21:39.253 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=61] ["take time"=3.15975ms] [job="ID:112, Type:create table, State:done, SchemaState:public, SchemaID:104, TableID:111, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:39.244 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:39.260 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=112] [conn=1] [job="ID:112, Type:create table, State:synced, SchemaState:public, SchemaID:104, TableID:111, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:39.244 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:39.263 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=112]
[2024/05/15 17:21:39.263 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:21:39.263 +08:00] [WARN] [infoschema_v3.go:59] ["table not equal"] [tbl1="{\"id\":106,\"name\":{\"O\":\"t_recover\",\"L\":\"t_recover\"},\"charset\":\"utf8mb4\",\"collate\":\"utf8mb4_bin\",\"cols\":[{\"id\":1,\"name\":{\"O\":\"a\",\"L\":\"a\"},\"offset\":0,\"origin_default\":null,\"origin_default_bit\":null,\"default\":null,\"default_bit\":null,\"default_is_expr\":false,\"generated_expr_string\":\"\",\"generated_stored\":false,\"dependences\":null,\"type\":{\"Tp\":3,\"Flag\":0,\"Flen\":11,\"Decimal\":0,\"Charset\":\"binary\",\"Collate\":\"binary\",\"Elems\":null,\"ElemsIsBinaryLit\":null,\"Array\":false},\"state\":5,\"comment\":\"\",\"hidden\":false,\"change_state_info\":null,\"version\":2}],\"index_info\":null,\"constraint_info\":null,\"fk_info\":null,\"state\":5,\"pk_is_handle\":false,\"is_common_handle\":false,\"common_handle_version\":0,\"comment\":\"\",\"auto_inc_id\":0,\"auto_id_cache\":0,\"auto_rand_id\":0,\"max_col_id\":1,\"max_idx_id\":0,\"max_fk_id\":0,\"max_cst_id\":0,\"update_timestamp\":449777473708097546,\"ShardRowIDBits\":0,\"max_shard_row_id_bits\":0,\"auto_random_bits\":0,\"auto_random_range_bits\":0,\"pre_split_regions\":0,\"partition\":null,\"compression\":\"\",\"view\":null,\"sequence\":null,\"Lock\":null,\"version\":5,\"tiflash_replica\":null,\"is_columnar\":false,\"temp_table_type\":0,\"cache_table_status\":0,\"policy_ref_info\":null,\"stats_options\":null,\"exchange_partition_info\":null,\"ttl_info\":null,\"revision\":0}"] [tbl2="{\"id\":106,\"name\":{\"O\":\"t_recover\",\"L\":\"t_recover\"},\"charset\":\"utf8mb4\",\"collate\":\"utf8mb4_bin\",\"cols\":[{\"id\":1,\"name\":{\"O\":\"a\",\"L\":\"a\"},\"offset\":0,\"origin_default\":null,\"origin_default_bit\":null,\"default\":null,\"default_bit\":null,\"default_is_expr\":false,\"generated_expr_string\":\"\",\"generated_stored\":false,\"dependences\":null,\"type\":{\"Tp\":3,\"Flag\":0,\"Flen\":11,\"Decimal\":0,\"Charset\":\"binary\",\"Collate\":\"binary\",\"Elems\":null,\"ElemsIsBinaryLit\":null,\"Array\":false},\"state\":5,\"comment\":\"\",\"hidden\":false,\"change_state_info\":null,\"version\":2}],\"index_info\":null,\"constraint_info\":null,\"fk_info\":null,\"state\":0,\"pk_is_handle\":false,\"is_common_handle\":false,\"common_handle_version\":0,\"comment\":\"\",\"auto_inc_id\":0,\"auto_id_cache\":0,\"auto_rand_id\":0,\"max_col_id\":1,\"max_idx_id\":0,\"max_fk_id\":0,\"max_cst_id\":0,\"update_timestamp\":449777473708097546,\"ShardRowIDBits\":0,\"max_shard_row_id_bits\":0,\"auto_random_bits\":0,\"auto_random_range_bits\":0,\"pre_split_regions\":0,\"partition\":null,\"compression\":\"\",\"view\":null,\"sequence\":null,\"Lock\":null,\"version\":5,\"tiflash_replica\":null,\"is_columnar\":false,\"temp_table_type\":0,\"cache_table_status\":0,\"policy_ref_info\":null,\"stats_options\":null,\"exchange_partition_info\":null,\"ttl_info\":null,\"revision\":0}"]
[2024/05/15 17:21:39.263 +08:00] [INFO] [tidb.go:269] ["rollbackTxn called due to ddl/autocommit failure"]
[2024/05/15 17:21:39.264 +08:00] [WARN] [session.go:2158] ["run statement failed"] [schemaVersion=61] [error="inconsistent infoschema"] [errorVerbose="inconsistent infoschema\ngithub.com/pingcap/tidb/pkg/util.GetRecoverError\n\t/Users/bba/pc/tidb/pkg/util/util.go:306\ngithub.com/pingcap/tidb/pkg/executor/internal/exec.Next.func1\n\t/Users/bba/pc/tidb/pkg/executor/internal/exec/executor.go:394\nruntime.gopanic\n\t/Users/bba/.gvm/gos/go1.21.0/src/runtime/panic.go:914\ngithub.com/pingcap/tidb/pkg/infoschema.(*infoschemaV3).TableByID\n\t/Users/bba/pc/tidb/pkg/infoschema/infoschema_v3.go:201\ngithub.com/pingcap/tidb/pkg/executor.(*DDLExec).getRecoverTableByJobID\n\t/Users/bba/pc/tidb/pkg/executor/ddl.go:467\ngithub.com/pingcap/tidb/pkg/executor.(*DDLExec).executeRecoverTable\n\t/Users/bba/pc/tidb/pkg/executor/ddl.go:403\ngithub.com/pingcap/tidb/pkg/executor.(*DDLExec).Next\n\t/Users/bba/pc/tidb/pkg/executor/ddl.go:177\ngithub.com/pingcap/tidb/pkg/executor/internal/exec.Next\n\t/Users/bba/pc/tidb/pkg/executor/internal/exec/executor.go:410\ngithub.com/pingcap/tidb/pkg/executor.(*ExecStmt).next\n\t/Users/bba/pc/tidb/pkg/executor/adapter.go:1211\ngithub.com/pingcap/tidb/pkg/executor.(*ExecStmt).handleNoDelayExecutor\n\t/Users/bba/pc/tidb/pkg/executor/adapter.go:960\ngithub.com/pingcap/tidb/pkg/executor.(*ExecStmt).handleNoDelay\n\t/Users/bba/pc/tidb/pkg/executor/adapter.go:794\ngithub.com/pingcap/tidb/pkg/executor.(*ExecStmt).Exec\n\t/Users/bba/pc/tidb/pkg/executor/adapter.go:559\ngithub.com/pingcap/tidb/pkg/session.runStmt\n\t/Users/bba/pc/tidb/pkg/session/session.go:2285\ngithub.com/pingcap/tidb/pkg/session.(*session).ExecuteStmt\n\t/Users/bba/pc/tidb/pkg/session/session.go:2146\ngithub.com/pingcap/tidb/pkg/testkit.(*TestKit).ExecWithContext\n\t/Users/bba/pc/tidb/pkg/testkit/testkit.go:384\ngithub.com/pingcap/tidb/pkg/testkit.(*TestKit).Exec\n\t/Users/bba/pc/tidb/pkg/testkit/testkit.go:357\ngithub.com/pingcap/tidb/pkg/testkit.(*TestKit).ExecToErr\n\t/Users/bba/pc/tidb/pkg/testkit/testkit.go:430\ngithub.com/pingcap/tidb/pkg/ddl/tests/serial.TestRecoverTableByJobID\n\t/Users/bba/pc/tidb/pkg/ddl/tests/serial/serial_test.go:600\ntesting.tRunner\n\t/Users/bba/.gvm/gos/go1.21.0/src/testing/testing.go:1595\nruntime.goexit\n\t/Users/bba/.gvm/gos/go1.21.0/src/runtime/asm_arm64.s:1197"] [session="{\n  \"currDBName\": \"test_recover\",\n  \"id\": 1,\n  \"status\": 2,\n  \"strictMode\": true,\n  \"user\": null\n}"]
[2024/05/15 17:21:39.265 +08:00] [INFO] [mock.go:106] ["owner manager is canceled"] [category=ddl] [ID=0423201d-9fe9-4076-b4a8-86c03d334b8f] [ownerKey=/tidb/ddl/fg/owner]
[2024/05/15 17:21:39.265 +08:00] [INFO] [ddl_workerpool.go:82] ["closing workerPool"] [category=ddl]
[2024/05/15 17:21:39.265 +08:00] [INFO] [ddl_worker.go:186] ["DDL worker closed"] [worker="worker 4, tp add index"] [category=ddl] ["take time"=834ns]
[2024/05/15 17:21:39.265 +08:00] [INFO] [ddl_workerpool.go:82] ["closing workerPool"] [category=ddl]
[2024/05/15 17:21:39.265 +08:00] [INFO] [ddl_worker.go:186] ["DDL worker closed"] [worker="worker 3, tp general"] [category=ddl] ["take time"=4.083s]
[2024/05/15 17:21:39.265 +08:00] [INFO] [ddl_workerpool.go:82] ["closing workerPool"] [category=ddl]
[2024/05/15 17:21:39.265 +08:00] [INFO] [delete_range.go:162] ["closing delRange"] [category=ddl]
[2024/05/15 17:21:39.265 +08:00] [INFO] [session_pool.go:99] ["closing session pool"] [category=ddl]
[2024/05/15 17:21:39.266 +08:00] [INFO] [ddl.go:951] ["DDL closed"] [category=ddl] [ID=0423201d-9fe9-4076-b4a8-86c03d334b8f] ["take time"=1.093083ms]
[2024/05/15 17:21:39.266 +08:00] [INFO] [ddl.go:769] ["stop DDL"] [category=ddl] [ID=0423201d-9fe9-4076-b4a8-86c03d334b8f]
[2024/05/15 17:21:39.266 +08:00] [INFO] [domain.go:1034] ["stopping ttlJobManager"]
[2024/05/15 17:21:39.266 +08:00] [INFO] [task_manager.go:194] ["shrink ttl worker"] [ttl-worker=job-manager] [ttl-worker=task-manager] [originalCount=4] [newCount=0]
[2024/05/15 17:21:39.266 +08:00] [INFO] [scan.go:309] ["ttlScanWorker loop exited."]
[2024/05/15 17:21:39.266 +08:00] [INFO] [scan.go:309] ["ttlScanWorker loop exited."]
[2024/05/15 17:21:39.266 +08:00] [INFO] [scan.go:309] ["ttlScanWorker loop exited."]
[2024/05/15 17:21:39.266 +08:00] [INFO] [scan.go:309] ["ttlScanWorker loop exited."]
[2024/05/15 17:21:39.266 +08:00] [INFO] [task_manager.go:194] ["shrink ttl worker"] [ttl-worker=job-manager] [ttl-worker=task-manager] [originalCount=4] [newCount=0]
[2024/05/15 17:21:39.266 +08:00] [INFO] [del.go:261] ["ttlDeleteWorker loop exited."]
[2024/05/15 17:21:39.266 +08:00] [INFO] [del.go:261] ["ttlDeleteWorker loop exited."]
[2024/05/15 17:21:39.266 +08:00] [INFO] [del.go:261] ["ttlDeleteWorker loop exited."]
[2024/05/15 17:21:39.266 +08:00] [INFO] [del.go:261] ["ttlDeleteWorker loop exited."]
[2024/05/15 17:21:39.267 +08:00] [INFO] [job_manager.go:174] ["ttlJobManager loop exited."] [ttl-worker=job-manager]
[2024/05/15 17:21:39.267 +08:00] [INFO] [domain.go:1045] ["ttlJobManager exited."]
[2024/05/15 17:21:39.267 +08:00] [INFO] [manager.go:280] ["recoverMetaLoop done"] [server-id=:4000]
[2024/05/15 17:21:39.267 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=mdlCheckLoop]
[2024/05/15 17:21:39.267 +08:00] [INFO] [domain.go:915] ["loadSchemaInLoop exited."]
[2024/05/15 17:21:39.267 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=loadSchemaInLoop]
[2024/05/15 17:21:39.267 +08:00] [INFO] [domain.go:1535] ["stopping dist task executor manager"]
[2024/05/15 17:21:39.267 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=loadSigningCertLoop]
[2024/05/15 17:21:39.267 +08:00] [INFO] [stats_syncload.go:216] ["SubLoadWorker exited."]
[2024/05/15 17:21:39.267 +08:00] [INFO] [stats_syncload.go:216] ["SubLoadWorker exited."]
[2024/05/15 17:21:39.267 +08:00] [INFO] [stats_syncload.go:216] ["SubLoadWorker exited."]
[2024/05/15 17:21:39.267 +08:00] [INFO] [stats_syncload.go:216] ["SubLoadWorker exited."]
[2024/05/15 17:21:39.267 +08:00] [INFO] [stats_syncload.go:216] ["SubLoadWorker exited."]
[2024/05/15 17:21:39.267 +08:00] [INFO] [mock.go:106] ["owner manager is canceled"] [category=ddl] [ID=0423201d-9fe9-4076-b4a8-86c03d334b8f] [ownerKey=/tidb/stats/owner]
[2024/05/15 17:21:39.267 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=quitStatsOwner]
[2024/05/15 17:21:39.267 +08:00] [INFO] [domain.go:2361] ["indexUsageWorker exited."]
[2024/05/15 17:21:39.267 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=indexUsageWorker]
[2024/05/15 17:21:39.267 +08:00] [INFO] [domain.go:2113] ["HistoricalStatsWorker exited."]
[2024/05/15 17:21:39.267 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=HistoricalStatsWorker]
[2024/05/15 17:21:39.267 +08:00] [INFO] [domain.go:2082] ["dumpFileGcChecker exited."]
[2024/05/15 17:21:39.267 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=dumpFileGcChecker]
[2024/05/15 17:21:39.267 +08:00] [INFO] [domain.go:2048] ["PlanReplayerTaskDumpHandle exited."]
[2024/05/15 17:21:39.267 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=PlanReplayerTaskDumpHandle]
[2024/05/15 17:21:39.267 +08:00] [INFO] [plan_replayer.go:413] ["planReplayerTaskDumpWorker exited."]
[2024/05/15 17:21:39.267 +08:00] [INFO] [domain.go:2028] ["PlanReplayerTaskCollectHandle exited."]
[2024/05/15 17:21:39.267 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=PlanReplayerTaskCollectHandle]
[2024/05/15 17:21:39.267 +08:00] [INFO] [domain.go:1758] ["LoadSysVarCacheLoop exited."]
[2024/05/15 17:21:39.267 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=LoadSysVarCacheLoop]
[2024/05/15 17:21:39.267 +08:00] [INFO] [domain.go:1708] ["loadPrivilegeInLoop exited."]
[2024/05/15 17:21:39.267 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=loadPrivilegeInLoop]
[2024/05/15 17:21:39.267 +08:00] [INFO] [mock.go:106] ["owner manager is canceled"] [category=ddl] [ID=0423201d-9fe9-4076-b4a8-86c03d334b8f] [ownerKey=/tidb/bindinfo/owner]
[2024/05/15 17:21:39.267 +08:00] [INFO] [domain.go:1897] ["globalBindHandleWorkerLoop exited."]
[2024/05/15 17:21:39.267 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=globalBindHandleWorkerLoop]
[2024/05/15 17:21:39.267 +08:00] [INFO] [domain.go:769] ["topologySyncerKeeper exited."]
[2024/05/15 17:21:39.267 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=topologySyncerKeeper]
[2024/05/15 17:21:39.267 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=runawayStartLoop]
[2024/05/15 17:21:39.267 +08:00] [INFO] [domain.go:745] ["globalConfigSyncerKeeper exited."]
[2024/05/15 17:21:39.267 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=globalConfigSyncerKeeper]
[2024/05/15 17:21:39.267 +08:00] [INFO] [domain.go:719] ["infoSyncerKeeper exited."]
[2024/05/15 17:21:39.267 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=infoSyncerKeeper]
[2024/05/15 17:21:39.267 +08:00] [INFO] [domain.go:691] ["topNSlowQueryLoop exited."]
[2024/05/15 17:21:39.267 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=topNSlowQueryLoop]
[2024/05/15 17:21:39.267 +08:00] [INFO] [domain.go:1369] ["closestReplicaReadCheckLoop exited."]
[2024/05/15 17:21:39.267 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=closestReplicaReadCheckLoop]
[2024/05/15 17:21:39.267 +08:00] [INFO] [manager.go:179] ["handle tasks loop done"] [server-id=:4000]
[2024/05/15 17:21:39.267 +08:00] [INFO] [domain.go:1537] ["dist task executor manager stopped"]
[2024/05/15 17:21:39.267 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=distTaskFrameworkLoop]
[2024/05/15 17:21:39.267 +08:00] [INFO] [domain.go:1082] ["domain closed"] ["take time"=2.502333ms]
[2024/05/15 17:21:39.273 +08:00] [INFO] [db.go:567] ["Closing database"]
[2024/05/15 17:21:39.275 +08:00] [INFO] [db.go:592] ["Memtable flushed"]
[2024/05/15 17:21:39.275 +08:00] [INFO] [db.go:596] ["Compaction finished"]
[2024/05/15 17:21:39.275 +08:00] [INFO] [db.go:615] ["BlobManager finished"]
[2024/05/15 17:21:39.275 +08:00] [INFO] [db.go:619] ["ResourceManager finished"]
[2024/05/15 17:21:39.275 +08:00] [INFO] [db.go:625] ["Waiting for closer"]
--- FAIL: TestRecoverTableByJobID (1.59s)
    serial_test.go:601: 
        	Error Trace:	/Users/bba/pc/tidb/pkg/ddl/tests/serial/serial_test.go:601
        	Error:      	Error message not equal:
        	            	expected: "[schema:1050]Table 't_recover' already exists"
        	            	actual  : "inconsistent infoschema"
        	Test:       	TestRecoverTableByJobID
FAIL
[FAIL]  pkg/ddl TestModifyColumnCharset
err=exit status 2
[2024/05/15 17:21:46.421 +08:00] [INFO] [store_cache.go:510] ["change store resolve state"] [store=1] [addr=store1] [from=unresolved] [to=resolved] [liveness-state=reachable]
[2024/05/15 17:21:46.421 +08:00] [INFO] [ddl_api.go:1139] ["Automatically convert BLOB(65535) to MEDIUMBLOB"] [category=ddl]
[2024/05/15 17:21:46.421 +08:00] [INFO] [ddl_api.go:1139] ["Automatically convert BLOB(65535) to MEDIUMBLOB"] [category=ddl]
[2024/05/15 17:21:46.422 +08:00] [INFO] [ddl_api.go:1139] ["Automatically convert BLOB(65535) to MEDIUMBLOB"] [category=ddl]
[2024/05/15 17:21:46.422 +08:00] [INFO] [ddl_api.go:1139] ["Automatically convert BLOB(65535) to MEDIUMBLOB"] [category=ddl]
[2024/05/15 17:21:46.422 +08:00] [INFO] [ddl_api.go:1139] ["Automatically convert BLOB(65535) to MEDIUMBLOB"] [category=ddl]
[2024/05/15 17:21:46.423 +08:00] [INFO] [tidb.go:80] ["new domain"] [store=2c18f00d-721e-4ec2-bc59-673fce5cfcf0] ["ddl lease"=500ms] ["stats lease"=-1ns]
[2024/05/15 17:21:46.428 +08:00] [WARN] [controller.go:198] ["[resource group controller] server does not save config, load config failed"]
[2024/05/15 17:21:46.428 +08:00] [INFO] [controller.go:185] ["load resource controller config"] [config="{\"degraded-mode-wait-duration\":\"0s\",\"ltb-max-wait-duration\":\"30s\",\"wait-retry-interval\":\"50ms\",\"wait-retry-times\":10,\"request-unit\":{\"read-base-cost\":0.125,\"read-per-batch-base-cost\":0.5,\"read-cost-per-byte\":0.0000152587890625,\"write-base-cost\":1,\"write-per-batch-base-cost\":1,\"write-cost-per-byte\":0.0009765625,\"read-cpu-ms-cost\":0.3333333333333333},\"enable-controller-trace-log\":\"false\"}"] [ru-config="{\"ReadBaseCost\":0.125,\"ReadPerBatchBaseCost\":0.5,\"ReadBytesCost\":0.0000152587890625,\"WriteBaseCost\":1,\"WritePerBatchBaseCost\":1,\"WriteBytesCost\":0.0009765625,\"CPUMsCost\":0.3333333333333333,\"LTBMaxWaitDuration\":30000000000,\"WaitRetryInterval\":50000000,\"WaitRetryTimes\":10,\"DegradedModeWaitDuration\":0}"]
[2024/05/15 17:21:46.428 +08:00] [WARN] [domain.go:244] ["failed to get schema version"] [error="There is no Write MVCC info for the schema version"] [errorVerbose="There is no Write MVCC info for the schema version\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).getTimestampForSchemaVersionWithNonEmptyDiff\n\t/Users/bba/pc/tidb/pkg/domain/domain.go:343\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).loadInfoSchema\n\t/Users/bba/pc/tidb/pkg/domain/domain.go:242\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).Reload\n\t/Users/bba/pc/tidb/pkg/domain/domain.go:614\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).Init\n\t/Users/bba/pc/tidb/pkg/domain/domain.go:1268\ngithub.com/pingcap/tidb/pkg/session.(*domainMap).Get.func1\n\t/Users/bba/pc/tidb/pkg/session/tidb.go:92\ngithub.com/pingcap/tidb/pkg/util.RunWithRetry\n\t/Users/bba/pc/tidb/pkg/util/misc.go:70\ngithub.com/pingcap/tidb/pkg/session.(*domainMap).Get\n\t/Users/bba/pc/tidb/pkg/session/tidb.go:79\ngithub.com/pingcap/tidb/pkg/session.createSessionWithOpt\n\t/Users/bba/pc/tidb/pkg/session/session.go:3633\ngithub.com/pingcap/tidb/pkg/session.createSession\n\t/Users/bba/pc/tidb/pkg/session/session.go:3625\ngithub.com/pingcap/tidb/pkg/session.runInBootstrapSession\n\t/Users/bba/pc/tidb/pkg/session/session.go:3575\ngithub.com/pingcap/tidb/pkg/session.bootstrapSessionImpl\n\t/Users/bba/pc/tidb/pkg/session/session.go:3351\ngithub.com/pingcap/tidb/pkg/session.BootstrapSession\n\t/Users/bba/pc/tidb/pkg/session/session.go:3317\ngithub.com/pingcap/tidb/pkg/testkit.bootstrap\n\t/Users/bba/pc/tidb/pkg/testkit/mockstore.go:294\ngithub.com/pingcap/tidb/pkg/testkit.CreateMockStoreAndDomain\n\t/Users/bba/pc/tidb/pkg/testkit/mockstore.go:265\ngithub.com/pingcap/tidb/pkg/testkit.CreateMockStore\n\t/Users/bba/pc/tidb/pkg/testkit/mockstore.go:72\ngithub.com/pingcap/tidb/pkg/ddl_test.TestModifyColumnCharset\n\t/Users/bba/pc/tidb/pkg/ddl/modify_column_test.go:406\ntesting.tRunner\n\t/Users/bba/.gvm/gos/go1.21.0/src/testing/testing.go:1595\nruntime.goexit\n\t/Users/bba/.gvm/gos/go1.21.0/src/runtime/asm_arm64.s:1197"] [version=0]
[2024/05/15 17:21:46.436 +08:00] [INFO] [domain.go:323] ["full load InfoSchema success"] [currentSchemaVersion=0] [neededSchemaVersion=0] ["start time"=7.784583ms]
[2024/05/15 17:21:46.436 +08:00] [INFO] [domain.go:643] ["full load and reset schema validator"]
[2024/05/15 17:21:46.436 +08:00] [INFO] [ddl.go:818] ["start DDL"] [category=ddl] [ID=50d17f8e-3dcc-46e0-8957-d532a8c79ef5] [runWorker=true]
[2024/05/15 17:21:46.437 +08:00] [INFO] [ddl.go:777] ["start delRangeManager OK"] [category=ddl] ["is a emulator"=true]
[2024/05/15 17:21:46.437 +08:00] [WARN] [env.go:51] ["initialize environment failed"] [category=ddl-ingest] ["storage limitation"="only support TiKV storage"] ["current storage"=unistore] ["lightning is initialized"=false]
[2024/05/15 17:21:46.437 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=loadSchemaInLoop]
[2024/05/15 17:21:46.437 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=mdlCheckLoop]
[2024/05/15 17:21:46.437 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=topNSlowQueryLoop]
[2024/05/15 17:21:46.437 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=infoSyncerKeeper]
[2024/05/15 17:21:46.437 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=globalConfigSyncerKeeper]
[2024/05/15 17:21:46.437 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=runawayStartLoop]
[2024/05/15 17:21:46.437 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=requestUnitsWriterLoop]
[2024/05/15 17:21:46.437 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=topologySyncerKeeper]
[2024/05/15 17:21:46.437 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=closestReplicaReadCheckLoop]
[2024/05/15 17:21:46.437 +08:00] [WARN] [domain.go:1334] ["pd / etcd client not provided, won't begin Advancer."]
[2024/05/15 17:21:46.437 +08:00] [INFO] [delete_range.go:172] ["start delRange emulator"] [category=ddl]
[2024/05/15 17:21:46.437 +08:00] [INFO] [job_table.go:334] ["get global state and global state change"] [category=ddl] [oldState=false] [currState=false]
[2024/05/15 17:21:46.438 +08:00] [INFO] [runaway.go:149] ["try to start runaway manager loop"]
[2024/05/15 17:21:46.438 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=requestUnitsWriterLoop]
[2024/05/15 17:21:46.488 +08:00] [INFO] [job_table.go:334] ["get global state and global state change"] [category=ddl] [oldState=false] [currState=false]
[2024/05/15 17:21:46.488 +08:00] [INFO] [job_table.go:349] ["the owner sets owner operator value"] [category=ddl] [ownerOp=none]
[2024/05/15 17:21:46.639 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=0] [cur_db=mysql] [sql="CREATE DATABASE IF NOT EXISTS test"] [user=]
[2024/05/15 17:21:46.641 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:3, Type:create schema, State:queueing, SchemaState:none, SchemaID:2, TableID:0, RowCount:0, ArgLen:1, start time: 2024-05-15 17:21:46.64 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:21:46.641 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:3, Type:create schema, State:queueing, SchemaState:none, SchemaID:2, TableID:0, RowCount:0, ArgLen:1, start time: 2024-05-15 17:21:46.64 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE DATABASE IF NOT EXISTS test"]
[2024/05/15 17:21:46.647 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=3] [category=ddl] [job="ID:3, Type:create schema, State:queueing, SchemaState:none, SchemaID:2, TableID:0, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:46.64 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:46.656 +08:00] [INFO] [domain.go:323] ["full load InfoSchema success"] [currentSchemaVersion=0] [neededSchemaVersion=1] ["start time"=7.803042ms]
[2024/05/15 17:21:46.657 +08:00] [INFO] [domain.go:643] ["full load and reset schema validator"]
[2024/05/15 17:21:46.658 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:21:46.658 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=3] [version=1]
[2024/05/15 17:21:46.658 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=1] ["take time"=10.059291ms] [job="ID:3, Type:create schema, State:done, SchemaState:public, SchemaID:2, TableID:0, RowCount:0, ArgLen:1, start time: 2024-05-15 17:21:46.64 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:46.663 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=3] [job="ID:3, Type:create schema, State:synced, SchemaState:public, SchemaID:2, TableID:0, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:46.64 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:46.665 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=3]
[2024/05/15 17:21:46.665 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:21:46.665 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=1] [cur_db=mysql] [sql="CREATE DATABASE IF NOT EXISTS `mysql`"] [user=]
[2024/05/15 17:21:46.666 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=1] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.user (\n\t\tHost\t\t\t\t\tCHAR(255),\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tauthentication_string\tTEXT,\n\t\tplugin\t\t\t\t\tCHAR(64),\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tProcess_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_db_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tSuper_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_user_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_slave_priv\t    \tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_client_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_role_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_role_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAccount_locked\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShutdown_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReload_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tFILE_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tConfig_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_Tablespace_Priv  ENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPassword_reuse_history  smallint unsigned DEFAULT NULL,\n\t\tPassword_reuse_time     smallint unsigned DEFAULT NULL,\n\t\tUser_attributes\t\t\tjson,\n\t\tToken_issuer\t\t\tVARCHAR(255),\n\t\tPassword_expired\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPassword_last_changed\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP(),\n\t\tPassword_lifetime\t\tSMALLINT UNSIGNED DEFAULT NULL,\n\t\tPRIMARY KEY (Host, User));"] [user=]
[2024/05/15 17:21:46.670 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:5, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:4, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:46.668 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:21:46.670 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:5, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:4, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:46.668 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.user (\n\t\tHost\t\t\t\t\tCHAR(255),\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tauthentication_string\tTEXT,\n\t\tplugin\t\t\t\t\tCHAR(64),\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tProcess_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_db_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tSuper_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_user_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_slave_priv\t    \tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_client_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_role_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_role_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAccount_locked\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShutdown_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReload_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tFILE_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tConfig_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_Tablespace_Priv  ENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPassword_reuse_history  smallint unsigned DEFAULT NULL,\n\t\tPassword_reuse_time     smallint unsigned DEFAULT NULL,\n\t\tUser_attributes\t\t\tjson,\n\t\tToken_issuer\t\t\tVARCHAR(255),\n\t\tPassword_expired\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPassword_last_changed\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP(),\n\t\tPassword_lifetime\t\tSMALLINT UNSIGNED DEFAULT NULL,\n\t\tPRIMARY KEY (Host, User));"]
[2024/05/15 17:21:46.676 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=5] [category=ddl] [job="ID:5, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:4, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:46.668 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:46.681 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=1] [neededSchemaVersion=2] ["start time"=892.5s] [gotSchemaVersion=2] [phyTblIDs="[4]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:21:46.681 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:21:46.681 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=5] [version=2]
[2024/05/15 17:21:46.683 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=2] ["take time"=2.756875ms] [job="ID:5, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:4, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:46.668 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:46.687 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=5] [job="ID:5, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:4, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:46.668 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:46.691 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=5]
[2024/05/15 17:21:46.692 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:21:46.692 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=2] [cur_db=mysql] [sql="CREATE TABLE  IF NOT EXISTS mysql.password_history (\n         Host char(255)  NOT NULL DEFAULT '',\n         User char(32)  NOT NULL DEFAULT '',\n         Password_timestamp timestamp(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6),\n         Password text,\n         PRIMARY KEY (Host,User,Password_timestamp )\n        ) COMMENT='Password history for user accounts' "] [user=]
[2024/05/15 17:21:46.694 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:7, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:6, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:46.693 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:21:46.694 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:7, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:6, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:46.693 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE  IF NOT EXISTS mysql.password_history (\n         Host char(255)  NOT NULL DEFAULT '',\n         User char(32)  NOT NULL DEFAULT '',\n         Password_timestamp timestamp(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6),\n         Password text,\n         PRIMARY KEY (Host,User,Password_timestamp )\n        ) COMMENT='Password history for user accounts' "]
[2024/05/15 17:21:46.703 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=7] [category=ddl] [job="ID:7, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:6, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:46.693 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:46.708 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=2] [neededSchemaVersion=3] ["start time"=301.917s] [gotSchemaVersion=3] [phyTblIDs="[6]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:21:46.708 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:21:46.708 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=7] [version=3]
[2024/05/15 17:21:46.712 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=3] ["take time"=5.191625ms] [job="ID:7, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:6, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:46.693 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:46.719 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=7] [job="ID:7, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:6, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:46.693 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:46.721 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=7]
[2024/05/15 17:21:46.722 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:21:46.722 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=3] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.global_priv (Host CHAR(255) NOT NULL DEFAULT '',User CHAR(80) NOT NULL DEFAULT '',Priv LONGTEXT NOT NULL DEFAULT '',PRIMARY KEY (Host, User))"] [user=]
[2024/05/15 17:21:46.723 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:9, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:8, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:46.722 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:21:46.723 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:9, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:8, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:46.722 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.global_priv (Host CHAR(255) NOT NULL DEFAULT '',User CHAR(80) NOT NULL DEFAULT '',Priv LONGTEXT NOT NULL DEFAULT '',PRIMARY KEY (Host, User))"]
[2024/05/15 17:21:46.727 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=9] [category=ddl] [job="ID:9, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:8, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:46.722 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:46.729 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=3] [neededSchemaVersion=4] ["start time"=252.25s] [gotSchemaVersion=4] [phyTblIDs="[8]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:21:46.729 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:21:46.729 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=9] [version=4]
[2024/05/15 17:21:46.731 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=4] ["take time"=2.086042ms] [job="ID:9, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:8, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:46.722 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:46.736 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=9] [job="ID:9, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:8, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:46.722 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:46.738 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=9]
[2024/05/15 17:21:46.738 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:21:46.738 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=4] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.db (\n\t\tHost\t\t\t\t\tCHAR(255),\n\t\tDB\t\t\t\t\t\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv \t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (Host, DB, User));"] [user=]
[2024/05/15 17:21:46.741 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:11, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:10, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:46.739 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:21:46.741 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:11, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:10, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:46.739 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.db (\n\t\tHost\t\t\t\t\tCHAR(255),\n\t\tDB\t\t\t\t\t\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv \t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (Host, DB, User));"]
[2024/05/15 17:21:46.745 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=11] [category=ddl] [job="ID:11, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:10, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:46.739 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:46.750 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=4] [neededSchemaVersion=5] ["start time"=1.244959ms] [gotSchemaVersion=5] [phyTblIDs="[10]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:21:46.750 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:21:46.750 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=11] [version=5]
[2024/05/15 17:21:46.753 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=5] ["take time"=4.875958ms] [job="ID:11, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:10, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:46.739 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:46.759 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=11] [job="ID:11, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:10, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:46.739 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:46.763 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=11]
[2024/05/15 17:21:46.763 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:21:46.764 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=5] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tables_priv (\n\t\tHost\t\tCHAR(255),\n\t\tDB\t\t\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tGrantor\t\tCHAR(77),\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tTable_priv\tSET('Select','Insert','Update','Delete','Create','Drop','Grant','Index','Alter','Create View','Show View','Trigger','References'),\n\t\tColumn_priv\tSET('Select','Insert','Update','References'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name));"] [user=]
[2024/05/15 17:21:46.771 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:13, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:12, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:46.768 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:21:46.771 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:13, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:12, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:46.768 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tables_priv (\n\t\tHost\t\tCHAR(255),\n\t\tDB\t\t\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tGrantor\t\tCHAR(77),\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tTable_priv\tSET('Select','Insert','Update','Delete','Create','Drop','Grant','Index','Alter','Create View','Show View','Trigger','References'),\n\t\tColumn_priv\tSET('Select','Insert','Update','References'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name));"]
[2024/05/15 17:21:46.775 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=13] [category=ddl] [job="ID:13, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:12, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:46.768 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:46.778 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=5] [neededSchemaVersion=6] ["start time"=283.541s] [gotSchemaVersion=6] [phyTblIDs="[12]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:21:46.779 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:21:46.779 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=13] [version=6]
[2024/05/15 17:21:46.780 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=6] ["take time"=2.175833ms] [job="ID:13, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:12, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:46.768 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:46.785 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=13] [job="ID:13, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:12, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:46.768 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:46.787 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=13]
[2024/05/15 17:21:46.787 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:21:46.787 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=6] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.columns_priv(\n\t\tHost\t\tCHAR(255),\n\t\tDB\t\t\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tColumn_name\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tColumn_priv\tSET('Select','Insert','Update','References'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name, Column_name));"] [user=]
[2024/05/15 17:21:46.789 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:15, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:14, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:46.788 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:21:46.789 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:15, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:14, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:46.788 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.columns_priv(\n\t\tHost\t\tCHAR(255),\n\t\tDB\t\t\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tColumn_name\tCHAR(64) CHARSET utf8mb4 COLLATE utf8mb4_general_ci,\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tColumn_priv\tSET('Select','Insert','Update','References'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name, Column_name));"]
[2024/05/15 17:21:46.793 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=15] [category=ddl] [job="ID:15, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:14, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:46.788 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:46.795 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=6] [neededSchemaVersion=7] ["start time"=257.709s] [gotSchemaVersion=7] [phyTblIDs="[14]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:21:46.795 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:21:46.795 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=15] [version=7]
[2024/05/15 17:21:46.797 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=7] ["take time"=2.061042ms] [job="ID:15, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:14, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:46.788 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:46.801 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=15] [job="ID:15, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:14, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:46.788 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:46.803 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=15]
[2024/05/15 17:21:46.803 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:21:46.803 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=7] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.GLOBAL_VARIABLES(\n\t\tVARIABLE_NAME  VARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE VARCHAR(16383) DEFAULT NULL);"] [user=]
[2024/05/15 17:21:46.805 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:17, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:16, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:46.804 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:21:46.805 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:17, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:16, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:46.804 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.GLOBAL_VARIABLES(\n\t\tVARIABLE_NAME  VARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE VARCHAR(16383) DEFAULT NULL);"]
[2024/05/15 17:21:46.809 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=17] [category=ddl] [job="ID:17, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:16, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:46.804 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:46.810 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=7] [neededSchemaVersion=8] ["start time"=156.875s] [gotSchemaVersion=8] [phyTblIDs="[16]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:21:46.811 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:21:46.811 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=17] [version=8]
[2024/05/15 17:21:46.812 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=8] ["take time"=2.051083ms] [job="ID:17, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:16, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:46.804 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:46.818 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=17] [job="ID:17, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:16, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:46.804 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:46.819 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=17]
[2024/05/15 17:21:46.819 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:21:46.820 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=8] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb(\n\t\tVARIABLE_NAME  \tVARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE \tVARCHAR(1024) DEFAULT NULL,\n\t\tCOMMENT \t\tVARCHAR(1024));"] [user=]
[2024/05/15 17:21:46.821 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:19, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:18, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:46.821 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:21:46.821 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:19, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:18, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:46.821 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb(\n\t\tVARIABLE_NAME  \tVARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE \tVARCHAR(1024) DEFAULT NULL,\n\t\tCOMMENT \t\tVARCHAR(1024));"]
[2024/05/15 17:21:46.826 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=19] [category=ddl] [job="ID:19, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:18, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:46.821 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:46.827 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=8] [neededSchemaVersion=9] ["start time"=161.625s] [gotSchemaVersion=9] [phyTblIDs="[18]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:21:46.828 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:21:46.828 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=19] [version=9]
[2024/05/15 17:21:46.829 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=9] ["take time"=2.041292ms] [job="ID:19, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:18, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:46.821 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:46.834 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=19] [job="ID:19, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:18, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:46.821 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:46.836 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=19]
[2024/05/15 17:21:46.836 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:21:46.836 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=9] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.help_topic (\n  \t\thelp_topic_id \t\tINT(10) UNSIGNED NOT NULL,\n  \t\tname \t\t\t\tCHAR(64) NOT NULL,\n  \t\thelp_category_id \tSMALLINT(5) UNSIGNED NOT NULL,\n  \t\tdescription \t\tTEXT NOT NULL,\n  \t\texample \t\t\tTEXT NOT NULL,\n  \t\turl \t\t\t\tTEXT NOT NULL,\n  \t\tPRIMARY KEY (help_topic_id) clustered,\n  \t\tUNIQUE KEY name (name)\n\t\t) ENGINE=InnoDB DEFAULT CHARSET=utf8 STATS_PERSISTENT=0 COMMENT='help topics';"] [user=]
[2024/05/15 17:21:46.838 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:21, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:20, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:46.837 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:21:46.838 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:21, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:20, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:46.837 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.help_topic (\n  \t\thelp_topic_id \t\tINT(10) UNSIGNED NOT NULL,\n  \t\tname \t\t\t\tCHAR(64) NOT NULL,\n  \t\thelp_category_id \tSMALLINT(5) UNSIGNED NOT NULL,\n  \t\tdescription \t\tTEXT NOT NULL,\n  \t\texample \t\t\tTEXT NOT NULL,\n  \t\turl \t\t\t\tTEXT NOT NULL,\n  \t\tPRIMARY KEY (help_topic_id) clustered,\n  \t\tUNIQUE KEY name (name)\n\t\t) ENGINE=InnoDB DEFAULT CHARSET=utf8 STATS_PERSISTENT=0 COMMENT='help topics';"]
[2024/05/15 17:21:46.843 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=21] [category=ddl] [job="ID:21, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:20, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:46.837 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:46.845 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=9] [neededSchemaVersion=10] ["start time"=230.083s] [gotSchemaVersion=10] [phyTblIDs="[20]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:21:46.845 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:21:46.845 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=21] [version=10]
[2024/05/15 17:21:46.846 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=10] ["take time"=2.0895ms] [job="ID:21, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:20, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:46.837 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:46.851 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=21] [job="ID:21, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:20, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:46.837 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:46.852 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=21]
[2024/05/15 17:21:46.852 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:21:46.852 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=10] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_meta (\n\t\tversion \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\ttable_id \t\tBIGINT(64) NOT NULL,\n\t\tmodify_count\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcount \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tsnapshot        BIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tINDEX idx_ver(version),\n\t\tUNIQUE INDEX tbl(table_id)\n\t);"] [user=]
[2024/05/15 17:21:46.854 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:23, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:22, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:46.854 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:21:46.854 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:23, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:22, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:46.854 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_meta (\n\t\tversion \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\ttable_id \t\tBIGINT(64) NOT NULL,\n\t\tmodify_count\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcount \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tsnapshot        BIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tINDEX idx_ver(version),\n\t\tUNIQUE INDEX tbl(table_id)\n\t);"]
[2024/05/15 17:21:46.859 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=23] [category=ddl] [job="ID:23, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:22, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:46.854 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:46.860 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=10] [neededSchemaVersion=11] ["start time"=220.042s] [gotSchemaVersion=11] [phyTblIDs="[22]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:21:46.861 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:21:46.861 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=23] [version=11]
[2024/05/15 17:21:46.862 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=11] ["take time"=2.070375ms] [job="ID:23, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:22, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:46.854 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:46.867 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=23] [job="ID:23, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:22, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:46.854 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:46.869 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=23]
[2024/05/15 17:21:46.869 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:21:46.869 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=11] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_histograms (\n\t\ttable_id \t\t\tBIGINT(64) NOT NULL,\n\t\tis_index \t\t\tTINYINT(2) NOT NULL,\n\t\thist_id \t\t\tBIGINT(64) NOT NULL,\n\t\tdistinct_count \t\tBIGINT(64) NOT NULL,\n\t\tnull_count \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\ttot_col_size \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tmodify_count \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tversion \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tcm_sketch \t\t\tBLOB(6291456),\n\t\tstats_ver \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tflag \t\t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcorrelation \t\tDOUBLE NOT NULL DEFAULT 0,\n\t\tlast_analyze_pos \tLONGBLOB DEFAULT NULL,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id)\n\t);"] [user=]
[2024/05/15 17:21:46.869 +08:00] [INFO] [ddl_api.go:1139] ["Automatically convert BLOB(6291456) to MEDIUMBLOB"] [category=ddl]
[2024/05/15 17:21:46.871 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:25, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:24, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:46.87 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:21:46.871 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:25, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:24, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:46.87 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_histograms (\n\t\ttable_id \t\t\tBIGINT(64) NOT NULL,\n\t\tis_index \t\t\tTINYINT(2) NOT NULL,\n\t\thist_id \t\t\tBIGINT(64) NOT NULL,\n\t\tdistinct_count \t\tBIGINT(64) NOT NULL,\n\t\tnull_count \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\ttot_col_size \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tmodify_count \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tversion \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tcm_sketch \t\t\tBLOB(6291456),\n\t\tstats_ver \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tflag \t\t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcorrelation \t\tDOUBLE NOT NULL DEFAULT 0,\n\t\tlast_analyze_pos \tLONGBLOB DEFAULT NULL,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id)\n\t);"]
[2024/05/15 17:21:46.874 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=25] [category=ddl] [job="ID:25, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:24, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:46.87 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:46.877 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=11] [neededSchemaVersion=12] ["start time"=563.125s] [gotSchemaVersion=12] [phyTblIDs="[24]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:21:46.877 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:21:46.877 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=25] [version=12]
[2024/05/15 17:21:46.879 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=12] ["take time"=2.561ms] [job="ID:25, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:24, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:46.87 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:46.883 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=25] [job="ID:25, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:24, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:46.87 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:46.886 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=25]
[2024/05/15 17:21:46.886 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:21:46.886 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=12] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_buckets (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tbucket_id \tBIGINT(64) NOT NULL,\n\t\tcount \t\tBIGINT(64) NOT NULL,\n\t\trepeats \tBIGINT(64) NOT NULL,\n\t\tupper_bound LONGBLOB NOT NULL,\n\t\tlower_bound LONGBLOB ,\n\t\tndv         BIGINT NOT NULL DEFAULT 0,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id, bucket_id)\n\t);"] [user=]
[2024/05/15 17:21:46.887 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:27, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:26, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:46.887 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:21:46.887 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:27, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:26, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:46.887 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_buckets (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tbucket_id \tBIGINT(64) NOT NULL,\n\t\tcount \t\tBIGINT(64) NOT NULL,\n\t\trepeats \tBIGINT(64) NOT NULL,\n\t\tupper_bound LONGBLOB NOT NULL,\n\t\tlower_bound LONGBLOB ,\n\t\tndv         BIGINT NOT NULL DEFAULT 0,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id, bucket_id)\n\t);"]
[2024/05/15 17:21:46.891 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=27] [category=ddl] [job="ID:27, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:26, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:46.887 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:46.893 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=12] [neededSchemaVersion=13] ["start time"=297.875s] [gotSchemaVersion=13] [phyTblIDs="[26]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:21:46.894 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:21:46.894 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=27] [version=13]
[2024/05/15 17:21:46.895 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=13] ["take time"=2.280208ms] [job="ID:27, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:26, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:46.887 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:46.900 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=27] [job="ID:27, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:26, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:46.887 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:46.902 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=27]
[2024/05/15 17:21:46.902 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:21:46.902 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=13] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_index (job_id, element_id)\n\t);"] [user=]
[2024/05/15 17:21:46.906 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:29, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:28, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:46.903 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:21:46.906 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:29, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:28, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:46.903 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_index (job_id, element_id)\n\t);"]
[2024/05/15 17:21:46.910 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=29] [category=ddl] [job="ID:29, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:28, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:46.903 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:46.912 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=13] [neededSchemaVersion=14] ["start time"=219.666s] [gotSchemaVersion=14] [phyTblIDs="[28]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:21:46.913 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:21:46.913 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=29] [version=14]
[2024/05/15 17:21:46.914 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=14] ["take time"=2.095083ms] [job="ID:29, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:28, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:46.903 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:46.919 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=29] [job="ID:29, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:28, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:46.903 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:46.921 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=29]
[2024/05/15 17:21:46.921 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:21:46.921 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=14] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range_done (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_done_index (job_id, element_id)\n\t);"] [user=]
[2024/05/15 17:21:46.922 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:31, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:30, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:46.922 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:21:46.922 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:31, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:30, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:46.922 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range_done (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_done_index (job_id, element_id)\n\t);"]
[2024/05/15 17:21:46.926 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=31] [category=ddl] [job="ID:31, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:30, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:46.922 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:46.928 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=14] [neededSchemaVersion=15] ["start time"=218.125s] [gotSchemaVersion=15] [phyTblIDs="[30]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:21:46.928 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:21:46.928 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=31] [version=15]
[2024/05/15 17:21:46.930 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=15] ["take time"=2.546083ms] [job="ID:31, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:30, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:46.922 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:46.937 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=31] [job="ID:31, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:30, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:46.922 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:46.941 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=31]
[2024/05/15 17:21:46.941 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:21:46.941 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=15] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_feedback (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tfeedback \tBLOB NOT NULL,\n\t\tINDEX hist(table_id, is_index, hist_id)\n\t);"] [user=]
[2024/05/15 17:21:46.944 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:33, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:32, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:46.943 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:21:46.944 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:33, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:32, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:46.943 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_feedback (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tfeedback \tBLOB NOT NULL,\n\t\tINDEX hist(table_id, is_index, hist_id)\n\t);"]
[2024/05/15 17:21:46.952 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=33] [category=ddl] [job="ID:33, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:32, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:46.943 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:46.954 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=15] [neededSchemaVersion=16] ["start time"=296.75s] [gotSchemaVersion=16] [phyTblIDs="[32]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:21:46.957 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:21:46.957 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=33] [version=16]
[2024/05/15 17:21:46.959 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=16] ["take time"=4.959375ms] [job="ID:33, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:32, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:46.943 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:46.966 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=33] [job="ID:33, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:32, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:46.943 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:46.968 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=33]
[2024/05/15 17:21:46.968 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:21:46.968 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=16] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.role_edges (\n\t\tFROM_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tFROM_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tWITH_ADMIN_OPTION \tENUM('N','Y') CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (FROM_HOST,FROM_USER,TO_HOST,TO_USER)\n\t);"] [user=]
[2024/05/15 17:21:46.969 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:35, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:34, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:46.968 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:21:46.969 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:35, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:34, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:46.968 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.role_edges (\n\t\tFROM_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tFROM_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tWITH_ADMIN_OPTION \tENUM('N','Y') CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (FROM_HOST,FROM_USER,TO_HOST,TO_USER)\n\t);"]
[2024/05/15 17:21:46.974 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=35] [category=ddl] [job="ID:35, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:34, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:46.968 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:46.976 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=16] [neededSchemaVersion=17] ["start time"=267.958s] [gotSchemaVersion=17] [phyTblIDs="[34]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:21:46.976 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:21:46.976 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=35] [version=17]
[2024/05/15 17:21:46.978 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=17] ["take time"=2.352417ms] [job="ID:35, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:34, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:46.968 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:46.982 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=35] [job="ID:35, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:34, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:46.968 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:46.984 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=35]
[2024/05/15 17:21:46.984 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:21:46.984 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=17] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.default_roles (\n\t\tHOST \t\t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tUSER \t\t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tDEFAULT_ROLE_HOST \tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '%',\n\t\tDEFAULT_ROLE_USER \tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tPRIMARY KEY (HOST,USER,DEFAULT_ROLE_HOST,DEFAULT_ROLE_USER)\n\t)"] [user=]
[2024/05/15 17:21:46.985 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:37, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:36, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:46.984 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:21:46.985 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:37, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:36, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:46.984 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.default_roles (\n\t\tHOST \t\t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tUSER \t\t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tDEFAULT_ROLE_HOST \tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '%',\n\t\tDEFAULT_ROLE_USER \tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tPRIMARY KEY (HOST,USER,DEFAULT_ROLE_HOST,DEFAULT_ROLE_USER)\n\t)"]
[2024/05/15 17:21:46.989 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=37] [category=ddl] [job="ID:37, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:36, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:46.984 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:46.991 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=17] [neededSchemaVersion=18] ["start time"=205.208s] [gotSchemaVersion=18] [phyTblIDs="[36]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:21:46.992 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:21:46.992 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=37] [version=18]
[2024/05/15 17:21:46.993 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=18] ["take time"=2.415083ms] [job="ID:37, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:36, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:46.984 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:46.997 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=37] [job="ID:37, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:36, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:46.984 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:46.999 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=37]
[2024/05/15 17:21:46.999 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:21:46.999 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=18] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.bind_info (\n\t\toriginal_sql TEXT NOT NULL,\n\t\tbind_sql TEXT NOT NULL,\n\t\tdefault_db TEXT NOT NULL,\n\t\tstatus TEXT NOT NULL,\n\t\tcreate_time TIMESTAMP(3) NOT NULL,\n\t\tupdate_time TIMESTAMP(3) NOT NULL,\n\t\tcharset TEXT NOT NULL,\n\t\tcollation TEXT NOT NULL,\n\t\tsource VARCHAR(10) NOT NULL DEFAULT 'unknown',\n\t\tsql_digest varchar(64),\n\t\tplan_digest varchar(64),\n\t\tINDEX sql_index(original_sql(700),default_db(68)) COMMENT \"accelerate the speed when add global binding query\",\n\t\tINDEX time_index(update_time) COMMENT \"accelerate the speed when querying with last update time\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"] [user=]
[2024/05/15 17:21:47.001 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:39, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:38, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:47 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:21:47.001 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:39, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:38, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:47 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.bind_info (\n\t\toriginal_sql TEXT NOT NULL,\n\t\tbind_sql TEXT NOT NULL,\n\t\tdefault_db TEXT NOT NULL,\n\t\tstatus TEXT NOT NULL,\n\t\tcreate_time TIMESTAMP(3) NOT NULL,\n\t\tupdate_time TIMESTAMP(3) NOT NULL,\n\t\tcharset TEXT NOT NULL,\n\t\tcollation TEXT NOT NULL,\n\t\tsource VARCHAR(10) NOT NULL DEFAULT 'unknown',\n\t\tsql_digest varchar(64),\n\t\tplan_digest varchar(64),\n\t\tINDEX sql_index(original_sql(700),default_db(68)) COMMENT \"accelerate the speed when add global binding query\",\n\t\tINDEX time_index(update_time) COMMENT \"accelerate the speed when querying with last update time\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"]
[2024/05/15 17:21:47.004 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=39] [category=ddl] [job="ID:39, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:38, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:47 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:47.007 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=18] [neededSchemaVersion=19] ["start time"=350.541s] [gotSchemaVersion=19] [phyTblIDs="[38]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:21:47.008 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:21:47.008 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=39] [version=19]
[2024/05/15 17:21:47.009 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=19] ["take time"=2.297667ms] [job="ID:39, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:38, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:47 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:47.014 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=39] [job="ID:39, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:38, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:47 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:47.016 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=39]
[2024/05/15 17:21:47.016 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:21:47.016 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=0] ["to ID"=1] ["table ID"=38] ["database ID"=1]
[2024/05/15 17:21:47.017 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=19] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_top_n (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tvalue \t\tLONGBLOB,\n\t\tcount \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\tINDEX tbl(table_id, is_index, hist_id)\n\t);"] [user=]
[2024/05/15 17:21:47.018 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:41, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:40, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:47.017 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:21:47.018 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:41, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:40, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:47.017 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_top_n (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tvalue \t\tLONGBLOB,\n\t\tcount \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\tINDEX tbl(table_id, is_index, hist_id)\n\t);"]
[2024/05/15 17:21:47.022 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=41] [category=ddl] [job="ID:41, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:40, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:47.017 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:47.023 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=19] [neededSchemaVersion=20] ["start time"=311.584s] [gotSchemaVersion=20] [phyTblIDs="[40]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:21:47.024 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:21:47.024 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=41] [version=20]
[2024/05/15 17:21:47.025 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=20] ["take time"=2.183917ms] [job="ID:41, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:40, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:47.017 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:47.031 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=41] [job="ID:41, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:40, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:47.017 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:47.033 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=41]
[2024/05/15 17:21:47.033 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:21:47.033 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=20] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.expr_pushdown_blacklist (\n\t\tname \t\tCHAR(100) NOT NULL,\n\t\tstore_type \tCHAR(100) NOT NULL DEFAULT 'tikv,tiflash,tidb',\n\t\treason \t\tVARCHAR(200)\n\t);"] [user=]
[2024/05/15 17:21:47.035 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:43, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:42, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:47.034 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:21:47.035 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:43, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:42, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:47.034 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.expr_pushdown_blacklist (\n\t\tname \t\tCHAR(100) NOT NULL,\n\t\tstore_type \tCHAR(100) NOT NULL DEFAULT 'tikv,tiflash,tidb',\n\t\treason \t\tVARCHAR(200)\n\t);"]
[2024/05/15 17:21:47.039 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=43] [category=ddl] [job="ID:43, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:42, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:47.034 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:47.041 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=20] [neededSchemaVersion=21] ["start time"=207.333s] [gotSchemaVersion=21] [phyTblIDs="[42]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:21:47.042 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:21:47.042 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=43] [version=21]
[2024/05/15 17:21:47.043 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=21] ["take time"=2.458208ms] [job="ID:43, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:42, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:47.034 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:47.048 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=43] [job="ID:43, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:42, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:47.034 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:47.049 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=43]
[2024/05/15 17:21:47.049 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:21:47.049 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=21] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.opt_rule_blacklist (\n\t\tname \tCHAR(100) NOT NULL\n\t);"] [user=]
[2024/05/15 17:21:47.051 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:45, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:44, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:47.05 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:21:47.051 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:45, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:44, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:47.05 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.opt_rule_blacklist (\n\t\tname \tCHAR(100) NOT NULL\n\t);"]
[2024/05/15 17:21:47.055 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=45] [category=ddl] [job="ID:45, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:44, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:47.05 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:47.055 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=21] [neededSchemaVersion=22] ["start time"=108.125s] [gotSchemaVersion=22] [phyTblIDs="[44]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:21:47.056 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:21:47.056 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=45] [version=22]
[2024/05/15 17:21:47.057 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=22] ["take time"=2.045041ms] [job="ID:45, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:44, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:47.05 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:47.062 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=45] [job="ID:45, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:44, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:47.05 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:47.063 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=45]
[2024/05/15 17:21:47.063 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:21:47.063 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=22] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_extended (\n\t\tname varchar(32) NOT NULL,\n\t\ttype tinyint(4) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tcolumn_ids varchar(32) NOT NULL,\n\t\tstats blob DEFAULT NULL,\n\t\tversion bigint(64) unsigned NOT NULL,\n\t\tstatus tinyint(4) NOT NULL,\n\t\tPRIMARY KEY(name, table_id),\n\t\tKEY idx_1 (table_id, status, version),\n\t\tKEY idx_2 (status, version)\n\t);"] [user=]
[2024/05/15 17:21:47.065 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:47, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:46, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:47.064 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:21:47.065 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:47, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:46, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:47.064 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_extended (\n\t\tname varchar(32) NOT NULL,\n\t\ttype tinyint(4) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tcolumn_ids varchar(32) NOT NULL,\n\t\tstats blob DEFAULT NULL,\n\t\tversion bigint(64) unsigned NOT NULL,\n\t\tstatus tinyint(4) NOT NULL,\n\t\tPRIMARY KEY(name, table_id),\n\t\tKEY idx_1 (table_id, status, version),\n\t\tKEY idx_2 (status, version)\n\t);"]
[2024/05/15 17:21:47.069 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=47] [category=ddl] [job="ID:47, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:46, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:47.064 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:47.071 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=22] [neededSchemaVersion=23] ["start time"=285.042s] [gotSchemaVersion=23] [phyTblIDs="[46]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:21:47.072 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:21:47.072 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=47] [version=23]
[2024/05/15 17:21:47.073 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=23] ["take time"=2.513ms] [job="ID:47, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:46, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:47.064 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:47.078 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=47] [job="ID:47, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:46, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:47.064 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:47.081 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=47]
[2024/05/15 17:21:47.081 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:21:47.081 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=23] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_fm_sketch (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tvalue \t\tLONGBLOB,\n\t\tINDEX tbl(table_id, is_index, hist_id)\n\t);"] [user=]
[2024/05/15 17:21:47.082 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:49, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:48, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:47.082 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:21:47.082 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:49, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:48, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:47.082 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_fm_sketch (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tvalue \t\tLONGBLOB,\n\t\tINDEX tbl(table_id, is_index, hist_id)\n\t);"]
[2024/05/15 17:21:47.087 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=49] [category=ddl] [job="ID:49, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:48, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:47.082 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:47.089 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=23] [neededSchemaVersion=24] ["start time"=203.542s] [gotSchemaVersion=24] [phyTblIDs="[48]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:21:47.090 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:21:47.090 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=49] [version=24]
[2024/05/15 17:21:47.091 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=24] ["take time"=2.124917ms] [job="ID:49, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:48, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:47.082 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:47.095 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=49] [job="ID:49, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:48, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:47.082 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:47.097 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=49]
[2024/05/15 17:21:47.098 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:21:47.098 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=24] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.global_grants (\n\t\tUSER char(32) NOT NULL DEFAULT '',\n\t\tHOST char(255) NOT NULL DEFAULT '',\n\t\tPRIV char(32) NOT NULL DEFAULT '',\n\t\tWITH_GRANT_OPTION enum('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (USER,HOST,PRIV)\n\t);"] [user=]
[2024/05/15 17:21:47.099 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:51, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:50, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:47.098 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:21:47.099 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:51, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:50, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:47.098 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.global_grants (\n\t\tUSER char(32) NOT NULL DEFAULT '',\n\t\tHOST char(255) NOT NULL DEFAULT '',\n\t\tPRIV char(32) NOT NULL DEFAULT '',\n\t\tWITH_GRANT_OPTION enum('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (USER,HOST,PRIV)\n\t);"]
[2024/05/15 17:21:47.103 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=51] [category=ddl] [job="ID:51, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:50, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:47.098 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:47.104 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=24] [neededSchemaVersion=25] ["start time"=202.083s] [gotSchemaVersion=25] [phyTblIDs="[50]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:21:47.105 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:21:47.105 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=51] [version=25]
[2024/05/15 17:21:47.106 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=25] ["take time"=2.280958ms] [job="ID:51, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:50, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:47.098 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:47.111 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=51] [job="ID:51, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:50, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:47.098 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:47.113 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=51]
[2024/05/15 17:21:47.113 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:21:47.113 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=25] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.capture_plan_baselines_blacklist (\n\t\tid bigint(64) auto_increment,\n\t\tfilter_type varchar(32) NOT NULL COMMENT \"type of the filter, only db, table and frequency supported now\",\n\t\tfilter_value varchar(32) NOT NULL,\n\t\tkey idx(filter_type),\n\t\tprimary key(id)\n\t);"] [user=]
[2024/05/15 17:21:47.114 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:53, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:52, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:47.114 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:21:47.114 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:53, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:52, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:47.114 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.capture_plan_baselines_blacklist (\n\t\tid bigint(64) auto_increment,\n\t\tfilter_type varchar(32) NOT NULL COMMENT \"type of the filter, only db, table and frequency supported now\",\n\t\tfilter_value varchar(32) NOT NULL,\n\t\tkey idx(filter_type),\n\t\tprimary key(id)\n\t);"]
[2024/05/15 17:21:47.118 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=53] [category=ddl] [job="ID:53, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:52, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:47.114 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:47.119 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=25] [neededSchemaVersion=26] ["start time"=170.167s] [gotSchemaVersion=26] [phyTblIDs="[52]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:21:47.120 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:21:47.120 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=53] [version=26]
[2024/05/15 17:21:47.121 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=26] ["take time"=2.008791ms] [job="ID:53, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:52, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:47.114 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:47.126 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=53] [job="ID:53, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:52, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:47.114 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:47.128 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=53]
[2024/05/15 17:21:47.128 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:21:47.128 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=26] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.column_stats_usage (\n\t\ttable_id BIGINT(64) NOT NULL,\n\t\tcolumn_id BIGINT(64) NOT NULL,\n\t\tlast_used_at TIMESTAMP,\n\t\tlast_analyzed_at TIMESTAMP,\n\t\tPRIMARY KEY (table_id, column_id) CLUSTERED\n\t);"] [user=]
[2024/05/15 17:21:47.130 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:55, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:54, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:47.129 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:21:47.130 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:55, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:54, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:47.129 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.column_stats_usage (\n\t\ttable_id BIGINT(64) NOT NULL,\n\t\tcolumn_id BIGINT(64) NOT NULL,\n\t\tlast_used_at TIMESTAMP,\n\t\tlast_analyzed_at TIMESTAMP,\n\t\tPRIMARY KEY (table_id, column_id) CLUSTERED\n\t);"]
[2024/05/15 17:21:47.133 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=55] [category=ddl] [job="ID:55, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:54, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:47.129 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:47.135 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=26] [neededSchemaVersion=27] ["start time"=226.625s] [gotSchemaVersion=27] [phyTblIDs="[54]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:21:47.135 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:21:47.135 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=55] [version=27]
[2024/05/15 17:21:47.137 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=27] ["take time"=2.255375ms] [job="ID:55, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:54, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:47.129 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:47.141 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=55] [job="ID:55, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:54, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:47.129 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:47.143 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=55]
[2024/05/15 17:21:47.143 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:21:47.143 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=27] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.table_cache_meta (\n\t\ttid bigint(11) NOT NULL DEFAULT 0,\n\t\tlock_type enum('NONE','READ', 'INTEND', 'WRITE') NOT NULL DEFAULT 'NONE',\n\t\tlease bigint(20) NOT NULL DEFAULT 0,\n\t\toldReadLease bigint(20) NOT NULL DEFAULT 0,\n\t\tPRIMARY KEY (tid)\n\t);"] [user=]
[2024/05/15 17:21:47.145 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:57, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:56, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:47.144 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:21:47.145 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:57, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:56, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:47.144 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.table_cache_meta (\n\t\ttid bigint(11) NOT NULL DEFAULT 0,\n\t\tlock_type enum('NONE','READ', 'INTEND', 'WRITE') NOT NULL DEFAULT 'NONE',\n\t\tlease bigint(20) NOT NULL DEFAULT 0,\n\t\toldReadLease bigint(20) NOT NULL DEFAULT 0,\n\t\tPRIMARY KEY (tid)\n\t);"]
[2024/05/15 17:21:47.148 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=57] [category=ddl] [job="ID:57, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:56, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:47.144 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:47.150 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=27] [neededSchemaVersion=28] ["start time"=183.833s] [gotSchemaVersion=28] [phyTblIDs="[56]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:21:47.151 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:21:47.151 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=57] [version=28]
[2024/05/15 17:21:47.153 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=28] ["take time"=3.080625ms] [job="ID:57, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:56, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:47.144 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:47.160 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=57] [job="ID:57, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:56, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:47.144 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:47.161 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=57]
[2024/05/15 17:21:47.162 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:21:47.162 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=28] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.analyze_options (\n\t\ttable_id BIGINT(64) NOT NULL,\n\t\tsample_num BIGINT(64) NOT NULL DEFAULT 0,\n\t\tsample_rate DOUBLE NOT NULL DEFAULT -1,\n\t\tbuckets BIGINT(64) NOT NULL DEFAULT 0,\n\t\ttopn BIGINT(64) NOT NULL DEFAULT -1,\n\t\tcolumn_choice enum('DEFAULT','ALL','PREDICATE','LIST') NOT NULL DEFAULT 'DEFAULT',\n\t\tcolumn_ids TEXT(19372),\n\t\tPRIMARY KEY (table_id) CLUSTERED\n\t);"] [user=]
[2024/05/15 17:21:47.162 +08:00] [INFO] [ddl_api.go:1139] ["Automatically convert BLOB(19372) to MEDIUMBLOB"] [category=ddl]
[2024/05/15 17:21:47.164 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:59, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:58, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:47.162 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:21:47.164 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:59, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:58, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:47.162 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.analyze_options (\n\t\ttable_id BIGINT(64) NOT NULL,\n\t\tsample_num BIGINT(64) NOT NULL DEFAULT 0,\n\t\tsample_rate DOUBLE NOT NULL DEFAULT -1,\n\t\tbuckets BIGINT(64) NOT NULL DEFAULT 0,\n\t\ttopn BIGINT(64) NOT NULL DEFAULT -1,\n\t\tcolumn_choice enum('DEFAULT','ALL','PREDICATE','LIST') NOT NULL DEFAULT 'DEFAULT',\n\t\tcolumn_ids TEXT(19372),\n\t\tPRIMARY KEY (table_id) CLUSTERED\n\t);"]
[2024/05/15 17:21:47.168 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=59] [category=ddl] [job="ID:59, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:58, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:47.162 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:47.169 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=28] [neededSchemaVersion=29] ["start time"=218.584s] [gotSchemaVersion=29] [phyTblIDs="[58]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:21:47.170 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:21:47.170 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=59] [version=29]
[2024/05/15 17:21:47.173 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=29] ["take time"=4.243709ms] [job="ID:59, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:58, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:47.162 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:47.182 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=59] [job="ID:59, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:58, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:47.162 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:47.185 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=59]
[2024/05/15 17:21:47.185 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:21:47.186 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=29] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_history (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tstats_data longblob NOT NULL,\n\t\tseq_no bigint(64) NOT NULL comment 'sequence number of the gzipped data slice',\n\t\tversion bigint(64) NOT NULL comment 'stats version which corresponding to stats:version in EXPLAIN',\n\t\tcreate_time datetime(6) NOT NULL,\n\t\tUNIQUE KEY table_version_seq (table_id, version, seq_no),\n\t\tKEY table_create_time (table_id, create_time, seq_no),\n    \tKEY idx_create_time (create_time)\n\t);"] [user=]
[2024/05/15 17:21:47.189 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:61, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:60, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:47.187 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:21:47.189 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:61, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:60, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:47.187 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_history (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tstats_data longblob NOT NULL,\n\t\tseq_no bigint(64) NOT NULL comment 'sequence number of the gzipped data slice',\n\t\tversion bigint(64) NOT NULL comment 'stats version which corresponding to stats:version in EXPLAIN',\n\t\tcreate_time datetime(6) NOT NULL,\n\t\tUNIQUE KEY table_version_seq (table_id, version, seq_no),\n\t\tKEY table_create_time (table_id, create_time, seq_no),\n    \tKEY idx_create_time (create_time)\n\t);"]
[2024/05/15 17:21:47.197 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=61] [category=ddl] [job="ID:61, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:60, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:47.187 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:47.199 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=29] [neededSchemaVersion=30] ["start time"=362.292s] [gotSchemaVersion=30] [phyTblIDs="[60]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:21:47.203 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:21:47.203 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=61] [version=30]
[2024/05/15 17:21:47.203 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=30] ["take time"=3.716916ms] [job="ID:61, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:60, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:47.187 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:47.207 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=61] [job="ID:61, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:60, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:47.187 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:47.210 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=61]
[2024/05/15 17:21:47.210 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:21:47.210 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=30] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_meta_history (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tmodify_count bigint(64) NOT NULL,\n\t\tcount bigint(64) NOT NULL,\n\t\tversion bigint(64) NOT NULL comment 'stats version which corresponding to stats:version in EXPLAIN',\n    \tsource varchar(40) NOT NULL,\n\t\tcreate_time datetime(6) NOT NULL,\n\t\tUNIQUE KEY table_version (table_id, version),\n\t\tKEY table_create_time (table_id, create_time),\n    \tKEY idx_create_time (create_time)\n\t);"] [user=]
[2024/05/15 17:21:47.212 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:63, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:62, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:47.211 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:21:47.212 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:63, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:62, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:47.211 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_meta_history (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tmodify_count bigint(64) NOT NULL,\n\t\tcount bigint(64) NOT NULL,\n\t\tversion bigint(64) NOT NULL comment 'stats version which corresponding to stats:version in EXPLAIN',\n    \tsource varchar(40) NOT NULL,\n\t\tcreate_time datetime(6) NOT NULL,\n\t\tUNIQUE KEY table_version (table_id, version),\n\t\tKEY table_create_time (table_id, create_time),\n    \tKEY idx_create_time (create_time)\n\t);"]
[2024/05/15 17:21:47.216 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=63] [category=ddl] [job="ID:63, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:62, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:47.211 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:47.218 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=30] [neededSchemaVersion=31] ["start time"=283.709s] [gotSchemaVersion=31] [phyTblIDs="[62]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:21:47.219 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:21:47.219 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=63] [version=31]
[2024/05/15 17:21:47.220 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=31] ["take time"=2.712167ms] [job="ID:63, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:62, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:47.211 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:47.225 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=63] [job="ID:63, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:62, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:47.211 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:47.227 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=63]
[2024/05/15 17:21:47.227 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:21:47.228 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=31] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.analyze_jobs (\n\t\tid BIGINT(64) UNSIGNED NOT NULL AUTO_INCREMENT,\n\t\tupdate_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\ttable_schema CHAR(64) NOT NULL DEFAULT '',\n\t\ttable_name CHAR(64) NOT NULL DEFAULT '',\n\t\tpartition_name CHAR(64) NOT NULL DEFAULT '',\n\t\tjob_info TEXT NOT NULL,\n\t\tprocessed_rows BIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tstart_time TIMESTAMP,\n\t\tend_time TIMESTAMP,\n\t\tstate ENUM('pending', 'running', 'finished', 'failed') NOT NULL,\n\t\tfail_reason TEXT,\n\t\tinstance VARCHAR(512) NOT NULL comment 'address of the TiDB instance executing the analyze job',\n\t\tprocess_id BIGINT(64) UNSIGNED comment 'ID of the process executing the analyze job',\n\t\tPRIMARY KEY (id),\n\t\tKEY (update_time)\n\t);"] [user=]
[2024/05/15 17:21:47.229 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:65, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:64, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:47.229 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:21:47.229 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:65, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:64, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:47.229 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.analyze_jobs (\n\t\tid BIGINT(64) UNSIGNED NOT NULL AUTO_INCREMENT,\n\t\tupdate_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\ttable_schema CHAR(64) NOT NULL DEFAULT '',\n\t\ttable_name CHAR(64) NOT NULL DEFAULT '',\n\t\tpartition_name CHAR(64) NOT NULL DEFAULT '',\n\t\tjob_info TEXT NOT NULL,\n\t\tprocessed_rows BIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tstart_time TIMESTAMP,\n\t\tend_time TIMESTAMP,\n\t\tstate ENUM('pending', 'running', 'finished', 'failed') NOT NULL,\n\t\tfail_reason TEXT,\n\t\tinstance VARCHAR(512) NOT NULL comment 'address of the TiDB instance executing the analyze job',\n\t\tprocess_id BIGINT(64) UNSIGNED comment 'ID of the process executing the analyze job',\n\t\tPRIMARY KEY (id),\n\t\tKEY (update_time)\n\t);"]
[2024/05/15 17:21:47.233 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=65] [category=ddl] [job="ID:65, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:64, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:47.229 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:47.236 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=31] [neededSchemaVersion=32] ["start time"=338.959s] [gotSchemaVersion=32] [phyTblIDs="[64]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:21:47.236 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:21:47.236 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=65] [version=32]
[2024/05/15 17:21:47.237 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=32] ["take time"=2.125875ms] [job="ID:65, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:64, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:47.229 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:47.242 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=65] [job="ID:65, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:64, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:47.229 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:47.244 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=65]
[2024/05/15 17:21:47.244 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:21:47.245 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=32] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.advisory_locks (\n\t\tlock_name VARCHAR(64) NOT NULL PRIMARY KEY\n\t);"] [user=]
[2024/05/15 17:21:47.246 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:67, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:66, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:47.245 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:21:47.246 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:67, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:66, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:47.245 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.advisory_locks (\n\t\tlock_name VARCHAR(64) NOT NULL PRIMARY KEY\n\t);"]
[2024/05/15 17:21:47.250 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=67] [category=ddl] [job="ID:67, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:66, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:47.245 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:47.252 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=32] [neededSchemaVersion=33] ["start time"=136.458s] [gotSchemaVersion=33] [phyTblIDs="[66]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:21:47.252 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:21:47.252 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=67] [version=33]
[2024/05/15 17:21:47.254 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=33] ["take time"=2.207042ms] [job="ID:67, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:66, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:47.245 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:47.258 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=67] [job="ID:67, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:66, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:47.245 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:47.260 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=67]
[2024/05/15 17:21:47.260 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:21:47.262 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:69, Type:create view, State:queueing, SchemaState:none, SchemaID:1, TableID:68, RowCount:0, ArgLen:3, start time: 2024-05-15 17:21:47.261 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:21:47.262 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:69, Type:create view, State:queueing, SchemaState:none, SchemaID:1, TableID:68, RowCount:0, ArgLen:3, start time: 2024-05-15 17:21:47.261 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE OR REPLACE VIEW mysql.tidb_mdl_view as (\n\t\tSELECT tidb_mdl_info.job_id,\n\t\t\tJSON_UNQUOTE(JSON_EXTRACT(cast(cast(job_meta as char) as json), \"$.schema_name\")) as db_name,\n\t\t\tJSON_UNQUOTE(JSON_EXTRACT(cast(cast(job_meta as char) as json), \"$.table_name\")) as table_name,\n\t\t\tJSON_UNQUOTE(JSON_EXTRACT(cast(cast(job_meta as char) as json), \"$.query\")) as query,\n\t\t\tsession_id,\n\t\t\tcluster_tidb_trx.start_time,\n\t\t\ttidb_decode_sql_digests(all_sql_digests, 4096) AS SQL_DIGESTS\n\t\tFROM mysql.tidb_ddl_job,\n\t\t\tmysql.tidb_mdl_info,\n\t\t\tinformation_schema.cluster_tidb_trx\n\t\tWHERE tidb_ddl_job.job_id=tidb_mdl_info.job_id\n\t\t\tAND CONCAT(',', tidb_mdl_info.table_ids, ',') REGEXP CONCAT(',(', REPLACE(cluster_tidb_trx.related_table_ids, ',', '|'), '),') != 0\n\t);"]
[2024/05/15 17:21:47.266 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=69] [category=ddl] [job="ID:69, Type:create view, State:queueing, SchemaState:none, SchemaID:1, TableID:68, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:47.261 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:47.268 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=33] [neededSchemaVersion=34] ["start time"=217.292s] [gotSchemaVersion=34] [phyTblIDs="[68]"] [actionTypes="[21]"] [diffTypes="[\"create view\"]"]
[2024/05/15 17:21:47.268 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:21:47.268 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=69] [version=34]
[2024/05/15 17:21:47.270 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=34] ["take time"=2.155125ms] [job="ID:69, Type:create view, State:done, SchemaState:public, SchemaID:1, TableID:68, RowCount:0, ArgLen:3, start time: 2024-05-15 17:21:47.261 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:47.274 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=69] [job="ID:69, Type:create view, State:synced, SchemaState:public, SchemaID:1, TableID:68, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:47.261 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:47.276 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=69]
[2024/05/15 17:21:47.276 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:21:47.276 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=34] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.plan_replayer_status (\n\t\tsql_digest VARCHAR(128),\n\t\tplan_digest VARCHAR(128),\n\t\torigin_sql TEXT,\n\t\ttoken VARCHAR(128),\n\t\tupdate_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\tfail_reason TEXT,\n\t\tinstance VARCHAR(512) NOT NULL comment 'address of the TiDB instance executing the plan replayer job');"] [user=]
[2024/05/15 17:21:47.277 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:71, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:70, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:47.277 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:21:47.277 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:71, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:70, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:47.277 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.plan_replayer_status (\n\t\tsql_digest VARCHAR(128),\n\t\tplan_digest VARCHAR(128),\n\t\torigin_sql TEXT,\n\t\ttoken VARCHAR(128),\n\t\tupdate_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\tfail_reason TEXT,\n\t\tinstance VARCHAR(512) NOT NULL comment 'address of the TiDB instance executing the plan replayer job');"]
[2024/05/15 17:21:47.282 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=71] [category=ddl] [job="ID:71, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:70, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:47.277 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:47.283 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=34] [neededSchemaVersion=35] ["start time"=268.209s] [gotSchemaVersion=35] [phyTblIDs="[70]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:21:47.284 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:21:47.284 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=71] [version=35]
[2024/05/15 17:21:47.285 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=35] ["take time"=2.308416ms] [job="ID:71, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:70, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:47.277 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:47.289 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=71] [job="ID:71, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:70, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:47.277 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:47.291 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=71]
[2024/05/15 17:21:47.291 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:21:47.291 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=35] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.plan_replayer_task (\n\t\tsql_digest VARCHAR(128) NOT NULL,\n\t\tplan_digest VARCHAR(128) NOT NULL,\n\t\tupdate_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\tPRIMARY KEY (sql_digest,plan_digest));"] [user=]
[2024/05/15 17:21:47.293 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:73, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:72, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:47.292 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:21:47.293 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:73, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:72, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:47.292 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.plan_replayer_task (\n\t\tsql_digest VARCHAR(128) NOT NULL,\n\t\tplan_digest VARCHAR(128) NOT NULL,\n\t\tupdate_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\tPRIMARY KEY (sql_digest,plan_digest));"]
[2024/05/15 17:21:47.297 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=73] [category=ddl] [job="ID:73, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:72, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:47.292 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:47.298 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=35] [neededSchemaVersion=36] ["start time"=174.5s] [gotSchemaVersion=36] [phyTblIDs="[72]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:21:47.299 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:21:47.299 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=73] [version=36]
[2024/05/15 17:21:47.300 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=36] ["take time"=2.394583ms] [job="ID:73, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:72, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:47.292 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:47.305 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=73] [job="ID:73, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:72, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:47.292 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:47.307 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=73]
[2024/05/15 17:21:47.307 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:21:47.307 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=36] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_table_locked(\n\t\ttable_id bigint(64) NOT NULL,\n\t\tmodify_count bigint(64) NOT NULL DEFAULT 0,\n\t\tcount bigint(64) NOT NULL DEFAULT 0,\n\t\tversion bigint(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tPRIMARY KEY (table_id));"] [user=]
[2024/05/15 17:21:47.308 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:75, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:74, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:47.308 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:21:47.308 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:75, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:74, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:47.308 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_table_locked(\n\t\ttable_id bigint(64) NOT NULL,\n\t\tmodify_count bigint(64) NOT NULL DEFAULT 0,\n\t\tcount bigint(64) NOT NULL DEFAULT 0,\n\t\tversion bigint(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tPRIMARY KEY (table_id));"]
[2024/05/15 17:21:47.312 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=75] [category=ddl] [job="ID:75, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:74, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:47.308 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:47.315 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=36] [neededSchemaVersion=37] ["start time"=173.916s] [gotSchemaVersion=37] [phyTblIDs="[74]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:21:47.315 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:21:47.315 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=75] [version=37]
[2024/05/15 17:21:47.316 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=37] ["take time"=2.269292ms] [job="ID:75, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:74, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:47.308 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:47.320 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=75] [job="ID:75, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:74, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:47.308 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:47.322 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=75]
[2024/05/15 17:21:47.322 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:21:47.322 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=37] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_ttl_table_status (\n\t\ttable_id bigint(64) PRIMARY KEY,\n        parent_table_id bigint(64),\n        table_statistics text DEFAULT NULL,\n\t\tlast_job_id varchar(64) DEFAULT NULL,\n\t\tlast_job_start_time timestamp NULL DEFAULT NULL,\n\t\tlast_job_finish_time timestamp NULL DEFAULT NULL,\n\t\tlast_job_ttl_expire timestamp NULL DEFAULT NULL,\n        last_job_summary text DEFAULT NULL,\n\t\tcurrent_job_id varchar(64) DEFAULT NULL,\n\t\tcurrent_job_owner_id varchar(64) DEFAULT NULL,\n\t\tcurrent_job_owner_addr varchar(256) DEFAULT NULL,\n\t\tcurrent_job_owner_hb_time timestamp,\n\t\tcurrent_job_start_time timestamp NULL DEFAULT NULL,\n\t\tcurrent_job_ttl_expire timestamp NULL DEFAULT NULL,\n\t\tcurrent_job_state text DEFAULT NULL,\n\t\tcurrent_job_status varchar(64) DEFAULT NULL,\n  \t\tcurrent_job_status_update_time timestamp NULL DEFAULT NULL);"] [user=]
[2024/05/15 17:21:47.324 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:77, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:76, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:47.323 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:21:47.324 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:77, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:76, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:47.323 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_ttl_table_status (\n\t\ttable_id bigint(64) PRIMARY KEY,\n        parent_table_id bigint(64),\n        table_statistics text DEFAULT NULL,\n\t\tlast_job_id varchar(64) DEFAULT NULL,\n\t\tlast_job_start_time timestamp NULL DEFAULT NULL,\n\t\tlast_job_finish_time timestamp NULL DEFAULT NULL,\n\t\tlast_job_ttl_expire timestamp NULL DEFAULT NULL,\n        last_job_summary text DEFAULT NULL,\n\t\tcurrent_job_id varchar(64) DEFAULT NULL,\n\t\tcurrent_job_owner_id varchar(64) DEFAULT NULL,\n\t\tcurrent_job_owner_addr varchar(256) DEFAULT NULL,\n\t\tcurrent_job_owner_hb_time timestamp,\n\t\tcurrent_job_start_time timestamp NULL DEFAULT NULL,\n\t\tcurrent_job_ttl_expire timestamp NULL DEFAULT NULL,\n\t\tcurrent_job_state text DEFAULT NULL,\n\t\tcurrent_job_status varchar(64) DEFAULT NULL,\n  \t\tcurrent_job_status_update_time timestamp NULL DEFAULT NULL);"]
[2024/05/15 17:21:47.328 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=77] [category=ddl] [job="ID:77, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:76, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:47.323 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:47.331 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=37] [neededSchemaVersion=38] ["start time"=390.333s] [gotSchemaVersion=38] [phyTblIDs="[76]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:21:47.331 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:21:47.331 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=77] [version=38]
[2024/05/15 17:21:47.332 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=38] ["take time"=2.162708ms] [job="ID:77, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:76, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:47.323 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:47.337 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=77] [job="ID:77, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:76, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:47.323 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:47.339 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=77]
[2024/05/15 17:21:47.339 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:21:47.339 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=38] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_ttl_task (\n\t\tjob_id varchar(64) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tscan_id int NOT NULL,\n\t\tscan_range_start BLOB,\n\t\tscan_range_end BLOB,\n\t\texpire_time timestamp NOT NULL,\n\t\towner_id varchar(64) DEFAULT NULL,\n\t\towner_addr varchar(64) DEFAULT NULL,\n\t\towner_hb_time timestamp DEFAULT NULL,\n\t\tstatus varchar(64) DEFAULT 'waiting',\n\t\tstatus_update_time timestamp NULL DEFAULT NULL,\n\t\tstate text,\n\t\tcreated_time timestamp NOT NULL,\n\t\tprimary key(job_id, scan_id),\n\t\tkey(created_time));"] [user=]
[2024/05/15 17:21:47.341 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:79, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:78, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:47.34 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:21:47.341 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:79, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:78, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:47.34 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_ttl_task (\n\t\tjob_id varchar(64) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tscan_id int NOT NULL,\n\t\tscan_range_start BLOB,\n\t\tscan_range_end BLOB,\n\t\texpire_time timestamp NOT NULL,\n\t\towner_id varchar(64) DEFAULT NULL,\n\t\towner_addr varchar(64) DEFAULT NULL,\n\t\towner_hb_time timestamp DEFAULT NULL,\n\t\tstatus varchar(64) DEFAULT 'waiting',\n\t\tstatus_update_time timestamp NULL DEFAULT NULL,\n\t\tstate text,\n\t\tcreated_time timestamp NOT NULL,\n\t\tprimary key(job_id, scan_id),\n\t\tkey(created_time));"]
[2024/05/15 17:21:47.346 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=79] [category=ddl] [job="ID:79, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:78, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:47.34 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:47.349 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=38] [neededSchemaVersion=39] ["start time"=401.416s] [gotSchemaVersion=39] [phyTblIDs="[78]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:21:47.349 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:21:47.349 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=79] [version=39]
[2024/05/15 17:21:47.351 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=39] ["take time"=2.508ms] [job="ID:79, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:78, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:47.34 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:47.355 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=79] [job="ID:79, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:78, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:47.34 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:47.358 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=79]
[2024/05/15 17:21:47.358 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:21:47.358 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=39] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_ttl_job_history (\n\t\tjob_id varchar(64) PRIMARY KEY,\n\t\ttable_id bigint(64) NOT NULL,\n        parent_table_id bigint(64) NOT NULL,\n    \ttable_schema varchar(64) NOT NULL,\n\t\ttable_name varchar(64) NOT NULL,\n    \tpartition_name varchar(64) DEFAULT NULL,\n\t\tcreate_time timestamp NOT NULL,\n\t\tfinish_time timestamp NOT NULL,\n\t\tttl_expire timestamp NOT NULL,\n        summary_text text,\n\t\texpired_rows bigint(64) DEFAULT NULL,\n    \tdeleted_rows bigint(64) DEFAULT NULL,\n    \terror_delete_rows bigint(64) DEFAULT NULL,\n    \tstatus varchar(64) NOT NULL,\n    \tkey(table_schema, table_name, create_time),\n    \tkey(parent_table_id, create_time),\n    \tkey(create_time)\n\t);"] [user=]
[2024/05/15 17:21:47.360 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:81, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:80, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:47.359 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:21:47.360 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:81, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:80, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:47.359 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_ttl_job_history (\n\t\tjob_id varchar(64) PRIMARY KEY,\n\t\ttable_id bigint(64) NOT NULL,\n        parent_table_id bigint(64) NOT NULL,\n    \ttable_schema varchar(64) NOT NULL,\n\t\ttable_name varchar(64) NOT NULL,\n    \tpartition_name varchar(64) DEFAULT NULL,\n\t\tcreate_time timestamp NOT NULL,\n\t\tfinish_time timestamp NOT NULL,\n\t\tttl_expire timestamp NOT NULL,\n        summary_text text,\n\t\texpired_rows bigint(64) DEFAULT NULL,\n    \tdeleted_rows bigint(64) DEFAULT NULL,\n    \terror_delete_rows bigint(64) DEFAULT NULL,\n    \tstatus varchar(64) NOT NULL,\n    \tkey(table_schema, table_name, create_time),\n    \tkey(parent_table_id, create_time),\n    \tkey(create_time)\n\t);"]
[2024/05/15 17:21:47.363 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=81] [category=ddl] [job="ID:81, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:80, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:47.359 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:47.366 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=39] [neededSchemaVersion=40] ["start time"=518.334s] [gotSchemaVersion=40] [phyTblIDs="[80]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:21:47.367 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:21:47.367 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=81] [version=40]
[2024/05/15 17:21:47.368 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=40] ["take time"=2.93275ms] [job="ID:81, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:80, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:47.359 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:47.373 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=81] [job="ID:81, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:80, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:47.359 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:47.376 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=81]
[2024/05/15 17:21:47.376 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:21:47.376 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=40] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_global_task (\n\t\tid BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n    \ttask_key VARCHAR(256) NOT NULL,\n\t\ttype VARCHAR(256) NOT NULL,\n\t\tdispatcher_id VARCHAR(261),\n\t\tstate VARCHAR(64) NOT NULL,\n\t\tpriority INT DEFAULT 1,\n\t\tcreate_time TIMESTAMP,\n\t\tstart_time TIMESTAMP,\n\t\tstate_update_time TIMESTAMP,\n\t\tend_time TIMESTAMP,\n\t\tmeta LONGBLOB,\n\t\tconcurrency INT(11),\n\t\tstep INT(11),\n\t\ttarget_scope VARCHAR(256) DEFAULT \"\",\n\t\terror BLOB,\n\t\tkey(state),\n      \tUNIQUE KEY task_key(task_key)\n\t);"] [user=]
[2024/05/15 17:21:47.378 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:83, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:82, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:47.377 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:21:47.378 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:83, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:82, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:47.377 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_global_task (\n\t\tid BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n    \ttask_key VARCHAR(256) NOT NULL,\n\t\ttype VARCHAR(256) NOT NULL,\n\t\tdispatcher_id VARCHAR(261),\n\t\tstate VARCHAR(64) NOT NULL,\n\t\tpriority INT DEFAULT 1,\n\t\tcreate_time TIMESTAMP,\n\t\tstart_time TIMESTAMP,\n\t\tstate_update_time TIMESTAMP,\n\t\tend_time TIMESTAMP,\n\t\tmeta LONGBLOB,\n\t\tconcurrency INT(11),\n\t\tstep INT(11),\n\t\ttarget_scope VARCHAR(256) DEFAULT \"\",\n\t\terror BLOB,\n\t\tkey(state),\n      \tUNIQUE KEY task_key(task_key)\n\t);"]
[2024/05/15 17:21:47.383 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=83] [category=ddl] [job="ID:83, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:82, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:47.377 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:47.386 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=40] [neededSchemaVersion=41] ["start time"=631.667s] [gotSchemaVersion=41] [phyTblIDs="[82]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:21:47.387 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:21:47.387 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=83] [version=41]
[2024/05/15 17:21:47.388 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=41] ["take time"=2.69275ms] [job="ID:83, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:82, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:47.377 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:47.392 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=83] [job="ID:83, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:82, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:47.377 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:47.395 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=83]
[2024/05/15 17:21:47.395 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:21:47.395 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=41] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_global_task_history (\n\t\tid BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n    \ttask_key VARCHAR(256) NOT NULL,\n\t\ttype VARCHAR(256) NOT NULL,\n\t\tdispatcher_id VARCHAR(261),\n\t\tstate VARCHAR(64) NOT NULL,\n\t\tpriority INT DEFAULT 1,\n\t\tcreate_time TIMESTAMP,\n\t\tstart_time TIMESTAMP,\n\t\tstate_update_time TIMESTAMP,\n\t\tend_time TIMESTAMP,\n\t\tmeta LONGBLOB,\n\t\tconcurrency INT(11),\n\t\tstep INT(11),\n\t\ttarget_scope VARCHAR(256) DEFAULT \"\",\n\t\terror BLOB,\n\t\tkey(state),\n      \tUNIQUE KEY task_key(task_key)\n\t);"] [user=]
[2024/05/15 17:21:47.397 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:85, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:84, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:47.396 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:21:47.397 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:85, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:84, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:47.396 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_global_task_history (\n\t\tid BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n    \ttask_key VARCHAR(256) NOT NULL,\n\t\ttype VARCHAR(256) NOT NULL,\n\t\tdispatcher_id VARCHAR(261),\n\t\tstate VARCHAR(64) NOT NULL,\n\t\tpriority INT DEFAULT 1,\n\t\tcreate_time TIMESTAMP,\n\t\tstart_time TIMESTAMP,\n\t\tstate_update_time TIMESTAMP,\n\t\tend_time TIMESTAMP,\n\t\tmeta LONGBLOB,\n\t\tconcurrency INT(11),\n\t\tstep INT(11),\n\t\ttarget_scope VARCHAR(256) DEFAULT \"\",\n\t\terror BLOB,\n\t\tkey(state),\n      \tUNIQUE KEY task_key(task_key)\n\t);"]
[2024/05/15 17:21:47.401 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=85] [category=ddl] [job="ID:85, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:84, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:47.396 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:47.404 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=41] [neededSchemaVersion=42] ["start time"=387.542s] [gotSchemaVersion=42] [phyTblIDs="[84]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:21:47.405 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:21:47.405 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=85] [version=42]
[2024/05/15 17:21:47.406 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=42] ["take time"=2.502709ms] [job="ID:85, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:84, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:47.396 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:47.410 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=85] [job="ID:85, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:84, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:47.396 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:47.413 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=85]
[2024/05/15 17:21:47.413 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:21:47.413 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=42] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_import_jobs (\n\t\tid bigint(64) NOT NULL AUTO_INCREMENT,\n\t\tcreate_time TIMESTAMP(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6),\n\t\tstart_time TIMESTAMP(6) NULL DEFAULT NULL,\n\t\tupdate_time TIMESTAMP(6) NULL DEFAULT NULL,\n\t\tend_time TIMESTAMP(6) NULL DEFAULT NULL,\n\t\ttable_schema VARCHAR(64) NOT NULL,\n\t\ttable_name VARCHAR(64) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tcreated_by VARCHAR(300) NOT NULL,\n\t\tparameters text NOT NULL,\n\t\tsource_file_size bigint(64) NOT NULL,\n\t\tstatus VARCHAR(64) NOT NULL,\n\t\tstep VARCHAR(64) NOT NULL,\n\t\tsummary text DEFAULT NULL,\n\t\terror_message TEXT DEFAULT NULL,\n\t\tPRIMARY KEY (id),\n\t\tKEY (created_by),\n\t\tKEY (status));"] [user=]
[2024/05/15 17:21:47.415 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:87, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:86, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:47.414 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:21:47.415 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:87, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:86, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:47.414 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_import_jobs (\n\t\tid bigint(64) NOT NULL AUTO_INCREMENT,\n\t\tcreate_time TIMESTAMP(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6),\n\t\tstart_time TIMESTAMP(6) NULL DEFAULT NULL,\n\t\tupdate_time TIMESTAMP(6) NULL DEFAULT NULL,\n\t\tend_time TIMESTAMP(6) NULL DEFAULT NULL,\n\t\ttable_schema VARCHAR(64) NOT NULL,\n\t\ttable_name VARCHAR(64) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tcreated_by VARCHAR(300) NOT NULL,\n\t\tparameters text NOT NULL,\n\t\tsource_file_size bigint(64) NOT NULL,\n\t\tstatus VARCHAR(64) NOT NULL,\n\t\tstep VARCHAR(64) NOT NULL,\n\t\tsummary text DEFAULT NULL,\n\t\terror_message TEXT DEFAULT NULL,\n\t\tPRIMARY KEY (id),\n\t\tKEY (created_by),\n\t\tKEY (status));"]
[2024/05/15 17:21:47.419 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=87] [category=ddl] [job="ID:87, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:86, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:47.414 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:47.423 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=42] [neededSchemaVersion=43] ["start time"=566.834s] [gotSchemaVersion=43] [phyTblIDs="[86]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:21:47.424 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:21:47.424 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=87] [version=43]
[2024/05/15 17:21:47.427 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=43] ["take time"=4.788ms] [job="ID:87, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:86, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:47.414 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:47.435 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=87] [job="ID:87, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:86, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:47.414 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:47.438 +08:00] [WARN] [runaway.go:166] ["failed to start runaway manager loop, please check whether the bootstrap or update is finished"] [error="[schema:1146]Table 'mysql.tidb_runaway_watch' doesn't exist"] [errorVerbose="[schema:1146]Table 'mysql.tidb_runaway_watch' doesn't exist\ngithub.com/pingcap/errors.AddStack\n\t/Users/bba/.gvm/pkgsets/go1.21.0/global/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20240318064555-6bd07397691f/errors.go:178\ngithub.com/pingcap/errors.Trace\n\t/Users/bba/.gvm/pkgsets/go1.21.0/global/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20240318064555-6bd07397691f/juju_adaptor.go:15\ngithub.com/pingcap/tidb/pkg/planner/core.Preprocess\n\t/Users/bba/pc/tidb/pkg/planner/core/preprocess.go:141\ngithub.com/pingcap/tidb/pkg/executor.(*Compiler).Compile\n\t/Users/bba/pc/tidb/pkg/executor/compiler.go:67\ngithub.com/pingcap/tidb/pkg/session.(*session).ExecuteStmt\n\t/Users/bba/pc/tidb/pkg/session/session.go:2094\ngithub.com/pingcap/tidb/pkg/session.(*session).ExecuteInternalStmt\n\t/Users/bba/pc/tidb/pkg/session/session.go:1998\ngithub.com/pingcap/tidb/pkg/session.(*session).ExecRestrictedSQL.func1\n\t/Users/bba/pc/tidb/pkg/session/session.go:1963\ngithub.com/pingcap/tidb/pkg/session.(*session).withRestrictedSQLExecutor\n\t/Users/bba/pc/tidb/pkg/session/session.go:1949\ngithub.com/pingcap/tidb/pkg/session.(*session).ExecRestrictedSQL\n\t/Users/bba/pc/tidb/pkg/session/session.go:1953\ngithub.com/pingcap/tidb/pkg/domain.(*SystemTableReader).Read\n\t/Users/bba/pc/tidb/pkg/domain/runaway.go:655\ngithub.com/pingcap/tidb/pkg/domain.getRunawayWatchRecord\n\t/Users/bba/pc/tidb/pkg/domain/runaway.go:543\ngithub.com/pingcap/tidb/pkg/domain.(*runawaySyncer).getWatchRecord\n\t/Users/bba/pc/tidb/pkg/domain/runaway.go:526\ngithub.com/pingcap/tidb/pkg/domain.(*runawaySyncer).getNewWatchRecords\n\t/Users/bba/pc/tidb/pkg/domain/runaway.go:509\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).updateNewAndDoneWatch\n\t/Users/bba/pc/tidb/pkg/domain/runaway.go:177\ngithub.com/pingcap/tidb/pkg/domain.(*Domain).runawayStartLoop\n\t/Users/bba/pc/tidb/pkg/domain/runaway.go:156\ngithub.com/pingcap/tidb/pkg/util.(*WaitGroupEnhancedWrapper).Run.func1\n\t/Users/bba/pc/tidb/pkg/util/wait_group_wrapper.go:99\nruntime.goexit\n\t/Users/bba/.gvm/gos/go1.21.0/src/runtime/asm_arm64.s:1197"]
[2024/05/15 17:21:47.441 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=87]
[2024/05/15 17:21:47.441 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:21:47.441 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=43] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_runaway_watch (\n\t\tid BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n\t\tresource_group_name varchar(32) not null,\n\t\tstart_time datetime(6) NOT NULL,\n\t\tend_time datetime(6),\n\t\twatch bigint(10) NOT NULL,\n\t\twatch_text TEXT NOT NULL,\n\t\tsource varchar(512) NOT NULL,\n\t\taction bigint(10),\n\t\tINDEX sql_index(resource_group_name,watch_text(700)) COMMENT \"accelerate the speed when select quarantined query\",\n\t\tINDEX time_index(end_time) COMMENT \"accelerate the speed when querying with active watch\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"] [user=]
[2024/05/15 17:21:47.446 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:89, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:88, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:47.445 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:21:47.446 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:89, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:88, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:47.445 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_runaway_watch (\n\t\tid BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n\t\tresource_group_name varchar(32) not null,\n\t\tstart_time datetime(6) NOT NULL,\n\t\tend_time datetime(6),\n\t\twatch bigint(10) NOT NULL,\n\t\twatch_text TEXT NOT NULL,\n\t\tsource varchar(512) NOT NULL,\n\t\taction bigint(10),\n\t\tINDEX sql_index(resource_group_name,watch_text(700)) COMMENT \"accelerate the speed when select quarantined query\",\n\t\tINDEX time_index(end_time) COMMENT \"accelerate the speed when querying with active watch\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"]
[2024/05/15 17:21:47.454 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=89] [category=ddl] [job="ID:89, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:88, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:47.445 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:47.457 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=43] [neededSchemaVersion=44] ["start time"=505.542s] [gotSchemaVersion=44] [phyTblIDs="[88]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:21:47.460 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:21:47.460 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=89] [version=44]
[2024/05/15 17:21:47.463 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=44] ["take time"=6.919667ms] [job="ID:89, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:88, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:47.445 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:47.467 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=89] [job="ID:89, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:88, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:47.445 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:47.469 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=89]
[2024/05/15 17:21:47.469 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:21:47.469 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=44] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_runaway_queries (\n\t\tresource_group_name varchar(32) not null,\n\t\ttime TIMESTAMP NOT NULL,\n\t\tmatch_type varchar(12) NOT NULL,\n\t\taction varchar(12) NOT NULL,\n\t\toriginal_sql TEXT NOT NULL,\n\t\tplan_digest TEXT NOT NULL,\n\t\ttidb_server varchar(512),\n\t\tINDEX plan_index(plan_digest(64)) COMMENT \"accelerate the speed when select runaway query\",\n\t\tINDEX time_index(time) COMMENT \"accelerate the speed when querying with active watch\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"] [user=]
[2024/05/15 17:21:47.472 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:91, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:90, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:47.471 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:21:47.472 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:91, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:90, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:47.471 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_runaway_queries (\n\t\tresource_group_name varchar(32) not null,\n\t\ttime TIMESTAMP NOT NULL,\n\t\tmatch_type varchar(12) NOT NULL,\n\t\taction varchar(12) NOT NULL,\n\t\toriginal_sql TEXT NOT NULL,\n\t\tplan_digest TEXT NOT NULL,\n\t\ttidb_server varchar(512),\n\t\tINDEX plan_index(plan_digest(64)) COMMENT \"accelerate the speed when select runaway query\",\n\t\tINDEX time_index(time) COMMENT \"accelerate the speed when querying with active watch\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"]
[2024/05/15 17:21:47.476 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=91] [category=ddl] [job="ID:91, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:90, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:47.471 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:47.480 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=44] [neededSchemaVersion=45] ["start time"=359.375s] [gotSchemaVersion=45] [phyTblIDs="[90]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:21:47.481 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:21:47.481 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=91] [version=45]
[2024/05/15 17:21:47.482 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=45] ["take time"=3.09275ms] [job="ID:91, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:90, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:47.471 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:47.488 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=91] [job="ID:91, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:90, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:47.471 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:47.491 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=91]
[2024/05/15 17:21:47.491 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:21:47.491 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=45] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS `mysql`.`tidb_timers` (\n\t\tID BIGINT(64) UNSIGNED NOT NULL AUTO_INCREMENT,\n\t\tNAMESPACE VARCHAR(256) NOT NULL,\n\t\tTIMER_KEY VARCHAR(256) NOT NULL,\n\t\tTIMER_DATA BLOB,\n\t\tTIMEZONE VARCHAR(64) NOT NULL,\n\t\tSCHED_POLICY_TYPE VARCHAR(32) NOT NULL,\n\t\tSCHED_POLICY_EXPR VARCHAR(256) NOT NULL,\n\t\tHOOK_CLASS VARCHAR(64) NOT NULL,\n\t\tWATERMARK TIMESTAMP DEFAULT NULL,\n\t\tENABLE TINYINT(2) NOT NULL,\n\t\tTIMER_EXT JSON NOT NULL,\n\t\tEVENT_STATUS VARCHAR(32) NOT NULL,\n\t\tEVENT_ID VARCHAR(64) NOT NULL,\n\t\tEVENT_DATA BLOB,\n\t\tEVENT_START TIMESTAMP DEFAULT NULL,\n\t\tSUMMARY_DATA BLOB,\n\t\tCREATE_TIME TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,\n\t\tUPDATE_TIME TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\tVERSION BIGINT(64) UNSIGNED NOT NULL,\n\t\tPRIMARY KEY (ID),\n\t\tUNIQUE KEY timer_key(NAMESPACE, TIMER_KEY),\n\t\tKEY hook_class(HOOK_CLASS)\n\t)"] [user=]
[2024/05/15 17:21:47.493 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:93, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:92, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:47.492 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:21:47.493 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:93, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:92, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:47.492 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS `mysql`.`tidb_timers` (\n\t\tID BIGINT(64) UNSIGNED NOT NULL AUTO_INCREMENT,\n\t\tNAMESPACE VARCHAR(256) NOT NULL,\n\t\tTIMER_KEY VARCHAR(256) NOT NULL,\n\t\tTIMER_DATA BLOB,\n\t\tTIMEZONE VARCHAR(64) NOT NULL,\n\t\tSCHED_POLICY_TYPE VARCHAR(32) NOT NULL,\n\t\tSCHED_POLICY_EXPR VARCHAR(256) NOT NULL,\n\t\tHOOK_CLASS VARCHAR(64) NOT NULL,\n\t\tWATERMARK TIMESTAMP DEFAULT NULL,\n\t\tENABLE TINYINT(2) NOT NULL,\n\t\tTIMER_EXT JSON NOT NULL,\n\t\tEVENT_STATUS VARCHAR(32) NOT NULL,\n\t\tEVENT_ID VARCHAR(64) NOT NULL,\n\t\tEVENT_DATA BLOB,\n\t\tEVENT_START TIMESTAMP DEFAULT NULL,\n\t\tSUMMARY_DATA BLOB,\n\t\tCREATE_TIME TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,\n\t\tUPDATE_TIME TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\tVERSION BIGINT(64) UNSIGNED NOT NULL,\n\t\tPRIMARY KEY (ID),\n\t\tUNIQUE KEY timer_key(NAMESPACE, TIMER_KEY),\n\t\tKEY hook_class(HOOK_CLASS)\n\t)"]
[2024/05/15 17:21:47.498 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=93] [category=ddl] [job="ID:93, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:92, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:47.492 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:47.501 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=45] [neededSchemaVersion=46] ["start time"=476.958s] [gotSchemaVersion=46] [phyTblIDs="[92]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:21:47.502 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:21:47.502 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=93] [version=46]
[2024/05/15 17:21:47.503 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=46] ["take time"=2.788042ms] [job="ID:93, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:92, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:47.492 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:47.510 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=93] [job="ID:93, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:92, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:47.492 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:47.512 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=93]
[2024/05/15 17:21:47.512 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:21:47.513 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=46] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb_runaway_watch_done (\n\t\tid BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n\t\trecord_id BIGINT(20) not null,\n\t\tresource_group_name varchar(32) not null,\n\t\tstart_time datetime(6) NOT NULL,\n\t\tend_time datetime(6),\n\t\twatch bigint(10) NOT NULL,\n\t\twatch_text TEXT NOT NULL,\n\t\tsource varchar(512) NOT NULL,\n\t\taction bigint(10),\n\t\tdone_time TIMESTAMP(6) NOT NULL\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"] [user=]
[2024/05/15 17:21:47.514 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:95, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:94, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:47.513 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:21:47.514 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:95, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:94, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:47.513 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb_runaway_watch_done (\n\t\tid BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n\t\trecord_id BIGINT(20) not null,\n\t\tresource_group_name varchar(32) not null,\n\t\tstart_time datetime(6) NOT NULL,\n\t\tend_time datetime(6),\n\t\twatch bigint(10) NOT NULL,\n\t\twatch_text TEXT NOT NULL,\n\t\tsource varchar(512) NOT NULL,\n\t\taction bigint(10),\n\t\tdone_time TIMESTAMP(6) NOT NULL\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"]
[2024/05/15 17:21:47.518 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=95] [category=ddl] [job="ID:95, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:94, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:47.513 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:47.520 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=46] [neededSchemaVersion=47] ["start time"=289.084s] [gotSchemaVersion=47] [phyTblIDs="[94]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:21:47.520 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:21:47.520 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=95] [version=47]
[2024/05/15 17:21:47.522 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=47] ["take time"=2.572ms] [job="ID:95, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:94, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:47.513 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:47.527 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=95] [job="ID:95, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:94, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:47.513 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:47.529 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=95]
[2024/05/15 17:21:47.529 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:21:47.529 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=47] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.dist_framework_meta (\n        host VARCHAR(261) NOT NULL PRIMARY KEY,\n        role VARCHAR(64),\n        cpu_count int default 0,\n        keyspace_id bigint(8) NOT NULL DEFAULT -1\n    );"] [user=]
[2024/05/15 17:21:47.531 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:97, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:96, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:47.53 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:21:47.531 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:97, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:96, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:47.53 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.dist_framework_meta (\n        host VARCHAR(261) NOT NULL PRIMARY KEY,\n        role VARCHAR(64),\n        cpu_count int default 0,\n        keyspace_id bigint(8) NOT NULL DEFAULT -1\n    );"]
[2024/05/15 17:21:47.535 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=97] [category=ddl] [job="ID:97, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:96, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:47.53 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:47.537 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=47] [neededSchemaVersion=48] ["start time"=197.334s] [gotSchemaVersion=48] [phyTblIDs="[96]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:21:47.538 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:21:47.538 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=97] [version=48]
[2024/05/15 17:21:47.539 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=48] ["take time"=2.320083ms] [job="ID:97, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:96, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:47.53 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:47.544 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=97] [job="ID:97, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:96, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:47.53 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:47.545 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=97]
[2024/05/15 17:21:47.545 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:21:47.545 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=48] [cur_db=mysql] [sql="CREATE TABLE IF NOT EXISTS mysql.request_unit_by_group (\n\t\tstart_time TIMESTAMP(6) NOT NULL,\n\t\tend_time TIMESTAMP(6) NOT NULL,\n\t\tresource_group VARCHAR(32) NOT null,\n\t\ttotal_ru bigint(64) UNSIGNED NOT NULL,\n\t\tPRIMARY KEY (start_time, end_time, resource_group),\n\t\tKEY (resource_group)\n\t);"] [user=]
[2024/05/15 17:21:47.547 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:99, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:98, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:47.546 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:21:47.547 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:99, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:98, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:47.546 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE TABLE IF NOT EXISTS mysql.request_unit_by_group (\n\t\tstart_time TIMESTAMP(6) NOT NULL,\n\t\tend_time TIMESTAMP(6) NOT NULL,\n\t\tresource_group VARCHAR(32) NOT null,\n\t\ttotal_ru bigint(64) UNSIGNED NOT NULL,\n\t\tPRIMARY KEY (start_time, end_time, resource_group),\n\t\tKEY (resource_group)\n\t);"]
[2024/05/15 17:21:47.551 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=99] [category=ddl] [job="ID:99, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:98, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:47.546 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:47.553 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=48] [neededSchemaVersion=49] ["start time"=219.209s] [gotSchemaVersion=49] [phyTblIDs="[98]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:21:47.553 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:21:47.553 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=99] [version=49]
[2024/05/15 17:21:47.554 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=49] ["take time"=2.044292ms] [job="ID:99, Type:create table, State:done, SchemaState:public, SchemaID:1, TableID:98, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:47.546 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:47.560 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=99] [job="ID:99, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:98, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:47.546 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:47.562 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=99]
[2024/05/15 17:21:47.562 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:21:47.562 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=49] [cur_db=mysql] [sql="CREATE DATABASE IF NOT EXISTS sys;"] [user=]
[2024/05/15 17:21:47.563 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:101, Type:create schema, State:queueing, SchemaState:none, SchemaID:100, TableID:0, RowCount:0, ArgLen:1, start time: 2024-05-15 17:21:47.563 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:21:47.563 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:101, Type:create schema, State:queueing, SchemaState:none, SchemaID:100, TableID:0, RowCount:0, ArgLen:1, start time: 2024-05-15 17:21:47.563 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE DATABASE IF NOT EXISTS sys;"]
[2024/05/15 17:21:47.566 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=101] [category=ddl] [job="ID:101, Type:create schema, State:queueing, SchemaState:none, SchemaID:100, TableID:0, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:47.563 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:47.567 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=49] [neededSchemaVersion=50] ["start time"=30s] [gotSchemaVersion=50] [phyTblIDs="[]"] [actionTypes="[]"] [diffTypes="[\"create schema\"]"]
[2024/05/15 17:21:47.568 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:21:47.568 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=101] [version=50]
[2024/05/15 17:21:47.570 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=50] ["take time"=2.619958ms] [job="ID:101, Type:create schema, State:done, SchemaState:public, SchemaID:100, TableID:0, RowCount:0, ArgLen:1, start time: 2024-05-15 17:21:47.563 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:47.572 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=101] [job="ID:101, Type:create schema, State:synced, SchemaState:public, SchemaID:100, TableID:0, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:47.563 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:47.574 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=101]
[2024/05/15 17:21:47.574 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:21:47.576 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:103, Type:create view, State:queueing, SchemaState:none, SchemaID:100, TableID:102, RowCount:0, ArgLen:3, start time: 2024-05-15 17:21:47.575 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:21:47.576 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:103, Type:create view, State:queueing, SchemaState:none, SchemaID:100, TableID:102, RowCount:0, ArgLen:3, start time: 2024-05-15 17:21:47.575 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="CREATE OR REPLACE VIEW sys.schema_unused_indexes AS\n\t\tSELECT\n\t\t\ttable_schema as object_schema,\n\t\t\ttable_name as object_name,\n\t\t\tindex_name\n\t\tFROM information_schema.cluster_tidb_index_usage\n\t\tWHERE\n\t\t\ttable_schema not in ('sys', 'mysql', 'INFORMATION_SCHEMA', 'PERFORMANCE_SCHEMA') and\n\t\t\tindex_name != 'PRIMARY'\n\t\tGROUP BY table_schema, table_name, index_name\n\t\tHAVING\n\t\t\tsum(last_access_time) is null;"]
[2024/05/15 17:21:47.579 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=103] [category=ddl] [job="ID:103, Type:create view, State:queueing, SchemaState:none, SchemaID:100, TableID:102, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:47.575 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:47.580 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=50] [neededSchemaVersion=51] ["start time"=148.166s] [gotSchemaVersion=51] [phyTblIDs="[102]"] [actionTypes="[21]"] [diffTypes="[\"create view\"]"]
[2024/05/15 17:21:47.581 +08:00] [INFO] [domain.go:876] ["session manager is nil"]
[2024/05/15 17:21:47.581 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=103] [version=51]
[2024/05/15 17:21:47.582 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=51] ["take time"=2.169083ms] [job="ID:103, Type:create view, State:done, SchemaState:public, SchemaID:100, TableID:102, RowCount:0, ArgLen:3, start time: 2024-05-15 17:21:47.575 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:47.587 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 1, tp general"] [category=ddl] [jobID=103] [job="ID:103, Type:create view, State:synced, SchemaState:public, SchemaID:100, TableID:102, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:47.575 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:47.588 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=103]
[2024/05/15 17:21:47.588 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:21:47.589 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=0] ["to ID"=1] ["table ID"=4] ["database ID"=1]
[2024/05/15 17:21:47.592 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=0] ["to ID"=655] ["table ID"=16] ["database ID"=1]
[2024/05/15 17:21:47.596 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=0] ["to ID"=1] ["table ID"=18] ["database ID"=1]
[2024/05/15 17:21:47.597 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=1] ["to ID"=2] ["table ID"=18] ["database ID"=1]
[2024/05/15 17:21:47.597 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=2] ["to ID"=3] ["table ID"=18] ["database ID"=1]
[2024/05/15 17:21:47.597 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=3] ["to ID"=4] ["table ID"=18] ["database ID"=1]
[2024/05/15 17:21:47.598 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=4] ["to ID"=5] ["table ID"=18] ["database ID"=1]
[2024/05/15 17:21:47.600 +08:00] [INFO] [bootstrap.go:745] ["bootstrap successful"] ["take time"=1.163731291s]
[2024/05/15 17:21:47.602 +08:00] [INFO] [mock.go:106] ["owner manager is canceled"] [category=ddl] [ID=50d17f8e-3dcc-46e0-8957-d532a8c79ef5] [ownerKey=/tidb/ddl/fg/owner]
[2024/05/15 17:21:47.602 +08:00] [INFO] [ddl_workerpool.go:82] ["closing workerPool"] [category=ddl]
[2024/05/15 17:21:47.602 +08:00] [INFO] [ddl_worker.go:186] ["DDL worker closed"] [worker="worker 2, tp add index"] [category=ddl] ["take time"=791ns]
[2024/05/15 17:21:47.602 +08:00] [INFO] [ddl_workerpool.go:82] ["closing workerPool"] [category=ddl]
[2024/05/15 17:21:47.602 +08:00] [INFO] [ddl_worker.go:186] ["DDL worker closed"] [worker="worker 1, tp general"] [category=ddl] ["take time"=334ns]
[2024/05/15 17:21:47.602 +08:00] [INFO] [ddl_workerpool.go:82] ["closing workerPool"] [category=ddl]
[2024/05/15 17:21:47.602 +08:00] [INFO] [delete_range.go:162] ["closing delRange"] [category=ddl]
[2024/05/15 17:21:47.602 +08:00] [INFO] [session_pool.go:99] ["closing session pool"] [category=ddl]
[2024/05/15 17:21:47.603 +08:00] [INFO] [ddl.go:951] ["DDL closed"] [category=ddl] [ID=50d17f8e-3dcc-46e0-8957-d532a8c79ef5] ["take time"=2.011292ms]
[2024/05/15 17:21:47.603 +08:00] [INFO] [ddl.go:769] ["stop DDL"] [category=ddl] [ID=50d17f8e-3dcc-46e0-8957-d532a8c79ef5]
[2024/05/15 17:21:47.603 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=mdlCheckLoop]
[2024/05/15 17:21:47.603 +08:00] [INFO] [domain.go:915] ["loadSchemaInLoop exited."]
[2024/05/15 17:21:47.603 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=loadSchemaInLoop]
[2024/05/15 17:21:47.603 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=runawayStartLoop]
[2024/05/15 17:21:47.603 +08:00] [INFO] [domain.go:769] ["topologySyncerKeeper exited."]
[2024/05/15 17:21:47.603 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=topologySyncerKeeper]
[2024/05/15 17:21:47.603 +08:00] [INFO] [domain.go:745] ["globalConfigSyncerKeeper exited."]
[2024/05/15 17:21:47.603 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=globalConfigSyncerKeeper]
[2024/05/15 17:21:47.603 +08:00] [INFO] [domain.go:719] ["infoSyncerKeeper exited."]
[2024/05/15 17:21:47.603 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=infoSyncerKeeper]
[2024/05/15 17:21:47.603 +08:00] [INFO] [domain.go:691] ["topNSlowQueryLoop exited."]
[2024/05/15 17:21:47.603 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=topNSlowQueryLoop]
[2024/05/15 17:21:47.603 +08:00] [INFO] [domain.go:1369] ["closestReplicaReadCheckLoop exited."]
[2024/05/15 17:21:47.603 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=closestReplicaReadCheckLoop]
[2024/05/15 17:21:47.603 +08:00] [INFO] [domain.go:1082] ["domain closed"] ["take time"=2.166375ms]
[2024/05/15 17:21:47.603 +08:00] [INFO] [tidb.go:80] ["new domain"] [store=2c18f00d-721e-4ec2-bc59-673fce5cfcf0] ["ddl lease"=500ms] ["stats lease"=-1ns]
[2024/05/15 17:21:47.605 +08:00] [WARN] [controller.go:198] ["[resource group controller] server does not save config, load config failed"]
[2024/05/15 17:21:47.605 +08:00] [INFO] [controller.go:185] ["load resource controller config"] [config="{\"degraded-mode-wait-duration\":\"0s\",\"ltb-max-wait-duration\":\"30s\",\"wait-retry-interval\":\"50ms\",\"wait-retry-times\":10,\"request-unit\":{\"read-base-cost\":0.125,\"read-per-batch-base-cost\":0.5,\"read-cost-per-byte\":0.0000152587890625,\"write-base-cost\":1,\"write-per-batch-base-cost\":1,\"write-cost-per-byte\":0.0009765625,\"read-cpu-ms-cost\":0.3333333333333333},\"enable-controller-trace-log\":\"false\"}"] [ru-config="{\"ReadBaseCost\":0.125,\"ReadPerBatchBaseCost\":0.5,\"ReadBytesCost\":0.0000152587890625,\"WriteBaseCost\":1,\"WritePerBatchBaseCost\":1,\"WriteBytesCost\":0.0009765625,\"CPUMsCost\":0.3333333333333333,\"LTBMaxWaitDuration\":30000000000,\"WaitRetryInterval\":50000000,\"WaitRetryTimes\":10,\"DegradedModeWaitDuration\":0}"]
[2024/05/15 17:21:47.618 +08:00] [INFO] [domain.go:323] ["full load InfoSchema success"] [currentSchemaVersion=0] [neededSchemaVersion=51] ["start time"=13.37125ms]
[2024/05/15 17:21:47.621 +08:00] [INFO] [domain.go:643] ["full load and reset schema validator"]
[2024/05/15 17:21:47.621 +08:00] [INFO] [ddl.go:818] ["start DDL"] [category=ddl] [ID=a2ddca2a-aeaf-4220-b463-9a6b8bfe9bbc] [runWorker=true]
[2024/05/15 17:21:47.621 +08:00] [INFO] [ddl.go:777] ["start delRangeManager OK"] [category=ddl] ["is a emulator"=true]
[2024/05/15 17:21:47.621 +08:00] [WARN] [env.go:51] ["initialize environment failed"] [category=ddl-ingest] ["storage limitation"="only support TiKV storage"] ["current storage"=unistore] ["lightning is initialized"=false]
[2024/05/15 17:21:47.621 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=loadSchemaInLoop]
[2024/05/15 17:21:47.621 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=mdlCheckLoop]
[2024/05/15 17:21:47.621 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=topNSlowQueryLoop]
[2024/05/15 17:21:47.621 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=infoSyncerKeeper]
[2024/05/15 17:21:47.621 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=globalConfigSyncerKeeper]
[2024/05/15 17:21:47.621 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=runawayStartLoop]
[2024/05/15 17:21:47.621 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=requestUnitsWriterLoop]
[2024/05/15 17:21:47.621 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=topologySyncerKeeper]
[2024/05/15 17:21:47.621 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=closestReplicaReadCheckLoop]
[2024/05/15 17:21:47.621 +08:00] [WARN] [domain.go:1334] ["pd / etcd client not provided, won't begin Advancer."]
[2024/05/15 17:21:47.641 +08:00] [INFO] [delete_range.go:172] ["start delRange emulator"] [category=ddl]
[2024/05/15 17:21:47.641 +08:00] [INFO] [job_table.go:334] ["get global state and global state change"] [category=ddl] [oldState=false] [currState=false]
[2024/05/15 17:21:47.641 +08:00] [INFO] [runaway.go:149] ["try to start runaway manager loop"]
[2024/05/15 17:21:47.641 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=requestUnitsWriterLoop]
[2024/05/15 17:21:47.647 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=globalBindHandleWorkerLoop]
[2024/05/15 17:21:47.647 +08:00] [WARN] [sysvar_cache.go:49] ["sysvar cache is empty, triggering rebuild"]
[2024/05/15 17:21:47.648 +08:00] [INFO] [sysvar.go:2748] ["set resource control"] [enable=true]
[2024/05/15 17:21:47.649 +08:00] [INFO] [controller.go:447] ["[resource group controller] create resource group cost controller"] [name=default]
[2024/05/15 17:21:47.654 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=loadPrivilegeInLoop]
[2024/05/15 17:21:47.656 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=LoadSysVarCacheLoop]
[2024/05/15 17:21:47.658 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=dumpFileGcChecker]
[2024/05/15 17:21:47.658 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=indexUsageWorker]
[2024/05/15 17:21:47.658 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=quitStatsOwner]
[2024/05/15 17:21:47.658 +08:00] [INFO] [domain.go:2278] ["start load stats sub workers"] ["worker count"=5]
[2024/05/15 17:21:47.658 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=loadSigningCertLoop]
[2024/05/15 17:21:47.658 +08:00] [INFO] [manager.go:113] ["build task executor manager"] [server-id=:4000] [total-cpu=1] [total-mem=32GiB]
[2024/05/15 17:21:47.659 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=0] ["to ID"=1] ["table ID"=96] ["database ID"=1]
[2024/05/15 17:21:47.659 +08:00] [INFO] [domain.go:2078] ["dumpFileGcChecker started"]
[2024/05/15 17:21:47.660 +08:00] [INFO] [task_manager.go:217] ["scale ttl worker"] [ttl-worker=job-manager] [ttl-worker=task-manager] [originalCount=0] [newCount=4]
[2024/05/15 17:21:47.660 +08:00] [INFO] [task_manager.go:217] ["scale ttl worker"] [ttl-worker=job-manager] [ttl-worker=task-manager] [originalCount=0] [newCount=4]
[2024/05/15 17:21:47.663 +08:00] [INFO] [wait_group_wrapper.go:133] ["background process started"] [source=domain] [process=distTaskFrameworkLoop]
[2024/05/15 17:21:47.666 +08:00] [INFO] [manager.go:146] ["task executor manager start"] [server-id=:4000]
[2024/05/15 17:21:47.666 +08:00] [INFO] [domain.go:1533] ["dist task executor manager started"]
[2024/05/15 17:21:47.666 +08:00] [INFO] [autoid.go:936] ["alloc N signed ID"] ["from ID"=5000] ["to ID"=5001] ["table ID"=16] ["database ID"=1]
[2024/05/15 17:21:47.669 +08:00] [INFO] [set.go:170] ["set global var"] [conn=1] [name=tidb_schema_cache_size] [val=1024]
[2024/05/15 17:21:47.670 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=1] [schemaVersion=51] [cur_db=test] [sql="create table t_mcc(a varchar(8) charset utf8, b varchar(8) charset utf8)"] [user=]
[2024/05/15 17:21:47.674 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:105, Type:create table, State:queueing, SchemaState:none, SchemaID:2, TableID:104, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:47.672 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false; "] [table=true]
[2024/05/15 17:21:47.674 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:105, Type:create table, State:queueing, SchemaState:none, SchemaID:2, TableID:104, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:47.672 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"] [query="create table t_mcc(a varchar(8) charset utf8, b varchar(8) charset utf8)"]
[2024/05/15 17:21:47.691 +08:00] [INFO] [job_table.go:334] ["get global state and global state change"] [category=ddl] [oldState=false] [currState=false]
[2024/05/15 17:21:47.691 +08:00] [INFO] [job_table.go:349] ["the owner sets owner operator value"] [category=ddl] [ownerOp=none]
[2024/05/15 17:21:47.709 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=105] [conn=1] [category=ddl] [job="ID:105, Type:create table, State:queueing, SchemaState:none, SchemaID:2, TableID:104, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:47.672 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:47.711 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=51] [neededSchemaVersion=52] ["start time"=136.917s] [gotSchemaVersion=52] [phyTblIDs="[104]"] [actionTypes="[3]"] [diffTypes="[\"create table\"]"]
[2024/05/15 17:21:47.712 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=105] [version=52]
[2024/05/15 17:21:47.713 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=52] ["take time"=2.504583ms] [job="ID:105, Type:create table, State:done, SchemaState:public, SchemaID:2, TableID:104, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:47.672 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:47.718 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=105] [conn=1] [job="ID:105, Type:create table, State:synced, SchemaState:public, SchemaID:2, TableID:104, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:47.672 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false"]
[2024/05/15 17:21:47.720 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=105]
[2024/05/15 17:21:47.720 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:21:47.721 +08:00] [INFO] [session.go:3958] ["CRUCIAL OPERATION"] [conn=1] [schemaVersion=52] [cur_db=test] [sql="alter table t_mcc modify column a varchar(8);"] [user=]
[2024/05/15 17:21:47.722 +08:00] [INFO] [ddl_worker.go:259] ["add DDL jobs"] [category=ddl] ["batch count"=1] [jobs="ID:106, Type:modify column, State:queueing, SchemaState:none, SchemaID:2, TableID:104, RowCount:0, ArgLen:5, start time: 2024-05-15 17:21:47.721 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false, UniqueWarnings:0; "] [table=true]
[2024/05/15 17:21:47.722 +08:00] [INFO] [ddl.go:1182] ["start DDL job"] [category=ddl] [job="ID:106, Type:modify column, State:queueing, SchemaState:none, SchemaID:2, TableID:104, RowCount:0, ArgLen:5, start time: 2024-05-15 17:21:47.721 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false, UniqueWarnings:0"] [query="alter table t_mcc modify column a varchar(8);"]
[2024/05/15 17:21:47.727 +08:00] [INFO] [ddl_worker.go:1190] ["run DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=106] [conn=1] [category=ddl] [job="ID:106, Type:modify column, State:queueing, SchemaState:none, SchemaID:2, TableID:104, RowCount:0, ArgLen:0, start time: 2024-05-15 17:21:47.721 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false, UniqueWarnings:0"]
[2024/05/15 17:21:47.729 +08:00] [INFO] [domain.go:288] ["diff load InfoSchema success"] [currentSchemaVersion=52] [neededSchemaVersion=53] ["start time"=137.917s] [gotSchemaVersion=53] [phyTblIDs="[104]"] [actionTypes="[12]"] [diffTypes="[\"modify column\"]"]
[2024/05/15 17:21:47.729 +08:00] [INFO] [domain.go:895] ["mdl gets lock, update self version to owner"] [jobID=106] [version=53]
[2024/05/15 17:21:47.731 +08:00] [INFO] [schema_version.go:379] ["wait latest schema version changed(get the metadata lock if tidb_enable_metadata_lock is true)"] [category=ddl] [ver=53] ["take time"=2.136875ms] [job="ID:106, Type:modify column, State:done, SchemaState:public, SchemaID:2, TableID:104, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:47.721 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false, UniqueWarnings:0"]
[2024/05/15 17:21:47.736 +08:00] [INFO] [delete_range.go:112] ["add job into delete-range table"] [category=ddl] [jobID=106] [jobType="modify column"]
[2024/05/15 17:21:47.736 +08:00] [INFO] [ddl_worker.go:743] ["finish DDL job"] [worker="worker 3, tp general"] [category=ddl] [jobID=106] [conn=1] [job="ID:106, Type:modify column, State:synced, SchemaState:public, SchemaID:2, TableID:104, RowCount:0, ArgLen:2, start time: 2024-05-15 17:21:47.721 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0, LocalMode: false, UniqueWarnings:0"]
[2024/05/15 17:21:47.739 +08:00] [INFO] [ddl.go:1287] ["DDL job is finished"] [category=ddl] [jobID=106]
[2024/05/15 17:21:47.740 +08:00] [INFO] [callback.go:140] ["performing DDL change, must reload"] [category=ddl]
[2024/05/15 17:21:47.740 +08:00] [WARN] [infoschema_v3.go:59] ["table not equal"] [tbl1="{\"id\":104,\"name\":{\"O\":\"t_mcc\",\"L\":\"t_mcc\"},\"charset\":\"utf8mb4\",\"collate\":\"utf8mb4_bin\",\"cols\":[{\"id\":1,\"name\":{\"O\":\"a\",\"L\":\"a\"},\"offset\":0,\"origin_default\":null,\"origin_default_bit\":null,\"default\":null,\"default_bit\":null,\"default_is_expr\":false,\"generated_expr_string\":\"\",\"generated_stored\":false,\"dependences\":null,\"type\":{\"Tp\":15,\"Flag\":0,\"Flen\":8,\"Decimal\":0,\"Charset\":\"utf8mb4\",\"Collate\":\"utf8mb4_bin\",\"Elems\":null,\"ElemsIsBinaryLit\":null,\"Array\":false},\"state\":5,\"comment\":\"\",\"hidden\":false,\"change_state_info\":null,\"version\":2},{\"id\":2,\"name\":{\"O\":\"b\",\"L\":\"b\"},\"offset\":1,\"origin_default\":null,\"origin_default_bit\":null,\"default\":null,\"default_bit\":null,\"default_is_expr\":false,\"generated_expr_string\":\"\",\"generated_stored\":false,\"dependences\":null,\"type\":{\"Tp\":15,\"Flag\":0,\"Flen\":8,\"Decimal\":0,\"Charset\":\"utf8\",\"Collate\":\"utf8_bin\",\"Elems\":null,\"ElemsIsBinaryLit\":null,\"Array\":false},\"state\":5,\"comment\":\"\",\"hidden\":false,\"change_state_info\":null,\"version\":2}],\"index_info\":null,\"constraint_info\":null,\"fk_info\":null,\"state\":5,\"pk_is_handle\":false,\"is_common_handle\":false,\"common_handle_version\":0,\"comment\":\"\",\"auto_inc_id\":0,\"auto_id_cache\":0,\"auto_rand_id\":0,\"max_col_id\":2,\"max_idx_id\":0,\"max_fk_id\":0,\"max_cst_id\":0,\"update_timestamp\":449777475971186689,\"ShardRowIDBits\":0,\"max_shard_row_id_bits\":0,\"auto_random_bits\":0,\"auto_random_range_bits\":0,\"pre_split_regions\":0,\"partition\":null,\"compression\":\"\",\"view\":null,\"sequence\":null,\"Lock\":null,\"version\":5,\"tiflash_replica\":null,\"is_columnar\":false,\"temp_table_type\":0,\"cache_table_status\":0,\"policy_ref_info\":null,\"stats_options\":null,\"exchange_partition_info\":null,\"ttl_info\":null,\"revision\":1}"] [tbl2="{\"id\":104,\"name\":{\"O\":\"t_mcc\",\"L\":\"t_mcc\"},\"charset\":\"utf8mb4\",\"collate\":\"utf8mb4_bin\",\"cols\":[{\"id\":1,\"name\":{\"O\":\"a\",\"L\":\"a\"},\"offset\":0,\"origin_default\":null,\"origin_default_bit\":null,\"default\":null,\"default_bit\":null,\"default_is_expr\":false,\"generated_expr_string\":\"\",\"generated_stored\":false,\"dependences\":null,\"type\":{\"Tp\":15,\"Flag\":0,\"Flen\":8,\"Decimal\":0,\"Charset\":\"utf8mb4\",\"Collate\":\"utf8mb4_bin\",\"Elems\":null,\"ElemsIsBinaryLit\":null,\"Array\":false},\"state\":5,\"comment\":\"\",\"hidden\":false,\"change_state_info\":null,\"version\":2},{\"id\":2,\"name\":{\"O\":\"b\",\"L\":\"b\"},\"offset\":1,\"origin_default\":null,\"origin_default_bit\":null,\"default\":null,\"default_bit\":null,\"default_is_expr\":false,\"generated_expr_string\":\"\",\"generated_stored\":false,\"dependences\":null,\"type\":{\"Tp\":15,\"Flag\":0,\"Flen\":8,\"Decimal\":0,\"Charset\":\"utf8\",\"Collate\":\"utf8_bin\",\"Elems\":null,\"ElemsIsBinaryLit\":null,\"Array\":false},\"state\":5,\"comment\":\"\",\"hidden\":false,\"change_state_info\":null,\"version\":2}],\"index_info\":null,\"constraint_info\":null,\"fk_info\":null,\"state\":5,\"pk_is_handle\":false,\"is_common_handle\":false,\"common_handle_version\":0,\"comment\":\"\",\"auto_inc_id\":0,\"auto_id_cache\":0,\"auto_rand_id\":0,\"max_col_id\":2,\"max_idx_id\":0,\"max_fk_id\":0,\"max_cst_id\":0,\"update_timestamp\":449777475971186689,\"ShardRowIDBits\":0,\"max_shard_row_id_bits\":0,\"auto_random_bits\":0,\"auto_random_range_bits\":0,\"pre_split_regions\":0,\"partition\":null,\"compression\":\"\",\"view\":null,\"sequence\":null,\"Lock\":null,\"version\":0,\"tiflash_replica\":null,\"is_columnar\":false,\"temp_table_type\":0,\"cache_table_status\":0,\"policy_ref_info\":null,\"stats_options\":null,\"exchange_partition_info\":null,\"ttl_info\":null,\"revision\":1}"]
[2024/05/15 17:21:47.740 +08:00] [INFO] [mock.go:106] ["owner manager is canceled"] [category=ddl] [ID=a2ddca2a-aeaf-4220-b463-9a6b8bfe9bbc] [ownerKey=/tidb/ddl/fg/owner]
[2024/05/15 17:21:47.740 +08:00] [INFO] [ddl_workerpool.go:82] ["closing workerPool"] [category=ddl]
[2024/05/15 17:21:47.740 +08:00] [INFO] [ddl_worker.go:186] ["DDL worker closed"] [worker="worker 4, tp add index"] [category=ddl] ["take time"=625ns]
[2024/05/15 17:21:47.740 +08:00] [INFO] [ddl_workerpool.go:82] ["closing workerPool"] [category=ddl]
[2024/05/15 17:21:47.740 +08:00] [INFO] [ddl_worker.go:186] ["DDL worker closed"] [worker="worker 3, tp general"] [category=ddl] ["take time"=334ns]
[2024/05/15 17:21:47.740 +08:00] [INFO] [ddl_workerpool.go:82] ["closing workerPool"] [category=ddl]
[2024/05/15 17:21:47.740 +08:00] [INFO] [delete_range.go:162] ["closing delRange"] [category=ddl]
[2024/05/15 17:21:47.740 +08:00] [INFO] [session_pool.go:99] ["closing session pool"] [category=ddl]
[2024/05/15 17:21:47.740 +08:00] [INFO] [ddl.go:951] ["DDL closed"] [category=ddl] [ID=a2ddca2a-aeaf-4220-b463-9a6b8bfe9bbc] ["take time"=181.958s]
[2024/05/15 17:21:47.740 +08:00] [INFO] [ddl.go:769] ["stop DDL"] [category=ddl] [ID=a2ddca2a-aeaf-4220-b463-9a6b8bfe9bbc]
[2024/05/15 17:21:47.740 +08:00] [INFO] [domain.go:1034] ["stopping ttlJobManager"]
[2024/05/15 17:21:47.740 +08:00] [INFO] [task_manager.go:194] ["shrink ttl worker"] [ttl-worker=job-manager] [ttl-worker=task-manager] [originalCount=4] [newCount=0]
[2024/05/15 17:21:47.740 +08:00] [INFO] [scan.go:309] ["ttlScanWorker loop exited."]
[2024/05/15 17:21:47.740 +08:00] [INFO] [scan.go:309] ["ttlScanWorker loop exited."]
[2024/05/15 17:21:47.740 +08:00] [INFO] [scan.go:309] ["ttlScanWorker loop exited."]
[2024/05/15 17:21:47.740 +08:00] [INFO] [scan.go:309] ["ttlScanWorker loop exited."]
[2024/05/15 17:21:47.740 +08:00] [INFO] [task_manager.go:194] ["shrink ttl worker"] [ttl-worker=job-manager] [ttl-worker=task-manager] [originalCount=4] [newCount=0]
[2024/05/15 17:21:47.740 +08:00] [INFO] [del.go:261] ["ttlDeleteWorker loop exited."]
[2024/05/15 17:21:47.740 +08:00] [INFO] [del.go:261] ["ttlDeleteWorker loop exited."]
[2024/05/15 17:21:47.740 +08:00] [INFO] [del.go:261] ["ttlDeleteWorker loop exited."]
[2024/05/15 17:21:47.740 +08:00] [INFO] [del.go:261] ["ttlDeleteWorker loop exited."]
[2024/05/15 17:21:47.740 +08:00] [INFO] [job_manager.go:174] ["ttlJobManager loop exited."] [ttl-worker=job-manager]
[2024/05/15 17:21:47.740 +08:00] [INFO] [domain.go:1045] ["ttlJobManager exited."]
[2024/05/15 17:21:47.740 +08:00] [INFO] [manager.go:280] ["recoverMetaLoop done"] [server-id=:4000]
[2024/05/15 17:21:47.740 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=mdlCheckLoop]
[2024/05/15 17:21:47.740 +08:00] [INFO] [domain.go:915] ["loadSchemaInLoop exited."]
[2024/05/15 17:21:47.740 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=loadSchemaInLoop]
[2024/05/15 17:21:47.740 +08:00] [INFO] [domain.go:1535] ["stopping dist task executor manager"]
[2024/05/15 17:21:47.740 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=loadSigningCertLoop]
[2024/05/15 17:21:47.740 +08:00] [INFO] [stats_syncload.go:216] ["SubLoadWorker exited."]
[2024/05/15 17:21:47.740 +08:00] [INFO] [stats_syncload.go:216] ["SubLoadWorker exited."]
[2024/05/15 17:21:47.740 +08:00] [INFO] [stats_syncload.go:216] ["SubLoadWorker exited."]
[2024/05/15 17:21:47.740 +08:00] [INFO] [stats_syncload.go:216] ["SubLoadWorker exited."]
[2024/05/15 17:21:47.740 +08:00] [INFO] [stats_syncload.go:216] ["SubLoadWorker exited."]
[2024/05/15 17:21:47.740 +08:00] [INFO] [mock.go:106] ["owner manager is canceled"] [category=ddl] [ID=a2ddca2a-aeaf-4220-b463-9a6b8bfe9bbc] [ownerKey=/tidb/stats/owner]
[2024/05/15 17:21:47.740 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=quitStatsOwner]
[2024/05/15 17:21:47.740 +08:00] [INFO] [domain.go:2361] ["indexUsageWorker exited."]
[2024/05/15 17:21:47.740 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=indexUsageWorker]
[2024/05/15 17:21:47.740 +08:00] [INFO] [domain.go:2082] ["dumpFileGcChecker exited."]
[2024/05/15 17:21:47.740 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=dumpFileGcChecker]
[2024/05/15 17:21:47.740 +08:00] [INFO] [domain.go:1758] ["LoadSysVarCacheLoop exited."]
[2024/05/15 17:21:47.740 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=LoadSysVarCacheLoop]
[2024/05/15 17:21:47.740 +08:00] [INFO] [domain.go:1708] ["loadPrivilegeInLoop exited."]
[2024/05/15 17:21:47.740 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=loadPrivilegeInLoop]
[2024/05/15 17:21:47.740 +08:00] [INFO] [mock.go:106] ["owner manager is canceled"] [category=ddl] [ID=a2ddca2a-aeaf-4220-b463-9a6b8bfe9bbc] [ownerKey=/tidb/bindinfo/owner]
[2024/05/15 17:21:47.740 +08:00] [INFO] [domain.go:1897] ["globalBindHandleWorkerLoop exited."]
[2024/05/15 17:21:47.740 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=globalBindHandleWorkerLoop]
[2024/05/15 17:21:47.740 +08:00] [INFO] [domain.go:769] ["topologySyncerKeeper exited."]
[2024/05/15 17:21:47.740 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=topologySyncerKeeper]
[2024/05/15 17:21:47.740 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=runawayStartLoop]
[2024/05/15 17:21:47.740 +08:00] [INFO] [domain.go:745] ["globalConfigSyncerKeeper exited."]
[2024/05/15 17:21:47.740 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=globalConfigSyncerKeeper]
[2024/05/15 17:21:47.740 +08:00] [INFO] [domain.go:719] ["infoSyncerKeeper exited."]
[2024/05/15 17:21:47.740 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=infoSyncerKeeper]
[2024/05/15 17:21:47.740 +08:00] [INFO] [domain.go:691] ["topNSlowQueryLoop exited."]
[2024/05/15 17:21:47.740 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=topNSlowQueryLoop]
[2024/05/15 17:21:47.740 +08:00] [INFO] [domain.go:1369] ["closestReplicaReadCheckLoop exited."]
[2024/05/15 17:21:47.740 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=closestReplicaReadCheckLoop]
[2024/05/15 17:21:47.740 +08:00] [INFO] [manager.go:179] ["handle tasks loop done"] [server-id=:4000]
[2024/05/15 17:21:47.740 +08:00] [INFO] [domain.go:1537] ["dist task executor manager stopped"]
[2024/05/15 17:21:47.740 +08:00] [INFO] [wait_group_wrapper.go:140] ["background process exited"] [source=domain] [process=distTaskFrameworkLoop]
[2024/05/15 17:21:47.740 +08:00] [INFO] [domain.go:1082] ["domain closed"] ["take time"=772.667s]
[2024/05/15 17:21:47.746 +08:00] [INFO] [db.go:567] ["Closing database"]
[2024/05/15 17:21:47.746 +08:00] [INFO] [db.go:592] ["Memtable flushed"]
[2024/05/15 17:21:47.746 +08:00] [INFO] [db.go:596] ["Compaction finished"]
[2024/05/15 17:21:47.746 +08:00] [INFO] [db.go:615] ["BlobManager finished"]
[2024/05/15 17:21:47.746 +08:00] [INFO] [db.go:619] ["ResourceManager finished"]
[2024/05/15 17:21:47.746 +08:00] [INFO] [db.go:625] ["Waiting for closer"]
--- FAIL: TestModifyColumnCharset (1.37s)
panic: inconsistent infoschema [recovered]
	panic: inconsistent infoschema [recovered]
	panic: inconsistent infoschema

goroutine 14 [running]:
testing.tRunner.func1.2({0x106781020, 0x107083770})
	/Users/bba/.gvm/gos/go1.21.0/src/testing/testing.go:1545 +0x1c8
testing.tRunner.func1()
	/Users/bba/.gvm/gos/go1.21.0/src/testing/testing.go:1548 +0x360
panic({0x106781020?, 0x107083770?})
	/Users/bba/.gvm/gos/go1.21.0/src/runtime/panic.go:914 +0x218
github.com/pingcap/tidb/pkg/executor.(*Compiler).Compile.func1()
	/Users/bba/pc/tidb/pkg/executor/compiler.go:57 +0x360
panic({0x106781020?, 0x107083770?})
	/Users/bba/.gvm/gos/go1.21.0/src/runtime/panic.go:914 +0x218
github.com/pingcap/tidb/pkg/infoschema.(*infoschemaV3).TableByName(0x14000728c60, {{0x105a791cb?, 0x104053430?}, {0x105a791cb?, 0xc1893d8aec1d84a0?}}, {{0x105b50bab?, 0x140006e30c8?}, {0x105b50bab?, 0x140006e30a8?}})
	/Users/bba/pc/tidb/pkg/infoschema/infoschema_v3.go:216 +0x128
github.com/pingcap/tidb/pkg/infoschema.(*SessionExtendedInfoSchema).TableByName(0x14005389920, {{0x105a791cb?, 0x30857b35fc7b?}, {0x105a791cb?, 0xd2000140006e31a8?}}, {{0x105b50bab?, 0x140006e31d8?}, {0x105b50bab?, 0x140006e3258?}})
	/Users/bba/pc/tidb/pkg/infoschema/infoschema.go:696 +0x138
github.com/pingcap/tidb/pkg/planner/core.(*preprocessor).tableByName(0x14004e368c0, 0x1400abf8c30)
	/Users/bba/pc/tidb/pkg/planner/core/preprocess.go:495 +0x150
github.com/pingcap/tidb/pkg/planner/core.(*preprocessor).handleTableName(0x14004e368c0, 0x1400abf8c30)
	/Users/bba/pc/tidb/pkg/planner/core/preprocess.go:1574 +0x120
github.com/pingcap/tidb/pkg/planner/core.(*preprocessor).Leave(0x14004e368c0, {0x1070d2b50?, 0x1400abf8c30?})
	/Users/bba/pc/tidb/pkg/planner/core/preprocess.go:596 +0x1a0
github.com/pingcap/tidb/pkg/parser/ast.(*TableName).Accept(0x14004e368c0?, {0x1070ab440, 0x14004e368c0})
	/Users/bba/pc/tidb/pkg/parser/ast/dml.go:452 +0x12c
github.com/pingcap/tidb/pkg/parser/ast.(*AlterTableStmt).Accept(0x1070c6508?, {0x1070ab440, 0x14004e368c0})
	/Users/bba/pc/tidb/pkg/parser/ast/ddl.go:3803 +0x64
github.com/pingcap/tidb/pkg/planner/core.Preprocess({0x1070c6508, 0x14005389890}, {0x10713d660, 0x14009ddcb40}, {0x1070d6070, 0x1400584b0e0}, {0x140006e36b8, 0x2, 0x140006e35c8?})
	/Users/bba/pc/tidb/pkg/planner/core/preprocess.go:138 +0x19c
github.com/pingcap/tidb/pkg/executor.(*Compiler).Compile(0x140006e3990, {0x1070c6508?, 0x14005389890?}, {0x1070db730?, 0x1400584b0e0})
	/Users/bba/pc/tidb/pkg/executor/compiler.go:67 +0x1d8
github.com/pingcap/tidb/pkg/session.(*session).ExecuteStmt(0x14009ddcb40, {0x1070c6508?, 0x14005389890?}, {0x1070db730, 0x1400584b0e0?})
	/Users/bba/pc/tidb/pkg/session/session.go:2094 +0x70c
github.com/pingcap/tidb/pkg/testkit.(*TestKit).ExecWithContext(0x140094fec30, {0x1070c6508, 0x14005389890}, {0x105b50b9f, 0x2d}, {0x0, 0x0, 0x0})
	/Users/bba/pc/tidb/pkg/testkit/testkit.go:384 +0x714
github.com/pingcap/tidb/pkg/testkit.(*TestKit).MustExecWithContext(0x140094fec30, {0x1070c6508?, 0x14005389890?}, {0x105b50b9f, 0x2d}, {0x0, 0x0, 0x0})
	/Users/bba/pc/tidb/pkg/testkit/testkit.go:156 +0x40
github.com/pingcap/tidb/pkg/testkit.(*TestKit).MustExec(0x140094fec30, {0x105b50b9f, 0x2d}, {0x0, 0x0, 0x0})
	/Users/bba/pc/tidb/pkg/testkit/testkit.go:151 +0xac
github.com/pingcap/tidb/pkg/ddl_test.TestModifyColumnCharset(0x0?)
	/Users/bba/pc/tidb/pkg/ddl/modify_column_test.go:423 +0x170
testing.tRunner(0x14000603ba0, 0x107075c78)
	/Users/bba/.gvm/gos/go1.21.0/src/testing/testing.go:1595 +0xe8
created by testing.(*T).Run in goroutine 1
	/Users/bba/.gvm/gos/go1.21.0/src/testing/testing.go:1648 +0x33c
run all tasks takes 14m16.594504542s
make: *** [ut] Error 1
