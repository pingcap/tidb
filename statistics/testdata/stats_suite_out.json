[
  {
    "Name": "TestUniqCompEqualEst",
    "Cases": [
      [
        "Point_Get_5 1.00 root table:t, index:PRIMARY(a, b) "
      ]
    ]
  },
  {
    "Name": "TestColumnIndexNullEstimation",
    "Cases": [
      [
        "IndexReader_6 4.00 root  index:IndexFullScan_5",
        "└─IndexFullScan_5 4.00 cop[tikv] table:t, index:idx_b(b) keep order:false"
      ],
      [
        "IndexReader_6 1.00 root  index:IndexFullScan_5",
        "└─IndexFullScan_5 1.00 cop[tikv] table:t, index:idx_b(b) keep order:false"
      ],
      [
        "IndexReader_6 4.00 root  index:IndexRangeScan_5",
        "└─IndexRangeScan_5 4.00 cop[tikv] table:t, index:idx_b(b) range:[NULL,NULL], (3,+inf], keep order:false"
      ],
      [
        "IndexReader_5 5.00 root  index:IndexFullScan_4",
        "└─IndexFullScan_4 5.00 cop[tikv] table:t, index:idx_b(b) keep order:false"
      ],
      [
        "IndexReader_6 1.00 root  index:IndexRangeScan_5",
        "└─IndexRangeScan_5 1.00 cop[tikv] table:t, index:idx_b(b) range:[-inf,4), keep order:false"
      ],
      [
        "TableReader_7 1.00 root  data:Selection_6",
        "└─Selection_6 1.00 cop[tikv]  isnull(test.t.a)",
        "  └─TableFullScan_5 5.00 cop[tikv] table:t keep order:false"
      ],
      [
        "TableReader_7 4.00 root  data:Selection_6",
        "└─Selection_6 4.00 cop[tikv]  not(isnull(test.t.a))",
        "  └─TableFullScan_5 5.00 cop[tikv] table:t keep order:false"
      ],
      [
        "TableReader_7 2.00 root  data:Selection_6",
        "└─Selection_6 2.00 cop[tikv]  or(isnull(test.t.a), gt(test.t.a, 3))",
        "  └─TableFullScan_5 5.00 cop[tikv] table:t keep order:false"
      ],
      [
        "TableReader_5 5.00 root  data:TableFullScan_4",
        "└─TableFullScan_4 5.00 cop[tikv] table:t keep order:false"
      ],
      [
        "TableReader_7 3.00 root  data:Selection_6",
        "└─Selection_6 3.00 cop[tikv]  lt(test.t.a, 4)",
        "  └─TableFullScan_5 5.00 cop[tikv] table:t keep order:false"
      ]
    ]
  },
  {
    "Name": "TestDiscreteDistribution",
    "Cases": [
      [
        "IndexReader_6 0.00 root  index:IndexRangeScan_5",
        "└─IndexRangeScan_5 0.00 cop[tikv] table:t, index:idx(a, b) range:[\"tw\" -inf,\"tw\" 0), keep order:false"
      ]
    ]
  },
  {
    "Name": "TestPrimaryKeySelectivity",
    "Cases": [
      [
        "TableReader_7 3333.33 root  data:Selection_6",
        "└─Selection_6 3333.33 cop[tikv]  gt(test.t.a, \"t\")",
        "  └─TableFullScan_5 10000.00 cop[tikv] table:t keep order:false, stats:pseudo"
      ],
      [
        "TableReader_6 3333.33 root  data:TableRangeScan_5",
        "└─TableRangeScan_5 3333.33 cop[tikv] table:t range:(1,+inf], keep order:false, stats:pseudo"
      ]
    ]
  },
  {
    "Name": "TestSelectCombinedLowBound",
    "Cases": [
      [
        "IndexReader_6 7.00 root  index:IndexRangeScan_5",
        "└─IndexRangeScan_5 7.00 cop[tikv] table:t, index:kid(kid, pid) range:[1,1], keep order:false"
      ]
    ]
  },
  {
    "Name": "TestCollationColumnEstimate",
    "Cases": [
      [
        "test t  a 0 0 2 2 \u0000A\u0000A\u0000A \u0000A\u0000A\u0000A",
        "test t  a 0 1 4 2 \u0000B\u0000B\u0000B \u0000B\u0000B\u0000B"
      ],
      [
        "TableReader_7 2.00 root  data:Selection_6",
        "└─Selection_6 2.00 cop[tikv]  eq(test.t.a, \"aÄa\")",
        "  └─TableFullScan_5 4.00 cop[tikv] table:t keep order:false"
      ],
      [
        "TableReader_7 2.00 root  data:Selection_6",
        "└─Selection_6 2.00 cop[tikv]  gt(test.t.a, \"aÄa\")",
        "  └─TableFullScan_5 4.00 cop[tikv] table:t keep order:false"
      ]
    ]
<<<<<<< HEAD
=======
  },
  {
    "Name": "TestDNFCondSelectivity",
    "Cases": [
      {
        "SQL": "select * from t where b > 7 or c < 4",
        "Selectivity": 0.34375
      },
      {
        "SQL": "select * from t where d < 5 or b > 6",
        "Selectivity": 0.625
      },
      {
        "SQL": "select * from t where a > 8 or d < 4 or c > 7 or b < 5",
        "Selectivity": 0.82421875
      },
      {
        "SQL": "select * from t where a < 8 and (b > 10 or c < 3 or b > 4) and a > 2",
        "Selectivity": 0.3125
      }
    ]
  },
  {
    "Name": "TestSmallRangeEstimation",
    "Cases": [
      {
        "Start": 5,
        "End": 5,
        "Count": 3
      },
      {
        "Start": 5,
        "End": 6,
        "Count": 6
      },
      {
        "Start": 5,
        "End": 10,
        "Count": 18
      },
      {
        "Start": 5,
        "End": 15,
        "Count": 33
      },
      {
        "Start": 10,
        "End": 15,
        "Count": 18
      },
      {
        "Start": 5,
        "End": 25,
        "Count": 63
      },
      {
        "Start": 25,
        "End": 25,
        "Count": 3
      }
    ]
  },
  {
    "Name": "TestOutOfRangeEstimation",
    "Cases": [
      {
        "Start": 800,
        "End": 900,
        "Count": 752.004166655054
      },
      {
        "Start": 900,
        "End": 950,
        "Count": 247.04782734719248
      },
      {
        "Start": 950,
        "End": 1000,
        "Count": 226.14487557169574
      },
      {
        "Start": 1000,
        "End": 1050,
        "Count": 205.24192379619902
      },
      {
        "Start": 1050,
        "End": 1100,
        "Count": 184.33897202070227
      },
      {
        "Start": 1150,
        "End": 1200,
        "Count": 142.53306846970884
      },
      {
        "Start": 1200,
        "End": 1300,
        "Count": 214.85728161292752
      },
      {
        "Start": 1300,
        "End": 1400,
        "Count": 131.2454745109406
      },
      {
        "Start": 1400,
        "End": 1500,
        "Count": 47.650389770374105
      },
      {
        "Start": 1500,
        "End": 1600,
        "Count": 7.5
      },
      {
        "Start": 300,
        "End": 899,
        "Count": 4498.5
      },
      {
        "Start": 800,
        "End": 1000,
        "Count": 1201.196869573942
      },
      {
        "Start": 900,
        "End": 1500,
        "Count": 1502.495833344946
      },
      {
        "Start": 300,
        "End": 1500,
        "Count": 4500
      },
      {
        "Start": 200,
        "End": 300,
        "Count": 466.52882098990807
      },
      {
        "Start": 100,
        "End": 200,
        "Count": 382.91701388792114
      },
      {
        "Start": 200,
        "End": 400,
        "Count": 1211.5288209899081
      },
      {
        "Start": 200,
        "End": 1000,
        "Count": 4500
      },
      {
        "Start": 0,
        "End": 100,
        "Count": 299.3052067859343
      },
      {
        "Start": -100,
        "End": 100,
        "Count": 299.3052067859343
      },
      {
        "Start": -100,
        "End": 0,
        "Count": 7.5
      }
    ]
>>>>>>> 47e4b5bf3... *: revert #27021 to fix a bug that selection can not be pushed down when having clause above aggregation (#33168)
  }
]
