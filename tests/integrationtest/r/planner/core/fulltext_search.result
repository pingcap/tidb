set tidb_cost_model_version=1;
set @@tidb_opt_fulltext_search_fallback='like';
drop table if exists articles;
create table articles (id int primary key, title varchar(200), body text);
insert into articles values
(1, 'MySQL Tutorial', 'This tutorial provides a basic MySQL tutorial'),
(2, 'How To Use MySQL Well', 'After you went through a MySQL tutorial'),
(3, 'Optimizing MySQL', 'In this tutorial we will show how to optimize MySQL'),
(4, 'MySQL vs. PostgreSQL', 'This article compares MySQL and PostgreSQL'),
(5, 'MySQL Security', 'How to secure your MySQL database');
select id, title from articles where match(title) against('MySQL tutorial');
id	title
1	MySQL Tutorial
2	How To Use MySQL Well
3	Optimizing MySQL
4	MySQL vs. PostgreSQL
5	MySQL Security
select id, title from articles where match(title, body) against('MySQL tutorial');
id	title
1	MySQL Tutorial
2	How To Use MySQL Well
3	Optimizing MySQL
4	MySQL vs. PostgreSQL
5	MySQL Security
select id, title from articles where match(title) against('+MySQL +tutorial' in boolean mode);
id	title
select id, title from articles where match(title) against('+MySQL -tutorial' in boolean mode);
id	title
1	MySQL Tutorial
2	How To Use MySQL Well
3	Optimizing MySQL
4	MySQL vs. PostgreSQL
5	MySQL Security
select id, title from articles where match(title) against('Optim*' in boolean mode);
id	title
3	Optimizing MySQL
select id, title from articles where match(title, body) against('"MySQL tutorial"' in boolean mode);
id	title
1	MySQL Tutorial
2	How To Use MySQL Well
select id, title from articles where match(title, body) against('+MySQL +database -PostgreSQL' in boolean mode);
id	title
5	MySQL Security
select id, title from articles where match(title) against('tutorial security' in boolean mode);
id	title
select id, title from articles where match(title) against('');
id	title
set @@tidb_opt_fulltext_search_fallback='error';
select id, title from articles where match(title) against('MySQL');
Error 1235 (42000): This version of TiDB doesn't yet support 'MATCH...AGAINST without fulltext index'
set @@tidb_opt_fulltext_search_fallback='like';
select id, title from articles where match(title) against('MySQL');
id	title
1	MySQL Tutorial
2	How To Use MySQL Well
3	Optimizing MySQL
4	MySQL vs. PostgreSQL
5	MySQL Security
select id, title from articles where match(title) against('PostgreSQL');
id	title
4	MySQL vs. PostgreSQL
drop table if exists special_chars;
create table special_chars (id int primary key, content varchar(200));
insert into special_chars values
(1, 'Progress is at 100%'),
(2, 'Progress is at 50%'),
(3, 'File name is test_file.txt'),
(4, 'Path is C:\\Windows\\System32'),
(5, 'Normal text without special chars');
select id, content from special_chars where match(content) against('100%');
id	content
1	Progress is at 100%
select id, content from special_chars where match(content) against('test_file');
id	content
3	File name is test_file.txt
select id, content from special_chars where match(content) against('C:\\Windows');
id	content
4	Path is C:\Windows\System32
select id, content from special_chars where match(content) against('+100% +Progress' in boolean mode);
id	content
1	Progress is at 100%
drop table if exists special_chars;
drop table if exists articles;
