admin set bdr role none;
create database bdr_mode;
use bdr_mode;
create table t(a int);
alter table t add column b int;
alter table t drop column b;
alter table t add index idx_a(a);
alter table t alter index idx_a invisible;
alter table t alter index idx_a visible;
alter table t rename index idx_a to idx_a_2;
alter table t drop index idx_a_2;
create table t2(a int, primary key (a));
rename table t to t3, t2 to t4;
rename table t3 to t, t4 to t2;
alter table t add foreign key (a) references t2(a);
alter table t drop foreign key fk_1;
alter table t drop index fk_1;
truncate table t2;
drop table t2;
alter table t modify column a bigint;
alter table t auto_increment = 6000;
alter table t alter column a set default 1;
alter table t shard_row_id_bits = 4;
alter table t comment = 'test';
drop table t;
create table t(a int) partition by range(a) (
partition p0 values less than (5),
partition p1 values less than (10),
partition p2 values less than (15));
alter table t add partition (partition p3 values less than (100));
create placement policy pp4 followers=4;
alter table t placement policy=pp4;
alter table t partition p3 placement policy=pp4;
alter database bdr_mode placement policy=pp4;
alter placement policy pp4 followers=3;
alter table t placement policy=default;
alter table t partition p3 placement policy=default;
alter database bdr_mode placement policy=default;
drop placement policy pp4;
alter table t attributes="merge_option=allow";
alter table t partition p3 attributes="key1=value1";
create table t2(a int);
alter table t exchange partition p0 with table t2;
alter table t truncate partition p0;
alter table t reorganize partition p0 into
(
partition p4 values less than (0),
partition p5 values less than (5)
);
alter table t drop partition p5;
drop table t2;
create placement policy pp1 followers=1;
alter table t partition by range (a) (partition p0 values less than (1000000), partition pMax values less than (maxvalue) placement policy pp1);
drop table t;
create table t(a int);
alter table t add constraint `a_check` check(a > 0);
alter table t alter constraint `a_check` enforced;
alter table t drop constraint `a_check`;
alter table t cache;
alter table t nocache;
set @@tidb_enable_extended_stats = ON;
create table stats(a int, b int);
alter table stats add stats_extended s1 correlation(a,b);
alter table stats drop stats_extended s1;
drop table stats;
CREATE TABLE ttl_test (created_at datetime) TTL = `created_at` + INTERVAL 5 DAY;
ALTER TABLE ttl_test TTL = `created_at` + INTERVAL 2 YEAR;
alter table ttl_test remove ttl;
drop table ttl_test;
alter table t add primary key (a);
alter table t drop primary key;
alter table t auto_id_cache = 10;
create table t_random(a bigint auto_random, primary key (a));
alter table t_random auto_random_base = 10;
drop table t_random;
create sequence seq;
alter sequence seq restart;
drop sequence seq;
create view v as select 1 as b;
drop view v;
lock tables t read;
unlock tables;
alter table t charset utf8mb4 collate utf8mb4_unicode_ci;
alter database bdr_mode default character set = utf8mb4;
drop database bdr_mode;
create resource group rg1 ru_per_sec = 100;
create user user1;
alter user `user1` resource group `rg1`;
alter resource group rg1 ru_per_sec = 200;
drop user user1;
drop resource group if exists rg1;
admin set bdr role primary;
admin set bdr role secondary;
admin set bdr role local_only;
