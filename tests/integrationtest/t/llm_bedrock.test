# TestLLMBedrockE2E
use test;
set global tidb_enable_llm_inference = on;
set global tidb_llm_default_model = 'amazon.titan-text-v1';
set global tidb_llm_max_tokens = 16;
set global tidb_llm_temperature = 0.2;
set global tidb_llm_top_p = 0.9;

create user if not exists llm_user;
grant select on test.* to 'llm_user'@'%';
grant LLM_EXECUTE on *.* to 'llm_user'@'%';

connect (llm_conn, localhost, llm_user,, test);
connection llm_conn;
select llm_complete('hi');
connection default;
set global tidb_llm_default_model = 'amazon.titan-embed-text-v1';
connection llm_conn;
select vec_dims(llm_embed_text('hi'));
disconnect llm_conn;
connection default;
drop user if exists llm_user;
