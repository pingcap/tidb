# Test tici + TiCDC S3 sink (FTS)

CREATE DATABASE IF NOT EXISTS tici_integration;
USE tici_integration;

DROP TABLE IF EXISTS t1;
DROP TABLE IF EXISTS t2;

CREATE TABLE IF NOT EXISTS t1(id varchar(10) PRIMARY KEY,body TEXT);
ALTER TABLE t1 ADD FULLTEXT INDEX ft_index (body) WITH PARSER standard;
INSERT INTO t1 VALUES
(1, 'This is the first test pdata, used to demonstrate the insert operation'),
(2, 'The second record contains some sample text for testing'),
(3, 'Third entry: verifying the TEXT field''s ability to store longer content'),
(4, 'Fourth data row, which can be used for subsequent query or analysis tests'),
(5, 'Fifth sample entry to complete the basic insertion example');

CREATE TABLE IF NOT EXISTS t2(id varchar(10) PRIMARY KEY,content TEXT);
ALTER TABLE t2 ADD FULLTEXT INDEX ft_index (content) WITH PARSER standard;
INSERT INTO t2 VALUES
(1, 'This is the first test data, used to demonstrate the insert operation'),
(2, 'The second record contains some sample text for testing'),
(3, 'Third entry: verifying the TEXT field''s ability to store longer content'),
(4, 'Fourth data row, which can be used for subsequent query or analysis tests'),
(5, 'Fifth sample entry to complete the basic insertion example');

DO SLEEP(20);

SELECT * FROM t1 WHERE fts_match_word('first', body);
SELECT * FROM t2 WHERE fts_match_word('first', content);
