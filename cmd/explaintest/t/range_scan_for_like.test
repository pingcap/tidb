drop table if exists t1, t2;
create table t1(a varchar(20) collate utf8mb4_bin, index ia(a));
insert into t1 value('测试'),('测试  '),('xxx ');
explain format = brief select *,length(a) from t1 use index (ia) where a like '测试 %';
explain format = brief select *,length(a) from t1 use index (ia) where a like '测试';
select *,length(a) from t1 use index (ia) where a like '测试 %';
select *,length(a) from t1 use index (ia) where a like '测试';
explain format = brief select * from t1 use index (ia) where a like 'xxx_';
select * from t1 use index (ia) where a like 'xxx_';
create table t2(a varchar(20) collate gbk_chinese_ci, index ia(a));
insert into t2 value('测试'),('测试  ');
explain format = brief select *,length(a) from t2 use index (ia) where a like '测试 %';
explain format = brief select *,length(a) from t2 use index (ia) where a like '测试';
select *,length(a) from t2 use index (ia) where a like '测试 %';
select *,length(a) from t2 use index (ia) where a like '测试';
