set @@sql_mode = 'strict_trans_tables';
drop table if exists t;
create table t (a varchar(255) charset gbk, b varchar(255) charset ascii, c varchar(255) charset utf8);
insert into t values ('ä¸­æ–‡', 'asdf', 'å­—ç¬¦é›†');
-- error 1366: Incorrect string value '\xC3\x80' for column 'a'
insert into t values ('Ã€', 'Ã¸', 'ðŸ˜‚');
-- error 1366: Incorrect string value '\xC3\x80\xE4\xB8\xAD\xE6...' for column 'a'
insert into t values ('ä¸­æ–‡Ã€ä¸­æ–‡', 'asdfÃ¸fdsa', 'å­—ç¬¦é›†ðŸ˜‚å­—ç¬¦é›†');
-- error 1366: Incorrect string value '\xFF\xFF' for column 'a'
insert into t values (0x4040ffff, 0x4040ffff, 0x4040ffff);
select * from t;

set @@sql_mode = '';
insert into t values ('Ã€', 'Ã¸', 'ðŸ˜‚');
insert into t values ('ä¸­æ–‡Ã€ä¸­æ–‡', 'asdfÃ¸fdsa', 'å­—ç¬¦é›†ðŸ˜‚å­—ç¬¦é›†');
insert into t values (0x4040ffff, 0x4040ffff, 0x4040ffff);
select * from t;
