set tidb_cost_model_version=1;
CREATE DATABASE IF NOT EXISTS `imdbload`;
USE `imdbload`;
CREATE TABLE `kind_type` (
`id` int(11) NOT NULL AUTO_INCREMENT,
`kind` varchar(15) DEFAULT NULL,
PRIMARY KEY (`id`) /*T![clustered_index] CLUSTERED */,
KEY `kind_type_kind` (`kind`(5))
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 AUTO_INCREMENT=11;
CREATE TABLE `keyword` (
`id` int(11) NOT NULL AUTO_INCREMENT,
`keyword` text NOT NULL,
`phonetic_code` varchar(5) DEFAULT NULL,
PRIMARY KEY (`id`) /*T![clustered_index] CLUSTERED */,
KEY `keyword_idx_keyword` (`keyword`(5)),
KEY `keyword_idx_pcode` (`phonetic_code`),
KEY `itest` (`phonetic_code`,`keyword`(20))
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 AUTO_INCREMENT=236629;
CREATE TABLE `company_type` (
`id` int(11) NOT NULL AUTO_INCREMENT,
`kind` varchar(32) DEFAULT NULL,
PRIMARY KEY (`id`) /*T![clustered_index] CLUSTERED */,
KEY `company_type_kind` (`kind`(5))
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 AUTO_INCREMENT=6;
CREATE TABLE `comp_cast_type` (
`id` int(11) NOT NULL AUTO_INCREMENT,
`kind` varchar(32) NOT NULL,
PRIMARY KEY (`id`) /*T![clustered_index] CLUSTERED */,
KEY `comp_cast_type_kind` (`kind`(5))
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 AUTO_INCREMENT=6;
CREATE TABLE `complete_cast` (
`id` int(11) NOT NULL AUTO_INCREMENT,
`movie_id` int(11) DEFAULT NULL,
`subject_id` int(11) NOT NULL,
`status_id` int(11) NOT NULL,
PRIMARY KEY (`id`) /*T![clustered_index] CLUSTERED */,
KEY `complete_cast_idx_mid` (`movie_id`),
KEY `complete_cast_idx_sid` (`subject_id`),
KEY `itest` (`movie_id`,`subject_id`,`status_id`),
KEY `itest2` (`subject_id`,`status_id`,`movie_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 AUTO_INCREMENT=135088;
CREATE TABLE `info_type` (
`id` int(11) NOT NULL AUTO_INCREMENT,
`info` varchar(32) NOT NULL,
PRIMARY KEY (`id`) /*T![clustered_index] CLUSTERED */,
KEY `info_type_info` (`info`(5))
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 AUTO_INCREMENT=115;
CREATE TABLE `link_type` (
`id` int(11) NOT NULL AUTO_INCREMENT,
`link` varchar(32) NOT NULL,
PRIMARY KEY (`id`) /*T![clustered_index] CLUSTERED */,
KEY `link_type_link` (`link`(5))
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 AUTO_INCREMENT=20;
CREATE TABLE `company_name` (
`id` int(11) NOT NULL AUTO_INCREMENT,
`name` text NOT NULL,
`country_code` varchar(255) DEFAULT NULL,
`imdb_id` int(11) DEFAULT NULL,
`name_pcode_nf` varchar(5) DEFAULT NULL,
`name_pcode_sf` varchar(5) DEFAULT NULL,
`md5sum` varchar(32) DEFAULT NULL,
PRIMARY KEY (`id`) /*T![clustered_index] CLUSTERED */,
KEY `company_name_idx_name` (`name`(6)),
KEY `company_name_idx_ccode` (`country_code`(5)),
KEY `company_name_idx_imdb_id` (`imdb_id`),
KEY `company_name_idx_pcodenf` (`name_pcode_nf`),
KEY `company_name_idx_pcodesf` (`name_pcode_sf`),
KEY `company_name_idx_md5` (`md5sum`(5)),
KEY `itest` (`country_code`,`name_pcode_nf`,`name_pcode_sf`),
KEY `itest2` (`name_pcode_sf`,`country_code`,`name`(20))
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 AUTO_INCREMENT=362133;
CREATE TABLE `role_type` (
`id` int(11) NOT NULL AUTO_INCREMENT,
`role` varchar(32) NOT NULL,
PRIMARY KEY (`id`) /*T![clustered_index] CLUSTERED */,
KEY `role_type_role` (`role`(5))
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 AUTO_INCREMENT=14;
CREATE TABLE `movie_link` (
`id` int(11) NOT NULL AUTO_INCREMENT,
`movie_id` int(11) NOT NULL,
`linked_movie_id` int(11) NOT NULL,
`link_type_id` int(11) NOT NULL,
PRIMARY KEY (`id`) /*T![clustered_index] CLUSTERED */,
KEY `movie_link_idx_mid` (`movie_id`),
KEY `movie_link_idx_lmid` (`linked_movie_id`),
KEY `movie_link_idx_ltypeid` (`link_type_id`),
KEY `itest` (`link_type_id`,`linked_movie_id`,`movie_id`),
KEY `itest2` (`movie_id`,`link_type_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 AUTO_INCREMENT=2585152;
CREATE TABLE `aka_title` (
`id` int(11) NOT NULL AUTO_INCREMENT,
`movie_id` int(11) NOT NULL,
`title` text NOT NULL,
`imdb_index` varchar(12) DEFAULT NULL,
`kind_id` int(11) NOT NULL,
`production_year` int(11) DEFAULT NULL,
`phonetic_code` varchar(5) DEFAULT NULL,
`episode_of_id` int(11) DEFAULT NULL,
`season_nr` int(11) DEFAULT NULL,
`episode_nr` int(11) DEFAULT NULL,
`note` text DEFAULT NULL,
`md5sum` varchar(32) DEFAULT NULL,
PRIMARY KEY (`id`) /*T![clustered_index] CLUSTERED */,
KEY `aka_title_idx_movieid` (`movie_id`),
KEY `aka_title_idx_title` (`title`(10)),
KEY `aka_title_idx_kindid` (`kind_id`),
KEY `aka_title_idx_year` (`production_year`),
KEY `aka_title_idx_pcode` (`phonetic_code`),
KEY `aka_title_idx_epof` (`episode_of_id`),
KEY `aka_title_idx_md5` (`md5sum`(5)),
KEY `itest` (`phonetic_code`,`production_year`,`kind_id`,`note`(20)),
KEY `itest2` (`episode_of_id`,`season_nr`,`episode_nr`,`production_year`),
KEY `itest3` (`episode_of_id`,`note`(20),`production_year`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 AUTO_INCREMENT=562493;
CREATE TABLE `aka_name` (
`id` int(11) NOT NULL AUTO_INCREMENT,
`person_id` int(11) NOT NULL,
`name` text NOT NULL,
`imdb_index` varchar(12) DEFAULT NULL,
`name_pcode_cf` varchar(5) DEFAULT NULL,
`name_pcode_nf` varchar(5) DEFAULT NULL,
`surname_pcode` varchar(5) DEFAULT NULL,
`md5sum` varchar(32) DEFAULT NULL,
PRIMARY KEY (`id`) /*T![clustered_index] CLUSTERED */,
KEY `aka_name_idx_person` (`person_id`),
KEY `aka_name_idx_name` (`name`(6)),
KEY `aka_name_idx_pcodecf` (`name_pcode_cf`),
KEY `aka_name_idx_pcodenf` (`name_pcode_nf`),
KEY `aka_name_idx_pcode` (`surname_pcode`),
KEY `aka_name_idx_md5` (`md5sum`(5)),
KEY `itest` (`name_pcode_cf`,`name_pcode_nf`,`surname_pcode`),
KEY `itest2` (`surname_pcode`,`name_pcode_cf`,`name_pcode_nf`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 AUTO_INCREMENT=1312275;
CREATE TABLE `movie_keyword` (
`id` int(11) NOT NULL AUTO_INCREMENT,
`movie_id` int(11) NOT NULL,
`keyword_id` int(11) NOT NULL,
PRIMARY KEY (`id`) /*T![clustered_index] CLUSTERED */,
KEY `movie_keyword_idx_mid` (`movie_id`),
KEY `movie_keyword_idx_keywordid` (`keyword_id`),
KEY `itest` (`movie_id`,`keyword_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 AUTO_INCREMENT=7480089;
CREATE TABLE `movie_companies` (
`id` int(11) NOT NULL AUTO_INCREMENT,
`movie_id` int(11) NOT NULL,
`company_id` int(11) NOT NULL,
`company_type_id` int(11) NOT NULL,
`note` text DEFAULT NULL,
PRIMARY KEY (`id`) /*T![clustered_index] CLUSTERED */,
KEY `movie_companies_idx_mid` (`movie_id`),
KEY `movie_companies_idx_cid` (`company_id`),
KEY `movie_companies_idx_ctypeid` (`company_type_id`),
KEY `itest` (`movie_id`,`company_type_id`,`company_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 AUTO_INCREMENT=4958298;
CREATE TABLE `char_name` (
`id` int(11) NOT NULL AUTO_INCREMENT,
`name` text NOT NULL,
`imdb_index` varchar(12) DEFAULT NULL,
`imdb_id` int(11) DEFAULT NULL,
`name_pcode_nf` varchar(5) DEFAULT NULL,
`surname_pcode` varchar(5) DEFAULT NULL,
`md5sum` varchar(32) DEFAULT NULL,
PRIMARY KEY (`id`) /*T![clustered_index] CLUSTERED */,
KEY `char_name_idx_name` (`name`(6)),
KEY `char_name_idx_imdb_id` (`imdb_id`),
KEY `char_name_idx_pcodenf` (`name_pcode_nf`),
KEY `char_name_idx_pcode` (`surname_pcode`),
KEY `char_name_idx_md5` (`md5sum`(5)),
KEY `itest` (`name_pcode_nf`,`surname_pcode`,`imdb_id`),
KEY `itest2` (`imdb_index`,`surname_pcode`,`name_pcode_nf`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 AUTO_INCREMENT=4314866;
CREATE TABLE `title` (
`id` int(11) NOT NULL AUTO_INCREMENT,
`title` text NOT NULL,
`imdb_index` varchar(12) DEFAULT NULL,
`kind_id` int(11) NOT NULL,
`production_year` int(11) DEFAULT NULL,
`imdb_id` int(11) DEFAULT NULL,
`phonetic_code` varchar(5) DEFAULT NULL,
`episode_of_id` int(11) DEFAULT NULL,
`season_nr` int(11) DEFAULT NULL,
`episode_nr` int(11) DEFAULT NULL,
`series_years` varchar(49) DEFAULT NULL,
`md5sum` varchar(32) DEFAULT NULL,
PRIMARY KEY (`id`) /*T![clustered_index] CLUSTERED */,
KEY `title_idx_title` (`title`(10)),
KEY `title_idx_kindid` (`kind_id`),
KEY `title_idx_year` (`production_year`),
KEY `title_idx_imdb_id` (`imdb_id`),
KEY `title_idx_pcode` (`phonetic_code`),
KEY `title_idx_epof` (`episode_of_id`),
KEY `title_idx_season_nr` (`season_nr`),
KEY `title_idx_episode_nr` (`episode_nr`),
KEY `title_idx_md5` (`md5sum`(5)),
KEY `itest` (`episode_of_id`,`season_nr`,`episode_nr`,`imdb_index`,`phonetic_code`),
KEY `itest2` (`kind_id`,`production_year`,`imdb_id`,`title`(20)),
KEY `itest3` (`phonetic_code`,`production_year`,`kind_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 AUTO_INCREMENT=4736511;
CREATE TABLE `name` (
`id` int(11) NOT NULL AUTO_INCREMENT,
`name` text NOT NULL,
`imdb_index` varchar(12) DEFAULT NULL,
`imdb_id` int(11) DEFAULT NULL,
`gender` varchar(1) DEFAULT NULL,
`name_pcode_cf` varchar(5) DEFAULT NULL,
`name_pcode_nf` varchar(5) DEFAULT NULL,
`surname_pcode` varchar(5) DEFAULT NULL,
`md5sum` varchar(32) DEFAULT NULL,
PRIMARY KEY (`id`) /*T![clustered_index] CLUSTERED */,
KEY `name_idx_name` (`name`(6)),
KEY `name_idx_imdb_id` (`imdb_id`),
KEY `name_idx_gender` (`gender`),
KEY `name_idx_pcodecf` (`name_pcode_cf`),
KEY `name_idx_pcodenf` (`name_pcode_nf`),
KEY `name_idx_pcode` (`surname_pcode`),
KEY `name_idx_md5` (`md5sum`(5)),
KEY `itest` (`name_pcode_cf`,`name_pcode_nf`,`surname_pcode`,`imdb_index`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 AUTO_INCREMENT=6379742;
CREATE TABLE `person_info` (
`id` int(11) NOT NULL AUTO_INCREMENT,
`person_id` int(11) NOT NULL,
`info_type_id` int(11) NOT NULL,
`info` text NOT NULL,
`note` text DEFAULT NULL,
PRIMARY KEY (`id`) /*T![clustered_index] CLUSTERED */,
KEY `person_info_idx_pid` (`person_id`),
KEY `person_info_idx_itypeid` (`info_type_id`),
KEY `itest` (`person_id`,`info_type_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 AUTO_INCREMENT=4130209;
CREATE TABLE `movie_info` (
`id` int(11) NOT NULL AUTO_INCREMENT,
`movie_id` int(11) NOT NULL,
`info_type_id` int(11) NOT NULL,
`info` text NOT NULL,
`note` text DEFAULT NULL,
PRIMARY KEY (`id`) /*T![clustered_index] CLUSTERED */,
KEY `movie_info_idx_mid` (`movie_id`),
KEY `movie_info_idx_infotypeid` (`info_type_id`),
KEY `movie_info_idx_info` (`info`(10)),
KEY `itest` (`movie_id`,`info_type_id`,`info`(20))
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 AUTO_INCREMENT=29774986;
CREATE TABLE `cast_info` (
`id` int(11) NOT NULL AUTO_INCREMENT,
`person_id` int(11) NOT NULL,
`movie_id` int(11) NOT NULL,
`person_role_id` int(11) DEFAULT NULL,
`note` text DEFAULT NULL,
`nr_order` int(11) DEFAULT NULL,
`role_id` int(11) NOT NULL,
PRIMARY KEY (`id`) /*T![clustered_index] CLUSTERED */,
KEY `cast_info_idx_pid` (`person_id`),
KEY `cast_info_idx_mid` (`movie_id`),
KEY `cast_info_idx_cid` (`person_role_id`),
KEY `cast_info_idx_rid` (`role_id`),
KEY `itest` (`person_id`,`movie_id`,`person_role_id`),
KEY `itest2` (`nr_order`,`person_role_id`,`note`(20))
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 AUTO_INCREMENT=63475837;
load stats 's/imdbload_stats/kind_type.json';
load stats 's/imdbload_stats/keyword.json';
load stats 's/imdbload_stats/company_type.json';
load stats 's/imdbload_stats/comp_cast_type.json';
load stats 's/imdbload_stats/complete_cast.json';
load stats 's/imdbload_stats/info_type.json';
load stats 's/imdbload_stats/link_type.json';
load stats 's/imdbload_stats/company_name.json';
load stats 's/imdbload_stats/role_type.json';
load stats 's/imdbload_stats/movie_link.json';
load stats 's/imdbload_stats/aka_title.json';
load stats 's/imdbload_stats/aka_name.json';
load stats 's/imdbload_stats/movie_keyword.json';
load stats 's/imdbload_stats/movie_companies.json';
load stats 's/imdbload_stats/char_name.json';
load stats 's/imdbload_stats/title.json';
load stats 's/imdbload_stats/name.json';
load stats 's/imdbload_stats/person_info.json';
load stats 's/imdbload_stats/movie_info.json';
load stats 's/imdbload_stats/cast_info.json';
explain select * from char_name where ((imdb_index = 'I') and (surname_pcode < 'E436')) or ((imdb_index = 'L') and (surname_pcode < 'E436'));
id	estRows	task	access object	operator info
IndexLookUp_10	1005030.94	root		
├─IndexRangeScan_8(Build)	1005030.94	cop[tikv]	table:char_name, index:itest2(imdb_index, surname_pcode, name_pcode_nf)	range:["I" -inf,"I" "E436"), ["L" -inf,"L" "E436"), keep order:false
└─TableRowIDScan_9(Probe)	1005030.94	cop[tikv]	table:char_name	keep order:false
explain select * from char_name use index (itest2) where ((imdb_index = 'I') and (surname_pcode < 'E436')) or ((imdb_index = 'L') and (surname_pcode < 'E436'));
id	estRows	task	access object	operator info
IndexLookUp_7	1005030.94	root		
├─IndexRangeScan_5(Build)	1005030.94	cop[tikv]	table:char_name, index:itest2(imdb_index, surname_pcode, name_pcode_nf)	range:["I" -inf,"I" "E436"), ["L" -inf,"L" "E436"), keep order:false
└─TableRowIDScan_6(Probe)	1005030.94	cop[tikv]	table:char_name	keep order:false
trace plan target = 'estimation' select * from char_name where ((imdb_index = 'I') and (surname_pcode < 'E436')) or ((imdb_index = 'L') and (surname_pcode < 'E436'));
CE_trace
[{"table_name":"char_name","type":"Column Stats-Point","expr":"((imdb_index = 'I'))","row_count":0},{"table_name":"char_name","type":"Column Stats-Point","expr":"((imdb_index = 'L'))","row_count":0},{"table_name":"char_name","type":"Column Stats-Range","expr":"((id >= -9223372036854775808 and id <= 9223372036854775807))","row_count":4314864},{"table_name":"char_name","type":"Column Stats-Range","expr":"((surname_pcode < 'E436'))","row_count":1005030},{"table_name":"char_name","type":"Index Stats-Range","expr":"((imdb_index = 'I') and (surname_pcode < 'E436')) or ((imdb_index = 'L') and (surname_pcode < 'E436'))","row_count":0},{"table_name":"char_name","type":"Index Stats-Range","expr":"((surname_pcode < 'E436'))","row_count":1005030},{"table_name":"char_name","type":"Table Stats-Expression-CNF","expr":"`or`(`and`(`eq`(imdbload.char_name.imdb_index, 'I'), `lt`(imdbload.char_name.surname_pcode, 'E436')), `and`(`eq`(imdbload.char_name.imdb_index, 'L'), `lt`(imdbload.char_name.surname_pcode, 'E436')))","row_count":804024}]

trace plan target = 'debug' select * from char_name where ((imdb_index = 'I') and (surname_pcode < 'E436')) or ((imdb_index = 'L') and (surname_pcode < 'E436'));
Debug_trace
[{"github.com/pingcap/tidb/planner.Optimize":[{"Enable binding":true,"IsStmtNode":true,"Matched":false,"Matched bindings":null,"Scope":"","Used binding":false},{"github.com/pingcap/tidb/planner.optimize":{"github.com/pingcap/tidb/planner/core.DoOptimize":[{"github.com/pingcap/tidb/planner/core.logicalOptimize":null},{"github.com/pingcap/tidb/planner/core.physicalOptimize":[{"github.com/pingcap/tidb/planner/core.getStatsTable":{"TableName":"char_name","TblInfoID":793,"InputPhysicalID":793,"HandleIsNil":false,"UsePartitionStats":false,"CountIsZero":false,"Uninitialized":false,"Outdated":false,"StatsTblInfo":{"PhysicalID":793,"Version":440762119577403392,"Count":4314864,"ModifyCount":0,"Columns":[{"ID":1,"Name":"id","NDV":4276736,"NullCount":0,"LastUpdateVersion":440762119088242688,"TotColSize":38833776,"Correlation":1,"StatsVer":2,"LoadingStatus":"allLoaded","HistogramSize":256,"TopNSize":-1,"CMSketchInfo":null},{"ID":2,"Name":"name","NDV":4314864,"NullCount":0,"LastUpdateVersion":440762118893731840,"TotColSize":76452423,"Correlation":0.01747643411223884,"StatsVer":2,"LoadingStatus":"allLoaded","HistogramSize":256,"TopNSize":-1,"CMSketchInfo":null},{"ID":3,"Name":"imdb_index","NDV":7,"NullCount":4314816,"LastUpdateVersion":440762118856507392,"TotColSize":151,"Correlation":0,"StatsVer":2,"LoadingStatus":"allLoaded","HistogramSize":0,"TopNSize":-1,"CMSketchInfo":null},{"ID":4,"Name":"imdb_id","NDV":0,"NullCount":4314864,"LastUpdateVersion":440762118853361664,"TotColSize":0,"Correlation":0,"StatsVer":2,"LoadingStatus":"allLoaded","HistogramSize":0,"TopNSize":-1,"CMSketchInfo":null},{"ID":5,"Name":"name_pcode_nf","NDV":23292,"NullCount":725,"LastUpdateVersion":440762118928072704,"TotColSize":28825179,"Correlation":0.021978247423606993,"StatsVer":2,"LoadingStatus":"allLoaded","HistogramSize":252,"TopNSize":500,"CMSketchInfo":null},{"ID":6,"Name":"surname_pcode","NDV":18188,"NullCount":635527,"LastUpdateVersion":440762119003570176,"TotColSize":19893678,"Correlation":0.627387352335874,"StatsVer":2,"LoadingStatus":"allLoaded","HistogramSize":242,"TopNSize":500,"CMSketchInfo":null},{"ID":7,"Name":"md5sum","NDV":4314864,"NullCount":0,"LastUpdateVersion":440762118859390976,"TotColSize":146705376,"Correlation":-0.005017611629539399,"StatsVer":2,"LoadingStatus":"allLoaded","HistogramSize":256,"TopNSize":-1,"CMSketchInfo":null}],"Indexes":[{"ID":1,"Name":"char_name_idx_name","NDV":657024,"NullCount":0,"LastUpdateVersion":440762119421689856,"TotColSize":0,"Correlation":0,"StatsVer":2,"LoadingStatus":"allLoaded","HistogramSize":255,"TopNSize":500,"CMSketchInfo":null},{"ID":2,"Name":"char_name_idx_imdb_id","NDV":0,"NullCount":4314864,"LastUpdateVersion":440762119381581824,"TotColSize":0,"Correlation":0,"StatsVer":2,"LoadingStatus":"allLoaded","HistogramSize":0,"TopNSize":-1,"CMSketchInfo":null},{"ID":3,"Name":"char_name_idx_pcodenf","NDV":23292,"NullCount":725,"LastUpdateVersion":440762119124942848,"TotColSize":0,"Correlation":0,"StatsVer":2,"LoadingStatus":"allLoaded","HistogramSize":252,"TopNSize":500,"CMSketchInfo":null},{"ID":4,"Name":"char_name_idx_pcode","NDV":18188,"NullCount":635527,"LastUpdateVersion":440762119500857344,"TotColSize":0,"Correlation":0,"StatsVer":2,"LoadingStatus":"allLoaded","HistogramSize":242,"TopNSize":500,"CMSketchInfo":null},{"ID":5,"Name":"char_name_idx_md5","NDV":1037312,"NullCount":0,"LastUpdateVersion":440762119386038272,"TotColSize":0,"Correlation":0,"StatsVer":2,"LoadingStatus":"allLoaded","HistogramSize":256,"TopNSize":-1,"CMSketchInfo":null},{"ID":6,"Name":"itest","NDV":1751040,"NullCount":0,"LastUpdateVersion":440762119210401792,"TotColSize":0,"Correlation":0,"StatsVer":2,"LoadingStatus":"allLoaded","HistogramSize":256,"TopNSize":500,"CMSketchInfo":null},{"ID":7,"Name":"itest2","NDV":1739264,"NullCount":0,"LastUpdateVersion":440762119296909312,"TotColSize":0,"Correlation":0,"StatsVer":2,"LoadingStatus":"allLoaded","HistogramSize":256,"TopNSize":500,"CMSketchInfo":null}]}}},{"github.com/pingcap/tidb/planner/core.(*DataSource).DeriveStats":[{"github.com/pingcap/tidb/planner/core.(*DataSource).fillIndexPath":{"github.com/pingcap/tidb/statistics.(*HistColl).GetRowCountByIndexRanges":[{"ID":1,"Ranges":["[NULL,+inf]"]},{"github.com/pingcap/tidb/statistics.(*Index).IsInvalid":{"CollPseudo":false,"IsInvalid":false,"NotAccurate":true,"TotalCount":4314864}},{"Histogram NotNull Count":3102003,"Increase Factor":1,"TopN total count":1212861},{"github.com/pingcap/tidb/statistics.(*Index).GetRowCount":[{"Start estimate range":{"CurrentRowCount":0,"Range":"[NULL,+inf]","LowValueEncoded":"AA==","HighValueEncoded":"+g=="}},{"github.com/pingcap/tidb/statistics.(*Histogram).LessRowCountWithBktIdx":[{"Locate value in buckets":{"Value":"KindBytes \\x00","Exceed":false,"BucketIdx":0,"InBucket":false,"MatchLastValue":false}},{"Related Buckets in Histogram":[{"Index":-1,"Count":-1,"Repeat":-1},{"Index":0,"Count":12121,"Repeat":4}]},{"Bucket idx":0,"Result":0}]},{"github.com/pingcap/tidb/statistics.(*Histogram).LessRowCountWithBktIdx":[{"Locate value in buckets":{"Value":"KindBytes \\xfb","Exceed":true,"BucketIdx":254,"InBucket":false,"MatchLastValue":false}},{"Bucket idx":254,"Result":3102003}]},{"github.com/pingcap/tidb/statistics.(*TopN).BetweenCount":[{"Related TopN Range":{"FirstIdx":0,"FirstEncoded":"AUFhcm9uIAAA/Q==","LastIdx":499,"LastEncoded":"AVpvbWJpZQAA/Q==","Count":[1209,936,1560,1443,1365,6903,1014,1092,3354,3120,2028,2925,1911,1521,2769,2652,1833,1170,1755,897,897,1794,1560,1131,1326,2574,1209,3900,1053,897,2574,1365,1287,3081,1794,1911,975,1248,1599,1365,1716,2613,3120,2106,1599,3042,897,1404,2769,1053,1872,1443,1443,936,858,5304,10257,1404,897,1482,1326,1716,897,1482,975,5733,4173,2418,897,1092,1287,5343,2886,1326,2925,6825,1053,1170,1911,1014,1794,2730,3198,1092,4602,2613,1755,1248,2301,1404,2730,1170,1092,975,1326,897,975,1638,897,5460,2067,897,6201,1248,1677,3861,936,858,1404,13884,1677,1365,3237,1443,897,4836,1248,1599,1677,1092,2262,897,1677,897,1014,897,1131,936,897,1443,1521,1248,1014,858,1131,2925,1170,858,1170,1209,1209,1209,2925,1287,2730,858,936,858,1053,1287,2340,1560,936,2379,897,1092,1092,1365,1326,6864,1248,3588,1716,1287,4017,897,1170,1599,1911,6474,1131,1365,1521,1092,975,1443,2145,1482,1287,2418,5928,858,7995,1287,1365,2028,1014,2847,897,1092,1755,1053,936,1482,1092,1482,858,1053,1131,1326,1365,1287,936,1287,1950,975,1053,4290,1053,3120,2769,4680,1365,1989,60684,145431,1911,1599,1287,1716,936,6162,1560,1950,1248,1560,897,1209,2379,5265,1092,1014,975,2223,897,1521,2262,1170,2340,1755,1014,3744,936,1560,975,1170,1209,3978,1404,975,1131,2535,936,7527,2340,1950,2379,1014,1404,1872,897,1404,1053,858,975,2613,897,1287,1677,1209,1443,1326,2574,3354,1989,936,1053,936,1794,4017,2730,4914,1131,2067,2145,1014,858,6084,2028,1287,4602,936,2106,4914,1989,1092,1482,1872,1170,1716,3159,4212,2496,2379,975,1131,1560,1053,1677,2184,5577,1365,1092,2067,1248,1404,2574,1248,1326,1092,936,5928,2652,1170,975,897,936,1092,1170,1248,1131,1053,3003,3159,1014,1287,3042,3276,1716,1209,1677,1950,1365,1365,1677,3939,1677,1794,3549,1950,1248,1287,975,2106,1482,1716,1131,1404,1326,897,6162,1131,11115,1560,2106,1833,858,1014,858,2808,1989,1209,1014,3822,1248,1092,1053,1053,897,6474,897,3159,1326,858,2340,6747,936,2496,858,5499,2769,1092,1950,4758,9789,1209,1521,1443,1560,858,1716,1482,1287,2028,2847,5733,897,897,7917,975,2652,1131,1326,858,1248,975,1443,2028,1560,936,1404,1716,3744,1131,1716,1248,3588,2652,1014,2262,4329,897,1092,1092,5772,858,1092,2925,897,1092,2808,858,1482,858,2067,1950,1131,1794,1365,1482,3042,1794,858,975,1794,2223,1092,897,1287,1131,1053,1209,897,1482,1365,1794,858,4329,936,3198,897,1053,3510,1365,1014,1014,858,1248,936,4758,1053,2808,1170,897,1950,936,3159,1560,897,1170,858,1482,4290,1209,1014,10140,23400,1326,1014,1911]}},{"Result":1212861}]},{"github.com/pingcap/tidb/statistics.(*Histogram).outOfRangeRowCount":[{"lDatum":"KindBytes \\x00","modifyCount":0,"rDatum":"KindBytes \\xfb"},{"commonPrefix":0,"lScalar":0,"rScalar":18086456103519912000,"unsigned":false},{"boundL":35796206585580800,"boundR":172827219423004930,"histL":81473210864722180,"histR":127150215143863550,"lPercent":1,"rPercent":1,"rowCount":3102003},{"Result":0}]},{"End estimate range":{"RowCount":4314864,"Type":"Range"}}]},{"Name":"char_name_idx_name","Result":4314864}]}},{"github.com/pingcap/tidb/planner/core.(*DataSource).fillIndexPath":{"github.com/pingcap/tidb/statistics.(*HistColl).GetRowCountByIndexRanges":[{"ID":2,"Ranges":["[NULL,+inf]"]},{"github.com/pingcap/tidb/statistics.(*Index).IsInvalid":{"CollPseudo":false,"IsInvalid":false,"NotAccurate":true,"TotalCount":4314864}},{"Histogram NotNull Count":0,"Increase Factor":1,"TopN total count":0},{"github.com/pingcap/tidb/statistics.(*Index).GetRowCount":[{"Start estimate range":{"CurrentRowCount":0,"Range":"[NULL,+inf]","LowValueEncoded":"AA==","HighValueEncoded":"+g=="}},{"github.com/pingcap/tidb/statistics.(*Histogram).LessRowCountWithBktIdx":{"Bucket idx":0,"Result":0}},{"github.com/pingcap/tidb/statistics.(*Histogram).LessRowCountWithBktIdx":{"Bucket idx":0,"Result":0}},{"github.com/pingcap/tidb/statistics.(*TopN).BetweenCount":{"Result":0}},{"End estimate range":{"RowCount":4314864,"Type":"Range"}}]},{"Name":"char_name_idx_imdb_id","Result":4314864}]}},{"github.com/pingcap/tidb/planner/core.(*DataSource).fillIndexPath":{"github.com/pingcap/tidb/statistics.(*HistColl).GetRowCountByIndexRanges":[{"ID":3,"Ranges":["[NULL,+inf]"]},{"github.com/pingcap/tidb/statistics.(*Index).IsInvalid":{"CollPseudo":false,"IsInvalid":false,"NotAccurate":true,"TotalCount":4314864}},{"Histogram NotNull Count":3156502,"Increase Factor":1,"TopN total count":1157637},{"github.com/pingcap/tidb/statistics.(*Index).GetRowCount":[{"Start estimate range":{"CurrentRowCount":0,"Range":"[NULL,+inf]","LowValueEncoded":"AA==","HighValueEncoded":"+g=="}},{"github.com/pingcap/tidb/statistics.(*Histogram).LessRowCountWithBktIdx":[{"Locate value in buckets":{"Value":"KindBytes \\x00","Exceed":false,"BucketIdx":0,"InBucket":false,"MatchLastValue":false}},{"Related Buckets in Histogram":[{"Index":-1,"Count":-1,"Repeat":-1},{"Index":0,"Count":12356,"Repeat":39}]},{"Bucket idx":0,"Result":0}]},{"github.com/pingcap/tidb/statistics.(*Histogram).LessRowCountWithBktIdx":[{"Locate value in buckets":{"Value":"KindBytes \\xfb","Exceed":true,"BucketIdx":251,"InBucket":false,"MatchLastValue":false}},{"Bucket idx":251,"Result":3156502}]},{"github.com/pingcap/tidb/statistics.(*TopN).BetweenCount":[{"Related TopN Range":{"FirstIdx":0,"FirstEncoded":"AUEyAAAAAAAA+Q==","LastIdx":499,"LastEncoded":"AVk1MjYyAAAA/A==","Count":[1794,3393,1560,1131,1521,1716,3042,2067,1209,1482,1170,1638,5733,1131,1404,1911,5343,1716,1287,2457,1911,1404,1248,1521,1365,1248,1326,2457,3003,2106,1287,1560,2028,5811,1170,1989,1716,1287,1599,1326,1755,1209,1404,1209,1209,2106,1209,1599,1209,1209,1248,1716,1677,1209,1599,1599,1287,1404,1950,1131,2145,1833,1170,2379,1131,3315,4953,2145,1170,1755,1560,1482,1248,1248,1404,1131,1248,1677,1911,1599,1638,1209,1599,1521,1560,1404,1560,1833,2496,1170,1209,1248,2028,1170,6201,1599,1248,2925,3276,1326,2769,1716,1209,1833,1599,2184,1209,1404,2340,2340,4758,1482,2067,14664,1131,1794,1209,1131,1209,1248,3003,1677,1326,1287,1092,1170,2262,1911,1677,1482,1092,1248,6240,1248,1482,1404,3510,2223,2457,1521,1248,1209,1287,1287,1170,1326,1092,1755,1170,1170,1560,1209,1131,1521,4641,1092,1092,1170,1755,1521,1404,1677,2184,1638,2925,5499,4524,3315,4641,3276,1404,1209,1326,1287,2067,1131,1131,1404,1482,2223,2535,1911,1092,1521,1092,1560,1638,1677,1521,2106,1638,1521,1248,1248,145704,1326,1131,2613,1131,1911,60879,1599,1287,1365,7371,1326,1170,1872,1287,1248,1404,1131,1092,1404,1092,1482,2379,1638,1755,3354,2301,1131,1287,1443,1404,1131,2262,3939,1989,1092,1092,1872,1365,1560,1248,1131,1287,1131,1131,2067,1365,1209,1092,1404,1092,1833,1521,1482,1911,2184,2925,2067,1404,1131,1170,1755,1365,1248,1170,1092,1638,1911,1248,2496,1131,1833,1872,1092,1443,1482,5265,1092,1170,1209,1950,1131,1287,3510,1404,1482,1482,1599,1560,2028,3042,1677,1638,1794,2223,1794,1326,1131,1209,1170,1560,1599,1209,1638,1131,1326,2769,2301,1560,2535,1911,1833,1755,1131,1443,1638,1092,1482,1599,1638,1287,1638,3705,2769,1521,3315,2613,5460,1443,2223,4212,1989,2847,3783,1911,2769,3939,2730,3237,1911,2886,1755,7878,4485,2301,3744,2652,4212,6318,1677,3276,1287,1170,1677,1170,2184,4056,1365,1287,1482,1209,1677,1092,1209,1209,1989,1443,1989,2262,3588,2379,1872,1560,1209,1092,1443,1131,1209,1794,1404,1209,2691,1794,1326,1131,1599,2262,1131,1638,10647,4095,1209,2379,2418,1638,1326,5109,2067,1989,1287,2223,3003,1521,1950,2925,3081,2925,1638,2262,1092,1716,3042,1521,1248,1404,1560,1131,1950,1443,1131,1326,3120,1209,1482,1638,1443,1716,1404,2418,1365,2379,1365,1638,1131,2262,1638,1131,1950,3627,1092,1170,1794,4095,1131,1209,1404,1131,1170,1911,1755,1092,2457,2847,1638,4017,1131,1482,1092,1287,1677,2262,1092,1170,1287,1170,6435,2886,1209,1755,1170,1599,1092,3471,1794,1209,2340,1287,2184,1521,1482,1287,2106,1170,2106,1092,1443,1482,1131,1599,2301,1287,2730,1131,1560,1170,1677,1209,1794,1170,1638,1131,1404,2769,2067,1248,1560]}},{"Result":1157637}]},{"github.com/pingcap/tidb/statistics.(*Histogram).outOfRangeRowCount":[{"lDatum":"KindBytes \\x00","modifyCount":0,"rDatum":"KindBytes \\xfb"},{"commonPrefix":0,"lScalar":0,"rScalar":18086456103519912000,"unsigned":false},{"boundL":83256990935875580,"boundR":104546420700610560,"histL":90353467524120580,"histR":97449944112365570,"lPercent":1,"rPercent":1,"rowCount":3156502},{"Result":0}]},{"End estimate range":{"RowCount":4314864,"Type":"Range"}}]},{"Name":"char_name_idx_pcodenf","Result":4314864}]}},{"github.com/pingcap/tidb/planner/core.(*DataSource).fillIndexPath":{"github.com/pingcap/tidb/statistics.(*HistColl).GetRowCountByIndexRanges":[{"ID":4,"Ranges":["[-inf,\"E436\")"]},{"github.com/pingcap/tidb/statistics.(*Index).IsInvalid":{"CollPseudo":false,"IsInvalid":false,"NotAccurate":true,"TotalCount":4314864}},{"Histogram NotNull Count":1551770,"Increase Factor":1,"TopN total count":2127567},{"github.com/pingcap/tidb/statistics.(*Index).GetRowCount":[{"Start estimate range":{"CurrentRowCount":0,"Range":"[-inf,\"E436\")","LowValueEncoded":"AQ==","HighValueEncoded":"AUU0MzYAAAAA+w=="}},{"github.com/pingcap/tidb/statistics.(*Histogram).LessRowCountWithBktIdx":[{"Locate value in buckets":{"Value":"KindBytes \\x01","Exceed":false,"BucketIdx":0,"InBucket":false,"MatchLastValue":false}},{"Related Buckets in Histogram":[{"Index":-1,"Count":-1,"Repeat":-1},{"Index":0,"Count":6373,"Repeat":820}]},{"Bucket idx":0,"Result":0}]},{"github.com/pingcap/tidb/statistics.(*Histogram).LessRowCountWithBktIdx":[{"Locate value in buckets":{"Value":"KindBytes \\x01E436\\x00\\x00\\x00\\x00\\xfb","Exceed":false,"BucketIdx":63,"InBucket":true,"MatchLastValue":false}},{"Related Buckets in Histogram":[{"Index":62,"Count":402182,"Repeat":508},{"Index":63,"Count":408635,"Repeat":1132}]},{"Bucket idx":63,"Result":402207.9374524628}]},{"github.com/pingcap/tidb/statistics.(*TopN).BetweenCount":[{"Related TopN Range":{"FirstIdx":0,"FirstEncoded":"AUEAAAAAAAAA+A==","LastIdx":139,"LastEncoded":"AUU0MgAAAAAA+g==","Count":[2886,4602,2106,2418,7644,2145,1716,2925,5070,1911,3354,2535,2262,2574,1833,3198,3471,4095,1794,4407,3042,4992,1794,1872,13962,5070,19032,1950,3081,2418,5031,5070,7020,2886,1833,3003,2106,9126,7098,1950,4251,2730,1677,1794,7410,7371,1911,1638,6552,11505,15366,2145,1950,3393,3120,8502,2574,3471,2262,6162,12246,5148,1833,4251,5070,10452,2028,2925,2535,2067,3042,13728,2769,1755,3627,3510,1872,4134,1989,4602,4329,3783,5694,5187,3003,2067,2964,6630,8502,2574,5772,3315,1716,5733,1794,9048,8658,1638,1677,1950,2145,3705,2613,3978,3861,6981,4524,3003,4953,2769,1872,12480,12597,4758,2067,10608,1833,4953,2106,3081,1989,11193,7644,1755,5265,1989,1638,2496,3549,7722,3666,4797,1638,3393,2028,1833,3003,1989,1872,1794]}},{"Result":602823}]},{"End estimate range":{"RowCount":1005030.9374524627,"Type":"Range"}}]},{"Name":"char_name_idx_pcode","Result":1005030.9374524627}]}},{"github.com/pingcap/tidb/planner/core.(*DataSource).fillIndexPath":{"github.com/pingcap/tidb/statistics.(*HistColl).GetRowCountByIndexRanges":[{"ID":5,"Ranges":["[NULL,+inf]"]},{"github.com/pingcap/tidb/statistics.(*Index).IsInvalid":{"CollPseudo":false,"IsInvalid":false,"NotAccurate":true,"TotalCount":4314864}},{"Histogram NotNull Count":4314864,"Increase Factor":1,"TopN total count":0},{"github.com/pingcap/tidb/statistics.(*Index).GetRowCount":[{"Start estimate range":{"CurrentRowCount":0,"Range":"[NULL,+inf]","LowValueEncoded":"AA==","HighValueEncoded":"+g=="}},{"github.com/pingcap/tidb/statistics.(*Histogram).LessRowCountWithBktIdx":[{"Locate value in buckets":{"Value":"KindBytes \\x00","Exceed":false,"BucketIdx":0,"InBucket":false,"MatchLastValue":false}},{"Related Buckets in Histogram":[{"Index":-1,"Count":-1,"Repeat":-1},{"Index":0,"Count":16879,"Repeat":4}]},{"Bucket idx":0,"Result":0}]},{"github.com/pingcap/tidb/statistics.(*Histogram).LessRowCountWithBktIdx":[{"Locate value in buckets":{"Value":"KindBytes \\xfb","Exceed":true,"BucketIdx":255,"InBucket":false,"MatchLastValue":false}},{"Bucket idx":255,"Result":4314864}]},{"github.com/pingcap/tidb/statistics.(*TopN).BetweenCount":{"Result":0}},{"github.com/pingcap/tidb/statistics.(*Histogram).outOfRangeRowCount":[{"lDatum":"KindBytes \\x00","modifyCount":0,"rDatum":"KindBytes \\xfb"},{"commonPrefix":0,"lScalar":0,"rScalar":18086456103519912000,"unsigned":false},{"boundL":70362121240379390,"boundR":116139886854995970,"histL":85621376445251580,"histR":100880631650123780,"lPercent":1,"rPercent":1,"rowCount":4314864},{"Result":0}]},{"End estimate range":{"RowCount":4314864,"Type":"Range"}}]},{"Name":"char_name_idx_md5","Result":4314864}]}},{"github.com/pingcap/tidb/planner/core.(*DataSource).fillIndexPath":{"github.com/pingcap/tidb/statistics.(*HistColl).GetRowCountByIndexRanges":[{"ID":6,"Ranges":["[NULL,+inf]"]},{"github.com/pingcap/tidb/statistics.(*Index).IsInvalid":{"CollPseudo":false,"IsInvalid":false,"NotAccurate":true,"TotalCount":4314864}},{"Histogram NotNull Count":4039602,"Increase Factor":1,"TopN total count":275262},{"github.com/pingcap/tidb/statistics.(*Index).GetRowCount":[{"Start estimate range":{"CurrentRowCount":0,"Range":"[NULL,+inf]","LowValueEncoded":"AA==","HighValueEncoded":"+g=="}},{"github.com/pingcap/tidb/statistics.(*Histogram).LessRowCountWithBktIdx":[{"Locate value in buckets":{"Value":"KindBytes \\x00","Exceed":false,"BucketIdx":0,"InBucket":false,"MatchLastValue":false}},{"Related Buckets in Histogram":[{"Index":-1,"Count":-1,"Repeat":-1},{"Index":0,"Count":15787,"Repeat":2}]},{"Bucket idx":0,"Result":0}]},{"github.com/pingcap/tidb/statistics.(*Histogram).LessRowCountWithBktIdx":[{"Locate value in buckets":{"Value":"KindBytes \\xfb","Exceed":true,"BucketIdx":255,"InBucket":false,"MatchLastValue":false}},{"Bucket idx":255,"Result":4039602}]},{"github.com/pingcap/tidb/statistics.(*TopN).BetweenCount":[{"Related TopN Range":{"FirstIdx":0,"FirstEncoded":"AAAA","LastIdx":499,"LastEncoded":"AVo1MgAAAAAA+gAA","Count":[819,312,1287,741,312,507,429,351,858,390,585,819,351,507,390,312,312,585,312,1131,351,351,312,585,390,780,351,624,624,312,1014,429,507,429,312,1443,663,780,312,624,507,429,1053,312,1170,351,351,702,702,312,351,468,468,546,429,351,741,1053,585,351,780,312,741,312,429,390,312,312,429,351,468,351,1677,312,390,975,351,702,351,351,858,702,312,351,351,312,741,468,390,936,585,390,468,624,390,390,507,351,390,702,429,468,585,312,468,624,663,429,351,897,312,624,351,546,351,858,819,312,429,546,312,702,6396,351,507,312,663,351,429,390,351,312,1248,312,819,312,546,312,2028,819,390,702,351,1170,312,429,780,390,390,546,390,429,1131,1677,390,507,741,351,663,312,546,312,663,624,507,741,312,312,468,312,546,312,507,1170,780,312,468,819,429,507,429,702,624,624,468,312,312,936,468,585,351,624,936,312,858,546,507,312,390,312,312,312,390,351,507,429,663,351,390,468,780,312,351,390,507,3354,351,429,429,819,546,390,312,351,468,1092,312,312,351,312,312,351,390,663,702,819,390,468,351,351,351,429,351,1170,468,312,312,273,975,312,429,897,351,351,429,312,273,312,312,273,312,390,390,312,468,1365,273,780,351,624,663,351,390,468,312,273,663,351,975,312,390,273,780,273,312,585,273,390,468,468,273,1794,312,429,702,663,273,468,390,351,273,1014,780,351,429,390,351,390,429,390,2925,468,312,273,273,1053,858,312,1326,273,273,312,273,273,741,312,273,702,858,273,351,546,702,351,390,702,1326,273,1521,351,468,429,390,1014,273,1599,312,273,273,546,312,468,312,312,351,312,624,312,273,858,312,273,312,390,312,1482,312,273,351,351,429,273,663,390,273,390,273,702,390,585,1287,390,312,312,663,390,507,468,741,429,351,273,429,702,390,585,312,429,507,390,312,507,546,351,273,741,429,390,351,351,390,1950,390,312,273,507,975,546,507,507,273,1209,897,312,390,936,507,273,351,429,663,390,273,2457,273,585,273,273,702,312,273,1326,312,741,312,546,312,312,858,429,663,312,468,390,390,390,546,741,429,429,507,1794,1365,468,780,351,429,858,312,624,741,1677,351,351,663,390,429,312,1131,1404,351,312,351,507,1365,312,312,429,1053,312,702,351,546,780,351,390,546,702,312,468]}},{"Result":275262}]},{"github.com/pingcap/tidb/statistics.(*Histogram).outOfRangeRowCount":[{"lDatum":"KindBytes \\x00","modifyCount":0,"rDatum":"KindBytes \\xfb"},{"commonPrefix":0,"lScalar":0,"rScalar":18086456103519912000,"unsigned":false},{"boundL":83256990935875580,"boundR":104546420700610560,"histL":90353467524120580,"histR":97449944112365570,"lPercent":1,"rPercent":1,"rowCount":4039602},{"Result":0}]},{"End estimate range":{"RowCount":4314864,"Type":"Range"}}]},{"Name":"itest","Result":4314864}]}},{"github.com/pingcap/tidb/planner/core.(*DataSource).fillIndexPath":{"github.com/pingcap/tidb/statistics.(*HistColl).GetRowCountByIndexRanges":[{"ID":7,"Ranges":["[\"I\" -inf,\"I\" \"E436\")","[\"L\" -inf,\"L\" \"E436\")"]},{"github.com/pingcap/tidb/statistics.(*Index).IsInvalid":{"CollPseudo":false,"IsInvalid":false,"NotAccurate":true,"TotalCount":4314864}},{"Histogram NotNull Count":4039602,"Increase Factor":1,"TopN total count":275262},{"github.com/pingcap/tidb/statistics.(*Index).GetRowCount":[{"Start estimate range":{"CurrentRowCount":0,"Range":"[\"I\" -inf,\"I\" \"E436\")","LowValueEncoded":"AUkAAAAAAAAA+AE=","HighValueEncoded":"AUkAAAAAAAAA+AFFNDM2AAAAAPs="}},{"github.com/pingcap/tidb/statistics.(*Index).expBackoffEstimation":[{"github.com/pingcap/tidb/statistics.(*Column).IsInvalid":{"EssentialLoaded":true,"InValidForCollPseudo":false,"IsInvalid":false,"NDV":7,"TotalCount":4314816}},{"github.com/pingcap/tidb/statistics.(*HistColl).GetRowCountByColumnRanges":[{"ID":3,"Ranges":["[\"I\",\"I\"]"]},{"github.com/pingcap/tidb/statistics.(*Column).IsInvalid":{"EssentialLoaded":true,"InValidForCollPseudo":false,"IsInvalid":false,"NDV":7,"TotalCount":4314816}},{"Histogram NotNull Count":0,"Increase Factor":1.0000111244604637,"TopN total count":0},{"github.com/pingcap/tidb/statistics.(*Column).GetColumnRowCount":[{"Start estimate range":{"CurrentRowCount":0,"Range":"[\"I\",\"I\"]","LowValueEncoded":"AUkAAAAAAAAA+A==","HighValueEncoded":"AUkAAAAAAAAA+A=="}},{"github.com/pingcap/tidb/statistics.(*Column).equalRowCount":[{"Encoded":"AUkAAAAAAAAA+A==","Value":"KindBytes I"},{"Error":null,"Result":0}]},{"End estimate range":{"RowCount":0,"Type":"Point"}}]},{"Name":"imdb_index","Result":0}]},{"github.com/pingcap/tidb/statistics.(*Column).IsInvalid":{"EssentialLoaded":true,"InValidForCollPseudo":false,"IsInvalid":false,"NDV":18188,"TotalCount":4314864}},{"github.com/pingcap/tidb/statistics.(*HistColl).GetRowCountByColumnRanges":[{"ID":6,"Ranges":["[-inf,\"E436\")"]},{"github.com/pingcap/tidb/statistics.(*Column).IsInvalid":{"EssentialLoaded":true,"InValidForCollPseudo":false,"IsInvalid":false,"NDV":18188,"TotalCount":4314864}},{"Histogram NotNull Count":1551770,"Increase Factor":1,"TopN total count":2127567},{"github.com/pingcap/tidb/statistics.(*Column).GetColumnRowCount":[{"Start estimate range":{"CurrentRowCount":0,"Range":"[-inf,\"E436\")","LowValueEncoded":"AQ==","HighValueEncoded":"AUU0MzYAAAAA+w=="}},{"github.com/pingcap/tidb/statistics.(*Histogram).LessRowCountWithBktIdx":[{"Locate value in buckets":{"Value":"KindMinNotNull <nil>","Exceed":false,"BucketIdx":0,"InBucket":false,"MatchLastValue":false}},{"Related Buckets in Histogram":[{"Index":-1,"Count":-1,"Repeat":-1},{"Index":0,"Count":6373,"Repeat":820}]},{"Bucket idx":0,"Result":0}]},{"github.com/pingcap/tidb/statistics.(*Histogram).LessRowCountWithBktIdx":[{"Locate value in buckets":{"Value":"KindBytes E436","Exceed":false,"BucketIdx":63,"InBucket":true,"MatchLastValue":false}},{"Related Buckets in Histogram":[{"Index":62,"Count":402182,"Repeat":508},{"Index":63,"Count":408635,"Repeat":1132}]},{"Bucket idx":63,"Result":402207.9374524628}]},{"github.com/pingcap/tidb/statistics.(*TopN).BetweenCount":[{"Related TopN Range":{"FirstIdx":0,"FirstEncoded":"AUEAAAAAAAAA+A==","LastIdx":139,"LastEncoded":"AUU0MgAAAAAA+g==","Count":[2886,4602,2106,2418,7644,2145,1716,2925,5070,1911,3354,2535,2262,2574,1833,3198,3471,4095,1794,4407,3042,4992,1794,1872,13962,5070,19032,1950,3081,2418,5031,5070,7020,2886,1833,3003,2106,9126,7098,1950,4251,2730,1677,1794,7410,7371,1911,1638,6552,11505,15366,2145,1950,3393,3120,8502,2574,3471,2262,6162,12246,5148,1833,4251,5070,10452,2028,2925,2535,2067,3042,13728,2769,1755,3627,3510,1872,4134,1989,4602,4329,3783,5694,5187,3003,2067,2964,6630,8502,2574,5772,3315,1716,5733,1794,9048,8658,1638,1677,1950,2145,3705,2613,3978,3861,6981,4524,3003,4953,2769,1872,12480,12597,4758,2067,10608,1833,4953,2106,3081,1989,11193,7644,1755,5265,1989,1638,2496,3549,7722,3666,4797,1638,3393,2028,1833,3003,1989,1872,1794]}},{"Result":602823}]},{"github.com/pingcap/tidb/statistics.(*Histogram).outOfRangeRowCount":[{"lDatum":"KindMinNotNull <nil>","modifyCount":0,"rDatum":"KindBytes E436"},{"commonPrefix":0,"lScalar":-1.7976931348623157e+308,"rScalar":4986666994427232000,"unsigned":false},{"boundL":2894630154447880000,"boundR":8303347350076654000,"histL":4697535886324138000,"histR":6500441618200396000,"lPercent":1,"rPercent":0,"rowCount":775885},{"Result":0}]},{"End estimate range":{"RowCount":1005030.9374524627,"Type":"Range"}}]},{"Name":"surname_pcode","Result":1005030.9374524627}]},{"Result":0,"Success":true,"error":null}]},{"Locate value in buckets":{"Value":"KindBytes \\x01I\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\xf8\\x01","Exceed":true,"BucketIdx":255,"InBucket":false,"MatchLastValue":false}},{"Locate value in buckets":{"Value":"KindBytes \\x01I\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\xf8\\x01E436\\x00\\x00\\x00\\x00\\xfb","Exceed":true,"BucketIdx":255,"InBucket":false,"MatchLastValue":false}},{"Related Buckets in Histogram":[{"Index":254,"Count":4027987,"Repeat":2},{"Index":255,"Count":4039602,"Repeat":2}]},{"github.com/pingcap/tidb/statistics.(*TopN).BetweenCount":[{"Related TopN Range":{"FirstIdx":500,"FirstEncoded":null,"LastIdx":499,"LastEncoded":"AAFXMQAAAAAAAPkBSDYyNDEAAAD8","Count":[]}},{"Result":0}]},{"github.com/pingcap/tidb/statistics.(*Histogram).outOfRangeRowCount":[{"lDatum":"KindBytes \\x01I\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\xf8\\x01","modifyCount":0,"rDatum":"KindBytes \\x01I\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\xf8\\x01E436\\x00\\x00\\x00\\x00\\xfb"},{"commonPrefix":0,"lScalar":92605267337805820,"rScalar":92605267337805820,"unsigned":false},{"Result":0}]},{"End estimate range":{"RowCount":0,"Type":"Range"}},{"Start estimate range":{"CurrentRowCount":0,"Range":"[\"L\" -inf,\"L\" \"E436\")","LowValueEncoded":"AUwAAAAAAAAA+AE=","HighValueEncoded":"AUwAAAAAAAAA+AFFNDM2AAAAAPs="}},{"github.com/pingcap/tidb/statistics.(*Index).expBackoffEstimation":[{"github.com/pingcap/tidb/statistics.(*Column).IsInvalid":{"EssentialLoaded":true,"InValidForCollPseudo":false,"IsInvalid":false,"NDV":7,"TotalCount":4314816}},{"github.com/pingcap/tidb/statistics.(*HistColl).GetRowCountByColumnRanges":[{"ID":3,"Ranges":["[\"L\",\"L\"]"]},{"github.com/pingcap/tidb/statistics.(*Column).IsInvalid":{"EssentialLoaded":true,"InValidForCollPseudo":false,"IsInvalid":false,"NDV":7,"TotalCount":4314816}},{"Histogram NotNull Count":0,"Increase Factor":1.0000111244604637,"TopN total count":0},{"github.com/pingcap/tidb/statistics.(*Column).GetColumnRowCount":[{"Start estimate range":{"CurrentRowCount":0,"Range":"[\"L\",\"L\"]","LowValueEncoded":"AUwAAAAAAAAA+A==","HighValueEncoded":"AUwAAAAAAAAA+A=="}},{"github.com/pingcap/tidb/statistics.(*Column).equalRowCount":[{"Encoded":"AUwAAAAAAAAA+A==","Value":"KindBytes L"},{"Error":null,"Result":0}]},{"End estimate range":{"RowCount":0,"Type":"Point"}}]},{"Name":"imdb_index","Result":0}]},{"github.com/pingcap/tidb/statistics.(*Column).IsInvalid":{"EssentialLoaded":true,"InValidForCollPseudo":false,"IsInvalid":false,"NDV":18188,"TotalCount":4314864}},{"github.com/pingcap/tidb/statistics.(*HistColl).GetRowCountByColumnRanges":[{"ID":6,"Ranges":["[-inf,\"E436\")"]},{"github.com/pingcap/tidb/statistics.(*Column).IsInvalid":{"EssentialLoaded":true,"InValidForCollPseudo":false,"IsInvalid":false,"NDV":18188,"TotalCount":4314864}},{"Histogram NotNull Count":1551770,"Increase Factor":1,"TopN total count":2127567},{"github.com/pingcap/tidb/statistics.(*Column).GetColumnRowCount":[{"Start estimate range":{"CurrentRowCount":0,"Range":"[-inf,\"E436\")","LowValueEncoded":"AQ==","HighValueEncoded":"AUU0MzYAAAAA+w=="}},{"github.com/pingcap/tidb/statistics.(*Histogram).LessRowCountWithBktIdx":[{"Locate value in buckets":{"Value":"KindMinNotNull <nil>","Exceed":false,"BucketIdx":0,"InBucket":false,"MatchLastValue":false}},{"Related Buckets in Histogram":[{"Index":-1,"Count":-1,"Repeat":-1},{"Index":0,"Count":6373,"Repeat":820}]},{"Bucket idx":0,"Result":0}]},{"github.com/pingcap/tidb/statistics.(*Histogram).LessRowCountWithBktIdx":[{"Locate value in buckets":{"Value":"KindBytes E436","Exceed":false,"BucketIdx":63,"InBucket":true,"MatchLastValue":false}},{"Related Buckets in Histogram":[{"Index":62,"Count":402182,"Repeat":508},{"Index":63,"Count":408635,"Repeat":1132}]},{"Bucket idx":63,"Result":402207.9374524628}]},{"github.com/pingcap/tidb/statistics.(*TopN).BetweenCount":[{"Related TopN Range":{"FirstIdx":0,"FirstEncoded":"AUEAAAAAAAAA+A==","LastIdx":139,"LastEncoded":"AUU0MgAAAAAA+g==","Count":[2886,4602,2106,2418,7644,2145,1716,2925,5070,1911,3354,2535,2262,2574,1833,3198,3471,4095,1794,4407,3042,4992,1794,1872,13962,5070,19032,1950,3081,2418,5031,5070,7020,2886,1833,3003,2106,9126,7098,1950,4251,2730,1677,1794,7410,7371,1911,1638,6552,11505,15366,2145,1950,3393,3120,8502,2574,3471,2262,6162,12246,5148,1833,4251,5070,10452,2028,2925,2535,2067,3042,13728,2769,1755,3627,3510,1872,4134,1989,4602,4329,3783,5694,5187,3003,2067,2964,6630,8502,2574,5772,3315,1716,5733,1794,9048,8658,1638,1677,1950,2145,3705,2613,3978,3861,6981,4524,3003,4953,2769,1872,12480,12597,4758,2067,10608,1833,4953,2106,3081,1989,11193,7644,1755,5265,1989,1638,2496,3549,7722,3666,4797,1638,3393,2028,1833,3003,1989,1872,1794]}},{"Result":602823}]},{"github.com/pingcap/tidb/statistics.(*Histogram).outOfRangeRowCount":[{"lDatum":"KindMinNotNull <nil>","modifyCount":0,"rDatum":"KindBytes E436"},{"commonPrefix":0,"lScalar":-1.7976931348623157e+308,"rScalar":4986666994427232000,"unsigned":false},{"boundL":2894630154447880000,"boundR":8303347350076654000,"histL":4697535886324138000,"histR":6500441618200396000,"lPercent":1,"rPercent":0,"rowCount":775885},{"Result":0}]},{"End estimate range":{"RowCount":1005030.9374524627,"Type":"Range"}}]},{"Name":"surname_pcode","Result":1005030.9374524627}]},{"Result":0,"Success":true,"error":null}]},{"Locate value in buckets":{"Value":"KindBytes \\x01L\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\xf8\\x01","Exceed":true,"BucketIdx":255,"InBucket":false,"MatchLastValue":false}},{"Locate value in buckets":{"Value":"KindBytes \\x01L\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\xf8\\x01E436\\x00\\x00\\x00\\x00\\xfb","Exceed":true,"BucketIdx":255,"InBucket":false,"MatchLastValue":false}},{"Related Buckets in Histogram":[{"Index":254,"Count":4027987,"Repeat":2},{"Index":255,"Count":4039602,"Repeat":2}]},{"github.com/pingcap/tidb/statistics.(*TopN).BetweenCount":[{"Related TopN Range":{"FirstIdx":500,"FirstEncoded":null,"LastIdx":499,"LastEncoded":"AAFXMQAAAAAAAPkBSDYyNDEAAAD8","Count":[]}},{"Result":0}]},{"github.com/pingcap/tidb/statistics.(*Histogram).outOfRangeRowCount":[{"lDatum":"KindBytes \\x01L\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\xf8\\x01","modifyCount":0,"rDatum":"KindBytes \\x01L\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\xf8\\x01E436\\x00\\x00\\x00\\x00\\xfb"},{"commonPrefix":0,"lScalar":93449692267937800,"rScalar":93449692267937800,"unsigned":false},{"Result":0}]},{"End estimate range":{"RowCount":0,"Type":"Range"}}]},{"Name":"itest2","Result":0}]}},{"github.com/pingcap/tidb/planner/core.(*DataSource).deriveStatsByFilter":{"github.com/pingcap/tidb/statistics.(*HistColl).Selectivity":[{"Input Expressions":["or(and(eq(imdbload.char_name.imdb_index, I), lt(imdbload.char_name.surname_pcode, E436)), and(eq(imdbload.char_name.imdb_index, L), lt(imdbload.char_name.surname_pcode, E436)))"]},{"github.com/pingcap/tidb/statistics.(*HistColl).GetRowCountByColumnRanges":[{"ID":3,"Ranges":["[NULL,+inf]"]},{"github.com/pingcap/tidb/statistics.(*Column).IsInvalid":{"EssentialLoaded":true,"InValidForCollPseudo":false,"IsInvalid":false,"NDV":7,"TotalCount":4314816}},{"Histogram NotNull Count":0,"Increase Factor":1.0000111244604637,"TopN total count":0},{"github.com/pingcap/tidb/statistics.(*Column).GetColumnRowCount":[{"Start estimate range":{"CurrentRowCount":0,"Range":"[NULL,+inf]","LowValueEncoded":"AA==","HighValueEncoded":"+g=="}},{"github.com/pingcap/tidb/statistics.(*Histogram).LessRowCountWithBktIdx":{"Bucket idx":0,"Result":0}},{"github.com/pingcap/tidb/statistics.(*Histogram).LessRowCountWithBktIdx":{"Bucket idx":0,"Result":0}},{"github.com/pingcap/tidb/statistics.(*TopN).BetweenCount":{"Result":0}},{"End estimate range":{"RowCount":4314864,"Type":"Range"}}]},{"Name":"imdb_index","Result":4314864}]},{"github.com/pingcap/tidb/statistics.(*HistColl).GetRowCountByColumnRanges":[{"ID":6,"Ranges":["[NULL,+inf]"]},{"github.com/pingcap/tidb/statistics.(*Column).IsInvalid":{"EssentialLoaded":true,"InValidForCollPseudo":false,"IsInvalid":false,"NDV":18188,"TotalCount":4314864}},{"Histogram NotNull Count":1551770,"Increase Factor":1,"TopN total count":2127567},{"github.com/pingcap/tidb/statistics.(*Column).GetColumnRowCount":[{"Start estimate range":{"CurrentRowCount":0,"Range":"[NULL,+inf]","LowValueEncoded":"AA==","HighValueEncoded":"+g=="}},{"github.com/pingcap/tidb/statistics.(*Histogram).LessRowCountWithBktIdx":[{"Locate value in buckets":{"Value":"KindNull <nil>","Exceed":false,"BucketIdx":0,"InBucket":false,"MatchLastValue":false}},{"Related Buckets in Histogram":[{"Index":-1,"Count":-1,"Repeat":-1},{"Index":0,"Count":6373,"Repeat":820}]},{"Bucket idx":0,"Result":0}]},{"github.com/pingcap/tidb/statistics.(*Histogram).LessRowCountWithBktIdx":[{"Locate value in buckets":{"Value":"KindMaxValue <nil>","Exceed":true,"BucketIdx":241,"InBucket":false,"MatchLastValue":false}},{"Bucket idx":241,"Result":1551770}]},{"github.com/pingcap/tidb/statistics.(*TopN).BetweenCount":[{"Related TopN Range":{"FirstIdx":0,"FirstEncoded":"AUEAAAAAAAAA+A==","LastIdx":499,"LastEncoded":"AVo1MQAAAAAA+g==","Count":[2886,4602,2106,2418,7644,2145,1716,2925,5070,1911,3354,2535,2262,2574,1833,3198,3471,4095,1794,4407,3042,4992,1794,1872,13962,5070,19032,1950,3081,2418,5031,5070,7020,2886,1833,3003,2106,9126,7098,1950,4251,2730,1677,1794,7410,7371,1911,1638,6552,11505,15366,2145,1950,3393,3120,8502,2574,3471,2262,6162,12246,5148,1833,4251,5070,10452,2028,2925,2535,2067,3042,13728,2769,1755,3627,3510,1872,4134,1989,4602,4329,3783,5694,5187,3003,2067,2964,6630,8502,2574,5772,3315,1716,5733,1794,9048,8658,1638,1677,1950,2145,3705,2613,3978,3861,6981,4524,3003,4953,2769,1872,12480,12597,4758,2067,10608,1833,4953,2106,3081,1989,11193,7644,1755,5265,1989,1638,2496,3549,7722,3666,4797,1638,3393,2028,1833,3003,1989,1872,1794,2769,2028,5694,1989,3081,3042,16419,2106,3588,2535,2535,5187,4680,2457,7410,4056,2145,3900,2067,5070,5538,12090,12831,2964,6318,4602,2145,2652,3432,2574,1911,4953,4251,5811,4095,8073,2301,13221,2730,20826,3978,7137,2535,1950,2964,3393,1716,2145,11310,3939,4407,4134,2535,2106,5265,2301,1833,6747,1989,2457,4680,6474,6591,3081,1911,2067,2028,2730,5031,1638,4914,3432,5148,2652,1755,1677,3471,6318,1833,3432,1872,7371,13416,7176,6201,2301,2028,1911,6630,2691,1872,7137,1677,3978,2964,2301,3081,8580,6825,2457,3627,2028,2340,4914,2457,7449,4641,4602,2301,3237,14118,2028,4017,1638,7371,2418,2145,5460,2535,10569,1872,8229,2184,1794,5772,1794,1638,4329,2067,17433,2691,1872,2184,4524,1989,2535,11115,3354,4680,2067,8736,6123,2301,2808,1677,20319,4602,3549,4446,6201,36699,6825,6630,2535,2340,7059,3549,2847,2223,14586,12675,2106,4719,3237,4329,2769,2808,4953,3393,1638,7605,2496,1833,2457,1872,4836,1950,1872,4173,2067,1794,7683,2262,3198,3237,5304,2652,3120,9867,2301,2067,4719,2184,2301,1638,1911,3081,2886,3042,5265,6201,2379,5850,2067,3588,2496,4836,4095,3198,2067,4563,1677,12129,4134,2730,3783,2184,1872,2496,7683,1638,1833,2145,1833,2184,1872,6942,4290,1755,1911,1755,3978,1950,4641,19071,1911,2223,1677,1794,2535,4017,2379,1638,7878,3003,1716,3705,1872,3900,8853,4485,2886,2379,5304,4407,2574,1638,1989,3666,2028,2613,8658,4407,7059,3003,1638,5811,2769,2067,3627,2028,6864,6981,2262,2691,4914,2808,6552,4407,5031,3861,5304,2613,1950,3744,2574,2184,1989,1950,5499,3783,2691,18174,11700,4134,7917,2613,2262,2379,3159,5421,2262,4251,1755,3003,3939,3939,10803,2301,5538,4290,1677,4329,8346,2028,6981,4329,2223,4953,2301,4797,3510,1716,1989,7917,4290,1872,2379,2262,1716,1950,1872,2145,14781,1716,3510,1677,5499,3744,1833,1716,3003,2964,2769,2223,7059,2340,1755,2964,13689,1950,4290,1872,1716,1755,2301,2028,3861,1677,3393]}},{"Result":2127567}]},{"github.com/pingcap/tidb/statistics.(*Histogram).outOfRangeRowCount":[{"lDatum":"KindNull <nil>","modifyCount":0,"rDatum":"KindMaxValue <nil>"},{"commonPrefix":0,"lScalar":0,"rScalar":1.7976931348623157e+308,"unsigned":false},{"boundL":2894630154447880000,"boundR":8303347350076654000,"histL":4697535886324138000,"histR":6500441618200396000,"lPercent":1,"rPercent":1,"rowCount":1551770},{"Result":0}]},{"End estimate range":{"RowCount":4314864,"Type":"Range"}}]},{"Name":"surname_pcode","Result":4314864}]},{"github.com/pingcap/tidb/statistics.(*HistColl).GetRowCountByIndexRanges":[{"ID":4,"Ranges":["[-inf,\"E436\")"]},{"github.com/pingcap/tidb/statistics.(*Index).IsInvalid":{"CollPseudo":false,"IsInvalid":false,"NotAccurate":true,"TotalCount":4314864}},{"Histogram NotNull Count":1551770,"Increase Factor":1,"TopN total count":2127567},{"github.com/pingcap/tidb/statistics.(*Index).GetRowCount":[{"Start estimate range":{"CurrentRowCount":0,"Range":"[-inf,\"E436\")","LowValueEncoded":"AQ==","HighValueEncoded":"AUU0MzYAAAAA+w=="}},{"github.com/pingcap/tidb/statistics.(*Histogram).LessRowCountWithBktIdx":[{"Locate value in buckets":{"Value":"KindBytes \\x01","Exceed":false,"BucketIdx":0,"InBucket":false,"MatchLastValue":false}},{"Related Buckets in Histogram":[{"Index":-1,"Count":-1,"Repeat":-1},{"Index":0,"Count":6373,"Repeat":820}]},{"Bucket idx":0,"Result":0}]},{"github.com/pingcap/tidb/statistics.(*Histogram).LessRowCountWithBktIdx":[{"Locate value in buckets":{"Value":"KindBytes \\x01E436\\x00\\x00\\x00\\x00\\xfb","Exceed":false,"BucketIdx":63,"InBucket":true,"MatchLastValue":false}},{"Related Buckets in Histogram":[{"Index":62,"Count":402182,"Repeat":508},{"Index":63,"Count":408635,"Repeat":1132}]},{"Bucket idx":63,"Result":402207.9374524628}]},{"github.com/pingcap/tidb/statistics.(*TopN).BetweenCount":[{"Related TopN Range":{"FirstIdx":0,"FirstEncoded":"AUEAAAAAAAAA+A==","LastIdx":139,"LastEncoded":"AUU0MgAAAAAA+g==","Count":[2886,4602,2106,2418,7644,2145,1716,2925,5070,1911,3354,2535,2262,2574,1833,3198,3471,4095,1794,4407,3042,4992,1794,1872,13962,5070,19032,1950,3081,2418,5031,5070,7020,2886,1833,3003,2106,9126,7098,1950,4251,2730,1677,1794,7410,7371,1911,1638,6552,11505,15366,2145,1950,3393,3120,8502,2574,3471,2262,6162,12246,5148,1833,4251,5070,10452,2028,2925,2535,2067,3042,13728,2769,1755,3627,3510,1872,4134,1989,4602,4329,3783,5694,5187,3003,2067,2964,6630,8502,2574,5772,3315,1716,5733,1794,9048,8658,1638,1677,1950,2145,3705,2613,3978,3861,6981,4524,3003,4953,2769,1872,12480,12597,4758,2067,10608,1833,4953,2106,3081,1989,11193,7644,1755,5265,1989,1638,2496,3549,7722,3666,4797,1638,3393,2028,1833,3003,1989,1872,1794]}},{"Result":602823}]},{"End estimate range":{"RowCount":1005030.9374524627,"Type":"Range"}}]},{"Name":"char_name_idx_pcode","Result":1005030.9374524627}]},{"github.com/pingcap/tidb/statistics.(*HistColl).GetRowCountByIndexRanges":[{"ID":7,"Ranges":["[\"I\" -inf,\"I\" \"E436\")","[\"L\" -inf,\"L\" \"E436\")"]},{"github.com/pingcap/tidb/statistics.(*Index).IsInvalid":{"CollPseudo":false,"IsInvalid":false,"NotAccurate":true,"TotalCount":4314864}},{"Histogram NotNull Count":4039602,"Increase Factor":1,"TopN total count":275262},{"github.com/pingcap/tidb/statistics.(*Index).GetRowCount":[{"Start estimate range":{"CurrentRowCount":0,"Range":"[\"I\" -inf,\"I\" \"E436\")","LowValueEncoded":"AUkAAAAAAAAA+AE=","HighValueEncoded":"AUkAAAAAAAAA+AFFNDM2AAAAAPs="}},{"github.com/pingcap/tidb/statistics.(*Index).expBackoffEstimation":[{"github.com/pingcap/tidb/statistics.(*Column).IsInvalid":{"EssentialLoaded":true,"InValidForCollPseudo":false,"IsInvalid":false,"NDV":7,"TotalCount":4314816}},{"github.com/pingcap/tidb/statistics.(*HistColl).GetRowCountByColumnRanges":[{"ID":3,"Ranges":["[\"I\",\"I\"]"]},{"github.com/pingcap/tidb/statistics.(*Column).IsInvalid":{"EssentialLoaded":true,"InValidForCollPseudo":false,"IsInvalid":false,"NDV":7,"TotalCount":4314816}},{"Histogram NotNull Count":0,"Increase Factor":1.0000111244604637,"TopN total count":0},{"github.com/pingcap/tidb/statistics.(*Column).GetColumnRowCount":[{"Start estimate range":{"CurrentRowCount":0,"Range":"[\"I\",\"I\"]","LowValueEncoded":"AUkAAAAAAAAA+A==","HighValueEncoded":"AUkAAAAAAAAA+A=="}},{"github.com/pingcap/tidb/statistics.(*Column).equalRowCount":[{"Encoded":"AUkAAAAAAAAA+A==","Value":"KindBytes I"},{"Error":null,"Result":0}]},{"End estimate range":{"RowCount":0,"Type":"Point"}}]},{"Name":"imdb_index","Result":0}]},{"github.com/pingcap/tidb/statistics.(*Column).IsInvalid":{"EssentialLoaded":true,"InValidForCollPseudo":false,"IsInvalid":false,"NDV":18188,"TotalCount":4314864}},{"github.com/pingcap/tidb/statistics.(*HistColl).GetRowCountByColumnRanges":[{"ID":6,"Ranges":["[-inf,\"E436\")"]},{"github.com/pingcap/tidb/statistics.(*Column).IsInvalid":{"EssentialLoaded":true,"InValidForCollPseudo":false,"IsInvalid":false,"NDV":18188,"TotalCount":4314864}},{"Histogram NotNull Count":1551770,"Increase Factor":1,"TopN total count":2127567},{"github.com/pingcap/tidb/statistics.(*Column).GetColumnRowCount":[{"Start estimate range":{"CurrentRowCount":0,"Range":"[-inf,\"E436\")","LowValueEncoded":"AQ==","HighValueEncoded":"AUU0MzYAAAAA+w=="}},{"github.com/pingcap/tidb/statistics.(*Histogram).LessRowCountWithBktIdx":[{"Locate value in buckets":{"Value":"KindMinNotNull <nil>","Exceed":false,"BucketIdx":0,"InBucket":false,"MatchLastValue":false}},{"Related Buckets in Histogram":[{"Index":-1,"Count":-1,"Repeat":-1},{"Index":0,"Count":6373,"Repeat":820}]},{"Bucket idx":0,"Result":0}]},{"github.com/pingcap/tidb/statistics.(*Histogram).LessRowCountWithBktIdx":[{"Locate value in buckets":{"Value":"KindBytes E436","Exceed":false,"BucketIdx":63,"InBucket":true,"MatchLastValue":false}},{"Related Buckets in Histogram":[{"Index":62,"Count":402182,"Repeat":508},{"Index":63,"Count":408635,"Repeat":1132}]},{"Bucket idx":63,"Result":402207.9374524628}]},{"github.com/pingcap/tidb/statistics.(*TopN).BetweenCount":[{"Related TopN Range":{"FirstIdx":0,"FirstEncoded":"AUEAAAAAAAAA+A==","LastIdx":139,"LastEncoded":"AUU0MgAAAAAA+g==","Count":[2886,4602,2106,2418,7644,2145,1716,2925,5070,1911,3354,2535,2262,2574,1833,3198,3471,4095,1794,4407,3042,4992,1794,1872,13962,5070,19032,1950,3081,2418,5031,5070,7020,2886,1833,3003,2106,9126,7098,1950,4251,2730,1677,1794,7410,7371,1911,1638,6552,11505,15366,2145,1950,3393,3120,8502,2574,3471,2262,6162,12246,5148,1833,4251,5070,10452,2028,2925,2535,2067,3042,13728,2769,1755,3627,3510,1872,4134,1989,4602,4329,3783,5694,5187,3003,2067,2964,6630,8502,2574,5772,3315,1716,5733,1794,9048,8658,1638,1677,1950,2145,3705,2613,3978,3861,6981,4524,3003,4953,2769,1872,12480,12597,4758,2067,10608,1833,4953,2106,3081,1989,11193,7644,1755,5265,1989,1638,2496,3549,7722,3666,4797,1638,3393,2028,1833,3003,1989,1872,1794]}},{"Result":602823}]},{"github.com/pingcap/tidb/statistics.(*Histogram).outOfRangeRowCount":[{"lDatum":"KindMinNotNull <nil>","modifyCount":0,"rDatum":"KindBytes E436"},{"commonPrefix":0,"lScalar":-1.7976931348623157e+308,"rScalar":4986666994427232000,"unsigned":false},{"boundL":2894630154447880000,"boundR":8303347350076654000,"histL":4697535886324138000,"histR":6500441618200396000,"lPercent":1,"rPercent":0,"rowCount":775885},{"Result":0}]},{"End estimate range":{"RowCount":1005030.9374524627,"Type":"Range"}}]},{"Name":"surname_pcode","Result":1005030.9374524627}]},{"Result":0,"Success":true,"error":null}]},{"Locate value in buckets":{"Value":"KindBytes \\x01I\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\xf8\\x01","Exceed":true,"BucketIdx":255,"InBucket":false,"MatchLastValue":false}},{"Locate value in buckets":{"Value":"KindBytes \\x01I\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\xf8\\x01E436\\x00\\x00\\x00\\x00\\xfb","Exceed":true,"BucketIdx":255,"InBucket":false,"MatchLastValue":false}},{"Related Buckets in Histogram":[{"Index":254,"Count":4027987,"Repeat":2},{"Index":255,"Count":4039602,"Repeat":2}]},{"github.com/pingcap/tidb/statistics.(*TopN).BetweenCount":[{"Related TopN Range":{"FirstIdx":500,"FirstEncoded":null,"LastIdx":499,"LastEncoded":"AAFXMQAAAAAAAPkBSDYyNDEAAAD8","Count":[]}},{"Result":0}]},{"github.com/pingcap/tidb/statistics.(*Histogram).outOfRangeRowCount":[{"lDatum":"KindBytes \\x01I\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\xf8\\x01","modifyCount":0,"rDatum":"KindBytes \\x01I\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\xf8\\x01E436\\x00\\x00\\x00\\x00\\xfb"},{"commonPrefix":0,"lScalar":92605267337805820,"rScalar":92605267337805820,"unsigned":false},{"Result":0}]},{"End estimate range":{"RowCount":0,"Type":"Range"}},{"Start estimate range":{"CurrentRowCount":0,"Range":"[\"L\" -inf,\"L\" \"E436\")","LowValueEncoded":"AUwAAAAAAAAA+AE=","HighValueEncoded":"AUwAAAAAAAAA+AFFNDM2AAAAAPs="}},{"github.com/pingcap/tidb/statistics.(*Index).expBackoffEstimation":[{"github.com/pingcap/tidb/statistics.(*Column).IsInvalid":{"EssentialLoaded":true,"InValidForCollPseudo":false,"IsInvalid":false,"NDV":7,"TotalCount":4314816}},{"github.com/pingcap/tidb/statistics.(*HistColl).GetRowCountByColumnRanges":[{"ID":3,"Ranges":["[\"L\",\"L\"]"]},{"github.com/pingcap/tidb/statistics.(*Column).IsInvalid":{"EssentialLoaded":true,"InValidForCollPseudo":false,"IsInvalid":false,"NDV":7,"TotalCount":4314816}},{"Histogram NotNull Count":0,"Increase Factor":1.0000111244604637,"TopN total count":0},{"github.com/pingcap/tidb/statistics.(*Column).GetColumnRowCount":[{"Start estimate range":{"CurrentRowCount":0,"Range":"[\"L\",\"L\"]","LowValueEncoded":"AUwAAAAAAAAA+A==","HighValueEncoded":"AUwAAAAAAAAA+A=="}},{"github.com/pingcap/tidb/statistics.(*Column).equalRowCount":[{"Encoded":"AUwAAAAAAAAA+A==","Value":"KindBytes L"},{"Error":null,"Result":0}]},{"End estimate range":{"RowCount":0,"Type":"Point"}}]},{"Name":"imdb_index","Result":0}]},{"github.com/pingcap/tidb/statistics.(*Column).IsInvalid":{"EssentialLoaded":true,"InValidForCollPseudo":false,"IsInvalid":false,"NDV":18188,"TotalCount":4314864}},{"github.com/pingcap/tidb/statistics.(*HistColl).GetRowCountByColumnRanges":[{"ID":6,"Ranges":["[-inf,\"E436\")"]},{"github.com/pingcap/tidb/statistics.(*Column).IsInvalid":{"EssentialLoaded":true,"InValidForCollPseudo":false,"IsInvalid":false,"NDV":18188,"TotalCount":4314864}},{"Histogram NotNull Count":1551770,"Increase Factor":1,"TopN total count":2127567},{"github.com/pingcap/tidb/statistics.(*Column).GetColumnRowCount":[{"Start estimate range":{"CurrentRowCount":0,"Range":"[-inf,\"E436\")","LowValueEncoded":"AQ==","HighValueEncoded":"AUU0MzYAAAAA+w=="}},{"github.com/pingcap/tidb/statistics.(*Histogram).LessRowCountWithBktIdx":[{"Locate value in buckets":{"Value":"KindMinNotNull <nil>","Exceed":false,"BucketIdx":0,"InBucket":false,"MatchLastValue":false}},{"Related Buckets in Histogram":[{"Index":-1,"Count":-1,"Repeat":-1},{"Index":0,"Count":6373,"Repeat":820}]},{"Bucket idx":0,"Result":0}]},{"github.com/pingcap/tidb/statistics.(*Histogram).LessRowCountWithBktIdx":[{"Locate value in buckets":{"Value":"KindBytes E436","Exceed":false,"BucketIdx":63,"InBucket":true,"MatchLastValue":false}},{"Related Buckets in Histogram":[{"Index":62,"Count":402182,"Repeat":508},{"Index":63,"Count":408635,"Repeat":1132}]},{"Bucket idx":63,"Result":402207.9374524628}]},{"github.com/pingcap/tidb/statistics.(*TopN).BetweenCount":[{"Related TopN Range":{"FirstIdx":0,"FirstEncoded":"AUEAAAAAAAAA+A==","LastIdx":139,"LastEncoded":"AUU0MgAAAAAA+g==","Count":[2886,4602,2106,2418,7644,2145,1716,2925,5070,1911,3354,2535,2262,2574,1833,3198,3471,4095,1794,4407,3042,4992,1794,1872,13962,5070,19032,1950,3081,2418,5031,5070,7020,2886,1833,3003,2106,9126,7098,1950,4251,2730,1677,1794,7410,7371,1911,1638,6552,11505,15366,2145,1950,3393,3120,8502,2574,3471,2262,6162,12246,5148,1833,4251,5070,10452,2028,2925,2535,2067,3042,13728,2769,1755,3627,3510,1872,4134,1989,4602,4329,3783,5694,5187,3003,2067,2964,6630,8502,2574,5772,3315,1716,5733,1794,9048,8658,1638,1677,1950,2145,3705,2613,3978,3861,6981,4524,3003,4953,2769,1872,12480,12597,4758,2067,10608,1833,4953,2106,3081,1989,11193,7644,1755,5265,1989,1638,2496,3549,7722,3666,4797,1638,3393,2028,1833,3003,1989,1872,1794]}},{"Result":602823}]},{"github.com/pingcap/tidb/statistics.(*Histogram).outOfRangeRowCount":[{"lDatum":"KindMinNotNull <nil>","modifyCount":0,"rDatum":"KindBytes E436"},{"commonPrefix":0,"lScalar":-1.7976931348623157e+308,"rScalar":4986666994427232000,"unsigned":false},{"boundL":2894630154447880000,"boundR":8303347350076654000,"histL":4697535886324138000,"histR":6500441618200396000,"lPercent":1,"rPercent":0,"rowCount":775885},{"Result":0}]},{"End estimate range":{"RowCount":1005030.9374524627,"Type":"Range"}}]},{"Name":"surname_pcode","Result":1005030.9374524627}]},{"Result":0,"Success":true,"error":null}]},{"Locate value in buckets":{"Value":"KindBytes \\x01L\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\xf8\\x01","Exceed":true,"BucketIdx":255,"InBucket":false,"MatchLastValue":false}},{"Locate value in buckets":{"Value":"KindBytes \\x01L\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\xf8\\x01E436\\x00\\x00\\x00\\x00\\xfb","Exceed":true,"BucketIdx":255,"InBucket":false,"MatchLastValue":false}},{"Related Buckets in Histogram":[{"Index":254,"Count":4027987,"Repeat":2},{"Index":255,"Count":4039602,"Repeat":2}]},{"github.com/pingcap/tidb/statistics.(*TopN).BetweenCount":[{"Related TopN Range":{"FirstIdx":500,"FirstEncoded":null,"LastIdx":499,"LastEncoded":"AAFXMQAAAAAAAPkBSDYyNDEAAAD8","Count":[]}},{"Result":0}]},{"github.com/pingcap/tidb/statistics.(*Histogram).outOfRangeRowCount":[{"lDatum":"KindBytes \\x01L\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\xf8\\x01","modifyCount":0,"rDatum":"KindBytes \\x01L\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\xf8\\x01E436\\x00\\x00\\x00\\x00\\xfb"},{"commonPrefix":0,"lScalar":93449692267937800,"rScalar":93449692267937800,"unsigned":false},{"Result":0}]},{"End estimate range":{"RowCount":0,"Type":"Range"}}]},{"Name":"itest2","Result":0}]},{"Expressions":["or(and(eq(imdbload.char_name.imdb_index, I), lt(imdbload.char_name.surname_pcode, E436)), and(eq(imdbload.char_name.imdb_index, L), lt(imdbload.char_name.surname_pcode, E436)))"],"Selectivity":0.23292296986706018,"partial cover":true},{"Result":0.18633837589364816}]}},{"github.com/pingcap/tidb/planner/core.(*DataSource).derivePathStatsAndTryHeuristics":[{"github.com/pingcap/tidb/planner/core.(*DataSource).deriveTablePathStats":{"github.com/pingcap/tidb/statistics.(*HistColl).GetRowCountByIntColumnRanges":[{"ID":1,"Ranges":["[-inf,+inf]"]},{"github.com/pingcap/tidb/statistics.(*Column).IsInvalid":{"EssentialLoaded":true,"InValidForCollPseudo":false,"IsInvalid":false,"NDV":4276736,"TotalCount":4314864}},{"Histogram NotNull Count":4314864,"Increase Factor":1,"TopN total count":0},{"github.com/pingcap/tidb/statistics.(*Column).GetColumnRowCount":[{"Start estimate range":{"CurrentRowCount":0,"Range":"[-inf,+inf]","LowValueEncoded":"AwAAAAAAAAAA","HighValueEncoded":"A///////////"}},{"github.com/pingcap/tidb/statistics.(*Histogram).LessRowCountWithBktIdx":[{"Locate value in buckets":{"Value":"KindInt64 -9223372036854775808","Exceed":false,"BucketIdx":0,"InBucket":false,"MatchLastValue":false}},{"Related Buckets in Histogram":[{"Index":-1,"Count":-1,"Repeat":-1},{"Index":0,"Count":16879,"Repeat":1}]},{"Bucket idx":0,"Result":0}]},{"github.com/pingcap/tidb/statistics.(*Histogram).LessRowCountWithBktIdx":[{"Locate value in buckets":{"Value":"KindInt64 9223372036854775807","Exceed":true,"BucketIdx":255,"InBucket":false,"MatchLastValue":false}},{"Bucket idx":255,"Result":4314864}]},{"github.com/pingcap/tidb/statistics.(*TopN).BetweenCount":{"Result":0}},{"github.com/pingcap/tidb/statistics.(*Column).equalRowCount":[{"Encoded":"A///////////","Value":"KindInt64 9223372036854775807"},{"github.com/pingcap/tidb/statistics.(*Histogram).equalRowCount":[{"Locate value in buckets":{"Value":"KindInt64 9223372036854775807","Exceed":true,"BucketIdx":255,"InBucket":false,"MatchLastValue":false}},{"Count":0,"Matched":false}]},{"Error":null,"Result":1.0089152101041543}]},{"github.com/pingcap/tidb/statistics.(*Histogram).outOfRangeRowCount":[{"lDatum":"KindInt64 -9223372036854775808","modifyCount":0,"rDatum":"KindInt64 9223372036854775807"},{"commonPrefix":0,"lScalar":-9223372036854776000,"rScalar":9223372036854776000,"unsigned":false},{"boundL":-4314756,"boundR":8629557,"histL":15,"histR":4314786,"lPercent":1,"rPercent":1,"rowCount":4314864},{"Result":0}]},{"End estimate range":{"RowCount":4314864,"Type":"Range"}}]},{"Name":"id","Result":4314864}]}},{"github.com/pingcap/tidb/planner/core.(*DataSource).deriveIndexPathStats":null},{"github.com/pingcap/tidb/planner/core.(*DataSource).deriveIndexPathStats":null},{"github.com/pingcap/tidb/planner/core.(*DataSource).deriveIndexPathStats":null},{"github.com/pingcap/tidb/planner/core.(*DataSource).deriveIndexPathStats":null},{"github.com/pingcap/tidb/planner/core.(*DataSource).deriveIndexPathStats":null},{"github.com/pingcap/tidb/planner/core.(*DataSource).deriveIndexPathStats":null},{"github.com/pingcap/tidb/planner/core.(*DataSource).deriveIndexPathStats":null}]},{"github.com/pingcap/tidb/planner/core.(*DataSource).generateIndexMergePath":null},{"Access paths":[{"AccessConditions":[],"IndexFilters":[],"TableFilters":["or(and(eq(imdbload.char_name.imdb_index, I), lt(imdbload.char_name.surname_pcode, E436)), and(eq(imdbload.char_name.imdb_index, L), lt(imdbload.char_name.surname_pcode, E436)))"],"CountAfterAccess":4314864,"CountAfterIndex":0},{"IndexName":"char_name_idx_name","AccessConditions":[],"IndexFilters":[],"TableFilters":["or(and(eq(imdbload.char_name.imdb_index, I), lt(imdbload.char_name.surname_pcode, E436)), and(eq(imdbload.char_name.imdb_index, L), lt(imdbload.char_name.surname_pcode, E436)))"],"CountAfterAccess":4314864,"CountAfterIndex":4314864},{"IndexName":"char_name_idx_imdb_id","AccessConditions":[],"IndexFilters":[],"TableFilters":["or(and(eq(imdbload.char_name.imdb_index, I), lt(imdbload.char_name.surname_pcode, E436)), and(eq(imdbload.char_name.imdb_index, L), lt(imdbload.char_name.surname_pcode, E436)))"],"CountAfterAccess":4314864,"CountAfterIndex":4314864},{"IndexName":"char_name_idx_pcodenf","AccessConditions":[],"IndexFilters":[],"TableFilters":["or(and(eq(imdbload.char_name.imdb_index, I), lt(imdbload.char_name.surname_pcode, E436)), and(eq(imdbload.char_name.imdb_index, L), lt(imdbload.char_name.surname_pcode, E436)))"],"CountAfterAccess":4314864,"CountAfterIndex":4314864},{"IndexName":"char_name_idx_pcode","AccessConditions":["or(lt(imdbload.char_name.surname_pcode, E436), lt(imdbload.char_name.surname_pcode, E436))"],"IndexFilters":[],"TableFilters":["or(and(eq(imdbload.char_name.imdb_index, I), lt(imdbload.char_name.surname_pcode, E436)), and(eq(imdbload.char_name.imdb_index, L), lt(imdbload.char_name.surname_pcode, E436)))"],"CountAfterAccess":1005030.9374524627,"CountAfterIndex":1005030.9374524627},{"IndexName":"char_name_idx_md5","AccessConditions":[],"IndexFilters":[],"TableFilters":["or(and(eq(imdbload.char_name.imdb_index, I), lt(imdbload.char_name.surname_pcode, E436)), and(eq(imdbload.char_name.imdb_index, L), lt(imdbload.char_name.surname_pcode, E436)))"],"CountAfterAccess":4314864,"CountAfterIndex":4314864},{"IndexName":"itest","AccessConditions":[],"IndexFilters":[],"TableFilters":["or(and(eq(imdbload.char_name.imdb_index, I), lt(imdbload.char_name.surname_pcode, E436)), and(eq(imdbload.char_name.imdb_index, L), lt(imdbload.char_name.surname_pcode, E436)))"],"CountAfterAccess":4314864,"CountAfterIndex":4314864},{"IndexName":"itest2","AccessConditions":["or(and(eq(imdbload.char_name.imdb_index, I), lt(imdbload.char_name.surname_pcode, E436)), and(eq(imdbload.char_name.imdb_index, L), lt(imdbload.char_name.surname_pcode, E436)))"],"IndexFilters":[],"TableFilters":[],"CountAfterAccess":1005030.9374524627,"CountAfterIndex":1005030.9374524627}]}]}]}]}}]}]

explain select * from char_name where ((imdb_index = 'V') and (surname_pcode < 'L3416'));
id	estRows	task	access object	operator info
IndexLookUp_10	0.00	root		
├─IndexRangeScan_8(Build)	0.00	cop[tikv]	table:char_name, index:itest2(imdb_index, surname_pcode, name_pcode_nf)	range:["V" -inf,"V" "L3416"), keep order:false
└─TableRowIDScan_9(Probe)	0.00	cop[tikv]	table:char_name	keep order:false
explain select * from char_name where imdb_index > 'V';
id	estRows	task	access object	operator info
IndexLookUp_10	0.00	root		
├─IndexRangeScan_8(Build)	0.00	cop[tikv]	table:char_name, index:itest2(imdb_index, surname_pcode, name_pcode_nf)	range:("V",+inf], keep order:false
└─TableRowIDScan_9(Probe)	0.00	cop[tikv]	table:char_name	keep order:false
trace plan target = 'estimation' select * from char_name where imdb_index > 'V';
CE_trace
[{"table_name":"char_name","type":"Column Stats-Range","expr":"((id >= -9223372036854775808 and id <= 9223372036854775807))","row_count":4314864},{"table_name":"char_name","type":"Column Stats-Range","expr":"((imdb_index > 'V' and true))","row_count":0},{"table_name":"char_name","type":"Index Stats-Range","expr":"((imdb_index > 'V' and true))","row_count":0},{"table_name":"char_name","type":"Table Stats-Expression-CNF","expr":"`gt`(imdbload.char_name.imdb_index, 'V')","row_count":0}]

explain select * from movie_companies where company_type_id > 2;
id	estRows	task	access object	operator info
IndexLookUp_10	0.00	root		
├─IndexRangeScan_8(Build)	0.00	cop[tikv]	table:movie_companies, index:movie_companies_idx_ctypeid(company_type_id)	range:(2,+inf], keep order:false
└─TableRowIDScan_9(Probe)	0.00	cop[tikv]	table:movie_companies	keep order:false
trace plan target = 'estimation' select * from movie_companies where company_type_id > 2;
CE_trace
[{"table_name":"movie_companies","type":"Column Stats-Range","expr":"((company_type_id > 2 and true))","row_count":0},{"table_name":"movie_companies","type":"Column Stats-Range","expr":"((id >= -9223372036854775808 and id <= 9223372036854775807))","row_count":4958296},{"table_name":"movie_companies","type":"Index Stats-Range","expr":"((company_type_id > 2 and true))","row_count":0},{"table_name":"movie_companies","type":"Table Stats-Expression-CNF","expr":"`gt`(imdbload.movie_companies.company_type_id, 2)","row_count":0}]

explain select * from char_name where imdb_index > 'I' and imdb_index < 'II';
id	estRows	task	access object	operator info
IndexLookUp_10	0.00	root		
├─IndexRangeScan_8(Build)	0.00	cop[tikv]	table:char_name, index:itest2(imdb_index, surname_pcode, name_pcode_nf)	range:("I","II"), keep order:false
└─TableRowIDScan_9(Probe)	0.00	cop[tikv]	table:char_name	keep order:false
trace plan target = 'estimation' select * from char_name where imdb_index > 'I' and imdb_index < 'II';
CE_trace
[{"table_name":"char_name","type":"Column Stats-Range","expr":"((id >= -9223372036854775808 and id <= 9223372036854775807))","row_count":4314864},{"table_name":"char_name","type":"Column Stats-Range","expr":"((imdb_index > 'I' and imdb_index < 'II'))","row_count":0},{"table_name":"char_name","type":"Index Stats-Range","expr":"((imdb_index > 'I' and imdb_index < 'II'))","row_count":0},{"table_name":"char_name","type":"Table Stats-Expression-CNF","expr":"`and`(`gt`(imdbload.char_name.imdb_index, 'I'), `lt`(imdbload.char_name.imdb_index, 'II'))","row_count":0}]

trace plan target = 'debug' select * from char_name where imdb_index > 'I' and imdb_index < 'II';
Debug_trace
[{"github.com/pingcap/tidb/planner.Optimize":[{"Enable binding":true,"IsStmtNode":true,"Matched":false,"Matched bindings":null,"Scope":"","Used binding":false},{"github.com/pingcap/tidb/planner.optimize":{"github.com/pingcap/tidb/planner/core.DoOptimize":[{"github.com/pingcap/tidb/planner/core.logicalOptimize":null},{"github.com/pingcap/tidb/planner/core.physicalOptimize":[{"github.com/pingcap/tidb/planner/core.getStatsTable":{"TableName":"char_name","TblInfoID":793,"InputPhysicalID":793,"HandleIsNil":false,"UsePartitionStats":false,"CountIsZero":false,"Uninitialized":false,"Outdated":false,"StatsTblInfo":{"PhysicalID":793,"Version":440762119577403392,"Count":4314864,"ModifyCount":0,"Columns":[{"ID":1,"Name":"id","NDV":4276736,"NullCount":0,"LastUpdateVersion":440762119088242688,"TotColSize":38833776,"Correlation":1,"StatsVer":2,"LoadingStatus":"allLoaded","HistogramSize":256,"TopNSize":-1,"CMSketchInfo":null},{"ID":2,"Name":"name","NDV":4314864,"NullCount":0,"LastUpdateVersion":440762118893731840,"TotColSize":76452423,"Correlation":0.01747643411223884,"StatsVer":2,"LoadingStatus":"allLoaded","HistogramSize":256,"TopNSize":-1,"CMSketchInfo":null},{"ID":3,"Name":"imdb_index","NDV":7,"NullCount":4314816,"LastUpdateVersion":440762118856507392,"TotColSize":151,"Correlation":0,"StatsVer":2,"LoadingStatus":"allLoaded","HistogramSize":0,"TopNSize":-1,"CMSketchInfo":null},{"ID":4,"Name":"imdb_id","NDV":0,"NullCount":4314864,"LastUpdateVersion":440762118853361664,"TotColSize":0,"Correlation":0,"StatsVer":2,"LoadingStatus":"allLoaded","HistogramSize":0,"TopNSize":-1,"CMSketchInfo":null},{"ID":5,"Name":"name_pcode_nf","NDV":23292,"NullCount":725,"LastUpdateVersion":440762118928072704,"TotColSize":28825179,"Correlation":0.021978247423606993,"StatsVer":2,"LoadingStatus":"allLoaded","HistogramSize":252,"TopNSize":500,"CMSketchInfo":null},{"ID":6,"Name":"surname_pcode","NDV":18188,"NullCount":635527,"LastUpdateVersion":440762119003570176,"TotColSize":19893678,"Correlation":0.627387352335874,"StatsVer":2,"LoadingStatus":"allLoaded","HistogramSize":242,"TopNSize":500,"CMSketchInfo":null},{"ID":7,"Name":"md5sum","NDV":4314864,"NullCount":0,"LastUpdateVersion":440762118859390976,"TotColSize":146705376,"Correlation":-0.005017611629539399,"StatsVer":2,"LoadingStatus":"allLoaded","HistogramSize":256,"TopNSize":-1,"CMSketchInfo":null}],"Indexes":[{"ID":1,"Name":"char_name_idx_name","NDV":657024,"NullCount":0,"LastUpdateVersion":440762119421689856,"TotColSize":0,"Correlation":0,"StatsVer":2,"LoadingStatus":"allLoaded","HistogramSize":255,"TopNSize":500,"CMSketchInfo":null},{"ID":2,"Name":"char_name_idx_imdb_id","NDV":0,"NullCount":4314864,"LastUpdateVersion":440762119381581824,"TotColSize":0,"Correlation":0,"StatsVer":2,"LoadingStatus":"allLoaded","HistogramSize":0,"TopNSize":-1,"CMSketchInfo":null},{"ID":3,"Name":"char_name_idx_pcodenf","NDV":23292,"NullCount":725,"LastUpdateVersion":440762119124942848,"TotColSize":0,"Correlation":0,"StatsVer":2,"LoadingStatus":"allLoaded","HistogramSize":252,"TopNSize":500,"CMSketchInfo":null},{"ID":4,"Name":"char_name_idx_pcode","NDV":18188,"NullCount":635527,"LastUpdateVersion":440762119500857344,"TotColSize":0,"Correlation":0,"StatsVer":2,"LoadingStatus":"allLoaded","HistogramSize":242,"TopNSize":500,"CMSketchInfo":null},{"ID":5,"Name":"char_name_idx_md5","NDV":1037312,"NullCount":0,"LastUpdateVersion":440762119386038272,"TotColSize":0,"Correlation":0,"StatsVer":2,"LoadingStatus":"allLoaded","HistogramSize":256,"TopNSize":-1,"CMSketchInfo":null},{"ID":6,"Name":"itest","NDV":1751040,"NullCount":0,"LastUpdateVersion":440762119210401792,"TotColSize":0,"Correlation":0,"StatsVer":2,"LoadingStatus":"allLoaded","HistogramSize":256,"TopNSize":500,"CMSketchInfo":null},{"ID":7,"Name":"itest2","NDV":1739264,"NullCount":0,"LastUpdateVersion":440762119296909312,"TotColSize":0,"Correlation":0,"StatsVer":2,"LoadingStatus":"allLoaded","HistogramSize":256,"TopNSize":500,"CMSketchInfo":null}]}}},{"github.com/pingcap/tidb/planner/core.(*DataSource).DeriveStats":[{"github.com/pingcap/tidb/planner/core.(*DataSource).fillIndexPath":{"github.com/pingcap/tidb/statistics.(*HistColl).GetRowCountByIndexRanges":[{"ID":1,"Ranges":["[NULL,+inf]"]},{"github.com/pingcap/tidb/statistics.(*Index).IsInvalid":{"CollPseudo":false,"IsInvalid":false,"NotAccurate":true,"TotalCount":4314864}},{"Histogram NotNull Count":3102003,"Increase Factor":1,"TopN total count":1212861},{"github.com/pingcap/tidb/statistics.(*Index).GetRowCount":[{"Start estimate range":{"CurrentRowCount":0,"Range":"[NULL,+inf]","LowValueEncoded":"AA==","HighValueEncoded":"+g=="}},{"github.com/pingcap/tidb/statistics.(*Histogram).LessRowCountWithBktIdx":[{"Locate value in buckets":{"Value":"KindBytes \\x00","Exceed":false,"BucketIdx":0,"InBucket":false,"MatchLastValue":false}},{"Related Buckets in Histogram":[{"Index":-1,"Count":-1,"Repeat":-1},{"Index":0,"Count":12121,"Repeat":4}]},{"Bucket idx":0,"Result":0}]},{"github.com/pingcap/tidb/statistics.(*Histogram).LessRowCountWithBktIdx":[{"Locate value in buckets":{"Value":"KindBytes \\xfb","Exceed":true,"BucketIdx":254,"InBucket":false,"MatchLastValue":false}},{"Bucket idx":254,"Result":3102003}]},{"github.com/pingcap/tidb/statistics.(*TopN).BetweenCount":[{"Related TopN Range":{"FirstIdx":0,"FirstEncoded":"AUFhcm9uIAAA/Q==","LastIdx":499,"LastEncoded":"AVpvbWJpZQAA/Q==","Count":[1209,936,1560,1443,1365,6903,1014,1092,3354,3120,2028,2925,1911,1521,2769,2652,1833,1170,1755,897,897,1794,1560,1131,1326,2574,1209,3900,1053,897,2574,1365,1287,3081,1794,1911,975,1248,1599,1365,1716,2613,3120,2106,1599,3042,897,1404,2769,1053,1872,1443,1443,936,858,5304,10257,1404,897,1482,1326,1716,897,1482,975,5733,4173,2418,897,1092,1287,5343,2886,1326,2925,6825,1053,1170,1911,1014,1794,2730,3198,1092,4602,2613,1755,1248,2301,1404,2730,1170,1092,975,1326,897,975,1638,897,5460,2067,897,6201,1248,1677,3861,936,858,1404,13884,1677,1365,3237,1443,897,4836,1248,1599,1677,1092,2262,897,1677,897,1014,897,1131,936,897,1443,1521,1248,1014,858,1131,2925,1170,858,1170,1209,1209,1209,2925,1287,2730,858,936,858,1053,1287,2340,1560,936,2379,897,1092,1092,1365,1326,6864,1248,3588,1716,1287,4017,897,1170,1599,1911,6474,1131,1365,1521,1092,975,1443,2145,1482,1287,2418,5928,858,7995,1287,1365,2028,1014,2847,897,1092,1755,1053,936,1482,1092,1482,858,1053,1131,1326,1365,1287,936,1287,1950,975,1053,4290,1053,3120,2769,4680,1365,1989,60684,145431,1911,1599,1287,1716,936,6162,1560,1950,1248,1560,897,1209,2379,5265,1092,1014,975,2223,897,1521,2262,1170,2340,1755,1014,3744,936,1560,975,1170,1209,3978,1404,975,1131,2535,936,7527,2340,1950,2379,1014,1404,1872,897,1404,1053,858,975,2613,897,1287,1677,1209,1443,1326,2574,3354,1989,936,1053,936,1794,4017,2730,4914,1131,2067,2145,1014,858,6084,2028,1287,4602,936,2106,4914,1989,1092,1482,1872,1170,1716,3159,4212,2496,2379,975,1131,1560,1053,1677,2184,5577,1365,1092,2067,1248,1404,2574,1248,1326,1092,936,5928,2652,1170,975,897,936,1092,1170,1248,1131,1053,3003,3159,1014,1287,3042,3276,1716,1209,1677,1950,1365,1365,1677,3939,1677,1794,3549,1950,1248,1287,975,2106,1482,1716,1131,1404,1326,897,6162,1131,11115,1560,2106,1833,858,1014,858,2808,1989,1209,1014,3822,1248,1092,1053,1053,897,6474,897,3159,1326,858,2340,6747,936,2496,858,5499,2769,1092,1950,4758,9789,1209,1521,1443,1560,858,1716,1482,1287,2028,2847,5733,897,897,7917,975,2652,1131,1326,858,1248,975,1443,2028,1560,936,1404,1716,3744,1131,1716,1248,3588,2652,1014,2262,4329,897,1092,1092,5772,858,1092,2925,897,1092,2808,858,1482,858,2067,1950,1131,1794,1365,1482,3042,1794,858,975,1794,2223,1092,897,1287,1131,1053,1209,897,1482,1365,1794,858,4329,936,3198,897,1053,3510,1365,1014,1014,858,1248,936,4758,1053,2808,1170,897,1950,936,3159,1560,897,1170,858,1482,4290,1209,1014,10140,23400,1326,1014,1911]}},{"Result":1212861}]},{"github.com/pingcap/tidb/statistics.(*Histogram).outOfRangeRowCount":[{"lDatum":"KindBytes \\x00","modifyCount":0,"rDatum":"KindBytes \\xfb"},{"commonPrefix":0,"lScalar":0,"rScalar":18086456103519912000,"unsigned":false},{"boundL":35796206585580800,"boundR":172827219423004930,"histL":81473210864722180,"histR":127150215143863550,"lPercent":1,"rPercent":1,"rowCount":3102003},{"Result":0}]},{"End estimate range":{"RowCount":4314864,"Type":"Range"}}]},{"Name":"char_name_idx_name","Result":4314864}]}},{"github.com/pingcap/tidb/planner/core.(*DataSource).fillIndexPath":{"github.com/pingcap/tidb/statistics.(*HistColl).GetRowCountByIndexRanges":[{"ID":2,"Ranges":["[NULL,+inf]"]},{"github.com/pingcap/tidb/statistics.(*Index).IsInvalid":{"CollPseudo":false,"IsInvalid":false,"NotAccurate":true,"TotalCount":4314864}},{"Histogram NotNull Count":0,"Increase Factor":1,"TopN total count":0},{"github.com/pingcap/tidb/statistics.(*Index).GetRowCount":[{"Start estimate range":{"CurrentRowCount":0,"Range":"[NULL,+inf]","LowValueEncoded":"AA==","HighValueEncoded":"+g=="}},{"github.com/pingcap/tidb/statistics.(*Histogram).LessRowCountWithBktIdx":{"Bucket idx":0,"Result":0}},{"github.com/pingcap/tidb/statistics.(*Histogram).LessRowCountWithBktIdx":{"Bucket idx":0,"Result":0}},{"github.com/pingcap/tidb/statistics.(*TopN).BetweenCount":{"Result":0}},{"End estimate range":{"RowCount":4314864,"Type":"Range"}}]},{"Name":"char_name_idx_imdb_id","Result":4314864}]}},{"github.com/pingcap/tidb/planner/core.(*DataSource).fillIndexPath":{"github.com/pingcap/tidb/statistics.(*HistColl).GetRowCountByIndexRanges":[{"ID":3,"Ranges":["[NULL,+inf]"]},{"github.com/pingcap/tidb/statistics.(*Index).IsInvalid":{"CollPseudo":false,"IsInvalid":false,"NotAccurate":true,"TotalCount":4314864}},{"Histogram NotNull Count":3156502,"Increase Factor":1,"TopN total count":1157637},{"github.com/pingcap/tidb/statistics.(*Index).GetRowCount":[{"Start estimate range":{"CurrentRowCount":0,"Range":"[NULL,+inf]","LowValueEncoded":"AA==","HighValueEncoded":"+g=="}},{"github.com/pingcap/tidb/statistics.(*Histogram).LessRowCountWithBktIdx":[{"Locate value in buckets":{"Value":"KindBytes \\x00","Exceed":false,"BucketIdx":0,"InBucket":false,"MatchLastValue":false}},{"Related Buckets in Histogram":[{"Index":-1,"Count":-1,"Repeat":-1},{"Index":0,"Count":12356,"Repeat":39}]},{"Bucket idx":0,"Result":0}]},{"github.com/pingcap/tidb/statistics.(*Histogram).LessRowCountWithBktIdx":[{"Locate value in buckets":{"Value":"KindBytes \\xfb","Exceed":true,"BucketIdx":251,"InBucket":false,"MatchLastValue":false}},{"Bucket idx":251,"Result":3156502}]},{"github.com/pingcap/tidb/statistics.(*TopN).BetweenCount":[{"Related TopN Range":{"FirstIdx":0,"FirstEncoded":"AUEyAAAAAAAA+Q==","LastIdx":499,"LastEncoded":"AVk1MjYyAAAA/A==","Count":[1794,3393,1560,1131,1521,1716,3042,2067,1209,1482,1170,1638,5733,1131,1404,1911,5343,1716,1287,2457,1911,1404,1248,1521,1365,1248,1326,2457,3003,2106,1287,1560,2028,5811,1170,1989,1716,1287,1599,1326,1755,1209,1404,1209,1209,2106,1209,1599,1209,1209,1248,1716,1677,1209,1599,1599,1287,1404,1950,1131,2145,1833,1170,2379,1131,3315,4953,2145,1170,1755,1560,1482,1248,1248,1404,1131,1248,1677,1911,1599,1638,1209,1599,1521,1560,1404,1560,1833,2496,1170,1209,1248,2028,1170,6201,1599,1248,2925,3276,1326,2769,1716,1209,1833,1599,2184,1209,1404,2340,2340,4758,1482,2067,14664,1131,1794,1209,1131,1209,1248,3003,1677,1326,1287,1092,1170,2262,1911,1677,1482,1092,1248,6240,1248,1482,1404,3510,2223,2457,1521,1248,1209,1287,1287,1170,1326,1092,1755,1170,1170,1560,1209,1131,1521,4641,1092,1092,1170,1755,1521,1404,1677,2184,1638,2925,5499,4524,3315,4641,3276,1404,1209,1326,1287,2067,1131,1131,1404,1482,2223,2535,1911,1092,1521,1092,1560,1638,1677,1521,2106,1638,1521,1248,1248,145704,1326,1131,2613,1131,1911,60879,1599,1287,1365,7371,1326,1170,1872,1287,1248,1404,1131,1092,1404,1092,1482,2379,1638,1755,3354,2301,1131,1287,1443,1404,1131,2262,3939,1989,1092,1092,1872,1365,1560,1248,1131,1287,1131,1131,2067,1365,1209,1092,1404,1092,1833,1521,1482,1911,2184,2925,2067,1404,1131,1170,1755,1365,1248,1170,1092,1638,1911,1248,2496,1131,1833,1872,1092,1443,1482,5265,1092,1170,1209,1950,1131,1287,3510,1404,1482,1482,1599,1560,2028,3042,1677,1638,1794,2223,1794,1326,1131,1209,1170,1560,1599,1209,1638,1131,1326,2769,2301,1560,2535,1911,1833,1755,1131,1443,1638,1092,1482,1599,1638,1287,1638,3705,2769,1521,3315,2613,5460,1443,2223,4212,1989,2847,3783,1911,2769,3939,2730,3237,1911,2886,1755,7878,4485,2301,3744,2652,4212,6318,1677,3276,1287,1170,1677,1170,2184,4056,1365,1287,1482,1209,1677,1092,1209,1209,1989,1443,1989,2262,3588,2379,1872,1560,1209,1092,1443,1131,1209,1794,1404,1209,2691,1794,1326,1131,1599,2262,1131,1638,10647,4095,1209,2379,2418,1638,1326,5109,2067,1989,1287,2223,3003,1521,1950,2925,3081,2925,1638,2262,1092,1716,3042,1521,1248,1404,1560,1131,1950,1443,1131,1326,3120,1209,1482,1638,1443,1716,1404,2418,1365,2379,1365,1638,1131,2262,1638,1131,1950,3627,1092,1170,1794,4095,1131,1209,1404,1131,1170,1911,1755,1092,2457,2847,1638,4017,1131,1482,1092,1287,1677,2262,1092,1170,1287,1170,6435,2886,1209,1755,1170,1599,1092,3471,1794,1209,2340,1287,2184,1521,1482,1287,2106,1170,2106,1092,1443,1482,1131,1599,2301,1287,2730,1131,1560,1170,1677,1209,1794,1170,1638,1131,1404,2769,2067,1248,1560]}},{"Result":1157637}]},{"github.com/pingcap/tidb/statistics.(*Histogram).outOfRangeRowCount":[{"lDatum":"KindBytes \\x00","modifyCount":0,"rDatum":"KindBytes \\xfb"},{"commonPrefix":0,"lScalar":0,"rScalar":18086456103519912000,"unsigned":false},{"boundL":83256990935875580,"boundR":104546420700610560,"histL":90353467524120580,"histR":97449944112365570,"lPercent":1,"rPercent":1,"rowCount":3156502},{"Result":0}]},{"End estimate range":{"RowCount":4314864,"Type":"Range"}}]},{"Name":"char_name_idx_pcodenf","Result":4314864}]}},{"github.com/pingcap/tidb/planner/core.(*DataSource).fillIndexPath":{"github.com/pingcap/tidb/statistics.(*HistColl).GetRowCountByIndexRanges":[{"ID":4,"Ranges":["[NULL,+inf]"]},{"github.com/pingcap/tidb/statistics.(*Index).IsInvalid":{"CollPseudo":false,"IsInvalid":false,"NotAccurate":true,"TotalCount":4314864}},{"Histogram NotNull Count":1551770,"Increase Factor":1,"TopN total count":2127567},{"github.com/pingcap/tidb/statistics.(*Index).GetRowCount":[{"Start estimate range":{"CurrentRowCount":0,"Range":"[NULL,+inf]","LowValueEncoded":"AA==","HighValueEncoded":"+g=="}},{"github.com/pingcap/tidb/statistics.(*Histogram).LessRowCountWithBktIdx":[{"Locate value in buckets":{"Value":"KindBytes \\x00","Exceed":false,"BucketIdx":0,"InBucket":false,"MatchLastValue":false}},{"Related Buckets in Histogram":[{"Index":-1,"Count":-1,"Repeat":-1},{"Index":0,"Count":6373,"Repeat":820}]},{"Bucket idx":0,"Result":0}]},{"github.com/pingcap/tidb/statistics.(*Histogram).LessRowCountWithBktIdx":[{"Locate value in buckets":{"Value":"KindBytes \\xfb","Exceed":true,"BucketIdx":241,"InBucket":false,"MatchLastValue":false}},{"Bucket idx":241,"Result":1551770}]},{"github.com/pingcap/tidb/statistics.(*TopN).BetweenCount":[{"Related TopN Range":{"FirstIdx":0,"FirstEncoded":"AUEAAAAAAAAA+A==","LastIdx":499,"LastEncoded":"AVo1MQAAAAAA+g==","Count":[2886,4602,2106,2418,7644,2145,1716,2925,5070,1911,3354,2535,2262,2574,1833,3198,3471,4095,1794,4407,3042,4992,1794,1872,13962,5070,19032,1950,3081,2418,5031,5070,7020,2886,1833,3003,2106,9126,7098,1950,4251,2730,1677,1794,7410,7371,1911,1638,6552,11505,15366,2145,1950,3393,3120,8502,2574,3471,2262,6162,12246,5148,1833,4251,5070,10452,2028,2925,2535,2067,3042,13728,2769,1755,3627,3510,1872,4134,1989,4602,4329,3783,5694,5187,3003,2067,2964,6630,8502,2574,5772,3315,1716,5733,1794,9048,8658,1638,1677,1950,2145,3705,2613,3978,3861,6981,4524,3003,4953,2769,1872,12480,12597,4758,2067,10608,1833,4953,2106,3081,1989,11193,7644,1755,5265,1989,1638,2496,3549,7722,3666,4797,1638,3393,2028,1833,3003,1989,1872,1794,2769,2028,5694,1989,3081,3042,16419,2106,3588,2535,2535,5187,4680,2457,7410,4056,2145,3900,2067,5070,5538,12090,12831,2964,6318,4602,2145,2652,3432,2574,1911,4953,4251,5811,4095,8073,2301,13221,2730,20826,3978,7137,2535,1950,2964,3393,1716,2145,11310,3939,4407,4134,2535,2106,5265,2301,1833,6747,1989,2457,4680,6474,6591,3081,1911,2067,2028,2730,5031,1638,4914,3432,5148,2652,1755,1677,3471,6318,1833,3432,1872,7371,13416,7176,6201,2301,2028,1911,6630,2691,1872,7137,1677,3978,2964,2301,3081,8580,6825,2457,3627,2028,2340,4914,2457,7449,4641,4602,2301,3237,14118,2028,4017,1638,7371,2418,2145,5460,2535,10569,1872,8229,2184,1794,5772,1794,1638,4329,2067,17433,2691,1872,2184,4524,1989,2535,11115,3354,4680,2067,8736,6123,2301,2808,1677,20319,4602,3549,4446,6201,36699,6825,6630,2535,2340,7059,3549,2847,2223,14586,12675,2106,4719,3237,4329,2769,2808,4953,3393,1638,7605,2496,1833,2457,1872,4836,1950,1872,4173,2067,1794,7683,2262,3198,3237,5304,2652,3120,9867,2301,2067,4719,2184,2301,1638,1911,3081,2886,3042,5265,6201,2379,5850,2067,3588,2496,4836,4095,3198,2067,4563,1677,12129,4134,2730,3783,2184,1872,2496,7683,1638,1833,2145,1833,2184,1872,6942,4290,1755,1911,1755,3978,1950,4641,19071,1911,2223,1677,1794,2535,4017,2379,1638,7878,3003,1716,3705,1872,3900,8853,4485,2886,2379,5304,4407,2574,1638,1989,3666,2028,2613,8658,4407,7059,3003,1638,5811,2769,2067,3627,2028,6864,6981,2262,2691,4914,2808,6552,4407,5031,3861,5304,2613,1950,3744,2574,2184,1989,1950,5499,3783,2691,18174,11700,4134,7917,2613,2262,2379,3159,5421,2262,4251,1755,3003,3939,3939,10803,2301,5538,4290,1677,4329,8346,2028,6981,4329,2223,4953,2301,4797,3510,1716,1989,7917,4290,1872,2379,2262,1716,1950,1872,2145,14781,1716,3510,1677,5499,3744,1833,1716,3003,2964,2769,2223,7059,2340,1755,2964,13689,1950,4290,1872,1716,1755,2301,2028,3861,1677,3393]}},{"Result":2127567}]},{"github.com/pingcap/tidb/statistics.(*Histogram).outOfRangeRowCount":[{"lDatum":"KindBytes \\x00","modifyCount":0,"rDatum":"KindBytes \\xfb"},{"commonPrefix":0,"lScalar":0,"rScalar":18086456103519912000,"unsigned":false},{"boundL":83364743078739970,"boundR":104492544624164860,"histL":90407343593881600,"histR":97449944109023230,"lPercent":1,"rPercent":1,"rowCount":1551770},{"Result":0}]},{"End estimate range":{"RowCount":4314864,"Type":"Range"}}]},{"Name":"char_name_idx_pcode","Result":4314864}]}},{"github.com/pingcap/tidb/planner/core.(*DataSource).fillIndexPath":{"github.com/pingcap/tidb/statistics.(*HistColl).GetRowCountByIndexRanges":[{"ID":5,"Ranges":["[NULL,+inf]"]},{"github.com/pingcap/tidb/statistics.(*Index).IsInvalid":{"CollPseudo":false,"IsInvalid":false,"NotAccurate":true,"TotalCount":4314864}},{"Histogram NotNull Count":4314864,"Increase Factor":1,"TopN total count":0},{"github.com/pingcap/tidb/statistics.(*Index).GetRowCount":[{"Start estimate range":{"CurrentRowCount":0,"Range":"[NULL,+inf]","LowValueEncoded":"AA==","HighValueEncoded":"+g=="}},{"github.com/pingcap/tidb/statistics.(*Histogram).LessRowCountWithBktIdx":[{"Locate value in buckets":{"Value":"KindBytes \\x00","Exceed":false,"BucketIdx":0,"InBucket":false,"MatchLastValue":false}},{"Related Buckets in Histogram":[{"Index":-1,"Count":-1,"Repeat":-1},{"Index":0,"Count":16879,"Repeat":4}]},{"Bucket idx":0,"Result":0}]},{"github.com/pingcap/tidb/statistics.(*Histogram).LessRowCountWithBktIdx":[{"Locate value in buckets":{"Value":"KindBytes \\xfb","Exceed":true,"BucketIdx":255,"InBucket":false,"MatchLastValue":false}},{"Bucket idx":255,"Result":4314864}]},{"github.com/pingcap/tidb/statistics.(*TopN).BetweenCount":{"Result":0}},{"github.com/pingcap/tidb/statistics.(*Histogram).outOfRangeRowCount":[{"lDatum":"KindBytes \\x00","modifyCount":0,"rDatum":"KindBytes \\xfb"},{"commonPrefix":0,"lScalar":0,"rScalar":18086456103519912000,"unsigned":false},{"boundL":70362121240379390,"boundR":116139886854995970,"histL":85621376445251580,"histR":100880631650123780,"lPercent":1,"rPercent":1,"rowCount":4314864},{"Result":0}]},{"End estimate range":{"RowCount":4314864,"Type":"Range"}}]},{"Name":"char_name_idx_md5","Result":4314864}]}},{"github.com/pingcap/tidb/planner/core.(*DataSource).fillIndexPath":{"github.com/pingcap/tidb/statistics.(*HistColl).GetRowCountByIndexRanges":[{"ID":6,"Ranges":["[NULL,+inf]"]},{"github.com/pingcap/tidb/statistics.(*Index).IsInvalid":{"CollPseudo":false,"IsInvalid":false,"NotAccurate":true,"TotalCount":4314864}},{"Histogram NotNull Count":4039602,"Increase Factor":1,"TopN total count":275262},{"github.com/pingcap/tidb/statistics.(*Index).GetRowCount":[{"Start estimate range":{"CurrentRowCount":0,"Range":"[NULL,+inf]","LowValueEncoded":"AA==","HighValueEncoded":"+g=="}},{"github.com/pingcap/tidb/statistics.(*Histogram).LessRowCountWithBktIdx":[{"Locate value in buckets":{"Value":"KindBytes \\x00","Exceed":false,"BucketIdx":0,"InBucket":false,"MatchLastValue":false}},{"Related Buckets in Histogram":[{"Index":-1,"Count":-1,"Repeat":-1},{"Index":0,"Count":15787,"Repeat":2}]},{"Bucket idx":0,"Result":0}]},{"github.com/pingcap/tidb/statistics.(*Histogram).LessRowCountWithBktIdx":[{"Locate value in buckets":{"Value":"KindBytes \\xfb","Exceed":true,"BucketIdx":255,"InBucket":false,"MatchLastValue":false}},{"Bucket idx":255,"Result":4039602}]},{"github.com/pingcap/tidb/statistics.(*TopN).BetweenCount":[{"Related TopN Range":{"FirstIdx":0,"FirstEncoded":"AAAA","LastIdx":499,"LastEncoded":"AVo1MgAAAAAA+gAA","Count":[819,312,1287,741,312,507,429,351,858,390,585,819,351,507,390,312,312,585,312,1131,351,351,312,585,390,780,351,624,624,312,1014,429,507,429,312,1443,663,780,312,624,507,429,1053,312,1170,351,351,702,702,312,351,468,468,546,429,351,741,1053,585,351,780,312,741,312,429,390,312,312,429,351,468,351,1677,312,390,975,351,702,351,351,858,702,312,351,351,312,741,468,390,936,585,390,468,624,390,390,507,351,390,702,429,468,585,312,468,624,663,429,351,897,312,624,351,546,351,858,819,312,429,546,312,702,6396,351,507,312,663,351,429,390,351,312,1248,312,819,312,546,312,2028,819,390,702,351,1170,312,429,780,390,390,546,390,429,1131,1677,390,507,741,351,663,312,546,312,663,624,507,741,312,312,468,312,546,312,507,1170,780,312,468,819,429,507,429,702,624,624,468,312,312,936,468,585,351,624,936,312,858,546,507,312,390,312,312,312,390,351,507,429,663,351,390,468,780,312,351,390,507,3354,351,429,429,819,546,390,312,351,468,1092,312,312,351,312,312,351,390,663,702,819,390,468,351,351,351,429,351,1170,468,312,312,273,975,312,429,897,351,351,429,312,273,312,312,273,312,390,390,312,468,1365,273,780,351,624,663,351,390,468,312,273,663,351,975,312,390,273,780,273,312,585,273,390,468,468,273,1794,312,429,702,663,273,468,390,351,273,1014,780,351,429,390,351,390,429,390,2925,468,312,273,273,1053,858,312,1326,273,273,312,273,273,741,312,273,702,858,273,351,546,702,351,390,702,1326,273,1521,351,468,429,390,1014,273,1599,312,273,273,546,312,468,312,312,351,312,624,312,273,858,312,273,312,390,312,1482,312,273,351,351,429,273,663,390,273,390,273,702,390,585,1287,390,312,312,663,390,507,468,741,429,351,273,429,702,390,585,312,429,507,390,312,507,546,351,273,741,429,390,351,351,390,1950,390,312,273,507,975,546,507,507,273,1209,897,312,390,936,507,273,351,429,663,390,273,2457,273,585,273,273,702,312,273,1326,312,741,312,546,312,312,858,429,663,312,468,390,390,390,546,741,429,429,507,1794,1365,468,780,351,429,858,312,624,741,1677,351,351,663,390,429,312,1131,1404,351,312,351,507,1365,312,312,429,1053,312,702,351,546,780,351,390,546,702,312,468]}},{"Result":275262}]},{"github.com/pingcap/tidb/statistics.(*Histogram).outOfRangeRowCount":[{"lDatum":"KindBytes \\x00","modifyCount":0,"rDatum":"KindBytes \\xfb"},{"commonPrefix":0,"lScalar":0,"rScalar":18086456103519912000,"unsigned":false},{"boundL":83256990935875580,"boundR":104546420700610560,"histL":90353467524120580,"histR":97449944112365570,"lPercent":1,"rPercent":1,"rowCount":4039602},{"Result":0}]},{"End estimate range":{"RowCount":4314864,"Type":"Range"}}]},{"Name":"itest","Result":4314864}]}},{"github.com/pingcap/tidb/planner/core.(*DataSource).fillIndexPath":{"github.com/pingcap/tidb/statistics.(*HistColl).GetRowCountByIndexRanges":[{"ID":7,"Ranges":["(\"I\",\"II\")"]},{"github.com/pingcap/tidb/statistics.(*Index).IsInvalid":{"CollPseudo":false,"IsInvalid":false,"NotAccurate":true,"TotalCount":4314864}},{"Histogram NotNull Count":4039602,"Increase Factor":1,"TopN total count":275262},{"github.com/pingcap/tidb/statistics.(*Index).GetRowCount":[{"Start estimate range":{"CurrentRowCount":0,"Range":"(\"I\",\"II\")","LowValueEncoded":"AUkAAAAAAAAA+A==","HighValueEncoded":"AUlJAAAAAAAA+Q=="}},{"github.com/pingcap/tidb/statistics.(*Histogram).LessRowCountWithBktIdx":[{"Locate value in buckets":{"Value":"KindBytes \\x01I\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\xf9","Exceed":true,"BucketIdx":255,"InBucket":false,"MatchLastValue":false}},{"Bucket idx":255,"Result":4039602}]},{"github.com/pingcap/tidb/statistics.(*Histogram).LessRowCountWithBktIdx":[{"Locate value in buckets":{"Value":"KindBytes \\x01II\\x00\\x00\\x00\\x00\\x00\\x00\\xf9","Exceed":true,"BucketIdx":255,"InBucket":false,"MatchLastValue":false}},{"Bucket idx":255,"Result":4039602}]},{"github.com/pingcap/tidb/statistics.(*TopN).BetweenCount":[{"Related TopN Range":{"FirstIdx":500,"FirstEncoded":null,"LastIdx":499,"LastEncoded":"AAFXMQAAAAAAAPkBSDYyNDEAAAD8","Count":[]}},{"Result":0}]},{"github.com/pingcap/tidb/statistics.(*Histogram).outOfRangeRowCount":[{"lDatum":"KindBytes \\x01I\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\xf9","modifyCount":0,"rDatum":"KindBytes \\x01II\\x00\\x00\\x00\\x00\\x00\\x00\\xf9"},{"commonPrefix":0,"lScalar":92605267337805820,"rScalar":92685531686633470,"unsigned":false},{"boundL":-377906475171840,"boundR":759949003849728,"histL":1378684502016,"histR":380663844175872,"lPercent":0,"rPercent":0,"rowCount":0},{"Result":0}]},{"End estimate range":{"RowCount":0,"Type":"Range"}}]},{"Name":"itest2","Result":0}]}},{"github.com/pingcap/tidb/planner/core.(*DataSource).deriveStatsByFilter":{"github.com/pingcap/tidb/statistics.(*HistColl).Selectivity":[{"Input Expressions":["gt(imdbload.char_name.imdb_index, I)","lt(imdbload.char_name.imdb_index, II)"]},{"github.com/pingcap/tidb/statistics.(*HistColl).GetRowCountByColumnRanges":[{"ID":3,"Ranges":["(\"I\",\"II\")"]},{"github.com/pingcap/tidb/statistics.(*Column).IsInvalid":{"EssentialLoaded":true,"InValidForCollPseudo":false,"IsInvalid":false,"NDV":7,"TotalCount":4314816}},{"Histogram NotNull Count":0,"Increase Factor":1.0000111244604637,"TopN total count":0},{"github.com/pingcap/tidb/statistics.(*Column).GetColumnRowCount":[{"Start estimate range":{"CurrentRowCount":0,"Range":"(\"I\",\"II\")","LowValueEncoded":"AUkAAAAAAAAA+A==","HighValueEncoded":"AUlJAAAAAAAA+Q=="}},{"github.com/pingcap/tidb/statistics.(*Histogram).LessRowCountWithBktIdx":{"Bucket idx":0,"Result":0}},{"github.com/pingcap/tidb/statistics.(*Histogram).LessRowCountWithBktIdx":{"Bucket idx":0,"Result":0}},{"github.com/pingcap/tidb/statistics.(*TopN).BetweenCount":{"Result":0}},{"github.com/pingcap/tidb/statistics.(*Column).equalRowCount":[{"Encoded":"AUkAAAAAAAAA+A==","Value":"KindBytes I"},{"Error":null,"Result":0}]},{"End estimate range":{"RowCount":0,"Type":"Range"}}]},{"Name":"imdb_index","Result":0}]},{"github.com/pingcap/tidb/statistics.(*HistColl).GetRowCountByIndexRanges":[{"ID":7,"Ranges":["(\"I\",\"II\")"]},{"github.com/pingcap/tidb/statistics.(*Index).IsInvalid":{"CollPseudo":false,"IsInvalid":false,"NotAccurate":true,"TotalCount":4314864}},{"Histogram NotNull Count":4039602,"Increase Factor":1,"TopN total count":275262},{"github.com/pingcap/tidb/statistics.(*Index).GetRowCount":[{"Start estimate range":{"CurrentRowCount":0,"Range":"(\"I\",\"II\")","LowValueEncoded":"AUkAAAAAAAAA+A==","HighValueEncoded":"AUlJAAAAAAAA+Q=="}},{"github.com/pingcap/tidb/statistics.(*Histogram).LessRowCountWithBktIdx":[{"Locate value in buckets":{"Value":"KindBytes \\x01I\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\xf9","Exceed":true,"BucketIdx":255,"InBucket":false,"MatchLastValue":false}},{"Bucket idx":255,"Result":4039602}]},{"github.com/pingcap/tidb/statistics.(*Histogram).LessRowCountWithBktIdx":[{"Locate value in buckets":{"Value":"KindBytes \\x01II\\x00\\x00\\x00\\x00\\x00\\x00\\xf9","Exceed":true,"BucketIdx":255,"InBucket":false,"MatchLastValue":false}},{"Bucket idx":255,"Result":4039602}]},{"github.com/pingcap/tidb/statistics.(*TopN).BetweenCount":[{"Related TopN Range":{"FirstIdx":500,"FirstEncoded":null,"LastIdx":499,"LastEncoded":"AAFXMQAAAAAAAPkBSDYyNDEAAAD8","Count":[]}},{"Result":0}]},{"github.com/pingcap/tidb/statistics.(*Histogram).outOfRangeRowCount":[{"lDatum":"KindBytes \\x01I\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\xf9","modifyCount":0,"rDatum":"KindBytes \\x01II\\x00\\x00\\x00\\x00\\x00\\x00\\xf9"},{"commonPrefix":0,"lScalar":92605267337805820,"rScalar":92685531686633470,"unsigned":false},{"boundL":-377906475171840,"boundR":759949003849728,"histL":1378684502016,"histR":380663844175872,"lPercent":0,"rPercent":0,"rowCount":0},{"Result":0}]},{"End estimate range":{"RowCount":0,"Type":"Range"}}]},{"Name":"itest2","Result":0}]},{"Expressions":["gt(imdbload.char_name.imdb_index, I)","lt(imdbload.char_name.imdb_index, II)"],"Selectivity":0,"partial cover":false},{"Result":0}]}},{"github.com/pingcap/tidb/planner/core.(*DataSource).derivePathStatsAndTryHeuristics":[{"github.com/pingcap/tidb/planner/core.(*DataSource).deriveTablePathStats":{"github.com/pingcap/tidb/statistics.(*HistColl).GetRowCountByIntColumnRanges":[{"ID":1,"Ranges":["[-inf,+inf]"]},{"github.com/pingcap/tidb/statistics.(*Column).IsInvalid":{"EssentialLoaded":true,"InValidForCollPseudo":false,"IsInvalid":false,"NDV":4276736,"TotalCount":4314864}},{"Histogram NotNull Count":4314864,"Increase Factor":1,"TopN total count":0},{"github.com/pingcap/tidb/statistics.(*Column).GetColumnRowCount":[{"Start estimate range":{"CurrentRowCount":0,"Range":"[-inf,+inf]","LowValueEncoded":"AwAAAAAAAAAA","HighValueEncoded":"A///////////"}},{"github.com/pingcap/tidb/statistics.(*Histogram).LessRowCountWithBktIdx":[{"Locate value in buckets":{"Value":"KindInt64 -9223372036854775808","Exceed":false,"BucketIdx":0,"InBucket":false,"MatchLastValue":false}},{"Related Buckets in Histogram":[{"Index":-1,"Count":-1,"Repeat":-1},{"Index":0,"Count":16879,"Repeat":1}]},{"Bucket idx":0,"Result":0}]},{"github.com/pingcap/tidb/statistics.(*Histogram).LessRowCountWithBktIdx":[{"Locate value in buckets":{"Value":"KindInt64 9223372036854775807","Exceed":true,"BucketIdx":255,"InBucket":false,"MatchLastValue":false}},{"Bucket idx":255,"Result":4314864}]},{"github.com/pingcap/tidb/statistics.(*TopN).BetweenCount":{"Result":0}},{"github.com/pingcap/tidb/statistics.(*Column).equalRowCount":[{"Encoded":"A///////////","Value":"KindInt64 9223372036854775807"},{"github.com/pingcap/tidb/statistics.(*Histogram).equalRowCount":[{"Locate value in buckets":{"Value":"KindInt64 9223372036854775807","Exceed":true,"BucketIdx":255,"InBucket":false,"MatchLastValue":false}},{"Count":0,"Matched":false}]},{"Error":null,"Result":1.0089152101041543}]},{"github.com/pingcap/tidb/statistics.(*Histogram).outOfRangeRowCount":[{"lDatum":"KindInt64 -9223372036854775808","modifyCount":0,"rDatum":"KindInt64 9223372036854775807"},{"commonPrefix":0,"lScalar":-9223372036854776000,"rScalar":9223372036854776000,"unsigned":false},{"boundL":-4314756,"boundR":8629557,"histL":15,"histR":4314786,"lPercent":1,"rPercent":1,"rowCount":4314864},{"Result":0}]},{"End estimate range":{"RowCount":4314864,"Type":"Range"}}]},{"Name":"id","Result":4314864}]}},{"github.com/pingcap/tidb/planner/core.(*DataSource).deriveIndexPathStats":null},{"github.com/pingcap/tidb/planner/core.(*DataSource).deriveIndexPathStats":null},{"github.com/pingcap/tidb/planner/core.(*DataSource).deriveIndexPathStats":null},{"github.com/pingcap/tidb/planner/core.(*DataSource).deriveIndexPathStats":null},{"github.com/pingcap/tidb/planner/core.(*DataSource).deriveIndexPathStats":null},{"github.com/pingcap/tidb/planner/core.(*DataSource).deriveIndexPathStats":null},{"github.com/pingcap/tidb/planner/core.(*DataSource).deriveIndexPathStats":null}]},{"github.com/pingcap/tidb/planner/core.(*DataSource).generateIndexMergePath":null},{"Access paths":[{"AccessConditions":[],"IndexFilters":[],"TableFilters":["gt(imdbload.char_name.imdb_index, I)","lt(imdbload.char_name.imdb_index, II)"],"CountAfterAccess":4314864,"CountAfterIndex":0},{"IndexName":"char_name_idx_name","AccessConditions":[],"IndexFilters":[],"TableFilters":["gt(imdbload.char_name.imdb_index, I)","lt(imdbload.char_name.imdb_index, II)"],"CountAfterAccess":4314864,"CountAfterIndex":4314864},{"IndexName":"char_name_idx_imdb_id","AccessConditions":[],"IndexFilters":[],"TableFilters":["gt(imdbload.char_name.imdb_index, I)","lt(imdbload.char_name.imdb_index, II)"],"CountAfterAccess":4314864,"CountAfterIndex":4314864},{"IndexName":"char_name_idx_pcodenf","AccessConditions":[],"IndexFilters":[],"TableFilters":["gt(imdbload.char_name.imdb_index, I)","lt(imdbload.char_name.imdb_index, II)"],"CountAfterAccess":4314864,"CountAfterIndex":4314864},{"IndexName":"char_name_idx_pcode","AccessConditions":[],"IndexFilters":[],"TableFilters":["gt(imdbload.char_name.imdb_index, I)","lt(imdbload.char_name.imdb_index, II)"],"CountAfterAccess":4314864,"CountAfterIndex":4314864},{"IndexName":"char_name_idx_md5","AccessConditions":[],"IndexFilters":[],"TableFilters":["gt(imdbload.char_name.imdb_index, I)","lt(imdbload.char_name.imdb_index, II)"],"CountAfterAccess":4314864,"CountAfterIndex":4314864},{"IndexName":"itest","AccessConditions":[],"IndexFilters":[],"TableFilters":["gt(imdbload.char_name.imdb_index, I)","lt(imdbload.char_name.imdb_index, II)"],"CountAfterAccess":4314864,"CountAfterIndex":4314864},{"IndexName":"itest2","AccessConditions":["gt(imdbload.char_name.imdb_index, I)","lt(imdbload.char_name.imdb_index, II)"],"IndexFilters":[],"TableFilters":[],"CountAfterAccess":0,"CountAfterIndex":0}]}]}]}]}}]}]

explain select * from char_name where imdb_index > 'I';
id	estRows	task	access object	operator info
IndexLookUp_10	0.00	root		
├─IndexRangeScan_8(Build)	0.00	cop[tikv]	table:char_name, index:itest2(imdb_index, surname_pcode, name_pcode_nf)	range:("I",+inf], keep order:false
└─TableRowIDScan_9(Probe)	0.00	cop[tikv]	table:char_name	keep order:false
trace plan target = 'estimation' select * from char_name where imdb_index > 'I';
CE_trace
[{"table_name":"char_name","type":"Column Stats-Range","expr":"((id >= -9223372036854775808 and id <= 9223372036854775807))","row_count":4314864},{"table_name":"char_name","type":"Column Stats-Range","expr":"((imdb_index > 'I' and true))","row_count":0},{"table_name":"char_name","type":"Index Stats-Range","expr":"((imdb_index > 'I' and true))","row_count":0},{"table_name":"char_name","type":"Table Stats-Expression-CNF","expr":"`gt`(imdbload.char_name.imdb_index, 'I')","row_count":0}]

explain select * from cast_info where nr_order < -2068070866;
id	estRows	task	access object	operator info
IndexLookUp_10	83406.52	root		
├─IndexRangeScan_8(Build)	83406.52	cop[tikv]	table:cast_info, index:itest2(nr_order, person_role_id, note)	range:[-inf,-2068070866), keep order:false
└─TableRowIDScan_9(Probe)	83406.52	cop[tikv]	table:cast_info	keep order:false
explain select * from aka_title where kind_id = 5;
id	estRows	task	access object	operator info
IndexLookUp_10	34260.33	root		
├─IndexRangeScan_8(Build)	34260.33	cop[tikv]	table:aka_title, index:aka_title_idx_kindid(kind_id)	range:[5,5], keep order:false
└─TableRowIDScan_9(Probe)	34260.33	cop[tikv]	table:aka_title	keep order:false
explain select * from aka_title where kind_id > 7;
id	estRows	task	access object	operator info
IndexLookUp_10	0.00	root		
├─IndexRangeScan_8(Build)	0.00	cop[tikv]	table:aka_title, index:aka_title_idx_kindid(kind_id)	range:(7,+inf], keep order:false
└─TableRowIDScan_9(Probe)	0.00	cop[tikv]	table:aka_title	keep order:false
trace plan target = 'estimation' select * from aka_title where kind_id > 7;
CE_trace
[{"table_name":"aka_title","type":"Column Stats-Range","expr":"((id >= -9223372036854775808 and id <= 9223372036854775807))","row_count":528337},{"table_name":"aka_title","type":"Column Stats-Range","expr":"((kind_id > 7 and true))","row_count":0},{"table_name":"aka_title","type":"Index Stats-Range","expr":"((kind_id > 7 and true))","row_count":0},{"table_name":"aka_title","type":"Table Stats-Expression-CNF","expr":"`gt`(imdbload.aka_title.kind_id, 7)","row_count":0}]

explain select * from keyword where ((phonetic_code = 'R1652') and (keyword > 'ecg-monitor' and keyword < 'killers'));
id	estRows	task	access object	operator info
IndexLookUp_11	901.00	root		
├─IndexRangeScan_8(Build)	901.00	cop[tikv]	table:keyword, index:itest(phonetic_code, keyword)	range:("R1652" "ecg-monitor","R1652" "killers"), keep order:false
└─Selection_10(Probe)	901.00	cop[tikv]		gt(imdbload.keyword.keyword, "ecg-monitor"), lt(imdbload.keyword.keyword, "killers")
  └─TableRowIDScan_9	901.00	cop[tikv]	table:keyword	keep order:false
trace plan target = 'estimation' select * from keyword where ((phonetic_code = 'R1652') and (keyword > 'ecg-monitor' and keyword < 'killers'));
CE_trace
[{"table_name":"keyword","type":"Column Stats-Point","expr":"((phonetic_code = 'R1652'))","row_count":23480},{"table_name":"keyword","type":"Column Stats-Range","expr":"((id >= -9223372036854775808 and id <= 9223372036854775807))","row_count":236627},{"table_name":"keyword","type":"Column Stats-Range","expr":"((keyword > 'ecg-monitor' and keyword < 'killers'))","row_count":44075},{"table_name":"keyword","type":"Index Stats-Point","expr":"((phonetic_code = 'R1652'))","row_count":23480},{"table_name":"keyword","type":"Index Stats-Range","expr":"((keyword >= 'ecg-m' and keyword <= 'kille'))","row_count":44036},{"table_name":"keyword","type":"Index Stats-Range","expr":"((phonetic_code = 'R1652') and (keyword > 'ecg-monitor' and keyword < 'killers'))","row_count":901},{"table_name":"keyword","type":"Table Stats-Expression-CNF","expr":"`and`(`eq`(imdbload.keyword.phonetic_code, 'R1652'), `and`(`gt`(imdbload.keyword.keyword, 'ecg-monitor'), `lt`(imdbload.keyword.keyword, 'killers')))","row_count":901}]

explain select * from cast_info where (nr_order is null) and (person_role_id = 2) and (note >= '(key set pa: Florida');
id	estRows	task	access object	operator info
IndexLookUp_11	144633.00	root		
├─IndexRangeScan_8(Build)	144633.00	cop[tikv]	table:cast_info, index:itest2(nr_order, person_role_id, note)	range:[NULL 2 "(key set pa: Florida",NULL 2 +inf], keep order:false
└─Selection_10(Probe)	144633.00	cop[tikv]		ge(imdbload.cast_info.note, "(key set pa: Florida")
  └─TableRowIDScan_9	144633.00	cop[tikv]	table:cast_info	keep order:false
trace plan target = 'estimation' select * from cast_info where (nr_order is null) and (person_role_id = 2) and (note >= '(key set pa: Florida');
CE_trace
[{"table_name":"cast_info","type":"Column Stats-Point","expr":"((nr_order is null))","row_count":45995275},{"table_name":"cast_info","type":"Column Stats-Point","expr":"((person_role_id = 2))","row_count":2089611},{"table_name":"cast_info","type":"Column Stats-Range","expr":"((id >= -9223372036854775808 and id <= 9223372036854775807))","row_count":63475835},{"table_name":"cast_info","type":"Column Stats-Range","expr":"((note >= '(key set pa: Florida' and true))","row_count":14934328},{"table_name":"cast_info","type":"Index Stats-Point","expr":"((person_role_id = 2))","row_count":2089611},{"table_name":"cast_info","type":"Index Stats-Range","expr":"((nr_order is null) and (person_role_id = 2) and (note >= '(key set pa: Florida' and true))","row_count":144633},{"table_name":"cast_info","type":"Table Stats-Expression-CNF","expr":"`and`(`isnull`(imdbload.cast_info.nr_order), `and`(`eq`(imdbload.cast_info.person_role_id, 2), `ge`(imdbload.cast_info.note, '(key set pa: Florida')))","row_count":144633},{"table_name":"cast_info","type":"Table Stats-Expression-CNF","expr":"`eq`(imdbload.cast_info.person_role_id, 2)","row_count":2089611}]

trace plan target = 'debug' select * from cast_info where (nr_order is null) and (person_role_id = 2) and (note >= '(key set pa: Florida');
Debug_trace
[{"github.com/pingcap/tidb/planner.Optimize":[{"Enable binding":true,"IsStmtNode":true,"Matched":false,"Matched bindings":null,"Scope":"","Used binding":false},{"github.com/pingcap/tidb/planner.optimize":{"github.com/pingcap/tidb/planner/core.DoOptimize":[{"github.com/pingcap/tidb/planner/core.logicalOptimize":null},{"github.com/pingcap/tidb/planner/core.physicalOptimize":[{"github.com/pingcap/tidb/planner/core.getStatsTable":{"TableName":"cast_info","TblInfoID":803,"InputPhysicalID":803,"HandleIsNil":false,"UsePartitionStats":false,"CountIsZero":false,"Uninitialized":false,"Outdated":false,"StatsTblInfo":{"PhysicalID":803,"Version":440762123450056704,"Count":63475835,"ModifyCount":0,"Columns":[{"ID":1,"Name":"id","NDV":63234048,"NullCount":0,"LastUpdateVersion":440762123097997312,"TotColSize":571282515,"Correlation":1,"StatsVer":2,"LoadingStatus":"allLoaded","HistogramSize":256,"TopNSize":-1,"CMSketchInfo":null},{"ID":2,"Name":"person_id","NDV":6228992,"NullCount":0,"LastUpdateVersion":440762122938351616,"TotColSize":571282515,"Correlation":0.6677171797311477,"StatsVer":2,"LoadingStatus":"allLoaded","HistogramSize":256,"TopNSize":500,"CMSketchInfo":null},{"ID":3,"Name":"movie_id","NDV":4213760,"NullCount":0,"LastUpdateVersion":440762122799415296,"TotColSize":571282515,"Correlation":-0.01763938591115808,"StatsVer":2,"LoadingStatus":"allLoaded","HistogramSize":256,"TopNSize":1,"CMSketchInfo":null},{"ID":4,"Name":"person_role_id","NDV":4276736,"NullCount":34050783,"LastUpdateVersion":440762123016732672,"TotColSize":264825468,"Correlation":0.8230048461078906,"StatsVer":2,"LoadingStatus":"allLoaded","HistogramSize":255,"TopNSize":500,"CMSketchInfo":null},{"ID":5,"Name":"note","NDV":1114240,"NullCount":37227295,"LastUpdateVersion":440762122831921152,"TotColSize":524324669,"Correlation":6.418210635924958,"StatsVer":2,"LoadingStatus":"allLoaded","HistogramSize":253,"TopNSize":500,"CMSketchInfo":null},{"ID":6,"Name":"nr_order","NDV":1666,"NullCount":45995275,"LastUpdateVersion":440762122909777920,"TotColSize":157325040,"Correlation":3.4169356213990696,"StatsVer":2,"LoadingStatus":"allLoaded","HistogramSize":122,"TopNSize":108,"CMSketchInfo":null},{"ID":7,"Name":"role_id","NDV":11,"NullCount":0,"LastUpdateVersion":440762123092492288,"TotColSize":571282515,"Correlation":1,"StatsVer":2,"LoadingStatus":"allLoaded","HistogramSize":2,"TopNSize":9,"CMSketchInfo":null}],"Indexes":[{"ID":1,"Name":"cast_info_idx_pid","NDV":6228992,"NullCount":0,"LastUpdateVersion":440762123372724224,"TotColSize":0,"Correlation":0,"StatsVer":2,"LoadingStatus":"allLoaded","HistogramSize":256,"TopNSize":500,"CMSketchInfo":null},{"ID":2,"Name":"cast_info_idx_mid","NDV":4213760,"NullCount":0,"LastUpdateVersion":440762123334975488,"TotColSize":0,"Correlation":0,"StatsVer":2,"LoadingStatus":"allLoaded","HistogramSize":256,"TopNSize":1,"CMSketchInfo":null},{"ID":3,"Name":"cast_info_idx_cid","NDV":4276736,"NullCount":34050783,"LastUpdateVersion":440762123255545856,"TotColSize":0,"Correlation":0,"StatsVer":2,"LoadingStatus":"allLoaded","HistogramSize":255,"TopNSize":500,"CMSketchInfo":null},{"ID":4,"Name":"cast_info_idx_rid","NDV":11,"NullCount":0,"LastUpdateVersion":440762123131551744,"TotColSize":0,"Correlation":0,"StatsVer":2,"LoadingStatus":"allLoaded","HistogramSize":2,"TopNSize":9,"CMSketchInfo":null},{"ID":5,"Name":"itest","NDV":61136896,"NullCount":0,"LastUpdateVersion":440762123136270337,"TotColSize":0,"Correlation":0,"StatsVer":2,"LoadingStatus":"allLoaded","HistogramSize":256,"TopNSize":-1,"CMSketchInfo":null},{"ID":6,"Name":"itest2","NDV":8099840,"NullCount":0,"LastUpdateVersion":440762123174281216,"TotColSize":0,"Correlation":0,"StatsVer":2,"LoadingStatus":"allLoaded","HistogramSize":255,"TopNSize":500,"CMSketchInfo":null}]}}},{"github.com/pingcap/tidb/planner/core.(*DataSource).DeriveStats":[{"github.com/pingcap/tidb/planner/core.(*DataSource).fillIndexPath":{"github.com/pingcap/tidb/statistics.(*HistColl).GetRowCountByIndexRanges":[{"ID":1,"Ranges":["[NULL,+inf]"]},{"github.com/pingcap/tidb/statistics.(*Index).IsInvalid":{"CollPseudo":false,"IsInvalid":false,"NotAccurate":true,"TotalCount":63475834}},{"Histogram NotNull Count":61227992,"Increase Factor":1.000000015754027,"TopN total count":2247842},{"github.com/pingcap/tidb/statistics.(*Index).GetRowCount":[{"Start estimate range":{"CurrentRowCount":0,"Range":"[NULL,+inf]","LowValueEncoded":"AA==","HighValueEncoded":"+g=="}},{"github.com/pingcap/tidb/statistics.(*Histogram).LessRowCountWithBktIdx":[{"Locate value in buckets":{"Value":"KindBytes \\x00","Exceed":false,"BucketIdx":0,"InBucket":false,"MatchLastValue":false}},{"Related Buckets in Histogram":[{"Index":-1,"Count":-1,"Repeat":-1},{"Index":0,"Count":239424,"Repeat":1156}]},{"Bucket idx":0,"Result":0}]},{"github.com/pingcap/tidb/statistics.(*Histogram).LessRowCountWithBktIdx":[{"Locate value in buckets":{"Value":"KindBytes \\xfb","Exceed":true,"BucketIdx":255,"InBucket":false,"MatchLastValue":false}},{"Bucket idx":255,"Result":61227992}]},{"github.com/pingcap/tidb/statistics.(*TopN).BetweenCount":[{"Related TopN Range":{"FirstIdx":0,"FirstEncoded":"A4AAAAAAAExU","LastIdx":499,"LastEncoded":"A4AAAAAAXayR","Count":[4046,3468,3468,5202,7514,3468,3468,5202,4046,4046,4046,3468,3468,5780,3468,4046,12138,5780,12716,5780,4624,3468,12138,13294,4046,4046,4624,3468,4046,3468,3468,6936,3468,3468,3468,5202,3468,5202,5202,3468,4624,5780,4046,3468,4046,3468,4046,3468,8670,4046,3468,3468,5202,4624,5780,3468,4046,3468,6936,4046,6936,3468,4046,5202,3468,4046,3468,4624,4046,3468,3468,3468,3468,4624,3468,3468,3468,3468,4046,4624,4046,3468,3468,6358,4046,3468,4624,3468,8092,4046,4624,4046,4046,4624,3468,7514,9826,7514,4046,3468,4046,4624,3468,4046,10404,4624,3468,5780,4624,3468,4046,3468,4046,3468,3468,5202,4046,4046,5202,4624,3468,3468,3468,3468,4046,3468,3468,4046,6358,4624,4046,5780,7514,3468,5780,4046,4624,5780,3468,3468,5202,9248,3468,8670,17340,3468,3468,4046,4046,6358,4046,5202,3468,5780,4046,3468,3468,4624,4624,4046,3468,3468,3468,3468,4046,4624,3468,4624,5202,5202,4624,4624,4046,4046,4624,4046,3468,4046,3468,5780,3468,3468,5202,11560,4046,3468,3468,3468,4046,3468,4624,4624,3468,3468,9248,5202,4624,5202,3468,3468,4046,3468,5202,3468,4046,4046,4046,4046,4046,3468,4046,3468,4624,3468,4046,5202,5780,4624,5202,6936,3468,5202,7514,4046,3468,4046,10404,3468,4046,3468,3468,4624,4046,3468,4046,4046,12138,3468,5780,15028,5202,3468,3468,3468,4624,3468,4624,3468,5780,10982,3468,4046,4046,4046,3468,5202,15606,5202,11560,3468,4046,6358,2890,4046,5202,5780,3468,3468,2890,3468,5202,4046,3468,3468,3468,7514,2890,2890,2890,3468,5202,3468,2890,2890,2890,2890,4046,4046,12138,4046,3468,2890,3468,2890,2890,2890,2890,2890,4046,4046,3468,2890,4624,3468,2890,2890,4046,2890,2890,5202,2890,2890,2890,3468,4046,3468,2890,2890,2890,4624,2890,2890,9248,4046,4624,3468,2890,2890,2890,2890,2890,2890,3468,5202,2890,3468,4624,4046,4046,3468,6358,3468,4624,3468,4046,4624,4624,3468,3468,4046,3468,5202,4046,3468,5780,4046,6358,9826,3468,3468,3468,4046,4624,3468,3468,4624,4046,3468,3468,3468,3468,4046,3468,5202,5202,5202,5780,3468,4046,4624,3468,5780,6358,3468,3468,3468,5780,3468,3468,4046,4624,5202,3468,4624,4046,4046,3468,3468,5780,4624,3468,4624,4624,5780,3468,3468,3468,8092,8670,4624,4046,4046,4046,8092,4046,3468,3468,4046,3468,4046,3468,3468,4046,4046,4046,3468,6358,4046,5202,3468,3468,3468,4624,3468,4046,3468,4624,4624,3468,5202,3468,4046,4624,3468,5202,3468,4624,5202,4046,5202,5202,3468,4624,5780,5780,5202,3468,3468,3468,3468,5780,3468,3468,3468,4046,3468,3468,3468,3468,4046,3468,8092,10404,3468,5202,6358,3468,3468,3468,6358,4046,4046,4046,4624,3468,6936,4624,3468,4624,4046,4046,3468,5202,4046,7514,4624,3468,4046,3468,5780]}},{"Result":2247842}]},{"github.com/pingcap/tidb/statistics.(*Histogram).outOfRangeRowCount":[{"lDatum":"KindBytes \\x00","modifyCount":0,"rDatum":"KindBytes \\xfb"},{"commonPrefix":0,"lScalar":0,"rScalar":18086456103519912000,"unsigned":false},{"boundL":252201579132723460,"boundR":252201579132796400,"histL":252201579132747780,"histR":252201579132772100,"lPercent":1,"rPercent":1,"rowCount":61227992},{"Result":0}]},{"End estimate range":{"RowCount":63475835,"Type":"Range"}}]},{"Name":"cast_info_idx_pid","Result":63475835}]}},{"github.com/pingcap/tidb/planner/core.(*DataSource).fillIndexPath":{"github.com/pingcap/tidb/statistics.(*HistColl).GetRowCountByIndexRanges":[{"ID":2,"Ranges":["[NULL,+inf]"]},{"github.com/pingcap/tidb/statistics.(*Index).IsInvalid":{"CollPseudo":false,"IsInvalid":false,"NotAccurate":true,"TotalCount":63475835}},{"Histogram NotNull Count":63472945,"Increase Factor":1,"TopN total count":2890},{"github.com/pingcap/tidb/statistics.(*Index).GetRowCount":[{"Start estimate range":{"CurrentRowCount":0,"Range":"[NULL,+inf]","LowValueEncoded":"AA==","HighValueEncoded":"+g=="}},{"github.com/pingcap/tidb/statistics.(*Histogram).LessRowCountWithBktIdx":[{"Locate value in buckets":{"Value":"KindBytes \\x00","Exceed":false,"BucketIdx":0,"InBucket":false,"MatchLastValue":false}},{"Related Buckets in Histogram":[{"Index":-1,"Count":-1,"Repeat":-1},{"Index":0,"Count":248094,"Repeat":15}]},{"Bucket idx":0,"Result":0}]},{"github.com/pingcap/tidb/statistics.(*Histogram).LessRowCountWithBktIdx":[{"Locate value in buckets":{"Value":"KindBytes \\xfb","Exceed":true,"BucketIdx":255,"InBucket":false,"MatchLastValue":false}},{"Bucket idx":255,"Result":63472945}]},{"github.com/pingcap/tidb/statistics.(*TopN).BetweenCount":[{"Related TopN Range":{"FirstIdx":0,"FirstEncoded":"A4AAAAAAQ5lg","LastIdx":0,"LastEncoded":"A4AAAAAAQ5lg","Count":[2890]}},{"Result":2890}]},{"github.com/pingcap/tidb/statistics.(*Histogram).outOfRangeRowCount":[{"lDatum":"KindBytes \\x00","modifyCount":0,"rDatum":"KindBytes \\xfb"},{"commonPrefix":0,"lScalar":0,"rScalar":18086456103519912000,"unsigned":false},{"boundL":252201579132729300,"boundR":252201579132784700,"histL":252201579132747780,"histR":252201579132766240,"lPercent":1,"rPercent":1,"rowCount":63472945},{"Result":0}]},{"End estimate range":{"RowCount":63475835,"Type":"Range"}}]},{"Name":"cast_info_idx_mid","Result":63475835}]}},{"github.com/pingcap/tidb/planner/core.(*DataSource).fillIndexPath":{"github.com/pingcap/tidb/statistics.(*HistColl).GetRowCountByIndexRanges":[{"ID":3,"Ranges":["[2,2]"]},{"github.com/pingcap/tidb/statistics.(*Index).IsInvalid":{"CollPseudo":false,"IsInvalid":false,"NotAccurate":true,"TotalCount":63475835}},{"Histogram NotNull Count":20973389,"Increase Factor":1,"TopN total count":8451663},{"github.com/pingcap/tidb/statistics.(*Index).GetRowCount":[{"Start estimate range":{"CurrentRowCount":0,"Range":"[2,2]","LowValueEncoded":"A4AAAAAAAAAC","HighValueEncoded":"A4AAAAAAAAAC"}},{"github.com/pingcap/tidb/statistics.(*Index).equalRowCount":[{"Encoded Value":"A4AAAAAAAAAC"},{"github.com/pingcap/tidb/statistics.(*TopN).QueryTopN":[{"FindTopN idx":0},{"Found":true,"Result":2089611}]},{"Result":2089611}]},{"End estimate range":{"RowCount":2089611,"Type":"Point"}}]},{"Name":"cast_info_idx_cid","Result":2089611}]}},{"github.com/pingcap/tidb/planner/core.(*DataSource).fillIndexPath":{"github.com/pingcap/tidb/statistics.(*HistColl).GetRowCountByIndexRanges":[{"ID":4,"Ranges":["[NULL,+inf]"]},{"github.com/pingcap/tidb/statistics.(*Index).IsInvalid":{"CollPseudo":false,"IsInvalid":false,"NotAccurate":true,"TotalCount":63475835}},{"Histogram NotNull Count":1064551,"Increase Factor":1,"TopN total count":62411284},{"github.com/pingcap/tidb/statistics.(*Index).GetRowCount":[{"Start estimate range":{"CurrentRowCount":0,"Range":"[NULL,+inf]","LowValueEncoded":"AA==","HighValueEncoded":"+g=="}},{"github.com/pingcap/tidb/statistics.(*Histogram).LessRowCountWithBktIdx":[{"Locate value in buckets":{"Value":"KindBytes \\x00","Exceed":false,"BucketIdx":0,"InBucket":false,"MatchLastValue":false}},{"Related Buckets in Histogram":[{"Index":-1,"Count":-1,"Repeat":-1},{"Index":0,"Count":508691,"Repeat":508644}]},{"Bucket idx":0,"Result":0}]},{"github.com/pingcap/tidb/statistics.(*Histogram).LessRowCountWithBktIdx":[{"Locate value in buckets":{"Value":"KindBytes \\xfb","Exceed":true,"BucketIdx":1,"InBucket":false,"MatchLastValue":false}},{"Bucket idx":1,"Result":1064551}]},{"github.com/pingcap/tidb/statistics.(*TopN).BetweenCount":[{"Related TopN Range":{"FirstIdx":0,"FirstEncoded":"A4AAAAAAAAAB","LastIdx":8,"LastEncoded":"A4AAAAAAAAAK","Count":[20533450,12716578,7909352,5292168,1564068,1328822,3165706,2152472,7748668]}},{"Result":62411284}]},{"github.com/pingcap/tidb/statistics.(*Histogram).outOfRangeRowCount":[{"lDatum":"KindBytes \\x00","modifyCount":0,"rDatum":"KindBytes \\xfb"},{"commonPrefix":0,"lScalar":0,"rScalar":18086456103519912000,"unsigned":false},{"Result":0}]},{"End estimate range":{"RowCount":63475835,"Type":"Range"}}]},{"Name":"cast_info_idx_rid","Result":63475835}]}},{"github.com/pingcap/tidb/planner/core.(*DataSource).fillIndexPath":{"github.com/pingcap/tidb/statistics.(*HistColl).GetRowCountByIndexRanges":[{"ID":5,"Ranges":["[NULL,+inf]"]},{"github.com/pingcap/tidb/statistics.(*Index).IsInvalid":{"CollPseudo":false,"IsInvalid":false,"NotAccurate":true,"TotalCount":63475835}},{"Histogram NotNull Count":63475835,"Increase Factor":1,"TopN total count":0},{"github.com/pingcap/tidb/statistics.(*Index).GetRowCount":[{"Start estimate range":{"CurrentRowCount":0,"Range":"[NULL,+inf]","LowValueEncoded":"AA==","HighValueEncoded":"+g=="}},{"github.com/pingcap/tidb/statistics.(*Histogram).LessRowCountWithBktIdx":[{"Locate value in buckets":{"Value":"KindBytes \\x00","Exceed":false,"BucketIdx":0,"InBucket":false,"MatchLastValue":false}},{"Related Buckets in Histogram":[{"Index":-1,"Count":-1,"Repeat":-1},{"Index":0,"Count":248094,"Repeat":1}]},{"Bucket idx":0,"Result":0}]},{"github.com/pingcap/tidb/statistics.(*Histogram).LessRowCountWithBktIdx":[{"Locate value in buckets":{"Value":"KindBytes \\xfb","Exceed":true,"BucketIdx":255,"InBucket":false,"MatchLastValue":false}},{"Bucket idx":255,"Result":63475835}]},{"github.com/pingcap/tidb/statistics.(*TopN).BetweenCount":{"Result":0}},{"github.com/pingcap/tidb/statistics.(*Histogram).outOfRangeRowCount":[{"lDatum":"KindBytes \\x00","modifyCount":0,"rDatum":"KindBytes \\xfb"},{"commonPrefix":0,"lScalar":0,"rScalar":18086456103519912000,"unsigned":false},{"boundL":252201579132723460,"boundR":252201579132796400,"histL":252201579132747780,"histR":252201579132772100,"lPercent":1,"rPercent":1,"rowCount":63475835},{"Result":0}]},{"End estimate range":{"RowCount":63475835,"Type":"Range"}}]},{"Name":"itest","Result":63475835}]}},{"github.com/pingcap/tidb/planner/core.(*DataSource).fillIndexPath":{"github.com/pingcap/tidb/statistics.(*HistColl).GetRowCountByIndexRanges":[{"ID":6,"Ranges":["[NULL 2 \"(key set pa: Florida\",NULL 2 +inf]"]},{"github.com/pingcap/tidb/statistics.(*Index).IsInvalid":{"CollPseudo":false,"IsInvalid":false,"NotAccurate":true,"TotalCount":63475835}},{"Histogram NotNull Count":29788839,"Increase Factor":1,"TopN total count":33686996},{"github.com/pingcap/tidb/statistics.(*Index).GetRowCount":[{"Start estimate range":{"CurrentRowCount":0,"Range":"[NULL 2 \"(key set pa: Florida\",NULL 2 +inf]","LowValueEncoded":"AAOAAAAAAAAAAgEoa2V5IHNldP8gcGE6IEZsb/9yaWRhAAAAAPs=","HighValueEncoded":"AAOAAAAAAAAAAvo="}},{"github.com/pingcap/tidb/statistics.(*Index).expBackoffEstimation":[{"github.com/pingcap/tidb/statistics.(*Column).IsInvalid":{"EssentialLoaded":true,"InValidForCollPseudo":false,"IsInvalid":false,"NDV":1666,"TotalCount":63475835}},{"github.com/pingcap/tidb/statistics.(*HistColl).GetRowCountByColumnRanges":[{"ID":6,"Ranges":["[NULL,NULL]"]},{"github.com/pingcap/tidb/statistics.(*Column).IsInvalid":{"EssentialLoaded":true,"InValidForCollPseudo":false,"IsInvalid":false,"NDV":1666,"TotalCount":63475835}},{"Histogram NotNull Count":123877,"Increase Factor":1,"TopN total count":17356683},{"github.com/pingcap/tidb/statistics.(*Column).GetColumnRowCount":[{"Start estimate range":{"CurrentRowCount":0,"Range":"[NULL,NULL]","LowValueEncoded":"AA==","HighValueEncoded":"AA=="}},{"github.com/pingcap/tidb/statistics.(*Column).equalRowCount":[{"Encoded":"AA==","Value":"KindNull <nil>"},{"Error":null,"Result":45995275}]},{"End estimate range":{"RowCount":45995275,"Type":"Point"}}]},{"Name":"nr_order","Result":45995275}]},{"github.com/pingcap/tidb/statistics.(*Column).IsInvalid":{"EssentialLoaded":true,"InValidForCollPseudo":false,"IsInvalid":false,"NDV":4276736,"TotalCount":63475835}},{"github.com/pingcap/tidb/statistics.(*HistColl).GetRowCountByColumnRanges":[{"ID":4,"Ranges":["[2,2]"]},{"github.com/pingcap/tidb/statistics.(*Column).IsInvalid":{"EssentialLoaded":true,"InValidForCollPseudo":false,"IsInvalid":false,"NDV":4276736,"TotalCount":63475835}},{"Histogram NotNull Count":20973389,"Increase Factor":1,"TopN total count":8451663},{"github.com/pingcap/tidb/statistics.(*Column).GetColumnRowCount":[{"Start estimate range":{"CurrentRowCount":0,"Range":"[2,2]","LowValueEncoded":"A4AAAAAAAAAC","HighValueEncoded":"A4AAAAAAAAAC"}},{"github.com/pingcap/tidb/statistics.(*Column).equalRowCount":[{"Encoded":"A4AAAAAAAAAC","Value":"KindInt64 2"},{"github.com/pingcap/tidb/statistics.(*TopN).QueryTopN":[{"FindTopN idx":0},{"Found":true,"Result":2089611}]},{"Error":null,"Result":2089611}]},{"End estimate range":{"RowCount":2089611,"Type":"Point"}}]},{"Name":"person_role_id","Result":2089611}]},{"github.com/pingcap/tidb/statistics.(*Column).IsInvalid":{"EssentialLoaded":true,"InValidForCollPseudo":false,"IsInvalid":false,"NDV":1114240,"TotalCount":63475835}},{"github.com/pingcap/tidb/statistics.(*HistColl).GetRowCountByColumnRanges":[{"ID":5,"Ranges":["[\"(key set pa: Florida\",+inf]"]},{"github.com/pingcap/tidb/statistics.(*Column).IsInvalid":{"EssentialLoaded":true,"InValidForCollPseudo":false,"IsInvalid":false,"NDV":1114240,"TotalCount":63475835}},{"Histogram NotNull Count":7006165,"Increase Factor":1,"TopN total count":19242375},{"github.com/pingcap/tidb/statistics.(*Column).GetColumnRowCount":[{"Start estimate range":{"CurrentRowCount":0,"Range":"[\"(key set pa: Florida\",+inf]","LowValueEncoded":"AShrZXkgc2V0/yBwYTogRmxv/3JpZGEAAAAA+w==","HighValueEncoded":"+g=="}},{"github.com/pingcap/tidb/statistics.(*Histogram).LessRowCountWithBktIdx":[{"Locate value in buckets":{"Value":"KindBytes (key set pa: Florida","Exceed":false,"BucketIdx":156,"InBucket":false,"MatchLastValue":false}},{"Related Buckets in Histogram":[{"Index":155,"Count":4326812,"Repeat":1151},{"Index":156,"Count":4354452,"Repeat":6}]},{"Bucket idx":156,"Result":4326812}]},{"github.com/pingcap/tidb/statistics.(*Histogram).LessRowCountWithBktIdx":[{"Locate value in buckets":{"Value":"KindMaxValue <nil>","Exceed":true,"BucketIdx":252,"InBucket":false,"MatchLastValue":false}},{"Bucket idx":252,"Result":7006165}]},{"github.com/pingcap/tidb/statistics.(*TopN).BetweenCount":[{"Related TopN Range":{"FirstIdx":252,"FirstEncoded":"AShrZXkgc2V0/yBwcm9kdWN0/2lvbiBhc3Np/3N0YW50KQAA/Q==","LastIdx":499,"LastEncoded":"ASh3cml0dGVu/yBieSkgKHVu/2NyZWRpdGVk/ykAAAAAAAAA+A==","Count":[12650,3450,9200,2875,6325,7475,7475,2875,189175,2875,28750,2875,3450,4025,3450,16675,5175,5175,4600,3450,5175,2875,17825,6325,3450,2875,36800,23575,5175,29325,28750,3450,5750,13225,8625,4025,4025,17250,5175,2875,2875,8050,20700,4025,10925,17250,18975,2875,5175,6325,4025,4025,11500,2875,6325,2609925,3450,4600,14375,3450,4025,158700,4025,3450,9200,1022350,41400,5175,31050,2875,7475,9775,7475,370875,4600,3450,36800,3450,12650,3450,2875,3450,3450,3450,19550,89125,3450,117875,5750,6325,39100,4600,4025,5175,3450,4600,10350,11500,6325,6900,19550,10350,38525,4025,8625,3450,2875,108675,7475,25875,6325,21275,5175,152375,2875,2875,12650,53475,2875,51175,12075,285775,5175,5750,32775,5175,10925,5175,4025,5175,10350,80500,4600,5750,5750,2875,57500,4025,2875,6325,5175,2875,2875,2875,2875,2875,33925,9775,85100,3450,5750,16100,46575,7475,4600,2875,4025,2875,3450,21850,2875,68425,19550,12650,3450,5175,2875,2875,4025,16100,17250,9200,124200,44850,2875,204125,7475,16675,2875,12075,3450,8625,4025,6900,13225,9775,2875,255300,7475,3450,4600,3450,21850,7475,9775,4025,14950,5750,3450,7475,70725,9775,11500,18400,3450,2875,9775,54625,7475,3450,2875,32200,7475,3450,2875,6325,4600,11500,4600,8625,4600,1024650,8625,3450,15525,2875,18400,14375,2875,3450,14950,7475,4600,4600,31050,1279375,64400,5175,174225,6900,6325,40250,4025,1056850,10350,5175,409400,12650]}},{"Result":12254975}]},{"github.com/pingcap/tidb/statistics.(*Histogram).outOfRangeRowCount":[{"lDatum":"KindBytes (key set pa: Florida","modifyCount":0,"rDatum":"KindMaxValue <nil>"},{"commonPrefix":0,"lScalar":2912533154935039500,"rScalar":1.7976931348623157e+308,"unsigned":false},{"boundL":2866069991287129000,"boundR":2942114353897102000,"histL":2891418112157120000,"histR":2916766233027111000,"lPercent":0,"rPercent":1,"rowCount":3503082.5},{"Result":0}]},{"End estimate range":{"RowCount":14934328,"Type":"Range"}}]},{"Name":"note","Result":14934328}]},{"Result":0.014732344098434293,"Success":true,"error":null}]},{"Locate value in buckets":{"Value":"KindBytes \\x00\\x03\\x80\\x00\\x00\\x00\\x00\\x00\\x00\\x02\\x01(key set\\xff pa: Flo\\xffrida\\x00\\x00\\x00\\x00\\xfb","Exceed":false,"BucketIdx":40,"InBucket":true,"MatchLastValue":false}},{"Locate value in buckets":{"Value":"KindBytes \\x00\\x03\\x80\\x00\\x00\\x00\\x00\\x00\\x00\\x02\\xfb","Exceed":false,"BucketIdx":40,"InBucket":true,"MatchLastValue":false}},{"Related Buckets in Histogram":[{"Index":39,"Count":4686567,"Repeat":3},{"Index":40,"Count":4803456,"Repeat":3}]},{"github.com/pingcap/tidb/statistics.(*TopN).BetweenCount":[{"Related TopN Range":{"FirstIdx":280,"FirstEncoded":"AAOAAAAAAAAAAgEodW5jcmVkaf90ZWQpAAAAAPs=","LastIdx":281,"LastEncoded":"AAOAAAAAAAAAAgEodm9pY2UpAP4=","Count":[19652,8092]}},{"Result":27744}]},{"End estimate range":{"RowCount":144633,"Type":"Range"}}]},{"Name":"itest2","Result":144633}]}},{"github.com/pingcap/tidb/planner/core.(*DataSource).deriveStatsByFilter":{"github.com/pingcap/tidb/statistics.(*HistColl).Selectivity":[{"Input Expressions":["isnull(imdbload.cast_info.nr_order)","eq(imdbload.cast_info.person_role_id, 2)","ge(imdbload.cast_info.note, (key set pa: Florida)"]},{"github.com/pingcap/tidb/statistics.(*HistColl).GetRowCountByColumnRanges":[{"ID":5,"Ranges":["[\"(key set pa: Florida\",+inf]"]},{"github.com/pingcap/tidb/statistics.(*Column).IsInvalid":{"EssentialLoaded":true,"InValidForCollPseudo":false,"IsInvalid":false,"NDV":1114240,"TotalCount":63475835}},{"Histogram NotNull Count":7006165,"Increase Factor":1,"TopN total count":19242375},{"github.com/pingcap/tidb/statistics.(*Column).GetColumnRowCount":[{"Start estimate range":{"CurrentRowCount":0,"Range":"[\"(key set pa: Florida\",+inf]","LowValueEncoded":"AShrZXkgc2V0/yBwYTogRmxv/3JpZGEAAAAA+w==","HighValueEncoded":"+g=="}},{"github.com/pingcap/tidb/statistics.(*Histogram).LessRowCountWithBktIdx":[{"Locate value in buckets":{"Value":"KindBytes (key set pa: Florida","Exceed":false,"BucketIdx":156,"InBucket":false,"MatchLastValue":false}},{"Related Buckets in Histogram":[{"Index":155,"Count":4326812,"Repeat":1151},{"Index":156,"Count":4354452,"Repeat":6}]},{"Bucket idx":156,"Result":4326812}]},{"github.com/pingcap/tidb/statistics.(*Histogram).LessRowCountWithBktIdx":[{"Locate value in buckets":{"Value":"KindMaxValue <nil>","Exceed":true,"BucketIdx":252,"InBucket":false,"MatchLastValue":false}},{"Bucket idx":252,"Result":7006165}]},{"github.com/pingcap/tidb/statistics.(*TopN).BetweenCount":[{"Related TopN Range":{"FirstIdx":252,"FirstEncoded":"AShrZXkgc2V0/yBwcm9kdWN0/2lvbiBhc3Np/3N0YW50KQAA/Q==","LastIdx":499,"LastEncoded":"ASh3cml0dGVu/yBieSkgKHVu/2NyZWRpdGVk/ykAAAAAAAAA+A==","Count":[12650,3450,9200,2875,6325,7475,7475,2875,189175,2875,28750,2875,3450,4025,3450,16675,5175,5175,4600,3450,5175,2875,17825,6325,3450,2875,36800,23575,5175,29325,28750,3450,5750,13225,8625,4025,4025,17250,5175,2875,2875,8050,20700,4025,10925,17250,18975,2875,5175,6325,4025,4025,11500,2875,6325,2609925,3450,4600,14375,3450,4025,158700,4025,3450,9200,1022350,41400,5175,31050,2875,7475,9775,7475,370875,4600,3450,36800,3450,12650,3450,2875,3450,3450,3450,19550,89125,3450,117875,5750,6325,39100,4600,4025,5175,3450,4600,10350,11500,6325,6900,19550,10350,38525,4025,8625,3450,2875,108675,7475,25875,6325,21275,5175,152375,2875,2875,12650,53475,2875,51175,12075,285775,5175,5750,32775,5175,10925,5175,4025,5175,10350,80500,4600,5750,5750,2875,57500,4025,2875,6325,5175,2875,2875,2875,2875,2875,33925,9775,85100,3450,5750,16100,46575,7475,4600,2875,4025,2875,3450,21850,2875,68425,19550,12650,3450,5175,2875,2875,4025,16100,17250,9200,124200,44850,2875,204125,7475,16675,2875,12075,3450,8625,4025,6900,13225,9775,2875,255300,7475,3450,4600,3450,21850,7475,9775,4025,14950,5750,3450,7475,70725,9775,11500,18400,3450,2875,9775,54625,7475,3450,2875,32200,7475,3450,2875,6325,4600,11500,4600,8625,4600,1024650,8625,3450,15525,2875,18400,14375,2875,3450,14950,7475,4600,4600,31050,1279375,64400,5175,174225,6900,6325,40250,4025,1056850,10350,5175,409400,12650]}},{"Result":12254975}]},{"github.com/pingcap/tidb/statistics.(*Histogram).outOfRangeRowCount":[{"lDatum":"KindBytes (key set pa: Florida","modifyCount":0,"rDatum":"KindMaxValue <nil>"},{"commonPrefix":0,"lScalar":2912533154935039500,"rScalar":1.7976931348623157e+308,"unsigned":false},{"boundL":2866069991287129000,"boundR":2942114353897102000,"histL":2891418112157120000,"histR":2916766233027111000,"lPercent":0,"rPercent":1,"rowCount":3503082.5},{"Result":0}]},{"End estimate range":{"RowCount":14934328,"Type":"Range"}}]},{"Name":"note","Result":14934328}]},{"github.com/pingcap/tidb/statistics.(*HistColl).GetRowCountByColumnRanges":[{"ID":6,"Ranges":["[NULL,NULL]"]},{"github.com/pingcap/tidb/statistics.(*Column).IsInvalid":{"EssentialLoaded":true,"InValidForCollPseudo":false,"IsInvalid":false,"NDV":1666,"TotalCount":63475835}},{"Histogram NotNull Count":123877,"Increase Factor":1,"TopN total count":17356683},{"github.com/pingcap/tidb/statistics.(*Column).GetColumnRowCount":[{"Start estimate range":{"CurrentRowCount":0,"Range":"[NULL,NULL]","LowValueEncoded":"AA==","HighValueEncoded":"AA=="}},{"github.com/pingcap/tidb/statistics.(*Column).equalRowCount":[{"Encoded":"AA==","Value":"KindNull <nil>"},{"Error":null,"Result":45995275}]},{"End estimate range":{"RowCount":45995275,"Type":"Point"}}]},{"Name":"nr_order","Result":45995275}]},{"github.com/pingcap/tidb/statistics.(*HistColl).GetRowCountByColumnRanges":[{"ID":4,"Ranges":["[2,2]"]},{"github.com/pingcap/tidb/statistics.(*Column).IsInvalid":{"EssentialLoaded":true,"InValidForCollPseudo":false,"IsInvalid":false,"NDV":4276736,"TotalCount":63475835}},{"Histogram NotNull Count":20973389,"Increase Factor":1,"TopN total count":8451663},{"github.com/pingcap/tidb/statistics.(*Column).GetColumnRowCount":[{"Start estimate range":{"CurrentRowCount":0,"Range":"[2,2]","LowValueEncoded":"A4AAAAAAAAAC","HighValueEncoded":"A4AAAAAAAAAC"}},{"github.com/pingcap/tidb/statistics.(*Column).equalRowCount":[{"Encoded":"A4AAAAAAAAAC","Value":"KindInt64 2"},{"github.com/pingcap/tidb/statistics.(*TopN).QueryTopN":[{"FindTopN idx":0},{"Found":true,"Result":2089611}]},{"Error":null,"Result":2089611}]},{"End estimate range":{"RowCount":2089611,"Type":"Point"}}]},{"Name":"person_role_id","Result":2089611}]},{"github.com/pingcap/tidb/statistics.(*HistColl).GetRowCountByIndexRanges":[{"ID":6,"Ranges":["[NULL 2 \"(key set pa: Florida\",NULL 2 +inf]"]},{"github.com/pingcap/tidb/statistics.(*Index).IsInvalid":{"CollPseudo":false,"IsInvalid":false,"NotAccurate":true,"TotalCount":63475835}},{"Histogram NotNull Count":29788839,"Increase Factor":1,"TopN total count":33686996},{"github.com/pingcap/tidb/statistics.(*Index).GetRowCount":[{"Start estimate range":{"CurrentRowCount":0,"Range":"[NULL 2 \"(key set pa: Florida\",NULL 2 +inf]","LowValueEncoded":"AAOAAAAAAAAAAgEoa2V5IHNldP8gcGE6IEZsb/9yaWRhAAAAAPs=","HighValueEncoded":"AAOAAAAAAAAAAvo="}},{"github.com/pingcap/tidb/statistics.(*Index).expBackoffEstimation":[{"github.com/pingcap/tidb/statistics.(*Column).IsInvalid":{"EssentialLoaded":true,"InValidForCollPseudo":false,"IsInvalid":false,"NDV":1666,"TotalCount":63475835}},{"github.com/pingcap/tidb/statistics.(*HistColl).GetRowCountByColumnRanges":[{"ID":6,"Ranges":["[NULL,NULL]"]},{"github.com/pingcap/tidb/statistics.(*Column).IsInvalid":{"EssentialLoaded":true,"InValidForCollPseudo":false,"IsInvalid":false,"NDV":1666,"TotalCount":63475835}},{"Histogram NotNull Count":123877,"Increase Factor":1,"TopN total count":17356683},{"github.com/pingcap/tidb/statistics.(*Column).GetColumnRowCount":[{"Start estimate range":{"CurrentRowCount":0,"Range":"[NULL,NULL]","LowValueEncoded":"AA==","HighValueEncoded":"AA=="}},{"github.com/pingcap/tidb/statistics.(*Column).equalRowCount":[{"Encoded":"AA==","Value":"KindNull <nil>"},{"Error":null,"Result":45995275}]},{"End estimate range":{"RowCount":45995275,"Type":"Point"}}]},{"Name":"nr_order","Result":45995275}]},{"github.com/pingcap/tidb/statistics.(*Column).IsInvalid":{"EssentialLoaded":true,"InValidForCollPseudo":false,"IsInvalid":false,"NDV":4276736,"TotalCount":63475835}},{"github.com/pingcap/tidb/statistics.(*HistColl).GetRowCountByColumnRanges":[{"ID":4,"Ranges":["[2,2]"]},{"github.com/pingcap/tidb/statistics.(*Column).IsInvalid":{"EssentialLoaded":true,"InValidForCollPseudo":false,"IsInvalid":false,"NDV":4276736,"TotalCount":63475835}},{"Histogram NotNull Count":20973389,"Increase Factor":1,"TopN total count":8451663},{"github.com/pingcap/tidb/statistics.(*Column).GetColumnRowCount":[{"Start estimate range":{"CurrentRowCount":0,"Range":"[2,2]","LowValueEncoded":"A4AAAAAAAAAC","HighValueEncoded":"A4AAAAAAAAAC"}},{"github.com/pingcap/tidb/statistics.(*Column).equalRowCount":[{"Encoded":"A4AAAAAAAAAC","Value":"KindInt64 2"},{"github.com/pingcap/tidb/statistics.(*TopN).QueryTopN":[{"FindTopN idx":0},{"Found":true,"Result":2089611}]},{"Error":null,"Result":2089611}]},{"End estimate range":{"RowCount":2089611,"Type":"Point"}}]},{"Name":"person_role_id","Result":2089611}]},{"github.com/pingcap/tidb/statistics.(*Column).IsInvalid":{"EssentialLoaded":true,"InValidForCollPseudo":false,"IsInvalid":false,"NDV":1114240,"TotalCount":63475835}},{"github.com/pingcap/tidb/statistics.(*HistColl).GetRowCountByColumnRanges":[{"ID":5,"Ranges":["[\"(key set pa: Florida\",+inf]"]},{"github.com/pingcap/tidb/statistics.(*Column).IsInvalid":{"EssentialLoaded":true,"InValidForCollPseudo":false,"IsInvalid":false,"NDV":1114240,"TotalCount":63475835}},{"Histogram NotNull Count":7006165,"Increase Factor":1,"TopN total count":19242375},{"github.com/pingcap/tidb/statistics.(*Column).GetColumnRowCount":[{"Start estimate range":{"CurrentRowCount":0,"Range":"[\"(key set pa: Florida\",+inf]","LowValueEncoded":"AShrZXkgc2V0/yBwYTogRmxv/3JpZGEAAAAA+w==","HighValueEncoded":"+g=="}},{"github.com/pingcap/tidb/statistics.(*Histogram).LessRowCountWithBktIdx":[{"Locate value in buckets":{"Value":"KindBytes (key set pa: Florida","Exceed":false,"BucketIdx":156,"InBucket":false,"MatchLastValue":false}},{"Related Buckets in Histogram":[{"Index":155,"Count":4326812,"Repeat":1151},{"Index":156,"Count":4354452,"Repeat":6}]},{"Bucket idx":156,"Result":4326812}]},{"github.com/pingcap/tidb/statistics.(*Histogram).LessRowCountWithBktIdx":[{"Locate value in buckets":{"Value":"KindMaxValue <nil>","Exceed":true,"BucketIdx":252,"InBucket":false,"MatchLastValue":false}},{"Bucket idx":252,"Result":7006165}]},{"github.com/pingcap/tidb/statistics.(*TopN).BetweenCount":[{"Related TopN Range":{"FirstIdx":252,"FirstEncoded":"AShrZXkgc2V0/yBwcm9kdWN0/2lvbiBhc3Np/3N0YW50KQAA/Q==","LastIdx":499,"LastEncoded":"ASh3cml0dGVu/yBieSkgKHVu/2NyZWRpdGVk/ykAAAAAAAAA+A==","Count":[12650,3450,9200,2875,6325,7475,7475,2875,189175,2875,28750,2875,3450,4025,3450,16675,5175,5175,4600,3450,5175,2875,17825,6325,3450,2875,36800,23575,5175,29325,28750,3450,5750,13225,8625,4025,4025,17250,5175,2875,2875,8050,20700,4025,10925,17250,18975,2875,5175,6325,4025,4025,11500,2875,6325,2609925,3450,4600,14375,3450,4025,158700,4025,3450,9200,1022350,41400,5175,31050,2875,7475,9775,7475,370875,4600,3450,36800,3450,12650,3450,2875,3450,3450,3450,19550,89125,3450,117875,5750,6325,39100,4600,4025,5175,3450,4600,10350,11500,6325,6900,19550,10350,38525,4025,8625,3450,2875,108675,7475,25875,6325,21275,5175,152375,2875,2875,12650,53475,2875,51175,12075,285775,5175,5750,32775,5175,10925,5175,4025,5175,10350,80500,4600,5750,5750,2875,57500,4025,2875,6325,5175,2875,2875,2875,2875,2875,33925,9775,85100,3450,5750,16100,46575,7475,4600,2875,4025,2875,3450,21850,2875,68425,19550,12650,3450,5175,2875,2875,4025,16100,17250,9200,124200,44850,2875,204125,7475,16675,2875,12075,3450,8625,4025,6900,13225,9775,2875,255300,7475,3450,4600,3450,21850,7475,9775,4025,14950,5750,3450,7475,70725,9775,11500,18400,3450,2875,9775,54625,7475,3450,2875,32200,7475,3450,2875,6325,4600,11500,4600,8625,4600,1024650,8625,3450,15525,2875,18400,14375,2875,3450,14950,7475,4600,4600,31050,1279375,64400,5175,174225,6900,6325,40250,4025,1056850,10350,5175,409400,12650]}},{"Result":12254975}]},{"github.com/pingcap/tidb/statistics.(*Histogram).outOfRangeRowCount":[{"lDatum":"KindBytes (key set pa: Florida","modifyCount":0,"rDatum":"KindMaxValue <nil>"},{"commonPrefix":0,"lScalar":2912533154935039500,"rScalar":1.7976931348623157e+308,"unsigned":false},{"boundL":2866069991287129000,"boundR":2942114353897102000,"histL":2891418112157120000,"histR":2916766233027111000,"lPercent":0,"rPercent":1,"rowCount":3503082.5},{"Result":0}]},{"End estimate range":{"RowCount":14934328,"Type":"Range"}}]},{"Name":"note","Result":14934328}]},{"Result":0.014732344098434293,"Success":true,"error":null}]},{"Locate value in buckets":{"Value":"KindBytes \\x00\\x03\\x80\\x00\\x00\\x00\\x00\\x00\\x00\\x02\\x01(key set\\xff pa: Flo\\xffrida\\x00\\x00\\x00\\x00\\xfb","Exceed":false,"BucketIdx":40,"InBucket":true,"MatchLastValue":false}},{"Locate value in buckets":{"Value":"KindBytes \\x00\\x03\\x80\\x00\\x00\\x00\\x00\\x00\\x00\\x02\\xfb","Exceed":false,"BucketIdx":40,"InBucket":true,"MatchLastValue":false}},{"Related Buckets in Histogram":[{"Index":39,"Count":4686567,"Repeat":3},{"Index":40,"Count":4803456,"Repeat":3}]},{"github.com/pingcap/tidb/statistics.(*TopN).BetweenCount":[{"Related TopN Range":{"FirstIdx":280,"FirstEncoded":"AAOAAAAAAAAAAgEodW5jcmVkaf90ZWQpAAAAAPs=","LastIdx":281,"LastEncoded":"AAOAAAAAAAAAAgEodm9pY2UpAP4=","Count":[19652,8092]}},{"Result":27744}]},{"End estimate range":{"RowCount":144633,"Type":"Range"}}]},{"Name":"itest2","Result":144633}]},{"github.com/pingcap/tidb/statistics.(*HistColl).GetRowCountByIndexRanges":[{"ID":3,"Ranges":["[2,2]"]},{"github.com/pingcap/tidb/statistics.(*Index).IsInvalid":{"CollPseudo":false,"IsInvalid":false,"NotAccurate":true,"TotalCount":63475835}},{"Histogram NotNull Count":20973389,"Increase Factor":1,"TopN total count":8451663},{"github.com/pingcap/tidb/statistics.(*Index).GetRowCount":[{"Start estimate range":{"CurrentRowCount":0,"Range":"[2,2]","LowValueEncoded":"A4AAAAAAAAAC","HighValueEncoded":"A4AAAAAAAAAC"}},{"github.com/pingcap/tidb/statistics.(*Index).equalRowCount":[{"Encoded Value":"A4AAAAAAAAAC"},{"github.com/pingcap/tidb/statistics.(*TopN).QueryTopN":[{"FindTopN idx":0},{"Found":true,"Result":2089611}]},{"Result":2089611}]},{"End estimate range":{"RowCount":2089611,"Type":"Point"}}]},{"Name":"cast_info_idx_cid","Result":2089611}]},{"Expressions":["isnull(imdbload.cast_info.nr_order)","eq(imdbload.cast_info.person_role_id, 2)","ge(imdbload.cast_info.note, (key set pa: Florida)"],"Selectivity":0.002278552145080092,"partial cover":false},{"Result":0.002278552145080092}]}},{"github.com/pingcap/tidb/planner/core.(*DataSource).derivePathStatsAndTryHeuristics":[{"github.com/pingcap/tidb/planner/core.(*DataSource).deriveTablePathStats":{"github.com/pingcap/tidb/statistics.(*HistColl).GetRowCountByIntColumnRanges":[{"ID":1,"Ranges":["[-inf,+inf]"]},{"github.com/pingcap/tidb/statistics.(*Column).IsInvalid":{"EssentialLoaded":true,"InValidForCollPseudo":false,"IsInvalid":false,"NDV":63234048,"TotalCount":63475835}},{"Histogram NotNull Count":63475835,"Increase Factor":1,"TopN total count":0},{"github.com/pingcap/tidb/statistics.(*Column).GetColumnRowCount":[{"Start estimate range":{"CurrentRowCount":0,"Range":"[-inf,+inf]","LowValueEncoded":"AwAAAAAAAAAA","HighValueEncoded":"A///////////"}},{"github.com/pingcap/tidb/statistics.(*Histogram).LessRowCountWithBktIdx":[{"Locate value in buckets":{"Value":"KindInt64 -9223372036854775808","Exceed":false,"BucketIdx":0,"InBucket":false,"MatchLastValue":false}},{"Related Buckets in Histogram":[{"Index":-1,"Count":-1,"Repeat":-1},{"Index":0,"Count":248094,"Repeat":1}]},{"Bucket idx":0,"Result":0}]},{"github.com/pingcap/tidb/statistics.(*Histogram).LessRowCountWithBktIdx":[{"Locate value in buckets":{"Value":"KindInt64 9223372036854775807","Exceed":true,"BucketIdx":255,"InBucket":false,"MatchLastValue":false}},{"Bucket idx":255,"Result":63475835}]},{"github.com/pingcap/tidb/statistics.(*TopN).BetweenCount":{"Result":0}},{"github.com/pingcap/tidb/statistics.(*Column).equalRowCount":[{"Encoded":"A///////////","Value":"KindInt64 9223372036854775807"},{"github.com/pingcap/tidb/statistics.(*Histogram).equalRowCount":[{"Locate value in buckets":{"Value":"KindInt64 9223372036854775807","Exceed":true,"BucketIdx":255,"InBucket":false,"MatchLastValue":false}},{"Count":0,"Matched":false}]},{"Error":null,"Result":1.0038236837217822}]},{"github.com/pingcap/tidb/statistics.(*Histogram).outOfRangeRowCount":[{"lDatum":"KindInt64 -9223372036854775808","modifyCount":0,"rDatum":"KindInt64 9223372036854775807"},{"commonPrefix":0,"lScalar":-9223372036854776000,"rScalar":9223372036854776000,"unsigned":false},{"boundL":-63474673,"boundR":126950363,"histL":339,"histR":63475351,"lPercent":1,"rPercent":1,"rowCount":63475835},{"Result":0}]},{"End estimate range":{"RowCount":63475835,"Type":"Range"}}]},{"Name":"id","Result":63475835}]}},{"github.com/pingcap/tidb/planner/core.(*DataSource).deriveIndexPathStats":null},{"github.com/pingcap/tidb/planner/core.(*DataSource).deriveIndexPathStats":null},{"github.com/pingcap/tidb/planner/core.(*DataSource).deriveIndexPathStats":null},{"github.com/pingcap/tidb/planner/core.(*DataSource).deriveIndexPathStats":null},{"github.com/pingcap/tidb/planner/core.(*DataSource).deriveIndexPathStats":{"github.com/pingcap/tidb/statistics.(*HistColl).Selectivity":[{"Input Expressions":["eq(imdbload.cast_info.person_role_id, 2)"]},{"github.com/pingcap/tidb/statistics.(*HistColl).GetRowCountByColumnRanges":[{"ID":4,"Ranges":["[2,2]"]},{"github.com/pingcap/tidb/statistics.(*Column).IsInvalid":{"EssentialLoaded":true,"InValidForCollPseudo":false,"IsInvalid":false,"NDV":4276736,"TotalCount":63475835}},{"Histogram NotNull Count":20973389,"Increase Factor":1,"TopN total count":8451663},{"github.com/pingcap/tidb/statistics.(*Column).GetColumnRowCount":[{"Start estimate range":{"CurrentRowCount":0,"Range":"[2,2]","LowValueEncoded":"A4AAAAAAAAAC","HighValueEncoded":"A4AAAAAAAAAC"}},{"github.com/pingcap/tidb/statistics.(*Column).equalRowCount":[{"Encoded":"A4AAAAAAAAAC","Value":"KindInt64 2"},{"github.com/pingcap/tidb/statistics.(*TopN).QueryTopN":[{"FindTopN idx":0},{"Found":true,"Result":2089611}]},{"Error":null,"Result":2089611}]},{"End estimate range":{"RowCount":2089611,"Type":"Point"}}]},{"Name":"person_role_id","Result":2089611}]},{"github.com/pingcap/tidb/statistics.(*HistColl).GetRowCountByIndexRanges":[{"ID":3,"Ranges":["[2,2]"]},{"github.com/pingcap/tidb/statistics.(*Index).IsInvalid":{"CollPseudo":false,"IsInvalid":false,"NotAccurate":true,"TotalCount":63475835}},{"Histogram NotNull Count":20973389,"Increase Factor":1,"TopN total count":8451663},{"github.com/pingcap/tidb/statistics.(*Index).GetRowCount":[{"Start estimate range":{"CurrentRowCount":0,"Range":"[2,2]","LowValueEncoded":"A4AAAAAAAAAC","HighValueEncoded":"A4AAAAAAAAAC"}},{"github.com/pingcap/tidb/statistics.(*Index).equalRowCount":[{"Encoded Value":"A4AAAAAAAAAC"},{"github.com/pingcap/tidb/statistics.(*TopN).QueryTopN":[{"FindTopN idx":0},{"Found":true,"Result":2089611}]},{"Result":2089611}]},{"End estimate range":{"RowCount":2089611,"Type":"Point"}}]},{"Name":"cast_info_idx_cid","Result":2089611}]},{"Expressions":["eq(imdbload.cast_info.person_role_id, 2)"],"Selectivity":0.032919787506536936,"partial cover":false},{"Result":0.032919787506536936}]}},{"github.com/pingcap/tidb/planner/core.(*DataSource).deriveIndexPathStats":null}]},{"github.com/pingcap/tidb/planner/core.(*DataSource).generateIndexMergePath":null},{"Access paths":[{"AccessConditions":[],"IndexFilters":[],"TableFilters":["isnull(imdbload.cast_info.nr_order)","eq(imdbload.cast_info.person_role_id, 2)","ge(imdbload.cast_info.note, (key set pa: Florida)"],"CountAfterAccess":63475835,"CountAfterIndex":0},{"IndexName":"cast_info_idx_pid","AccessConditions":[],"IndexFilters":[],"TableFilters":["isnull(imdbload.cast_info.nr_order)","eq(imdbload.cast_info.person_role_id, 2)","ge(imdbload.cast_info.note, (key set pa: Florida)"],"CountAfterAccess":63475835,"CountAfterIndex":63475835},{"IndexName":"cast_info_idx_mid","AccessConditions":[],"IndexFilters":[],"TableFilters":["isnull(imdbload.cast_info.nr_order)","eq(imdbload.cast_info.person_role_id, 2)","ge(imdbload.cast_info.note, (key set pa: Florida)"],"CountAfterAccess":63475835,"CountAfterIndex":63475835},{"IndexName":"cast_info_idx_cid","AccessConditions":["eq(imdbload.cast_info.person_role_id, 2)"],"IndexFilters":[],"TableFilters":["isnull(imdbload.cast_info.nr_order)","ge(imdbload.cast_info.note, (key set pa: Florida)"],"CountAfterAccess":2089611,"CountAfterIndex":2089611},{"IndexName":"cast_info_idx_rid","AccessConditions":[],"IndexFilters":[],"TableFilters":["isnull(imdbload.cast_info.nr_order)","eq(imdbload.cast_info.person_role_id, 2)","ge(imdbload.cast_info.note, (key set pa: Florida)"],"CountAfterAccess":63475835,"CountAfterIndex":63475835},{"IndexName":"itest","AccessConditions":[],"IndexFilters":["eq(imdbload.cast_info.person_role_id, 2)"],"TableFilters":["isnull(imdbload.cast_info.nr_order)","ge(imdbload.cast_info.note, (key set pa: Florida)"],"CountAfterAccess":63475835,"CountAfterIndex":2089611},{"IndexName":"itest2","AccessConditions":["isnull(imdbload.cast_info.nr_order)","eq(imdbload.cast_info.person_role_id, 2)","ge(imdbload.cast_info.note, (key set pa: Florida)"],"IndexFilters":[],"TableFilters":["ge(imdbload.cast_info.note, (key set pa: Florida)"],"CountAfterAccess":144633,"CountAfterIndex":144633}]}]}]}]}}]}]

