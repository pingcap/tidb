[2022/01/24 19:24:04.030 +08:00] [INFO] [tidb.go:72] ["new domain"] [store=40a43170-c188-4062-abce-ce2c6a887204] ["ddl lease"=20ms] ["stats lease"=3s] ["index usage sync lease"=0s]
[2022/01/24 19:24:04.035 +08:00] [INFO] [domain.go:169] ["full load InfoSchema success"] [currentSchemaVersion=0] [neededSchemaVersion=0] ["start time"=860.958µs]
[2022/01/24 19:24:04.035 +08:00] [INFO] [domain.go:432] ["full load and reset schema validator"]
[2022/01/24 19:24:04.035 +08:00] [INFO] [ddl.go:365] ["[ddl] start DDL"] [ID=72da908d-f0b5-457a-9863-d1173cc025d5] [runWorker=true]
[2022/01/24 19:24:04.036 +08:00] [INFO] [ddl.go:354] ["[ddl] start delRangeManager OK"] ["is a emulator"=true]
[2022/01/24 19:24:04.036 +08:00] [INFO] [delete_range.go:142] ["[ddl] start delRange emulator"]
[2022/01/24 19:24:04.036 +08:00] [INFO] [ddl_worker.go:156] ["[ddl] start DDL worker"] [worker="worker 1, tp general"]
[2022/01/24 19:24:04.036 +08:00] [INFO] [ddl_worker.go:156] ["[ddl] start DDL worker"] [worker="worker 2, tp add index"]
[2022/01/24 19:24:04.036 +08:00] [WARN] [ddl_tiflash_api.go:428] ["pollTiFlashReplicaStatus returns error"] [error="MockTiFlash is not accessible"] [errorVerbose="MockTiFlash is not accessible\ngithub.com/pingcap/tidb/domain/infosync.(*mockTiFlashPlacementManager).GetStoresStat\n\t/Users/bba/pc/tidb/domain/infosync/tiflash_manager.go:470\ngithub.com/pingcap/tidb/domain/infosync.GetTiFlashStoresStat\n\t/Users/bba/pc/tidb/domain/infosync/info.go:995\ngithub.com/pingcap/tidb/ddl.updateTiFlashStores\n\t/Users/bba/pc/tidb/ddl/ddl_tiflash_api.go:188\ngithub.com/pingcap/tidb/ddl.(*ddl).pollTiFlashReplicaStatus\n\t/Users/bba/pc/tidb/ddl/ddl_tiflash_api.go:214\ngithub.com/pingcap/tidb/ddl.(*ddl).PollTiFlashRoutine\n\t/Users/bba/pc/tidb/ddl/ddl_tiflash_api.go:426\nruntime.goexit\n\t/Users/bba/.gvm/gos/go1.17.4/src/runtime/asm_arm64.s:1133"]
[2022/01/24 19:24:04.037 +08:00] [INFO] [tidb.go:260] ["rollbackTxn called due to ddl/autocommit failure"]
[2022/01/24 19:24:04.037 +08:00] [WARN] [session.go:1721] ["run statement failed"] [schemaVersion=0] [error="[schema:1049]Unknown database 'mysql'"] [errorVerbose="[schema:1049]Unknown database 'mysql'\ngithub.com/pingcap/errors.AddStack\n\t/Users/bba/.gvm/pkgsets/go1.17.4/global/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20211224045212-9687c2b0f87c/errors.go:174\ngithub.com/pingcap/errors.(*Error).GenWithStackByArgs\n\t/Users/bba/.gvm/pkgsets/go1.17.4/global/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20211224045212-9687c2b0f87c/normalize.go:164\ngithub.com/pingcap/tidb/executor.(*SimpleExec).executeUse\n\t/Users/bba/pc/tidb/executor/simple.go:557\ngithub.com/pingcap/tidb/executor.(*SimpleExec).Next\n\t/Users/bba/pc/tidb/executor/simple.go:127\ngithub.com/pingcap/tidb/executor.Next\n\t/Users/bba/pc/tidb/executor/executor.go:286\ngithub.com/pingcap/tidb/executor.(*ExecStmt).handleNoDelayExecutor\n\t/Users/bba/pc/tidb/executor/adapter.go:635\ngithub.com/pingcap/tidb/executor.(*ExecStmt).handleNoDelay\n\t/Users/bba/pc/tidb/executor/adapter.go:490\ngithub.com/pingcap/tidb/executor.(*ExecStmt).Exec\n\t/Users/bba/pc/tidb/executor/adapter.go:439\ngithub.com/pingcap/tidb/session.runStmt\n\t/Users/bba/pc/tidb/session/session.go:1841\ngithub.com/pingcap/tidb/session.(*session).ExecuteStmt\n\t/Users/bba/pc/tidb/session/session.go:1718\ngithub.com/pingcap/tidb/session.(*session).ExecuteInternal\n\t/Users/bba/pc/tidb/session/session.go:1429\ngithub.com/pingcap/tidb/session.checkBootstrapped\n\t/Users/bba/pc/tidb/session/bootstrap.go:668\ngithub.com/pingcap/tidb/session.bootstrap\n\t/Users/bba/pc/tidb/session/bootstrap.go:396\ngithub.com/pingcap/tidb/session.runInBootstrapSession\n\t/Users/bba/pc/tidb/session/session.go:2756\ngithub.com/pingcap/tidb/session.BootstrapSession\n\t/Users/bba/pc/tidb/session/session.go:2595\ngithub.com/pingcap/tidb/session.createStoreAndBootstrap\n\t/Users/bba/pc/tidb/session/main_test.go:89\ngithub.com/pingcap/tidb/session.TestBootstrap\n\t/Users/bba/pc/tidb/session/bootstrap_test.go:41\ntesting.tRunner\n\t/Users/bba/.gvm/gos/go1.17.4/src/testing/testing.go:1259\nruntime.goexit\n\t/Users/bba/.gvm/gos/go1.17.4/src/runtime/asm_arm64.s:1133"] [session="{\n  \"currDBName\": \"\",\n  \"id\": 0,\n  \"status\": 2,\n  \"strictMode\": true,\n  \"user\": null\n}"]
[2022/01/24 19:24:04.038 +08:00] [INFO] [session.go:3049] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=0] [cur_db=] [sql="CREATE DATABASE IF NOT EXISTS test"] [user=]
[2022/01/24 19:24:04.040 +08:00] [INFO] [ddl.go:593] ["[ddl] start DDL job"] [job="ID:2, Type:create schema, State:none, SchemaState:queueing, SchemaID:1, TableID:0, RowCount:0, ArgLen:1, start time: 2022-01-24 19:24:04.039 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE DATABASE IF NOT EXISTS test"]
[2022/01/24 19:24:04.040 +08:00] [INFO] [ddl_worker.go:322] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:2, Type:create schema, State:none, SchemaState:queueing, SchemaID:1, TableID:0, RowCount:0, ArgLen:1, start time: 2022-01-24 19:24:04.039 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/01/24 19:24:04.040 +08:00] [INFO] [ddl_worker.go:737] ["[ddl] run DDL job"] [worker="worker 1, tp general"] [job="ID:2, Type:create schema, State:none, SchemaState:queueing, SchemaID:1, TableID:0, RowCount:0, ArgLen:0, start time: 2022-01-24 19:24:04.039 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/01/24 19:24:04.042 +08:00] [INFO] [domain.go:169] ["full load InfoSchema success"] [currentSchemaVersion=0] [neededSchemaVersion=1] ["start time"=900.167µs]
[2022/01/24 19:24:04.042 +08:00] [INFO] [domain.go:432] ["full load and reset schema validator"]
[2022/01/24 19:24:04.043 +08:00] [INFO] [ddl_worker.go:942] ["[ddl] wait latest schema version changed"] [worker="worker 1, tp general"] [ver=1] ["take time"=2.275584ms] [job="ID:2, Type:create schema, State:done, SchemaState:public, SchemaID:1, TableID:0, RowCount:0, ArgLen:1, start time: 2022-01-24 19:24:04.039 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/01/24 19:24:04.043 +08:00] [INFO] [ddl_worker.go:436] ["[ddl] finish DDL job"] [worker="worker 1, tp general"] [job="ID:2, Type:create schema, State:synced, SchemaState:public, SchemaID:1, TableID:0, RowCount:0, ArgLen:0, start time: 2022-01-24 19:24:04.039 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/01/24 19:24:04.044 +08:00] [INFO] [ddl.go:656] ["[ddl] DDL job is finished"] [jobID=2]
[2022/01/24 19:24:04.044 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/01/24 19:24:04.044 +08:00] [INFO] [session.go:3049] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=1] [cur_db=] [sql="CREATE DATABASE IF NOT EXISTS `mysql`"] [user=]
[2022/01/24 19:24:04.045 +08:00] [INFO] [ddl_worker.go:322] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:4, Type:create schema, State:none, SchemaState:queueing, SchemaID:3, TableID:0, RowCount:0, ArgLen:1, start time: 2022-01-24 19:24:04.045 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/01/24 19:24:04.045 +08:00] [INFO] [ddl.go:593] ["[ddl] start DDL job"] [job="ID:4, Type:create schema, State:none, SchemaState:queueing, SchemaID:3, TableID:0, RowCount:0, ArgLen:1, start time: 2022-01-24 19:24:04.045 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE DATABASE IF NOT EXISTS `mysql`"]
[2022/01/24 19:24:04.045 +08:00] [INFO] [ddl_worker.go:737] ["[ddl] run DDL job"] [worker="worker 1, tp general"] [job="ID:4, Type:create schema, State:none, SchemaState:queueing, SchemaID:3, TableID:0, RowCount:0, ArgLen:0, start time: 2022-01-24 19:24:04.045 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/01/24 19:24:04.046 +08:00] [INFO] [domain.go:138] ["diff load InfoSchema success"] [currentSchemaVersion=1] [neededSchemaVersion=2] ["start time"=181.167µs] [phyTblIDs="[]"] [actionTypes="[]"]
[2022/01/24 19:24:04.048 +08:00] [INFO] [ddl_worker.go:942] ["[ddl] wait latest schema version changed"] [worker="worker 1, tp general"] [ver=2] ["take time"=2.262833ms] [job="ID:4, Type:create schema, State:done, SchemaState:public, SchemaID:3, TableID:0, RowCount:0, ArgLen:1, start time: 2022-01-24 19:24:04.045 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/01/24 19:24:04.049 +08:00] [INFO] [ddl_worker.go:436] ["[ddl] finish DDL job"] [worker="worker 1, tp general"] [job="ID:4, Type:create schema, State:synced, SchemaState:public, SchemaID:3, TableID:0, RowCount:0, ArgLen:0, start time: 2022-01-24 19:24:04.045 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/01/24 19:24:04.049 +08:00] [INFO] [ddl.go:656] ["[ddl] DDL job is finished"] [jobID=4]
[2022/01/24 19:24:04.049 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/01/24 19:24:04.050 +08:00] [INFO] [session.go:3049] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=2] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.user (\n\t\tHost\t\t\t\t\tCHAR(255),\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tauthentication_string\tTEXT,\n\t\tplugin\t\t\t\t\tCHAR(64),\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tProcess_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_db_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tSuper_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_user_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_role_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_role_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAccount_locked\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShutdown_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReload_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tFILE_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tConfig_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_Tablespace_Priv  ENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_slave_priv\t    \tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_client_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (Host, User));"] [user=]
[2022/01/24 19:24:04.051 +08:00] [INFO] [ddl_worker.go:322] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:6, Type:create table, State:none, SchemaState:queueing, SchemaID:3, TableID:5, RowCount:0, ArgLen:1, start time: 2022-01-24 19:24:04.05 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/01/24 19:24:04.051 +08:00] [INFO] [ddl.go:593] ["[ddl] start DDL job"] [job="ID:6, Type:create table, State:none, SchemaState:queueing, SchemaID:3, TableID:5, RowCount:0, ArgLen:1, start time: 2022-01-24 19:24:04.05 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.user (\n\t\tHost\t\t\t\t\tCHAR(255),\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tauthentication_string\tTEXT,\n\t\tplugin\t\t\t\t\tCHAR(64),\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tProcess_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_db_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tSuper_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_user_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_role_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_role_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAccount_locked\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShutdown_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReload_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tFILE_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tConfig_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_Tablespace_Priv  ENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_slave_priv\t    \tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_client_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (Host, User));"]
[2022/01/24 19:24:04.051 +08:00] [INFO] [ddl_worker.go:737] ["[ddl] run DDL job"] [worker="worker 1, tp general"] [job="ID:6, Type:create table, State:none, SchemaState:queueing, SchemaID:3, TableID:5, RowCount:0, ArgLen:0, start time: 2022-01-24 19:24:04.05 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/01/24 19:24:04.054 +08:00] [INFO] [domain.go:138] ["diff load InfoSchema success"] [currentSchemaVersion=2] [neededSchemaVersion=3] ["start time"=545.209µs] [phyTblIDs="[5]"] [actionTypes="[8]"]
[2022/01/24 19:24:04.055 +08:00] [INFO] [ddl_worker.go:942] ["[ddl] wait latest schema version changed"] [worker="worker 1, tp general"] [ver=3] ["take time"=2.257333ms] [job="ID:6, Type:create table, State:done, SchemaState:public, SchemaID:3, TableID:5, RowCount:0, ArgLen:1, start time: 2022-01-24 19:24:04.05 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/01/24 19:24:04.057 +08:00] [INFO] [ddl_worker.go:436] ["[ddl] finish DDL job"] [worker="worker 1, tp general"] [job="ID:6, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:5, RowCount:0, ArgLen:0, start time: 2022-01-24 19:24:04.05 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/01/24 19:24:04.058 +08:00] [INFO] [ddl.go:656] ["[ddl] DDL job is finished"] [jobID=6]
[2022/01/24 19:24:04.058 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/01/24 19:24:04.058 +08:00] [INFO] [session.go:3049] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=3] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.global_priv (Host CHAR(255) NOT NULL DEFAULT '',User CHAR(80) NOT NULL DEFAULT '',Priv LONGTEXT NOT NULL DEFAULT '',PRIMARY KEY (Host, User))"] [user=]
[2022/01/24 19:24:04.059 +08:00] [INFO] [ddl_worker.go:322] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:8, Type:create table, State:none, SchemaState:queueing, SchemaID:3, TableID:7, RowCount:0, ArgLen:1, start time: 2022-01-24 19:24:04.058 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/01/24 19:24:04.059 +08:00] [INFO] [ddl.go:593] ["[ddl] start DDL job"] [job="ID:8, Type:create table, State:none, SchemaState:queueing, SchemaID:3, TableID:7, RowCount:0, ArgLen:1, start time: 2022-01-24 19:24:04.058 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.global_priv (Host CHAR(255) NOT NULL DEFAULT '',User CHAR(80) NOT NULL DEFAULT '',Priv LONGTEXT NOT NULL DEFAULT '',PRIMARY KEY (Host, User))"]
[2022/01/24 19:24:04.059 +08:00] [INFO] [ddl_worker.go:737] ["[ddl] run DDL job"] [worker="worker 1, tp general"] [job="ID:8, Type:create table, State:none, SchemaState:queueing, SchemaID:3, TableID:7, RowCount:0, ArgLen:0, start time: 2022-01-24 19:24:04.058 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/01/24 19:24:04.060 +08:00] [INFO] [domain.go:138] ["diff load InfoSchema success"] [currentSchemaVersion=3] [neededSchemaVersion=4] ["start time"=289.083µs] [phyTblIDs="[7]"] [actionTypes="[8]"]
[2022/01/24 19:24:04.062 +08:00] [INFO] [ddl_worker.go:942] ["[ddl] wait latest schema version changed"] [worker="worker 1, tp general"] [ver=4] ["take time"=2.267ms] [job="ID:8, Type:create table, State:done, SchemaState:public, SchemaID:3, TableID:7, RowCount:0, ArgLen:1, start time: 2022-01-24 19:24:04.058 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/01/24 19:24:04.063 +08:00] [INFO] [ddl_worker.go:436] ["[ddl] finish DDL job"] [worker="worker 1, tp general"] [job="ID:8, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:7, RowCount:0, ArgLen:0, start time: 2022-01-24 19:24:04.058 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/01/24 19:24:04.063 +08:00] [INFO] [ddl.go:656] ["[ddl] DDL job is finished"] [jobID=8]
[2022/01/24 19:24:04.063 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/01/24 19:24:04.064 +08:00] [INFO] [session.go:3049] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=4] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.db (\n\t\tHost\t\t\t\t\tCHAR(255),\n\t\tDB\t\t\t\t\t\tCHAR(64),\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv \t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (Host, DB, User));"] [user=]
[2022/01/24 19:24:04.065 +08:00] [INFO] [ddl_worker.go:322] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:10, Type:create table, State:none, SchemaState:queueing, SchemaID:3, TableID:9, RowCount:0, ArgLen:1, start time: 2022-01-24 19:24:04.064 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/01/24 19:24:04.065 +08:00] [INFO] [ddl.go:593] ["[ddl] start DDL job"] [job="ID:10, Type:create table, State:none, SchemaState:queueing, SchemaID:3, TableID:9, RowCount:0, ArgLen:1, start time: 2022-01-24 19:24:04.064 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.db (\n\t\tHost\t\t\t\t\tCHAR(255),\n\t\tDB\t\t\t\t\t\tCHAR(64),\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv \t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (Host, DB, User));"]
[2022/01/24 19:24:04.065 +08:00] [INFO] [ddl_worker.go:737] ["[ddl] run DDL job"] [worker="worker 1, tp general"] [job="ID:10, Type:create table, State:none, SchemaState:queueing, SchemaID:3, TableID:9, RowCount:0, ArgLen:0, start time: 2022-01-24 19:24:04.064 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/01/24 19:24:04.067 +08:00] [INFO] [domain.go:138] ["diff load InfoSchema success"] [currentSchemaVersion=4] [neededSchemaVersion=5] ["start time"=434.167µs] [phyTblIDs="[9]"] [actionTypes="[8]"]
[2022/01/24 19:24:04.069 +08:00] [INFO] [ddl_worker.go:942] ["[ddl] wait latest schema version changed"] [worker="worker 1, tp general"] [ver=5] ["take time"=2.266375ms] [job="ID:10, Type:create table, State:done, SchemaState:public, SchemaID:3, TableID:9, RowCount:0, ArgLen:1, start time: 2022-01-24 19:24:04.064 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/01/24 19:24:04.070 +08:00] [INFO] [ddl_worker.go:436] ["[ddl] finish DDL job"] [worker="worker 1, tp general"] [job="ID:10, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:9, RowCount:0, ArgLen:0, start time: 2022-01-24 19:24:04.064 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/01/24 19:24:04.071 +08:00] [INFO] [ddl.go:656] ["[ddl] DDL job is finished"] [jobID=10]
[2022/01/24 19:24:04.071 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/01/24 19:24:04.071 +08:00] [INFO] [session.go:3049] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=5] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.tables_priv (\n\t\tHost\t\tCHAR(255),\n\t\tDB\t\t\tCHAR(64),\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64),\n\t\tGrantor\t\tCHAR(77),\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tTable_priv\tSET('Select','Insert','Update','Delete','Create','Drop','Grant','Index','Alter','Create View','Show View','Trigger','References'),\n\t\tColumn_priv\tSET('Select','Insert','Update','References'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name));"] [user=]
[2022/01/24 19:24:04.072 +08:00] [INFO] [ddl_worker.go:322] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:12, Type:create table, State:none, SchemaState:queueing, SchemaID:3, TableID:11, RowCount:0, ArgLen:1, start time: 2022-01-24 19:24:04.072 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/01/24 19:24:04.072 +08:00] [INFO] [ddl.go:593] ["[ddl] start DDL job"] [job="ID:12, Type:create table, State:none, SchemaState:queueing, SchemaID:3, TableID:11, RowCount:0, ArgLen:1, start time: 2022-01-24 19:24:04.072 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.tables_priv (\n\t\tHost\t\tCHAR(255),\n\t\tDB\t\t\tCHAR(64),\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64),\n\t\tGrantor\t\tCHAR(77),\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tTable_priv\tSET('Select','Insert','Update','Delete','Create','Drop','Grant','Index','Alter','Create View','Show View','Trigger','References'),\n\t\tColumn_priv\tSET('Select','Insert','Update','References'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name));"]
[2022/01/24 19:24:04.072 +08:00] [INFO] [ddl_worker.go:737] ["[ddl] run DDL job"] [worker="worker 1, tp general"] [job="ID:12, Type:create table, State:none, SchemaState:queueing, SchemaID:3, TableID:11, RowCount:0, ArgLen:0, start time: 2022-01-24 19:24:04.072 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/01/24 19:24:04.074 +08:00] [INFO] [domain.go:138] ["diff load InfoSchema success"] [currentSchemaVersion=5] [neededSchemaVersion=6] ["start time"=292.834µs] [phyTblIDs="[11]"] [actionTypes="[8]"]
[2022/01/24 19:24:04.076 +08:00] [INFO] [ddl_worker.go:942] ["[ddl] wait latest schema version changed"] [worker="worker 1, tp general"] [ver=6] ["take time"=2.258709ms] [job="ID:12, Type:create table, State:done, SchemaState:public, SchemaID:3, TableID:11, RowCount:0, ArgLen:1, start time: 2022-01-24 19:24:04.072 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/01/24 19:24:04.076 +08:00] [INFO] [ddl_worker.go:436] ["[ddl] finish DDL job"] [worker="worker 1, tp general"] [job="ID:12, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:11, RowCount:0, ArgLen:0, start time: 2022-01-24 19:24:04.072 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/01/24 19:24:04.077 +08:00] [INFO] [ddl.go:656] ["[ddl] DDL job is finished"] [jobID=12]
[2022/01/24 19:24:04.077 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/01/24 19:24:04.077 +08:00] [INFO] [session.go:3049] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=6] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.columns_priv(\n\t\tHost\t\tCHAR(255),\n\t\tDB\t\t\tCHAR(64),\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64),\n\t\tColumn_name\tCHAR(64),\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tColumn_priv\tSET('Select','Insert','Update','References'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name, Column_name));"] [user=]
[2022/01/24 19:24:04.078 +08:00] [INFO] [ddl_worker.go:322] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:14, Type:create table, State:none, SchemaState:queueing, SchemaID:3, TableID:13, RowCount:0, ArgLen:1, start time: 2022-01-24 19:24:04.078 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/01/24 19:24:04.078 +08:00] [INFO] [ddl.go:593] ["[ddl] start DDL job"] [job="ID:14, Type:create table, State:none, SchemaState:queueing, SchemaID:3, TableID:13, RowCount:0, ArgLen:1, start time: 2022-01-24 19:24:04.078 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.columns_priv(\n\t\tHost\t\tCHAR(255),\n\t\tDB\t\t\tCHAR(64),\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64),\n\t\tColumn_name\tCHAR(64),\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tColumn_priv\tSET('Select','Insert','Update','References'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name, Column_name));"]
[2022/01/24 19:24:04.078 +08:00] [INFO] [ddl_worker.go:737] ["[ddl] run DDL job"] [worker="worker 1, tp general"] [job="ID:14, Type:create table, State:none, SchemaState:queueing, SchemaID:3, TableID:13, RowCount:0, ArgLen:0, start time: 2022-01-24 19:24:04.078 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/01/24 19:24:04.080 +08:00] [INFO] [domain.go:138] ["diff load InfoSchema success"] [currentSchemaVersion=6] [neededSchemaVersion=7] ["start time"=286.167µs] [phyTblIDs="[13]"] [actionTypes="[8]"]
[2022/01/24 19:24:04.082 +08:00] [INFO] [ddl_worker.go:942] ["[ddl] wait latest schema version changed"] [worker="worker 1, tp general"] [ver=7] ["take time"=2.267375ms] [job="ID:14, Type:create table, State:done, SchemaState:public, SchemaID:3, TableID:13, RowCount:0, ArgLen:1, start time: 2022-01-24 19:24:04.078 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/01/24 19:24:04.082 +08:00] [INFO] [ddl_worker.go:436] ["[ddl] finish DDL job"] [worker="worker 1, tp general"] [job="ID:14, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:13, RowCount:0, ArgLen:0, start time: 2022-01-24 19:24:04.078 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/01/24 19:24:04.083 +08:00] [INFO] [ddl.go:656] ["[ddl] DDL job is finished"] [jobID=14]
[2022/01/24 19:24:04.083 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/01/24 19:24:04.083 +08:00] [INFO] [session.go:3049] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=7] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.GLOBAL_VARIABLES(\n\t\tVARIABLE_NAME  VARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE VARCHAR(1024) DEFAULT NULL);"] [user=]
[2022/01/24 19:24:04.084 +08:00] [INFO] [ddl_worker.go:322] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:16, Type:create table, State:none, SchemaState:queueing, SchemaID:3, TableID:15, RowCount:0, ArgLen:1, start time: 2022-01-24 19:24:04.084 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/01/24 19:24:04.084 +08:00] [INFO] [ddl.go:593] ["[ddl] start DDL job"] [job="ID:16, Type:create table, State:none, SchemaState:queueing, SchemaID:3, TableID:15, RowCount:0, ArgLen:1, start time: 2022-01-24 19:24:04.084 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.GLOBAL_VARIABLES(\n\t\tVARIABLE_NAME  VARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE VARCHAR(1024) DEFAULT NULL);"]
[2022/01/24 19:24:04.085 +08:00] [INFO] [ddl_worker.go:737] ["[ddl] run DDL job"] [worker="worker 1, tp general"] [job="ID:16, Type:create table, State:none, SchemaState:queueing, SchemaID:3, TableID:15, RowCount:0, ArgLen:0, start time: 2022-01-24 19:24:04.084 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/01/24 19:24:04.086 +08:00] [INFO] [domain.go:138] ["diff load InfoSchema success"] [currentSchemaVersion=7] [neededSchemaVersion=8] ["start time"=252.166µs] [phyTblIDs="[15]"] [actionTypes="[8]"]
[2022/01/24 19:24:04.088 +08:00] [INFO] [ddl_worker.go:942] ["[ddl] wait latest schema version changed"] [worker="worker 1, tp general"] [ver=8] ["take time"=2.205584ms] [job="ID:16, Type:create table, State:done, SchemaState:public, SchemaID:3, TableID:15, RowCount:0, ArgLen:1, start time: 2022-01-24 19:24:04.084 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/01/24 19:24:04.088 +08:00] [INFO] [ddl_worker.go:436] ["[ddl] finish DDL job"] [worker="worker 1, tp general"] [job="ID:16, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:15, RowCount:0, ArgLen:0, start time: 2022-01-24 19:24:04.084 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/01/24 19:24:04.089 +08:00] [INFO] [ddl.go:656] ["[ddl] DDL job is finished"] [jobID=16]
[2022/01/24 19:24:04.089 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/01/24 19:24:04.089 +08:00] [INFO] [session.go:3049] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=8] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb(\n\t\tVARIABLE_NAME  \tVARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE \tVARCHAR(1024) DEFAULT NULL,\n\t\tCOMMENT \t\tVARCHAR(1024));"] [user=]
[2022/01/24 19:24:04.090 +08:00] [INFO] [ddl_worker.go:322] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:18, Type:create table, State:none, SchemaState:queueing, SchemaID:3, TableID:17, RowCount:0, ArgLen:1, start time: 2022-01-24 19:24:04.089 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/01/24 19:24:04.090 +08:00] [INFO] [ddl.go:593] ["[ddl] start DDL job"] [job="ID:18, Type:create table, State:none, SchemaState:queueing, SchemaID:3, TableID:17, RowCount:0, ArgLen:1, start time: 2022-01-24 19:24:04.089 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb(\n\t\tVARIABLE_NAME  \tVARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE \tVARCHAR(1024) DEFAULT NULL,\n\t\tCOMMENT \t\tVARCHAR(1024));"]
[2022/01/24 19:24:04.090 +08:00] [INFO] [ddl_worker.go:737] ["[ddl] run DDL job"] [worker="worker 1, tp general"] [job="ID:18, Type:create table, State:none, SchemaState:queueing, SchemaID:3, TableID:17, RowCount:0, ArgLen:0, start time: 2022-01-24 19:24:04.089 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/01/24 19:24:04.091 +08:00] [INFO] [domain.go:138] ["diff load InfoSchema success"] [currentSchemaVersion=8] [neededSchemaVersion=9] ["start time"=263.125µs] [phyTblIDs="[17]"] [actionTypes="[8]"]
[2022/01/24 19:24:04.093 +08:00] [INFO] [ddl_worker.go:942] ["[ddl] wait latest schema version changed"] [worker="worker 1, tp general"] [ver=9] ["take time"=2.264875ms] [job="ID:18, Type:create table, State:done, SchemaState:public, SchemaID:3, TableID:17, RowCount:0, ArgLen:1, start time: 2022-01-24 19:24:04.089 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/01/24 19:24:04.093 +08:00] [INFO] [ddl_worker.go:436] ["[ddl] finish DDL job"] [worker="worker 1, tp general"] [job="ID:18, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:17, RowCount:0, ArgLen:0, start time: 2022-01-24 19:24:04.089 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/01/24 19:24:04.094 +08:00] [INFO] [ddl.go:656] ["[ddl] DDL job is finished"] [jobID=18]
[2022/01/24 19:24:04.094 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/01/24 19:24:04.095 +08:00] [INFO] [session.go:3049] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=9] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.help_topic (\n  \t\thelp_topic_id \t\tINT(10) UNSIGNED NOT NULL,\n  \t\tname \t\t\t\tCHAR(64) NOT NULL,\n  \t\thelp_category_id \tSMALLINT(5) UNSIGNED NOT NULL,\n  \t\tdescription \t\tTEXT NOT NULL,\n  \t\texample \t\t\tTEXT NOT NULL,\n  \t\turl \t\t\t\tTEXT NOT NULL,\n  \t\tPRIMARY KEY (help_topic_id) clustered,\n  \t\tUNIQUE KEY name (name)\n\t\t) ENGINE=InnoDB DEFAULT CHARSET=utf8 STATS_PERSISTENT=0 COMMENT='help topics';"] [user=]
[2022/01/24 19:24:04.096 +08:00] [INFO] [ddl_worker.go:322] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:20, Type:create table, State:none, SchemaState:queueing, SchemaID:3, TableID:19, RowCount:0, ArgLen:1, start time: 2022-01-24 19:24:04.095 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/01/24 19:24:04.096 +08:00] [INFO] [ddl.go:593] ["[ddl] start DDL job"] [job="ID:20, Type:create table, State:none, SchemaState:queueing, SchemaID:3, TableID:19, RowCount:0, ArgLen:1, start time: 2022-01-24 19:24:04.095 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.help_topic (\n  \t\thelp_topic_id \t\tINT(10) UNSIGNED NOT NULL,\n  \t\tname \t\t\t\tCHAR(64) NOT NULL,\n  \t\thelp_category_id \tSMALLINT(5) UNSIGNED NOT NULL,\n  \t\tdescription \t\tTEXT NOT NULL,\n  \t\texample \t\t\tTEXT NOT NULL,\n  \t\turl \t\t\t\tTEXT NOT NULL,\n  \t\tPRIMARY KEY (help_topic_id) clustered,\n  \t\tUNIQUE KEY name (name)\n\t\t) ENGINE=InnoDB DEFAULT CHARSET=utf8 STATS_PERSISTENT=0 COMMENT='help topics';"]
[2022/01/24 19:24:04.096 +08:00] [INFO] [ddl_worker.go:737] ["[ddl] run DDL job"] [worker="worker 1, tp general"] [job="ID:20, Type:create table, State:none, SchemaState:queueing, SchemaID:3, TableID:19, RowCount:0, ArgLen:0, start time: 2022-01-24 19:24:04.095 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/01/24 19:24:04.097 +08:00] [INFO] [domain.go:138] ["diff load InfoSchema success"] [currentSchemaVersion=9] [neededSchemaVersion=10] ["start time"=295.291µs] [phyTblIDs="[19]"] [actionTypes="[8]"]
[2022/01/24 19:24:04.099 +08:00] [INFO] [ddl_worker.go:942] ["[ddl] wait latest schema version changed"] [worker="worker 1, tp general"] [ver=10] ["take time"=2.262333ms] [job="ID:20, Type:create table, State:done, SchemaState:public, SchemaID:3, TableID:19, RowCount:0, ArgLen:1, start time: 2022-01-24 19:24:04.095 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/01/24 19:24:04.100 +08:00] [INFO] [ddl_worker.go:436] ["[ddl] finish DDL job"] [worker="worker 1, tp general"] [job="ID:20, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:19, RowCount:0, ArgLen:0, start time: 2022-01-24 19:24:04.095 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/01/24 19:24:04.100 +08:00] [INFO] [ddl.go:656] ["[ddl] DDL job is finished"] [jobID=20]
[2022/01/24 19:24:04.100 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/01/24 19:24:04.100 +08:00] [INFO] [session.go:3049] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=10] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_meta (\n\t\tversion \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\ttable_id \t\tBIGINT(64) NOT NULL,\n\t\tmodify_count\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcount \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tsnapshot        BIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tINDEX idx_ver(version),\n\t\tUNIQUE INDEX tbl(table_id)\n\t);"] [user=]
[2022/01/24 19:24:04.101 +08:00] [INFO] [ddl_worker.go:322] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:22, Type:create table, State:none, SchemaState:queueing, SchemaID:3, TableID:21, RowCount:0, ArgLen:1, start time: 2022-01-24 19:24:04.101 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/01/24 19:24:04.101 +08:00] [INFO] [ddl.go:593] ["[ddl] start DDL job"] [job="ID:22, Type:create table, State:none, SchemaState:queueing, SchemaID:3, TableID:21, RowCount:0, ArgLen:1, start time: 2022-01-24 19:24:04.101 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_meta (\n\t\tversion \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\ttable_id \t\tBIGINT(64) NOT NULL,\n\t\tmodify_count\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcount \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tsnapshot        BIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tINDEX idx_ver(version),\n\t\tUNIQUE INDEX tbl(table_id)\n\t);"]
[2022/01/24 19:24:04.102 +08:00] [INFO] [ddl_worker.go:737] ["[ddl] run DDL job"] [worker="worker 1, tp general"] [job="ID:22, Type:create table, State:none, SchemaState:queueing, SchemaID:3, TableID:21, RowCount:0, ArgLen:0, start time: 2022-01-24 19:24:04.101 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/01/24 19:24:04.103 +08:00] [INFO] [domain.go:138] ["diff load InfoSchema success"] [currentSchemaVersion=10] [neededSchemaVersion=11] ["start time"=265.542µs] [phyTblIDs="[21]"] [actionTypes="[8]"]
[2022/01/24 19:24:04.105 +08:00] [INFO] [ddl_worker.go:942] ["[ddl] wait latest schema version changed"] [worker="worker 1, tp general"] [ver=11] ["take time"=2.276584ms] [job="ID:22, Type:create table, State:done, SchemaState:public, SchemaID:3, TableID:21, RowCount:0, ArgLen:1, start time: 2022-01-24 19:24:04.101 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/01/24 19:24:04.105 +08:00] [INFO] [ddl_worker.go:436] ["[ddl] finish DDL job"] [worker="worker 1, tp general"] [job="ID:22, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:21, RowCount:0, ArgLen:0, start time: 2022-01-24 19:24:04.101 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/01/24 19:24:04.106 +08:00] [INFO] [ddl.go:656] ["[ddl] DDL job is finished"] [jobID=22]
[2022/01/24 19:24:04.106 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/01/24 19:24:04.106 +08:00] [INFO] [session.go:3049] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=11] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_histograms (\n\t\ttable_id \t\t\tBIGINT(64) NOT NULL,\n\t\tis_index \t\t\tTINYINT(2) NOT NULL,\n\t\thist_id \t\t\tBIGINT(64) NOT NULL,\n\t\tdistinct_count \t\tBIGINT(64) NOT NULL,\n\t\tnull_count \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\ttot_col_size \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tmodify_count \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tversion \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tcm_sketch \t\t\tBLOB(6291456),\n\t\tstats_ver \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tflag \t\t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcorrelation \t\tDOUBLE NOT NULL DEFAULT 0,\n\t\tlast_analyze_pos \tLONGBLOB DEFAULT NULL,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id)\n\t);"] [user=]
[2022/01/24 19:24:04.106 +08:00] [INFO] [ddl_api.go:699] ["Automatically convert BLOB(6291456) to MEDIUMBLOB"]
[2022/01/24 19:24:04.107 +08:00] [INFO] [ddl_worker.go:322] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:24, Type:create table, State:none, SchemaState:queueing, SchemaID:3, TableID:23, RowCount:0, ArgLen:1, start time: 2022-01-24 19:24:04.107 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/01/24 19:24:04.107 +08:00] [INFO] [ddl.go:593] ["[ddl] start DDL job"] [job="ID:24, Type:create table, State:none, SchemaState:queueing, SchemaID:3, TableID:23, RowCount:0, ArgLen:1, start time: 2022-01-24 19:24:04.107 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_histograms (\n\t\ttable_id \t\t\tBIGINT(64) NOT NULL,\n\t\tis_index \t\t\tTINYINT(2) NOT NULL,\n\t\thist_id \t\t\tBIGINT(64) NOT NULL,\n\t\tdistinct_count \t\tBIGINT(64) NOT NULL,\n\t\tnull_count \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\ttot_col_size \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tmodify_count \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tversion \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tcm_sketch \t\t\tBLOB(6291456),\n\t\tstats_ver \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tflag \t\t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcorrelation \t\tDOUBLE NOT NULL DEFAULT 0,\n\t\tlast_analyze_pos \tLONGBLOB DEFAULT NULL,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id)\n\t);"]
[2022/01/24 19:24:04.107 +08:00] [INFO] [ddl_worker.go:737] ["[ddl] run DDL job"] [worker="worker 1, tp general"] [job="ID:24, Type:create table, State:none, SchemaState:queueing, SchemaID:3, TableID:23, RowCount:0, ArgLen:0, start time: 2022-01-24 19:24:04.107 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/01/24 19:24:04.109 +08:00] [INFO] [domain.go:138] ["diff load InfoSchema success"] [currentSchemaVersion=11] [neededSchemaVersion=12] ["start time"=330.583µs] [phyTblIDs="[23]"] [actionTypes="[8]"]
[2022/01/24 19:24:04.111 +08:00] [INFO] [ddl_worker.go:942] ["[ddl] wait latest schema version changed"] [worker="worker 1, tp general"] [ver=12] ["take time"=2.263209ms] [job="ID:24, Type:create table, State:done, SchemaState:public, SchemaID:3, TableID:23, RowCount:0, ArgLen:1, start time: 2022-01-24 19:24:04.107 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/01/24 19:24:04.112 +08:00] [INFO] [ddl_worker.go:436] ["[ddl] finish DDL job"] [worker="worker 1, tp general"] [job="ID:24, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:23, RowCount:0, ArgLen:0, start time: 2022-01-24 19:24:04.107 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/01/24 19:24:04.112 +08:00] [INFO] [ddl.go:656] ["[ddl] DDL job is finished"] [jobID=24]
[2022/01/24 19:24:04.112 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/01/24 19:24:04.113 +08:00] [INFO] [session.go:3049] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=12] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_buckets (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tbucket_id \tBIGINT(64) NOT NULL,\n\t\tcount \t\tBIGINT(64) NOT NULL,\n\t\trepeats \tBIGINT(64) NOT NULL,\n\t\tupper_bound LONGBLOB NOT NULL,\n\t\tlower_bound LONGBLOB ,\n\t\tndv         BIGINT NOT NULL DEFAULT 0,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id, bucket_id)\n\t);"] [user=]
[2022/01/24 19:24:04.113 +08:00] [INFO] [ddl_worker.go:322] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:26, Type:create table, State:none, SchemaState:queueing, SchemaID:3, TableID:25, RowCount:0, ArgLen:1, start time: 2022-01-24 19:24:04.113 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/01/24 19:24:04.113 +08:00] [INFO] [ddl.go:593] ["[ddl] start DDL job"] [job="ID:26, Type:create table, State:none, SchemaState:queueing, SchemaID:3, TableID:25, RowCount:0, ArgLen:1, start time: 2022-01-24 19:24:04.113 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_buckets (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tbucket_id \tBIGINT(64) NOT NULL,\n\t\tcount \t\tBIGINT(64) NOT NULL,\n\t\trepeats \tBIGINT(64) NOT NULL,\n\t\tupper_bound LONGBLOB NOT NULL,\n\t\tlower_bound LONGBLOB ,\n\t\tndv         BIGINT NOT NULL DEFAULT 0,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id, bucket_id)\n\t);"]
[2022/01/24 19:24:04.114 +08:00] [INFO] [ddl_worker.go:737] ["[ddl] run DDL job"] [worker="worker 1, tp general"] [job="ID:26, Type:create table, State:none, SchemaState:queueing, SchemaID:3, TableID:25, RowCount:0, ArgLen:0, start time: 2022-01-24 19:24:04.113 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/01/24 19:24:04.115 +08:00] [INFO] [domain.go:138] ["diff load InfoSchema success"] [currentSchemaVersion=12] [neededSchemaVersion=13] ["start time"=292.75µs] [phyTblIDs="[25]"] [actionTypes="[8]"]
[2022/01/24 19:24:04.117 +08:00] [INFO] [ddl_worker.go:942] ["[ddl] wait latest schema version changed"] [worker="worker 1, tp general"] [ver=13] ["take time"=2.086208ms] [job="ID:26, Type:create table, State:done, SchemaState:public, SchemaID:3, TableID:25, RowCount:0, ArgLen:1, start time: 2022-01-24 19:24:04.113 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/01/24 19:24:04.117 +08:00] [INFO] [ddl_worker.go:436] ["[ddl] finish DDL job"] [worker="worker 1, tp general"] [job="ID:26, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:25, RowCount:0, ArgLen:0, start time: 2022-01-24 19:24:04.113 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/01/24 19:24:04.118 +08:00] [INFO] [ddl.go:656] ["[ddl] DDL job is finished"] [jobID=26]
[2022/01/24 19:24:04.118 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/01/24 19:24:04.118 +08:00] [INFO] [session.go:3049] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=13] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_index (job_id, element_id)\n\t);"] [user=]
[2022/01/24 19:24:04.119 +08:00] [INFO] [ddl_worker.go:322] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:28, Type:create table, State:none, SchemaState:queueing, SchemaID:3, TableID:27, RowCount:0, ArgLen:1, start time: 2022-01-24 19:24:04.119 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/01/24 19:24:04.119 +08:00] [INFO] [ddl.go:593] ["[ddl] start DDL job"] [job="ID:28, Type:create table, State:none, SchemaState:queueing, SchemaID:3, TableID:27, RowCount:0, ArgLen:1, start time: 2022-01-24 19:24:04.119 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_index (job_id, element_id)\n\t);"]
[2022/01/24 19:24:04.119 +08:00] [INFO] [ddl_worker.go:737] ["[ddl] run DDL job"] [worker="worker 1, tp general"] [job="ID:28, Type:create table, State:none, SchemaState:queueing, SchemaID:3, TableID:27, RowCount:0, ArgLen:0, start time: 2022-01-24 19:24:04.119 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/01/24 19:24:04.121 +08:00] [INFO] [domain.go:138] ["diff load InfoSchema success"] [currentSchemaVersion=13] [neededSchemaVersion=14] ["start time"=279.792µs] [phyTblIDs="[27]"] [actionTypes="[8]"]
[2022/01/24 19:24:04.123 +08:00] [INFO] [ddl_worker.go:942] ["[ddl] wait latest schema version changed"] [worker="worker 1, tp general"] [ver=14] ["take time"=2.273459ms] [job="ID:28, Type:create table, State:done, SchemaState:public, SchemaID:3, TableID:27, RowCount:0, ArgLen:1, start time: 2022-01-24 19:24:04.119 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/01/24 19:24:04.123 +08:00] [INFO] [ddl_worker.go:436] ["[ddl] finish DDL job"] [worker="worker 1, tp general"] [job="ID:28, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:27, RowCount:0, ArgLen:0, start time: 2022-01-24 19:24:04.119 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/01/24 19:24:04.124 +08:00] [INFO] [ddl.go:656] ["[ddl] DDL job is finished"] [jobID=28]
[2022/01/24 19:24:04.124 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/01/24 19:24:04.124 +08:00] [INFO] [session.go:3049] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=14] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range_done (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_done_index (job_id, element_id)\n\t);"] [user=]
[2022/01/24 19:24:04.125 +08:00] [INFO] [ddl_worker.go:322] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:30, Type:create table, State:none, SchemaState:queueing, SchemaID:3, TableID:29, RowCount:0, ArgLen:1, start time: 2022-01-24 19:24:04.124 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/01/24 19:24:04.125 +08:00] [INFO] [ddl.go:593] ["[ddl] start DDL job"] [job="ID:30, Type:create table, State:none, SchemaState:queueing, SchemaID:3, TableID:29, RowCount:0, ArgLen:1, start time: 2022-01-24 19:24:04.124 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range_done (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_done_index (job_id, element_id)\n\t);"]
[2022/01/24 19:24:04.125 +08:00] [INFO] [ddl_worker.go:737] ["[ddl] run DDL job"] [worker="worker 1, tp general"] [job="ID:30, Type:create table, State:none, SchemaState:queueing, SchemaID:3, TableID:29, RowCount:0, ArgLen:0, start time: 2022-01-24 19:24:04.124 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/01/24 19:24:04.126 +08:00] [INFO] [domain.go:138] ["diff load InfoSchema success"] [currentSchemaVersion=14] [neededSchemaVersion=15] ["start time"=288µs] [phyTblIDs="[29]"] [actionTypes="[8]"]
[2022/01/24 19:24:04.128 +08:00] [INFO] [ddl_worker.go:942] ["[ddl] wait latest schema version changed"] [worker="worker 1, tp general"] [ver=15] ["take time"=2.252834ms] [job="ID:30, Type:create table, State:done, SchemaState:public, SchemaID:3, TableID:29, RowCount:0, ArgLen:1, start time: 2022-01-24 19:24:04.124 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/01/24 19:24:04.129 +08:00] [INFO] [ddl_worker.go:436] ["[ddl] finish DDL job"] [worker="worker 1, tp general"] [job="ID:30, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:29, RowCount:0, ArgLen:0, start time: 2022-01-24 19:24:04.124 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/01/24 19:24:04.129 +08:00] [INFO] [ddl.go:656] ["[ddl] DDL job is finished"] [jobID=30]
[2022/01/24 19:24:04.129 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/01/24 19:24:04.129 +08:00] [INFO] [session.go:3049] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=15] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_feedback (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tfeedback \tBLOB NOT NULL,\n\t\tINDEX hist(table_id, is_index, hist_id)\n\t);"] [user=]
[2022/01/24 19:24:04.130 +08:00] [INFO] [ddl_worker.go:322] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:32, Type:create table, State:none, SchemaState:queueing, SchemaID:3, TableID:31, RowCount:0, ArgLen:1, start time: 2022-01-24 19:24:04.13 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/01/24 19:24:04.130 +08:00] [INFO] [ddl.go:593] ["[ddl] start DDL job"] [job="ID:32, Type:create table, State:none, SchemaState:queueing, SchemaID:3, TableID:31, RowCount:0, ArgLen:1, start time: 2022-01-24 19:24:04.13 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_feedback (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tfeedback \tBLOB NOT NULL,\n\t\tINDEX hist(table_id, is_index, hist_id)\n\t);"]
[2022/01/24 19:24:04.130 +08:00] [INFO] [ddl_worker.go:737] ["[ddl] run DDL job"] [worker="worker 1, tp general"] [job="ID:32, Type:create table, State:none, SchemaState:queueing, SchemaID:3, TableID:31, RowCount:0, ArgLen:0, start time: 2022-01-24 19:24:04.13 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/01/24 19:24:04.131 +08:00] [INFO] [domain.go:138] ["diff load InfoSchema success"] [currentSchemaVersion=15] [neededSchemaVersion=16] ["start time"=352.917µs] [phyTblIDs="[31]"] [actionTypes="[8]"]
[2022/01/24 19:24:04.133 +08:00] [INFO] [ddl_worker.go:942] ["[ddl] wait latest schema version changed"] [worker="worker 1, tp general"] [ver=16] ["take time"=2.281042ms] [job="ID:32, Type:create table, State:done, SchemaState:public, SchemaID:3, TableID:31, RowCount:0, ArgLen:1, start time: 2022-01-24 19:24:04.13 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/01/24 19:24:04.134 +08:00] [INFO] [ddl_worker.go:436] ["[ddl] finish DDL job"] [worker="worker 1, tp general"] [job="ID:32, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:31, RowCount:0, ArgLen:0, start time: 2022-01-24 19:24:04.13 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/01/24 19:24:04.134 +08:00] [INFO] [ddl.go:656] ["[ddl] DDL job is finished"] [jobID=32]
[2022/01/24 19:24:04.134 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/01/24 19:24:04.135 +08:00] [INFO] [session.go:3049] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=16] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.role_edges (\n\t\tFROM_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tFROM_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tWITH_ADMIN_OPTION \tENUM('N','Y') CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (FROM_HOST,FROM_USER,TO_HOST,TO_USER)\n\t);"] [user=]
[2022/01/24 19:24:04.136 +08:00] [INFO] [ddl_worker.go:322] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:34, Type:create table, State:none, SchemaState:queueing, SchemaID:3, TableID:33, RowCount:0, ArgLen:1, start time: 2022-01-24 19:24:04.135 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/01/24 19:24:04.136 +08:00] [INFO] [ddl.go:593] ["[ddl] start DDL job"] [job="ID:34, Type:create table, State:none, SchemaState:queueing, SchemaID:3, TableID:33, RowCount:0, ArgLen:1, start time: 2022-01-24 19:24:04.135 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.role_edges (\n\t\tFROM_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tFROM_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tWITH_ADMIN_OPTION \tENUM('N','Y') CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (FROM_HOST,FROM_USER,TO_HOST,TO_USER)\n\t);"]
[2022/01/24 19:24:04.136 +08:00] [INFO] [ddl_worker.go:737] ["[ddl] run DDL job"] [worker="worker 1, tp general"] [job="ID:34, Type:create table, State:none, SchemaState:queueing, SchemaID:3, TableID:33, RowCount:0, ArgLen:0, start time: 2022-01-24 19:24:04.135 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/01/24 19:24:04.137 +08:00] [INFO] [domain.go:138] ["diff load InfoSchema success"] [currentSchemaVersion=16] [neededSchemaVersion=17] ["start time"=271.375µs] [phyTblIDs="[33]"] [actionTypes="[8]"]
[2022/01/24 19:24:04.139 +08:00] [INFO] [ddl_worker.go:942] ["[ddl] wait latest schema version changed"] [worker="worker 1, tp general"] [ver=17] ["take time"=2.259584ms] [job="ID:34, Type:create table, State:done, SchemaState:public, SchemaID:3, TableID:33, RowCount:0, ArgLen:1, start time: 2022-01-24 19:24:04.135 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/01/24 19:24:04.140 +08:00] [INFO] [ddl_worker.go:436] ["[ddl] finish DDL job"] [worker="worker 1, tp general"] [job="ID:34, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:33, RowCount:0, ArgLen:0, start time: 2022-01-24 19:24:04.135 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/01/24 19:24:04.140 +08:00] [INFO] [ddl.go:656] ["[ddl] DDL job is finished"] [jobID=34]
[2022/01/24 19:24:04.140 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/01/24 19:24:04.140 +08:00] [INFO] [session.go:3049] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=17] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.default_roles (\n\t\tHOST \t\t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tUSER \t\t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tDEFAULT_ROLE_HOST \tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '%',\n\t\tDEFAULT_ROLE_USER \tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tPRIMARY KEY (HOST,USER,DEFAULT_ROLE_HOST,DEFAULT_ROLE_USER)\n\t)"] [user=]
[2022/01/24 19:24:04.141 +08:00] [INFO] [ddl_worker.go:322] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:36, Type:create table, State:none, SchemaState:queueing, SchemaID:3, TableID:35, RowCount:0, ArgLen:1, start time: 2022-01-24 19:24:04.141 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/01/24 19:24:04.141 +08:00] [INFO] [ddl.go:593] ["[ddl] start DDL job"] [job="ID:36, Type:create table, State:none, SchemaState:queueing, SchemaID:3, TableID:35, RowCount:0, ArgLen:1, start time: 2022-01-24 19:24:04.141 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.default_roles (\n\t\tHOST \t\t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tUSER \t\t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tDEFAULT_ROLE_HOST \tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '%',\n\t\tDEFAULT_ROLE_USER \tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tPRIMARY KEY (HOST,USER,DEFAULT_ROLE_HOST,DEFAULT_ROLE_USER)\n\t)"]
[2022/01/24 19:24:04.142 +08:00] [INFO] [ddl_worker.go:737] ["[ddl] run DDL job"] [worker="worker 1, tp general"] [job="ID:36, Type:create table, State:none, SchemaState:queueing, SchemaID:3, TableID:35, RowCount:0, ArgLen:0, start time: 2022-01-24 19:24:04.141 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/01/24 19:24:04.143 +08:00] [INFO] [domain.go:138] ["diff load InfoSchema success"] [currentSchemaVersion=17] [neededSchemaVersion=18] ["start time"=269.958µs] [phyTblIDs="[35]"] [actionTypes="[8]"]
[2022/01/24 19:24:04.145 +08:00] [INFO] [ddl_worker.go:942] ["[ddl] wait latest schema version changed"] [worker="worker 1, tp general"] [ver=18] ["take time"=2.260584ms] [job="ID:36, Type:create table, State:done, SchemaState:public, SchemaID:3, TableID:35, RowCount:0, ArgLen:1, start time: 2022-01-24 19:24:04.141 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/01/24 19:24:04.145 +08:00] [INFO] [ddl_worker.go:436] ["[ddl] finish DDL job"] [worker="worker 1, tp general"] [job="ID:36, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:35, RowCount:0, ArgLen:0, start time: 2022-01-24 19:24:04.141 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/01/24 19:24:04.146 +08:00] [INFO] [ddl.go:656] ["[ddl] DDL job is finished"] [jobID=36]
[2022/01/24 19:24:04.146 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/01/24 19:24:04.146 +08:00] [INFO] [session.go:3049] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=18] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.bind_info (\n\t\toriginal_sql TEXT NOT NULL,\n\t\tbind_sql TEXT NOT NULL,\n\t\tdefault_db TEXT NOT NULL,\n\t\tstatus TEXT NOT NULL,\n\t\tcreate_time TIMESTAMP(3) NOT NULL,\n\t\tupdate_time TIMESTAMP(3) NOT NULL,\n\t\tcharset TEXT NOT NULL,\n\t\tcollation TEXT NOT NULL,\n\t\tsource VARCHAR(10) NOT NULL DEFAULT 'unknown',\n\t\tINDEX sql_index(original_sql(700),default_db(68)) COMMENT \"accelerate the speed when add global binding query\",\n\t\tINDEX time_index(update_time) COMMENT \"accelerate the speed when querying with last update time\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"] [user=]
[2022/01/24 19:24:04.147 +08:00] [INFO] [ddl_worker.go:322] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:38, Type:create table, State:none, SchemaState:queueing, SchemaID:3, TableID:37, RowCount:0, ArgLen:1, start time: 2022-01-24 19:24:04.147 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/01/24 19:24:04.147 +08:00] [INFO] [ddl.go:593] ["[ddl] start DDL job"] [job="ID:38, Type:create table, State:none, SchemaState:queueing, SchemaID:3, TableID:37, RowCount:0, ArgLen:1, start time: 2022-01-24 19:24:04.147 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.bind_info (\n\t\toriginal_sql TEXT NOT NULL,\n\t\tbind_sql TEXT NOT NULL,\n\t\tdefault_db TEXT NOT NULL,\n\t\tstatus TEXT NOT NULL,\n\t\tcreate_time TIMESTAMP(3) NOT NULL,\n\t\tupdate_time TIMESTAMP(3) NOT NULL,\n\t\tcharset TEXT NOT NULL,\n\t\tcollation TEXT NOT NULL,\n\t\tsource VARCHAR(10) NOT NULL DEFAULT 'unknown',\n\t\tINDEX sql_index(original_sql(700),default_db(68)) COMMENT \"accelerate the speed when add global binding query\",\n\t\tINDEX time_index(update_time) COMMENT \"accelerate the speed when querying with last update time\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"]
[2022/01/24 19:24:04.148 +08:00] [INFO] [ddl_worker.go:737] ["[ddl] run DDL job"] [worker="worker 1, tp general"] [job="ID:38, Type:create table, State:none, SchemaState:queueing, SchemaID:3, TableID:37, RowCount:0, ArgLen:0, start time: 2022-01-24 19:24:04.147 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/01/24 19:24:04.149 +08:00] [INFO] [domain.go:138] ["diff load InfoSchema success"] [currentSchemaVersion=18] [neededSchemaVersion=19] ["start time"=327.833µs] [phyTblIDs="[37]"] [actionTypes="[8]"]
[2022/01/24 19:24:04.151 +08:00] [INFO] [ddl_worker.go:942] ["[ddl] wait latest schema version changed"] [worker="worker 1, tp general"] [ver=19] ["take time"=2.262666ms] [job="ID:38, Type:create table, State:done, SchemaState:public, SchemaID:3, TableID:37, RowCount:0, ArgLen:1, start time: 2022-01-24 19:24:04.147 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/01/24 19:24:04.151 +08:00] [INFO] [ddl_worker.go:436] ["[ddl] finish DDL job"] [worker="worker 1, tp general"] [job="ID:38, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:37, RowCount:0, ArgLen:0, start time: 2022-01-24 19:24:04.147 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/01/24 19:24:04.152 +08:00] [INFO] [ddl.go:656] ["[ddl] DDL job is finished"] [jobID=38]
[2022/01/24 19:24:04.152 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/01/24 19:24:04.154 +08:00] [INFO] [session.go:3049] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=19] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_top_n (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tvalue \t\tLONGBLOB,\n\t\tcount \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\tINDEX tbl(table_id, is_index, hist_id)\n\t);"] [user=]
[2022/01/24 19:24:04.155 +08:00] [INFO] [ddl_worker.go:322] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:40, Type:create table, State:none, SchemaState:queueing, SchemaID:3, TableID:39, RowCount:0, ArgLen:1, start time: 2022-01-24 19:24:04.155 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/01/24 19:24:04.155 +08:00] [INFO] [ddl.go:593] ["[ddl] start DDL job"] [job="ID:40, Type:create table, State:none, SchemaState:queueing, SchemaID:3, TableID:39, RowCount:0, ArgLen:1, start time: 2022-01-24 19:24:04.155 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_top_n (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tvalue \t\tLONGBLOB,\n\t\tcount \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\tINDEX tbl(table_id, is_index, hist_id)\n\t);"]
[2022/01/24 19:24:04.155 +08:00] [INFO] [ddl_worker.go:737] ["[ddl] run DDL job"] [worker="worker 1, tp general"] [job="ID:40, Type:create table, State:none, SchemaState:queueing, SchemaID:3, TableID:39, RowCount:0, ArgLen:0, start time: 2022-01-24 19:24:04.155 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/01/24 19:24:04.157 +08:00] [INFO] [domain.go:138] ["diff load InfoSchema success"] [currentSchemaVersion=19] [neededSchemaVersion=20] ["start time"=313.5µs] [phyTblIDs="[39]"] [actionTypes="[8]"]
[2022/01/24 19:24:04.158 +08:00] [INFO] [ddl_worker.go:942] ["[ddl] wait latest schema version changed"] [worker="worker 1, tp general"] [ver=20] ["take time"=2.284334ms] [job="ID:40, Type:create table, State:done, SchemaState:public, SchemaID:3, TableID:39, RowCount:0, ArgLen:1, start time: 2022-01-24 19:24:04.155 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/01/24 19:24:04.159 +08:00] [INFO] [ddl_worker.go:436] ["[ddl] finish DDL job"] [worker="worker 1, tp general"] [job="ID:40, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:39, RowCount:0, ArgLen:0, start time: 2022-01-24 19:24:04.155 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/01/24 19:24:04.160 +08:00] [INFO] [ddl.go:656] ["[ddl] DDL job is finished"] [jobID=40]
[2022/01/24 19:24:04.160 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/01/24 19:24:04.160 +08:00] [INFO] [session.go:3049] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=20] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.expr_pushdown_blacklist (\n\t\tname \t\tCHAR(100) NOT NULL,\n\t\tstore_type \tCHAR(100) NOT NULL DEFAULT 'tikv,tiflash,tidb',\n\t\treason \t\tVARCHAR(200)\n\t);"] [user=]
[2022/01/24 19:24:04.161 +08:00] [INFO] [ddl_worker.go:322] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:42, Type:create table, State:none, SchemaState:queueing, SchemaID:3, TableID:41, RowCount:0, ArgLen:1, start time: 2022-01-24 19:24:04.16 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/01/24 19:24:04.161 +08:00] [INFO] [ddl.go:593] ["[ddl] start DDL job"] [job="ID:42, Type:create table, State:none, SchemaState:queueing, SchemaID:3, TableID:41, RowCount:0, ArgLen:1, start time: 2022-01-24 19:24:04.16 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.expr_pushdown_blacklist (\n\t\tname \t\tCHAR(100) NOT NULL,\n\t\tstore_type \tCHAR(100) NOT NULL DEFAULT 'tikv,tiflash,tidb',\n\t\treason \t\tVARCHAR(200)\n\t);"]
[2022/01/24 19:24:04.161 +08:00] [INFO] [ddl_worker.go:737] ["[ddl] run DDL job"] [worker="worker 1, tp general"] [job="ID:42, Type:create table, State:none, SchemaState:queueing, SchemaID:3, TableID:41, RowCount:0, ArgLen:0, start time: 2022-01-24 19:24:04.16 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/01/24 19:24:04.162 +08:00] [INFO] [domain.go:138] ["diff load InfoSchema success"] [currentSchemaVersion=20] [neededSchemaVersion=21] ["start time"=239.459µs] [phyTblIDs="[41]"] [actionTypes="[8]"]
[2022/01/24 19:24:04.164 +08:00] [INFO] [ddl_worker.go:942] ["[ddl] wait latest schema version changed"] [worker="worker 1, tp general"] [ver=21] ["take time"=2.26075ms] [job="ID:42, Type:create table, State:done, SchemaState:public, SchemaID:3, TableID:41, RowCount:0, ArgLen:1, start time: 2022-01-24 19:24:04.16 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/01/24 19:24:04.165 +08:00] [INFO] [ddl_worker.go:436] ["[ddl] finish DDL job"] [worker="worker 1, tp general"] [job="ID:42, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:41, RowCount:0, ArgLen:0, start time: 2022-01-24 19:24:04.16 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/01/24 19:24:04.165 +08:00] [INFO] [ddl.go:656] ["[ddl] DDL job is finished"] [jobID=42]
[2022/01/24 19:24:04.165 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/01/24 19:24:04.165 +08:00] [INFO] [session.go:3049] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=21] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.opt_rule_blacklist (\n\t\tname \tCHAR(100) NOT NULL\n\t);"] [user=]
[2022/01/24 19:24:04.166 +08:00] [INFO] [ddl_worker.go:322] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:44, Type:create table, State:none, SchemaState:queueing, SchemaID:3, TableID:43, RowCount:0, ArgLen:1, start time: 2022-01-24 19:24:04.166 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/01/24 19:24:04.166 +08:00] [INFO] [ddl.go:593] ["[ddl] start DDL job"] [job="ID:44, Type:create table, State:none, SchemaState:queueing, SchemaID:3, TableID:43, RowCount:0, ArgLen:1, start time: 2022-01-24 19:24:04.166 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.opt_rule_blacklist (\n\t\tname \tCHAR(100) NOT NULL\n\t);"]
[2022/01/24 19:24:04.167 +08:00] [INFO] [ddl_worker.go:737] ["[ddl] run DDL job"] [worker="worker 1, tp general"] [job="ID:44, Type:create table, State:none, SchemaState:queueing, SchemaID:3, TableID:43, RowCount:0, ArgLen:0, start time: 2022-01-24 19:24:04.166 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/01/24 19:24:04.168 +08:00] [INFO] [domain.go:138] ["diff load InfoSchema success"] [currentSchemaVersion=21] [neededSchemaVersion=22] ["start time"=228.834µs] [phyTblIDs="[43]"] [actionTypes="[8]"]
[2022/01/24 19:24:04.170 +08:00] [INFO] [ddl_worker.go:942] ["[ddl] wait latest schema version changed"] [worker="worker 1, tp general"] [ver=22] ["take time"=2.264666ms] [job="ID:44, Type:create table, State:done, SchemaState:public, SchemaID:3, TableID:43, RowCount:0, ArgLen:1, start time: 2022-01-24 19:24:04.166 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/01/24 19:24:04.170 +08:00] [INFO] [ddl_worker.go:436] ["[ddl] finish DDL job"] [worker="worker 1, tp general"] [job="ID:44, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:43, RowCount:0, ArgLen:0, start time: 2022-01-24 19:24:04.166 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/01/24 19:24:04.170 +08:00] [INFO] [ddl.go:656] ["[ddl] DDL job is finished"] [jobID=44]
[2022/01/24 19:24:04.170 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/01/24 19:24:04.171 +08:00] [INFO] [session.go:3049] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=22] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_extended (\n\t\tname varchar(32) NOT NULL,\n\t\ttype tinyint(4) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tcolumn_ids varchar(32) NOT NULL,\n\t\tstats blob DEFAULT NULL,\n\t\tversion bigint(64) unsigned NOT NULL,\n\t\tstatus tinyint(4) NOT NULL,\n\t\tPRIMARY KEY(name, table_id),\n\t\tKEY idx_1 (table_id, status, version),\n\t\tKEY idx_2 (status, version)\n\t);"] [user=]
[2022/01/24 19:24:04.172 +08:00] [INFO] [ddl_worker.go:322] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:46, Type:create table, State:none, SchemaState:queueing, SchemaID:3, TableID:45, RowCount:0, ArgLen:1, start time: 2022-01-24 19:24:04.171 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/01/24 19:24:04.172 +08:00] [INFO] [ddl.go:593] ["[ddl] start DDL job"] [job="ID:46, Type:create table, State:none, SchemaState:queueing, SchemaID:3, TableID:45, RowCount:0, ArgLen:1, start time: 2022-01-24 19:24:04.171 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_extended (\n\t\tname varchar(32) NOT NULL,\n\t\ttype tinyint(4) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tcolumn_ids varchar(32) NOT NULL,\n\t\tstats blob DEFAULT NULL,\n\t\tversion bigint(64) unsigned NOT NULL,\n\t\tstatus tinyint(4) NOT NULL,\n\t\tPRIMARY KEY(name, table_id),\n\t\tKEY idx_1 (table_id, status, version),\n\t\tKEY idx_2 (status, version)\n\t);"]
[2022/01/24 19:24:04.172 +08:00] [INFO] [ddl_worker.go:737] ["[ddl] run DDL job"] [worker="worker 1, tp general"] [job="ID:46, Type:create table, State:none, SchemaState:queueing, SchemaID:3, TableID:45, RowCount:0, ArgLen:0, start time: 2022-01-24 19:24:04.171 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/01/24 19:24:04.173 +08:00] [INFO] [domain.go:138] ["diff load InfoSchema success"] [currentSchemaVersion=22] [neededSchemaVersion=23] ["start time"=298.833µs] [phyTblIDs="[45]"] [actionTypes="[8]"]
[2022/01/24 19:24:04.175 +08:00] [INFO] [ddl_worker.go:942] ["[ddl] wait latest schema version changed"] [worker="worker 1, tp general"] [ver=23] ["take time"=2.265667ms] [job="ID:46, Type:create table, State:done, SchemaState:public, SchemaID:3, TableID:45, RowCount:0, ArgLen:1, start time: 2022-01-24 19:24:04.171 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/01/24 19:24:04.176 +08:00] [INFO] [ddl_worker.go:436] ["[ddl] finish DDL job"] [worker="worker 1, tp general"] [job="ID:46, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:45, RowCount:0, ArgLen:0, start time: 2022-01-24 19:24:04.171 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/01/24 19:24:04.176 +08:00] [INFO] [ddl.go:656] ["[ddl] DDL job is finished"] [jobID=46]
[2022/01/24 19:24:04.176 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/01/24 19:24:04.176 +08:00] [INFO] [session.go:3049] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=23] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.schema_index_usage (\n\t\tTABLE_ID bigint(64),\n\t\tINDEX_ID bigint(21),\n\t\tQUERY_COUNT bigint(64),\n\t\tROWS_SELECTED bigint(64),\n\t\tLAST_USED_AT timestamp,\n\t\tPRIMARY KEY(TABLE_ID, INDEX_ID)\n\t);"] [user=]
[2022/01/24 19:24:04.177 +08:00] [INFO] [ddl_worker.go:322] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:48, Type:create table, State:none, SchemaState:queueing, SchemaID:3, TableID:47, RowCount:0, ArgLen:1, start time: 2022-01-24 19:24:04.177 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/01/24 19:24:04.177 +08:00] [INFO] [ddl.go:593] ["[ddl] start DDL job"] [job="ID:48, Type:create table, State:none, SchemaState:queueing, SchemaID:3, TableID:47, RowCount:0, ArgLen:1, start time: 2022-01-24 19:24:04.177 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.schema_index_usage (\n\t\tTABLE_ID bigint(64),\n\t\tINDEX_ID bigint(21),\n\t\tQUERY_COUNT bigint(64),\n\t\tROWS_SELECTED bigint(64),\n\t\tLAST_USED_AT timestamp,\n\t\tPRIMARY KEY(TABLE_ID, INDEX_ID)\n\t);"]
[2022/01/24 19:24:04.178 +08:00] [INFO] [ddl_worker.go:737] ["[ddl] run DDL job"] [worker="worker 1, tp general"] [job="ID:48, Type:create table, State:none, SchemaState:queueing, SchemaID:3, TableID:47, RowCount:0, ArgLen:0, start time: 2022-01-24 19:24:04.177 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/01/24 19:24:04.179 +08:00] [INFO] [domain.go:138] ["diff load InfoSchema success"] [currentSchemaVersion=23] [neededSchemaVersion=24] ["start time"=270.708µs] [phyTblIDs="[47]"] [actionTypes="[8]"]
[2022/01/24 19:24:04.181 +08:00] [INFO] [ddl_worker.go:942] ["[ddl] wait latest schema version changed"] [worker="worker 1, tp general"] [ver=24] ["take time"=2.258167ms] [job="ID:48, Type:create table, State:done, SchemaState:public, SchemaID:3, TableID:47, RowCount:0, ArgLen:1, start time: 2022-01-24 19:24:04.177 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/01/24 19:24:04.181 +08:00] [INFO] [ddl_worker.go:436] ["[ddl] finish DDL job"] [worker="worker 1, tp general"] [job="ID:48, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:47, RowCount:0, ArgLen:0, start time: 2022-01-24 19:24:04.177 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/01/24 19:24:04.182 +08:00] [INFO] [ddl.go:656] ["[ddl] DDL job is finished"] [jobID=48]
[2022/01/24 19:24:04.182 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/01/24 19:24:04.182 +08:00] [INFO] [session.go:3049] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=24] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_fm_sketch (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tvalue \t\tLONGBLOB,\n\t\tINDEX tbl(table_id, is_index, hist_id)\n\t);"] [user=]
[2022/01/24 19:24:04.183 +08:00] [INFO] [ddl_worker.go:322] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:50, Type:create table, State:none, SchemaState:queueing, SchemaID:3, TableID:49, RowCount:0, ArgLen:1, start time: 2022-01-24 19:24:04.182 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/01/24 19:24:04.183 +08:00] [INFO] [ddl.go:593] ["[ddl] start DDL job"] [job="ID:50, Type:create table, State:none, SchemaState:queueing, SchemaID:3, TableID:49, RowCount:0, ArgLen:1, start time: 2022-01-24 19:24:04.182 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_fm_sketch (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tvalue \t\tLONGBLOB,\n\t\tINDEX tbl(table_id, is_index, hist_id)\n\t);"]
[2022/01/24 19:24:04.183 +08:00] [INFO] [ddl_worker.go:737] ["[ddl] run DDL job"] [worker="worker 1, tp general"] [job="ID:50, Type:create table, State:none, SchemaState:queueing, SchemaID:3, TableID:49, RowCount:0, ArgLen:0, start time: 2022-01-24 19:24:04.182 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/01/24 19:24:04.184 +08:00] [INFO] [domain.go:138] ["diff load InfoSchema success"] [currentSchemaVersion=24] [neededSchemaVersion=25] ["start time"=244.334µs] [phyTblIDs="[49]"] [actionTypes="[8]"]
[2022/01/24 19:24:04.186 +08:00] [INFO] [ddl_worker.go:942] ["[ddl] wait latest schema version changed"] [worker="worker 1, tp general"] [ver=25] ["take time"=2.286458ms] [job="ID:50, Type:create table, State:done, SchemaState:public, SchemaID:3, TableID:49, RowCount:0, ArgLen:1, start time: 2022-01-24 19:24:04.182 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/01/24 19:24:04.187 +08:00] [INFO] [ddl_worker.go:436] ["[ddl] finish DDL job"] [worker="worker 1, tp general"] [job="ID:50, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:49, RowCount:0, ArgLen:0, start time: 2022-01-24 19:24:04.182 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/01/24 19:24:04.187 +08:00] [INFO] [ddl.go:656] ["[ddl] DDL job is finished"] [jobID=50]
[2022/01/24 19:24:04.187 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/01/24 19:24:04.187 +08:00] [INFO] [session.go:3049] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=25] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.global_grants (\n\t\tUSER char(32) NOT NULL DEFAULT '',\n\t\tHOST char(255) NOT NULL DEFAULT '',\n\t\tPRIV char(32) NOT NULL DEFAULT '',\n\t\tWITH_GRANT_OPTION enum('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (USER,HOST,PRIV)\n\t);"] [user=]
[2022/01/24 19:24:04.188 +08:00] [INFO] [ddl_worker.go:322] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:52, Type:create table, State:none, SchemaState:queueing, SchemaID:3, TableID:51, RowCount:0, ArgLen:1, start time: 2022-01-24 19:24:04.188 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/01/24 19:24:04.188 +08:00] [INFO] [ddl.go:593] ["[ddl] start DDL job"] [job="ID:52, Type:create table, State:none, SchemaState:queueing, SchemaID:3, TableID:51, RowCount:0, ArgLen:1, start time: 2022-01-24 19:24:04.188 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.global_grants (\n\t\tUSER char(32) NOT NULL DEFAULT '',\n\t\tHOST char(255) NOT NULL DEFAULT '',\n\t\tPRIV char(32) NOT NULL DEFAULT '',\n\t\tWITH_GRANT_OPTION enum('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (USER,HOST,PRIV)\n\t);"]
[2022/01/24 19:24:04.189 +08:00] [INFO] [ddl_worker.go:737] ["[ddl] run DDL job"] [worker="worker 1, tp general"] [job="ID:52, Type:create table, State:none, SchemaState:queueing, SchemaID:3, TableID:51, RowCount:0, ArgLen:0, start time: 2022-01-24 19:24:04.188 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/01/24 19:24:04.189 +08:00] [INFO] [domain.go:138] ["diff load InfoSchema success"] [currentSchemaVersion=25] [neededSchemaVersion=26] ["start time"=215.625µs] [phyTblIDs="[51]"] [actionTypes="[8]"]
[2022/01/24 19:24:04.191 +08:00] [INFO] [ddl_worker.go:942] ["[ddl] wait latest schema version changed"] [worker="worker 1, tp general"] [ver=26] ["take time"=2.254666ms] [job="ID:52, Type:create table, State:done, SchemaState:public, SchemaID:3, TableID:51, RowCount:0, ArgLen:1, start time: 2022-01-24 19:24:04.188 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/01/24 19:24:04.192 +08:00] [INFO] [ddl_worker.go:436] ["[ddl] finish DDL job"] [worker="worker 1, tp general"] [job="ID:52, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:51, RowCount:0, ArgLen:0, start time: 2022-01-24 19:24:04.188 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/01/24 19:24:04.192 +08:00] [INFO] [ddl.go:656] ["[ddl] DDL job is finished"] [jobID=52]
[2022/01/24 19:24:04.192 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/01/24 19:24:04.193 +08:00] [INFO] [session.go:3049] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=26] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.capture_plan_baselines_blacklist (\n\t\tid bigint(64) auto_increment,\n\t\tfilter_type varchar(32) NOT NULL COMMENT \"type of the filter, only db, table and frequency supported now\",\n\t\tfilter_value varchar(32) NOT NULL,\n\t\tkey idx(filter_type),\n\t\tprimary key(id)\n\t);"] [user=]
[2022/01/24 19:24:04.194 +08:00] [INFO] [ddl_worker.go:322] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:54, Type:create table, State:none, SchemaState:queueing, SchemaID:3, TableID:53, RowCount:0, ArgLen:1, start time: 2022-01-24 19:24:04.193 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/01/24 19:24:04.194 +08:00] [INFO] [ddl.go:593] ["[ddl] start DDL job"] [job="ID:54, Type:create table, State:none, SchemaState:queueing, SchemaID:3, TableID:53, RowCount:0, ArgLen:1, start time: 2022-01-24 19:24:04.193 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.capture_plan_baselines_blacklist (\n\t\tid bigint(64) auto_increment,\n\t\tfilter_type varchar(32) NOT NULL COMMENT \"type of the filter, only db, table and frequency supported now\",\n\t\tfilter_value varchar(32) NOT NULL,\n\t\tkey idx(filter_type),\n\t\tprimary key(id)\n\t);"]
[2022/01/24 19:24:04.194 +08:00] [INFO] [ddl_worker.go:737] ["[ddl] run DDL job"] [worker="worker 1, tp general"] [job="ID:54, Type:create table, State:none, SchemaState:queueing, SchemaID:3, TableID:53, RowCount:0, ArgLen:0, start time: 2022-01-24 19:24:04.193 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/01/24 19:24:04.195 +08:00] [INFO] [domain.go:138] ["diff load InfoSchema success"] [currentSchemaVersion=26] [neededSchemaVersion=27] ["start time"=285.917µs] [phyTblIDs="[53]"] [actionTypes="[8]"]
[2022/01/24 19:24:04.197 +08:00] [INFO] [ddl_worker.go:942] ["[ddl] wait latest schema version changed"] [worker="worker 1, tp general"] [ver=27] ["take time"=2.129625ms] [job="ID:54, Type:create table, State:done, SchemaState:public, SchemaID:3, TableID:53, RowCount:0, ArgLen:1, start time: 2022-01-24 19:24:04.193 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/01/24 19:24:04.198 +08:00] [INFO] [ddl_worker.go:436] ["[ddl] finish DDL job"] [worker="worker 1, tp general"] [job="ID:54, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:53, RowCount:0, ArgLen:0, start time: 2022-01-24 19:24:04.193 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/01/24 19:24:04.198 +08:00] [INFO] [ddl.go:656] ["[ddl] DDL job is finished"] [jobID=54]
[2022/01/24 19:24:04.198 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/01/24 19:24:04.198 +08:00] [INFO] [session.go:3049] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=27] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.column_stats_usage (\n\t\ttable_id BIGINT(64) NOT NULL,\n\t\tcolumn_id BIGINT(64) NOT NULL,\n\t\tlast_used_at TIMESTAMP,\n\t\tlast_analyzed_at TIMESTAMP,\n\t\tPRIMARY KEY (table_id, column_id) CLUSTERED\n\t);"] [user=]
[2022/01/24 19:24:04.199 +08:00] [INFO] [ddl_worker.go:322] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:56, Type:create table, State:none, SchemaState:queueing, SchemaID:3, TableID:55, RowCount:0, ArgLen:1, start time: 2022-01-24 19:24:04.199 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/01/24 19:24:04.199 +08:00] [INFO] [ddl.go:593] ["[ddl] start DDL job"] [job="ID:56, Type:create table, State:none, SchemaState:queueing, SchemaID:3, TableID:55, RowCount:0, ArgLen:1, start time: 2022-01-24 19:24:04.199 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.column_stats_usage (\n\t\ttable_id BIGINT(64) NOT NULL,\n\t\tcolumn_id BIGINT(64) NOT NULL,\n\t\tlast_used_at TIMESTAMP,\n\t\tlast_analyzed_at TIMESTAMP,\n\t\tPRIMARY KEY (table_id, column_id) CLUSTERED\n\t);"]
[2022/01/24 19:24:04.200 +08:00] [INFO] [ddl_worker.go:737] ["[ddl] run DDL job"] [worker="worker 1, tp general"] [job="ID:56, Type:create table, State:none, SchemaState:queueing, SchemaID:3, TableID:55, RowCount:0, ArgLen:0, start time: 2022-01-24 19:24:04.199 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/01/24 19:24:04.201 +08:00] [INFO] [domain.go:138] ["diff load InfoSchema success"] [currentSchemaVersion=27] [neededSchemaVersion=28] ["start time"=251.625µs] [phyTblIDs="[55]"] [actionTypes="[8]"]
[2022/01/24 19:24:04.203 +08:00] [INFO] [ddl_worker.go:942] ["[ddl] wait latest schema version changed"] [worker="worker 1, tp general"] [ver=28] ["take time"=2.256459ms] [job="ID:56, Type:create table, State:done, SchemaState:public, SchemaID:3, TableID:55, RowCount:0, ArgLen:1, start time: 2022-01-24 19:24:04.199 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/01/24 19:24:04.203 +08:00] [INFO] [ddl_worker.go:436] ["[ddl] finish DDL job"] [worker="worker 1, tp general"] [job="ID:56, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:55, RowCount:0, ArgLen:0, start time: 2022-01-24 19:24:04.199 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/01/24 19:24:04.204 +08:00] [INFO] [ddl.go:656] ["[ddl] DDL job is finished"] [jobID=56]
[2022/01/24 19:24:04.204 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/01/24 19:24:04.204 +08:00] [INFO] [session.go:3049] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=28] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.table_cache_meta (\n\t\ttid bigint(11) NOT NULL DEFAULT 0,\n\t\tlock_type enum('NONE','READ', 'INTEND', 'WRITE') NOT NULL DEFAULT 'NONE',\n\t\tlease bigint(20) NOT NULL DEFAULT 0,\n\t\toldReadLease bigint(20) NOT NULL DEFAULT 0,\n\t\tPRIMARY KEY (tid)\n\t);"] [user=]
[2022/01/24 19:24:04.205 +08:00] [INFO] [ddl_worker.go:322] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:58, Type:create table, State:none, SchemaState:queueing, SchemaID:3, TableID:57, RowCount:0, ArgLen:1, start time: 2022-01-24 19:24:04.204 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/01/24 19:24:04.205 +08:00] [INFO] [ddl.go:593] ["[ddl] start DDL job"] [job="ID:58, Type:create table, State:none, SchemaState:queueing, SchemaID:3, TableID:57, RowCount:0, ArgLen:1, start time: 2022-01-24 19:24:04.204 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.table_cache_meta (\n\t\ttid bigint(11) NOT NULL DEFAULT 0,\n\t\tlock_type enum('NONE','READ', 'INTEND', 'WRITE') NOT NULL DEFAULT 'NONE',\n\t\tlease bigint(20) NOT NULL DEFAULT 0,\n\t\toldReadLease bigint(20) NOT NULL DEFAULT 0,\n\t\tPRIMARY KEY (tid)\n\t);"]
[2022/01/24 19:24:04.205 +08:00] [INFO] [ddl_worker.go:737] ["[ddl] run DDL job"] [worker="worker 1, tp general"] [job="ID:58, Type:create table, State:none, SchemaState:queueing, SchemaID:3, TableID:57, RowCount:0, ArgLen:0, start time: 2022-01-24 19:24:04.204 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/01/24 19:24:04.206 +08:00] [INFO] [domain.go:138] ["diff load InfoSchema success"] [currentSchemaVersion=28] [neededSchemaVersion=29] ["start time"=287.416µs] [phyTblIDs="[57]"] [actionTypes="[8]"]
[2022/01/24 19:24:04.208 +08:00] [INFO] [ddl_worker.go:942] ["[ddl] wait latest schema version changed"] [worker="worker 1, tp general"] [ver=29] ["take time"=2.065709ms] [job="ID:58, Type:create table, State:done, SchemaState:public, SchemaID:3, TableID:57, RowCount:0, ArgLen:1, start time: 2022-01-24 19:24:04.204 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/01/24 19:24:04.208 +08:00] [INFO] [ddl_worker.go:436] ["[ddl] finish DDL job"] [worker="worker 1, tp general"] [job="ID:58, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:57, RowCount:0, ArgLen:0, start time: 2022-01-24 19:24:04.204 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/01/24 19:24:04.208 +08:00] [INFO] [ddl.go:656] ["[ddl] DDL job is finished"] [jobID=58]
[2022/01/24 19:24:04.208 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/01/24 19:24:04.209 +08:00] [INFO] [session.go:3049] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=29] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.analyze_options (\n\t\ttable_id BIGINT(64) NOT NULL,\n\t\tsample_num BIGINT(64) NOT NULL DEFAULT 0,\n\t\tsample_rate DOUBLE NOT NULL DEFAULT -1,\n\t\tbuckets BIGINT(64) NOT NULL DEFAULT 0,\n\t\ttopn BIGINT(64) NOT NULL DEFAULT -1,\n\t\tcolumn_choice enum('DEFAULT','ALL','PREDICATE','LIST') NOT NULL DEFAULT 'DEFAULT',\n\t\tcolumn_ids TEXT(19372),\n\t\tPRIMARY KEY (table_id) CLUSTERED\n\t);"] [user=]
[2022/01/24 19:24:04.209 +08:00] [INFO] [ddl_api.go:699] ["Automatically convert BLOB(19372) to MEDIUMBLOB"]
[2022/01/24 19:24:04.210 +08:00] [INFO] [ddl_worker.go:322] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:60, Type:create table, State:none, SchemaState:queueing, SchemaID:3, TableID:59, RowCount:0, ArgLen:1, start time: 2022-01-24 19:24:04.209 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/01/24 19:24:04.210 +08:00] [INFO] [ddl.go:593] ["[ddl] start DDL job"] [job="ID:60, Type:create table, State:none, SchemaState:queueing, SchemaID:3, TableID:59, RowCount:0, ArgLen:1, start time: 2022-01-24 19:24:04.209 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.analyze_options (\n\t\ttable_id BIGINT(64) NOT NULL,\n\t\tsample_num BIGINT(64) NOT NULL DEFAULT 0,\n\t\tsample_rate DOUBLE NOT NULL DEFAULT -1,\n\t\tbuckets BIGINT(64) NOT NULL DEFAULT 0,\n\t\ttopn BIGINT(64) NOT NULL DEFAULT -1,\n\t\tcolumn_choice enum('DEFAULT','ALL','PREDICATE','LIST') NOT NULL DEFAULT 'DEFAULT',\n\t\tcolumn_ids TEXT(19372),\n\t\tPRIMARY KEY (table_id) CLUSTERED\n\t);"]
[2022/01/24 19:24:04.210 +08:00] [INFO] [ddl_worker.go:737] ["[ddl] run DDL job"] [worker="worker 1, tp general"] [job="ID:60, Type:create table, State:none, SchemaState:queueing, SchemaID:3, TableID:59, RowCount:0, ArgLen:0, start time: 2022-01-24 19:24:04.209 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/01/24 19:24:04.211 +08:00] [INFO] [domain.go:138] ["diff load InfoSchema success"] [currentSchemaVersion=29] [neededSchemaVersion=30] ["start time"=288.084µs] [phyTblIDs="[59]"] [actionTypes="[8]"]
[2022/01/24 19:24:04.213 +08:00] [INFO] [ddl_worker.go:942] ["[ddl] wait latest schema version changed"] [worker="worker 1, tp general"] [ver=30] ["take time"=2.265208ms] [job="ID:60, Type:create table, State:done, SchemaState:public, SchemaID:3, TableID:59, RowCount:0, ArgLen:1, start time: 2022-01-24 19:24:04.209 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/01/24 19:24:04.214 +08:00] [INFO] [ddl_worker.go:436] ["[ddl] finish DDL job"] [worker="worker 1, tp general"] [job="ID:60, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:59, RowCount:0, ArgLen:0, start time: 2022-01-24 19:24:04.209 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/01/24 19:24:04.214 +08:00] [INFO] [ddl.go:656] ["[ddl] DDL job is finished"] [jobID=60]
[2022/01/24 19:24:04.214 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/01/24 19:24:04.215 +08:00] [INFO] [session.go:3049] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=30] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_history (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tstats_data longblob NOT NULL,\n\t\tseq_no bigint(64) NOT NULL comment 'sequence number of the gzipped data slice',\n\t\tversion bigint(64) NOT NULL comment 'stats version which corresponding to stats:version in EXPLAIN',\n\t\tcreate_time datetime(6) NOT NULL,\n\t\tUNIQUE KEY table_version_seq (table_id, version, seq_no),\n\t\tKEY table_create_time (table_id, create_time, seq_no)\n\t);"] [user=]
[2022/01/24 19:24:04.216 +08:00] [INFO] [ddl_worker.go:322] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:62, Type:create table, State:none, SchemaState:queueing, SchemaID:3, TableID:61, RowCount:0, ArgLen:1, start time: 2022-01-24 19:24:04.215 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/01/24 19:24:04.216 +08:00] [INFO] [ddl.go:593] ["[ddl] start DDL job"] [job="ID:62, Type:create table, State:none, SchemaState:queueing, SchemaID:3, TableID:61, RowCount:0, ArgLen:1, start time: 2022-01-24 19:24:04.215 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_history (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tstats_data longblob NOT NULL,\n\t\tseq_no bigint(64) NOT NULL comment 'sequence number of the gzipped data slice',\n\t\tversion bigint(64) NOT NULL comment 'stats version which corresponding to stats:version in EXPLAIN',\n\t\tcreate_time datetime(6) NOT NULL,\n\t\tUNIQUE KEY table_version_seq (table_id, version, seq_no),\n\t\tKEY table_create_time (table_id, create_time, seq_no)\n\t);"]
[2022/01/24 19:24:04.216 +08:00] [INFO] [ddl_worker.go:737] ["[ddl] run DDL job"] [worker="worker 1, tp general"] [job="ID:62, Type:create table, State:none, SchemaState:queueing, SchemaID:3, TableID:61, RowCount:0, ArgLen:0, start time: 2022-01-24 19:24:04.215 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/01/24 19:24:04.217 +08:00] [INFO] [domain.go:138] ["diff load InfoSchema success"] [currentSchemaVersion=30] [neededSchemaVersion=31] ["start time"=301.083µs] [phyTblIDs="[61]"] [actionTypes="[8]"]
[2022/01/24 19:24:04.219 +08:00] [INFO] [ddl_worker.go:942] ["[ddl] wait latest schema version changed"] [worker="worker 1, tp general"] [ver=31] ["take time"=2.2585ms] [job="ID:62, Type:create table, State:done, SchemaState:public, SchemaID:3, TableID:61, RowCount:0, ArgLen:1, start time: 2022-01-24 19:24:04.215 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/01/24 19:24:04.219 +08:00] [INFO] [ddl_worker.go:436] ["[ddl] finish DDL job"] [worker="worker 1, tp general"] [job="ID:62, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:61, RowCount:0, ArgLen:0, start time: 2022-01-24 19:24:04.215 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/01/24 19:24:04.220 +08:00] [INFO] [ddl.go:656] ["[ddl] DDL job is finished"] [jobID=62]
[2022/01/24 19:24:04.220 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/01/24 19:24:04.233 +08:00] [INFO] [bootstrap.go:413] ["bootstrap successful"] ["take time"=197.483292ms]
[2022/01/24 19:24:04.233 +08:00] [INFO] [ddl_worker.go:150] ["[ddl] DDL worker closed"] [worker="worker 1, tp general"] ["take time"=166ns]
[2022/01/24 19:24:04.234 +08:00] [INFO] [ddl_worker.go:150] ["[ddl] DDL worker closed"] [worker="worker 2, tp add index"] ["take time"=84ns]
[2022/01/24 19:24:04.234 +08:00] [INFO] [delete_range.go:132] ["[ddl] closing delRange"]
[2022/01/24 19:24:04.234 +08:00] [INFO] [session_pool.go:90] ["[ddl] closing sessionPool"]
[2022/01/24 19:24:04.234 +08:00] [INFO] [ddl.go:439] ["[ddl] DDL closed"] [ID=72da908d-f0b5-457a-9863-d1173cc025d5] ["take time"=65.042µs]
[2022/01/24 19:24:04.234 +08:00] [INFO] [ddl.go:346] ["[ddl] stop DDL"] [ID=72da908d-f0b5-457a-9863-d1173cc025d5]
[2022/01/24 19:24:04.234 +08:00] [INFO] [domain.go:481] ["topNSlowQueryLoop exited."]
[2022/01/24 19:24:04.234 +08:00] [INFO] [domain.go:558] ["topologySyncerKeeper exited."]
[2022/01/24 19:24:04.234 +08:00] [INFO] [domain.go:589] ["loadSchemaInLoop exited."]
[2022/01/24 19:24:04.234 +08:00] [INFO] [domain.go:510] ["infoSyncerKeeper exited."]
[2022/01/24 19:24:04.234 +08:00] [INFO] [domain.go:1786] ["renew lease goroutine exited."]
[2022/01/24 19:24:04.234 +08:00] [INFO] [domain.go:535] ["globalConfigSyncerKeeper exited."]
[2022/01/24 19:24:04.234 +08:00] [INFO] [domain.go:714] ["domain closed"] ["take time"=135.584µs]
[2022/01/24 19:24:04.234 +08:00] [INFO] [tidb.go:72] ["new domain"] [store=40a43170-c188-4062-abce-ce2c6a887204] ["ddl lease"=20ms] ["stats lease"=3s] ["index usage sync lease"=0s]
[2022/01/24 19:24:04.237 +08:00] [INFO] [domain.go:169] ["full load InfoSchema success"] [currentSchemaVersion=0] [neededSchemaVersion=31] ["start time"=2.931ms]
[2022/01/24 19:24:04.237 +08:00] [INFO] [domain.go:432] ["full load and reset schema validator"]
[2022/01/24 19:24:04.237 +08:00] [INFO] [ddl.go:365] ["[ddl] start DDL"] [ID=bd83cedb-4ff6-4468-8de7-af79d7d33d4b] [runWorker=true]
[2022/01/24 19:24:04.237 +08:00] [INFO] [ddl.go:354] ["[ddl] start delRangeManager OK"] ["is a emulator"=true]
[2022/01/24 19:24:04.237 +08:00] [INFO] [ddl_worker.go:156] ["[ddl] start DDL worker"] [worker="worker 4, tp add index"]
[2022/01/24 19:24:04.237 +08:00] [INFO] [ddl_worker.go:156] ["[ddl] start DDL worker"] [worker="worker 3, tp general"]
[2022/01/24 19:24:04.237 +08:00] [INFO] [delete_range.go:142] ["[ddl] start delRange emulator"]
[2022/01/24 19:24:04.237 +08:00] [WARN] [ddl_tiflash_api.go:428] ["pollTiFlashReplicaStatus returns error"] [error="MockTiFlash is not accessible"] [errorVerbose="MockTiFlash is not accessible\ngithub.com/pingcap/tidb/domain/infosync.(*mockTiFlashPlacementManager).GetStoresStat\n\t/Users/bba/pc/tidb/domain/infosync/tiflash_manager.go:470\ngithub.com/pingcap/tidb/domain/infosync.GetTiFlashStoresStat\n\t/Users/bba/pc/tidb/domain/infosync/info.go:995\ngithub.com/pingcap/tidb/ddl.updateTiFlashStores\n\t/Users/bba/pc/tidb/ddl/ddl_tiflash_api.go:188\ngithub.com/pingcap/tidb/ddl.(*ddl).pollTiFlashReplicaStatus\n\t/Users/bba/pc/tidb/ddl/ddl_tiflash_api.go:214\ngithub.com/pingcap/tidb/ddl.(*ddl).PollTiFlashRoutine\n\t/Users/bba/pc/tidb/ddl/ddl_tiflash_api.go:426\nruntime.goexit\n\t/Users/bba/.gvm/gos/go1.17.4/src/runtime/asm_arm64.s:1133"]
--- FAIL: TestBootstrap (0.28s)
panic: 11111111 [recovered]
	panic: 11111111

goroutine 308 [running]:
testing.tRunner.func1.2({0x102fecf40, 0x1034eb7e0})
	/Users/bba/.gvm/gos/go1.17.4/src/testing/testing.go:1209 +0x258
testing.tRunner.func1(0x14000cc89c0)
	/Users/bba/.gvm/gos/go1.17.4/src/testing/testing.go:1212 +0x284
panic({0x102fecf40, 0x1034eb7e0})
	/Users/bba/.gvm/gos/go1.17.4/src/runtime/panic.go:1038 +0x21c
github.com/pingcap/tidb/session.BootstrapSession({0x1035ce7a0, 0x140004c6e80})
	/Users/bba/pc/tidb/session/session.go:2619 +0x300
github.com/pingcap/tidb/session.createStoreAndBootstrap(0x14000cc89c0)
	/Users/bba/pc/tidb/session/main_test.go:89 +0x7c
github.com/pingcap/tidb/session.TestBootstrap(0x14000cc89c0)
	/Users/bba/pc/tidb/session/bootstrap_test.go:41 +0x54
testing.tRunner(0x14000cc89c0, 0x1034e2a90)
	/Users/bba/.gvm/gos/go1.17.4/src/testing/testing.go:1259 +0x104
created by testing.(*T).Run
	/Users/bba/.gvm/gos/go1.17.4/src/testing/testing.go:1306 +0x328
FAIL	github.com/pingcap/tidb/session	1.034s
FAIL
