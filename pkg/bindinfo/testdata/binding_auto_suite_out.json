[
  {
    "Name": "TestPlanGeneration",
    "Cases": [
      {
        "SQL": "explain explore select count(1) from t",
        "Plan": [
          [
            "HashAgg_12  root  1.00    funcs:count(Column#7)->Column#5",
            "└─IndexReader_13  root  1.00    index:HashAgg_5",
            "  └─HashAgg_5  cop[tikv]  1.00    funcs:count(1)->Column#7",
            "    └─IndexFullScan_11  cop[tikv]  10000.00  table:t, index:a(a)  keep order:false, stats:pseudo"
          ],
          [
            "HashAgg_7  root  1.00    funcs:count(1)->Column#5",
            "└─IndexReader_17  root  10000.00    index:IndexFullScan_16",
            "  └─IndexFullScan_16  cop[tikv]  10000.00  table:t, index:a(a)  keep order:false, stats:pseudo"
          ],
          [
            "StreamAgg_20  root  1.00    funcs:count(Column#10)->Column#5",
            "└─IndexReader_21  root  1.00    index:StreamAgg_8",
            "  └─StreamAgg_8  cop[tikv]  1.00    funcs:count(1)->Column#10",
            "    └─IndexFullScan_19  cop[tikv]  10000.00  table:t, index:a(a)  keep order:false, stats:pseudo"
          ],
          [
            "StreamAgg_9  root  1.00    funcs:count(1)->Column#5",
            "└─TableReader_23  root  10000.00    data:TableFullScan_22",
            "  └─TableFullScan_22  cop[tikv]  10000.00  table:t  keep order:false, stats:pseudo"
          ],
          [
            "StreamAgg_20  root  1.00    funcs:count(Column#10)->Column#5",
            "└─TableReader_21  root  1.00    data:StreamAgg_8",
            "  └─StreamAgg_8  cop[tikv]  1.00    funcs:count(1)->Column#10",
            "    └─TableFullScan_18  cop[tikv]  10000.00  table:t  keep order:false, stats:pseudo"
          ],
          [
            "HashAgg_7  root  1.00    funcs:count(1)->Column#5",
            "└─TableReader_15  root  10000.00    data:TableFullScan_14",
            "  └─TableFullScan_14  cop[tikv]  10000.00  table:t  keep order:false, stats:pseudo"
          ],
          [
            "StreamAgg_9  root  1.00    funcs:count(1)->Column#5",
            "└─IndexReader_25  root  10000.00    index:IndexFullScan_24",
            "  └─IndexFullScan_24  cop[tikv]  10000.00  table:t, index:a(a)  keep order:false, stats:pseudo"
          ],
          [
            "HashAgg_12  root  1.00    funcs:count(Column#7)->Column#5",
            "└─TableReader_13  root  1.00    data:HashAgg_5",
            "  └─HashAgg_5  cop[tikv]  1.00    funcs:count(1)->Column#7",
            "    └─TableFullScan_10  cop[tikv]  10000.00  table:t  keep order:false, stats:pseudo"
          ]
        ]
      },
      {
        "SQL": "explain explore select max(b) from t where a=1",
        "Plan": [
          [
            "StreamAgg_11  root  1.00    funcs:max(test.t.b)->Column#5",
            "└─TopN_13  root  1.00    test.t.b:desc, offset:0, count:1",
            "  └─IndexLookUp_21  root  1.00    ",
            "    ├─IndexRangeScan_17(Build)  cop[tikv]  10.00  table:t, index:a(a)  range:[1,1], keep order:false, stats:pseudo",
            "    └─TopN_20(Probe)  cop[tikv]  1.00    test.t.b:desc, offset:0, count:1",
            "      └─Selection_19  cop[tikv]  9.99    not(isnull(test.t.b))",
            "        └─TableRowIDScan_18  cop[tikv]  10.00  table:t  keep order:false, stats:pseudo"
          ],
          [
            "HashAgg_10  root  1.00    funcs:max(test.t.b)->Column#5",
            "└─TopN_13  root  1.00    test.t.b:desc, offset:0, count:1",
            "  └─IndexLookUp_21  root  1.00    ",
            "    ├─IndexRangeScan_17(Build)  cop[tikv]  10.00  table:t, index:a(a)  range:[1,1], keep order:false, stats:pseudo",
            "    └─TopN_20(Probe)  cop[tikv]  1.00    test.t.b:desc, offset:0, count:1",
            "      └─Selection_19  cop[tikv]  9.99    not(isnull(test.t.b))",
            "        └─TableRowIDScan_18  cop[tikv]  10.00  table:t  keep order:false, stats:pseudo"
          ]
        ]
      }
    ]
  }
]
