// Copyright 2015 PingCAP, Inc.
//
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//
//     http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// See the License for the specific language governing permissions and
// limitations under the License.

package mysql

import (
	"github.com/pingcap/tidb/pkg/errno"
)

const (
	// DefaultMySQLState is default state of the mySQL
	DefaultMySQLState = "HY000"
)

// MySQLState maps error code to MySQL SQLSTATE value.
// The values are taken from ANSI SQL and ODBC and are more standardized.
var MySQLState = map[uint16]string{
	errno.ErrDupKey:                              "23000",
	errno.ErrOutofMemory:                         "HY001",
	errno.ErrOutOfSortMemory:                     "HY001",
	errno.ErrConCount:                            "08004",
	errno.ErrBadHost:                             "08S01",
	errno.ErrHandshake:                           "08S01",
	errno.ErrDBaccessDenied:                      "42000",
	errno.ErrAccessDenied:                        "28000",
	errno.ErrNoDB:                                "3D000",
	errno.ErrUnknownCom:                          "08S01",
	errno.ErrBadNull:                             "23000",
	errno.ErrBadDB:                               "42000",
	errno.ErrTableExists:                         "42S01",
	errno.ErrBadTable:                            "42S02",
	errno.ErrNonUniq:                             "23000",
	errno.ErrServerShutdown:                      "08S01",
	errno.ErrBadField:                            "42S22",
	errno.ErrFieldNotInGroupBy:                   "42000",
	errno.ErrWrongSumSelect:                      "42000",
	errno.ErrWrongGroupField:                     "42000",
	errno.ErrWrongValueCount:                     "21S01",
	errno.ErrTooLongIdent:                        "42000",
	errno.ErrDupFieldName:                        "42S21",
	errno.ErrDupKeyName:                          "42000",
	errno.ErrDupEntry:                            "23000",
	errno.ErrWrongFieldSpec:                      "42000",
	errno.ErrParse:                               "42000",
	errno.ErrEmptyQuery:                          "42000",
	errno.ErrNonuniqTable:                        "42000",
	errno.ErrInvalidDefault:                      "42000",
	errno.ErrMultiplePriKey:                      "42000",
	errno.ErrTooManyKeys:                         "42000",
	errno.ErrTooManyKeyParts:                     "42000",
	errno.ErrTooLongKey:                          "42000",
	errno.ErrKeyColumnDoesNotExits:               "42000",
	errno.ErrBlobUsedAsKey:                       "42000",
	errno.ErrJSONDocumentTooDeep:                 "22032",
	errno.ErrTooBigFieldlength:                   "42000",
	errno.ErrWrongAutoKey:                        "42000",
	errno.ErrForcingClose:                        "08S01",
	errno.ErrIpsock:                              "08S01",
	errno.ErrNoSuchIndex:                         "42S12",
	errno.ErrWrongFieldTerminators:               "42000",
	errno.ErrBlobsAndNoTerminated:                "42000",
	errno.ErrCantRemoveAllFields:                 "42000",
	errno.ErrCantDropFieldOrKey:                  "42000",
	errno.ErrBlobCantHaveDefault:                 "42000",
	errno.ErrWrongDBName:                         "42000",
	errno.ErrWrongTableName:                      "42000",
	errno.ErrTooBigSelect:                        "42000",
	errno.ErrUnknownProcedure:                    "42000",
	errno.ErrWrongParamcountToProcedure:          "42000",
	errno.ErrUnknownTable:                        "42S02",
	errno.ErrFieldSpecifiedTwice:                 "42000",
	errno.ErrUnsupportedExtension:                "42000",
	errno.ErrTableMustHaveColumns:                "42000",
	errno.ErrUnknownCharacterSet:                 "42000",
	errno.ErrTooBigRowsize:                       "42000",
	errno.ErrWrongOuterJoin:                      "42000",
	errno.ErrNullColumnInIndex:                   "42000",
	errno.ErrPasswordAnonymousUser:               "42000",
	errno.ErrPasswordNotAllowed:                  "42000",
	errno.ErrPasswordNoMatch:                     "42000",
	errno.ErrWrongValueCountOnRow:                "21S01",
	errno.ErrInvalidUseOfNull:                    "22004",
	errno.ErrRegexp:                              "42000",
	errno.ErrMixOfGroupFuncAndFields:             "42000",
	errno.ErrNonexistingGrant:                    "42000",
	errno.ErrTableaccessDenied:                   "42000",
	errno.ErrColumnaccessDenied:                  "42000",
	errno.ErrIllegalGrantForTable:                "42000",
	errno.ErrGrantWrongHostOrUser:                "42000",
	errno.ErrNoSuchTable:                         "42S02",
	errno.ErrNonexistingTableGrant:               "42000",
	errno.ErrNotAllowedCommand:                   "42000",
	errno.ErrSyntax:                              "42000",
	errno.ErrAbortingConnection:                  "08S01",
	errno.ErrNetPacketTooLarge:                   "08S01",
	errno.ErrNetReadErrorFromPipe:                "08S01",
	errno.ErrNetFcntl:                            "08S01",
	errno.ErrNetPacketsOutOfOrder:                "08S01",
	errno.ErrNetUncompress:                       "08S01",
	errno.ErrNetRead:                             "08S01",
	errno.ErrNetReadInterrupted:                  "08S01",
	errno.ErrNetErrorOnWrite:                     "08S01",
	errno.ErrNetWriteInterrupted:                 "08S01",
	errno.ErrTooLongString:                       "42000",
	errno.ErrTableCantHandleBlob:                 "42000",
	errno.ErrTableCantHandleAutoIncrement:        "42000",
	errno.ErrWrongColumnName:                     "42000",
	errno.ErrWrongKeyColumn:                      "42000",
	errno.ErrDupUnique:                           "23000",
	errno.ErrBlobKeyWithoutLength:                "42000",
	errno.ErrPrimaryCantHaveNull:                 "42000",
	errno.ErrTooManyRows:                         "42000",
	errno.ErrRequiresPrimaryKey:                  "42000",
	errno.ErrKeyDoesNotExist:                     "42000",
	errno.ErrCheckNoSuchTable:                    "42000",
	errno.ErrCheckNotImplemented:                 "42000",
	errno.ErrCantDoThisDuringAnTransaction:       "25000",
	errno.ErrNewAbortingConnection:               "08S01",
	errno.ErrTooManyUserConnections:              "42000",
	errno.ErrReadOnlyTransaction:                 "25000",
	errno.ErrNoPermissionToCreateUser:            "42000",
	errno.ErrLockDeadlock:                        "40001",
	errno.ErrNoReferencedRow:                     "23000",
	errno.ErrRowIsReferenced:                     "23000",
	errno.ErrWrongNumberOfColumnsInSelect:        "21000",
	errno.ErrUserLimitReached:                    "42000",
	errno.ErrSpecificAccessDenied:                "42000",
	errno.ErrNoDefault:                           "42000",
	errno.ErrWrongValueForVar:                    "42000",
	errno.ErrWrongTypeForVar:                     "42000",
	errno.ErrCantUseOptionHere:                   "42000",
	errno.ErrNotSupportedYet:                     "42000",
	errno.ErrWrongFkDef:                          "42000",
	errno.ErrOperandColumns:                      "21000",
	errno.ErrSubqueryNo1Row:                      "21000",
	errno.ErrIllegalReference:                    "42S22",
	errno.ErrDerivedMustHaveAlias:                "42000",
	errno.ErrSelectReduced:                       "01000",
	errno.ErrTablenameNotAllowedHere:             "42000",
	errno.ErrNotSupportedAuthMode:                "08004",
	errno.ErrSpatialCantHaveNull:                 "42000",
	errno.ErrCollationCharsetMismatch:            "42000",
	errno.ErrWarnTooFewRecords:                   "01000",
	errno.ErrWarnTooManyRecords:                  "01000",
	errno.ErrWarnNullToNotnull:                   "22004",
	errno.ErrWarnDataOutOfRange:                  "22003",
	errno.WarnDataTruncated:                      "01000",
	errno.ErrWrongNameForIndex:                   "42000",
	errno.ErrWrongNameForCatalog:                 "42000",
	errno.ErrUnknownStorageEngine:                "42000",
	errno.ErrTruncatedWrongValue:                 "22007",
	errno.ErrSpNoRecursiveCreate:                 "2F003",
	errno.ErrSpAlreadyExists:                     "42000",
	errno.ErrSpDoesNotExist:                      "42000",
	errno.ErrSpLilabelMismatch:                   "42000",
	errno.ErrSpLabelRedefine:                     "42000",
	errno.ErrSpLabelMismatch:                     "42000",
	errno.ErrSpUninitVar:                         "01000",
	errno.ErrSpBadselect:                         "0A000",
	errno.ErrSpBadreturn:                         "42000",
	errno.ErrSpBadstatement:                      "0A000",
	errno.ErrUpdateLogDeprecatedIgnored:          "42000",
	errno.ErrUpdateLogDeprecatedTranslated:       "42000",
	errno.ErrQueryInterrupted:                    "70100",
	errno.ErrSpWrongNoOfArgs:                     "42000",
	errno.ErrSpCondMismatch:                      "42000",
	errno.ErrSpNoreturn:                          "42000",
	errno.ErrSpNoreturnend:                       "2F005",
	errno.ErrSpBadCursorQuery:                    "42000",
	errno.ErrSpBadCursorSelect:                   "42000",
	errno.ErrSpCursorMismatch:                    "42000",
	errno.ErrSpCursorAlreadyOpen:                 "24000",
	errno.ErrSpCursorNotOpen:                     "24000",
	errno.ErrSpUndeclaredVar:                     "42000",
	errno.ErrSpFetchNoData:                       "02000",
	errno.ErrSpDupParam:                          "42000",
	errno.ErrSpDupVar:                            "42000",
	errno.ErrSpDupCond:                           "42000",
	errno.ErrSpDupCurs:                           "42000",
	errno.ErrSpSubselectNyi:                      "0A000",
	errno.ErrStmtNotAllowedInSfOrTrg:             "0A000",
	errno.ErrSpVarcondAfterCurshndlr:             "42000",
	errno.ErrSpCursorAfterHandler:                "42000",
	errno.ErrSpCaseNotFound:                      "20000",
	errno.ErrDivisionByZero:                      "22012",
	errno.ErrIllegalValueForType:                 "22007",
	errno.ErrProcaccessDenied:                    "42000",
	errno.ErrXaerNota:                            "XAE04",
	errno.ErrXaerInval:                           "XAE05",
	errno.ErrXaerRmfail:                          "XAE07",
	errno.ErrXaerOutside:                         "XAE09",
	errno.ErrXaerRmerr:                           "XAE03",
	errno.ErrXaRbrollback:                        "XA100",
	errno.ErrNonexistingProcGrant:                "42000",
	errno.ErrDataTooLong:                         "22001",
	errno.ErrSpBadSQLstate:                       "42000",
	errno.ErrCantCreateUserWithGrant:             "42000",
	errno.ErrSpDupHandler:                        "42000",
	errno.ErrSpNotVarArg:                         "42000",
	errno.ErrSpNoRetset:                          "0A000",
	errno.ErrCantCreateGeometryObject:            "22003",
	errno.ErrTooBigScale:                         "42000",
	errno.ErrTooBigPrecision:                     "42000",
	errno.ErrMBiggerThanD:                        "42000",
	errno.ErrTooLongBody:                         "42000",
	errno.ErrTooBigDisplaywidth:                  "42000",
	errno.ErrXaerDupid:                           "XAE08",
	errno.ErrDatetimeFunctionOverflow:            "22008",
	errno.ErrRowIsReferenced2:                    "23000",
	errno.ErrNoReferencedRow2:                    "23000",
	errno.ErrSpBadVarShadow:                      "42000",
	errno.ErrSpWrongName:                         "42000",
	errno.ErrSpNoAggregate:                       "42000",
	errno.ErrMaxPreparedStmtCountReached:         "42000",
	errno.ErrNonGroupingFieldUsed:                "42000",
	errno.ErrForeignDuplicateKeyOldUnused:        "23000",
	errno.ErrCantChangeTxCharacteristics:         "25001",
	errno.ErrWrongParamcountToNativeFct:          "42000",
	errno.ErrWrongParametersToNativeFct:          "42000",
	errno.ErrWrongParametersToStoredFct:          "42000",
	errno.ErrDupEntryWithKeyName:                 "23000",
	errno.ErrXaRbtimeout:                         "XA106",
	errno.ErrXaRbdeadlock:                        "XA102",
	errno.ErrFuncInexistentNameCollision:         "42000",
	errno.ErrDupSignalSet:                        "42000",
	errno.ErrSignalWarn:                          "01000",
	errno.ErrSignalNotFound:                      "02000",
	errno.ErrSignalException:                     "HY000",
	errno.ErrResignalWithoutActiveHandler:        "0K000",
	errno.ErrSpatialMustHaveGeomCol:              "42000",
	errno.ErrDataOutOfRange:                      "22003",
	errno.ErrAccessDeniedNoPassword:              "28000",
	errno.ErrTruncateIllegalForeignKey:           "42000",
	errno.ErrDaInvalidConditionNumber:            "35000",
	errno.ErrForeignDuplicateKeyWithChildInfo:    "23000",
	errno.ErrForeignDuplicateKeyWithoutChildInfo: "23000",
	errno.ErrCantExecuteInReadOnlyTransaction:    "25006",
	errno.ErrAlterOperationNotSupported:          "0A000",
	errno.ErrAlterOperationNotSupportedReason:    "0A000",
	errno.ErrDupUnknownInIndex:                   "23000",
	errno.ErrBadGeneratedColumn:                  "HY000",
	errno.ErrUnsupportedOnGeneratedColumn:        "HY000",
	errno.ErrGeneratedColumnNonPrior:             "HY000",
	errno.ErrDependentByGeneratedColumn:          "HY000",
	errno.ErrInvalidJSONText:                     "22032",
	errno.ErrInvalidJSONTextInParam:              "22032",
	errno.ErrInvalidJSONPath:                     "42000",
	errno.ErrInvalidJSONCharset:                  "22032",
	errno.ErrInvalidJSONData:                     "22032",
	errno.ErrInvalidJSONPathMultipleSelection:    "42000",
	errno.ErrJSONUsedAsKey:                       "42000",
	errno.ErrJSONVacuousPath:                     "42000",
	errno.ErrJSONBadOneOrAllArg:                  "42000",
	errno.ErrJSONDocumentNULLKey:                 "22032",
	errno.ErrInvalidJSONPathArrayCell:            "42000",
	errno.ErrInvalidTypeForJSON:                  "22032",
	errno.ErrInvalidJSONValueForFuncIndex:        "22018",
	errno.ErrInvalidJSONType:                     "22032",
}
