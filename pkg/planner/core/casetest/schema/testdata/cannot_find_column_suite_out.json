[
  {
    "Name": "TestSchemaCannotFindColumnRegression",
    "Cases": [
      {
        "SQL": "SELECT /* issue:66272 */ id AS t0_id FROM t1 JOIN t3 USING (id) WHERE (((t3.d1 = '2024-04-29') AND (t3.id = 10)) AND (t1.k0 = 93)) AND (t3.k0 = ALL (SELECT t3.k0 AS c0 FROM t3 WHERE t3.k0 = 749))",
        "Plan": [
          "HashJoin 0.80 root  CARTESIAN inner join, other cond:or(and(le(Column#19, 1), and(eq(test.t3.k0, Column#18), if(ne(Column#20, 0), NULL, 1))), eq(Column#21, 0))",
          "├─MergeJoin(Build) 1.00 root  inner join, left key:test.t1.id, right key:test.t3.id",
          "│ ├─Selection(Build) 1.00 root  eq(test.t3.d1, 2024-04-29 00:00:00.000000)",
          "│ │ └─Point_Get 1.00 root table:t3 handle:10",
          "│ └─Selection(Probe) 1.00 root  eq(test.t1.k0, 93)",
          "│   └─Point_Get 1.00 root table:t1 handle:10",
          "└─Selection(Probe) 0.80 root  or(and(le(Column#19, 1), if(ne(Column#20, 0), NULL, 1)), eq(Column#21, 0))",
          "  └─StreamAgg 1.00 root  funcs:max(test.t3.k0)->Column#18, funcs:count(distinct test.t3.k0)->Column#19, funcs:sum(0)->Column#20, funcs:count(1)->Column#21",
          "    └─TableReader 10.00 root  data:Selection",
          "      └─Selection 10.00 cop[tikv]  eq(test.t3.k0, 749)",
          "        └─TableFullScan 10000.00 cop[tikv] table:t3 keep order:false, stats:pseudo"
        ],
        "Result": [
          "10"
        ]
      }
    ]
  }
]
